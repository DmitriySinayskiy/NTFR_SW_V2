"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d1b1255f-2188-5db3-b8fc-870c0779575e")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7415],{400439:(e,t,n)=>{n.d(t,{MC:()=>r,S1:()=>o,UW:()=>a,Vc:()=>l,jP:()=>s,p0:()=>i});let r="component_panel--titleButtons--R-kU7",a="component_panel--componentControlsButton--O969g",o="component_panel--componentPanel--aKD1Q",l="component_panel--ui3ComponentRenameInputRow--nU8OK",i="component_panel--ui3ComponentRenameUnfocusedInputOverride--n2SfL",s="component_panel--ui3PanelHeaderRow--hU6q6 props_panel--ui3PanelHeaderRow--Ab8Jz"},687881:(e,t,n)=>{n.d(t,{$C:()=>i,$s:()=>I,AQ:()=>S,Bt:()=>h,EA:()=>p,I0:()=>c,Kg:()=>N,Ki:()=>T,LO:()=>r,MC:()=>b,Mx:()=>O,N1:()=>_,Og:()=>R,Qp:()=>o,VM:()=>w,We:()=>s,Wf:()=>k,YF:()=>l,Z0:()=>a,cZ:()=>x,iB:()=>y,l_:()=>A,me:()=>m,ns:()=>C,qw:()=>f,sK:()=>u,t4:()=>g,u$:()=>v,vF:()=>E,vS:()=>d});let r="instance_panel--panelTitleRow--TN-S6",a="instance_panel--collapsibleTitleRow--YQUPk",o="instance_panel--instanceNameContainer--DjJ1a",l="instance_panel--isInComponentPlayground--jSk5E",i="instance_panel--instanceIcon--9Rb3Q",s="instance_panel--pickerButtonText--37jAr ellipsis--ellipsis--Tjyfa",c="instance_panel--propPillContainer--uUMdd",d="instance_panel--pickerButton--aETR-",u="instance_panel--selectedPickerButton--PqYr4",p="instance_panel--sublayerPanelWithHover--jgbud",m="instance_panel--sublayerPanelMixedState--h9Vb4",g="instance_panel--chevronIcon--0j2aS",f="instance_panel--viewOnlyPickerButton--70Wl5 instance_panel--pickerButton--aETR-",_="instance_panel--selectInstanceIcon--9lKUr",h="instance_panel--ui3InstanceNameContainer--2BVOa instance_panel--instanceNameContainer--DjJ1a",E="instance_panel--instanceNameTitle--khSFz ellipsis--ellipsis--Tjyfa",y="instance_panel--ui3InstanceNameTitle--RLDS5 ellipsis--ellipsis--Tjyfa",v="instance_panel--instanceNameTitleWide--InQRA instance_panel--instanceNameTitle--khSFz ellipsis--ellipsis--Tjyfa",b="instance_panel--titleButtons--8ha4T",w="instance_panel--dropdownOption--g0g2W",T="instance_panel--restoreComponentButtonRow--zPAzH",N="instance_panel--restoreComponentButton--kkxan",I="instance_panel--missingVariantErrorBox--Dvch2",S="instance_panel--missingVariantDescription--1OogA",C="instance_panel--missingVariantButtonContainer--T5wE1",x="instance_panel--missingVariantButton--WgVP5",A="instance_panel--updateIcon--4lm0w",R="instance_panel--propsContainer--CPc3n",k="instance_panel--bubbledInstancePropSection--9PzLJ",O="instance_panel--instancePanel--QoDrU"},435091:(e,t,n)=>{n.d(t,{Df:()=>c,I0:()=>o,RK:()=>l,TQ:()=>u,UZ:()=>d,ai:()=>s,dY:()=>i,jK:()=>r,ke:()=>a});let r="layer_panel--blendMode--ze-EB",a="layer_panel--opacity--8b7LU",o="layer_panel--propPillContainer--HA1XZ",l="layer_panel--visible--O8HLY",i="layer_panel--visibleHintIcon--40eBB",s="layer_panel--chevron--UUQ0D",c="layer_panel--blendModeInput--46kUO",d="layer_panel--variableSetModeInput--SQzwi",u="layer_panel--opacityVar--wSBBb"},832039:(e,t,n)=>{n.d(t,{$k:()=>a,EH:()=>l,Kk:()=>s,gw:()=>o,hF:()=>i,kL:()=>r});let r="panel_title_input--container--zi38f",a="panel_title_input--originalValue--m9A5M",o="panel_title_input--uneditableOriginalValue--On4-3 panel_title_input--originalValue--m9A5M",l="panel_title_input--originalValueText--HfAix sf_pro--uiFontWithSFProFallback--m-p9V",i="panel_title_input--input--Go0Lh raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t sf_pro--uiFontWithSFProFallback--m-p9V",s="panel_title_input--icon--nfisf"},641160:(e,t,n)=>{n.d(t,{$L:()=>A,A7:()=>L,By:()=>v,FY:()=>C,Fo:()=>_,I1:()=>X,IU:()=>j,Jq:()=>l,KE:()=>c,Lp:()=>f,Mf:()=>N,OI:()=>d,Oh:()=>M,Ov:()=>J,Ph:()=>i,R:()=>h,T0:()=>V,UN:()=>Z,Yg:()=>P,Zp:()=>H,a8:()=>q,aT:()=>R,aj:()=>W,dn:()=>b,eh:()=>y,ek:()=>a,eu:()=>g,ew:()=>s,gF:()=>k,gq:()=>p,gv:()=>O,hv:()=>T,iV:()=>S,j6:()=>G,jG:()=>m,kb:()=>D,lf:()=>E,mp:()=>r,pb:()=>ee,qq:()=>$,rq:()=>x,s5:()=>B,tM:()=>u,tU:()=>U,tq:()=>K,ux:()=>o,wQ:()=>Q,wR:()=>F,yR:()=>I,yW:()=>w,yc:()=>z,zU:()=>Y});let r="properties_panel--focusManager--iZVd8",a="properties_panel--hideOnFocus--ZF9Cv",o="properties_panel--panelPosition--oppQ8",l="properties_panel--withAnimation--ociZy",i="properties_panel--withInsetEditorEnabled--ahDM-",s="properties_panel--insetForRulers--rk7or",c="properties_panel--panelContainer--cKjqh",d="properties_panel--shareButton--QK9z-",u="properties_panel--panelContainerCollapsedWithBackground--9UCfA",p="properties_panel--scrollOuterContainer--rxp11",m="properties_panel--scrollContainer--o2LxW",g="properties_panel--panelContainerLoading--wdXCI",f="properties_panel--drillDownContainer--VaNDa",_="properties_panel--withInProductHelpSidePanelOpen--wZUFI",h="properties_panel--hidden--JXxwt",E="properties_panel--externalStyleLink--NJGQN",y="properties_panel--propertiesPanel--BQ7Lw",v="properties_panel--propertiesPanelNoTabs--xP4a6",b="properties_panel--propertiesPanelCollapsed--XjWdJ",w="properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",T="properties_panel--tabsHeaderBordered--UTQmW properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",N="properties_panel--tab--G8lIz pages_panel--tab--Uge5B",I="properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",S="properties_panel--tabActiveSingle--wUXVu properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",C="properties_panel--stylePreviewContainer--KAG5V",x="properties_panel--ui3ToolbarPanel--jj-VE",A="properties_panel--ui3ToolbarForPanelHeader--1QBL6",R="properties_panel--ui3PanelHeaderWithInstancePanel--XRk3f",k="properties_panel--ui3SelectionActionsContainer---7oX-",O="properties_panel--dropdownInput--EOia1",P="properties_panel--panelHeaderControls--oFMeq",D="properties_panel--left--1pgjP",M="properties_panel--rightButtons--aG2jP",L="properties_panel--fullHeightSidebarTabsHeader--PHP85",K="properties_panel--fullHeightSidebarTabs--WP5tu pages_panel--tabsHeader--ez-pH",F="properties_panel--zoomMenuContainer--GW3DS",B="properties_panel--instanceDropdownOverrides--8wA5k",U="properties_panel--ui3AvatarLoadingRowContainer--3WQ-5",z="properties_panel--bumpSelectChevronToLeft--7Xcx3",V="properties_panel--ui3FrameLayerHeaderSelect--eG1lv",H="properties_panel--ui3ToolbarItemsMixedText--77Auf",X="properties_panel--ui3UnfocusedRenameComponentInputOverrides--ZCc0j",G="properties_panel--ui3FocusedRenameComponentInputOverrides--GYahZ",W="properties_panel--ui3NodeTypeDisplay--1I8ks ellipsis--ellipsis--Tjyfa",$="properties_panel--ui3HiddenOnboardingTarget--dNILG",Y="properties_panel--dialogTriggerButton--7xDVp",j="properties_panel--instanceNeedsUpdatesIcon--NLnYQ",q="properties_panel--recordingButton--abkhq",J="properties_panel--recordingButtonActive--ptAfB properties_panel--recordingButton--abkhq",Z="properties_panel--recordingsEntrypointWindowPosition--QvGDw",Q="properties_panel--broadcastDropdownPosition--h2V5V",ee="properties_panel--fullViewportBroadcastClose--h4wE2"},866577:(e,t,n)=>{n.d(t,{Je:()=>r,Y9:()=>l,YV:()=>i,dJ:()=>a,jN:()=>s,os:()=>o});let r="240px",a="independent_corner_radius_modal--cornerRadiusContent--DPDSk",o="independent_corner_radius_modal--independentCornerPanel--WDoVj independent_corner_radius_modal--cornerRadiusModalContent--sopW9",l="independent_corner_radius_modal--cornerSmoothingPanel--fUaKb independent_corner_radius_modal--cornerRadiusModalContent--sopW9",i="independent_corner_radius_modal--cornerSmoothingTitle--WTrG6",s="independent_corner_radius_modal--cornerSmoothingContainer--DTnrk"},664241:(e,t,n)=>{n.d(t,{$6:()=>a,G:()=>d,Ig:()=>i,Z7:()=>c,cF:()=>u,l_:()=>l,mq:()=>o,nM:()=>s,o3:()=>r});let r="variable_mode_entries--variableSetName--hmoV4",a="variable_mode_entries--ui3VariableSetName--eqW9C variable_mode_entries--variableSetName--hmoV4",o="variable_mode_entries--variableSetModeSelect--P6crF",l="variable_mode_entries--updateIcon--BNz-S",i="variable_mode_entries--dropdownDescription--OQef0",s="variable_mode_entries--row--8OoWO",c="variable_mode_entries--infoIconContainer--DmUPj",d="variable_mode_entries--infoIcon--JylKl",u="variable_mode_entries--infoOption--fKiWW"},706607:(e,t,n)=>{n.r(t),n.d(t,{activeButton:()=>i,chevron:()=>y,delightfulMenu:()=>c,disabledButton:()=>l,disabledFullHeightSidebarFlyout:()=>m,enabledButton:()=>o,flyout:()=>d,flyoutButton:()=>g,flyoutDropdownShown:()=>u,fullHeightSidebarFlyout:()=>p,fullHeightSidebarFlyoutButton:()=>_,fullHeightSidebarFlyoutChevron:()=>f,fullHeightSidebarFlyoutDropdownShown:()=>h,grid:()=>E,largeDisplayDropdown:()=>v,pointingDropdown:()=>s,selected:()=>a,updatesBadge:()=>r});let r="toolbar_styles--updatesBadge--NbkFp",a="toolbar_styles--selected--zUa6K",o="toolbar_styles--enabledButton--fEwmC",l="toolbar_styles--disabledButton--wv8Iu",i="toolbar_styles--activeButton--YHzcB",s="toolbar_styles--pointingDropdown--6rrL3",c="toolbar_styles--delightfulMenu--A6bY7",d="toolbar_styles--flyout--S3qfl",u="toolbar_styles--flyoutDropdownShown--WU8JV",p="toolbar_styles--fullHeightSidebarFlyout--d9LJ3 toolbar_styles--flyout--S3qfl",m="toolbar_styles--disabledFullHeightSidebarFlyout--hBPDA",g="toolbar_styles--flyoutButton--lyOUg",f="toolbar_styles--fullHeightSidebarFlyoutChevron--aENEg",_="toolbar_styles--fullHeightSidebarFlyoutButton--dU4LR toolbar_styles--flyout--S3qfl",h="toolbar_styles--fullHeightSidebarFlyoutDropdownShown--rT9w3 toolbar_styles--flyoutDropdownShown--WU8JV",E="toolbar_styles--grid--M8sVG",y="toolbar_styles--chevron--3YF14",v="toolbar_styles--largeDisplayDropdown--yFQ1V"},447798:(e,t,n)=>{n.d(t,{AQ:()=>g,Er:()=>A,Ex:()=>f,GC:()=>i,Jg:()=>a,KE:()=>r,Lq:()=>o,Pf:()=>v,R:()=>l,TE:()=>N,U:()=>h,V3:()=>p,WT:()=>E,XA:()=>d,Xs:()=>m,YT:()=>R,Zm:()=>I,by:()=>x,dM:()=>b,e1:()=>C,eh:()=>S,gb:()=>_,gt:()=>c,l3:()=>s,q3:()=>y,uX:()=>w,yM:()=>u,yT:()=>T});let r="toolbar_view--toolbar--RuPI6",a="toolbar_view--figjamBorder--KF3VY",o="toolbar_view--loading--fU68L",l="toolbar_view--hidden--eM-fR",i="toolbar_view--buttonGroup--UA9-B",s="toolbar_view--leftButtonGroup--qkjBh",c="toolbar_view--rightButtonGroup--weV86",d="toolbar_view--overviewRightButtonGroup--nPoWM",u="toolbar_view--hideTools--No4T8",p="toolbar_view--centerButtonGroup--kxpQA",m="toolbar_view--cachedFilenameViewSubtree--JoP3h",g="toolbar_view--menuButton--nAIP3",f="toolbar_view--unclickableMenuButtonUI3--Zzd1A",_="toolbar_view--iconButton--1MUm6",h="toolbar_view--wide--Mpb1c",E="toolbar_view--actionButtonContainer--7fDmd",y="toolbar_view--actionButtonBadge--2cmhk",v="toolbar_view--label--O5fOT ellipsis--ellipsis--Tjyfa",b="toolbar_view--textButtonContainer--17OKy",w="toolbar_view--textButton--THnFZ basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",T="toolbar_view--toolButtonContainer--IRGt-",N="toolbar_view--unreadDotActive--KHyuc",I="toolbar_view--unreadDot--zuWYA",S="toolbar_view--loginButton--kH7Jx",C="toolbar_view--unsavedChangesIconContainer--zEmEv",x="toolbar_view--unsavedChangesIcon--rYfws",A="toolbar_view--missingFontSvg--hHv5S",R="toolbar_view--focusModeVariantsToggleActiveButton--VqPiO"},384890:(e,t,n)=>{n.d(t,{DX:()=>c,Dg:()=>o,FS:()=>i,Fx:()=>u,Kc:()=>d,Kd:()=>a,NJ:()=>p,Sl:()=>l,ZQ:()=>s,_2:()=>f,cC:()=>_,jH:()=>m,mV:()=>g,tQ:()=>r});let r="google_device_try_file_modal--googleDeviceClaimModal--SnMzX",a="google_device_try_file_modal--googleDeviceReceivedEmailModal--wvtHu",o="google_device_try_file_modal--imgContainer--4BUIg",l="google_device_try_file_modal--image--u4Tnt",i="google_device_try_file_modal--textContainer--GamBO",s="google_device_try_file_modal--googleDeviceImage--xfwpW",c="google_device_try_file_modal--googleDeviceClaimHeader--K6jxS text--fontPos20--Bcz97 text--_fontBase--QdLsd",d="google_device_try_file_modal--googleDeviceClaimSubtitle--Whve5 text--fontPos13--xW8hS text--_fontBase--QdLsd",u="google_device_try_file_modal--googleDeviceClaimSubtitleBold--X6Koc text--fontPos13--xW8hS text--_fontBase--QdLsd",p="google_device_try_file_modal--googleDeviceClaimDisclaimer--6nB4d text--fontPos12--YsUAh text--_fontBase--QdLsd",m="google_device_try_file_modal--googleDeviceClaimInlineLink--oLkX-",g="google_device_try_file_modal--googleDeviceClaimError--Ogemp text--fontPos14--OL9Hp text--_fontBase--QdLsd",f="google_device_try_file_modal--googleDeviceClaimInput--9V2zI",_="google_device_try_file_modal--googleDeviceClaimInputError--PsSOq"},384252:(e,t,n)=>{function r(){return null}n.d(t,{Ug:()=>i,Wr:()=>a,a8:()=>l,e4:()=>o,e_:()=>s});let a=r,o=r,l=r,i=r,s=r},987067:(e,t,n)=>{n.d(t,{HQ:()=>a,K2:()=>r,U9:()=>o});let r=function(){return!1},a=function(){return!1},o=function(){return!1}},626217:(e,t,n)=>{n.d(t,{i:()=>s,s:()=>i});var r=n(587670),a=n(794272),o=n(964881),l=n(227944);function i(e=!0){let t=(0,l.Ku)(["add-selection-ready-status","remove-selection-status"]);return t["add-selection-ready-status"]||t["remove-selection-status"]&&!e}function s(e){let t=(0,a.R)(e=>e.mirror.appModel.activeCanvasEditModeType),n=(0,o.l7)();return!!e&&(t===r.m1T.DEV_HANDOFF||t===r.m1T.DEV_HANDOFF_HISTORY||n)&&(e.isFrame||e.isSymbol||e.isSection)}},155497:(e,t,n)=>{function r(e){try{return new URL(e),!0}catch(e){return!1}}function a(e){return e.startsWith("http://")||e.startsWith("https://")}n.d(t,{G:()=>r,H:()=>a})},236478:(e,t,n)=>{n.d(t,{r:()=>c});var r=n(980820),a=n(293017),o=n(286954),l=n(411294),i=n(906899),s=n(169231);let c=(0,r.nF)(e=>{let t=e.getState();t.pickerShown&&e.dispatch(a.XE()),t.instanceSwapPickerShown&&e.dispatch((0,o.vq)()),t.stylePickerShown&&e.dispatch(a.Uv()),t.stylePreviewShown&&e.dispatch(i.sw()),t.variablePickerShown?.isShown&&e.dispatch((0,s.B)()),t.pickerInStyleCreationShown&&e.dispatch((0,l.w)())})},838e3:(e,t,n)=>{n.d(t,{Q:()=>_,S:()=>h});var r=n(130097),a=n(711525),o=n(776621),l=n(27087),i=n(881388),s=n(939863),c=n(392592),d=n(279453),u=n(320741),p=n(877627),m=n(280945),g=n(980820),f=n(507877);let _=(0,g.nF)(async(e,t,{loadingKey:n})=>{let l=!1;try{l=!!(0,a.oA)((await (0,r.Ek)(d.jmg,{fileKey:t.file_key})).deviceTryFile)}catch(e){(0,o.x1)("claimFigJamTryFile","Request failed for fetching LG DeviceTryFileView",e,{reportAsSentryError:!0})}try{let r;r=l?m.L.claimDeviceFile({fileKey:t.file_key}):p.Uy.claimTryFile({fileKey:t.file_key}),(0,u.N)(r,e,n);let{data:a}=await r,{save_location:o,folder_name:i,org_id:d}=a.meta,{user:g,currentUserOrgId:_,selectedView:h}=e.getState(),E=(0,s.t)("figjam_try.this_file_has_been_saved_to_drafts");if("team"===o&&i&&(E=(0,s.t)("figjam_try.this_file_has_been_saved_to_folder_name",{folder_name:i})),d&&d!==_&&g){let t={userId:g.id,orgId:d};e.dispatch(f._l({workspace:t,view:h}))}e.dispatch(c.F.enqueue({message:E}))}catch(t){e.dispatch(i.s.error("Unable to save file. Please try again later."))}}),h=(0,g.nF)(async(e,{userName:t,file_key:n},{loadingKey:r})=>{try{await l.Ay.put(`/api/try/file/${n}`,{name:(0,s.t)("figjam_try.default_filename",{userName:t})})}catch(e){console.error(e)}})},360882:(e,t,n)=>{n.d(t,{q:()=>g,v:()=>m});var r=n(587670);let a=["t","u","b","d"],o=["r","l"],l=/([rltubdc])([rltubdc]?)\s*$/i;var i=(e=>(e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal",e[e.Center=2]="Center",e))(i||{});let s=e=>a.includes(e),c=e=>o.includes(e),d=e=>"c"===e,u=e=>s(e)?0:c(e)?1:d(e)?2:null,p=(e,t,n)=>{switch(e){case"b":case"d":switch(t){case"l":return r.eVK.BOTTOM_LEFT;case"r":return r.eVK.BOTTOM_RIGHT;case null:return r.eVK.BOTTOM_CENTER}case"t":case"u":switch(t){case"l":return r.eVK.TOP_LEFT;case"r":return r.eVK.TOP_RIGHT;case null:return r.eVK.TOP_CENTER}case null:switch(t){case"l":return r.eVK.MIDDLE_LEFT;case"r":return r.eVK.MIDDLE_RIGHT;case null:if(n)return r.eVK.MIDDLE_CENTER}}return null};function m(e){let t=e.match(l);if(!t||2!==t.length&&3!==t.length)return null;let n=null,r=null,a=null;return Array.from(t).slice(1).forEach(e=>{let t=e.toLowerCase(),o=u(t);0===o?n=t:1===o?r=t:2===o&&(a=t)}),p(n,r,a)}let g=e=>e.replace(l,"")},550273:(e,t,n)=>{n.d(t,{Ey:()=>c,Gc:()=>p,fN:()=>i,mz:()=>m,nl:()=>s});var r=n(534611),a=n(707458),o=n(374626),l=n(92566);function i(e){let t=s(e);return t?d(t):void 0}function s(e){let t=u(e);return 1===t.length?t[0]:void 0}function c(e){return u(e).map(d)}function d(e){let t=a.q.instance.getCurrentPage(),n=t?.getSelectedTextRange(),r={node:e,nodeText:e.characters,effectiveText:e.characters};return n?.textNodeId===e.guid&&n.start!==n.end&&(r.selectionRange=n,r.effectiveText=e.characters.slice(n.start,n.end)),r}function u(e){return p(a.q.instance.getCurrentPage()?.directlySelectedNodes,e)}function p(e,t){if(!e)return[];let n=Array.isArray(e)?e:[e],r=[],a=e=>{for(let n of(function(e,t){if("TEXT"!==e.type)return!1;if(t?.excludeDigitsAndSpecialChar){let t=e.characters.trim(),n=RegExp("^[\\d!@#$%^&*().]+$");if(t.match(n))return!1}return t?.allowEmpty||e.characters.length>0}(e,t)&&r.push(e),e.childrenNodes??[]))a(n)};for(let e of n)a(e);return r}function m(){let e=(function(e){let t=o.zl.get(l.jI);if(!t||t===r.AD)return[];let n=a.q.instance.get(t);return n?p(n,e):[]})({allowEmpty:!1}).filter(e=>e.visible);return e.sort((e,t)=>{let n=e.absoluteTransform.m02-t.absoluteTransform.m02,r=e.absoluteTransform.m12-t.absoluteTransform.m12;return 0===n?0===r?e.guid.localeCompare(t.guid):r:n}),e}},287497:(e,t,n)=>{n.d(t,{YJ:()=>P});var r=n(634832),a=n(707458),o=n(354189),l=n(247368),i=n(202655),s=n(853069);function c(e){if(Array.isArray(e))return function(e){let t=e.map(e=>c(e)).join(",");return`[${t}]`}(e);switch(typeof e){case"object":if(null===e)return"null";return function(e){let t=Object.entries(e).map(([e,t])=>`${JSON.stringify(e)}: ${c(t)}`).join(",");return`{ ${t} }`}(e);case"string":if(e.startsWith("{"))return e;return JSON.stringify(e);case"number":case"boolean":case"undefined":return`${e}`;default:throw Error(`valueToString: Unknown value type for ${e}`)}}function d(e){return Object.entries(e).map(([e,t])=>{switch(typeof t){case"string":if(t.includes('"')&&!t.startsWith("{"))return{name:e,value:`{${c(t)}}`};return{name:e,value:c(t)};case"object":case"number":case"boolean":case"undefined":return{name:e,value:`{${c(t)}}`};default:throw Error(`toReactProps: Unknown value type for ${t}`)}}).map(({name:e,value:t})=>`${e}=${t}`).join(" ")}var u=n(256116),p=n(539780);class m{constructor(e,t){this.apiNode=e,this.getParentApiNode=t}get type(){return this.apiNode.type}get parent(){let e=this.getParentApiNode(this.apiNode.id);return e?new m(e,this.getParentApiNode):null}get isAutoLayout(){return"layoutMode"in this.apiNode&&"NONE"!==this.apiNode.layoutMode}get layoutDirection(){return"layoutMode"in this.apiNode?this.apiNode.layoutMode??"NONE":"NONE"}get padding(){if(!this.isAutoLayout)return null;let e="paddingTop"in this.apiNode?this.apiNode.paddingTop??0:0,t="paddingBottom"in this.apiNode?this.apiNode.paddingBottom??0:0,n="paddingLeft"in this.apiNode?this.apiNode.paddingLeft??0:0,r="paddingRight"in this.apiNode?this.apiNode.paddingRight??0:0;return e===t&&t===n&&n===r?e:{top:e,bottom:t,left:n,right:r}}get childrenGap(){return this.isAutoLayout?"primaryAxisAlignItems"in this.apiNode&&"SPACE_BETWEEN"===this.apiNode.primaryAxisAlignItems?"SPACE_BETWEEN":"itemSpacing"in this.apiNode?this.apiNode.itemSpacing??0:0:null}get layoutPosition(){if(this.parent?.isAutoLayout&&(!("layoutPositioning"in this.apiNode)||"ABSOLUTE"!==this.apiNode.layoutPositioning)||"COMPONENT"===this.type&&this.parent?.type==="COMPONENT_SET")return{type:"AUTO"};let{vertical:e,horizontal:t}=("constraints"in this.apiNode?this.apiNode.constraints:null)??{vertical:"TOP",horizontal:"LEFT"},{x:n,y:r}=this.computedPosition;return{type:"ABSOLUTE",xAxis:{type:t,value:n},yAxis:{type:e,value:r}}}get solidFillColorOrNull(){if("fills"in this.apiNode&&this.apiNode.fills&&0!==this.apiNode.fills.length){let e=this.apiNode.fills[0];if("SOLID"===e.type)return e.color}return null}get cornerRadius(){return"TEXT"===this.type?null:"rectangleCornerRadii"in this.apiNode&&this.apiNode.rectangleCornerRadii?{topLeft:this.apiNode.rectangleCornerRadii[0],topRight:this.apiNode.rectangleCornerRadii[1],bottomRight:this.apiNode.rectangleCornerRadii[2],bottomLeft:this.apiNode.rectangleCornerRadii[3]}:"cornerRadius"in this.apiNode?this.apiNode.cornerRadius??0:null}get backgroundColor(){return"TEXT"===this.apiNode.type?null:this.solidFillColorOrNull}get borderColor(){if("TEXT"===this.apiNode.type)return null;if("strokes"in this.apiNode&&this.apiNode.strokes&&0!==this.apiNode.strokes.length){let e=this.apiNode.strokes[0];if("SOLID"===e.type)return e.color}return null}get borderWidth(){if("TEXT"===this.apiNode.type||!("strokeWeight"in this.apiNode))return null;let e=this.apiNode.strokeWeight;if("number"!=typeof e)return null;let t="individualStrokeWeights"in this.apiNode?this.apiNode.individualStrokeWeights:null;if(t){let{top:e,bottom:n,left:r,right:a}=t;if(!(e===n&&n===r&&r===a))return{top:e,bottom:n,left:r,right:a}}return e}get textColor(){return"TEXT"!==this.apiNode.type?null:this.solidFillColorOrNull}get fontSize(){return"TEXT"!==this.apiNode.type?null:this.apiNode.style.fontSize??12}get textAlignHorizontal(){return"TEXT"!==this.apiNode.type?null:this.apiNode.style.textAlignHorizontal??"LEFT"}get textAlignVertical(){return"TEXT"!==this.apiNode.type?null:this.apiNode.style.textAlignVertical??"TOP"}get fontWeight(){return"TEXT"!==this.apiNode.type?null:this.apiNode.style.fontWeight}get fontFamily(){return"TEXT"!==this.apiNode.type?null:this.apiNode.style.fontFamily}get lineHeight(){if("TEXT"!==this.apiNode.type)return null;let e=this.apiNode.style;return"INTRINSIC_%"===e.lineHeightUnit?{type:"AUTO"}:"FONT_SIZE_%"!==e.lineHeightUnit&&"lineHeightPx"in e&&"number"==typeof e.lineHeightPx?{type:"PIXELS",value:e.lineHeightPx}:"PIXELS"!==e.lineHeightUnit&&"lineHeightPercentFontSize"in e&&"number"==typeof e.lineHeightPercentFontSize?{type:"PERCENT",value:e.lineHeightPercentFontSize}:null}get visible(){return!1===this.apiNode.visible}get textContent(){return"TEXT"!==this.apiNode.type?null:this.apiNode.characters??""}get computedPosition(){if(!("relativeTransform"in this.apiNode))throw Error("Property relativeTransform is missing. Make sure outputGeometry is true.");return{x:this.apiNode.relativeTransform[0][2],y:this.apiNode.relativeTransform[1][2]}}get layoutSize(){let{width:e,height:t}=this.computedSize,n={width:{type:"FIXED",value:e},height:{type:"FIXED",value:t}};if(this.isAutoLayout||this.parent?.isAutoLayout){let e="layoutSizingHorizontal"in this.apiNode&&this.apiNode.layoutSizingHorizontal;if(e)switch(e){case"FIXED":break;case"HUG":n.width={type:"HUG"};break;case"FILL":n.width={type:"FILL"};break;default:g(e)}let t="layoutSizingVertical"in this.apiNode&&this.apiNode.layoutSizingVertical;if(t)switch(t){case"FIXED":break;case"HUG":n.height={type:"HUG"};break;case"FILL":n.height={type:"FILL"};break;default:g(t)}}if((this.isAutoLayout||this.parent?.isAutoLayout)&&("minWidth"in this.apiNode&&(n.minWidth=this.apiNode.minWidth),"minHeight"in this.apiNode&&(n.minHeight=this.apiNode.minHeight),"maxWidth"in this.apiNode&&(n.maxWidth=this.apiNode.maxWidth),"maxHeight"in this.apiNode&&(n.maxHeight=this.apiNode.maxHeight)),"TEXT"===this.apiNode.type)switch(this.apiNode.style.textAutoResize){case"HEIGHT":n.height={type:"HUG"};break;case"WIDTH_AND_HEIGHT":n.height={type:"HUG"},n.width={type:"HUG"}}return n}get computedSize(){if(!("size"in this.apiNode))throw Error("Property size is missing. Make sure outputGeometry is true.");return{width:this.apiNode.size.x,height:this.apiNode.size.y}}get alignItems(){if(!this.isAutoLayout)return null;let e="counterAxisAlignItems"in this.apiNode?this.apiNode.counterAxisAlignItems:null;if(!e)return"START";switch(e){case"MIN":return"START";case"CENTER":return"CENTER";case"MAX":return"END";case"BASELINE":return"BASELINE";default:g(e)}}get justifyContents(){if(!this.isAutoLayout)return null;let e="primaryAxisAlignItems"in this.apiNode?this.apiNode.primaryAxisAlignItems:null;if(!e)return"START";switch(e){case"MIN":return"START";case"CENTER":return"CENTER";case"MAX":return"END";case"SPACE_BETWEEN":return"SPACE_BETWEEN";default:g(e)}}get children(){if("INSTANCE"===this.apiNode.type)return[];let e="children"in this.apiNode&&this.apiNode.children;return e?e.map(e=>new m(e,this.getParentApiNode)):[]}get tagName(){return"INSTANCE"===this.apiNode.type?"Component"+this.apiNode.name.split(" ").map(e=>(e[0]?.toUpperCase()??"")+e.slice(1)).join(""):"TEXT"===this.apiNode.type?"Text":"Box"}toTailwindClasses({ignorePosition:e=!1,layoutOnly:t=!1,positionOnly:n=!1,removeDefaults:r=!0}={}){let a=[];if(!e){let e=this.layoutPosition;if("AUTO"!==e.type&&this.parent){a.push("absolute");let{xAxis:t,yAxis:n}=e;switch(t.type){case"LEFT":a.push(`left-${(0,u.h)(t.value)}`);break;case"RIGHT":{let e=this.computedSize,n=this.parent?.computedSize;n&&a.push(`right-${(0,u.h)(n.width-t.value-e.width)}`)}}switch(n.type){case"TOP":a.push(`top-${(0,u.h)(n.value)}`);break;case"BOTTOM":{let e=this.computedSize,t=this.parent?.computedSize;t&&a.push(`bottom-${(0,u.h)(t.height-n.value-e.height)}`)}}}}if(n)return a;let{width:o,height:l,minWidth:i,maxWidth:s,minHeight:c,maxHeight:d}=this.layoutSize;if("FILL"===o.type?a.push("w-full"):"FIXED"===o.type&&a.push(`w-${(0,u.h)(o.value)}`),"FILL"===l.type?a.push("h-full"):"FIXED"===l.type&&a.push(`h-${(0,u.h)(l.value)}`),"number"==typeof i&&a.push(`min-w-${(0,u.h)(i)}`),"number"==typeof s&&a.push(`max-w-${(0,u.h)(s)}`),"number"==typeof c&&a.push(`min-h-${(0,u.h)(c)}`),"number"==typeof d&&a.push(`max-h-${(0,u.h)(d)}`),t)return a;if(this.isAutoLayout){if(a.push("flex"),"VERTICAL"===this.layoutDirection&&a.push("flex-col"),!r||this.children.length>1){let e=this.childrenGap;"number"!=typeof e||r&&0===e||a.push(`gap-${(0,u.h)(e)}`)}switch(this.alignItems){case"START":r||a.push("items-start");break;case"END":a.push("items-end");break;case"CENTER":a.push("items-center");break;case"BASELINE":a.push("items-baseline")}switch(this.justifyContents){case"START":r||a.push("justify-start");break;case"END":a.push("justify-end");break;case"CENTER":a.push("justify-center");break;case"SPACE_BETWEEN":a.push("justify-between")}let e=this.padding;if("number"==typeof e)r&&0===e||a.push(`p-${(0,u.h)(e)}`);else if(e){if(e.top===e.bottom){let t;t=e.top,r&&0===t||a.push(`py-${(0,u.h)(e.top)}`)}else{let t,n;t=e.top,r&&0===t||a.push(`pt-${(0,u.h)(e.top)}`),n=e.bottom,r&&0===n||a.push(`pb-${(0,u.h)(e.bottom)}`)}if(e.left===e.right){let t;t=e.left,r&&0===t||a.push(`px-${(0,u.h)(e.left)}`)}else{let t,n;t=e.left,r&&0===t||a.push(`pl-${(0,u.h)(e.left)}`),n=e.right,r&&0===n||a.push(`pr-${(0,u.h)(e.right)}`)}}}let m=this.cornerRadius;if("number"==typeof m)r&&0===m||a.push(`rounded-${(0,u.rA)(m)}`);else if(m){if(m.topLeft===m.topRight){let e;e=m.topLeft,r&&0===e||a.push(`rounded-t-${(0,u.rA)(m.topLeft)}`)}else{let e,t;e=m.topLeft,r&&0===e||a.push(`rounded-tl-${(0,u.rA)(m.topLeft)}`),t=m.topRight,r&&0===t||a.push(`rounded-tr-${(0,u.rA)(m.topRight)}`)}if(m.bottomLeft===m.bottomRight){let e;e=m.bottomLeft,r&&0===e||a.push(`rounded-b-${(0,u.rA)(m.bottomLeft)}`)}else{let e,t;e=m.bottomLeft,r&&0===e||a.push(`rounded-bl-${(0,u.rA)(m.bottomLeft)}`),t=m.bottomRight,r&&0===t||a.push(`rounded-br-${(0,u.rA)(m.bottomRight)}`)}}let g=this.backgroundColor;if(g){let e=(0,p.H)(g);a.push(`bg-${(0,u.iz)(e)}`)}let f=this.borderColor,_=this.borderWidth;if(f&&null!==_){let e=(0,p.H)(f);a.push(`border-${(0,u.iz)(e)}`);let t=e=>1===e?"":`-${(0,u.qK)(e)}`;"number"==typeof _?a.push(`border${t(_)}`):(_.top===_.bottom?a.push(`border-y${t(_.top)}`):(a.push(`border-t${t(_.top)}`),a.push(`border-b${t(_.bottom)}`)),_.left===_.right?a.push(`border-x${t(_.left)}`):(a.push(`border-l${t(_.left)}`),a.push(`border-r${t(_.right)}`)))}if("string"==typeof this.textContent){let e=this.fontSize,t=this.fontWeight;"number"!=typeof e||r&&15===e||a.push(`text-${(0,u.KY)(e)}`),"number"!=typeof t||r&&400===t||a.push(`font-${(0,u.jd)(t)}`);let n=this.lineHeight;if(n)switch(n.type){case"AUTO":r||a.push("leading-normal");break;case"PIXELS":case"PERCENT":a.push(`leading-${(0,u.rt)(n.value,n.type)}`)}let o=this.textColor;if(o){let e=(0,p.H)(o);r&&"#000000"===e||a.push(`text-${(0,u.iz)(e)}`)}switch(this.textAlignHorizontal){case"LEFT":r||a.push("text-left");break;case"RIGHT":a.push("text-right");break;case"CENTER":a.push("text-center");break;case"JUSTIFIED":a.push("text-justified")}switch(this.textAlignVertical){case"TOP":r||a.push("align-top");break;case"CENTER":a.push("align-middle");break;case"BOTTOM":a.push("align-bottom")}}return a}toJSX(){let e={id:this.apiNode.id},t=this.toTailwindClasses();0!==t.length&&(e.className=t.join(" "));let n=this.children,r=this.textContent?this.textContent:0!==this.children.length?n.map(e=>e.toJSX()).join(""):"";return r?`<${this.tagName} ${d(e)}>${r}</${this.tagName}>`:`<${this.tagName} ${d(e)} />`}toMinimalJSON(){let e={id:this.apiNode.id,name:this.apiNode.name,type:this.apiNode.type,layoutPosition:this.layoutPosition,layoutSize:this.layoutSize};return this.isAutoLayout&&(e.isAutoLayout=this.isAutoLayout,e.layoutDirection=this.layoutDirection,e.childrenGap=this.childrenGap,e.padding=this.padding,e.justifyContents=this.justifyContents,e.alignItems=this.alignItems),"string"==typeof this.textContent&&(e.fontSize=this.fontSize,e.fontWeight=this.fontWeight,e.fontFamily=this.fontFamily,e.textContent=this.textContent),this.children.length&&(e.children=this.children.map(e=>e.toMinimalJSON())),e}}function g(e,t){throw Error(t??`Unexpected value: ${e}`)}var f=n(747202);class _{constructor(){this.data=[]}append(e){return this.data.push(e),this}codefence(e,t="jsx"){return this.data.push("```"),this.data.push(t),this.data.push("\n"),this.data.push(e()),this.data.push("\n"),this.data.push("```"),this}newline(){return this.data.push("\n"),this}toString(){return this.data.join("")}}function h(e){return e.classPropName??"className"}function E(e,t={}){if(!e.symbolId)return{};let n=(0,l.Ye)(e.symbolId);if(!n)throw Error(`Could not find mainComponent for node ${e.guid}`);let r={};for(let[t,n]of Object.entries(e.componentProperties()))r[(0,i.aX)(t)]=n;let a={};for(let t of n.parsedDefs){if("DERIVED_BOOLEAN"===t.devFriendlyProp.type||"ARRAY"===t.devFriendlyProp.type)continue;let n=t.devFriendlyProp.key;if(n in r){if("SIMPLE"===t.devFriendlyProp.type){let e=r[n].value;t.def.defaultValue!==e&&(a[n]=e);continue}if("SIMPLE_CHOICE"===t.devFriendlyProp.type){let e=t.devFriendlyProp.validOptions;if("INSTANCE_SWAP"===t.def.type){let t=(0,f.cl)(r[n].value);if(!t)throw Error("Could not find component for componentProp");if("SYMBOL"===t.type){let r=Object.values(t.variantProperties??{})[0];-1!==e.indexOf(r)?a[n]=r:console.error(`Could not find ${r} in ${JSON.stringify(e)}`)}continue}if("VARIANT"===t.def.type){let t=r[n].value;-1!==e.indexOf(t)?a[n]=t:console.error(`Could not find ${t} in ${JSON.stringify(e)}`)}}}if("IMAGE"===t.def.type){let r=t.def.guidByParentComponentId[e.symbolId];if(r){let t=(0,f.uN)(e.guid,r);if(t){let e=D(b(t));e&&(a[n]={description:e})}}}}let s=o.v.toString(o.v.fromGuid(e.guid)),c=s.startsWith("I")?s:`I${s};`;for(let t of(0,f.g5)(e.guid))if(1===o.v.toString(o.v.fromGuid(t.guid)).replace(c,"").split(";").length&&t.isBubbled){let e=E(t,{isRoot:!1});Object.keys(e).length&&(a[(0,i.aX)(t.name)]=e)}for(let[e,t]of Object.entries((0,i.hM)(Object.keys(a))))for(let n of(a[e]=t.map(e=>a[e]),t))delete a[n];return t?.isRoot||1!==n.parsedDefs.length||1!==Object.keys(a).length?a:Object.values(a)[0]}let y={};function v(e){if(e in y)return y[e].simpleNode;throw Error(`Did not initialize node cache for nodeId=${e}`)}function b(e){let t=o.v.toString(o.v.fromGuid(e));if(t in y)return y[t].apiNode;throw Error(`Did not initialize node cache for nodeId=${e}`)}function w(e,t){let n=[e];for(;0!==n.length;){let e=n.shift();e&&(t(e),"children"in e&&n.push(...e.children))}}function T(e){if("INSTANCE"===e.type){let t=(0,l.Ye)(e.componentId);if(t?.jsxName)return t.jsxName}let t=function(e){let t=o.v.toGuid(o.v.fromString(e.id));return a.q.instance.get(t)}(e);if(t){let e=t.getSharedPluginData("jsx","type");if(e&&"HStack"!==e&&"VStack"!==e)return e}return null}function N(e,t){let n={};if(!t.skipNodeIds&&(!t.skipNodeIdsWithoutType||T(e))&&(n.id=e.id),t.includeName&&(n.name=e.name),t.includeType&&!("INSTANCE"===e.type&&!t.detachInstances)){let t=T(e);t&&(n.type=t)}if("DEFINITION"===t.componentUsageOrDefinition&&t.componentDefinitionTypeInfo&&"componentPropertyReferences"in e&&e.componentPropertyReferences?.visible){let r=e.componentPropertyReferences?.visible,a=t.componentDefinitionTypeInfo.parsedDefs.find(e=>e.rawProp===r);a&&(n.visible=`{${x(a.devFriendlyProp)}}`)}return n}function I(e,t){switch(t.classNameOptions){case"position-only":return e.toTailwindClasses({positionOnly:!0});case"layout-only":return e.toTailwindClasses({layoutOnly:!0});case"ignore-position":return e.toTailwindClasses({ignorePosition:!0});default:return e.toTailwindClasses()}}let S="AutoLayout",C="Frame";function x(e){let t="DERIVED_BOOLEAN"===e.type?e.devFriendlyProp:e,n=t.key;return("index"in t&&(n+=`[${t.index}]`),"DERIVED_BOOLEAN"===e.type)?`!!${n}`:n}async function A(e,t){let n=(0,i.BB)(e,{followInstances:!0}),r=[],a={};for(let e of n){let t=(0,l.Ye)(e.guid);if(!t)continue;let n=(0,s.vR)(t);if(n){a[n]=a[n]||[],a[n].push(e);continue}r.push(b(e.guid))}let o=await Promise.all(r.map(async e=>await R(e,t)));for(let[e]of Object.keys(a))o.push({nodeId:null,prefixTypes:[],jsxStr:`function ${(0,s.PJ)(e)}(props: ${(0,s.VV)(e)}) {
// Returns an element that satisfies the description provided.
}`});return o}async function R(e,t){let n=(0,l.Ye)(e.id);if(!n)throw Error(`Could not find typeInfo for node: ${e.id}`);let a=Object.values(n.prefixTypes),o={...t,componentUsageOrDefinition:"DEFINITION",componentDefinitionTypeInfo:n},i=new _,s=n.parsedDefs.map(e=>"DERIVED_BOOLEAN"===e.devFriendlyProp.type?"":"SIMPLE_CHOICE"===e.devFriendlyProp.type?"VARIANT"===e.def.type&&"defaultValue"in e.def?`${e.devFriendlyProp.key} = ${JSON.stringify(e.def.defaultValue)}`:e.devFriendlyProp.key:"GROUPED_INSTANCE_SWAP"===e.devFriendlyProp.type||"IMAGE"===e.devFriendlyProp.type?e.devFriendlyProp.key:"SIMPLE"===e.devFriendlyProp.type?"defaultValue"in e.def?`${e.devFriendlyProp.key} = ${JSON.stringify(e.def.defaultValue)}`:e.devFriendlyProp.key:"ARRAY"===e.devFriendlyProp.type?0!==e.devFriendlyProp.index?"":e.devFriendlyProp.key:void(0,r.assertNever)(e.devFriendlyProp)).filter(Boolean).join(", ");if(i.append(`const ${n.jsxName}: React.FC<${n.propsTypeRepr.typeDefBody??"{}"}> = (`),s?i.append(`{${s}}) => {`):i.append(") => {"),i.newline(),"COMPONENT"===e.type&&(i.append(`  return ${await k(e,o)}`),i.newline(),i.append("}")),"COMPONENT_SET"===e.type){let t=!0;for(let n of(0,f.Au)(e.id,["COMPONENT"])){if("SYMBOL"!==n.type||!n.variantProperties)continue;t||i.append(" else "),i.append("if ("),i.append(Object.entries(n.variantProperties).map(([e,t])=>`${e} === ${JSON.stringify(t)}`).join(" && ")),i.append(") {");let e=b(n.guid);i.append(`    return ${await k(e,o)}`),i.newline(),i.append("}"),t=!1}i.append("  return null;"),i.newline(),i.append("}")}return{nodeId:e.id,prefixTypes:a,jsxStr:i.toString()}}async function k(e,t){return await O(e,{...t,classNameOptions:"ignore-position"})||"null"}async function O(e,t){if(!1===e.visible)return null;let n=[];switch(e.type){case"INSTANCE":case"COMPONENT":case"SECTION":case"COMPONENT_SET":case"GROUP":case"FRAME":{if("INSTANCE"===e.type&&!t.detachInstances){n.push(function(e,t){let n=(0,f.So)(e.id,"INSTANCE"),r=(0,l.Ye)(e.componentId);if(!r)throw Error(`Could not find mainComponent for node ${e.id}`);let a=N(e,t),o=v(e.id);if(!t.skipClassNames){let e=I(o,{...t,classNameOptions:"position-only"});e.length&&(a[h(t)]=e.join(" "))}let c=(0,s.vR)(r);if(c){let t=(0,f.So)(e.componentId,"COMPONENT");return Object.assign(a,(0,f.Kp)(c,t)),`<${(0,s.PJ)(c)} ${d(a)}/>`}if(t.skipInstanceComponentProps||Object.assign(a,E(n,{isRoot:!0})),t.includeInstanceOverrides){let t=function(e){if(e.id.startsWith("I"))return null;let t=function(e){let t=b(e.componentId);if(t?.type!=="COMPONENT")return{};let n=new Set,r=[t];for(;0!==r.length;){let e=r.pop();if(!(!e||n.has(e.id)))for(let t of(n.add(e.id),function(e,t){let n=[];return w(e,e=>{e.type===t&&n.push(e)}),n}(e,"INSTANCE")))try{let e=b(t.componentId);e?.type==="COMPONENT"&&r.push(e)}catch{}}let a={};for(let e of n)w(b(e),e=>{a[(0,f.EJ)(e.id)]=e.id});return a}(e),n={},r=e=>e.split(";").slice(1).map(e=>t[e]??e).join(","),a=(e,t)=>{let a=b(e);if(a&&("characters"===t&&"TEXT"===a.type&&(n[r(e)]={children:a.characters}),"componentProperties"===t&&"INSTANCE"===a.type)){let t=r(e),a=(0,f.So)(e,"INSTANCE");n[t]={props:E(a,{isRoot:!0})}}};for(let{id:t,overriddenFields:n}of e.overrides??[])for(let e of n)if("characters"===e||"componentProperties"===e){a(t,e);continue}return n}(e);t&&0!==Object.keys(t).length&&(a.overrides=t)}let u="";if("DEFINITION"===t.componentUsageOrDefinition&&t.componentDefinitionTypeInfo){let n=e.componentPropertyReferences?.mainComponent,o=t.componentDefinitionTypeInfo.parsedDefs.find(r=>{if(e.isExposedInstance&&"NESTED_INSTANCE"===r.def.type){for(let n of(0,i.wn)(t.componentDefinitionTypeInfo?.componentId??"",r))if(n===e.id)return!0}return!!n&&r.rawProp===n});if(o){if("SLOT"===o.def.type)return`{${x(o.devFriendlyProp)}}`;if(1===r.parsedDefs.length){let e=r.parsedDefs[0].devFriendlyProp.key;e in a?a[e]=`{${x(o.devFriendlyProp)} ?? ${JSON.stringify(a[e])}}`:a[e]=`{${x(o.devFriendlyProp)}}`}else u=`{...${x(o.devFriendlyProp)}} `}}return`<${r.jsxName} ${d(a)} ${u}/>`}(e,t));break}if("COMPONENT"===e.type&&"DEFINITION"!==t.componentUsageOrDefinition){n.push(function(e,t){let n=N(e,t),r=(0,l.Ye)(e.id);if(!r)throw Error(`Could not find typeInfo for component: ${e.id}`);n.name=r.jsxName;let a=(0,f.cl)(e.id);if(!a)throw Error(`Could not find node for component: ${e.id}`);return"variantProperties"in a&&Object.assign(n,a.variantProperties),`<ComponentType ${d(n)} />`}(e,t));break}let[[a,o,c],u]=await Promise.all([function(e,t){let n=N(e,t),a=D(e);a&&(n.description=a);let o=I(v(e.id),t);o.length&&(n[h(t)]=o.join(" "));let l=function(e,t,n,a){switch(e.type){case"COMPONENT":case"INSTANCE":case"FRAME":case"GROUP":if(n)return"Image";return t?a.autoLayoutTagName??S:a.frameTagName??C;case"SECTION":return"Section";case"COMPONENT_SET":return t?a.autoLayoutTagName??S:a.frameTagName??C;default:(0,r.assertNever)(e)}}(e,-1!==o.indexOf("flex"),!!a,t);return[`<${l} ${d(n)}>`,`<${l} ${d(n)} />`,`</${l}>`]}(e,t),Promise.all(e.children.map(async e=>await O(e,{...t,classNameOptions:null})))]);if(u.length&&u.some(e=>e)){for(let e of(n.push(a),u))e&&n.push(e);n.push(c)}else n.push(o);break}case"TEXT":n.push(function(e,t){let n=N(e,t),r=I(v(e.id),t);r.length&&(n[h(t)]=r.join(" "));let a="";return"DEFINITION"===t.componentUsageOrDefinition&&e.componentPropertyReferences?.characters?a=`{${(0,i.aX)(e.componentPropertyReferences?.characters)}}`:(a=e.characters).includes('"')&&(a=`{${JSON.stringify(a)}}`),`<Text ${d(n)}>${a}</Text>`}(e,t));break;case"RECTANGLE":case"LINE":case"ELLIPSE":n.push(function(e,t){let n=N(e,t),a=I(v(e.id),t);switch(a.length&&(n[h(t)]=a.join(" ")),e.type){case"ELLIPSE":return`<Ellipse ${d(n)}/>`;case"RECTANGLE":return`<Rectangle ${d(n)}/>`;case"LINE":return`<Line ${d(n)}/>`;default:(0,r.assertNever)(e)}}(e,t));break;case"SLICE":case"REGULAR_POLYGON":case"STAR":case"VECTOR":case"BOOLEAN_OPERATION":case"TABLE":case"TABLE_CELL":case"WASHI_TAPE":case"CONNECTOR":case"WIDGET":case"EMBED":case"STICKY":case"SHAPE_WITH_TEXT":case"LINK_UNFURL":n.push(await function(e,t){let n=N(e,t);n.type=e.type;let r=I(v(e.id),{...t,classNameOptions:"layout-only"});return r.length&&(n[h(t)]=r.join(" ")),Promise.resolve(`<Unhandled ${d(n)} />`)}(e,t));break;case"CANVAS":case"DOCUMENT":throw Error(`Unexpected node type: ${e.type}`);default:(0,r.assertNever)(e)}return n.length>0?n.join(""):null}async function P({nodeIds:e,options:t}){let n=a.q.instance,r=e.map(e=>n.get(e)).filter(e=>e&&"DOCUMENT"!==e.type&&"CANVAS"!==e.type);if(0===r.length)return{};!function(e,t){for(let t of(y={},function(e){let t=new Set,n=[];for(let r of e)t.has(r.guid)||(t.add(r.guid),n.push(r));return n}([...e,...(0,i.BB)(e,{followInstances:!0})].map(e=>(function(e){let t=e;for(;t.parentGuid&&t.parentNode&&"CANVAS"!==t.parentNode.type;)t=t.parentNode;return t})(e)))))!function(e,t){let n=e?.getFirstDraftJSON();if(!n)return;let r=n.document;if("DOCUMENT"===r.type||"CANVAS"===r.type)throw Error(`Unexpected node type ${r.type}`);Object.assign(y,function(e){let t={},n={},r=[e];for(;0!==r.length;){let e=r.pop();if(e&&(t[e.id]=e,"children"in e))for(let t of e.children)n[t.id]=e.id,r.push(t)}let a=e=>{let r=n[e];if(!r)return null;let a=t[r];if(!a)throw Error(`Could not find parentNode node: ${r}`);return a},o={};for(let[e,n]of Object.entries(t))o[e]={apiNode:n,simpleNode:new m(n,a)};return o}(r))}(t,0)}(r,0);let[o,l]=await Promise.all([(async()=>{let e=await Promise.all(r.map(e=>O(b(e.guid),t)));return 1===e.length?e[0]:["<Selection>",...e,"</Selection>"].join("\n")})(),(async()=>{if(!t.includeComponentDependencies)return[];let e=(0,i.BB)(r,{followInstances:!0});return 0===e.length?[]:await A(e,t)})()]);return{jsxStr:o,jsxDefinitionInfo:l}}function D(e){if(!("fills"in e)||!e.fills.some(e=>"IMAGE"===e.type))return null;let t=e.id;e.id.startsWith("I")&&(t=o.v.toGuid(o.v.fromString(e.id)));let n=a.q.instance.get(t);return n&&n?.getSharedPluginData("jsx","isImage")==="true"&&e.fills.find(e=>"IMAGE"===e.type&&n?.getSharedPluginData("jsx","hash")===e.imageRef)&&(n?.getSharedPluginData("jsx","description")||n?.getSharedPluginData("jsx","altText"))||null}},256116:(e,t,n)=>{n.d(t,{Pw:()=>R,km:()=>P,qK:()=>$,Fm:()=>C,B9:()=>A,k$:()=>D,KY:()=>V,BM:()=>L,jd:()=>H,Cv:()=>B,iz:()=>X,bP:()=>M,rt:()=>W,W1:()=>T,Hg:()=>O,vW:()=>x,v4:()=>w,vQ:()=>N,h:()=>z,t1:()=>I,rA:()=>G,Fg:()=>k,gW:()=>F,Eu:()=>K,IT:()=>U});var r=n(634832),a=n(897459);function o(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[t,e]))}let l={none:1,tight:1.25,snug:1.375,normal:1.2,relaxed:1.625,loose:2},i={3:12,4:16,5:20,6:24,7:28,8:32,9:36,10:40},s={px:1,0:0,"0.5":2,1:4,"1.5":6,2:8,"2.5":10,3:12,"3.5":14,4:16,5:20,6:24,7:28,8:32,9:36,10:40,11:44,12:48,14:56,16:64,20:80,24:96,28:112,32:128,36:144,40:160,44:176,48:192,52:208,56:224,60:240,64:256,72:288,80:320,96:384,100:400},c={0:0,xs:320,sm:384,md:448,lg:512,xl:576,"2xl":672,"3xl":768,"4xl":896,"5xl":1024,"6xl":1152,"7xl":1280},d={none:0,"":4,sm:2,md:6,lg:8,xl:12,"2xl":16,"3xl":24,full:9999},u={black:"#000000",white:"#ffffff","slate-50":"#f8fafc","slate-100":"#f1f5f9","slate-200":"#e2e8f0","slate-300":"#cbd5e1","slate-400":"#94a3b8","slate-500":"#64748b","slate-600":"#475569","slate-700":"#334155","slate-800":"#1e293b","slate-900":"#0f172a","slate-950":"#020617","gray-50":"#f9fafb","gray-100":"#f3f4f6","gray-200":"#e5e7eb","gray-300":"#d1d5db","gray-400":"#9ca3af","gray-500":"#6b7280","gray-600":"#4b5563","gray-700":"#374151","gray-800":"#1f2937","gray-900":"#111827","gray-950":"#030712","neutral-50":"#fafafa","zinc-100":"#f4f4f5","zinc-200":"#e4e4e7","zinc-300":"#d4d4d8","zinc-400":"#a1a1aa","zinc-500":"#71717a","zinc-600":"#52525b","zinc-700":"#3f3f46","zinc-800":"#27272a","zinc-900":"#18181b","zinc-950":"#09090b","neutral-100":"#f5f5f5","neutral-200":"#e5e5e5","neutral-300":"#d4d4d4","neutral-400":"#a3a3a3","neutral-500":"#737373","neutral-600":"#525252","neutral-700":"#404040","neutral-800":"#262626","neutral-900":"#171717","neutral-950":"#0a0a0a","stone-50":"#fafaf9","stone-100":"#f5f5f4","stone-200":"#e7e5e4","stone-300":"#d6d3d1","stone-400":"#a8a29e","stone-500":"#78716c","stone-600":"#57534e","stone-700":"#44403c","stone-800":"#292524","stone-900":"#1c1917","stone-950":"#0c0a09","red-50":"#fef2f2","red-100":"#fee2e2","red-200":"#fecaca","red-300":"#fca5a5","red-400":"#f87171","red-500":"#ef4444","red-600":"#dc2626","red-700":"#b91c1c","red-800":"#991b1b","red-900":"#7f1d1d","red-950":"#450a0a","orange-50":"#fff7ed","orange-100":"#ffedd5","orange-200":"#fed7aa","orange-300":"#fdba74","orange-400":"#fb923c","orange-500":"#f97316","orange-600":"#ea580c","orange-700":"#c2410c","orange-800":"#9a3412","orange-900":"#7c2d12","orange-950":"#431407","amber-50":"#fffbeb","amber-100":"#fef3c7","amber-200":"#fde68a","amber-300":"#fcd34d","amber-400":"#fbbf24","amber-500":"#f59e0b","amber-600":"#d97706","amber-700":"#b45309","amber-800":"#92400e","amber-900":"#78350f","amber-950":"#451a03","yellow-50":"#fefce8","yellow-100":"#fef9c3","yellow-200":"#fef08a","yellow-300":"#fde047","yellow-400":"#facc15","yellow-500":"#eab308","yellow-600":"#ca8a04","yellow-700":"#a16207","yellow-800":"#854d0e","yellow-900":"#713f12","yellow-950":"#422006","lime-50":"#f7fee7","lime-100":"#ecfccb","lime-200":"#d9f99d","lime-300":"#bef264","lime-400":"#a3e635","lime-500":"#84cc16","lime-600":"#65a30d","lime-700":"#4d7c0f","lime-800":"#3f6212","lime-900":"#365314","lime-950":"#1a2e05","green-50":"#f0fdf4","green-100":"#dcfce7","green-200":"#bbf7d0","green-300":"#86efac","green-400":"#4ade80","green-500":"#22c55e","green-600":"#16a34a","green-700":"#15803d","green-800":"#166534","green-900":"#14532d","green-950":"#052e16","emerald-50":"#ecfdf5","emerald-100":"#d1fae5","emerald-200":"#a7f3d0","emerald-300":"#6ee7b7","emerald-400":"#34d399","emerald-500":"#10b981","emerald-600":"#059669","emerald-700":"#047857","emerald-800":"#065f46","emerald-900":"#064e3b","emerald-950":"#022c22","teal-50":"#f0fdfa","teal-100":"#ccfbf1","teal-200":"#99f6e4","teal-300":"#5eead4","teal-400":"#2dd4bf","teal-500":"#14b8a6","teal-600":"#0d9488","teal-700":"#0f766e","teal-800":"#115e59","teal-900":"#134e4a","teal-950":"#042f2e","cyan-50":"#ecfeff","cyan-100":"#cffafe","cyan-200":"#a5f3fc","cyan-300":"#67e8f9","cyan-400":"#22d3ee","cyan-500":"#06b6d4","cyan-600":"#0891b2","cyan-700":"#0e7490","cyan-800":"#155e75","cyan-900":"#164e63","cyan-950":"#083344","sky-50":"#f0f9ff","sky-100":"#e0f2fe","sky-200":"#bae6fd","sky-300":"#7dd3fc","sky-400":"#38bdf8","sky-500":"#0ea5e9","sky-600":"#0284c7","sky-700":"#0369a1","sky-800":"#075985","sky-900":"#0c4a6e","sky-950":"#082f49","blue-50":"#eff6ff","blue-100":"#dbeafe","blue-200":"#bfdbfe","blue-300":"#93c5fd","blue-400":"#60a5fa","blue-500":"#3b82f6","blue-600":"#2563eb","blue-700":"#1d4ed8","blue-800":"#1e40af","blue-900":"#1e3a8a","blue-950":"#172554","indigo-50":"#eef2ff","indigo-100":"#e0e7ff","indigo-200":"#c7d2fe","indigo-300":"#a5b4fc","indigo-400":"#818cf8","indigo-500":"#6366f1","indigo-600":"#4f46e5","indigo-700":"#4338ca","indigo-800":"#3730a3","indigo-900":"#312e81","indigo-950":"#1e1b4b","violet-50":"#f5f3ff","violet-100":"#ede9fe","violet-200":"#ddd6fe","violet-300":"#c4b5fd","violet-400":"#a78bfa","violet-500":"#8b5cf6","violet-600":"#7c3aed","violet-700":"#6d28d9","violet-800":"#5b21b6","violet-900":"#4c1d95","violet-950":"#2e1065","purple-50":"#faf5ff","purple-100":"#f3e8ff","purple-200":"#e9d5ff","purple-300":"#d8b4fe","purple-400":"#c084fc","purple-500":"#a855f7","purple-600":"#9333ea","purple-700":"#7e22ce","purple-800":"#6b21a8","purple-900":"#581c87","purple-950":"#3b0764","fuchsia-50":"#fdf4ff","fuchsia-100":"#fae8ff","fuchsia-200":"#f5d0fe","fuchsia-300":"#f0abfc","fuchsia-400":"#e879f9","fuchsia-500":"#d946ef","fuchsia-600":"#c026d3","fuchsia-700":"#a21caf","fuchsia-800":"#86198f","fuchsia-900":"#701a75","fuchsia-950":"#4a044e","pink-50":"#fdf2f8","pink-100":"#fce7f3","pink-200":"#fbcfe8","pink-300":"#f9a8d4","pink-400":"#f472b6","pink-500":"#ec4899","pink-600":"#db2777","pink-700":"#be185d","pink-800":"#9d174d","pink-900":"#831843","pink-950":"#500724","rose-50":"#fff1f2","rose-100":"#ffe4e6","rose-200":"#fecdd3","rose-300":"#fda4af","rose-400":"#fb7185","rose-500":"#f43f5e","rose-600":"#e11d48","rose-700":"#be123c","rose-800":"#9f1239","rose-900":"#881337","rose-950":"#4c0519"},p={0:0,5:.05,10:.1,20:.2,25:.25,30:.3,40:.4,50:.5,60:.6,70:.7,75:.75,80:.8,90:.9,95:.95,100:1},m={thin:100,extralight:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},g={xs:12,sm:14,base:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36,"5xl":48,"6xl":60,"7xl":72,"8xl":96,"9xl":128},f=o(s),_=o(g),h=o(d),E=o(m),y=o(u),v=o(i);var b=n(539780);function w(e,t,n){let r=()=>{let n=s[e[1]]??(0,b.Hc)(e[1])??0;return t?-1*n:n};switch(e[0]){case"p":n.padding={top:r(),bottom:r(),left:r(),right:r()};break;case"pt":n.padding=n.padding||{},n.padding.top=r();break;case"pb":n.padding=n.padding||{},n.padding.bottom=r();break;case"pl":n.padding=n.padding||{},n.padding.left=r();break;case"pr":n.padding=n.padding||{},n.padding.right=r();break;case"py":n.padding=n.padding||{},n.padding.top=r(),n.padding.bottom=r();break;case"px":n.padding=n.padding||{},n.padding.left=r(),n.padding.right=r()}}function T(e,t,n){let r=()=>{let n=s[e[1]]??(0,b.Hc)(e[1])??0;return t?-1*n:n};switch(e[0]){case"m":n.margin={top:r(),bottom:r(),left:r(),right:r()};break;case"mt":n.margin=n.margin||{},n.margin.top=r();break;case"mb":n.margin=n.margin||{},n.margin.bottom=r();break;case"ml":n.margin=n.padding||{},n.margin.left=r();break;case"mr":n.margin=n.margin||{},n.margin.right=r();break;case"my":n.margin=n.margin||{},n.margin.top=r(),n.margin.bottom=r();break;case"mx":n.margin=n.margin||{},n.margin.left=r(),n.margin.right=r()}}function N(e,t,n){let r=()=>{let n=e.length-1,r=s[e[n]]??(0,b.Hc)(e[n])??0;return t?-1*r:r};switch(e[0]){case"top":n.y={type:"top",offset:r()};break;case"left":n.x={type:"left",offset:r()};break;case"bottom":n.y={type:"bottom",offset:r()};break;case"right":n.x={type:"right",offset:r()}}}function I(e,t){if("rounded"!==e[0])return;let n=()=>{let t=e.length-1;return d[e[t]]??(0,b.Hc)(e[t])??0};if(1===e.length){t.cornerRadius={topLeft:4,topRight:4,bottomLeft:4,bottomRight:4};return}if(2===e.length){t.cornerRadius={topLeft:n(),topRight:n(),bottomLeft:n(),bottomRight:n()};return}switch(t.cornerRadius=t.cornerRadius||{},e[1]){case"t":t.cornerRadius.topLeft=n(),t.cornerRadius.topRight=n();break;case"e":case"r":t.cornerRadius.bottomRight=n(),t.cornerRadius.topRight=n();break;case"b":t.cornerRadius.bottomRight=n(),t.cornerRadius.bottomLeft=n();break;case"s":case"l":t.cornerRadius.bottomLeft=n(),t.cornerRadius.topLeft=n();break;case"ss":case"tl":t.cornerRadius.topLeft=n();break;case"se":case"tr":t.cornerRadius.topRight=n();break;case"es":case"bl":t.cornerRadius.bottomLeft=n();break;case"ee":case"br":t.cornerRadius.bottomRight=n()}}function S(e){let t=e.slice(1).join(b.rR);if("transparent"===t)return[];let n=t.split("/"),r=n[0],a=n[1]??"",o=u[r]??(0,b.G2)(r);if(!o||!o.match(/^#?[0-9a-f]{3,8}$/i))return null;if(!a||!p[a])return o;let l=(0,b.tK)(o);return l&&p[a]&&(l.a=p[a]??1),l}function C(e,t,n){if("bg"!==e[0]&&"text"!==e[0]||n&&("bg"===e[0]&&"Text"===n||"text"===e[0]&&"Text"!==n))return;let r=S(e);r&&(t.fill=r)}function x(e,t){"opacity"===e[0]&&(t.opacity=p[e[1]]??(0,b.kG)(e[1])??1)}function A(e,t){if("flex"===e[0]){switch(e[1]){case"nowrap":t.wrap=!1;break;case"wrap":t.wrap=!0;break;case"row":case"row-reverse":t.direction="horizontal";break;case"col":case"col-reverse":t.direction="vertical"}return}}function R(e,t,n){if("justify"===e[0]){let r="vertical"===t?"verticalAlignItems":"horizontalAlignItems";switch(e[1]){case"start":n[r]="start";break;case"end":n[r]="end";break;case"center":n[r]="center";break;case"between":n.spacing="auto"}}if("items"===e[0]){let r="vertical"===t?"horizontalAlignItems":"verticalAlignItems";switch(e[1]){case"start":n[r]="start";break;case"end":n[r]="end";break;case"center":n[r]="center";break;case"baseline":"horizontal"===t&&(n[r]="baseline")}}}function k(e,t,n){let r=()=>"full"===e[1]?"fill-parent":"fit"===e[1]?"hug-contents":s[e[1]]??(0,b.Hc)(e[1])??void 0;if("w"===e[0]){let e=r();void 0!==e&&("Line"===n?t.length=e:t.width=e);return}if("h"===e[0]){let e=r();void 0!==e&&(t.height=e);return}}function O(e,t){let n=()=>{let t=e.length-1;return"max"===e[0]&&"w"===e[1]&&c[e[t]]?c[e[t]]:s[e[t]]??(0,b.Hc)(e[t])??void 0};if("min"===e[0]){if("w"===e[1]){let e=n();void 0!==e&&(t.minWidth=e);return}if("h"===e[1]){let e=n();void 0!==e&&(t.minHeight=e);return}}if("max"===e[0]){if("w"===e[1]){let e=n();void 0!==e&&(t.maxWidth=e);return}if("h"===e[1]){let e=n();void 0!==e&&(t.maxHeight=e);return}}}function P(e,t,n){if("Text"===n||"border"!==e[0])return;let r=()=>{"stroke"in t||(t.stroke="#000000")};if(1===e.length){t.strokeWidth=1,r();return}if(2===e.length&&a.y$.isInteger(e[1])){switch(e[1]){case"0":t.strokeWidth=0,r();break;case"2":t.strokeWidth=2,r();break;case"4":t.strokeWidth=4,r();break;case"6":t.strokeWidth=6,r();break;case"8":t.strokeWidth=8,r()}return}let o=S(e);o&&(t.stroke=o)}function D(e,t){if("text"===e[0]){let n=(()=>{let t=e.length-1;return g[e[t]]??(0,b.Hc)(e[t])})();n&&(t.fontSize=n)}}function M(e,t){if("leading"===e[0]){let n=(()=>{let t=e.length-1,n=l[e[t]];if("normal"===e[t])return"auto";if(n)return`${(100*n).toFixed(0)}%`;let r=i[e[t]];if(r)return r;let a=(0,b.Hc)(e[t]);if(a)return a;let o=(0,b.kX)(e[t]);return o?`${o.toFixed(0)}%`:null})();n&&(t.lineHeight=n)}}function L(e,t){if("font"===e[0]){let n=(()=>{let t=e.length-1;return m[e[t]]})();n&&(t.fontWeight=n)}}function K(e,t){switch(e){case"italic":t.italic=!0;break;case"not-italic":t.italic=!1;break;case"underline":t.textDecoration="underline";break;case"linethrough":t.textDecoration="strikethrough";break;case"uppercase":t.textCase="upper";break;case"lowercase":t.textCase="lower";break;case"capitalize":t.textCase="title";break;case"normal-case":t.textCase="original"}}function F(e,t){if(e.startsWith("text-"))switch(e){case"text-left":t.horizontalAlignText="left";break;case"text-center":t.horizontalAlignText="center";break;case"text-right":t.horizontalAlignText="right";break;case"text-justify":t.horizontalAlignText="justified"}if(e.startsWith("align-"))switch(e){case"align-top":t.verticalAlignText="top";break;case"align-middle":t.verticalAlignText="center";break;case"align-bottom":t.verticalAlignText="bottom"}}function B(e,t,n){if("gap"!==e[0])return;let r=(()=>{let n=e.length-1,r=s[e[n]]??(0,b.Hc)(e[n])??void 0;return t?-1*r:r})();if(void 0!==r){if(2===e.length){n.spacing={horizontal:r,vertical:r};return}switch(n.spacing=n.spacing||{},e[1]){case"x":n.spacing.horizontal=r;break;case"y":n.spacing.vertical=r}}}function U(e,t){switch(e[0]){case"block":case"inline-block":case"inline":case"flex":case"inline-flex":case"table":case"inline-table ":case"table-caption":case"table-cell ":case"table-column ":case"table-column-group ":case"table-footer-group ":case"table-header-group ":case"table-row-group":case"table-row":case"flow-root":case"grid":case"inline-grid":case"hidden":case"visible":t.hidden=-1!==e.indexOf("hidden")}}function z(e){return f[e]||`[${e.toFixed(0)}px]`}function V(e){return _[e]||`[${e.toFixed(0)}px]`}function H(e){return E[e]||`[${e.toFixed(0)}]`}function X(e){return y[e]||`[${e}]`}function G(e){let t=h[e];return e>=999?"full":t||`[${e.toFixed(0)}px]`}function W(e,t){switch(t){case"PIXELS":{let t=v[e];if(t)return t;return`[${e.toFixed(0)}px]`}case"PERCENT":for(let[t,n]of Object.entries(l))if(Math.round(100*n)===Math.round(e))return t;return`[${e.toFixed(0)}%]`;default:(0,r.assertNever)(t)}}function $(e){return[0,2,4,8].includes(e)?`${e}`:`[${e.toFixed(0)}px]`}},539780:(e,t,n)=>{n.d(t,{AD:()=>c,G2:()=>s,H:()=>_,Hc:()=>o,Zx:()=>u,kG:()=>i,kX:()=>l,rR:()=>d,tK:()=>p});var r=n(897459);let a=/^\[(?:([a-z-]+):)?(.+)\]$/i;function o(e){let t=a.exec(e);if(t&&t[2].endsWith("px")){let e=t[2].slice(0,t[2].length-2);return r.y$.isInteger(e)?Number(e):null}return null}function l(e){let t=a.exec(e);if(t&&t[2].endsWith("%")){let e=t[2].slice(0,t[2].length-1);return r.y$.isInteger(e)?Number(e):null}return null}function i(e){let t=a.exec(e);if(t&&t[2]){let e=t[2];return r.y$.isNumber(e)?Number(e):null}return null}function s(e){let t=a.exec(e);return t&&t[2].startsWith("#")?t[2]:null}let c=/\s+/,d="-";function u(e){let t=!1,n=e.split(d);return""===n[0]&&1!==n.length&&(t=!0,n.shift()),{classParts:n,isNegative:t}}function p(e,t=!1,n=1){let r=/[^0-9a-f]*([0-9a-f]*)/i.exec(e.trim());if(!r)return null;let a=r[1];if(a.length>=8&&t)return f(g(a.substring(0,2)),g(a.substring(2,4)),g(a.substring(4,6)),g(a.substring(6,8)));if(7===a.length&&t)return f(g(a.substring(0,2)),g(a.substring(2,4)),g(a.substring(4,6)),m(a[6]));if(a.length>=6)return f(g(a.substring(0,2)),g(a.substring(2,4)),g(a.substring(4,6)),n);if(5===a.length&&t)return f(m(a[0]),m(a[1]),m(a[2]),g(a.substring(3,5)));if(4===a.length&&t)return f(m(a[0]),m(a[1]),m(a[2]),m(a[3]));if(a.length>=3)return f(m(a[0]),m(a[1]),m(a[2]),n);if(2===a.length){let e=g(a);return f(e,e,e,n)}else if(1===a.length){let e=m(a);return f(e,e,e,n)}return null}function m(e){return g(`${e}${e}`)}function g(e){return Math.min(Math.max(parseInt(e,16)/255,0),1)}function f(e,t,n,r=1){return isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)?null:{r:e,g:t,b:n,a:r}}function _(e){let t=e.a??1,n=Math.round(255*e.r).toString(16),r=Math.round(255*e.g).toString(16),a=Math.round(255*e.b).toString(16),o=Math.round(255*t).toString(16);return 1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),1===a.length&&(a="0"+a),1===o.length&&(o="0"+o),"#"+n+r+a+(1!==t?o:"")}},582626:(e,t,n)=>{n.d(t,{iK:()=>h,wP:()=>E});var r=n(411855),a=n(707458),o=n(330654),l=n(574724),i=n(202655),s=n(894443),c=n(356390),d=n(662531);let u=`
You are an expert component creator in Figma. You identify the text content within a new component that should be assigned to properties.

You are given a screenshot of a new component, and the code representation of that component. Here is the Figma JSX for the component:

\`\`\`jsx
{{jsx}}
\`\`\`

Given the submitted screenshot image, you will return the following information about the component:
- Suggest a component name.
- Suggest a component description.
- Identify the node IDs in the JSX above that should be replaced with references to text properties. Return the IDs along with the new property name in a key-value pair.

Guidelines:
- Every property name you suggest must correspond directly 1:1 to a node ID listed above. You cannot assign more than one property to the same node ID.
- Be judicious and only identify the most important elements to become properties. Only some text nodes deserve to be properties, others can be left static.

Return in the following JSON format:
\`\`\`json
{
  "componentName": <SuggestedComponentName>,
  "componentDescription": <SuggestedComponentDescription>,
  "nodeIdsToPropertyNames: {[id: string]: PropertyName},
}
\`\``,p=`
You are an expert component creator in Figma. You identify the text content within components in a component set that should be assigned to properties.

You are given a screenshot of a new component set, which contains one or more components laid out in a 2D grid, and the code representation of that component set. Here is the Figma JSX for the component set:

\`\`\`jsx
{{jsx}}
\`\`\`

Given the submitted screenshot image, you will return the following information about the component set:
- Suggest a component set name.
- Suggest a component set description.
- Identify the node IDs in the JSX above that should be replaced with references to properties. Return the IDs along with the new property name in a key-value pair.

Guidelines:
- Every property name you suggest must correspond directly 1:1 to a node ID listed above. You cannot assign more than one property to the same node ID.
- Be judicious and only identify the most important elements to become properties. Only some text nodes deserve to be properties, others can be left static.
- Components in a component set are related (e.g. variants of a button). The properties you suggest should be consistent across all components in the set.

Return in the following JSON format:
\`\`\`json
{
  "componentName": <SuggestedComponentName>,
  "componentDescription": <SuggestedComponentDescription>,
  "nodeIdsToPropertyNames: {[id: string]: PropertyName},
}
\`\``;function m(e){if("SYMBOL"!==e.type)return!1;let t=[e];for(;t.length>0;){let e=t.pop();if(e&&"INSTANCE"!==e.type){if("TEXT"===e.type)return!0;t.push(...e.childrenNodes)}}return!1}function g(e){return("SYMBOL"===e.type||!!e.isStateGroup)&&(e.isStateGroup?e.childrenNodes.some(m):m(e))}async function f(e){let t=await (0,s.gC)(e),n=(e.isStateGroup?p:u).replace("{{jsx}}",t.jsx);return function(e){if(!e)throw Error("No content detected in GPT response");let t=e.match(/```json\n([\s\S]*?)```/g);if(!t?.length)return;let n=JSON.parse(t[0].replace(/```json\n|```/g,""));return y.parse(n)}((await l.Ay.openai.completeChat({model:"gpt-4o-2024-05-13",temperature:.5,n:1,messages:[{role:"system",content:n},{role:"user",content:[{type:"image_url",image_url:{url:t.base64}}]}],use_cache:!1})).choices[0].message.content)}function _(e,t){if(e?.type==="SYMBOL"||e?.isStateGroup){for(let n of(e.name=t.componentName,e.description||(e.description=t.componentDescription),Object.keys(t.nodeIdsToPropertyNames))){let r=a.q.instance.get(n);if(!r||"TEXT"!==r.type||r.isInstanceSublayer)continue;let o=e.componentPropertyDefinitions(),l=r.componentPropertyReferences();if(l?.characters)continue;let i=t.nodeIdsToPropertyNames[n],s=function(e,t){for(let n in e)if("VARIANT"!==e[n].type){let e=n.split("#");if(e.slice(0,e.length-1).join("#")===t)return n}else if(n===t)return n;return null}(o,i);s&&o[s]?.type==="TEXT"||(s=e.addComponentPropertyDefinition(i,"TEXT",r.characters,void 0)),r.setComponentPropertyReferences({...r.componentPropertyReferences(),characters:s})}c.Y5.commit()}}function h(){let[e,t]=r.useState({loaded:0,total:0});return{submit:r.useCallback(async e=>{let n=a.q.instance.getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&e.name===i.vh),r=a.q.instance.getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&"Atoms"===e.name);if(0===(e=e??[...n?.childrenNodes??[],...r?.childrenNodes??[]]).length)return;let o=e.filter(g);for(let e of(t({loaded:0,total:o.length}),o)){t(e=>({loaded:e.loaded+1,total:e.total}));let n=await f(e);n&&d.l7.user("apply-suggested-props",()=>{_(e,n)})}},[]),progress:e}}function E(){return{submit:r.useCallback(async e=>{if(e)return await f(e)},[]),apply:r.useCallback(_,[])}}let y=o.object({componentName:o.string(),componentDescription:o.string(),nodeIdsToPropertyNames:o.record(o.string())})},894443:(e,t,n)=>{n.d(t,{Mb:()=>u,Q$:()=>m,SV:()=>c,Z$:()=>d,_J:()=>p,gC:()=>g});var r=n(851061),a=n(574724),o=n(287497),l=n(747202),i=n(640209),s=n(479296);let c="plugin_playground";function d(e){let t=e.match(/```jsx([\s\S]*?)(```|$)/);return t?t[1].trim():""}async function u(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}let p=(0,s.n)(async function(e,t,n=()=>!0,r){let o=(await a.Ay.design.firstDraftGenerateV2Stream(e,(0,l.Lp)({clientLifecycleId:r}))).getReader(),i={};try{for(;;){let e=o.read(),{done:r,value:a}=await e;if(r||(a.theme&&(i.theme=a.theme??{}),a.dsKit&&(i.dsKit=a.dsKit),a.jsx&&(i.jsx+=a.jsx),a.trace&&(i.trace=a.trace),a.presets&&(i.presets=a.presets),!n()))break;t(i)}}finally{o.releaseLock()}});function m(e){return Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{})}async function g(e){let t=await e.loadImagesAndExport([{imageType:"PNG",constraint:{type:"CONTENT_SCALE",value:.3},contentsOnly:!0,useAbsoluteBounds:!1,colorProfile:"DOCUMENT"}]),n=`data:image/png;base64,${(0,r.encode)(t)}`,a=await (0,o.YJ)({nodeIds:[e.guid],options:{skipNodeIds:!1,includeName:!0,detachInstances:!0,componentUsageOrDefinition:"DEFINITION"}});if(!a.jsxStr)throw Error(`Could not get node JSX for node ID: ${e.guid}`);return{base64:n,jsx:a.jsxStr}}(0,s.n)(async function(e){return(await i.Gh.postFirstDraftMatchPresetModes({kit_key:e.kitKey,is_local:e.isLocal,user_prompt:e.userPrompt})).data.meta})},736916:(e,t,n)=>{n.d(t,{EH:()=>d,MC:()=>s,ji:()=>c,l0:()=>l,xo:()=>i,zp:()=>o});var r=n(374626),a=n(582947);let o="user_has_generated_ai_summary",l="has_dismissed_summarization_nudge",i=(0,a.r1)(o),s=(0,a.r1)(l),c=(0,r.E3)("last_saw_summarization_nudge","0"),d=(0,r.E3)("seen_summarization_nudge_count",0)},928526:(e,t,n)=>{n.d(t,{r:()=>a});var r=n(411855);function a({options:e,optionClassname:t,inputRef:n}){let[a,o]=(0,r.useState)(null),[l,i]=(0,r.useState)(0),s=(0,r.useMemo)(()=>e.map(()=>r.createRef()),[e]),c=(0,r.useMemo)(()=>r.createElement(r.Fragment,null,e.map((e,n)=>r.createElement("span",{key:n,ref:s[n],className:t},e))),[e,s,t]);return(0,r.useLayoutEffect)(()=>{let e=n?.current;e&&i(e.getBoundingClientRect().width);let t=new ResizeObserver(e=>{i(e[0].contentRect.width)});if(e)return t.observe(e),()=>t.unobserve(e)},[n]),(0,r.useLayoutEffect)(()=>{if(!s.length){null!==a&&o(null);return}let t=s.map(e=>l-(e.current?.getBoundingClientRect().width??0)).reduce((e,t,n,r)=>t<r[e]&&t>=0?n:e,0);a!==e[t]&&o(e[t])},[a,o,l,e,s]),{measurementNode:c,bestText:a}}},467302:(e,t,n)=>{n.d(t,{an:()=>m,nj:()=>g});var r=n(411855),a=n(188507),o=n(534611),l=n(44948),i=n(848661),s=n(234945),c=n(273226),d=n(510879),u=n(107244),p=n(958317);function m(e,t){let n=r.useMemo(p.vf,[]),d=(0,a.d4)(s.dK),m=(0,a.d4)(u.C1),g=(0,a.d4)(t=>n(t,e)),y=function(e,t){let n=(0,a.d4)(s.dK);if(t!==c.OE.DEFINITION)return(0,c.Yi)(e,n)||(0,c.k4)(e,n)||"";{let t=(0,c.wd)(e,n);return t&&!(0,i.gl)(t)?t.guid:""}}(e,t),v=(0,l.k9)(()=>m&&y?f(y,e,m):[],[m,e,y]),b=(0,l.k9)(()=>m?_(v,e.filter(e=>{let t=d.get(e);return t?.type==="INSTANCE"}),d,m):{},[e,d,m,v]),w=(0,l.k9)(()=>y&&m?h(y,m,d):[],[y,m,d]),T=(0,l.k9)(()=>{let t=e.reduce((e,t)=>{let n=d.get(t),r=n?.symbolId;return r&&r!==o.AD&&e.add(r),e},new Set);return w.filter(e=>t.has(e.guid))},[w,e,d]),N=(0,l.k9)(()=>y&&m?E(y,e,m):{},[y,e,m]);return r.useMemo(()=>({typedPropDefsExcludingHidden:v,variantPropDefs:g,assignmentValuesByDefId:b,allStateVariantProps:w,backingStateVariantProps:T,statePropertyValues:N,productComponentGUID:y}),[v,g,b,w,T,N,y])}function g(e,t,n,a){let o;let i=(0,l.k9)(()=>n?f(n,[e],t):[],[e,n,t]),s=(0,l.k9)(()=>n?(0,p.Jm)(n,t):[],[n,t]),c=(0,l.k9)(()=>_(i,[e],a,t),[e,t,a,i]),d=(0,l.k9)(()=>n&&a.get(n)?.isStateGroup?h(n,t,a):[],[n,t,a]),u=(0,l.k9)(()=>n?E(n,[e],t):{},[e,n,t]),m=a.get(e)?.symbolId;return m&&a.get(m)?.isState||(o=[]),o=d.filter(e=>m===e.guid),r.useMemo(()=>({typedPropDefsExcludingHidden:i,variantPropDefs:s,assignmentValuesByDefId:c,allStateVariantProps:d,backingStateVariantProps:o,statePropertyValues:u}),[i,s,c,d,o,u])}function f(e,t,n){let r=(0,c.ZH)(t,n);return(0,c.aO)(e,n).filter(e=>!r.has(e.explicitDefID))}function _(e,t,n,r){let a={};return e.forEach(e=>{let o=new Set;for(let n of t){let t=r[n]?.assignments?.[e.explicitDefID];if(t){if(t.isMixed){o.add(i.oV);continue}null!=t.value&&o.add(t.value)}}a[e.explicitDefID]=(0,c.m5)(e.type,o,n)}),a}function h(e,t,n){let r=n.get(e);return r?.isStateGroup?r.childrenNodes.reduce((e,n)=>{let r=t[n.guid]?.stateVariantProps;return r?e.push({...r,guid:n.guid}):e.push({propertyValues:n.statePropertyValues,guid:n.guid}),e},[]):[]}function E(e,t,n){let r=n[e]?.stateGroupVariantProps?.propertySortOrder??[];return(0,d.s)(n,t,r)}},371686:(e,t,n)=>{n.d(t,{u:()=>m});var r=n(411855),a=n(188507),o=n(153234),l=n(522739),i=n(574176),s=n(939863),c=n(336599),d=n(386976),u=n(764643),p=n(42638);function m({onRetry:e,recordingKey:t}){let n=(0,a.d4)(e=>(0,c.VP)(e.loadingState,(0,d._A)(e.openFile?.key)));return r.createElement("div",{className:u.warningOfflineContainer},r.createElement("div",{className:u.warning},r.createElement(i.B,{className:u.offlineIcon,svg:p.A}),r.createElement("span",null,(0,s.t)("design_systems.component_properties.cant_show_values")),n?r.createElement("span",{className:u.trying},(0,s.t)("design_systems.component_properties.trying")):r.createElement(l.oj,{className:u.tryAgain,onClick:e,role:"button",tabIndex:0,recordingKey:o.Pt(t,"preferredValues","tryAgain")},(0,s.t)("design_systems.component_properties.try_again"))))}},393965:(e,t,n)=>{n.d(t,{qC:()=>nb,e6:()=>nN,tO:()=>nI,ME:()=>nw,R$:()=>nx,t8:()=>nC,BK:()=>nT});var r=n(411855),a=n(188507),o=n(463420),l=n(96796),i=n(201706),s=n(587670),c=n(629019),d=n.n(c),u=n(153234),p=n(522739),m=n(552048),g=n(939863),f=n(29680),_=n(721478),h=n(45148),E=n(690710),y=n(893606),v=n(939791),b=n(273226);let w=(0,r.createContext)({isDraggingSomePropDef:!1,setIsDraggingSomePropDef:e=>{}});function T({children:e}){let[t,n]=(0,r.useState)(!1);return r.createElement(w.Provider,{value:{isDraggingSomePropDef:t,setIsDraggingSomePropDef:n}},e)}let N=()=>r.useContext(w);var I=n(467302),S=n(602029),C=n(459401),x=n(634832),A=n(752795),R=n(823223),k=n(256296),O=n(215122),P=n(354189),D=n(335601),M=n(966712),L=n(498750),K=n(667167),F=n(762638),B=n(244673),U=n(286954),z=n(632430),V=n(662531),H=n(843495),X=n(848661),G=n(869156),W=n(335682),$=n(100197),Y=n(173454),j=n(498606),q=n(219101),J=n(91271),Z=n(412297),Q=n(278256),ee=n(773833),et=n(7959),en=n(213100),er=n(149988),ea=n(282263),eo=n(564092),el=n(533573),ei=n(712685),es=n(952277),ec=n(15270),ed=n(767129),eu=n(523099),ep=n(416580),em=n(555074),eg=n(535904),ef=n(473199),e_=n(683859);let eh="prop_assignment_row--propAssignmentRow--OKB5Y prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P",eE="prop_assignment_row--propAssignmentRowWide--B6bnW prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P",ey="prop_assignment_row--propAssignmentRowUnbounded--pdfzN prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P",ev="prop_assignment_row--componentPropNameContainer--JeWEJ",eb="prop_assignment_row--componentPropNameViewOnly--1bJdB prop_assignment_row--componentPropName--ZazSF ellipsis--ellipsis--Tjyfa",ew="prop_assignment_row--assignmentValueContainerUi3--z4cZN",eT="prop_assignment_row--input---hZFU props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",eN="prop_assignment_row--blankInput--8cHb6 prop_assignment_row--input---hZFU props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",eI="prop_assignment_row--viewOnlyInput--AusfO prop_assignment_row--input---hZFU props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",eS="prop_assignment_row--toggleContainer--ch-lY prop_assignment_row--assignmentValueContainer--rO3FJ raw_components--singleRowHeight--dKM4t",eC="prop_assignment_row--variantPillContainer--I73vy",ex="prop_assignment_row--variantPropDetach--XhRyN",eA="prop_assignment_row--ui3VariantPillContainer--tzUFe",eR="prop_assignment_row--ui3TypedPropAssignmentRow--3MHYU",ek="prop_assignment_row--ui3RowWithIcon--MjxKa",eO="prop_assignment_row--ui3ShowOnRowHover---TwLe";var eP=n(5068);function eD({isPickerShowing:e,onClick:t,recordingKey:n}){let a=(0,y.R)(),o=r.useContext(e_.p),l=e??o?.isShowingBindingUI,i=t??o?.showBindingUI;return a?r.createElement("span",{className:d()(eO,{"prop_assignment_row--ui3SelectedIcon--Opfq2":l})},r.createElement(eg.d,{toggled:!!l,onClick:e=>i?i(e.currentTarget):void 0,"aria-label":(0,g.t)("proto.assign_variant"),recordingKey:u.Pt(n,"assignVariantProp"),htmlAttributes:{"data-tooltip":(0,g.t)("proto.assign_variant"),"data-tooltip-type":j.Ib.TEXT}},r.createElement(ef.D,null))):r.createElement(et.K0,{className:d()("prop_assignment_row--bindingIcon--EAEMs",{"prop_assignment_row--selectedIcon--8fypm":l}),svg:eP.default,onClick:i,"data-tooltip":(0,g.t)("proto.assign_variant"),"data-tooltip-type":j.Ib.TEXT,recordingKey:u.Pt(n,"assignVariantProp")})}function eM({value:e,hasBinding:t,variableType:n,requestedTypes:a,onVariableSelected:o,onComponentPropSelected:l,onClearBinding:i,recordingKey:c}){let d=(0,em.kl)("isInstanceSublayerSelected"),p=e.type===s.Z_n.ALIAS?e.value:void 0,m=e.type===s.Z_n.NODE_FIELD_ALIAS?(0,ee.aA)(e.value.stablePathToNode,e.value.indexOrKey):void 0,f=(0,G.u)(p),_=(0,eo.Px)(),h=r.useMemo(()=>s.CWU.getVariableSetKeyForPublish(f?.variableSetId??"")??"",[f?.variableSetId]),E=h in _?_[(0,O.yG)(h)]:void 0,y=r.useMemo(()=>E?{[(0,O.yG)(h)]:E}:void 0,[E,h]),v=(0,G.BQ)(p??void 0,y)??m?.varValue;return t?r.createElement("span",{className:eO},r.createElement(ed.K,{onClick:()=>i(v),recordingKey:u.Pt(c,"detachButton"),"aria-label":(0,g.t)("design_systems.component_properties.detach_property")},m&&d&&!f?r.createElement(eu.E,null):r.createElement(ep.U,null))):((0,x.assertNotNullish)(n),r.createElement(ea.hu,{boundVariableId:void 0,resolvedType:n,requestedTypes:a,onComponentPropSelected:l,onVariableSelected:o},r.createElement(ea.V5,null),r.createElement(eD,{recordingKey:u.Pt(c,"bindingPickerButton")})))}var eL=n(386976),eK=n(371686);function eF(e){let{index:t,guids:n,typedPropDef:o,value:l,containerWidth:i,forBubbledProps:c,hideIcon:u}=e,p=(0,$.J2)(s.Ez5.propertiesPanelState().shownPropertiesPanels)[s.ibQ.INSTANCE_ITEM],m=(0,a.wA)(),g=(0,a.d4)(e=>e.selectedComponentPropDefId),[f,_]=r.useState(!1),h=r.useRef(null),E=r.useRef(null),w=(0,y.R)();r.useEffect(()=>{g===o.explicitDefID&&p&&(m(B.n0({propDefId:null})),_(!0),h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{_(!1)},1e3))},[m,g,o,p]);let[T,N]=r.useMemo(()=>o.type===s.J0O.BOOL?[s.rXF.BOOLEAN,[s.rXF.BOOLEAN]]:o.type===s.J0O.TEXT?[s.rXF.TEXT_DATA,[s.rXF.STRING]]:o.type===s.J0O.NUMBER?[s.rXF.FLOAT,[s.rXF.FLOAT]]:[void 0,void 0],[o.type]),I=!!((0,M.kc)().ds_variable_props_binding&&o.type!==s.J0O.INSTANCE_SWAP&&void 0!==T&&void 0!==N),S=l&&"object"==typeof l&&"type"in l&&l.type===s.Z_n.ALIAS,C=l&&"object"==typeof l&&"type"in l&&l.type===s.Z_n.NODE_FIELD_ALIAS,A=r.useMemo(()=>S||C,[S,C]);if(void 0===l)return null;let R=E.current,k=!!R&&R.offsetWidth<R.scrollWidth,O=r.createElement("div",{className:d()(ev,{"prop_assignment_row--componentPropNameContainerUi3--TcFn9 prop_assignment_row--componentPropNameContainer--JeWEJ":i===b.O2.RESIZABLE_SIDEBAR,"prop_assignment_row--textPropName--le7nN":o.type===s.J0O.TEXT})},r.createElement("div",{ref:E,className:eb,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":k?o.name:null},o.name)),P=r.createElement(q.e,{condition:I,wrapper:e=>((0,x.assertNotNullish)(T),r.createElement(ea.hu,{boundVariableId:void 0,resolvedType:T,requestedTypes:N,onComponentPropSelected:e=>{let t=(0,b.FF)(e);V.l7.user("component-prop-assignment",()=>s.glU.setComponentPropAssignmentVariableData(n,o.explicitDefID,t,c))},onVariableSelected:e=>{void 0!==e&&V.l7.user("component-prop-assignment",()=>s.glU.setComponentPropAssignmentVariableData(n,o.explicitDefID,(0,eo.y$)(T,e.node_id),c))}},r.createElement(ea.V5,null),e))},S&&I?r.createElement(eV,{...e}):C&&I?r.createElement(eH,{...e}):o.type===s.J0O.BOOL?r.createElement(ez,{...e}):o.type===s.J0O.TEXT?r.createElement(eG,{...e}):o.type===s.J0O.NUMBER?r.createElement(eX,{...e}):o.type===s.J0O.INSTANCE_SWAP?r.createElement(eW,{...e}):r.createElement(r.Fragment,null));return o.type!==s.J0O.NUMBER||(0,M.kc)().ds_variable_props_number_type?w?u?r.createElement(er.g,{appendedClassName:eR,onMouseEnter:()=>H.dH({nodeIDs:n,defID:o.explicitDefID}),onMouseLeave:()=>H.dH({nodeIDs:[],defID:""}),leftLabel:null,leftInput:O,rightLabel:null,rightInput:P}):r.createElement(v.fn,{recordingKey:`componentPropertyRow.${t}`,appendedClassName:d()(eR,{[ek]:I}),onMouseEnter:()=>H.dH({nodeIDs:n,defID:o.explicitDefID}),onMouseLeave:()=>H.dH({nodeIDs:[],defID:""}),leftLabel:null,leftInput:O,rightLabel:null,rightInput:P,icon:I?r.createElement(eM,{value:l,hasBinding:A,variableType:T,requestedTypes:N,onComponentPropSelected:e=>{let t=(0,b.FF)(e);V.l7.user("component-prop-assignment",()=>s.glU.setComponentPropAssignmentVariableData(n,o.explicitDefID,t,c))},onVariableSelected:e=>{(0,x.assertNotNullish)(T),void 0!==e&&V.l7.user("component-prop-assignment",()=>s.glU.setComponentPropAssignmentVariableData(n,o.explicitDefID,(0,eo.y$)(T,e.node_id),c))},onClearBinding:e=>{V.l7.user("component-prop-assignment",()=>{s.glU.unbindComponentPropAssignment(n,o.explicitDefID,e,c)})},recordingKey:"typedComponentPropAssignmentRow"}):void 0}):r.createElement(et.fI,{className:d()(function(e){switch(e){case b.O2.REGULAR:case void 0:return eh;case b.O2.WIDE:return eE;case b.O2.UNBOUNDED:return ey;case b.O2.RESIZABLE_SIDEBAR:return"prop_assignment_row--propAssignmentRowUi3--hzT9d prop_assignment_row--_propAssignmentRowBase--Qk4mQ raw_components--flushLeft--YH-5P"}}(i),{"prop_assignment_row--tempSelection--gl3SL":f}),recordingKey:`componentPropertyRow.${t}`,onMouseEnter:()=>H.dH({nodeIDs:n,defID:o.explicitDefID}),onMouseLeave:()=>H.dH({nodeIDs:[],defID:""})},O,P):null}function eB(e){switch(e){case b.O2.REGULAR:case void 0:return"prop_assignment_row--assignmentValueContainer--rO3FJ";case b.O2.WIDE:return"prop_assignment_row--assignmentValueContainerWide--mp3VT prop_assignment_row--assignmentValueContainer--rO3FJ";case b.O2.UNBOUNDED:return"prop_assignment_row--assignmentValueContainerUnbounded--jU7hP";case b.O2.RESIZABLE_SIDEBAR:return ew}}function eU(e){switch(e){case b.O2.REGULAR:case void 0:return"prop_assignment_row--assignmentValue--cDoaf";case b.O2.WIDE:return"prop_assignment_row--assignmentValueWide--qz5Td prop_assignment_row--assignmentValue--cDoaf";case b.O2.UNBOUNDED:return"prop_assignment_row--assignmentValueUnbounded--gufvh"}}function ez({value:e,viewOnly:t,guids:n,typedPropDef:o,containerWidth:l,forBubbledProps:i}){let c=(0,a.wA)(),p=(0,y.R)(),m=(0,a.d4)(e=>e.instanceSwapPickerShown),g=r.useCallback(e=>{V.l7.user("toggle-bool-prop-assignment",()=>{(0,M.kc)().ds_variable_props_binding?s.glU.setComponentPropAssignmentVariableData(n,o.explicitDefID,(0,ec.WI)(s.rXF.BOOLEAN,e),i):s.glU.setBoolComponentPropAssignment(n,o.explicitDefID,e,i)}),m?.isShown&&c((0,U.vq)())},[m,n,o.explicitDefID,i,c]);return r.createElement("div",{className:eB(l)},r.createElement("div",{className:eU(l)},p?r.createElement(R.d,{checked:e,label:r.createElement(k.h,null,o.name),onChange:g,recordingKey:u.Pt("componentPropAssignmentToggle",n.join("-"),o.explicitDefID),disabled:t}):r.createElement(en.l,{toggleClassName:function(e){switch(e){case b.O2.RESIZABLE_SIDEBAR:return d()(ew,eS);case b.O2.REGULAR:case b.O2.UNBOUNDED:case b.O2.WIDE:case void 0:return eS;default:(0,x.assertNever)(e)}}(l),on:e,disabled:t,onChange:g,recordingKey:u.Pt("componentPropAssignmentToggle",n.join("-"),o.explicitDefID),forwardEventsToFullscreen:!0})))}function eV({value:e}){let t=(0,y.R)(),n=(0,X.gl)(e),a=e.value,o=(0,G.u)(a),l=(0,eo.Px)(),i=r.useMemo(()=>s.CWU.getVariableSetKeyForPublish(o?.variableSetId??"")??"",[o?.variableSetId]),c=i in l?l[(0,O.yG)(i)]:void 0,d=r.useMemo(()=>c?{[(0,O.yG)(i)]:c}:void 0,[c,i]),u=(0,G.BQ)(a??void 0,d);return o?r.createElement("div",{className:eC},r.createElement(es.P,{value:n?(0,g.t)("design_systems.component_properties.mixed"):o?.name,variableId:a&&!n?a:void 0,isStandalone:!0,thumbnailValue:"MIXED"!==u?u:void 0,isDeleted:(0,el.eF)(o),classNameOverride:t?F.cx.wFull.$:void 0,varaiablePillContainerClassName:t?eA:void 0,fullWidth:t})):r.createElement(r.Fragment,null)}function eH({value:e}){let t=(0,X.gl)(e),n=(0,y.R)(),a=(0,ee.aA)(e.value.stablePathToNode,e.value.indexOrKey);if(!a)return r.createElement(r.Fragment,null);let o=a?(0,ee.Xx)(a.varValue.resolvedType):void 0;return r.createElement("div",{className:eC},r.createElement(es.P,{value:t?(0,g.t)("design_systems.component_properties.mixed"):a.name,isStandalone:!0,thumbnailValue:o??void 0,classNameOverride:n?F.cx.wFull.$:void 0,varaiablePillContainerClassName:n?eA:void 0,fullWidth:n,colorTheme:ei.J.COMPONENT}))}function eX({value:e,typedPropDef:t,guids:n,forBubbledProps:a,containerWidth:o,viewOnly:l,index:i}){let{inputRef:c,inputProps:{onChange:p,onFocus:m,onMouseLeave:f,onMouseUp:_,onKeyUp:h}}=(0,D.X)({onFocus:()=>{(0,X.gl)(e)?y(""):y(w)},onChange:e=>y(e.currentTarget.value)}),[E,y]=r.useState(null),v=r.useMemo(()=>(0,X.gl)(e)||!E?0:(0,b.T1)(E),[E,e]),w=(0,X.gl)(e)?(0,g.t)("design_systems.component_properties.mixed"):(0,b.lg)(Number(e)),T=()=>{(0,A.isNotNullish)(E)&&V.l7.user("set-number-prop-assignment",()=>{(0,M.kc)().ds_variable_props_binding?s.glU.setComponentPropAssignmentVariableData(n,t.explicitDefID,(0,ec.WI)(s.rXF.FLOAT,v),a):s.glU.setNumberComponentPropAssignment(n,t.explicitDefID,v,a)}),c.current&&(c.current.scrollTop=0,c.current.blur()),y(null)};return r.createElement("div",{className:eB(o)},r.createElement("div",{className:eU(o)},r.createElement(J.v,{ref:e=>{e?.textarea&&(c.current=e.textarea)},className:d()({[eI]:l,[eN]:""===w&&!l,[eT]:!l&&""!==w}),value:null===E?w:E,placeholder:(0,X.gl)(e)?w:void 0,onChange:p,onFocus:m,onMouseLeave:f,onMouseUp:_,onKeyDown:e=>{e.keyCode!==L.Uz.ENTER||e.shiftKey||(e.preventDefault(),T())},onKeyUp:h,onBlur:T,disableInput:l,recordingKey:u.Pt("componentPropAssignmentNumberInput",n.join("-"),i)})))}function eG({value:e,typedPropDef:t,guids:n,forBubbledProps:a,containerWidth:o,viewOnly:l,index:i}){let{inputRef:c,inputProps:{onChange:p,onFocus:m,onMouseLeave:f,onMouseUp:_,onKeyUp:h}}=(0,D.X)({onFocus:()=>{(0,X.gl)(e)?y(""):y(v)},onChange:e=>y(e.currentTarget.value)}),[E,y]=r.useState(null),v=t.type===s.J0O.TEXT?(0,X.gl)(e)?(0,g.t)("design_systems.component_properties.mixed"):e:null,b=()=>{(0,A.isNotNullish)(E)&&V.l7.user("set-text-prop-assignment",()=>{(0,M.kc)().ds_variable_props_binding?s.glU.setComponentPropAssignmentVariableData(n,t.explicitDefID,(0,ec.WI)(s.rXF.TEXT_DATA,{characters:E}),a):s.glU.setTextComponentPropAssignment(n,t.explicitDefID,E,a)}),c.current&&(c.current.scrollTop=0,c.current.blur()),y(null)};return r.createElement("div",{className:eB(o)},r.createElement("div",{className:eU(o)},r.createElement(J.v,{ref:e=>{e?.textarea&&(c.current=e.textarea)},className:d()({[eI]:l,[eN]:""===v&&!l,[eT]:!l&&""!==v}),value:null===E?v:E,placeholder:(0,X.gl)(e)?v:null,onChange:p,onFocus:m,onMouseLeave:f,onMouseUp:_,onKeyDown:e=>{e.keyCode!==L.Uz.ENTER||e.shiftKey||(e.preventDefault(),b())},onKeyUp:h,onBlur:b,disableInput:l,recordingKey:u.Pt("componentPropAssignmentTextInput",n.join("-"),i)})))}function eW({value:e,viewOnly:t,guids:n,typedPropDef:o,containerWidth:l,forBubbledProps:i,inPlayground:c,sceneGraph:d,instanceSwapPickerInitialHeight:u,instanceSwapPickerInitialPosition:p,entrypointForInstanceSwapPicker:m}){let f=(0,a.wA)(),_=(0,a.d4)(W.sS),{preferredValues:h,preferredValuesFetchError:E,retryPreferredValuesFetch:y}=(0,eL.xP)(o),v=r.useMemo(()=>E?r.createElement(eK.u,{onRetry:y,recordingKey:"componentPropAssignment"}):void 0,[E,y]),w=r.useCallback(e=>{f((0,z.uP)({item:e,alwaysFetch:c,targetUpsertScene:c?s.ZiZ.PLAYGROUND_SCENE:s.ZiZ.ACTIVE_SCENE,callback:t=>{V.l7.user("set-instance-prop-assignment",()=>s.glU.setInstanceComponentPropAssignment(n,o.explicitDefID,t,e.type===Y.PW.STATE_GROUP?(0,b.ui)(e,t,_):"",i,0===h.length?s.VQu.NOT_APPLICABLE:h.includes(e)?s.VQu.YES:s.VQu.NO))}})),H.dH({nodeIDs:[],defID:""})},[f,i,n,_,c,h,o]),T=(0,C.flatten)(n.map(e=>s.glU.getInstanceSublayersControlledByDirectPropAssignment(e,o.explicitDefID).map(e=>P.v.toGuid(e)))),{modalWidth:N}=(0,K.TQ)(K.Zl.INSTANCE_SWAP_PICKER);return r.createElement("div",{className:eB(l)},r.createElement("div",{className:eU(l)},r.createElement(Q.x,{fill:l===b.O2.UNBOUNDED,pickerID:`instance-swap-prop-assignment-picker-${n.join("-")}.${o.explicitDefID}`,pickerWidth:N,shouldPerformSwapOnClick:!1,instanceSwapNode:e,title:(0,g.t)("design_systems.component_properties.choose_instance"),disableToggle:t,preferredItems:h,preferredValuesErrorComponent:v,onSwapCallback:w,sceneGraph:d,instanceSwapPickerInitialHeight:u,initialPosition:p,entrypointForLogging:m})),r.createElement(Z.h_,{instanceAndSublayerGUIDs:T,showAllInstanceOptions:!1}))}function e$({typedPropDefs:e,guids:t,assignmentValues:n,forBubbledProps:a,sceneGraph:o,inPlayground:l,containerWidth:i,viewOnly:s,hideIcon:c,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:u,recordingKey:p,entrypointForInstanceSwapPicker:m}){return r.createElement(S.q,{listItems:e,updateSelection:void 0,isDragDisabled:!0,renderListItem:(e,p)=>r.createElement(eF,{key:p,typedPropDef:e,guids:t,index:p,value:n[e.explicitDefID],containerWidth:i,viewOnly:s,hideIcon:c,forBubbledProps:a,sceneGraph:o,inPlayground:l,instanceSwapPickerInitialHeight:d,instanceSwapPickerInitialPosition:u,entrypointForInstanceSwapPicker:m}),recordingKey:p})}var eY=n(268537),ej=n(356390),eq=n(233890),eJ=n(109388),eZ=n(380620),eQ=n(221768),e0=n(536825),e1=n(498481),e5=n(31524),e2=n(91408),e7=n(794272),e4=n(574176),e3=n(738269),e6=n(293017),e8=n(237929),e9=n(234945),te=n(420186),tt=n(224690);function tn({children:e,inputRef:t,canEdit:n}){return n?r.createElement("div",{className:"false_input_containing_svg--falseInput--cKug0 raw_components--borderFocusWithin--BaipZ",onClick:()=>t.current?.focus(),role:"textbox",tabIndex:0},e):r.createElement("div",{className:F.cx.hFull.wFull.relative.$},e)}var tr=n(731262),ta=n(631437),to=n(540721),tl=n(572206),ti=n(827586),ts=n(46481),tc=n(83909),td=n(760066),tu=n(371623),tp=n(538697),tm=n(656963),tg=n(746806),tf=n(472335);let t_="edit_component_prop_picker--subheading--JbXut",th="edit_component_prop_picker--inputContainer--B8MrR",tE="edit_component_prop_picker--fieldContainer--OMz1x",ty="edit_component_prop_picker--input--pTw-O edit_component_prop_picker--baseInput--xQ5tc raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",tv="edit_component_prop_picker--textArea--SQ8dT edit_component_prop_picker--baseInput--xQ5tc raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",tb="edit_component_prop_picker--valueRowGrabber--Bl-te",tw="edit_component_prop_picker--variantValueInput--i1oj6 edit_component_prop_picker--input--pTw-O edit_component_prop_picker--baseInput--xQ5tc raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V";var tT=n(424148),tN=n(717945),tI=n(953663);let tS="edit-component-prop-picker";function tC({componentPropDef:e}){let{instanceSwapDefaultValue:t,openFileKey:n,pickerShown:o,dropdownShown:l,allStates:c,propertySortOrder:d,isInstanceSwapPickerShown:m}=(0,e7.R)(t=>({instanceSwapDefaultValue:e?.type===s.J0O.INSTANCE_SWAP?(0,b.wd)([e.defaultValue],t.mirror.sceneGraph):null,openFileKey:(0,W.sS)(t),pickerShown:t.pickerShown,dropdownShown:t.dropdownShown,allStates:(0,E.ow)(t)??[],propertySortOrder:(0,E.OC)(t)??[],isInstanceSwapPickerShown:t.instanceSwapPickerShown.isShown})),f=(0,a.wA)(),[_,h]=r.useState(null),y=r.useCallback(e=>h(e.currentTarget.value),[]),{inputRef:v,inputProps:{onChange:w,onFocus:T,onMouseUp:N,onMouseLeave:I,onKeyUp:S}}=(0,D.X)({onFocus:t=>{h(e.name)},onChange:y,autoFocus:!0}),C=r.useCallback(()=>{_&&_!==e.name&&(e.kind===i.u.TYPED?V.l7.user("edit-prop-def-name",()=>s.glU.editComponentPropDefName(e.explicitDefID,_)):V.l7.user("edit-variant-prop-name",()=>(0,tr.q1)(e.name,_,c,d)))},[e,_,c,d]),A=r.useCallback(()=>{o&&f(e6.u1({id:tS,initialX:o.initialX,initialY:o.initialY,data:e.kind===i.u.TYPED?{defID:e.explicitDefID}:{name:_}}))},[o,f,e,_]),R=r.useCallback(e=>{C(),h(null)},[C]),{preferredValues:k,handleSetPreferredValues:O,togglePreferredValues:P}=(0,eL.xP)(e),F=r.useCallback(()=>{f(e6.XE()),f((0,U.vq)())},[f]),B=new tl.Mi(o?.initialX,o?.initialY),{modalWidth:z}=(0,K.TQ)(K.Zl.INSTANCE_SWAP_PICKER),[H,X]=r.useMemo(()=>e.type===s.J0O.BOOL?[s.rXF.BOOLEAN,[s.rXF.BOOLEAN]]:e.type===s.J0O.TEXT?[s.rXF.TEXT_DATA,[s.rXF.STRING]]:e.type===s.J0O.NUMBER?[s.rXF.FLOAT,[s.rXF.FLOAT]]:[void 0,void 0],[e.type]),G=r.useMemo(()=>!!((0,M.kc)().ds_variable_props_binding&&e.type!==s.J0O.INSTANCE_SWAP&&void 0!==H&&void 0!==X),[e.type,X,H]),$=r.useMemo(()=>e.type===s.J0O.BOOL||e.type===s.J0O.NUMBER||e.type===s.J0O.TEXT,[e.type]),Y=r.useMemo(()=>$&&e&&"varValue"in e&&e.varValue&&"object"==typeof e.varValue&&"type"in e.varValue&&e.varValue.type===s.Z_n.ALIAS,[$,e]),j=r.useMemo(()=>Y&&"varValue"in e?e.varValue:void 0,[e,Y]),J=r.useCallback(()=>{if(e.kind===i.u.VARIANT)return null;if(Y&&G)return r.createElement(tM,{value:e.varValue,defID:e.explicitDefID});switch(e.type){case s.J0O.BOOL:return r.createElement(tk,{componentPropDef:e,dropdownShown:l,shouldShowVariableBinding:G,boundVariable:j});case s.J0O.TEXT:return r.createElement(tO,{componentPropDef:e,shouldShowVariableBinding:G});case s.J0O.NUMBER:return r.createElement(tP,{componentPropDef:e,shouldShowVariableBinding:G});case s.J0O.INSTANCE_SWAP:return r.createElement(tD,{componentPropDef:e,modalWidth:z,instanceSwapDefaultValue:t,openFileKey:n});default:(0,x.assertNever)(e)}},[j,e,l,t,z,n,G,Y]),Z=r.useMemo(()=>r.createElement(q.e,{condition:G,wrapper:t=>((0,x.assertNotNullish)(H),r.createElement(ea.hu,{boundVariableId:void 0,resolvedType:H,requestedTypes:X,onVariableSelected:t=>{void 0!==t&&V.l7.user("component-prop-def",()=>s.glU.setComponentPropDefVariableData(e.explicitDefID,(0,eo.y$)(H,t.node_id)))}},r.createElement(ea.V5,null),t))},J()??r.createElement(r.Fragment,null)),[e,J,X,G,H]);return(0,M.kc)().ds_variable_props_number_type||e.type!==s.J0O.NUMBER?r.createElement(tg.vx,{title:(0,g.t)("design_systems.component_properties.edit_component_property",{propType:(0,b.xb)(e.type).toLocaleLowerCase()}),initialPosition:B,initialWidth:b.wh,headerSize:"small",onClose:F,onClick:m?()=>f((0,U.vq)()):void 0,recordingKey:u.Pt("editComponentPropDefPicker",e.kind===i.u.VARIANT?e.name:e.explicitDefID)},r.createElement("div",{className:tE},r.createElement("p",{className:t_},(0,g.tx)("design_systems.component_properties.name")),r.createElement(p.u2,{forwardedRef:v,className:ty,onChange:w,onKeyDown:e=>{e.stopPropagation(),e.keyCode!==L.Uz.ENTER||e.shiftKey||(e.currentTarget.blur(),A()),e.keyCode===L.Uz.ESCAPE&&(e.currentTarget.blur(),F()),e.keyCode===L.Uz.TAB&&A()},onBlur:R,onClick:()=>f((0,U.vq)()),onFocus:T,value:null===_?e?.name||"":_,onMouseUp:N,onMouseLeave:I,onKeyUp:S,recordingKey:"editComponentPropName"})),e.kind===i.u.TYPED?r.createElement("div",{className:tE},r.createElement("p",{className:t_},(0,g.tx)("design_systems.component_properties.default_value")),Z):r.createElement(tx,{def:e}),e.type===s.J0O.INSTANCE_SWAP&&r.createElement(tf.D,{recordingKey:"edit-component-prop-preferred-values-picker",swapPickerId:"edit-component-prop-preferred-values-picker",swapPickerWidth:z,onSetComponents:O,addComponents:e=>P(e,eL.Kn.ADD),removeComponents:e=>P(e,eL.Kn.REMOVE),toggleComponent:e=>P([e]),values:k,propDefDefaultValue:(0,b.dl)(e.type,e.defaultValue),entrypointForLogging:tu.S.PreferredValuesPickerEntrypoint.EDIT_COMPONENT_PROP_PICKER})):null}function tx({def:e}){let{allStates:t,stateGroup:n,stateGroupPropertySortOrder:a}=(0,e7.R)(e=>({allStates:(0,E.ow)(e),stateGroup:(0,E.NA)(e),stateGroupPropertySortOrder:(0,E.OC)(e)})),[o,l]=r.useState([]),[i,c]=r.useState(null),[d,p]=r.useState(null),m=(0,y.R)(),f=r.useCallback(t=>{let r=n?.nodeId;r&&t.length===e.values.length&&V.l7.user("reorder-variant-prop-values",()=>{for(let n=0;n<t.length;n++)t[n]!==e.values[n]&&s.glU.reorderStateGroupPropertyValue(r,e.name,t[n],n)})},[n,e]),_=r.useMemo(()=>{let n={};return t?.forEach(t=>{let r=t.stateInfo.propertyValues;if(!r)return;let a=r[e.name];a in n||(n[a]=[]),n[a].push(t.symbol.node_id)}),n},[t,e]),h=r.useCallback(e=>{H.wr(),H.Dh(_[e]??[]),s.Ez5.canvasViewState().temporarilyHoveredNodes.set([])},[_]),b=r.useCallback((n,r)=>{t&&a&&""!==(r=(0,tr.QV)(r))&&(V.l7.user("rename-variant-prop-value",()=>{t.forEach(t=>{let o=t.stateInfo.propertyValues;o&&o[e.name]===n&&H.i(t.symbol.node_id,(0,tr.zh)({...o,[e.name]:r},a))})}),ej.Y5.commit(),tc.wt.reportEditAction("rename-states"),p(null))},[t,e,a]),w=r.useCallback((e,t)=>{e.keyCode===L.Uz.ENTER&&b(t,e.currentTarget.value)},[b]),T=r.useRef(null),[N,I]=r.useState(!1),C=r.useCallback(()=>I(!0),[]),x=r.useCallback(()=>I(!1),[]);return(0,to.C)(T.current?.getScrollContainer(),N),r.createElement(r.Fragment,null,r.createElement("p",{className:"edit_component_prop_picker--variantValuesSubheading--L0zoU edit_component_prop_picker--subheading--JbXut"},(0,g.tx)("design_systems.component_properties.values")),r.createElement(ti.P,{className:"edit_component_prop_picker--variantList--K6wCE",ref:T},r.createElement(S.q,{listItems:e.values,selectedIndices:o,updateSelection:l,onChange:f,onDragStart:C,onDragEnd:x,renderListItem:(t,n,a,o,g,f,E)=>{let y=t in _?_[t]:[],T=y.length,N=d===n;function I(){c(n),s.Ez5.canvasViewState().temporarilyHoveredNodes.set(y)}function C(){c(null),s.Ez5.canvasViewState().temporarilyHoveredNodes.set([])}return m?r.createElement(v.Y9,{selected:a,singletonRow:1===e.values.length,dragging:o,onMouseDown:g,onMouseMove:f,onMouseUp:E,onMouseEnter:I,onMouseLeave:C,recordingKey:u.Pt("variantPropertyValueRow",t),grabberClassName:tb},r.createElement(v.oO,{input:r.createElement(tA,{value:t,index:n,isRenaming:N,onInputKeyDown:w,setRenamingIndex:p,setSelectedIndices:l,renameValueForAllStates:b})},i===n&&!o&&r.createElement(tR,{value:t,numVariantsWithPropertyValue:T,selectVariantsWithPropertyValue:h}))):r.createElement(S.e,{selected:a,singletonRow:1===e.values.length,dragging:o,onMouseDown:g,onMouseMove:f,onMouseUp:E,onMouseEnter:I,onMouseLeave:C,recordingKey:u.Pt("variantPropertyValueRow",t),grabberClassName:tb,className:o||a?"edit_component_prop_picker--variantValueRow--83Sb2":"edit_component_prop_picker--variantValueRowWithHover--jS1pH edit_component_prop_picker--variantValueRow--83Sb2"},r.createElement(tA,{value:t,index:n,isRenaming:N,onInputKeyDown:w,setRenamingIndex:p,setSelectedIndices:l,renameValueForAllStates:b}),i===n&&!o&&r.createElement(tR,{value:t,numVariantsWithPropertyValue:T,selectVariantsWithPropertyValue:h}))}})))}function tA({value:e,index:t,isRenaming:n,onInputKeyDown:a,setRenamingIndex:o,setSelectedIndices:l,renameValueForAllStates:i}){return r.createElement("div",{className:"edit_component_prop_picker--variantValueInputWrapper---9s9m"},n?r.createElement(p.u2,{className:tw,onKeyDown:t=>a(t,e),onBlur:t=>i(e,t.currentTarget.value),recordingKey:u.Pt("editVariantPropertyValue",t),defaultValue:e,onFocus:e=>e.target?.select(),autoFocus:!0}):r.createElement(p.D8,{className:tw,onMouseDown:e=>e.stopPropagation(),onFocus:()=>{o(t),l([t])},tabIndex:0,recordingKey:u.Pt("variantValueName",t)},e))}function tR({value:e,numVariantsWithPropertyValue:t,selectVariantsWithPropertyValue:n}){let a=(0,g.t)("design_systems.component_properties.select_variants_with_property_value",{numVariants:t});return r.createElement(ed.K,{disabled:!t,onClick:()=>n(e),"aria-label":a,recordingKey:u.Pt("editComponentPropDefPicker","targetButton"),htmlAttributes:{onMouseDown:e=>e.stopPropagation(),"data-tooltip":a,"data-tooltip-type":j.Ib.TEXT}},r.createElement(ts.U,{svg:tI.A,fallbackSvg:tN.A},r.createElement(ta.A,null)))}function tk({componentPropDef:e,dropdownShown:t,shouldShowVariableBinding:n,boundVariable:o}){let l=(0,a.wA)(),i=r.useCallback(t=>{e.type===s.J0O.BOOL&&t!==(0,b.dl)(s.J0O.BOOL,e.defaultValue)&&V.l7.user("edit-prop-default-value",()=>s.glU.editBoolComponentPropDefDefaultValue(e.explicitDefID,t))},[e]);return r.createElement("div",{className:th},n?r.createElement(tm.g,{variableValue:o??(0,ec.WI)(s.rXF.BOOLEAN,(0,b.dl)(s.J0O.BOOL,e.defaultValue)),onChange:e=>{i(e.value)},recordingKey:u.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))}):r.createElement(tp.l6,{id:"edit-component-prop-default-value-select",property:(0,b.dl)(s.J0O.BOOL,e.defaultValue),onChange:i,dispatch:l,formatter:b.X9,dropdownShown:t,inputClassName:ty,recordingKey:u.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))},r.createElement(tp.c$,{value:!0}),r.createElement(tp.c$,{value:!1})))}function tO({componentPropDef:e,shouldShowVariableBinding:t}){let[n,a]=r.useState(e.type===s.J0O.TEXT?e.defaultValue:""),o=r.useCallback(()=>{e.type===s.J0O.TEXT&&n&&n!==e.defaultValue&&V.l7.user("edit-prop-default-value",()=>{s.glU.editTextComponentPropDefDefaultValue(e.explicitDefID,n)})},[e,n]);return r.createElement("div",{className:th},r.createElement(q.e,{condition:t,wrapper:e=>r.createElement(td.sJ,{noBorder:!0,recordingKey:u.Pt("componentPropDefTextInput","variableInputControl")},e)},r.createElement(J.v,{className:tv,onChange:e=>V.l7.user("edit-prop-default-value",()=>a(e.currentTarget.value)),onBlur:o,onKeyDown:e=>{e.stopPropagation(),e.keyCode!==L.Uz.ENTER||e.shiftKey||e.currentTarget.blur()},value:n,onFocus:e=>e.currentTarget?.select(),recordingKey:u.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))})))}function tP({componentPropDef:e,shouldShowVariableBinding:t}){let[n,a]=r.useState(e.type===s.J0O.NUMBER?e.defaultValue:0),o=r.useCallback(e=>{(0,b.Rq)(e)&&a((0,b.T1)(e))},[]),l=r.useCallback(()=>{e.type===s.J0O.NUMBER&&n&&n!==e.defaultValue&&V.l7.user("edit-prop-default-value",()=>s.glU.editNumberComponentPropDefDefaultValue(e.explicitDefID,n))},[e,n]);return r.createElement("div",{className:th},r.createElement(q.e,{condition:t,wrapper:e=>r.createElement(td.sJ,{noBorder:!0,recordingKey:u.Pt("componentPropDefNumberInput","variableInputControl")},e)},r.createElement(J.v,{className:tv,onChange:e=>V.l7.user("edit-prop-default-value",()=>o(e.currentTarget.value)),onBlur:l,onKeyDown:e=>{e.stopPropagation(),e.keyCode!==L.Uz.ENTER||e.shiftKey||e.currentTarget.blur()},value:(0,b.lg)(n),onFocus:e=>e.currentTarget?.select(),recordingKey:u.Pt("editComponentPropDefaultValue",(0,b.xb)(e.type))})))}function tD({componentPropDef:e,modalWidth:t,instanceSwapDefaultValue:n,openFileKey:o}){let l=(0,f.eY)(),i=(0,a.wA)(),{preferredValues:c,preferredValuesFetchError:d,retryPreferredValuesFetch:u}=(0,eL.xP)(e),p=r.useMemo(()=>d?r.createElement(eK.u,{onRetry:u,recordingKey:"editComponentPropDef"}):void 0,[d,u]);return r.createElement("div",{className:th},r.createElement(Q.x,{pickerID:`edit-instance-swap-prop-picker-${e.explicitDefID}`,pickerWidth:t,shouldPerformSwapOnClick:!0,instanceSwapNode:n,title:(0,g.t)("design_systems.component_properties.choose_default_instance_value"),preferredItems:c,preferredValuesErrorComponent:p,sceneGraph:l,onSwapCallback:t=>{i((0,z.uP)({item:t,callback:n=>{let r=t.type===Y.PW.STATE_GROUP?(0,b.ui)(t,n,o):n;V.l7.user("edit-prop-default-value",()=>s.glU.editInstanceComponentPropDefDefaultValue(e.explicitDefID,r))}}))},entrypointForLogging:tu.S.InstancePickerEntrypoint.EDIT_COMPONENT_PROP_PICKER}))}function tM({value:e,defID:t}){let n=e.value,a=(0,G.u)(n),o=(0,G.BQ)(n??void 0);return a?r.createElement("div",null,r.createElement("div",{className:eC},r.createElement(es.P,{value:a?.name,variableId:n,isStandalone:!0,thumbnailValue:o,isDeleted:(0,el.eF)(a)})),r.createElement(ed.K,{onClick:()=>{V.l7.user("component-prop-def",()=>s.glU.unbindComponentPropDef(t,o))},htmlAttributes:{"data-tooltip":(0,g.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":j.Ib.TEXT},recordingKey:u.Pt("componentPropDef","detachVariableButton"),"aria-label":(0,g.t)("design_systems.component_properties.detach_property")},r.createElement(ts.U,{className:ex,svg:tT.A,fallbackSvg:tT.A},r.createElement(ta.A,null)))):r.createElement(r.Fragment,null)}var tL=n(107244),tK=n(860168);let tF="component_prop_def_row--input--Heq8r props_panel--input--pkL0- raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u sf_pro--uiFontWithSFProFallback--m-p9V",tB="component_prop_def_row--componentPropDefName--bUVTI ellipsis--ellipsis--Tjyfa sf_pro--uiFontWithSFProFallback--m-p9V",tU="component_prop_def_row--componentPropVariantValues--mTqSx",tz="component_prop_def_row--selectedRowIcon--3uhSg",tV="component_prop_def_row--rowAction--rAfBQ",tH="component_prop_def_row--selectedRowAction--P8TAv component_prop_def_row--rowAction--rAfBQ";var tX=n(531800),tG=n(999918),tW=n(87171),t$=n(349307);let tY="typed-prop-def-del-dropdown",tj="variant-prop-def-del-dropdown",tq=e=>{e.stopPropagation()},tJ=e=>{e.stopPropagation(),e.preventDefault()};function tZ(e){let{index:t,guids:n,componentPropDef:o,isSelected:l,isDragging:c,singletonRow:d,onPropertyMouseDown:p,onPropertyMouseMove:m,onPropertyMouseUp:g,selectRow:f,onKeyDown:_,recordingKey:h}=e,v=(0,y.R)(y.G.READY),w=r.useMemo(tt.Pe,[]),{pickerShown:T,selectedComponentPropDefId:N,componentWithPropDefSelected:I,allStates:S,propertySortOrder:C}=(0,e7.R)(e=>{let t=(0,e9.qd)(e),n=1===t.length?w(e,t[0]):[];return{pickerShown:e.pickerShown,selectedComponentPropDefId:e.selectedComponentPropDefId,componentWithPropDefSelected:o.kind===i.u.TYPED&&n.some(e=>e.explicitDefID===o.explicitDefID),allStates:(0,E.ow)(e)??[],propertySortOrder:(0,E.OC)(e)??[]}}),x=(0,a.d4)(tL.Nw),A=(0,a.wA)(),R=r.useCallback(e=>W(e.currentTarget.value),[]),{inputRef:k,inputProps:{onChange:O,onFocus:P,onMouseLeave:K,onMouseUp:F}}=(0,D.X)({onChange:R}),[z,X]=r.useState(!1),[G,W]=r.useState(null),$=r.useRef(null),Y=r.useRef(null),j=r.useRef(null),q=o.kind===i.u.TYPED?o.explicitDefID:void 0,J=o.kind===i.u.TYPED?o.type:void 0,Z=o.kind===i.u.VARIANT?o.values:void 0,Q=N&&N===q,ee=null!==G,et=r.useMemo(()=>T?.id===tS&&(o.kind===i.u.TYPED?T.data.defID===q:T.data.name===o.name),[o,T,q]);r.useEffect(()=>{ee&&k.current?.select()},[ee,k]);let en=()=>{G?(W(null),o.kind===i.u.TYPED?V.l7.user("edit-prop-def-name",()=>s.glU.editComponentPropDefName(o.explicitDefID,G)):o.kind===i.u.VARIANT&&V.l7.user("edit-variant-prop-name",()=>(0,tr.q1)(o.name,G,S,C))):v&&W(o.name)},er=r.useCallback(()=>{A(B.n0({propDefId:null})),A((0,U.vq)());let e=eJ.findDOMNode(v?Y.current:$.current),t=e?(0,te.cn)(e,b.wh):{};A(e6.u1({id:tS,initialX:t?.x,initialY:t?.y,data:o.kind===i.u.TYPED?{defID:q}:{name:o.name}}))},[A,v,o,q]);r.useEffect(()=>{Q&&I&&!et&&er()},[Q,I,et,er]);let ea=r.useCallback(e=>{T?.id!==tS||et||A(e6.XE()),g&&g(e)},[A,et,T,g]),eo=r.useCallback(()=>{et?A(e6.XE()):(er(),f())},[A,et,f,er]),el=r.useCallback(()=>{X(!0),q&&H.dH({nodeIDs:n,defID:q})},[n,q]),ei=r.useCallback(()=>{X(!1),H.dH({nodeIDs:[],defID:""})},[]),es=r.useCallback(e=>{if(o.kind===i.u.VARIANT&&d){A(e3.oB());return}T?.id===tS&&A(e6.XE()),A(e3.j7({type:o.kind===i.u.TYPED?tY:tj,data:{position:{top:e.clientY,left:Math.min(e.clientX,window.innerWidth-(0,e2.hG)(tK.uj0)/2)}}}))},[A,o.kind,d,T]),ec=(0,u.rf)(h,"contextmenu",e=>{es(e)}),ed=(0,u.rf)(h,"mouseenter",e=>{el()}),eu=(0,u.rf)(h,"mouseleave",e=>{ei()}),ep=(0,u.rf)(h,"mouseup",e=>{ea(e)}),em=(0,u.rf)(h,"mousedown",e=>{ee&&W(null),et&&A(e6.XE()),p&&p(e)}),eg=(0,u.rf)(h,"mousemove",e=>{m&&m(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),ef=u.rf(h,"dblclick",()=>{f(),W(o.name)}),e_=u.rf(h,"click",()=>{f(),W(o.name)}),eh=j.current,eE=!!eh&&eh.offsetWidth<eh.scrollWidth,{preferredValues:ey}=(0,eL.xP)(o),ev=(0,eL.wS)(ey).size>0,eb=!ee&&(o.error!==s.uXg.NONE||ev),ew=!ee&&(z||et),eT=v?t0:tQ;return(0,M.kc)().ds_variable_props_number_type||J!==s.J0O.NUMBER?r.createElement(eT,{isSelected:l,singletonRow:d,isDragging:c,handlePropertyMouseDown:em,handlePropertyMouseMove:eg,handlePropertyMouseUp:ep,handlePropertyMouseEnter:ed,handlePropertyMouseLeave:eu,handleContextMenu:ec,onDoubleClick:v?void 0:ef,onClick:v?e_:void 0,onKeyDown:_,rowRef:$,ui3RowRef:Y,typedPropType:J,isEditingDefName:ee,defNameInputRef:k,componentPropDef:o,defNameInputOnMouseUp:F,defNameInputOnMouseLeave:K,defNameInputOnFocus:P,onInputKeyDown:e=>{e.stopPropagation(),(e.keyCode===L.Uz.ESCAPE||e.keyCode===L.Uz.ENTER)&&en()},defNameInputOnChange:O,submitDefName:en,defNameRef:j,index:t,isDefNameTruncated:eE,variantPropValues:Z,shouldShowEditIcons:ew,editComponentPropPickerShown:et,toggleEditPropPicker:eo,onDeleteProp:()=>{o.kind===i.u.TYPED?V.l7.user("delete-prop-def",()=>s.glU.deleteComponentPropDefs([o.explicitDefID])):x&&V.l7.user("delete-variant-prop",()=>(0,tr.bk)([o.name],S,C,x))},shouldShowErrorIcon:eb,preferredValuesUnpublishedError:ev}):r.createElement(r.Fragment,null)}function tQ({isSelected:e,singletonRow:t,isDragging:n,handlePropertyMouseDown:a,handlePropertyMouseMove:o,handlePropertyMouseUp:l,handlePropertyMouseEnter:i,handlePropertyMouseLeave:c,handleContextMenu:d,onDoubleClick:m,onKeyDown:f,rowRef:_,typedPropType:h,isEditingDefName:E,defNameInputRef:y,componentPropDef:v,defNameInputOnMouseUp:w,defNameInputOnMouseLeave:T,defNameInputOnFocus:N,onInputKeyDown:I,defNameInputOnChange:C,submitDefName:x,defNameRef:A,index:R,isDefNameTruncated:k,variantPropValues:O,shouldShowEditIcons:P,editComponentPropPickerShown:D,toggleEditPropPicker:M,onDeleteProp:L,shouldShowErrorIcon:K,preferredValuesUnpublishedError:F}){return r.createElement(r.Fragment,null,r.createElement(S.e,{selected:e,singletonRow:t,dragging:n,hideGrabber:!1,onMouseDown:a,onMouseMove:o,onMouseUp:l,onMouseEnter:i,onMouseLeave:c,onContextMenu:d,onDoubleClick:m,onKeyDown:f,tabIndex:0,ref:_},r.createElement("div",{className:"component_prop_def_row--componentPropRow--qb8-e"},r.createElement(e4.B,{svg:h?(0,b.qe)(h):tX.A,className:e?"component_prop_def_row--componentPropIconSelected--uZsSM component_prop_def_row--componentPropIcon--OrfM-":"component_prop_def_row--componentPropIcon--OrfM-","data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,b.xb)(h??s.J0O.VARIANT)})}),E?r.createElement(p.u2,{forwardedRef:y,className:tF,defaultValue:v.name,onMouseUp:w,onMouseLeave:T,onFocus:N,onMouseDown:e=>tq(e),onKeyDown:I,onChange:C,onBlur:x,onContextMenu:tJ,recordingKey:"componentPropRowDefNameInput"}):r.createElement(r.Fragment,null,r.createElement(p.D8,{forwardedRef:A,className:h?tB:"component_prop_def_row--componentPropDefVariantName--vZEqv component_prop_def_row--componentPropDefName--bUVTI ellipsis--ellipsis--Tjyfa sf_pro--uiFontWithSFProFallback--m-p9V",recordingKey:u.Pt("componentPropDefName",R),"data-tooltip-type":j.Ib.TEXT,"data-tooltip":k?v.name:null},v.name),O&&r.createElement("div",{className:tU},"\u30FB",O.join((0,g.t)("design_systems.component_properties.variant_property_values_delimiter")))),P&&r.createElement(r.Fragment,null,r.createElement(et.YW,{svg:tG.A,recordingKey:"componentPropEditButton",className:e&&!D?tz:void 0,onClick:M,onDoubleClick:tq,onMouseDown:tq,onContextMenu:tJ,selected:D,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.component_properties.edit_property")}),r.createElement(et.K0,{svg:t$.A,recordingKey:"componentPropDeleteButton",className:e?tz:void 0,onClick:L,onDoubleClick:tq,onMouseDown:tq,onContextMenu:tJ,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.component_properties.delete_property",{numSelected:1})})),K&&r.createElement(e4.B,{svg:tW.A,className:"component_prop_def_row--componentPropIconError--BikGf","data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,b.iz)(v.error,F),"data-tooltip-offset-y":1,"data-tooltip-timeout-delay":50}))),D&&r.createElement(tC,{componentPropDef:v}))}function t0({isSelected:e,singletonRow:t,isDragging:n,handlePropertyMouseDown:a,handlePropertyMouseMove:o,handlePropertyMouseUp:l,handlePropertyMouseEnter:c,handlePropertyMouseLeave:m,handleContextMenu:_,onClick:h,onKeyDown:E,ui3RowRef:y,typedPropType:w,isEditingDefName:T,defNameInputRef:I,componentPropDef:S,defNameInputOnMouseUp:C,defNameInputOnMouseLeave:x,defNameInputOnFocus:A,onInputKeyDown:R,defNameInputOnChange:k,submitDefName:O,defNameRef:P,index:D,isDefNameTruncated:M,variantPropValues:L,shouldShowEditIcons:K,editComponentPropPickerShown:B,toggleEditPropPicker:U,onDeleteProp:z,shouldShowErrorIcon:V,preferredValuesUnpublishedError:H}){let G=(0,f.eY)(),W=[],$=T||B,Y=e&&!$&&n,{isDraggingSomePropDef:q}=N(),J=!Y&&q;(K&&!J||Y)&&W.push(r.createElement(et.YW,{recordingKey:"componentPropEditButton",className:e&&!$?tH:tV,onClick:U,onDoubleClick:tq,onMouseDown:tq,onContextMenu:tJ,selected:B,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.component_properties.edit_property")},r.createElement(eQ.A,null)),r.createElement(et.K0,{recordingKey:"componentPropDeleteButton",className:e&&!$?tH:tV,onClick:z,onDoubleClick:tq,onMouseDown:tq,onContextMenu:tJ,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.component_properties.delete_property",{numSelected:1})},r.createElement(e0.O,null))),V&&W.push(r.createElement("span",{"data-testid":`component-prop-error-icon-${D}`,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,b.iz)(S.error,H),"data-tooltip-offset-y":1,"data-tooltip-timeout-delay":50},r.createElement(e1.r,null))),W.length||W.push(r.createElement("div",{className:F.cx.w24.$}));let Z=(0,r.useMemo)(()=>{if(S.kind===i.u.VARIANT){if(L)return L.join((0,g.t)("design_systems.component_properties.variant_property_values_delimiter"))}else{if(S.varValue.type===s.Z_n.BOOLEAN)return S.varValue.value?(0,g.t)("design_systems.component_properties.boolean_true"):(0,g.t)("design_systems.component_properties.boolean_false");if(S.varValue.type!==s.Z_n.SYMBOL_ID)return S.defaultValue;let e=(0,b.wd)([S.defaultValue],G);if(e)return(0,X.gl)(e)?(0,g.t)("design_systems.instance_swap_picker.mixed"):(0,e8.kH)(e.name)}},[S,G,L]);return r.createElement(r.Fragment,null,r.createElement(v.Y9,{selected:Y,singletonRow:t,dragging:n,hideGrabber:!1,onMouseDown:a,onMouseMove:o,onMouseUp:l,onMouseEnter:c,onMouseLeave:m,onContextMenu:_,onKeyDown:E,tabIndex:0,ref:y,containerClassName:d()("component_prop_def_row--ui3ComponentPropRow--Sld-J",{"component_prop_def_row--isDraggingRow--p9Tzv":Y,"component_prop_def_row--isDraggingOtherRow--WdU8i":J})},r.createElement(v.oO,{onMouseDown:tq,input:T?r.createElement(tn,{inputRef:I,canEdit:!0},w?(0,b.zn)(w):r.createElement(e5.y,null),r.createElement(p.u2,{forwardedRef:I,className:tF,defaultValue:S.name,onMouseUp:C,onMouseLeave:x,onFocus:A,onMouseDown:e=>tq(e),onKeyDown:R,onChange:k,onBlur:O,onContextMenu:tJ,recordingKey:"componentPropRowDefNameInput"})):r.createElement(eZ.E,{onClick:h,className:d()("component_prop_def_row--ui3ComponentPropDefNameContainer--fBQXq component_prop_def_row--ui3ComponentPanelNameAndIcon--01Z6g",{"component_prop_def_row--ui3ComponentPropDefNameContainerDragging--VELue":Y})},r.createElement("span",{"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,g.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,b.xb)(w??s.J0O.VARIANT)})},w?(0,b.zn)(w):r.createElement(e5.y,null)),r.createElement("div",{className:"component_prop_def_row--ui3ComponentPropDefNameAndValue--2w-8p"},r.createElement(p.D8,{forwardedRef:P,className:tB,recordingKey:u.Pt("componentPropDefName",D),"data-tooltip-type":j.Ib.TEXT,"data-tooltip":M?S.name:null},S.name),Z&&r.createElement("div",{className:tU},"\u30FB",Z)))},...W)),B&&r.createElement(tC,{componentPropDef:S}))}let t1=eY.ms,t5=eY.c$;function t2({defs:e,guids:t,selectedIndices:n,onSelectIndices:o,recordingKey:l}){let i=(0,a.d4)(e=>e.dropdownShown),c=i?.type===tY,d=e=>(e?.key==="Backspace"||e?.key==="Delete")&&(f(),!0),p=u.v_(l,"keydown",e=>{d(e)}),m=u.fo(`${l}.fullscreen`,"keydown",e=>{d(e.event)&&e.accept()}),f=r.useCallback(()=>{if(!n.length)return;let t=n.map(t=>e[t].explicitDefID);V.l7.user("delete-prop-defs",()=>s.glU.deleteComponentPropDefs(t))},[e,n]),_=r.useCallback((e,t,n)=>{let r=t?t.explicitDefID:"",a=n?n.explicitDefID:"";V.l7.user("reorder-prop-defs",()=>e.forEach(e=>{s.glU.insertPropDefBetween(e.explicitDefID,r,a),r=e.explicitDefID})),ej.Y5.commit()},[]),h=(0,y.R)(),E=r.useRef(null);r.useEffect(()=>{n.length?E.current?.focus():E.current?.blur()},[n]);let{setIsDraggingSomePropDef:v}=N();return r.createElement(eq.vL,{handleKeyDown:m,ref:E,name:"typed-props-list",focusOnMount:!0},r.createElement(S.q,{listItems:e,selectedIndices:n,updateSelection:o,onInsertItemsBetweenValues:_,onDragStart:()=>v(!0),onDragEnd:()=>v(!1),renderListItem:(n,a,i,s,c,d,m)=>r.createElement(tZ,{key:a,index:a,guids:t,componentPropDef:n,isSelected:i,isDragging:s,selectRow:()=>o([a]),singletonRow:1===e.length,onPropertyMouseDown:c,onPropertyMouseMove:d,onPropertyMouseUp:m,onKeyDown:p,recordingKey:u.Pt(l,"row",a)}),recordingKey:l}),c&&(!!n.length||h)&&r.createElement(t1,{style:i.data.position,positionFixed:!0},r.createElement(t5,{onClick:f,recordingKey:"deleteProp"},(0,g.tx)("design_systems.component_properties.delete_property",{numSelected:n.length}))))}var t7=n(44948),t4=n(236478),t3=n(496470),t6=n(83695),t8=n(830002),t9=n(776621),ne=n(761334),nt=n(510879),nn=n(975687);let nr={format:e=>e||tr.xJ},na=e=>{let t=(0,a.d4)(e9.dK);return(0,M.kc)().variables_nested_variant_props||e.every(e=>{let n=t.get(e);return!!n&&!n.isSymbolSublayer&&!n.isInstanceSublayer})};function no(e){let{guids:t,index:n,variantPropDef:o,stateGroupGUID:l,allStateVariantProps:i,backingStateVariantProps:c,statePropertyValues:d,forBubbledProps:p,containerWidth:m,viewOnly:f,hideIcon:_,selectedPropertyValueHistory:h,sceneGraph:E,updateHistory:w}=e,T=(0,a.wA)(),N=(0,a.d4)(e=>e.instanceSwapPickerShown),I=(0,$.J2)(s.Ez5.editorState().inPlaygroundMode),S=(0,t8.D5)(o.name,o.values),C=(0,t7.k9)(()=>(0,nt.D)(t,E),[t,E]),x=r.useRef(null),R=r.useRef(null),k=(0,y.R)(),{isBound:P,setBinding:D,boundVariableId:L,onExpressionSubmitted:K,variableConsumptionMapValue:B}=function(e){let t=(0,a.wA)(),{variableConsumptionMap:n,setVariableConsumptionMap:o}=(0,eo.R1)(),{consumedVariable:l,updateVariableConsumption:i,clearVariableConsumption:c}=(0,eo.u3)(["VARIANT_PROPERTIES"]),d=(0,r.useCallback)(n=>{let r={},a=l&&(0,X.hS)(l)&&l.type===s.Z_n.EXPRESSION?l.value.expressionArguments[0]:{type:s.Z_n.MAP,resolvedType:s.rXF.MAP,value:{}};n?t((0,z.Yi)({item:n,callback:t=>{n.resolvedType===s.rXF.STRING?a.value[e]={type:s.Z_n.ALIAS,resolvedType:s.rXF.STRING,value:t}:(n.resolvedType===s.rXF.BOOLEAN||n.resolvedType===s.rXF.FLOAT)&&(a.value[e]={type:s.Z_n.EXPRESSION,resolvedType:s.rXF.STRING,value:{expressionFunction:s.JTp.STRINGIFY,expressionArguments:[(0,eo.y$)(n.resolvedType,t)]}}),r.VARIANT_PROPERTIES={type:s.Z_n.EXPRESSION,resolvedType:s.rXF.SYMBOL_ID,value:{expressionArguments:[a],expressionFunction:s.JTp.RESOLVE_VARIANT}},o(r),(0,ne.ty)(t,n.resolvedType)}})):(delete a.value[e],0===Object.keys(a.value).length?r.VARIANT_PROPERTIES=null:r.VARIANT_PROPERTIES={type:s.Z_n.EXPRESSION,resolvedType:s.rXF.SYMBOL_ID,value:{expressionArguments:[a],expressionFunction:s.JTp.RESOLVE_VARIANT}},o(r))},[l,o,t,e]),u=(0,r.useCallback)(t=>{let r=n.VARIANT_PROPERTIES&&!n.VARIANT_PROPERTIES.isMixed&&n.VARIANT_PROPERTIES.type===s.Z_n.EXPRESSION&&n.VARIANT_PROPERTIES.value.expressionArguments[0].type===s.Z_n.MAP?n.VARIANT_PROPERTIES.value.expressionArguments[0]:{type:s.Z_n.MAP,resolvedType:s.rXF.MAP,value:{}};return t&&(0,X.hS)(t)?((t.resolvedType===s.rXF.STRING||t.resolvedType===s.rXF.BOOLEAN||t.resolvedType===s.rXF.FLOAT)&&(r.value[e]={type:s.Z_n.EXPRESSION,resolvedType:s.rXF.STRING,value:{expressionFunction:s.JTp.STRINGIFY,expressionArguments:[t.type===s.Z_n.ALIAS?(0,eo.y$)(t.resolvedType,t.value):t]}}),n.VARIANT_PROPERTIES={type:s.Z_n.EXPRESSION,resolvedType:s.rXF.SYMBOL_ID,value:{expressionArguments:[r],expressionFunction:s.JTp.RESOLVE_VARIANT}},o(n),!0):(delete r.value[e],0===Object.keys(r.value).length?n.VARIANT_PROPERTIES=null:n.VARIANT_PROPERTIES={type:s.Z_n.EXPRESSION,resolvedType:s.rXF.SYMBOL_ID,value:{expressionArguments:[r],expressionFunction:s.JTp.RESOLVE_VARIANT}},o(n),!1)},[e,o,n]),p=(0,r.useMemo)(()=>{if(l&&(0,X.hS)(l))try{let t=l.value.expressionArguments[0].value[e];if(!t)return null;if(t.type===s.Z_n.EXPRESSION&&t.value.expressionFunction===s.JTp.STRINGIFY&&(t=t.value.expressionArguments[0]),t.type===s.Z_n.ALIAS)return t.value}catch(e){(0,t9.x1)("variables","error checking variant binding map",{message:e.message},{reportAsSentryError:!0})}return null},[l,e]);return{isBound:!!p,setBinding:d,clearBinding:c,boundVariableId:p,onExpressionSubmitted:(0,M.kc)().prototype_expressions_nodefields?u:void 0,variableConsumptionMapValue:n.VARIANT_PROPERTIES}}(e.variantPropDef.name),H=na(t);P=P&&H;let[W,Y]=(0,ea.JV)(["VARIANT_PROPERTIES"],K&&"TOGGLE"===S.type?s.rXF.BOOLEAN:s.rXF.STRING,D,{requestedTypes:"TOGGLE"===S.type?[s.rXF.BOOLEAN]:[s.rXF.STRING,s.rXF.FLOAT],metadata:e.variantPropDef.name},K);function q(e,t){let n=(0,t8.Tj)(h,e,t);if(t===(0,g.t)("proto.assign_variant")){Y(R.current);return}let r={};for(let a of c){let{propertyValues:o}=a,l={...o,[e]:t},s=(0,tr.Jj)(l,n,i);null!==s&&(r[a.guid]=s)}let a={};for(let e of Object.keys(r)){let t=r[e].guid;a[t]=(a[t]||[]).concat(C[e])}if(I){s.glU.replaceSymbolBackingInstancesInPlayground(a),w(n),N?.isShown&&T((0,U.vq)());return}0!==Object.keys(a).length&&((0,tr.zb)("Swapping A Variant",l??"",{source:p?"bubbled_sidebar":"sidebar"}),V.l7.user("change-variant-prop",()=>(0,t3.Aw)(a))),w(n)}let J=d.hasOwnProperty(S.property)?d[S.property]:void 0,Z=o.values;function Q(){D(void 0)}let ee=(0,G.u)(L??void 0),en=(0,eo.Px)(),ei=r.useMemo(()=>s.CWU.getVariableSetKeyForPublish(ee?.variableSetId??"")??"",[ee?.variableSetId]),ec=ei in en?en[(0,O.yG)(ei)]:void 0,eu=r.useMemo(()=>ec?{[(0,O.yG)(ei)]:ec}:void 0,[ec,ei]),em=(0,G.BQ)(L??void 0,eu),{assignmentValue:eg,iconButton:ef}=(()=>{if(P&&ee&&(0,A.isNotNullish)(em)||(0,M.kc)().prototype_expressions_nodefields&&K&&B){let t;return(0,A.isNotNullish)(em)&&"MIXED"!==em&&(Z.some(e=>e.toLowerCase()===em.value.toString().toLowerCase())?J?.toString().toLowerCase()!==em.value.toString().toLowerCase()&&(t=(0,g.t)("design_systems.component_properties.invalid_variant_binding_state")):t=(0,g.t)("design_systems.component_properties.invalid_variant_binding")),{assignmentValue:K&&B?r.createElement(t6.y3,{targetVariableData:B.isMixed?void 0:B,onClick:()=>{Y(R.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:B.isMixed,variantProperty:e.variantPropDef.name}):ee&&r.createElement("div",{className:eC},r.createElement(es.P,{value:(0,X.gl)(J)?(0,g.t)("design_systems.component_properties.mixed"):ee.name,variableId:(0,X.gl)(J)?void 0:L??void 0,isStandalone:!0,invalid:void 0!==t,thumbnailValue:"MIXED"===em||t?void 0:em,tooltipOverride:t,isDeleted:(0,el.eF)(ee),classNameOverride:k?F.cx.wFull.$:void 0,varaiablePillContainerClassName:k?eA:void 0,fullWidth:k})),iconButton:k?r.createElement("span",{className:eO},r.createElement(ed.K,{onClick:Q,"aria-label":(0,g.t)("design_systems.component_properties.detach_property"),recordingKey:u.Pt(e.recordingKey,"detachVariantProp"),htmlAttributes:{"data-tooltip":(0,g.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":j.Ib.TEXT}},r.createElement(ep.U,null))):r.createElement(et.K0,{className:ex,svg:tT.A,onClick:Q,"data-tooltip":(0,g.t)("design_systems.component_properties.detach_property"),"data-tooltip-type":j.Ib.TEXT,recordingKey:u.Pt(e.recordingKey,"detachVariantProp")})}}{let n=J?"TOGGLE"===S.type?r.createElement(nl,{entry:S,selectedOption:J,viewOnly:f,recordingKey:e.recordingKey,onSelectProperty:q}):r.createElement(ni,{containerWidth:m,allPropertyOptions:Z,entry:S,guids:t,onSelectProperty:q,recordingKey:e.recordingKey,selectedOption:J,viewOnly:f}):null,a=r.createElement(eD,{isPickerShowing:W,onClick:()=>q(S.property,(0,g.t)("proto.assign_variant")),recordingKey:e.recordingKey});return{assignmentValue:n,iconButton:!I&&H?a:void 0}}})(),e_=r.createElement("div",{className:ev},r.createElement("p",{ref:x,className:eb,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":x.current&&x.current.offsetWidth<x.current.scrollWidth?S.property:null},S.label));return k?_?r.createElement(er.g,{key:`componentPropertyRow.${n}`,ref:R,leftLabel:null,leftInput:e_,rightLabel:null,rightInput:eg}):r.createElement(v.fn,{appendedClassName:ek,recordingKey:`componentPropertyRow.${n}`,key:`componentPropertyRow.${n}`,ref:R,leftLabel:null,leftInput:e_,rightLabel:null,rightInput:eg,icon:ef}):r.createElement(et.fI,{className:m===b.O2.WIDE?eE:m===b.O2.UNBOUNDED?ey:eh,recordingKey:`componentPropertyRow.${n}`,key:`componentPropertyRow.${n}`,forwardedRef:R},e_,r.createElement("div",{className:"prop_assignment_row--variantPropRightColumn--5hpRD"},eg,ef))}function nl({entry:e,selectedOption:t,onSelectProperty:n,viewOnly:a,recordingKey:o}){let l=(0,y.R)(),i=t=>{n(e.property,e.toggleTokenPair[t?0:1])};return l?r.createElement(R.d,{mixed:(0,X.gl)(t),checked:t===e.toggleTokenPair[0],label:r.createElement(k.h,null,e.label),onChange:i,disabled:a,recordingKey:u.Pt(o,`toggle-${e.property}`)}):r.createElement(en.l,{toggleClassName:eS,on:(0,X.hS)(t)?t===e.toggleTokenPair[0]:X.oV,onChange:i,disabled:a,recordingKey:u.Pt(o,`toggle-${e.property}`),forwardEventsToFullscreen:!0})}function ni({entry:e,selectedOption:t,onSelectProperty:n,viewOnly:o,recordingKey:l,containerWidth:i,allPropertyOptions:s,guids:c}){let p=(0,a.wA)(),m=(0,a.d4)(e=>e.dropdownShown),f=(0,y.R)();return r.createElement("div",{className:d()("prop_assignment_row--variantPropValueContainer---FbdA",{"prop_assignment_row--variantPropValueContainerWide--i-9HY":i===b.O2.WIDE,"prop_assignment_row--variantPropValueContainerViewOnly--d0Zdv":o})},o?r.createElement("p",{className:"prop_assignment_row--componentPropName--ZazSF ellipsis--ellipsis--Tjyfa"},(0,X.gl)(t)?(0,g.t)("design_systems.component_properties.mixed"):t):r.createElement(tp.l6,{className:nn.ZE,fill:i===b.O2.UNBOUNDED,id:`states-property-select-${c.join("-")}-${e.property}`,inputClassName:f?"prop_assignment_row--ui3VariantPropValueInput--MjpQ9":void 0,property:t,formatter:nr,onChange:t=>{n(e.property,t)},dispatch:p,dropdownShown:m,dropdownWidth:200,dropdownAlignment:"right",onMouseDown:()=>p(t4.r),recordingKey:u.Pt(l,`select-${e.property}`)},[...s].map(t=>r.createElement(tp.c$,{key:t,value:t,recordingKey:u.Pt(l,`select-${e.property}-option-${t}`)}))))}function ns({variantPropDefs:e,guids:t,allStateVariantProps:n,backingStateVariantProps:a,statePropertyValues:o,stateGroupGUID:l,forBubbledProps:i,containerWidth:s,viewOnly:c,hideIcon:d,sceneGraph:p,recordingKey:m}){let[g,f]=r.useState([]);return r.useEffect(()=>{f([])},[t]),r.createElement(S.q,{listItems:e,updateSelection:void 0,isDragDisabled:!0,renderListItem:(e,_)=>r.createElement(no,{variantPropDef:e,guids:t,index:_,stateGroupGUID:l,allStateVariantProps:n,backingStateVariantProps:a,statePropertyValues:o,selectedPropertyValueHistory:g,updateHistory:f,containerWidth:s,viewOnly:c,hideIcon:d,forBubbledProps:i,sceneGraph:p,recordingKey:u.Pt(m,"row",t.join("-"),_)}),recordingKey:m})}var nc=n(326331),nd=n(952675);let nu={__addNewValue__:!0};class np extends nd.a3{}class nm extends tp.c${}let ng=e=>{let t={};for(let n of e)if(n.stateInfo.propertyValues)for(let[e,r]of Object.entries(n.stateInfo.propertyValues))t[e]=t[e]||{},t[e][r]=(t[e][r]||0)+1;return t};function nf({OriginalComponent:e,...t}){return r.createElement(e,{...t,className:"variant_prop_authoring_row--ui3ComboBoxInput--WyPgd ellipsis--ellipsis--Tjyfa"})}function n_({variantPropDef:e,recordingKey:t}){var n;let{dropdownShown:o,allStates:l,propertySortOrder:i,propertyToFocusFullscreen:s,selectedStates:c,selectedStatesPropertyValues:d}=(0,e7.R)(e=>({dropdownShown:e.dropdownShown,allStates:(0,E.ow)(e),propertySortOrder:(0,E.OC)(e),propertyToFocusFullscreen:e.mirror.appModel.statePropertyToFocus,selectedStates:(0,E._f)(e),selectedStatesPropertyValues:(0,E.D1)(e)})),m=(0,a.wA)(),f=(0,y.R)(),_=r.useRef(null),b=r.useRef(null),[w,T]=r.useState(null),N=null!=w,I=()=>{w&&(T(null),V.l7.user("rename-variant-property",()=>(0,tr.q1)(D,w,l??[],i??[])))},S=r.useRef({});Object.keys(d??{}).forEach(e=>{S.current[e]=S.current[e]||r.createRef()});let[C,x]=r.useState(""),A=s||C;function R(e,t){""!==(t=t.trim())&&c&&(V.l7.user("rename-variant-prop",()=>{for(let n of c){let r=n.stateInfo.propertyValues||{};H.i(n.symbol.node_id,(0,tr.zh)({...r,[e]:t},i||[]))}}),ej.Y5.commit())}r.useEffect(()=>{!o&&A&&(S.current?.[A]?.current&&(S.current[A].current.select(),ej.Y5.updateAppModel({statePropertyToFocus:""})),x(""))},[A,o]),r.useEffect(()=>{N&&_.current&&(_.current.focus(),_.current.select())},[N,_]);let k=r.useMemo(()=>ng(l??[]),[l]),O=r.useMemo(()=>ng(c??[]),[c]),P=e.values;if(!d)return null;let D=e.name,M=!d[D],K=!!b.current&&b.current.offsetWidth<b.current.scrollWidth,F=()=>T(D),B=N?r.createElement(p.u2,{forwardedRef:_,className:"variant_prop_authoring_row--selectPropertyNameInput--T02iO variant_prop_authoring_row--selectPropertyName--g8Tfp raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",defaultValue:D,onKeyDown:e=>{e.stopPropagation(),(e.keyCode===L.Uz.ESCAPE||e.keyCode===L.Uz.ENTER)&&(I(),e.currentTarget.blur())},onChange:e=>T(e.currentTarget.value),onFocus:()=>{_.current&&(T(D),_.current.select())},onBlur:I,onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},recordingKey:u.Pt(t,`componentPropRowDefNameInput-${D}`)}):r.createElement(p.D8,{forwardedRef:b,onDoubleClick:f?void 0:F,onClick:f?F:void 0,className:"variant_prop_authoring_row--selectPropertyName--g8Tfp","data-tooltip-type":j.Ib.TEXT,"data-tooltip":K?D:null,recordingKey:u.Pt(t,`componentPropRowDefName-${D}`)},f?r.createElement("div",{className:"variant_prop_authoring_row--ui3SelectPropertyNameInner--eJnxr ellipsis--ellipsis--Tjyfa"},D):D),U=r.createElement(nd.ow,{value:{inputComponent:f?nf:void 0}},r.createElement(np,{id:`states-property-select-${D}`,className:M?"variant_prop_authoring_row--missingPropertyComboBox--9wy-0":"variant_prop_authoring_row--propertyComboBox--7f6TZ",dropdownClassName:f?void 0:"variant_prop_authoring_row--propertyComboBoxDropdown--WH-pM",formatter:(n=Object.keys(O[D]||{}).some(e=>O[D][e]===k[D][e]),{format:e=>e!==nu?e||tr.xJ:n?(0,g.t)("design_systems.component_properties.rename_prompt"):(0,g.t)("design_systems.component_properties.add_new_prompt"),parse:e=>e,autocomplete:e=>{for(let t of P.sort((e,t)=>e.length-t.length))if(t&&t.startsWith(e))return t;return null}}),property:d[D]||"",icon:f?r.createElement(nc.r,null):void 0,onChange:e=>{V.l7.user("add-variant-property",()=>{e!==nu?R(D,e):(R(D,(0,g.t)("design_systems.component_properties.new_value")),x(D))})},dispatch:m,dropdownShown:o,recordingKey:u.Pt(t,`propertyComboBox-${D}`),forwardedRef:S.current[D]},P.map(e=>r.createElement(nm,{key:e,value:e,recordingKey:u.Pt(t,`value-${e}`)})),r.createElement(tp.sK,null),r.createElement(nm,{key:"add-new-value",value:nu,recordingKey:u.Pt(t,"value-AddNewValue")}))),z=M?r.createElement("span",{className:"variant_prop_authoring_row--missingPropertyNoticeIcon--t7xa0","data-tooltip":(0,g.t)("design_systems.component_properties.missing_property"),"data-tooltip-type":j.Ib.TEXT,"data-tooltip-show-left":!0},r.createElement(ts.U,{svg:h.EP},r.createElement(e1.r,null))):null;return f?r.createElement(v.fn,{key:D,appendedClassName:"variant_prop_authoring_row--ui3PropertyRow--Ouo2e",leftLabel:null,leftInput:B,rightLabel:null,rightInput:U,icon:z}):r.createElement(et.fI,{key:D},r.createElement("div",{className:"variant_prop_authoring_row--selectPropertyRow--t4JAp raw_components--_row--rHucX"},B,U,z))}let nh=eY.ms,nE=eY.c$;function ny({defs:e,guids:t,selectedIndices:n,onSelectIndices:o,isInStateAuthoringView:l,recordingKey:i}){let s=(0,a.d4)(e=>(0,E.ow)(e)??[]),c=(0,a.d4)(tL.Nw),d=(0,a.d4)(e=>(0,E.OC)(e)??[]),p=(0,a.d4)(e=>e.dropdownShown),m=p?.type===tj,f=n.length===e.length,_=e=>!f&&(e?.key==="Backspace"||e?.key==="Delete")&&(v(),!0),h=u.v_(i,"keydown",e=>{_(e)}),y=u.fo(`${i}.fullscreen`,"keydown",e=>{_(e.event)&&e.accept()}),v=r.useCallback(()=>{if(!n.length||!c)return;let t=n.map(t=>e[t].name);V.l7.user("delete-variant-props",()=>(0,tr.bk)(t,s,d,c))},[s,c,e,d,n]),b=r.useCallback(e=>{let t=e.map(e=>e.name);V.l7.user("reorder-variant-props",()=>{s.forEach(e=>{let n=e.stateInfo.propertyValues;n&&H.i(e.symbol.node_id,(0,tr.zh)(n,t))})}),ej.Y5.commit()},[s]),w=r.useRef(null);r.useEffect(()=>{n.length?w.current?.focus():w.current?.blur()},[n]);let{setIsDraggingSomePropDef:T}=N();return r.createElement(eq.vL,{handleKeyDown:y,ref:w,name:"variant-props-list",focusOnMount:!0},r.createElement(S.q,{listItems:e,selectedIndices:n,updateSelection:o,onChange:b,onDragStart:()=>T(!0),onDragEnd:()=>T(!1),renderListItem:(n,a,s,c,d,p,m)=>l?r.createElement(n_,{variantPropDef:n,recordingKey:u.Pt(i,"row",a)}):r.createElement(tZ,{index:a,guids:t,componentPropDef:n,isSelected:s,isDragging:c,selectRow:()=>o([a]),singletonRow:1===e.length,onPropertyMouseDown:d,onPropertyMouseMove:p,onPropertyMouseUp:m,onKeyDown:h,recordingKey:u.Pt(i,"row",a)}),recordingKey:i}),m&&!!n.length&&!f&&r.createElement(nh,{style:p.data.position,positionFixed:!0},r.createElement(nE,{onClick:v,recordingKey:"deleteProp"},(0,g.tx)("design_systems.component_properties.delete_property",{numSelected:n.length}))))}var nv=n(687881);let nb=20;function nw({guids:e,propDimension:t,containerWidth:n,shouldHideInstanceTitleButtons:a,viewOnlyMode:o,hideIcon:l,highlightNodesOnHover:i,hideErrors:s,resettableInstanceOverrides:c,instanceNameDisplayOverride:d,forBubbledProps:p,recordingKey:g,errorBoxFlushWithContainer:h,entrypointForInstanceSwapPicker:E}){let{typedPropDefsExcludingHidden:v,variantPropDefs:w,assignmentValuesByDefId:T,allStateVariantProps:N,backingStateVariantProps:S,statePropertyValues:C,productComponentGUID:x}=(0,I.an)(e,t),A=(0,f.eY)(),R=(0,y.R)();if(!v.length&&!w.length)return null;let k=r.createElement(_.iN,{containerWide:n===b.O2.WIDE,canCollapse:p,resettableInstanceOverrides:c,instanceAndSublayerGUIDs:e,instanceNameDisplayOverride:d,shouldHideButtons:a,highlightNodesOnHover:i,recordingKey:g}),O=r.createElement(nI,{typedPropDefs:v,variantPropDefs:w,guids:e,assignmentValues:T,allStateVariantProps:N,backingStateVariantProps:S,statePropertyValues:C,productComponentGUID:x,propDimension:t,hideErrors:s,containerWidth:n,viewOnlyMode:o,hideIcon:l,forBubbledProps:!!p,recordingKey:g,errorBoxFlushWithContainer:h,sceneGraph:A,entrypointForInstanceSwapPicker:E});return p?R?r.createElement(nx,{row:k,isChevronAlwaysVisible:!0,recordingKey:u.Pt(g,"instancePanelTitleCollapsibleRow",e.join("-"))},r.createElement("div",{className:nv.Og},O)):r.createElement(m.S,{isInitiallyOpen:v.length<nb,title:k},r.createElement("div",{className:nv.Og},O)):r.createElement("div",null,k,r.createElement("div",{className:nv.Og},O))}var nT=(e=>(e[e.ALL_PROPS=0]="ALL_PROPS",e[e.VARIANT_PROPS=1]="VARIANT_PROPS",e[e.TYPED_PROPS=2]="TYPED_PROPS",e))(nT||{});function nN({propDimension:e,guids:t,containerWidth:n,viewOnlyMode:a,hideIcon:o,hideErrors:l,forBubbledProps:i,recordingKey:s,errorBoxFlushWithContainer:c,splitVariantAndTypedProps:d,enableHidingOverflowRowsInUI3:u,entrypointForInstanceSwapPicker:p}){let{typedPropDefsExcludingHidden:m,variantPropDefs:g,assignmentValuesByDefId:_,allStateVariantProps:h,backingStateVariantProps:E,statePropertyValues:y,productComponentGUID:v}=(0,I.an)(t,e),b=(0,f.eY)();return r.createElement(nI,{typedPropDefs:m,variantPropDefs:g,guids:t,propDimension:e,assignmentValues:_,allStateVariantProps:h,backingStateVariantProps:E,statePropertyValues:y,productComponentGUID:v,hideErrors:l,containerWidth:n,viewOnlyMode:a,hideIcon:o,forBubbledProps:!!i,recordingKey:s,errorBoxFlushWithContainer:c,splitVariantAndTypedProps:d,sceneGraph:b,enableHidingOverflowRowsInUI3:u,entrypointForInstanceSwapPicker:p})}function nI({typedPropDefs:e,variantPropDefs:t,propDimension:n,enableHidingOverflowRowsInUI3:o,...l}){let[i,c]=r.useState(void 0),[d,u]=r.useState([]),[p,m]=r.useState(!1),f=(0,y.R)(),_=(0,a.d4)(E.i$)===s.iCO.STATE&&n===b.OE.DEFINITION;r.useEffect(()=>{c(void 0),u([])},[t,e]);let h=!!t.length,v=!!e.length&&!_,w={shouldShowVariantProps:h,shouldShowTypedProps:v,selectedSection:i,selectedPropIndices:d,onSelectProps:(e,t)=>{c(e),u(t)},isInStateAuthoringView:_};if(f&&o){let{numHiddenRows:a,variantPropDefsToShow:o,typedPropDefsToShow:i}=function(e,t,n,r,a){let o=(t?r.length:0)+(n?a.length:0);if(e||o<=5)return{numHiddenRows:0,variantPropDefsToShow:t?r:[],typedPropDefsToShow:n?a:[]};let l=4,i=r;return t?l-=(i=r.slice(0,4)).length:i=[],{numHiddenRows:o-4,variantPropDefsToShow:i,typedPropDefsToShow:n?a.slice(0,l):[]}}(p,h,v,t,e);return r.createElement(r.Fragment,null,r.createElement(nS,{variantPropDefs:o,typedPropDefs:i,propDimension:n,...w,...l}),a>0&&!p&&r.createElement(nC,{label:(0,g.t)("design_systems.component_properties.show_more_property_rows",{count:a}),onClick:()=>m(!0)}))}return r.createElement(nS,{variantPropDefs:t,typedPropDefs:e,propDimension:n,...w,...l})}function nS({shouldShowVariantProps:e,shouldShowTypedProps:t,selectedSection:n,selectedPropIndices:a,onSelectProps:o,isInStateAuthoringView:l,propDimension:s,variantPropDefs:c,typedPropDefs:d,guids:p,assignmentValues:m,allStateVariantProps:g,backingStateVariantProps:f,statePropertyValues:_,productComponentGUID:E,forBubbledProps:y,hideErrors:v,containerWidth:w,viewOnlyMode:N,hideIcon:I,recordingKey:S,errorBoxFlushWithContainer:C,splitVariantAndTypedProps:x,sceneGraph:A,inPlayground:R,instanceSwapPickerInitialHeight:k,instanceSwapPickerInitialPosition:O,entrypointForInstanceSwapPicker:P}){return r.createElement(T,null,r.createElement(r.Fragment,null,e&&s===b.OE.DEFINITION&&r.createElement(ny,{defs:c,guids:p,selectedIndices:n===i.u.VARIANT?a:[],onSelectIndices:e=>o(i.u.VARIANT,e),isInStateAuthoringView:l,recordingKey:u.Pt(S,"propDefs",i.u.VARIANT)}),e&&E&&s===b.OE.ASSIGNMENT&&r.createElement(ns,{variantPropDefs:c,guids:p,allStateVariantProps:g,backingStateVariantProps:f,stateGroupGUID:E,statePropertyValues:_,forBubbledProps:y,containerWidth:w,sceneGraph:A,viewOnly:0===N||1===N,hideIcon:I,recordingKey:u.Pt(S,"propDefs",i.u.VARIANT)}),e&&t&&x&&r.createElement("div",{className:"props_section--divider--5xEyL"}),t&&s===b.OE.DEFINITION&&r.createElement(t2,{defs:d,guids:p,selectedIndices:n===i.u.TYPED?a:[],onSelectIndices:e=>o(i.u.TYPED,e),recordingKey:u.Pt(S,"propDefs",i.u.TYPED)}),t&&s===b.OE.ASSIGNMENT&&r.createElement(e$,{typedPropDefs:d,guids:p,assignmentValues:m,forBubbledProps:y,containerWidth:w,viewOnly:0===N||2===N,hideIcon:I,sceneGraph:A,inPlayground:R,instanceSwapPickerInitialHeight:k,instanceSwapPickerInitialPosition:O,recordingKey:u.Pt(S,"propDefs",i.u.TYPED),entrypointForInstanceSwapPicker:P}),!v&&r.createElement(h.aq,{flushWithContainer:C})))}function nC({label:e,onClick:t}){return r.createElement("button",{onClick:t,"aria-label":e},r.createElement(v.Ad,{label:null,input:r.createElement("div",{className:"props_section--ui3ShowMoreText--9ZaYD"},e)}))}function nx({row:e,isCollapsedByDefault:t,isChevronAlwaysVisible:n,children:a,recordingKey:i}){let[s,c]=r.useState(t??!1),u=r.createElement(p.GG,{className:"props_section--ui3CollapsibleRowWrapper--0eG4n",onMouseDown:()=>c(!s),recordingKey:i},r.createElement("div",{className:d()("props_section--ui3CollapsibleRowIcon--AMo-v",{"props_section--ui3CollapsibleRowIconAlwaysVisible--BPU5Y":n})},s?r.createElement(o.k,null):r.createElement(l.O,null)),e);return s?u:r.createElement(r.Fragment,null,u,a)}},7860:(e,t,n)=>{n.d(t,{R:()=>d,t:()=>c});var r=n(411855),a=n(587670),o=n(358145),l=n(818),i=n(506599),s=n(187882);let c=(0,r.createContext)({isLeftPanelCollapsed:!1,isRightPanelCollapsed:!1});function d({children:e}){let{isPropertiesPanelCollapsed:t}=(0,i.iT)(),n=(0,s.Ye)(),d=(0,l.b)(),u=(0,r.useMemo)(()=>({isLeftPanelCollapsed:n,isRightPanelCollapsed:t}),[n,t]),p=(0,o.ZC)(u);return(0,r.useEffect)(()=>{d&&void 0!==p&&p.isLeftPanelCollapsed!==u.isLeftPanelCollapsed&&queueMicrotask(()=>a.CX.updateLayoutForMinimizeUI())},[u,d,p]),r.createElement(c.Provider,{value:u},e)}},212478:(e,t,n)=>{n.d(t,{Jg:()=>V,xn:()=>K});var r=n(411855),a=n(188507),o=n(634832),l=n(842700),i=n(629019),s=n.n(i),c=n(966712),d=n(374626),u=n(153234),p=n(522739),m=n(776621),g=n(268537),f=n(46481),_=n(939863),h=n(483990),E=n(226055),y=n(728325),v=n(855418),b=n(318812),w=n(234945),T=n(498606),N=n(279145),I=n(459343),S=n(666258),C=n(720488),x=n(947968),A=n(857738),R=n(157147),k=n(136297),O=n(405206),P=n(706607);function D(e){return`flyout-dropdown-${e}`}let M=e=>{switch(e){case"move-flyout":return(0,_.t)("fullscreen.flyout.move_tools");case"region-flyout":return(0,_.t)("fullscreen.flyout.region_tools");case"pen-flyout":return(0,_.t)("fullscreen.flyout.drawing_tools");case"shape-flyout":return(0,_.t)("fullscreen.flyout.shape_tools");case"boolean-flyout":return(0,_.t)("fullscreen.flyout.boolean_groups");case"styles-flyout":return(0,_.t)("fullscreen.flyout.styles");case"symbol-flyout":return(0,_.t)("fullscreen.flyout.components");case"prototype-view-flyout":return(0,_.t)("fullscreen.flyout.prototype_view");default:return""}};function L(e,t,n){let a,o,i;if("currentTool"===e){let e=(0,v.LW)(t);a=(0,v.SD)(t),i=o=e?.ui3Icon||r.createElement(l.V,null)}else{let e=(0,v.bs)(n);a=(0,v.Yy)(n),o=e?.ui3Icon||r.createElement(l.V,null),i=v.bs(n)?.ui3FlyoutIcon??o}return{icon:a,ui3Icon:o,ui3FlyoutIcon:i}}function K(e){let[t,n]=r.useState(null),l=(0,b.Um)(),i=(0,a.wA)(),c=(0,E.GS)(),d=r.useCallback(()=>{n(null)},[]);r.useEffect(()=>(u.y6(d),()=>u.nS(d)));let g=(e,t)=>e&&t?e.action===t.action:!e&&!t,_=(0,a.d4)(t=>e.item.children.find(e=>{if((0,R.Zk)(e)){let n=e.property&&t.mirror.appModel[e.property]===e.propertyValue,r=e.isActive&&e.isActive(t);return n||r}return!1}),g),h=(0,a.d4)(n=>{let r=e.item.children.find(e=>(0,R.Zk)(e)&&(0,N.Yh)(n.mirror.appModel,e.action));return"symbol-flyout"===e.item.name?r:_||(t&&(0,N.Yh)(n.mirror.appModel,t.action)?t:r)},g),v=(0,a.d4)(e=>!!h&&(0,N.Yh)(e.mirror.appModel,h.action));if(!h)return null;v||(0,m.x1)("FlyoutView",`Expected defaultItem with action ${h.action} to be enabled`);let w=!!_&&!(0,N.TY)(l)&&!e.disabled&&e.styleActiveItem,S=l?.type===D(e.item.name),C=L(h.property,h.propertyValue,h.action);(0,o.assertDev)(null!==C.icon,"No icon for tool or action");let x=!0;if(S){for(let t of e.item.children)if((0,R.Zk)(t)&&(void 0!==t.property||void 0!==t.isActive)){x=!1;break}}let O=e.item.name===A.MR,K=r.createElement(A.$0,{item:e.item,defaultItem:h,dropdownKey:D(e.item.name),tooltipText:M(e.item.name),additionalDispatchData:{items:e.item.children},recordingKey:e.recordingKey,disabled:e.disabled}),B=r.createElement("div",{className:s()(c?P.fullHeightSidebarFlyout:P.flyout,(0,k.M)(!0,w),S?P.flyoutDropdownShown:null),"data-tooltip-type":T.Ib.LOOKUP,"data-tooltip":h.action,"data-onboarding-key":e.item.onboardingKey,"data-testid":h.action},r.createElement(p.D8,{className:c?P.fullHeightSidebarFlyoutButton:P.flyoutButton,recordingKey:u.Pt(e.recordingKey,"default",h.recordingKey),onMouseDown:y.VU.get(h.action,"toolbar")},C&&C.icon&&r.createElement(f.U,{svg:C.icon},C.ui3FlyoutIcon)),r.createElement(I.c,{svgContainerClassName:P.chevron,dispatch:i,showingDropdown:S,dropdownKey:D(e.item.name),tooltipText:M(e.item.name),additionalDispatchData:{items:e.item.children},recordingKey:u.Pt(e.recordingKey,"chevron"),dataTestId:`${e.item.name}-chevron`,rcsHandlerId:"flyout_dropdown_opened",dataOnboardingKey:e.item.name,isUI3:c,className:s()({[P.fullHeightSidebarFlyoutChevron]:c,[P.fullHeightSidebarFlyoutDropdownShown]:c&&S})}));return r.createElement("div",null,O?K:B,S&&r.createElement(F,{item:e.item,onFlyoutItemClick:(e,t)=>{n(e);let r=e.actionOnFlyoutItemClick??e.action;y.VU.get(r,"toolbar")(t)},hideCheck:x,recordingKey:e.recordingKey}))}function F(e){let t=(0,a.d4)(e=>e.dropdownShown),n=(0,E.GS)(),o=(0,d.md)(S.oO);if(!t||!t.data?.targetRect)return r.createElement(r.Fragment,null);let l=e.item.flyoutShowItemIcons||void 0===e.item.flyoutShowItemIcons;return r.createElement(C.Cf,{targetRect:n&&"prototype-view-flyout"===e.item.name?{top:t.data.targetRect.top,right:t.data.targetRect.right,bottom:t.data.targetRect.bottom+(n?4:0),left:t.data.targetRect.left-91,width:t.data.targetRect.width,height:t.data.targetRect.height}:t.data.targetRect,className:e.item.largeDisplayMode?P.largeDisplayDropdown:P.pointingDropdown,showPoint:!n,propagateCloseClick:!0,orientation:e.item.largeDisplayMode?"horizontal":"vertical",type:e.item.largeDisplayMode?C.it.MATCH_BACKGROUND:C.it.DEFAULT,footer:e.item.footer},t.data?.items&&t.data.items.map((t,n)=>(0,R.HK)(t)?r.createElement(g.wv,{key:n}):e.item.largeDisplayMode?r.createElement(z,{key:n,item:t,simulatedHoverActionName:o,onFlyoutItemClick:e.onFlyoutItemClick,recordingKey:e.recordingKey}):r.createElement(U,{key:n,item:t,showItemIcon:l,hideCheck:e.hideCheck,simulatedHoverActionName:o,onFlyoutItemClick:e.onFlyoutItemClick,recordingKey:e.recordingKey})))}function B(e,t){let n=(0,a.d4)(w.nj),r=!!(0,a.d4)(t=>(0,R.Zk)(e)&&e.isActive&&e.isActive(t)),{action:o,property:l,propertyValue:i,description:s}=e,c=(0,N.Yh)(n,o),d=void 0!==i&&n[l]===i,u=t?L(l,i,o):null;return{isEnabled:c,isChecked:d||r,icons:u,text:e.text||V(o),shortcutText:(0,N.c1)(n.keyboardShortcuts,o),descriptionText:s?V(s):void 0}}function U({item:e,showItemIcon:t,hideCheck:n,simulatedHoverActionName:a,onFlyoutItemClick:o,recordingKey:l}){let{isEnabled:i,isChecked:s,icons:d,text:p,shortcutText:m}=B(e,t);return r.createElement(O.a1,{key:e.action,text:p,shortcut:m,isEnabled:i,isChecked:s,onPointerUp:(0,c.kc)().ce_flyout_pointer_up_enabled?t=>{o(e,t)}:void 0,onClick:(0,c.kc)().ce_flyout_pointer_up_enabled?void 0:t=>{o(e,t)},hideCheck:n,recordingKey:u.Pt(l,"flyout",e.recordingKey),onboardingKey:e.onboardingKey,simulateHover:e.action===a,tooltip:x.TT.includes(e.action)?e.action:void 0},d&&d.icon?r.createElement(f.U,{svg:d.icon},d.ui3Icon):null)}function z({item:e,simulatedHoverActionName:t,onFlyoutItemClick:n,recordingKey:a}){let{isEnabled:o,isChecked:l,icons:i,text:s,shortcutText:c,descriptionText:d}=B(e,!0);return r.createElement(O.by,{key:e.action,text:s,description:d,shortcut:c,isEnabled:o,isChecked:l,onPointerUp:t=>n(e,t),recordingKey:u.Pt(a,"flyout",e.recordingKey),onboardingKey:e.onboardingKey,simulateHover:e.action===t,tooltip:x.TT.includes(e.action)?e.action:void 0},i&&i.icon?r.createElement(f.U,{svg:i.icon},i.ui3Icon):null)}function V(e){try{return(0,h.A)(e)}catch(t){return(0,_.t)(`fullscreen_actions.${e}`)}}},898536:(e,t,n)=>{n.d(t,{AV:()=>ek,gf:()=>eP,oW:()=>eA,Rg:()=>eR,Xw:()=>eB});var r=n(411855),a=n(188507),o=n(767129),l=n(841368),i=n(243742),s=n(560945),c=n(153234),d=n(520581),u=n(347082),p=n(574176),m=n(46481),g=n(939863),f=n(483990),_=n(356390),h=n(848661),E=n(227944),y=n(555074),v=n(318812),b=n(499777),w=n(498606),T=n(279145),N=n(405206),I=n(720488),S=n(7959),C=n(893606),x=n(136769),A=n(368014),R=n(734919),k=n(713649),O=n(271352),P=n(151736),D=n(2704),M=n(102934),L=n(93024),K=n(921095),F=n(583080),B=n(186913),U=n(905111),z=n(900638),V=n(674462),H=n(795318),X=n(43900),G=n(471116),W=n(514198),$=n(487614),Y=n(565012),j=n(146708),q=n(619310),J=n(467220),Z=n(174574),Q=n(503358),ee=n(496916),et=n(678045),en=n(180549),er=n(687886),ea=n(399940),eo=n(391914),el=n(341152),ei=n(116374),es=n(283804),ec=n(481928),ed=n(400658),eu=n(175895),ep=n(696875),em=n(785828),eg=n(258654),ef=n(937476),e_=n(571262),eh=n(609091),eE=n(684391),ey=n(87428),ev=n(122302),eb=n(728642),ew=n(944584);let eT={"align-top":em.A,"align-vertical-center":ef.A,"align-bottom":$.A,"align-left":ec.A,"align-horizontal-center":ei.A,"align-right":eu.A,"distribute-horizontal-spacing":H.A,"distribute-vertical-spacing":G.A,"arrange-as-list-Y":eb.A,"arrange-as-list-X":ey.A,"arrange-as-grid":eh.A,"align-top-as-group":er.A,"align-vertical-center-as-group":eo.A,"align-bottom-as-group":j.A,"align-left-as-group":Q.A,"align-horizontal-center-as-group":J.A,"align-right-as-group":et.A},eN={"align-top":eg.A,"align-vertical-center":e_.A,"align-bottom":Y.A,"align-left":ed.A,"align-horizontal-center":es.A,"align-right":ep.A,"distribute-horizontal-spacing":X.A,"distribute-vertical-spacing":W.A,"arrange-as-list-Y":ew.A,"arrange-as-list-X":ev.A,"arrange-as-grid":eE.A,"align-top-as-group":ea.A,"align-vertical-center-as-group":el.A,"align-bottom-as-group":q.A,"align-left-as-group":ee.A,"align-horizontal-center-as-group":Z.A,"align-right-as-group":en.A},eI={"align-top":x.Q,"align-vertical-center":A.O,"align-bottom":R.u,"align-left":k.K,"align-horizontal-center":O.E,"align-right":P.F,"distribute-horizontal-spacing":D.A,"distribute-vertical-spacing":M.e,"arrange-as-list-Y":L.H,"arrange-as-list-X":function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 18a.75.75 0 0 1-.75-.75V5.75A.75.75 0 0 1 6.75 5h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75zm5 0a.75.75 0 0 1-.75-.75V5.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75zm4.25-.75c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75z",clipRule:"evenodd"}))},"arrange-as-grid":function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 5h3v3H5zm10 0h3v3h-3zm-2 0h-3v3h3zm-8 5h3v3H5zm13 0h-3v3h3zm-8 0h3v3h-3zm-2 5H5v3h3zm7 0h3v3h-3zm-2 0h-3v3h3z",clipRule:"evenodd"}))},"align-top-as-group":K.j,"align-vertical-center-as-group":F.V,"align-bottom-as-group":B.H,"align-left-as-group":U.X,"align-horizontal-center-as-group":z.d,"align-right-as-group":V.s};var eS=n(289298);let eC=parseInt("6px"),ex=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],eA=["align-left-as-group","align-horizontal-center-as-group","align-right-as-group","align-top-as-group","align-vertical-center-as-group","align-bottom-as-group"],eR=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"],ek=r.memo(function(e){let t=(0,r.useRef)(null),[n,a]=(0,r.useState)(!1),[o,l]=eB(),c=(0,r.useCallback)(e=>{a(e.altKey||e.shiftKey)},[]);(0,r.useEffect)(()=>{function e(){a(!1)}return document.addEventListener("keydown",c),document.addEventListener("keyup",c),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",c),window.removeEventListener("blur",e)}},[c]);let d=(0,E.vm)(eA),p=function(e){let[t,n]=(0,r.useState)(0);return(0,r.useLayoutEffect)(()=>{n(eU(e.current))},[e]),(0,s.w)(e,(0,r.useCallback)(()=>{n(eU(e.current))},[e])),t}(t),m=Math.floor(p/(24+eC));m*(24+eC)+24<=p&&++m;let[g,f]=function({visibleActionCount:e,renderGroupAlignButtons:t}){let{version:n}=(0,i.DP)(),r=t?eA:ex,a=[],o=[];if("ui2"===n)a=r,o=eR;else{let t=[...r,...eR];t.length>e?(a=t.slice(0,e-1),o=t.slice(e-1)):a=t}return[a,o]}({visibleActionCount:m,renderGroupAlignButtons:n&&o&&d});return r.createElement(u.p,{name:"align_panel"},r.createElement(S.Zk,{className:"align_panel--panel--hOaKr",onMouseMove:e=>c(e.nativeEvent),"data-test-id":"alignPanel",...l},r.createElement(eO,{ref:t},g.map(t=>r.createElement(eK,{key:t,action:t,recordingKey:e.recordingKey})),f.length>0&&r.createElement(eP,{actions:f,recordingKey:e.recordingKey}))))}),eO=r.forwardRef(function(e,t){let{version:n}=(0,i.DP)();return"ui3"===n?r.createElement("div",{ref:t,className:"align_panel--flexibleRow--5gjUF"},e.children):r.createElement(S.fI,{forwardedRef:t},e.children)});function eP(e){let t=(0,v.BK)("FULLSCREEN_DISTRIBUTE_DROPDOWN"),n=(0,r.useRef)(null),{version:a}=(0,i.DP)(),l=(0,C.R)(),s=(0,E.yU)(e.actions),u=l?(0,g.t)("fullscreen.properties_panel.tooltip_moreActions"):(0,g.t)("fullscreen.properties_panel.align_panel.more_options");return r.createElement(r.Fragment,null,r.createElement(d.E,{name:"toggle_align_options_button"},r.createElement(o.K,{ref:n,actionOnPointerDown:t.showing,"aria-label":u,onClick:()=>{t.toggle({data:{targetRect:n.current.getBoundingClientRect()}})},disabled:e.disabled||"ui2"===a&&!s,recordingKey:c.Pt(e,"distributeDropdown"),htmlAttributes:{"data-tooltip":u,"data-tooltip-type":w.Ib.TEXT}},"ui2"===a?r.createElement("span",{className:"align_panel--dropdownIconHack--7hoNm"},r.createElement(eF,null),r.createElement(p.B,{svg:eS.A,className:"align_panel--ui3IconColorCompat--51gei"})):r.createElement(eF,null))),t.showing&&r.createElement(d.E,{name:"dropdown"},r.createElement(I.Cf,{targetRect:t.data.targetRect,propagateCloseClick:!0},e.actions.map(t=>r.createElement(eD,{key:t,action:t,recordingKey:e.recordingKey})))))}function eD(e){let{action:t}=e,n=(0,E.Zr)(t),o=(0,a.d4)(e=>e.mirror.appModel.keyboardShortcuts);return r.createElement(N.a1,{text:(0,f.A)(t),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:()=>{_.Y5.triggerActionInUserEditScope(t,"tidy-up"===t?{source:"panel"}:null)},key:t,shortcut:(0,T.c1)(o,t),recordingKey:c.Pt(e,"distributeDropdown",t)},r.createElement(eM,{action:t}))}function eM({action:e}){if("tidy-up"===e)return r.createElement(eL,null);let t=eI[e];return r.createElement(m.U,{svg:eT[e],fallbackSvg:eN[e]},t&&r.createElement(t,null))}function eL(){let e=(0,y.kl)("detectableListAxis"),t=(0,E.Zr)("arrange-as-grid")?"arrange-as-grid":`arrange-as-list-${(0,h._W)(e,"Y")}`,n=eI[t];return r.createElement(m.U,{svg:eT[t],fallbackSvg:eN[t]},n&&r.createElement(n,null))}function eK(e){let t=(0,E.Zr)(e.action),n=(0,b.Xo)();return r.createElement(d.E,{name:"align_button",alsoTrack:()=>({alignButtonAction:e.action})},r.createElement(o.K,{disabled:!t,onClick:()=>{_.Y5.triggerActionInUserEditScope(e.action)},recordingKey:c.Pt(e,"alignButton",e.action),key:e.action,"aria-label":e.action,htmlAttributes:{onMouseDown:e=>{n?.id.startsWith("paint")&&e.stopPropagation()},"data-tooltip":e.action,"data-tooltip-type":w.Ib.LOOKUP,"data-tooltip-max-width":200}},r.createElement(eM,{action:e.action})))}function eF(){let{version:e}=(0,i.DP)(),t=(0,E.Zr)("tidy-up");return"ui3"===e?r.createElement(l.J,null):r.createElement(eM,{action:t?"tidy-up":"distribute-vertical-spacing"})}function eB(){let[e,t]=(0,r.useState)(!1);return[e,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}]}function eU(e){let t=getComputedStyle(e);return parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)}},353822:(e,t,n)=>{n.d(t,{K:()=>eo});var r=n(411855),a=n(188507),o=n(587670),l=n(153234),i=n(939863),s=n(835808),c=n(690710),d=n(782467),u=n(663668);function p(e){let{containerClassName:t,isHTMLString:n,onExpandCallback:a,text:o}=e,l=r.useMemo(()=>n?(0,u.A)(o):o,[n,o]),[i,s]=r.useState(!1),c=r.useRef(null),p=r.useCallback(()=>s(!1),[]),m=(0,d.e)({ref:c,onTextChange:p,text:l}),g=r.useCallback(()=>{a?a(!i):s(!i)},[i,a]),f=i?"Show less":"Show more";return r.createElement("div",{className:`${t} expandable_text_container--container--fauZM`},r.createElement("div",{ref:c,className:i?"":"expandable_text_container--truncatedText--Zh19Y ellipsis--ellipsis--Tjyfa"},l),m&&r.createElement("div",{className:"expandable_text_container--toggleToExpandPrompt--y9zk9",onClick:g},f))}var m=n(730371),g=n(752795),f=n(776250),_=n(83909),h=n(662531),E=n(234945),y=n(107244),v=n(356390),b=n(848661),w=n(929077);function T(e){let{description:t,isViewOnly:n,onSubmitDescription:a}=e,o=(0,b.gl)(t),l=N(t),s=r.useCallback((e,n)=>{e!==N(t)&&(0===n.trim().length?a("",""):a(e,n))},[t,a]),c=r.useCallback(()=>{v.Y5.commit()},[]);return r.createElement(w.A,{description:l,isViewOnly:n,placeholder:o?(0,i.t)("design_systems.component_panel.description_mixed"):(0,i.t)("design_systems.component_panel.description_placeholder"),onBlur:c,onSubmit:s,recordingKey:e.recordingKey})}function N(e){return(0,b.gl)(e)?(0,i.t)("design_systems.component_panel.description_mixed"):e}var I=n(498750),S=n(335601),C=n(659838),x=n(7959);let A=/^\w+:/;function R(e){let{links:t,onSubmitLinks:n}=e,[a,o]=r.useState(null),s=r.useCallback(e=>e.keyCode===I.Uz.ENTER&&!e.shiftKey&&(e.currentTarget.blur(),!0),[]),c=r.useCallback(e=>{o(e.target.value)},[o]),{inputRef:d,inputProps:{onChange:u,onFocus:p,onMouseUp:m,onMouseLeave:g,onKeyUp:f}}=(0,S.X)({onChange:c}),_=t?.find(e=>e),h=r.useCallback(()=>{if(null!==a){if(a.length<1){n([]),v.Y5.commit();return}n([{uri:a.match(A)?a:`https://${a}`}]),v.Y5.commit(),o(null)}},[n,a,o]),E=l.c1(e),y=null===a?_?.uri:a;return r.createElement(r.Fragment,null,r.createElement("div",{className:"documentation_link_input--label--ATBu1"},(0,i.tx)("design_systems.component_panel.link")),r.createElement(x.fI,{className:"documentation_link_input--row--Ph7Ip component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V"},r.createElement(C.L,{ref:d,key:"symbol-link",className:"documentation_link_input--documentationLink--3NlJC raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u ellipsis--ellipsis--Tjyfa",value:y||"",placeholder:(0,i.t)("design_systems.component_panel.link_to_documentation"),onFocus:p,onBlur:h,onChange:u,onKeyDown:s,onMouseUp:m,onMouseLeave:g,onKeyUp:f,recordingKey:E("componentSymbolLinks")})))}var k=n(210954),O=n(378958),P=n(155497);let D="component_link_display--linkWrapper--sxTXs";function M({links:e}){let t=e?.[0];if(null==t)return null;let n=r.createElement(r.Fragment,null,r.createElement("div",{className:"component_link_display--favicon--BwLu-"},r.createElement(O.v,{url:t.uri})),r.createElement("span",{className:"component_link_display--link--l6rH8"},t.uri));return r.createElement("div",{className:"component_link_display--wrapper--CLPXG"},r.createElement("div",{className:"component_link_display--header--fts8b"},(0,i.tx)("design_systems.component_panel.link")),(0,P.G)(t.uri??"")?r.createElement(k.N,{className:D,trusted:!1,href:t.uri,target:"_blank"},n):r.createElement("div",{className:D},n))}var L=n(771768),K=n(485463),F=n(256296),B=n(946689),U=n(762638);function z(){let e=(0,a.d4)(e=>{let t=(0,y.Lg)(e)??"";return e.mirror.sceneGraph.get(t)?.simplifyInstancePanels??!1});return r.createElement("div",{className:U.cx.bSolid.bt1.colorBorder.pt16.pb28.pl12.pr12.$},r.createElement(K.S,{checked:e,label:r.createElement(F.J,null,(0,i.t)("design_systems.component_panel.simplify_instances")),onChange:()=>h.l7.user("simplify-instance-panels",()=>o.glU.setSimplifyInstancePanels(!e)),recordingKey:"simplifyInstancePanelsCheckbox",htmlAttributes:{"data-testid":"simplify-instance-panels-checkbox"}},(0,i.tx)("design_systems.component_panel.simplify_instances_help_text"),r.createElement(r.Fragment,null,"\xa0",r.createElement(B.CY,{href:"https://help.figma.com/hc/articles/5579474826519-Explore-component-properties#simplified",target:"_blank",trusted:!0},(0,i.tx)("general.learn_more")))))}function V(e){let{descriptionElement:t,menuType:n,description:i,links:s,pickerShown:d}=e,u=(0,a.d4)(c.i$),p=d.id===L.uA,g=(0,a.d4)(e=>"state-group"===n?[(0,y.od)(e)].filter(e=>null!=e):(0,E.F4)(e)),v=r.useCallback((e,t)=>{h.l7.user("set-description",()=>{for(let n of g)n.setDescriptionRich(e,t)});let{componentKeys:n,updatedNodeIds:r}=H(g);(0,f.sx)("component description updated",{updatedNodeIds:r,componentKeys:n,isRichText:!0,length:e.length})},[g]),b=r.useCallback(e=>{for(let t of g)(0,m.deepEquals)(t.symbolLinks,e)||(_.wt.reportAnyPropertyChange(["symbolLinks"]),t.symbolLinks=e);let{componentKeys:t,updatedNodeIds:n}=H(g);(0,f.sx)("component links updated",{updatedNodeIds:n,componentKeys:t})},[g]),w=d?.id===L.Wv&&u!==o.iCO.STATE;return r.createElement(r.Fragment,null,r.createElement("div",{className:p?"component_controls_menu--descriptionContainerViewOnly--VAeo9 component_controls_menu--descriptionContainer--me8J2":"component_controls_menu--descriptionContainer--me8J2"},t,r.createElement(T,{key:n,description:i,isViewOnly:p,onSubmitDescription:v,recordingKey:l.Pt(e,"componentDescriptionText")}),d.id===L.Wv?r.createElement(R,{links:s,onSubmitLinks:b}):r.createElement(M,{links:s})),w&&r.createElement(z,null))}function H(e){let t=e.map(e=>e.guid),n=t.map(e=>o.Egt.getAssetKeyForPublish(e)).filter(g.isNotNullish).map(e=>e.toString());return{updatedNodeIds:t,componentKeys:n}}var X=n(343662),G=n(219728),W=n(574176),$=n(893606),Y=n(313888),j=n(531800);let q=["component_set","selected_variant"],J={component_set:!0,selected_variant:!0},Z={component_set:{displayName:()=>(0,i.t)("design_systems.component_panel.component_set"),icon:Y.A},selected_variant:{displayName:()=>(0,i.t)("design_systems.component_panel.selected_variant"),icon:j.A}};function Q(e){let t=(0,$.R)();return r.createElement(t?et:ee,{...e})}function ee(e){let{description:t,links:n,containingStateGroupDescription:o,containingStateGroupLinks:i,isViewOnly:s,recordingKey:c}=e,[d,u]=r.useState(er(t,n??[],s)),p=en(t,n,o,i,s),m=l.qP(c??"variantDocumentationMenu","changeTab",e=>u(e)),g=(0,a.d4)(e=>e.pickerShown);return(0,L.kL)(g)?r.createElement(r.Fragment,null,!!p&&r.createElement("div",{className:"variant_documentation_menu--tabContainer--TDuq4",role:"tablist"},q.map(e=>r.createElement(ea,{key:e,onSetSelectedTab:m,selectedTab:d,tabType:e}))),r.createElement("div",null,r.createElement(V,{pickerShown:g,menuType:"selected_variant"===d?"selection":"state-group",description:"selected_variant"===d?t:o??"",links:"selected_variant"===d?n:i,recordingKey:l.Pt(e,"componentControlsMenu")}))):null}function et({description:e,links:t,containingStateGroupDescription:n,containingStateGroupLinks:o,isViewOnly:i,recordingKey:s}){let[c,d]=G.tU.useTabs(J,{defaultActive:er(e,t??[],i),recordingKey:s??"variantDocumentationMenu"}),u=en(e,t,n,o,i),p=(0,a.d4)(e=>e.pickerShown);return(0,L.kL)(p)?r.createElement(r.Fragment,null,!!u&&r.createElement("div",{className:"variant_documentation_menu--ui3TabContainer--P2Vqv"},r.createElement(G.tU.TabStrip,{manager:d},q.map(e=>r.createElement(G.tU.Tab,{key:e,...c[e]},Z[e].displayName())))),r.createElement(V,{pickerShown:p,menuType:"selected_variant"===d.activeTab?"selection":"state-group",description:"selected_variant"===d.activeTab?e:n??"",links:"selected_variant"===d.activeTab?t:o,recordingKey:l.Pt(s,"componentControlsMenu")})):null}function en(e,t,n,r,a){return!a||(e||t?.length)&&(n||r?.length)}function er(e,t,n){return!n||(0,b.gl)(e)||e.length>0||t.length>0?"selected_variant":"component_set"}function ea({selectedTab:e,onSetSelectedTab:t,tabType:n}){let{displayName:a,icon:o}=Z[n],l=r.useCallback(()=>t(n),[t,n]),i=r.useCallback(e=>{e.keyCode===I.Uz.ENTER&&t(n)},[t,n]);return r.createElement("span",{className:e===n?"variant_documentation_menu--tabActive--3IOzf variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd":"variant_documentation_menu--tab--r9UJ6 variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:l,onKeyDown:i,key:n,role:"tab",tabIndex:0},r.createElement(W.B,{className:"variant_documentation_menu--tabIcon--f91ai",svg:o}),a())}function eo(e){let{description:t,containingStateGroupDescription:n,containingStateGroupLinks:d}=e,u=(0,a.d4)(c.i$),m=(0,a.d4)(e=>e.pickerShown),g=(0,s.yr)();return(0,L.kL)(m)?r.createElement(X.a,null,u===o.iCO.STATE||u===o.iCO.STATE_INSTANCE?r.createElement(Q,{description:t,links:g,containingStateGroupDescription:n,containingStateGroupLinks:d,isViewOnly:m.id===L.uA,recordingKey:l.Pt(e,"variantDocumentationMenu")}):r.createElement(V,{description:t,links:g,descriptionElement:n?r.createElement(r.Fragment,null,r.createElement(p,{isHTMLString:!0,containerClassName:"component_controls_picker--stateGroupDescriptionContainer--ggLn7",text:n}),r.createElement("p",{className:"component_controls_picker--header--ELquL"},(0,i.tx)("design_systems.component_panel.current_variant"))):void 0,menuType:"selection",pickerShown:m,recordingKey:l.Pt(e,"componentControlsMenu")})):null}},771768:(e,t,n)=>{n.d(t,{Wv:()=>r,kL:()=>o,uA:()=>a});let r="component-controls-picker",a="instance-controls-picker";function o(e){return e?.id===r||e?.id===a}},343662:(e,t,n)=>{n.d(t,{I:()=>h,a:()=>E});var r=n(411855),a=n(188507),o=n(752795),l=n(587670),i=n(776250),s=n(320063),c=n(572206),d=n(939863),u=n(293017),p=n(273226),m=n(32067),g=n(835808),f=n(746806),_=n(771768);let h=320;function E({children:e}){let t=(0,a.wA)(),n=(0,a.d4)(e=>e.pickerShown),E=(0,a.d4)(e=>e.mirror.sceneGraph),y=(0,m.Tv)(),v=(0,g.yr)(),b=v?.find(e=>e),w=new c.Mi(n?.initialX,n?.initialY);(0,s.h)(()=>{let e=n?.id===_.uA,t=(0,p._P)(b?.uri),r=y?.map(e=>n?.id===_.Wv?l.Egt.getAssetKeyForPublish(e):n?.id===_.uA?l.Egt.getAssetKeyForPublish(p.k4([e],E)??""):"").filter(o.isNotNullish).map(e=>e.toString());(0,i.sx)("Component documentation modal opened",{hostname:t,selectedNodeIds:y,componentKeys:r,isInstance:e})});let T=n?.id===_.uA?(0,d.t)("design_systems.component_panel.component_documentation"):(0,d.t)("design_systems.component_panel.component_controls");return r.createElement(f.vx,{autoflowHeight:!0,headerSize:"small",initialPosition:w,initialWidth:h,onClose:()=>{t(u.XE())},scrollOverflow:!1,title:T},e)}},965908:(e,t,n)=>{n.d(t,{cu:()=>er,RV:()=>eo,QQ:()=>el,z6:()=>ee,h$:()=>et});var r=n(411855),a=n(109388),o=n(188507),l=n(767129),i=n(19038),s=n(587670),c=n(629019),d=n.n(c),u=n(794272),p=n(153234),m=n(520581),g=n(574176),f=n(939863),_=n(738269),h=n(293017),E=n(906899),y=n(843495),v=n(284321),b=n(498606),w=n(420186),T=n(572206),N=n(234945),I=n(273226),S=n(393965),C=n(215440),x=n(721478),A=n(746806);let R="instance-property-preview-picker";function k(e){let t=(0,o.wA)(),n=(0,o.d4)(e=>e.pickerShown),a=(0,o.d4)(C.Z3),l=(0,o.d4)(N.dK);if(n?.id!==R)return null;let i=t=>{let n={};for(let e of t){let t=(0,I.Yi)([e],l)||(0,I.k4)([e],l);t&&(n[t]?n[t].push(e):n[t]=[e])}return Object.values(n).map(t=>r.createElement(S.ME,{key:`bubbledInstancePreview.${t[0]}`,guids:t,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:x.NA.NAME_ONLY,containerWidth:I.O2.WIDE,shouldHideInstanceTitleButtons:!0,propDimension:I.OE.ASSIGNMENT,viewOnlyMode:S.BK.ALL_PROPS,hideErrors:!0,recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}))};return r.createElement(A.vx,{title:(0,f.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new T.Mi(n.initialX,n.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(h.XE())}},r.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},a.map((e,t)=>i(e))))}var O=n(107244),P=n(32067),D=n(233711),M=n(995439),L=n(227795),K=n(7723),F=n(900086),B=n(7959),U=n(696008),z=n(690710),V=n(893606),H=n(939791),X=n(353822),G=n(771768),W=n(343662),$=n(82131),Y=n(832039),j=n(322515),q=n(400439),J=n(968109),Z=n(313888),Q=n(999918);function ee(){return(0,u.R)(e=>{let t=(0,z.i$)(e),n=(0,O.od)(e);return{dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,stateGroupSelectionMode:t,containingProductComponent:n,containingStateGroupDescription:t===s.iCO.STATE?n?.description:void 0,containingStateGroupLinks:t===s.iCO.STATE?n?.symbolLinks:void 0,componentDescription:(0,O.cv)(e)}})}function et(e){let t=(0,o.wA)(),{dropdownShown:n,pickerShown:a}=ee(),l=r.useMemo(()=>n?.type===I.C4,[n]),i=a?.id===G.Wv,s=en(e);return r.useCallback(e=>{l&&t(_.oB()),i?t(h.XE()):s(e,G.Wv,W.I)},[i,l,t,s])}function en(e){let t=(0,o.wA)();return r.useCallback((n,r,o=w.qo)=>{if(!e)return;let l=a.findDOMNode(e.current),i=(0,w.cn)(l,o);t(h.u1({id:r,initialX:i.x,initialY:i.y})),t(E.sw()),t(h.Uv())},[t,e])}let er=r.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:n,containingProductComponent:a,containingStateGroupDescription:l,containingStateGroupLinks:i,componentDescription:c}=ee(),u=(0,V.R)(V.G.READY),m=!!(0,o.d4)(C.Z3).length,g=(0,o.wA)(),_=r.useRef(null),E=e=>e.stopPropagation(),y=t?.id===R,w=en(_),T=et(_),N=r.useCallback(e=>{y?g(h.XE()):w(e,R,304)},[g,y,w]),x=(0,o.d4)(v.Dr),A=(0,o.d4)(v.Ct);return u&&n!==s.iCO.STATE?null:a||n!==s.iCO.NON_STATE_COMPONENTS?a&&a.isAlive()?r.createElement(B.Zk,{className:q.S1,forwardedRef:_},r.createElement(el,null),u&&r.createElement(M.n,{description:c}),u?r.createElement(H.DE,{appendedClassName:d()(q.jP,j.yf),label:null,input:(0,f.tx)("design_systems.component_panel.current_variant"),icon:r.createElement(ea,{recordingKey:e.recordingKey})}):r.createElement(B.fI,{className:$.LO},r.createElement(eo,null),r.createElement("span",{className:q.MC},n===s.iCO.STATE&&m&&r.createElement(L.YW,{selected:t?.id===R,onClick:N,onMouseDown:E,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,f.t)("design_systems.component_properties.instance_property_preview"),svg:J.A,recordingKey:"instancePropertyPreviewButton"}),r.createElement(L.YW,{className:q.UW,selected:t?.id===G.Wv,onClick:T,onMouseDown:E,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,f.t)("design_systems.component_panel.component_controls"),svg:Q.A,recordingKey:"componentControls"}))),!u&&r.createElement(M.n,{description:c}),!u&&r.createElement(X.K,{containingStateGroupDescription:l,containingStateGroupLinks:i,description:c,recordingKey:p.Pt(e,"componentControlsPicker")}),!u&&r.createElement(k,null),n===s.iCO.STATE&&r.createElement(S.e6,{containerWidth:I.O2.REGULAR,propDimension:I.OE.DEFINITION,guids:[a.guid],recordingKey:e.recordingKey,entrypointForInstanceSwapPicker:null}),x&&A&&r.createElement(F.x,null)):null:r.createElement(U.j,{recordingKey:"createStateGroup"})});function ea(e){let t=(0,D.Ye)();return t&&("SYMBOL"===t.type&&!t.isState||t.isStateGroup)?r.createElement(l.K,{recordingKey:p.Pt(e.recordingKey,"goToParent"),"aria-label":(0,f.t)("design_systems.component_panel.select_component"),onClick:()=>{y.tJ([t.guid])},htmlAttributes:{"data-tooltip":(0,f.t)("design_systems.component_panel.select_component"),"data-tooltip-type":b.Ib.TEXT}},r.createElement(i.r,null)):null}function eo({alwaysShowParentComponent:e,svgOverride:t,shouldHideComponentIcon:n,focusedInputOverridesClassName:a,unfocusedInputOverridesClassName:o}){let{stateGroupSelectionMode:l,containingProductComponent:i}=ee();if(!i)return null;let c=l===s.iCO.STATE&&!e;return r.createElement(m.E,{name:"component_title_control"},r.createElement(K.R,{guid:i.guid,value:c?(0,f.t)("design_systems.component_panel.current_variant"):i.name,canEdit:!c,icon:t??r.createElement(g.B,{svg:Z.A,className:Y.Kk}),shouldHideIcon:n,editAction:"rename-component",focusedInputOverridesClassName:a,unfocusedInputOverridesClassName:o}))}function el(){let e=(0,V.R)(V.G.READY),t=(0,P.O1)();return e&&t&&t.length>1?r.createElement(H.Ad,{label:null,appendedClassName:q.Vc,input:r.createElement(eo,{alwaysShowParentComponent:!0,shouldHideComponentIcon:!0,unfocusedInputOverridesClassName:q.p0})}):null}},891881:(e,t,n)=>{n.d(t,{K:()=>R});var r=n(411855),a=n(511315),o=n(343798),l=n(243742),i=n(629019),s=n.n(i),c=n(860601),d=n(153234),u=n(574176),p=n(46481),m=n(939863),g=n(809831),f=n(848661),_=n(69961),h=n(928526),E=n(538697),y=n(422694),v=n(33136),b=n(438806),w=n(235107);function T(e){return"HORIZONTAL"===e?w.A:b.A}class N{constructor(e,t){this.isHorizontal="HORIZONTAL"===e,this.hasUI3V2Constraints=t}format(e){switch(e){case"MIN":return this.isHorizontal?(0,m.t)("fullscreen.properties_panel.constraints_panel.select.left"):(0,m.t)("fullscreen.properties_panel.constraints_panel.select.top");case"MAX":return this.isHorizontal?(0,m.t)("fullscreen.properties_panel.constraints_panel.select.right"):(0,m.t)("fullscreen.properties_panel.constraints_panel.select.bottom");case"STRETCH":return this.isHorizontal?this.hasUI3V2Constraints?(0,m.t)("fullscreen.properties_panel.constraints_panel.select.left_plus_right"):(0,m.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right"):this.hasUI3V2Constraints?(0,m.t)("fullscreen.properties_panel.constraints_panel.select.top_plus_bottom"):(0,m.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom");case"CENTER":return(0,m.t)("fullscreen.properties_panel.constraints_panel.select.center");case"SCALE":return(0,m.t)("fullscreen.properties_panel.constraints_panel.select.scale");default:return""}}getUI3DropdownOverride(e){if("STRETCH"===e)return this.isHorizontal?(0,m.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right_truncated"):(0,m.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom_truncated")}}var I=n(344525);let S="constraint_select--chevron--vKwBF",C="constraint_select--input--daUMm",x="constraint_select--ui3ConstraintsV2Text--On-Ep",A=new class{format(e){if("AUTO"===e)return(0,m.t)("fullscreen.auto")}};function R(e){let{version:t}=(0,l.DP)(),n=(0,v.x)(),i=(0,g.cJ)(),b=(0,_.o3)(_.nt.ui3ConstraintsV2)&&!i&&"ui3"===t,w=new N(e.axis,b),R=(0,f.gl)(e.constraint)?[]:[w.getUI3DropdownOverride(e.constraint),w.format(e.constraint)].filter(e=>null!=e),k=r.useRef(null),[O,P]=r.useState(void 0),{measurementNode:D,bestText:M}=(0,h.r)({options:R,optionClassname:"",inputRef:k}),L=["MIN","MAX","STRETCH","CENTER","SCALE"],K=r.createElement(y.Q,{setMaxWidth:P,options:L,formatOption:e=>w.format(e)});if(e.readOnly&&(0,f.hS)(e.constraint)){let t=new N(e.axis,b).format(e.constraint);return r.createElement("div",{className:s()(e.className,"constraint_select--flexContainer--a9ZPi")},r.createElement(u.B,{svg:T(e.axis),className:I.Vb}),r.createElement("span",{className:"constraint_select--readOnlyText--uBzWh ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}let F=r.createElement(p.U,{svg:T(e.axis)},r.createElement("div",{className:b?"constraint_select--iconSecondary--13AAc":void 0},"HORIZONTAL"===e.axis?r.createElement(a.w,null):r.createElement(o.T,null))),B=b&&(0,f.hS)(e.constraint)?M:void 0,U=r.createElement("div",{className:"constraint_select--hideMeasurementNode--Of14C"},D),z=b?"HORIZONTAL"===e.axis?(0,m.t)("fullscreen.properties_panel.constraints_panel.constraints.horizontal.tooltip"):(0,m.t)("fullscreen.properties_panel.constraints_panel.constraints.vertical.tooltip"):void 0;return"ui3"===t&&n?r.createElement(r.Fragment,null,r.createElement(E.l6,{id:e.id,inputTextRef:k,dropdownWidth:b?O:void 0,dropdownOverride:B??void 0,chevronClassName:S,inputClassName:s()(C,{[x]:b}),className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:"AUTO",formatter:A,icon:F,onChange:c.lQ,disabled:n,recordingKey:d.Pt(e,"select"),tooltip:z},r.createElement(E.c$,{key:"AUTO",value:"AUTO",disabled:!0})),U,K):r.createElement(r.Fragment,null,r.createElement(E.l6,{id:e.id,inputTextRef:k,dropdownWidth:b?O:void 0,dropdownOverride:B??void 0,chevronClassName:S,inputClassName:s()(C,{[x]:b}),className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:e.constraint,formatter:w,icon:F,onChange:t=>{let n="HORIZONTAL"===e.axis?"horizontalConstraint":"verticalConstraint";e.updateConstraints({[n]:t},!0)},disabled:n,tooltip:z,recordingKey:d.Pt(e,"select")},L.map(t=>{let a=e.disableStretchScaleConstraints&&["STRETCH","SCALE"].includes(t);return r.createElement(E.c$,{key:t,value:t,recordingKey:d.Pt(e,"select",t),disabled:n||a})})),U,K)}},828614:(e,t,n)=>{n.d(t,{f:()=>f});var r=n(411855),a=n(243742),o=n(629019),l=n.n(o),i=n(153234),s=n(522739),c=n(809831),d=n(69961),u=n(33136);let p="constraint_selector--outerRow--vEwHH",m="constraint_selector--compactOuterRow--lVbKK constraint_selector--outerRow--vEwHH",g="constraint_selector--hover--QinHp";function f(e){let[t,n]=(0,r.useState)(null),[o,f]=(0,r.useState)(null),{version:_}=(0,a.DP)(),h=(0,u.x)(),E="ui3"===_&&h?void 0:e.horizontalConstraint,y="ui3"===_&&h?void 0:e.verticalConstraint,v=(0,c.cJ)(),b=(0,d.o3)(d.nt.ui3ConstraintsV2)&&!v,w=e=>["top","bottom"].includes(e)?"VERTICAL":"HORIZONTAL",T=e=>"HORIZONTAL"===e?E:y,N=e=>e.shiftKey||e.metaKey,I=(t,n)=>r=>{if(e.readOnly)return;let a=n;if(N(r)||e.isCompact){let r="MIN"===n?"MAX":"MIN",o=T(t),l="VERTICAL"===t?!e.disableVerticalStretchScaleConstraints:!e.disableHorizontalStretchScaleConstraints;o===n&&l?a="SCALE":o===r&&l?a="STRETCH":"STRETCH"===o&&(a=r)}"VERTICAL"===t?e.updateConstraints({verticalConstraint:a}):e.updateConstraints({horizontalConstraint:a})},S=t=>()=>{e.readOnly||n(t)},C=()=>{n(null)},x=e=>{let t=e.target.parentElement;if(!t)return console.error(`constraint selector inner target element is ${t}`),null;let{top:n,left:r,width:a,height:o}=t.getBoundingClientRect(),l=Math.abs(e.clientX-r-a/2),i=Math.abs(e.clientY-n-o/2);return l<3&&i<3?"HORIZONTAL":l<i?"VERTICAL":"HORIZONTAL"},A=t=>{if(!e.readOnly){if("CENTER"!==y||N(t)){if("CENTER"!==E||N(t)){if("VERTICAL"===x(t)){let n=N(t)&&"CENTER"===y?"SCALE":"CENTER";e.updateConstraints({verticalConstraint:n})}else{let n=N(t)&&"CENTER"===E?"SCALE":"CENTER";e.updateConstraints({horizontalConstraint:n})}}else e.updateConstraints({verticalConstraint:"CENTER"})}else e.updateConstraints({horizontalConstraint:"CENTER"})}},R=t=>{e.readOnly||("CENTER"===y?f("HORIZONTAL"):"CENTER"===E?f("VERTICAL"):f(x(t)))},k=()=>{f(null)},O=e=>l()({"constraint_selector--selected--Eb73C":e,"constraint_selector--disabled--hLCxk":h}),P=(n,r)=>{let a="HORIZONTAL"===w(n)?e.isCompact?"constraint_selector--compactOuterHorizontalHandle--LVIo0 constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":"constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactOuterVerticalHandle--bF8mY constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2":"constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2";return l()(a,O(r),{[g]:t===n&&!h})},D=(t,n)=>{let r="HORIZONTAL"===t?e.isCompact?"constraint_selector--compactInnerHorizontalHandle--voVqQ constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerHorizontalHandle--Zfxr0 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2":e.isCompact?"constraint_selector--compactInnerVerticalHandle--UTZB- constraint_selector--_compactInnerHandle--gqwrT constraint_selector--_handle--LH-q2":"constraint_selector--innerVerticalHandle--slyp1 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2";return l()(r,O(n),{[g]:o===t&&!h})},M=t=>{let n=w(t),a=T(n),o=["top","left"].includes(t)?"MIN":"MAX",l=[o,"STRETCH"].includes(a),c="HORIZONTAL"===n?e.isCompact?"constraint_selector--compactOuterHorizontalTarget--5-m-j constraint_selector--outerHorizontalTarget--2Tsd3":"constraint_selector--outerHorizontalTarget--2Tsd3":e.isCompact?"constraint_selector--compactOuterVerticalTarget--0Lb9I constraint_selector--outerVerticalTarget--m0eT7":"constraint_selector--outerVerticalTarget--m0eT7",d=P(t,l);return r.createElement(s.D8,{className:c,recordingKey:i.Pt(e,"constraint",t),onMouseDown:I(n,o),onMouseEnter:S(t),onMouseLeave:C},r.createElement("div",{className:d}))},L=(t,n)=>{let a="centerX"===t?"HORIZONTAL":"VERTICAL",o="CENTER"===T(a);if(n){let n="HORIZONTAL"===a?"constraint_selector--innerUI3V2HorizontalTarget--kJ2Ck constraint_selector--_innerUI3V2Target--PtYtd":"constraint_selector--innerUI3V2VerticalTarget--rNFiS constraint_selector--_innerUI3V2Target--PtYtd";return r.createElement(s.D8,{className:n,recordingKey:i.Pt(e,"constraint",t),onMouseDown:A,onMouseMove:R,onMouseLeave:k},r.createElement("div",{className:D(a,o)}))}return r.createElement(s.D8,{className:D(a,o),recordingKey:i.Pt(e,"constraint",t),onMouseDown:A,onMouseMove:R,onMouseLeave:k})},K=r.createElement("div",{className:e.isCompact?"constraint_selector--compactSelectorContainer--tn5PR constraint_selector--selectorContainer--stEPY":"constraint_selector--selectorContainer--stEPY"},r.createElement("div",{className:e.isCompact?m:p},M("top")),r.createElement("div",{className:"constraint_selector--innerRow--Sq9bp"},M("left"),(t=>{let n=L("centerX",t),a=L("centerY",t);return r.createElement("div",{className:e.isCompact?"constraint_selector--compactInnerTarget--RzKnh constraint_selector--innerTarget--8C-rg":"constraint_selector--innerTarget--8C-rg"},"CENTER"===E?r.createElement(r.Fragment,null,a,n):r.createElement(r.Fragment,null,n,a))})(b),M("right")),r.createElement("div",{className:e.isCompact?m:p},M("bottom")));return e.isCompact?K:"ui3"===_?r.createElement("div",{className:b?"constraint_selector--ui3V2ConstraintsContainer--pW-hd":"constraint_selector--ui3V1ConstraintsContainer--ODr1U"},K):K}},33136:(e,t,n)=>{n.d(t,{t:()=>l,x:()=>o});var r=n(243742),a=n(794272);function o(){let e=l(),{version:t}=(0,r.DP)();return e.isInstanceSublayerSelected||"ui3"===t&&e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning||!1}function l(){return(0,a.R)(e=>{let t=e.mirror.selectionProperties;return{openFileKey:e.openFile?.key,stackMode:t.stackMode,stackLayoutSizeOptions:t.stackLayoutSizeOptions,stackHorizontalSize:t.stackHorizontalSize,stackVerticalSize:t.stackVerticalSize,stackPositioning:t.stackPositioning,someConstraintItemsSelected:t.someNodesAreConstraintItems,nodesAreAllInsideStacks:t.nodesAreAllInsideStacks,horizontalConstraint:t.horizontalConstraint,verticalConstraint:t.verticalConstraint,scrollBehavior:t.scrollBehavior,allHaveScrollableFrameAsParent:t.allHaveScrollableFrameAsParent,hasHorizontallyScrollingParent:t.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:t.hasVerticallyScrollingParent,isInstanceSublayerSelected:!!t.isInstanceSublayerSelected,hasMinOrMaxWidth:null!=t.minWidth||null!=t.maxWidth,hasMinOrMaxHeight:null!=t.minHeight||null!=t.maxHeight}})}},44159:(e,t,n)=>{n.d(t,{lc:()=>_,a4:()=>h,bO:()=>E});var r=n(411855),a=n(188507),o=n(243742),l=n(587670),i=n(776250),s=n(153234),c=n(520581),d=n(356390),u=n(848661),p=n(7959),m=n(891881),g=n(828614),f=n(33136);function _(e){let t=(0,a.wA)(),{version:n}=(0,o.DP)(),l=(0,f.t)(),i=E(e.openFileKey),d=h("HORIZONTAL"),u=h("VERTICAL"),_=r.createElement(c.E,{name:"constraint_selector"},r.createElement(g.f,{horizontalConstraint:l.horizontalConstraint,verticalConstraint:l.verticalConstraint,someConstraintItemsSelected:l.someConstraintItemsSelected,updateConstraints:i,disableHorizontalStretchScaleConstraints:d,disableVerticalStretchScaleConstraints:u,dispatch:t,recordingKey:s.Pt(e,"constraintSelector"),readOnly:e.readOnly})),y=r.createElement(c.E,{name:"width_select"},r.createElement(m.K,{id:"width-select",className:"constraints_panel--stackWidthDropdown--mbkWx constraints_panel--_sizeDropdown--1d1H2",axis:"HORIZONTAL",constraint:l.horizontalConstraint,updateConstraints:i,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:d,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:s.Pt(e,"width"),readOnly:e.readOnly})),v=r.createElement(c.E,{name:"height_select"},r.createElement(m.K,{id:"height-select",className:"constraints_panel--stackHeightDropdown--Aj-c5 constraints_panel--_sizeDropdown--1d1H2",axis:"VERTICAL",constraint:l.verticalConstraint,updateConstraints:i,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:u,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:s.Pt(e,"height"),readOnly:e.readOnly}));return"ui3"===n?r.createElement("div",{className:"constraints_panel--ui3Container--xPomZ"},_,r.createElement("div",{className:"constraints_panel--ui3Selects--ira8c"},y,v)):r.createElement(p.fI,{heightMultiplier:2,className:"constraints_panel--container--bilN5"},_,y,v)}function h(e){let t=(0,f.t)();if(("HORIZONTAL"===e?t.stackHorizontalSize:t.stackVerticalSize)===l.mKm.FILL_CONTAINER||"NONE"!==t.stackMode&&("HORIZONTAL"===e?t.hasMinOrMaxWidth:t.hasMinOrMaxHeight))return!0;if(t.scrollBehavior!==u.oV&&"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==t.scrollBehavior)return!1;let n="HORIZONTAL"===e?t.hasHorizontallyScrollingParent:t.hasVerticallyScrollingParent;return!!(0,u.E7)(n)}function E(e){let t=(0,f.t)();return(n,r=!1)=>{t.isInstanceSublayerSelected||((0,i.sx)("Constraint Changed",{fileKey:e,source:r?"dropdown":"panel",...n}),d.Y5.updateSelectionProperties(n))}}},233711:(e,t,n)=>{n.d(t,{Q:()=>T,Ye:()=>b});var r=n(411855),a=n(587670),o=n(794272),l=n(520581),i=n(347082),s=n(574176),c=n(939863),d=n(843495),u=n(316081),p=n(601607),m=n(498606),g=n(107244),f=n(7959),_=n(893606),h=n(371875),E=n(313888),y=n(405622);function v(e){let t=(0,_.R)(_.G.READY),{productComponent:n}=e;return t||("SYMBOL"!==n.type||n.isState)&&!n.isStateGroup?null:r.createElement(i.p,{name:"containing_assets_panel"},r.createElement(f.Zk,null,r.createElement(f.fI,null,r.createElement(f.xw,{className:h.Dn},(0,c.tx)("design_systems.component_panel.parent_component"))),r.createElement(l.E,{name:"select_component_button"},r.createElement(f.fI,{className:h.D9,onClick:()=>{d.tJ([n.guid])},recordingKey:"containingComponentPanel.jumpTo"},r.createElement(s.B,{svg:E.A,className:h.Vo}),r.createElement("div",{className:h.TQ},n.name),r.createElement("div",{className:h.UD},r.createElement(s.B,{"data-tooltip-type":m.Ib.TEXT,"data-tooltip":(0,c.t)("design_systems.component_panel.select_component"),svg:y.A,className:h.dC}))))))}function b(){let e=(0,o.R)(g.Lg);return(0,p.Jk)(e)}function w(){let e=b();return e?r.createElement(v,{productComponent:e}):null}function T(e){let t=function(e){let t=Object.keys(e);return(0,p.Fk)((e,t)=>t.every(t=>{let n=e.get(t);return n&&"SYMBOL"===n.type&&n.isState}),t)}(e.selection),n=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[a.ibQ.COMPONENT_ITEM]||t),o=(0,r.useRef)(new u.H4(()=>r.createElement(w,{key:"containingAssets"})));return r.createElement(r.Fragment,null,o.current.render({isVisible:n}))}},995439:(e,t,n)=>{n.d(t,{n:()=>c});var r=n(411855),a=n(663668),o=n(848661),l=n(7959),i=n(893606),s=n(939791);function c({description:e}){let t=r.useMemo(()=>(0,o.gl)(e)?"":(0,a.A)(e),[e]),n=(0,i.R)(i.G.READY);return""===t?null:n?r.createElement(s.Ad,{appendedClassName:"asset_description_preview--ui3DescriptionRow--U6fJ7",label:null,input:r.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):r.createElement(l.fI,null,r.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}},929077:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(411855),a=n(663668),o=n(402640),l=n(812115),i=n(153234),s=n(939863),c=n(7959);let d="rich_text_asset_description_input--quillInput--w9zzt";function u({description:e,isViewOnly:t,placeholder:n,onBlur:u,onSubmit:p,recordingKey:m}){let g=r.useCallback(e=>{e.stopPropagation()},[]),f=i.qP(m,"onInputChange",e=>{let t=(0,a.A)(e);p(e,t)});return t&&""===e?null:r.createElement(c.fI,{className:"rich_text_asset_description_input--textRow--JlCKa component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V",onMouseDown:g,onPointerDown:g},r.createElement("div",{className:t?"rich_text_asset_description_input--labelViewOnly--EBSZ9 rich_text_asset_description_input--label--U3bKd":"rich_text_asset_description_input--label--U3bKd"},(0,s.tx)("design_systems.component_panel.description")),r.createElement("div",{className:t?"rich_text_asset_description_input--quillInputViewOnly--Q329g":d},t?r.createElement(l.R,{fallback:null,errorFallback:null,quillClassName:"rich_text_asset_description_input--readOnlyEditor--wT16t",value:e}):r.createElement(o.A,{id:"quill-toolbar-asset-description-input",fallback:null,errorFallback:null,bounds:`.${d}`,debounceMs:1e3,flushOnBlur:!0,onBlur:u,mountBehavior:"focus",onInputChange:f,placeholder:n,defaultValue:e})))}},464558:(e,t,n)=>{n.d(t,{hw:()=>Y,Ij:()=>$,nl:()=>X});var r=n(411855),a=n(767129),o=n(766503),l=n(587670),i=n(966712),s=n(153234),c=n(520581),d=n(347082),u=n(80161),p=n(574176),m=n(46481),g=n(939863),f=n(293017),_=n(457858),h=n(356390),E=n(662531),y=n(617453),v=n(848661),b=n(498606),w=n(227795),T=n(7959),N=n(538697),I=n(188507),S=n(421757),C=n(137035),x=n(13583),A=n(629019),R=n.n(A),k=n(762638),O=n(931828),P=n(672517),D=n(988022),M=n(309798),L=n(636227),K=n(266294);let F="slides_presentation_presets_entrypoint_dismissed_user_flag";function B(){let e=(0,I.wA)(),t=(0,L.Yc)(),n=(0,L.d_)(),o=(0,M.f)(F),[l,i]=r.useState(!1);return!n||o||l||!t().get("enabled",!1)?null:r.createElement(P.fu,{name:"Slides presentation presets entrypoint"},r.createElement("div",{className:k.cx.flex.flexColumn.gap8.px8.py8.m8.radiusMedium.colorBgSecondary.$},r.createElement("div",{className:R()(k.cx.flex.flexRow.alignCenter.justifyBetween.$,"slides_presentation_presets_entrypoint--entrypoint--bBhbB")},r.createElement(C.b,null),r.createElement(a.K,{"aria-label":(0,g.t)("common.close"),onClick:()=>{i(!0),e(O.b({[F]:!0})),(0,D.Cu)({trackingContext:"Slides conversion presentation presets entrypoint",name:"slides_conversion_presentation_presets_entrypoint_dismissed"})}},r.createElement(x.L,null))),r.createElement("div",{className:k.cx.flex.flexColumn.gap8.px8.$},r.createElement("span",{className:k.cx.textBodyMedium.colorTextSecondary.$},(0,g.t)("slides.properties_panel.presentation_presets_entrypoint")),r.createElement("div",null,r.createElement(S.$n,{variant:"secondary",onClick:()=>{(0,D.Cu)({trackingContext:"Slides conversion presentation presets entrypoint",name:"slides_conversion_presentation_presets_entrypoint"}),(0,K.rh)(e)}},(0,g.t)("slides.general.open_figma_slides"))))))}let U="frame_presets--presetHeader--TKb-G";var z=n(949207),V=n(432023),H=n(969537);class X extends s.o6{constructor(){super(...arguments),this.toggleSection=e=>{this.props.expandedFramePresetType===e&&(e=l.EYD.NONE),(0,y.UK)().expandedFramePresetType.set(e)},this.onSelectPreset=e=>{E.l7.user("select-frame-preset",()=>{let t=`${e.name} -`;l.glU.createFrame(t,e.width,e.height,l.btW.RIGHT),this.props.dispatch(f.sx({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),l.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){return r.createElement(d.p,{name:"frame_presets"},r.createElement("div",null,r.createElement(T.fI,{className:"frame_presets--panelTitleRowOuter--lwWCb collapsible_property_panel--panelTitleRowOuter--i5K0R"},r.createElement(T.xw,null,(0,g.tx)("proto.frame_preset_panel.frame"))),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.phone"),expanded:this.props.expandedFramePresetType===l.EYD.PHONE,onMouseDown:this.toggleSection.bind(this,l.EYD.PHONE),recordingKey:s.Pt(this.props,"phoneToggle")}),this.props.expandedFramePresetType===l.EYD.PHONE&&r.createElement(W,{framePresets:_.sE.phonePresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"phoneRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.tablet"),expanded:this.props.expandedFramePresetType===l.EYD.TABLET,onMouseDown:this.toggleSection.bind(this,l.EYD.TABLET),recordingKey:s.Pt(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===l.EYD.TABLET&&r.createElement(W,{framePresets:_.sE.tabletPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"tabletRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.desktop"),expanded:this.props.expandedFramePresetType===l.EYD.DESKTOP,onMouseDown:this.toggleSection.bind(this,l.EYD.DESKTOP),recordingKey:s.Pt(this.props,"desktopToggle")}),this.props.expandedFramePresetType===l.EYD.DESKTOP&&r.createElement(W,{framePresets:_.sE.desktopPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"desktopRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.presentation"),expanded:this.props.expandedFramePresetType===l.EYD.PRESENTATION,onMouseDown:this.toggleSection.bind(this,l.EYD.PRESENTATION),recordingKey:s.Pt(this.props,"presentationToggle")}),this.props.expandedFramePresetType===l.EYD.PRESENTATION&&r.createElement(W,{framePresets:_.sE.presentationPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"presentationRows")},r.createElement(B,null)),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.watch"),expanded:this.props.expandedFramePresetType===l.EYD.WATCH,onMouseDown:this.toggleSection.bind(this,l.EYD.WATCH),recordingKey:s.Pt(this.props,"watchToggle")}),this.props.expandedFramePresetType===l.EYD.WATCH&&r.createElement(W,{framePresets:_.sE.watchPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"watchRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.paper"),expanded:this.props.expandedFramePresetType===l.EYD.PAPER,onMouseDown:this.toggleSection.bind(this,l.EYD.PAPER),recordingKey:s.Pt(this.props,"paperToggle")}),this.props.expandedFramePresetType===l.EYD.PAPER&&r.createElement(W,{framePresets:_.sE.paperPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"paperRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.social_media"),expanded:this.props.expandedFramePresetType===l.EYD.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,l.EYD.SOCIALMEDIA),recordingKey:s.Pt(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===l.EYD.SOCIALMEDIA&&r.createElement(W,{framePresets:_.sE.socialMediaPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"socialMediaRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.figma_community"),expanded:this.props.expandedFramePresetType===l.EYD.FIGMA,onMouseDown:this.toggleSection.bind(this,l.EYD.FIGMA),recordingKey:s.Pt(this.props,"figmaToggle")}),this.props.expandedFramePresetType===l.EYD.FIGMA&&r.createElement(W,{framePresets:_.sE.figmaPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"figmaRows")}),r.createElement(G,{name:(0,g.t)("proto.frame_preset_panel.archive"),expanded:this.props.expandedFramePresetType===l.EYD.ARCHIVE,onMouseDown:this.toggleSection.bind(this,l.EYD.ARCHIVE),recordingKey:s.Pt(this.props,"archiveToggle")}),this.props.expandedFramePresetType===l.EYD.ARCHIVE&&r.createElement(W,{framePresets:_.sE.archivedPresets,onSelectPreset:this.onSelectPreset,recordingKey:s.Pt(this.props,"archiveRows")})))}}X.displayName="FramePresetPanel";class G extends s.o6{render(){return r.createElement(d.p,{name:"frame_preset_header_panel"},r.createElement(T.Zk,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?"frame_presets--presetHeaderExpanded--Qjd4B frame_presets--presetHeader--TKb-G":U},r.createElement(T.fI,{className:U},r.createElement("div",{className:"frame_presets--caretAndName---NO1X"},r.createElement(p.B,{className:this.props.expanded?"frame_presets--caretDown--fFNWX frame_presets--caret--UJlom":"frame_presets--caret--UJlom",svg:this.props.expanded?z.A:V.A}),r.createElement("div",{className:"frame_presets--name--54TF2"},this.props.name)))))}}G.displayName="FramePresetHeader";class W extends s.o6{constructor(){super(...arguments),this.onSelectPreset=e=>this.props.onSelectPreset(e)}render(){return r.createElement(d.p,{name:"frame_presets_list_panel"},r.createElement(T.Zk,{className:"frame_presets--presetList--ayuEn"},this.props.framePresets.map(e=>r.createElement(T.fI,{className:"frame_presets--presetRow--xaZa5",key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:s.Pt(this.props,e.name)},r.createElement("div",{className:"frame_presets--presetName--q2eD4"},e.i18nName()),r.createElement("div",{className:"frame_presets--presetDimensions--ebk8Q"},e.width,"\u200A\xd7\u200A",e.height," "))),this.props.children))}}W.displayName="FramePresetList";class $ extends s.o6{constructor(){super(...arguments),this.state={focusedPreset:void 0},this.formatter={format:e=>e===l.V$M.FRAME?(0,g.t)("viewer.options_menu.frame"):e===l.V$M.GROUP?(0,g.t)("viewer.options_menu.group"):e===l.V$M.SECTION?(0,g.t)("viewer.options_menu.section"):e,isEqual:(e,t)=>e===t},this.onChange=e=>{if("number"==typeof e)e===l.V$M.SECTION&&this.changeSelectionToSection(),e===l.V$M.FRAME&&this.getFrameOrGroupOrSectionOrMixed()===l.V$M.SECTION&&this.changeSelectionSectionToFrame(),this.changeSelectionToFrameOrGroup(e);else{let t=_.EZ[e];this.setPreset(t)}},this.changeSelectionToSection=()=>{h.Y5.triggerActionInUserEditScope("replace-selected-frame-with-section")},this.changeSelectionSectionToFrame=()=>{h.Y5.triggerActionInUserEditScope("replace-selected-section-with-frame")},this.changeSelectionToFrameOrGroup=e=>{E.l7.user("change-selection-to-frame-or-group",()=>{l.glU.changeSelectionToFrameOrGroup(e),l.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.setPreset=e=>{this.props.dispatch(f.sx({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),E.l7.user("set-frame-preset",()=>{l.glU.makeSelectedFramesManuallySized(),h.Y5.updateSelectionProperties({width:e.width,height:e.height}),l.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})},this.getFrameOrGroupOrSectionOrMixed=()=>(0,v.hS)(this.props.resizeToFit)?this.props.resizeToFit?l.V$M.GROUP:this.props.isSection?l.V$M.SECTION:l.V$M.FRAME:v.oV,this.onFocus=e=>{this.setState({focusedPreset:e})},this.renderPresetOption=(e,t)=>r.createElement(N.c$,{value:e.name,key:t,recordingKey:s.Pt(this.props,e.name),focused:!(this.state.focusedPreset?.name!==e.name)},r.createElement(j,{framePreset:e,focused:!(this.state.focusedPreset?.name!==e.name)}))}render(){let e=[],t=this.getFrameOrGroupOrSectionOrMixed(),n=(0,v.hS)(this.props.width)&&(0,v.hS)(this.props.height)?(0,_.fS)({width:this.props.width,height:this.props.height}):null;(0,v.hS)(t)&&e.push(t),n&&e.push(n.name),0===e.length&&e.push(v.oV);let a=e[0],o=this.props.isWidget,i=!this.props.isSection,d=!this.props.isOrInInstance;return r.createElement(c.E,{name:"frame_preset_select"},r.createElement(N.l6,{icon:this.props.leftIcon,className:this.props.selectClassName,inputClassName:this.props.inputClassName,chevronClassName:"frame_presets--framePresetDropdownChevron--0rJxs",id:this.props.id,property:a,multipleSelections:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"frame_presets--presetDropdown----7Sd",recordingKey:s.Pt(this.props,"select"),onOptionFocus:this.onFocus,disabled:o,dropdownOverride:this.props.dropdownOverride},r.createElement(N.c$,{value:l.V$M.SECTION,recordingKey:s.Pt(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),r.createElement(N.c$,{value:l.V$M.FRAME,recordingKey:s.Pt(this.props,"FRAME"),disabled:!d||!this.props.canBecomeFrame}),r.createElement(N.c$,{value:l.V$M.GROUP,recordingKey:s.Pt(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),i&&r.createElement(N.sK,null),i&&_.sE.phonePresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.tabletPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.desktopPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.presentationPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.watchPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.paperPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.socialMediaPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.figmaPresets.map(this.renderPresetOption),i&&r.createElement(N.sK,null),i&&_.sE.archivedPresets.map(this.renderPresetOption)))}}function Y(e){return r.createElement("span",{className:e.className},(0,i.kc)().ce_tv_fpl_icon_button?r.createElement(a.K,{onClick:()=>{h.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,"aria-label":(0,g.t)("fullscreen_actions.resize-to-fit"),htmlAttributes:{"data-test-id":"resize-to-fit-button","data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen_actions.resize-to-fit"),"data-tooltip-shortcut-key":"resize-to-fit"}},r.createElement(m.U,{svg:H.A},r.createElement(o.F,null))):r.createElement(w.K0,{onClick:()=>{h.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,dataTestId:"resize-to-fit-button","data-tooltip-type":b.Ib.LOOKUP,"data-tooltip":"resize-to-fit"},r.createElement(m.U,{svg:H.A},r.createElement(o.F,null))))}function j({focused:e,framePreset:t}){let[n,a]=r.useState(!1);return r.createElement("div",{className:e?"frame_presets--presetOptionFocused--xoc2A":"frame_presets--presetOption--FUHPW"},r.createElement(u.ph,{text:t.i18nName(),className:"frame_presets--frameName--LztZn",onTruncationChange:e=>{n!==e&&a(e)}}),r.createElement("span",{className:n?"frame_presets--frameDimensions--EoK8C":""},t.width,"\u200A\xd7\u200A",t.height))}$.displayName="FramePresetDropdown"},690122:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(411855),a=n(848661),o=n(29680),l=n(754369);function i(e){let t=(0,o.B9)(),{backingSymbolGUID:n,backingStateGroupGUID:i}=(0,l.$)(e),s=r.useMemo(()=>{let n=[];for(let r of e){let e=t.get(r);if(e&&"INSTANCE"!==e.type){for(;e?.isInstanceSublayer;)e=e.parentNode;e?.type==="INSTANCE"&&n.push(e)}}return n},[e,t]),c=r.useMemo(()=>{let e=null;for(let n of s){if(!n.symbolId)continue;let r=t.get(n.symbolId);if(r){if(e){if(e.guid!==r.guid)return a.oV}else e=r}}return e?.isState&&e.parentGuid&&(e=e.parentNode),e},[s,t]),d=r.useMemo(()=>{let n=[];for(let r of e){let e=t.get(r);e&&"INSTANCE"===e.type&&e.isInstanceSublayer&&n.push(e)}return n},[e,t]),u=r.useMemo(()=>!!(null==c&&(n||i)),[c,n,i]),p=r.useMemo(()=>!!(null==n&&null==i&&c),[c,n,i]);return r.useMemo(()=>({backingSymbolOrStateGroupOfContainingInstances:c,containingInstancesOfSublayers:s,onlyInstances:u,onlyInstanceSublayers:p,nestedInstances:d}),[c,s,u,p,d])}},412297:(e,t,n)=>{n.d(t,{PM:()=>V,h_:()=>z,iT:()=>W,sQ:()=>G,vr:()=>X});var r=n(411855),a=n(188507),o=n(587670),l=n(841563),i=n.n(l),s=n(776250),c=n(794272),d=n(374626),u=n(153234),p=n(268537),m=n(939863),g=n(738269),f=n(662275),_=n(106757),h=n(356390),E=n(662531),y=n(844053),v=n(335682),b=n(416095),w=n(57392),T=n(113916),N=n(498606),I=n(279145),S=n(224690),C=n(715762),x=n(759520),A=n(616900),R=n(142232),k=n(720488),O=n(227795),P=n(958568),D=n(754369),M=n(690122),L=n(687881),K=n(258376),F=n(362679);let B="instance-option-dropdown";function U(e){e.stopPropagation()}function z(e){let{instanceAndSublayerGUIDs:t,resettableInstanceOverrides:n,showAllInstanceOptions:l}=e,{appModel:i,detachInstanceShortcut:s}=(0,c.R)(e=>({appModel:e.mirror.appModel,detachInstanceShortcut:(0,I.c1)(e.mirror.appModel.keyboardShortcuts,"detach-instance")})),d=r.useMemo(S.$H,[]),p=(0,a.d4)(e=>d(e,t)),{isBackingSymbolSoftDeleted:g,restoreType:f}=(0,D.$)(t),{onlyInstances:_,nestedInstances:y}=(0,M.p)(t),v=r.useRef(null),{needsUpdate:b}=X(t),w=G(t),T=r.useMemo(()=>{let e=[...w];if(!l)return e;if(l&&w.length>0&&e.push({type:"separator"}),"SYMBOL_AS_STATE"===f&&e.push({type:"option",value:"restore-symbol-or-state-group",displayText:(0,m.t)("design_systems.instance_panel.restore_variant"),callback:()=>{h.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")}}),_&&e.push({type:"option",value:"detach-instance",displayText:(0,m.t)("fullscreen_actions.detach-instance"),shortcut:s,callback:()=>{E.l7.user("detach-instances",()=>o.glU.detachInstances(t))}}),(0,I.Yh)(i,"push-changes-to-main")&&0===y.length&&!g&&(e.length>0&&e.push({type:"separator"}),e.push({type:"option",value:"push-changes-to-main",displayText:(0,m.t)("fullscreen_actions.push-changes-to-main"),callback:()=>{h.Y5.triggerActionInUserEditScope("push-changes-to-main")}})),n&&Object.values(n).some(e=>e)){if(Object.keys(n).forEach(r=>{let a=parseInt(r);n?.[a]&&(e.length>0&&a===o.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS&&e.push({type:"separator"}),e.push({type:"option",value:a,displayText:function(e){switch(e){case o.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS:return(0,m.t)("design_systems.instance_panel.reset_all_changes");case o.YnC.EXPORTS:return(0,m.t)("design_systems.instance_panel.reset_exports");case o.YnC.EFFECTS:return(0,m.t)("design_systems.instance_panel.reset_effects");case o.YnC.LAYER:return(0,m.t)("design_systems.instance_panel.reset_others");case o.YnC.VISIBLE:return(0,m.t)("design_systems.instance_panel.reset_visibility");case o.YnC.NAME:return(0,m.t)("design_systems.instance_panel.reset_name");case o.YnC.FILL:return(0,m.t)("design_systems.instance_panel.reset_fill");case o.YnC.STROKE:return(0,m.t)("design_systems.instance_panel.reset_stroke");case o.YnC.TEXT:return(0,m.t)("design_systems.instance_panel.reset_text");case o.YnC.TEXT_STYLE:return(0,m.t)("design_systems.instance_panel.reset_text_style");case o.YnC.SIZE:return(0,m.t)("design_systems.instance_panel.reset_size");case o.YnC.PROTOTYPE_INTERACTIONS:return(0,m.t)("design_systems.instance_panel.reset_interactions");case o.YnC.OVERLAY:return(0,m.t)("design_systems.instance_panel.reset_overlay");case o.YnC.NUM_VALUES:}return""}(a),callback:()=>{E.l7.user("reset-overrides",()=>o.glU.resetSymbolOverridesForNodes(t,a))}}))}),p)for(let t in p)for(let n in p[t]){let r=p[t][n];e.push({type:"option",value:"reset-component-prop-assignment",displayText:(0,m.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:r.name}),callback:()=>{E.l7.user("reset-prop-assignments",()=>o.glU.resetComponentPropAssignmentForInstances(r.instanceGUIDs,n))}})}}else e.length>0&&e.push({type:"separator"}),e.push({type:"option",value:o.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS,displayText:(0,m.t)("design_systems.instance_panel.no_changes_to_reset"),callback:()=>{},disabled:!0});return e},[w,l,f,_,i,y.length,g,n,s,t,p]),{toggleDropdown:C,dropdownShown:x}=W(t),A=u.Pt(e,"toggleInstanceOptionDropdown",t.join("-"));return l||b?r.createElement("span",null,r.createElement("div",{ref:v},b?r.createElement(O.YW,{className:L.l_,onClick:C,selected:x,onMouseDown:U,svg:K.A,"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,m.t)("design_systems.instance_panel.update_available"),recordingKey:A}):r.createElement(O.YW,{onClick:C,selected:x,onMouseDown:U,"data-tooltip-type":N.Ib.TEXT,"data-tooltip":(0,m.t)("design_systems.instance_panel.instance_options"),svg:F.A,recordingKey:A,disabled:0===T.length})),r.createElement(V,{targetRef:v,instanceDropdownOptions:T,recordingKey:e.recordingKey,dropdownShown:x})):null}function V({targetRef:e,instanceDropdownOptions:t,recordingKey:n,dropdownShown:a}){return null!=e.current&&a?r.createElement(k.Cf,{targetRect:e.current.getBoundingClientRect(),propagateCloseClick:!0},t.map((e,t)=>"option"===e.type?r.createElement(p.c$,{className:L.VM,onClick:e.callback,recordingKey:u.Pt(n,e.displayText),key:"reset-component-prop-assignment"===e.value?u.Pt(e.value,t):e.value,disabled:e.disabled},e.displayText,e.shortcut&&r.createElement("span",null,e.shortcut)):r.createElement(p.wv,{key:t}))):null}function H(){let e=(0,a.d4)(y.c),t=(0,d.md)(v.yV),n=(0,d.md)(_.p9);return{fileKey:e.file_key,fileParentOrgId:t?.parentOrgId?.toString(),fileTeamId:e.file_team_id?.toString(),userId:n?.id}}function X(e){let{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:n}=(0,a.d4)(w.ij),o=r.useMemo(T.bd,[]),l=(0,a.d4)(t=>o(t,e)),{componentInstanceUpdateInfo:i,stateInstanceUpdateInfo:s}=(0,P.cB)(t,n,l),c=(0,P.jR)(i,s);return{needsUpdate:c>0&&c===l.length,numSelectedInstancesToUpdate:c,componentInstanceUpdateInfo:i,stateInstanceUpdateInfo:s}}function G(e){let{needsUpdate:t,numSelectedInstancesToUpdate:n,componentInstanceUpdateInfo:o,stateInstanceUpdateInfo:l}=X(e),i=(0,b.eS)(b.aD.ALL),{updateIndividualInstances:c}=(0,R.TM)(i,C.AX.DROPDOWN_UPDATE_SELECTED_INSTANCE),d=(0,a.wA)(),u=r.useMemo(()=>({source:"INSTANCE_PANEL",instanceAndSublayerGUIDs:e}),[e]),p=(0,A.jX)(u),g=r.useCallback(()=>{d((0,f.to)({type:x.F,data:u}))},[d,u]),_=H();return r.useMemo(()=>{let e=[];return t&&(e.push({type:"option",value:"update-selected-instance",displayText:(0,m.t)("design_systems.instance_panel.update_selected",{numSelectedInstancesToUpdate:n}),callback:()=>c(o,l)}),p&&e.push({type:"option",value:"review-instance-update",displayText:(0,m.t)("design_systems.instance_panel.review_update"),callback:()=>{s.az.trackDefinedEvent("design_systems_analytics.instance_review_update_click",_),g()}})),e},[o,t,n,p,l,g,_,c])}function W(e){let t=(0,a.wA)(),n=(0,a.d4)(t=>t.dropdownShown?.type===B&&i()(t.dropdownShown.data?.guids,e)),o=H();return{dropdownShown:n,toggleDropdown:r.useCallback(r=>{r.stopPropagation(),n?t(g.oB()):(t(g.j7({type:B,data:{guids:e}})),s.az.trackDefinedEvent("design_systems_analytics.instance_update_available_button_click",o))},[n,t,e,o])}}},366165:(e,t,n)=>{n.d(t,{_I:()=>Y,d$:()=>W,QM:()=>$});var r=n(411855),a=n(109388),o=n(188507),l=n(421757),i=n(794272),s=n(38580),c=n(646240),d=n(153234),u=n(946689),p=n(939863),m=n(293017),g=n(906899),f=n(356390),_=n(662531),h=n(848661),E=n(335682),y=n(496470),v=n(57392),b=n(234945),w=n(420186),T=n(273226),N=n(215440),I=n(25888),S=n(393965),C=n(107244),x=n(353822),A=n(771768),R=n(343662),k=n(509453),O=n(7959),P=n(45148),D=n(893606),M=n(754369),L=n(690122),K=n(782467),F=n(663668),B=n(798099),U=n(835808),z=n(939791);let V=r.forwardRef(function({instanceDescription:e,containingStateGroupLinks:t,containingStateGroupDescription:n,isDescriptionPaneOpen:a,onOpenDescriptionPane:o},l){let i=(0,U.yr)(),s=(0,D.R)(),c=r.useMemo(()=>e?(0,F.A)(e):i?.[0]?.uri?i?.[0]?.uri:n?(0,F.A)(n):t?.[0]?.uri??void 0,[e,i,t,n]),d=r.useRef(null),u=(0,K.n)({ref:d,text:c,checkVerticalOverflow:s}),m=r.useCallback(()=>o(!0),[o]),g=r.useMemo(()=>{let r=!!(i?.length||t?.length),a=!!(e&&n);return u||a||r},[n,t?.length,e,i?.length,u]),f=r.useMemo(()=>!a&&g,[a,g]),_=r.useCallback(()=>{g&&o(!a)},[g,a,o]);return null==c?null:s?r.createElement(z.Ad,{ref:l,appendedClassName:"instance_description_preview--ui3DescriptionRow--wG3Zi",label:null,input:r.createElement("button",{className:"instance_description_preview--ui3DescriptionButton--dZnej",disabled:!g,onMouseDown:B.dG,onClick:_},r.createElement("div",{ref:d,className:"instance_description_preview--ui3DescriptionText--o9WUm ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},c))}):r.createElement("div",{className:"instance_description_preview--wrapper--YGSF3 text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:l},r.createElement("div",{className:"instance_description_preview--description--726Xi ellipsis--ellipsis--Tjyfa",ref:d},c),f&&r.createElement("div",{className:"instance_description_preview--showMore--7-DPO",onClick:m,role:"button",tabIndex:0},(0,p.tx)("design_systems.instance_panel.show_more")))});var H=n(721478),X=n(371623),G=n(687881);let W=(0,s.eU)(!1);function $(e){let t=(0,o.d4)(C.Lg),{nestedInstances:n}=(0,L.p)(e);return t&&!n.length?void 0:H.NA.INSTANCE_SWAP_PICKER}let Y=r.memo(function(e){let{resettableInstanceOverridesMap:t}=e,n=(0,o.d4)(e=>e.pickerShown),l=(0,o.d4)(C.cv),i=(0,o.d4)(b.qd),s=(0,o.d4)(b.dT),u=(0,o.d4)(N.Z3),p=(0,o.wA)(),{backingSymbolGUID:f,singleBackingStateGroup:_}=(0,M.$)(s),E=(0,D.R)(),{onlyInstances:y,onlyInstanceSublayers:v}=(0,L.p)(s),k=r.useRef(null),P=function(){let e=(0,o.d4)(I.Jp),t=(0,o.d4)(N.Z3);return e||t.length>0}(),K=(0,c.Xr)(W);r.useEffect(()=>{K(P)},[P,K]);let F=r.useMemo(()=>_?.symbolLinks??[],[_]),B=r.useCallback(e=>{if(e){let e=a.findDOMNode(k.current),t=(0,w.cn)(e,R.I);p(m.u1({id:A.uA,initialX:t.x,initialY:t.y})),p(g.sw()),p(m.Uv())}else p(m.XE())},[p]),U=$(s);return y||v?r.createElement(O.Zk,{className:G.Mx},!E&&r.createElement(H.iN,{resettableInstanceOverrides:t?.selectionOverrides,instanceAndSublayerGUIDs:s,instanceNameDisplayOverride:U,recordingKey:e.recordingKey}),E&&r.createElement(j,{recordingKey:d.Pt(e,"restore")}),(()=>{let e=n?.id===A.uA,t=(0,h._W)(l,""),a=f&&(0,h.hS)(f)?_?.description??"":void 0;return r.createElement(r.Fragment,null,e?r.createElement(x.K,{containingStateGroupLinks:F,containingStateGroupDescription:a,description:t}):null,r.createElement(V,{instanceDescription:t,containingStateGroupDescription:a,containingStateGroupLinks:F,onOpenDescriptionPane:B,isDescriptionPaneOpen:e,ref:k}))})(),!E&&r.createElement(j,{recordingKey:d.Pt(e,"restore")}),y&&r.createElement("div",{className:G.Og},r.createElement(S.e6,{containerWidth:E?T.O2.RESIZABLE_SIDEBAR:T.O2.REGULAR,propDimension:T.OE.ASSIGNMENT,guids:i,recordingKey:e.recordingKey,errorBoxFlushWithContainer:!E,enableHidingOverflowRowsInUI3:!1,entrypointForInstanceSwapPicker:X.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL})),u.map(n=>r.createElement("div",{key:`bubbledInstance.${n[0]}`,className:G.Wf},r.createElement(S.ME,{containerWidth:E?T.O2.RESIZABLE_SIDEBAR:T.O2.REGULAR,propDimension:T.OE.ASSIGNMENT,guids:n,hideErrors:!0,resettableInstanceOverrides:t&&t.bubbledInstanceOverrides?t.bubbledInstanceOverrides[n[0]]:void 0,instanceAndSublayerGUIDs:n,instanceNameDisplayOverride:H.NA.NAME_ONLY,shouldHideInstanceTitleButtons:!0,recordingKey:e.recordingKey,forBubbledProps:!0,highlightNodesOnHover:!0,errorBoxFlushWithContainer:!E,entrypointForInstanceSwapPicker:X.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_INSTANCE_PANEL_BUBBLED})))):E?r.createElement(O.Zk,{className:G.Mx}):null});function j({recordingKey:e}){let{sceneGraphSelection:t,library:n}=(0,i.R)(e=>({sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library})),a=(0,o.d4)(b.dT),{affiliatedStateGroup:s,singleBackingSymbol:c,restoreType:m,stateResetType:g}=(0,M.$)(a),h=(0,o.d4)(v.lm),w=(0,o.d4)(E.sS),T=(0,o.wA)(),N=(0,D.R)(),I=X.S.useOpenFileProperties();function S(){let e;if(w){if("DELETED_SUBSCRIBED_STATE"===g){let t=c?.componentKey;if(!t)return;e=h.get(t)}else if("DELETED_LOCAL_STATE"===g){let t=s?.guid;if(!t)return;e=n.local.stateGroups[t]}_.l7.user("reset-variant",()=>{e&&(0,y.V4)(e,T,w,t,"Reset Variant Button",!1,I)})}}if("STATE_GROUP"===m||"SYMBOL_AS_NON_STATE"===m){let t=N?k.z:u.nR,n=r.createElement(t,{className:G.Kg,onClick:function(){f.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")},recordingKey:d.Pt(e,"restoreComponentButton")},(0,p.tx)("design_systems.instance_panel.restore_component"));return N?r.createElement("div",{className:G.Ki},n):r.createElement(O.fI,{className:G.Ki},n)}return"DELETED_LOCAL_STATE"===g||"DELETED_SUBSCRIBED_STATE"===g?r.createElement(P.aV,{title:"Missing variant",appendedClassName:G.$s},r.createElement("div",{className:G.AQ},(0,p.tx)("design_systems.instance_panel.the_selected_variant_is_missing_in_the_component")),r.createElement("div",{className:G.ns},N?r.createElement(l.IK,{variant:"secondary",recordingKey:d.Pt(e,"resetVariantButton"),onClick:S},(0,p.tx)("design_systems.instance_panel.reset_to_default")):r.createElement(u.nR,{className:G.cZ,onClick:S,recordingKey:d.Pt(e,"resetVariantButton")},(0,p.tx)("design_systems.instance_panel.reset_to_default")))):null}},721478:(e,t,n)=>{n.d(t,{NA:()=>G,_B:()=>$,bj:()=>j,iN:()=>Y});var r=n(411855),a=n(109388),o=n(188507),l=n(201706),i=n(587670),s=n(629019),c=n.n(s),d=n(44948),u=n(794272),p=n(153234),m=n(520581),g=n(667167),f=n(574176),_=n(505113),h=n(939863),E=n(286954),y=n(843495),v=n(848661),b=n(29680),w=n(237929),T=n(496470),N=n(532888),I=n(498606),S=n(420186),C=n(386976),x=n(371686),A=n(567488),R=n(714939),k=n(224690),O=n(7959),P=n(893606),D=n(939791),M=n(754369),L=n(690122),K=n(412297),F=n(225373),B=n(371623),U=n(151575),z=n(687881),V=n(968109),H=n(405622),X=n(289298),G=(e=>(e[e.NAME_ONLY=0]="NAME_ONLY",e[e.INSTANCE_SWAP_PICKER=1]="INSTANCE_SWAP_PICKER",e))(G||{});function W(e){e.stopPropagation()}function $(e){let t=(0,b.B9)();return r.useMemo(()=>{if(0===e.length)return null;let n=t.get(e[0]);return n?.symbolId},[e,t])}function Y(e){let{canCollapse:t,resettableInstanceOverrides:n,instanceAndSublayerGUIDs:a,shouldHideButtons:o,isInComponentPlayground:i}=e,s=(0,r.useRef)(null),{onlyInstances:d,onlyInstanceSublayers:u}=(0,L.p)(a),p=$(a),m=(0,P.R)();if(!d&&!u)return null;let g=m&&!i&&0===e.instanceNameDisplayOverride,f=r.createElement(r.Fragment,null,r.createElement(j,{...e,panelTitleRef:s,dropdownIdPrefix:"instance-panel-instance-swap-picker",shouldUseUI3RowCompatibleStyles:g}),!o&&r.createElement("span",{className:z.MC},r.createElement(A.yQ,{nodeField:l.R.OVERRIDDEN_SYMBOL_ID,defaultValue:p,guids:a}),r.createElement(U.F,{instanceAndSublayerGUIDs:a,recordingKey:e.recordingKey}),r.createElement(K.h_,{resettableInstanceOverrides:n,instanceAndSublayerGUIDs:a,recordingKey:e.recordingKey,showAllInstanceOptions:!0})));return g?r.createElement(D.DE,{label:null,input:f,icon:null}):r.createElement(O.fI,{className:c()(z.LO,{[z.Z0]:t,[z.YF]:i}),ref:s},f)}function j({panelTitleRef:e,panelTitleOverridesClassName:t,pickerButtonTextOverridesClassName:n,flushLeft:s,dropdownIdPrefix:A,shouldHideInstanceIcon:P=!1,chevronOverride:D,shouldUseUI3RowCompatibleStyles:K,...U}){let{instanceNameDisplayOverride:G,containerWide:$,instanceAndSublayerGUIDs:Y,shouldHideButtons:j,highlightNodesOnHover:q}=U,J=`${A}-${Y.join("-")}`,Z=(0,b.B9)(),Q=r.useMemo(k.en,[]),{propDef:ee,instanceSwapPickerShown:et}=(0,u.R)(e=>({propDef:Q(e,Y,l.R.OVERRIDDEN_SYMBOL_ID),instanceSwapPickerShown:e.instanceSwapPickerShown})),{preferredValues:en,preferredValuesFetchError:er,retryPreferredValuesFetch:ea}=(0,C.xP)(ee??void 0),eo=r.useMemo(()=>er?r.createElement(x.u,{onRetry:ea,recordingKey:"instancePropAssignment"}):void 0,[er,ea]),el=(0,o.wA)(),{backingSymbolGUID:ei,backingStateGroupGUID:es,affiliatedStateGroupId:ec}=(0,M.$)(Y),{backingSymbolOrStateGroupOfContainingInstances:ed,containingInstancesOfSublayers:eu,onlyInstances:ep,onlyInstanceSublayers:em}=(0,L.p)(Y),eg=(0,o.d4)(N.t_),ef=(0,o.d4)(e=>e.library),e_=(0,d.k9)(()=>{let e=es??ei;if(!e||(0,v.gl)(e))return[];let{selectedItem:t}=(0,T.XV)(e,eg,ef,Z);return t?[t]:[]},[es,ei,eg,ef,Z]),eh=r.useMemo(()=>!!em&&!!ed&&ed!==v.oV,[em,ed]),eE=p.rf(p.Pt(U.recordingKey,"instanceName",Y.join("-")),"mouseenter",()=>{q&&i.Ez5.canvasViewState().temporarilyHoveredNodes.set(Y)}),ey=p.rf(p.Pt(U.recordingKey,"instanceName",Y.join("-")),"mouseleave",()=>{q&&i.Ez5.canvasViewState().temporarilyHoveredNodes.set([])}),ev="";if(null!=es||ec){if((0,v.gl)(es))ev=(0,h.t)("design_systems.instance_panel.mixed");else{let e=es?Z.get(es):null,t=ec?Z.get(ec):null;ev=(0,w.kH)(t?.name||e?.name||"")}}else null!=ei?ev=(0,v.gl)(ei)?(0,h.t)("design_systems.instance_panel.mixed"):(0,w.kH)(Z.get(ei)?.name||""):null!=ed&&(ev=(0,v.gl)(ed)?(0,h.t)("design_systems.instance_panel.mixed"):(0,w.kH)(ed.name||""));let eb="";if(ep){let e=Z.get(Y[0])?.name;Y.every(t=>Z.get(t)?.name===e)&&e&&(eb=e)}let{modalWidth:ew}=(0,g.TQ)(g.Zl.INSTANCE_SWAP_PICKER),eT=(0,g.qc)(),eN=r.useCallback(()=>{if(j)return;let t=e.current?(0,S.VZ)(a.findDOMNode(e.current),ew,!eT):void 0;el((0,E.zE)({initialPosition:t,id:J,modal:!0}))},[j,e,ew,eT,el,J]),eI=r.useCallback(()=>{eh&&y.tJ(eu.map(e=>e.guid))},[eh,eu]),eS="";ep?eS=et.isShown&&et.id===J?z.sK:j?z.qw:z.vS:em&&(eS=eh?z.EA:z.me);let eC=D??r.createElement(f.B,{className:z.t4,svg:X.A});return r.createElement(m.E,{name:"instance_title_control"},0===G?r.createElement("div",{className:K?z.Bt:z.Qp,onMouseEnter:eE,onMouseLeave:ey},r.createElement(_.o,{className:K?z.iB:$?z.u$:z.vF,text:eb??ev})):1!==G&&ee?r.createElement("div",{className:z.I0},r.createElement(R.L,{nodeField:l.R.OVERRIDDEN_SYMBOL_ID,currentValue:ee.defaultValue,instanceGUIDs:Y})):r.createElement(O.xw,{className:c()(eS,t),recordingKey:p.Pt(U,"panelTitle",Y.join("-")),onClick:em?eI:eN,onMouseDown:W,doNotReserveSpaceForChevron:s},!P&&r.createElement(f.B,{className:z.$C,svg:V.A}),r.createElement("div",{"data-testid":"instance-panel-title-component-name",className:n||z.We},ev),!j&&r.createElement(r.Fragment,null,!em&&eC,eh&&r.createElement(f.B,{className:z.N1,width:"24px",height:"24px",svg:H.A,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,h.t)("design_systems.instance_panel.select_instance")}))),et.isShown&&et.id===J&&r.createElement(F.T,{selectedItems:e_,title:(0,h.t)("design_systems.instance_panel.swap_instance"),itemsToSwap:Y,recordingKey:p.Pt(U,"instanceSwapPicker"),pickerType:g.Zl.INSTANCE_SWAP_PICKER,preferredItems:en,preferredValuesErrorComponent:eo,entrypointForLogging:B.S.InstancePickerEntrypoint.SELECTED_INSTANCE_SWAP}))}},89586:(e,t,n)=>{n.d(t,{jW:()=>U,cI:()=>K,ex:()=>B});var r=n(411855),a=n(188507),o=n(767129),l=n(940319),i=n(841368),s=n(587670),c=n(776250),d=n(153234),u=n(347082),p=n(27087),m=n(268537),g=n(493323),f=n(574176),_=n(46481),h=n(939863),E=n(392592),y=n(677664),v=n(798099),b=n(356390),w=n(662531),T=n(318812),N=n(29680),I=n(498606),S=n(279145),C=n(720488),x=n(7959),A=n(726864),R=n(395701),k=n(862442),O=n(843495),P=n(457630),D=n(82131),M=n(258376),L=n(951912);function K(e){return r.createElement(u.p,{name:"live_object_panel"},r.createElement(x.Zk,null,r.createElement(x.fI,{className:D.LO},r.createElement(x.xw,null,r.createElement("div",{className:"live_object_panel--title--9VTOA"},r.createElement(f.B,{svg:L.A}),(0,h.tx)("fullscreen.live_object_panel.live_object"))),r.createElement(z,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function F(e,t){for(let n=0;n<t;n++)try{let t=await p.Ay.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function B(e,t,n){try{let e=[];for(let r of t)(0,c.sx)("update_live_object",{...r}),r.srcFile?(e.push(F(`/api/file_proxy/file/${r.srcFile}/canvas?nodes_to_extract=${r.srcNode}&fv=${n}`,2).then(e=>{w.l7.user("update-live-object-remote",()=>s.glU.updateLiveObject(e,r.nodeId,r.srcNode,r.srcFile))})),await Promise.all(e)):w.l7.user("update-live-object-local",()=>s.glU.updateLiveObject(new Uint8Array,r.nodeId,r.srcNode,""))}catch(t){e(E.F.enqueue({message:(0,h.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}b.Y5.triggerAction("commit"),e(E.F.enqueue({message:(0,h.t)("fullscreen.live_object_panel.live_update_success")}))}function U(e){let t=(0,a.wA)(),n=(0,N.eY)(),o=function(){let e=(0,k.Z)("outline_navigate"),t=(0,A.Yk)();return r.useCallback(n=>{O.wr(),O.Dh([n]);let r=b.Y5.getViewportInfo();e((0,P.QZ)({nodeId:n,alwaysPan:!0,viewportRect:R.r.fromOriginAndSize(r.x,r.y,r.width,r.height-r.y-t)}))},[t,e])}(),{pasteSources:l,liveUpdate:i,isLiveUpdating:c}=e,u=(0,a.d4)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),p=(0,a.d4)(e=>e.mirror.appModel.keyboardShortcuts),g=!1;if(u){if(u.bubbledInstanceOverrides)g=!0;else for(let e of Object.values(u.selectionOverrides))if(e){g=!0;break}}return r.createElement(r.Fragment,null,r.createElement(m.c$,{onClick:()=>{if(1!==l.length)return;let e=l[0];e.srcFile?t((0,y.RK)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):o(e.srcNode)},disabled:1!==l.length,recordingKey:d.Pt(e,"goToOriginal"),key:"goToOriginal"},(0,h.tx)("fullscreen.live_object_panel.go_to_original")),r.createElement(m.c$,{disabled:!g,onClick:()=>{let e=l.map(e=>e.nodeId);w.l7.user("reset-instance-overrides",()=>s.glU.resetSymbolOverridesForNodes(e,s.YnC.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),b.Y5.commit()},recordingKey:d.Pt(e,"resetAllChanges"),key:"resetAllChanges"},(0,h.tx)("fullscreen.live_object_panel.reset_all_changes")),r.createElement(m.c$,{onClick:()=>i(l),disabled:c,recordingKey:d.Pt(e,"updateLiveObject-menu"),key:"updateLiveObject"},(0,h.tx)("fullscreen.live_object_panel.update_live_object")),r.createElement(m.wv,{key:"divider"}),r.createElement(m.c$,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of l){let r=n.get(t.nodeId);r&&(e.push(t.nodeId),r.clearPasteSource())}w.l7.user("detach-instances",()=>s.glU.detachInstances(e)),b.Y5.commit()},recordingKey:d.Pt(e,"detachFromLive"),key:"detachFromLive"},(0,h.tx)("fullscreen.live_object_panel.detach_from_live"),r.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,S.c1)(p,"detach-instance"))))}function z(e){let{pasteSources:t}=e,n=(0,a.wA)(),{showing:s,toggle:c}=(0,T.BK)("live-object-dropdown"),u=(0,a.d4)(e=>e.fileVersion),[p,m]=r.useState(!1),f=r.useRef(null),E=d.Pt(e,"updateLiveObject"),y=d.Pt(e,"liveObjectMenu"),b=r.useCallback(async e=>{m(!0),await B(n,e,u),m(!1)},[u,n]);return r.createElement(r.Fragment,null,p?r.createElement(g.kt,{className:"live_object_panel--spinner--iQ62Q",altIcon:M.A}):r.createElement(o.K,{onClick:()=>b(t),"aria-label":(0,h.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:E,htmlAttributes:{onMouseDown:v.dG,"data-tooltip":(0,h.t)("fullscreen.live_object_panel.update_live_object"),"data-tooltip-type":I.Ib.TEXT}},r.createElement(_.U,{svg:M.A},r.createElement(l._,null))),r.createElement("div",{ref:f},r.createElement(x.YW,{selected:s,onClick:c,onMouseDown:v.dG,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,h.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:y},r.createElement(i.J,null))),s&&(f.current?r.createElement(C.Cf,{targetRect:f.current.getBoundingClientRect(),propagateCloseClick:!0},r.createElement(U,{pasteSources:t,liveUpdate:b,isLiveUpdating:p,recordingKey:y})):null))}},7723:(e,t,n)=>{n.d(t,{R:()=>g});var r=n(411855),a=n(629019),o=n.n(a),l=n(335601),i=n(498750),s=n(659838),c=n(83909),d=n(356390),u=n(662531),p=n(843495),m=n(832039);function g({guid:e,value:t,canEdit:n,icon:a,shouldHideIcon:g=!1,editAction:_,focusedInputOverridesClassName:h,unfocusedInputOverridesClassName:E}){let[y,v]=r.useState(t),{inputRef:b,inputProps:{onChange:w,onFocus:T,onMouseUp:N,onMouseLeave:I,onKeyUp:S}}=(0,l.X)({onChange:function(e){v(e.target.value)}}),C=r.useRef(!1);return r.useEffect(()=>{v(t)},[t]),r.createElement(f,{inputRef:b,canEdit:n},n&&r.createElement(r.Fragment,null,!g&&a,r.createElement(s.L,{dir:"auto",ref:b,className:o()(m.hF,h),onBlur:function(){C.current?C.current=!1:y!==t&&(c.wt.reportEditAction(_),u.l7.user(_,()=>{p.i(e,y)}),d.Y5.commit())},onChange:w,onFocus:T,onKeyDown:function(e){switch(e.keyCode){case i.Uz.ESCAPE:v(t),C.current=!0,b.current?.blur();break;case i.Uz.ENTER:b.current?.blur(),e.preventDefault()}},onMouseLeave:I,onMouseUp:N,onKeyUp:S,value:y})),r.createElement("div",{"aria-hidden":"true",className:o()(n?m.$k:m.gw,E)},r.createElement("span",{className:m.EH,dir:"auto"},t)))}function f({children:e}){return r.createElement("div",{className:m.kL},e)}},438377:(e,t,n)=>{n.d(t,{Q:()=>O});var r=n(411855),a=n(587670),o=n(181912),l=n(153234),i=n(347082),s=n(946689),c=n(348425),d=n(762638),u=n(939863),p=n(941381),m=n(672517),g=n(10648),f=n(662531),_=n(215822),h=n(772192),E=n(829632),y=n(555328),v=n(239671),b=n(376485),w=n(498606),T=n(978527),N=n(788612),I=n(227795),S=n(7959),C=n(819785),x=n(695038),A=n(215877),R=n(551034);let k=class e extends r.PureComponent{constructor(){super(...arguments),this.onRemoveRelaunchData=e=>{f.l7.user("remove-plugin-relaunch-data",()=>a.NfO.removeRelaunchDataFromSelection(e))},this.onRelaunch=async e=>{let t=this.props.openFileKey;if(!t)return;let{canRun:n}=(0,_.JT)({plugin:e.plugin,editorType:this.props.editorType??v.nT.Design});if(n)return await E.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:t,command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:this.props.editorType===v.nT.DevHandoff?"handoff-relaunch":"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})},this.fetchPlugin=e=>{this.props.dispatch(p.af({id:e,resourceType:y.bD.PLUGIN}))},this.renderRelaunchRows=e=>{let t="";return e.map(e=>{let n=e.plugin.plugin_id,a=`${e.pluginTypeAndID}-${e.relaunchButton.command}`,o=r.createElement(P,{key:a,relaunchData:e,recordingKey:l.Pt(this.props,"relaunch",a),onRelaunch:this.onRelaunch,onRemoveRelaunchData:this.onRemoveRelaunchData,firstButtonForPlugin:n!==t});return t=n,o})}}render(){let t=(0,_.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localPlugins,this.props.orgEntity,this.props.numSelected,(t,n)=>e.refreshCache.debounceRefresh(t,this.fetchPlugin.bind(this),n),b.FW.FIGMA);if(0===t.length)return null;let n=this.props.title??(0,u.t)("properties_panel.plugin.title"),a=r.createElement(i.p,{name:"plugin_panel"},r.createElement(S.Zk,null,r.createElement(S.fI,null,r.createElement(S.xw,null,n)),this.renderRelaunchRows(t)));return this.props.isDevHandoff?r.createElement(i.p,{name:"inspection_panel"},r.createElement(N.VZ,{hideHeader:!0,padding:N.UZ.NONE,recordingKey:"plugin"},a)):a}};k.displayName="PluginPanel",k.refreshCache=new h.O(o.A.duration(1,"day"));let O=k;class P extends l.o6{constructor(){super(...arguments),this.onRelaunch=l.cZ(this,"click",()=>{this.props.onRelaunch(this.props.relaunchData)})}render(){return r.createElement(D,{...{...this.props,onRelaunch:this.onRelaunch,recordingKey:l.Pt(this.props,"removeButton")}})}}function D(e){let{plugin:t,relaunchButton:n}=e.relaunchData,a=(0,b.ZQ)(t)?r.createElement("div",{className:"plugin_panel--pluginIconLocal--44TyG"},r.createElement(c.t,{svg:A.A,fallbackSvg:R.A})):r.createElement("div",{className:"plugin_panel--pluginIcon--TvCDA plugin--pluginIconBase--yAG5F"},r.createElement(T.V,{plugin:t}));return r.createElement(m.fu,{name:"PluginRelaunchRow",properties:{pluginId:t.plugin_id},trackingTargets:g.K.RCS},r.createElement(S.fI,{className:"plugin_panel--rowButton--PxW5t button_row--rowButton--s-r8y raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm button_row--_rowButton--EdZXq"},r.createElement("div",{className:"plugin_panel--relaunchContainer--leq1l"},r.createElement(s.Yo,{className:"plugin_panel--relaunchButton--sEH4s",onClick:()=>e.onRelaunch(e.relaunchData),"data-tooltip-type":w.Ib.TEXT,"data-tooltip":t.name},r.createElement("div",{className:d.cx.flex.itemsCenter.$},r.createElement("div",{className:"plugin_panel--pluginIconContainer--o3Wvm"},a),r.createElement("div",{className:"plugin_panel--relaunchButtonName--Ol-Gy"},r.createElement("div",{className:d.cx.ellipsis.overflowHidden.noWrap.fontMedium.$},n.name)))),r.createElement("div",{className:"plugin_panel--iconContainer--KltJf"},r.createElement(I.Me,{recordingKey:e.recordingKey,trackingProperties:{action:"minus"},svg:C.A,fallbackSvg:x.A,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,u.t)("properties_panel.plugin.remove_tooltip"),onClick:()=>e.onRemoveRelaunchData(e.relaunchData.plugin.plugin_id)})))),!!n.description&&r.createElement("div",{className:"plugin_panel--relaunchDescription--TmxcU"},r.createElement("pre",{className:"plugin_panel--relaunchDescriptionText--8x1PM ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},n.description===b.Q7?(0,u.tx)("properties_panel.plugin.mixed_descriptions"):n.description)))}P.displayName="PluginRelaunchRow"},914905:(e,t,n)=>{n.d(t,{h:()=>r});let r=(0,n(38580).eU)(null)},987950:(e,t,n)=>{n.d(t,{A:()=>F});var r=n(411855),a=n(188507),o=n(631437),l=n(897379);function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 7H9v1h6zm1 0v1h1V7zM7 7h1v1H7zm10 2H7v8h10zM7 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm5.536 7.578.205-.122.402-.242a.25.25 0 0 0 0-.428l-.402-.242-.205-.122-.008-.005L12 12.1l-.014-.009-.25-.15-.357-.214a.25.25 0 0 0-.379.214v2.118a.25.25 0 0 0 .379.214l.357-.214.25-.15L12 13.9l.528-.317zm1.121-1.65-1.764-1.058A1.25 1.25 0 0 0 10 11.942v2.117a1.25 1.25 0 0 0 1.893 1.071l1.764-1.058a1.25 1.25 0 0 0 0-2.144",clipRule:"evenodd"}))}var s=n(587670),c=n(860601),d=n(153234),u=n(776621),p=n(347082),m=n(46481),g=n(939863),f=n(970516),_=n(178218),h=n(728325),E=n(356390),y=n(662531),v=n(848661),b=n(555074),w=n(29680),T=n(335682),N=n(94500),I=n(549774),S=n(498606),C=n(507956),x=n(602029),A=n(248752),R=n(227795),k=n(386560),O=n(7959);let P="prototype_flows_panel--fadeOutOnTitleUnhover--G4xPQ";var D=n(457272),M=n(812717),L=n(953663);function K({selected:e,hasFocus:t,flowItemsCount:n,item:a,index:c,hasFile:u,fileKey:p,fileProtoUrl:h,isDragging:E,viewOnly:y,dispatch:v,onMouseDown:b,onMouseMove:w,onMouseUp:T,renamingStartingPointNodeId:C,setRenamingStartingPointNodeId:A,submitRename:K,selectFlowRowAndSetToEditName:F,recordingKey:B}){function U(e){e.stopPropagation()}return r.createElement(x.e,{selected:e&&t,singletonRow:n<=1,dragging:E,onMouseDown:b,onMouseMove:w,onMouseUp:T,onDoubleClick:()=>{var e;return e=a.nodeID,void(y||C===e||(A(e),s.X3B.centerViewportOnNodeIfNecessary(e)))},className:"prototype_flows_panel--flowRow--pqvyi",recordingKey:d.Pt(B,"draggableRow"),key:a.nodeID,"data-testid":"prototype-flow-panel-row"},!y&&C&&C===a.nodeID?r.createElement(k.m,{defaultValue:a.prototypeStartingPoint.name||"",submitRename:e=>K(a.nodeID,e),recordingKey:d.Pt(B,"startingPointNameInput"),shouldListenForTabKeyboardEvent:n>1,onTabKeyboardEvent:e=>F(e?c-1:c+1),className:"prototype_flows_panel--startingPointNameInput--fH7vx prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t"}):r.createElement(O.JU,{className:"prototype_flows_panel--flowName--kg1JF"},a.prototypeStartingPoint.name),C!==a.nodeID&&r.createElement("div",{className:"prototype_flows_panel--panelInfoContainer--pVsR6"},r.createElement(R.K0,{className:P,onMouseDown:U,onClick:()=>{var e;return e=a.nodeID,void s.glU.selectInstances(e,!s.X3B.isNodeVisibleInViewport(e))},"aria-label":(0,g.t)("proto.flows_panel.select_frame"),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("proto.flows_panel.select_frame")},r.createElement(m.U,{svg:L.A,fallbackSvg:L.A},r.createElement(o.A,null))),r.createElement(R.K0,{className:P,disabled:!u,onMouseDown:U,onClick:()=>(function(e){let t=s.X3B.currentDeviceType(),n=(0,I.vp)({scalingInfo:{viewportScalingMode:(0,N.qb)(t),contentScalingMode:(0,N.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});v(f.lW({stringToCopy:`${h}${n}`}))})(a.nodeID),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("proto.flows_panel.copy_link"),"aria-label":(0,g.t)("proto.flows_panel.copy_link")},r.createElement(m.U,{svg:M.A,fallbackSvg:M.A},r.createElement(l.r,null))),r.createElement(R.K0,{className:P,disabled:!p,onMouseDown:U,onClick:function(){v((0,_.K)({fileKey:p,startingPointNodeId:a.nodeID,shouldOpenAtStartingPoint:!0,source:"properties_panel"}))},"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("proto.flows_panel.preview")},r.createElement(m.U,{svg:D.A,fallbackSvg:D.A},r.createElement(i,null)))))}let F=function(e){let t=(0,b.kl)("prototypeStartingPointsInfo"),n=(0,a.d4)(T.sS)||"",o=(0,T.q5)(),l=(0,T.Cq)({useSinatraType:!0}),i=(0,a.d4)(e=>e.mirror.appModel.currentSelectedProperty),m=(0,w.eY)(),f=(0,C.ks)(),[_,N]=r.useState(null),I=(0,a.wA)(),S=f||e.viewOnly,x=(0,a.d4)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&S),R=(0,v._W)(t,[]);if(r.useEffect(()=>{l||(0,u.x1)("prototyping","No file available in flows panel",{fileKey:n})},[l,n]),!t||f&&0===(R=R.filter(e=>m.get(e.nodeID)?.visible)).length)return null;function k(e){let t=e;e>=R.length?t=0:e<0&&(t=R.length-1),E.Y5.updateAppModel({currentSelectedProperty:{type:s.rrT.PROTOTOTYPE_STARTING_POINT,indices:[t]}}),N(R[t].nodeID)}function P(e,t){N(null),t&&y.l7.user("update-prototype-starting-point-name",()=>{s.glU.updatePrototypeStartingPointName(e,t)})}return r.createElement(p.p,{name:"prototype_flows_panel"},r.createElement(O.Zk,null,r.createElement(A.h6,{title:(0,g.t)("proto.flows"),stylePickerShown:{isShown:!1},addProperty:c.lQ,hideAddButton:!0,shouldIgnoreKeyboardEventDuplicateProperty:!0,renderProperty:(e,t,a,o,i,s,c,u,p)=>r.createElement(K,{key:t,flowItemsCount:R.length,item:e,renamingStartingPointNodeId:_,index:t,hasFocus:i,isDragging:o,selected:a,hasFile:!!l,fileProtoUrl:l?.prototype_url,fileKey:n,viewOnly:!!S,onMouseDown:c,onMouseMove:u,onMouseUp:p,submitRename:P,setRenamingStartingPointNodeId:N,dispatch:I,selectFlowRowAndSetToEditName:k,recordingKey:d.Pt("prototypeFlowsList",t)}),openFile:o,onChange:e=>{if(0===e.length||0===i.indices.length)return;let t=R.filter((e,t)=>i.indices.includes(t)).map(e=>e.nodeID);if(0===t.length)return;let n=R[i.indices[0]].nodeID,r=e[0].nodeID===n?"":e[e.findIndex(e=>e.nodeID===n)-1].nodeID,a=R[i.indices[i.indices.length-1]].nodeID,o=e[e.length-1].nodeID===a?"":e[e.findIndex(e=>e.nodeID===a)+1].nodeID;y.l7.user("change-starting-points",()=>{s.glU.insertPrototypeStartingPointsBetween(t,r,o)})},currentSelectedProperty:i,selectedPropertyType:s.rrT.PROTOTOTYPE_STARTING_POINT,propertyList:R,reversed:!1,pickerShown:null,dispatch:I,onDeleteProperty:S?()=>{}:e=>{let t=R.filter((t,n)=>e.has(n)).map(e=>e.nodeID);t.length>0&&s.glU.deletePrototypeStartingPoints(t)},showVisibleFlowsButton:S,toggleVisibleFlows:e=>{h.VU.get("toggle-prototyping-info","panel")(e)},visibleFlowsButtonChecked:x,recordingKey:"prototypeFlowsList"})))}},351631:(e,t,n)=>{n.d(t,{Y:()=>x,e:()=>C});var r=n(327752),a=n(611407),o=n(88354),l=n(675678),i=n(587670),s=n(707458),c=n(38329),d=n(966712),u=n(776621),p=n(96328),m=n(356390),g=n(617453),f=n(497306),_=n(457630),h=n(94500),E=n(178248),y=n(132572),v=n(662531),b=n(395701),w=n(105110),T=n(107390),N=n(196619),I=n(574724),S=n(677074);let C=async({clientLifecycleId:e,abortController:t})=>{(0,d.kc)().prototype_ai_magic_link_ensemble_model&&((0,T.g4)(e=>{let t=e.name,n=e.time;c.D.dispatch((0,h.Zh)({name:"prototype.ai_magic_link_feature_computed",params:{name:t,time:n}}))}),(0,N.NX)(e=>{let t={gpt_elapsed_time:e.gptElapsedTime,num_gpt_interactions:e.numGPTInteractions,interactions_removed:e.interactionsRemoved,num_interactions_need_destination_node:e.numInteractionsNeedDestinationNode,num_interactions_destination_node_is_same_tlf:e.numInteractionsDestinationNodeIsSameTLF};c.D.dispatch((0,h.Zh)({name:"prototype.ai_magic_link_gpt_post_processing",params:t}))}),(0,w.i)(async e=>{let t=e.batch.map(e=>Object.entries(e).reduce((e,[t,n])=>(e[t]=n,e),{}));return await I.Ay.design.magicLinkClassifier({data:t},{...(0,S.Ay)()})}));let n=s.q.instance;if(!n)throw Error("No scene found");let _=n.getCurrentPage();if(!_)throw Error("No page found");let C=c.D.getState().mirror.sceneGraphSelection,x=c.D.dispatch,A=i.Ez5.editorPreferences().toggleDebugShowMagicLinkClustering.getCopy(),R=Object.keys(C);R=R.flatMap(e=>{let t=n.get(e);return t&&"SECTION"===t.type&&t.childrenNodes?t.childrenNodes.map(e=>e.guid):[e]});let k=(0,g.UK)().toggleMagicLinkUseVision.getCopy(),O=Object.keys(C);if(1===O.length){let e=n.get(O[0]);e&&"SECTION"===e.type&&(O=e.childrenNodes.filter(e=>e.isTopLevelFrame()).map(e=>e.guid))}let P=(O=O.filter(e=>e&&i.X3B.isValidNodeForMagicLink(e))).every(e=>{let t=n.get(e);return!!t&&"FRAME"===t.type&&t.isTopLevelFrame()}),D=O.flatMap(e=>f.kh(n,e)?.guid??[]);x((0,h.Zh)({name:"prototype.ai_magic_link_started",params:{selectedNodeIds:JSON.stringify(R),numSelectedNodes:R?.length??0,acceptedNodeIds:JSON.stringify(O),numAcceptedNodes:O?.length??0,selectionType:P?"broad":"narrow",selectedNodeTlfIds:JSON.stringify(D)}}));let M=(e,t)=>{let r=n.get(e);if(!r||!n.get(t))return!1;if(r.guid===t)return!0;let a=r.childrenGuids;return!!a&&a.some(e=>e===t||M(e,t))};try{if(!(0,y.Ll)())throw Error("Magic link is not enabled");let l=n.get(_.guid);if(!l||!l.childrenGuids)throw Error("No page node found");let c="",u="",g=[],f=(0,E.k9)(l.guid,n),w=[],T={type:"EMPTY"},N=O.map(e=>(0,o.Sh)(e,f)).filter(E.Pe),I=(0,r._q)(N),S={totalNodes:0,totalNodesFiltered:0,numNodesFilteredForName:0,numNodesFilteredForType:0,numNodesFilteredForVisibility:0};if(P){let e;let t=(0,E.dT)(O,n,!1,S);if(k){!function(e){let t=1/0,n=1/0;for(let r of e)(0,o.ul)(r,e=>{e.x&&e.y&&(t=Math.min(e.x,t),n=Math.min(e.y,n))});for(let r of e)(0,o.ul)(r,e=>{e.x&&e.y&&(e.x=e.x-t,e.y=e.y-n)})}(t);let n=function(){let e;if(v.l7.system("magic-link-vision",()=>{let t=s.q.instance,n=t.getCurrentPage()?.directlySelectedNodes;if(!n||n.length<1)throw Error("No Selection for screenshotting");let r=b.r.fromFigRect(n[0].absoluteBoundingBox);for(let e of n){let t=b.r.fromFigRect(e.absoluteBoundingBox);r=r.unionWith(t)}let a=t.createNode("SLICE");a.x=r.left(),a.y=r.top(),a.size={x:r.width(),y:r.height()},t.getCurrentPage()?.appendChild(a);let o=Math.min(1024,a.size.x);e=a.export([{constraint:{type:"CONTENT_WIDTH",value:o},useAbsoluteBounds:!0,imageType:"JPEG"}]),a.removeSelfAndChildren()}),!e)throw Error("Unable to screenshot nodes");return e}();e="data:image/jpeg;base64,"+(0,p.H9)(n)}g.push(...t);let r=(0,o.rq)({...f,children:N});T={type:"TOPLEVEL",variant:"gpt",topLevelFrames:g,unfilteredScene:r,imageBase64:e}}else{w=i.X3B.getContextFramesForMagicLink(O),A&&i.Ez5.canvasViewState().temporarilyHoveredNodes.set(w);let e=O.filter(e=>{let t=n.get(e);return t?.isTopLevelFrame()}).length,t=l.childrenGuids.filter(e=>{let t=n.get(e);return t?.isTopLevelFrame()}).length,r=w.filter(e=>!!n.get(e)&&O.some(t=>M(e,t))).length;if(x((0,h.Zh)({name:"prototype.ai_magic_link_narrow_selection",params:{totalSelectedNodes:O.length,numSelectedTLFs:e,numSelectedNonTLFs:O.length-e,numTLFsInContext:w.length,numTLFsOnPage:t,numTLFsContainingSelectedNodes:r}})),1===O.length){let e=n.get(O[0]);if(e){let t=(0,E.EV)(e);t&&(w=w.filter(e=>e!==t.guid))}}let o=(0,E.dT)(w,n,!0,S);c=(0,a.Lg)(o).join(", "),u=await (0,E.ao)(N,I),T={type:"HOTSPOTS",variant:"gpt",contextFrames:w,selectedHotspots:u,frameTextSummaries:c,unfilteredScene:f,selectedNodeIDs:O}}x((0,h.Zh)({name:"prototype.ai_magic_link_filtering_completed",params:{totalNodes:S.totalNodes,totalNodesFiltered:S.totalNodesFiltered,numNodesFilteredForName:S.numNodesFilteredForName,numNodesFilteredForType:S.numNodesFilteredForType,numNodesFilteredForVisibility:S.numNodesFilteredForVisibility,totalTopLevelNodes:O?.length??0}})),(0,d.kc)().internal_only_debug_tools&&console.log("Kicking off Magic Link",{vision:k,method:P?"Broad":"Narrow"});let C=(0,E.LI)(T,e,t,I,x),R=new Promise(e=>{t.signal.addEventListener("abort",()=>e({generatedInteractions:[],errorMessage:"aborted"}))}),D=await Promise.race([C,R]);if(D.errorMessage){if("aborted"===D.errorMessage)return m.Y5.triggerAction("end-magic-link"),D;if("All frames were filtered out"===D.errorMessage)throw new E.ft;throw Error(D.errorMessage)}let L=D.generatedInteractions.map(e=>e.id);return x((0,h.Zh)({name:"prototype.ai_magic_link_completed",params:{status:"success",connectorIds:JSON.stringify(L),numConnectors:L.length}})),D}catch(e){throw e instanceof o.FI&&((0,u.ED)("Magic Link",JSON.stringify(e.looseNodeInfo)),(0,u.$D)(l.FigmaTeam.PROTOTYPING,Error(e.toString()))),x((0,h.Zh)({name:"prototype.ai_magic_link_completed",params:{status:"failure",reason:e.toString(),numConnectors:0}})),e}};function x(e,t){let n=function(e,t){if(0===e.length)return null;let n=e.flatMap(e=>{let{buttonID:n,destinationScreenID:r}=e;return[(0,f.kh)(t,n)||t.get(n),r?t.get(r):null].filter(e=>!!e)}).map(e=>e.absoluteBoundingBox).reduce((e,t)=>e?{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),w:Math.max(e.x+e.w,t.x+t.w)-Math.min(e.x,t.x),h:Math.max(e.y+e.h,t.y+t.h)-Math.min(e.y,t.y)}:t);return{origin:{x:n.x,y:n.y},size:{x:n.w,y:n.h}}}(e,t),r=t.getCurrentPage(),a=r?.guid;return n&&a?(0,_.QZ)({nodeId:a,nodeAbsoluteBounds:n,alwaysPan:!0,noPanViewportMultiplier:0,panJustEnoughViewportMultiplier:.5}):Promise.resolve(null)}},386560:(e,t,n)=>{n.d(t,{m:()=>q,A:()=>$});var r=n(411855),a=n(109388),o=n(188507);function l(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 17H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1m-6 1h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2m1.5-9a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-.5 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m.5 1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}var i=n(927457),s=n(897379),c=n(536825),d=n(587670),u=n(794272),p=n(498750),m=n(153234),g=n(522739),f=n(46481),_=n(939863),h=n(970516),E=n(226055),y=n(356390),v=n(662531),b=n(848661),w=n(555074),T=n(335682),N=n(94500),I=n(549774),S=n(498606),C=n(32067),x=n(227795),A=n(91408),R=n(812115),k=n(572206),O=n(827586),P=n(83909),D=n(746806),M=n(860168);let L=function({startingPoint:e,closeModal:t,parentPanelRectObject:n,recordingKey:a}){let[o,l]=(0,r.useState)(e?.description||""),i=(0,r.useRef)(o);(0,r.useEffect)(()=>{i.current=o},[o]);let s=(0,C.uQ)(),c=(0,r.useRef)(s),u=(0,r.useCallback)(()=>{v.l7.user("submit-prototype-starting-point-description",()=>{c.current&&d.glU.updatePrototypeStartingPointDescription(c.current,i.current)}),t()},[t]);(0,r.useEffect)(()=>u,[u]);let p=(0,r.useCallback)(()=>{v.l7.user("blur-prototype-starting-point-description",()=>{c.current&&d.glU.updatePrototypeStartingPointDescription(c.current,i.current)})},[]);return(0,r.useEffect)(()=>(window.addEventListener("blur",p),window.addEventListener("focus",p),()=>{window.removeEventListener("blur",p),window.removeEventListener("focus",p)}),[p]),r.createElement(D.vx,{title:(0,_.t)("proto.starting_point_modal.description"),initialPosition:new k.Mi(n.x-(0,A.hG)(M.M0y),n.y),headerSize:"small",truncateTitleText:!0,dragHeaderOnly:!0,onClose:u},r.createElement(O.P,{className:"prototype_starting_point_modal--contentContainer--PuTTf"},r.createElement("div",{className:"prototype_starting_point_modal--richTextEditor--Ru95M",dir:"auto"},r.createElement(R.X,{fallback:null,errorFallback:null,placeholder:(0,_.t)("proto.starting_point_modal.enter_a_description_for_your_starting_point"),defaultValue:o,onInputChange:e=>{P.wt.reportEditAction("change-flow-description"),l(e)},onBlur:p,mountBehavior:"focusAndSelectAll",useMinimalToolbarOptions:!0}))))};var K=n(7959),F=n(939791);let B="prototype_starting_point_panel--rightIconButton--ID6ZQ",U="prototype_starting_point_panel--fadeOutOnUnhover--6-o5B";var z=n(812717),V=n(819785),H=n(695038),X=n(943131),G=n(501191),W=n(660164);function $(e){let[t,n]=(0,w.lJ)("prototypeStartingPoint"),p=(0,E.GS)(),A=!!(0,u.R)(Y),[R,k]=(0,r.useState)(!1),[O,P]=(0,r.useState)(b.E7(t)?.name||""),[D,M]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=b.E7(t)?.name||"";e!==O&&(P(e),!O&&D&&(M(!1),k(!0)))},[t,O,D]);let[$,J]=(0,r.useState)(!1),Z=(0,r.useRef)(null),Q=(0,r.useRef)(null),ee=(0,C.Tv)(),et=(0,T.Cq)({useSinatraType:!0}),en=!!et,er=et?.prototype_url,ea=(0,o.d4)(e=>e.mirror.appModel.urlNodeId),eo=(0,o.wA)(),el=(0,r.useCallback)(()=>{J(!1)},[]);(0,r.useEffect)(()=>{el()},[el,ee]);let ei=v.nc.user("delete-prototype-starting-points",()=>{ee&&d.glU.deletePrototypeStartingPoints(ee)}),es=m.rf(m.Pt(e.recordingKey,"minusButton"),"click",e=>{ei()}),ec=m.rf(m.Pt(e.recordingKey,"nameLabel"),"click",e=>{k(!0)});(0,r.useEffect)(()=>(y.Y5.fromFullscreen.on("focusPrototypeStartingPointPanelToEditName",ec),()=>{y.Y5.fromFullscreen.removeListener("focusPrototypeStartingPointPanelToEditName",ec)}),[ec]);let ed=m.rf(e.recordingKey,"click",e=>{M(!0),v.l7.user("add-prototype-starting-point",()=>{y.Y5.triggerAction("add-prototype-starting-point")})}),eu=ee&&ee.length>1,ep=(0,b._W)(t,{}),em=r.createElement(r.Fragment,null,R?r.createElement(q,{defaultValue:O,submitRename:function(e){k(!1),e?n({name:e,description:(0,b.E7)(t)?b.E7(t)?.description:"",position:(0,b.E7)(t)?b.E7(t)?.position:""}):P(b.E7(t)?.name||"")},recordingKey:m.Pt(e,"startingPointNameInput")}):r.createElement(K.JU,{className:"prototype_starting_point_panel--startingPointNameLabel--Mipwi raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",onClick:ec},O)),eg=r.createElement(x.K0,{onClick:()=>{J(!0)},"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,_.t)("proto.starting_points.edit_description"),"aria-label":(0,_.t)("proto.starting_points.edit_description"),recordingKey:m.Pt(e,"startingPointPanelIcon")},r.createElement(f.U,{svg:X.A,fallbackSvg:X.A},r.createElement(l,null))),ef=p?r.createElement(F.DE,{ref:Q,label:null,input:em,icon:eg}):r.createElement(K.fI,{ref:Z},em,r.createElement("span",{className:B},eg));return A?r.createElement(K.Zk,null,r.createElement(K.fI,{className:"prototype_starting_point_panel--flowStartingPointRow--Ajjk1 collapsible_property_panel--panelTitleRowOuter--i5K0R"},r.createElement(K.xw,{extended:!0},(0,_.tx)("proto.starting_points.flow_starting_point_title")),r.createElement("span",{className:U},!eu&&r.createElement(x.K0,{className:U,disabled:!en,onClick:()=>(function(e){let t=d.X3B.currentDeviceType(),n=(0,I.vp)({scalingInfo:{viewportScalingMode:(0,N.qb)(t),contentScalingMode:(0,N.Rv)(t)},nodeId:void 0,startingPointNodeId:e,showHotspots:void 0});eo(h.lW({stringToCopy:`${er}${n}`}))})(ea),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,_.t)("proto.flows_panel.copy_link"),"aria-label":(0,_.t)("proto.flows_panel.copy_link")},r.createElement(f.U,{svg:z.A,fallbackSvg:z.A},r.createElement(s.r,null)))),r.createElement("span",{className:B},r.createElement(x.K0,{as:"button",onClick:es,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,_.t)("proto.starting_points.delete_starting_point_tooltip"),"aria-label":(0,_.t)("proto.starting_points.delete_starting_point_tooltip")},r.createElement(f.U,{svg:V.A,fallbackSvg:H.A},r.createElement(c.O,null))))),eu?r.createElement(K.fI,null,r.createElement(K.UZ,{className:"prototype_starting_point_panel--mixedNoteLabel--gzISu draggable_list--label--Gcpsi"},(0,_.tx)("proto.starting_points.click_to_remove_mixed_content"))):r.createElement(r.Fragment,null,ef,$&&r.createElement(L,{startingPoint:ep,closeModal:el,parentPanelRectObject:(p?Q.current:a.findDOMNode(Z.current)).getBoundingClientRect(),recordingKey:m.Pt(e,"startingPointDescriptionModal")}))):eu?null:r.createElement(K.Zk,null,r.createElement(K.fI,{className:"prototype_starting_point_panel--panelHeaderRowFaded--pswTv draggable_list--panelHeaderRowFaded--kETRR"},r.createElement(K.xw,{faded:!0,extended:!0},r.createElement(g.D8,{className:"prototype_starting_point_panel--panelTitleText--F75N0 draggable_list--panelTitleText--SwKez",onMouseDown:ed,recordingKey:m.Pt(e,"panelTitle")},(0,_.tx)("proto.starting_points.flow_starting_point_title"))),r.createElement("span",{className:"prototype_starting_point_panel--addButton--M-0Xy draggable_list--addButton--D0q--"},r.createElement(x.K0,{as:"button",onClick:ed,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,_.t)("proto.starting_points.add_starting_point_tooltip"),"aria-label":(0,_.t)("proto.starting_points.add_starting_point_tooltip"),onMouseDown:j,recordingKey:m.Pt(e,"plusButton")},r.createElement(f.U,{svg:G.A,fallbackSvg:W.A},r.createElement(i.e,null))))))}function Y(e){return e.mirror.selectionProperties.prototypeStartingPoint}function j(e){e.stopPropagation()}function q(e){let[t,n]=r.useState(e.defaultValue),a=m.AF(e.recordingKey,"change",e=>{n(e.target.value)}),o=m.iQ(e.recordingKey,"blur",v.nc.user("rename-starting-point",()=>e.submitRename(t))),l=m.v_(e.recordingKey,"keydown",n=>{"Enter"===n.key?e.submitRename(t):"Escape"===n.key?e.submitRename(""):e.shouldListenForTabKeyboardEvent&&n.keyCode===p.Uz.TAB&&(n.preventDefault(),e.submitRename(t),e.onTabKeyboardEvent?.(n.shiftKey))});return r.createElement("input",{autoFocus:!0,type:"text",dir:"auto",className:e.className||"prototype_starting_point_panel--startingPointNameInput--uR8GY raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",defaultValue:e.defaultValue,placeholder:"Flow name",onChange:a,onBlur:o,onKeyDown:l,onFocus:e=>{e.currentTarget.select()},onMouseDown:j})}},900086:(e,t,n)=>{n.d(t,{U:()=>f,x:()=>_});var r=n(411855),a=n(188507),o=n(421757),l=n(939863),i=n(662275),s=n(416095),c=n(234945),d=n(173454),u=n(13678),p=n(611964),m=n(509453);function g(){let e=(0,a.d4)(e=>e.library.local),t=(0,a.d4)(c.qd),n=r.useMemo(()=>{let n=new Set;for(let r of t){let t=(0,s.n5)(r,e);t&&(t.type===d.PW.COMPONENT||t.type===d.PW.STATE_GROUP)&&!(0,s.zE)(t)?n.add(t.node_id):t&&t.type===d.PW.MODULE&&n.add(t.node_id)}return n},[e,t]),o=(0,a.wA)(),l=r.useCallback(()=>{o(i.to({type:u.dD,data:{initiallyCheckedItemIDs:n,entrypoint:p.RR.PROPERTIES_PANEL}}))},[o,n]);return{validNodeIds:n,onClick:l}}function f(){let{validNodeIds:e,onClick:t}=g(),n=(0,a.d4)(e=>e.library.local),i=(0,a.d4)(c.qd).some(e=>{let t=(0,s.n5)(e,n);return t&&!(0,s.HF)(t.status)});return e.size?r.createElement(o.$n,{variant:"secondary",onClick:t},i?(0,l.t)("design_systems.updates.publish"):(0,l.t)("design_systems.component_panel.publish_new_changes")):null}function _(){let{validNodeIds:e,onClick:t}=g();return e.size?r.createElement(m.z,{onClick:t},(0,l.t)("design_systems.component_panel.publish_new_changes")):null}},672591:(e,t,n)=>{n.d(t,{qW:()=>W,v2:()=>$,Ds:()=>G});var r=n(411855),a=n(188507),o=n(966712),l=n(38580),i=n(646240),s=n(153234),c=n(438741),d=n(574176),u=n(762638),p=n(939863),m=n(809831),g=n(198371),f=n(226055),_=n(369870),h=n(754209),E=n(611978),y=n(976404);function v(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 5.5a.5.5 0 0 1 1 0V6h4v-.5a.5.5 0 0 1 1 0V6h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h1v-.5ZM14 7v.5a.5.5 0 0 0 1 0V7h1a1 1 0 0 1 1 1v1H7V8a1 1 0 0 1 1-1h1v.5a.5.5 0 0 0 1 0V7h4Zm-7 3v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6H7Zm4.75 2a.5.5 0 0 0 0 1h.5a.5.5 0 0 0 0-1h-.5Zm1.728 1.362A1.5 1.5 0 0 0 12.25 11h-.5a1.5 1.5 0 0 0-1.228 2.362A1.5 1.5 0 0 0 11.5 16h1a1.5 1.5 0 0 0 .978-2.638ZM12.25 14h-.75a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-.25Z",clipRule:"evenodd"}))}var b=n(240624),w=n(629019),T=n.n(w),N=n(268537),I=n(64550),S=n(318812);let C="broadcast_dropdown--center---oKw4",x="broadcast_dropdown--fadeOut--pjW9Z";function A(e){let t=(0,y.U1)(),[n,l]=r.useState(!1),[i,s]=r.useState("affco"),[c,d]=r.useState("Your closest collaborators"),u=()=>{s("affco"),d("Your closest collaborators")},m=e=>{s("calendar"),d(e)},g=(0,S.Um)(),f=(0,a.wA)(),_=g?.type==="BROADCAST_DROPDOWN";if(!(0,o.kc)().file_broadcast)return null;let h=e=>e.length>36?e.slice(0,35)+"\u2026":e;return r.createElement("div",{className:"broadcast_dropdown--windowContainer---lIkb",ref:t},r.createElement("div",{className:"broadcast_dropdown--windowHeader--YGxxE"},r.createElement("div",{className:"broadcast_dropdown--windowTitle--SzqFy"},(0,p.t)("file_broadcast.broadcast")),r.createElement("div",{className:"broadcast_dropdown--windowHeaderRight--gQURU"},r.createElement("div",{className:T()("broadcast_dropdown--circlesContainer--WRbcD",{[x]:!n})},r.createElement("span",{className:C}),r.createElement("span",{className:"broadcast_dropdown--firstCircle--bGLty broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--secondCircle--vyndJ broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--thirdCircle--h-f-a broadcast_dropdown--circle--kWSdc"})),r.createElement("div",{className:T()("broadcast_dropdown--staticCirclesContainer--5H9w4 broadcast_dropdown--circlesContainer--WRbcD",{[x]:n})},r.createElement("span",{className:C}),r.createElement("span",{className:"broadcast_dropdown--staticFirstCircle--otg-6 broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--staticSecondCircle--N3gXm broadcast_dropdown--circle--kWSdc"}),r.createElement("span",{className:"broadcast_dropdown--staticThirdCircle--7hhtU broadcast_dropdown--circle--kWSdc"})))),r.createElement(I.V,{showingDropdown:_,type:"BROADCAST_DROPDOWN",dispatch:f,className:"broadcast_dropdown--dropdownSelector--fn1cE",isDisabled:n},r.createElement("div",{className:"broadcast_dropdown--noWrap--eLqiC"},r.createElement("div",{className:"broadcast_dropdown--dropdownIcon--tPh7Y"},"calendar"===i?r.createElement(v,null):r.createElement(b.w,null)),r.createElement("span",null,c)),_&&r.createElement(N.gw,{dispatch:f,positionFixed:!0},[1,2,3,4,5].map(e=>r.createElement(N.c$,{key:e,onClick:()=>m("3pm \u2022 25 ppl \u2022 "+h("Workflow Team Weekly Super Long Name of Event [HOLD]"))},r.createElement(v,null),r.createElement("span",null,"3pm \u2022 25 ppl \u2022 "+h("Workflow Team Weekly Super Long Name of Event [HOLD]")))),r.createElement(N.wv,null),r.createElement(N.c$,{key:"affcogroup",onClick:()=>u()},r.createElement(b.w,null),r.createElement("span",null,(0,p.t)("file_broadcast.your_closest_collaborators"))))),r.createElement("div",{className:"broadcast_dropdown--broadcastButtonContainer--ATkPR"},r.createElement("button",{className:n?"broadcast_dropdown--endBroadcastButton--LH4TQ broadcast_dropdown--broadcastButton--e2t0O":"broadcast_dropdown--startBroadcastButton--Pk5bs broadcast_dropdown--broadcastButton--e2t0O",onClick:()=>{l(!n)}},n?"End Broadcast":"Start Broadcast")))}var R=n(7860),k=n(595755),O=n(830111),P=n(549166),D=n(27947),M=n(734354),L=n(857738),K=n(157147),F=n(753630),B=n(252828),U=n(872429),z=n(656147),V=n(641160),H=n(933276),X=n(932037);let G=(0,l.eU)(0);function W(e){let t=(0,f.GS)(),{isRightPanelCollapsed:n}=r.useContext(R.t),l=(0,a.wA)(),E=(0,z.P)(e.selectedView),y=(0,U.Vj)(e.selectedView),v=(0,m.HW)(),b=(0,h.dR)(),w=r.useMemo(()=>e.multiplayer.allUsers.find(t=>t.sessionID===e.multiplayer.sessionID)||null,[e.multiplayer.allUsers,e.multiplayer.sessionID]),T=(0,c.B4)(),N=v?null:e.openFile,I=(0,g.DG)(N?.key||"").enabled,S=(0,_.ck)(),C=r.useRef(null),x=(0,i.Xr)(G);r.useEffect(()=>{C.current&&n&&x(C.current.clientWidth)},[n,C,x,e.multiplayer.allUsers]);let W=r.useCallback(t=>{(0,P.Lx)(t,w?.sessionID,l,v,e.multiplayer,b,T)},[w?.sessionID,l,v,e.multiplayer,b,T]),[$,Y]=r.useState(!1),[j,q]=r.useState(!1),J=r.useMemo(()=>!(0,o.kc)().async_spotlight||E||y?null:r.createElement("div",null,r.createElement("button",{onClick:()=>Y(!$),"aria-label":(0,p.t)("recordings.recordings"),className:$?V.Ov:V.a8},r.createElement(d.B,{svg:X.A})),$&&r.createElement("div",{className:V.UN},r.createElement(O.h,{onClose:()=>Y(!1)}))),[$,E,y]),Z=r.useMemo(()=>(0,o.kc)().file_broadcast?r.createElement("div",null,r.createElement("button",{onClick:()=>q(!j),"aria-label":(0,p.t)("file_broadcast.broadcast"),className:j?V.Ov:V.a8},r.createElement(d.B,{svg:H.A,svgWidth:"22px"})),j&&r.createElement(r.Fragment,null,r.createElement("div",{className:V.pb,onClick:()=>q(!1),role:"button",tabIndex:0}),r.createElement("div",{className:V.wQ},r.createElement(A,{onClose:()=>q(!1)})))):null,[j]);return t?r.createElement("div",{ref:C},t&&null===N?r.createElement("div",{className:V.tU},r.createElement(k.YJ,null)):r.createElement("div",{className:V.Yg},r.createElement("div",{className:V.kb},r.createElement(D.sK,{isUI3:!0}),e.multiplayer&&e.openFile&&w&&r.createElement(P.v7,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,currentUser:w,onUserClick:W})),n&&r.createElement("div",{className:V.wR},t&&r.createElement(B.HT,{recordingKey:s.Pt("header","zoomMenu")})),r.createElement("div",{className:V.Oh},r.createElement("div",{className:u.cx.flex.itemsCenter.$},J,!S&&r.createElement(F.QE,{item:y?K.Ax:E?L.IS:K.Fz,recordingKey:e.recordingKey,numUnreadComments:0}),Z,N&&r.createElement(M.w,{user:e.user,editingFile:N,isFileInWorkshop:I,appendedClassname:V.OI}))))):null}function $(){let e=(0,a.d4)(e=>e.multiplayer),t=(0,a.d4)(e=>e.openFile),n=(0,a.d4)(e=>e.user),o=(0,a.d4)(e=>e.dropdownShown),l=(0,E._6)();return r.createElement(W,{openFile:t,dropdownShown:o,multiplayer:e,user:n,isIntegration:(0,_.ck)(),selectedView:l})}},830002:(e,t,n)=>{n.d(t,{D5:()=>b,Tj:()=>v,lS:()=>w});var r=n(411855),a=n(188507),o=n(794272),l=n(153234),i=n(522739),s=n(236478),c=n(226055),d=n(848661),u=n(498606),p=n(538697),m=n(213100),g=n(994481),f=n(45148),_=n(731262),h=n(975687);let E={format:e=>e||_.xJ};function y(e){let{propertyValueEntries:t,selectedStatesPropertyValues:n,stateGroupPropertyValues:a,onSelectProperty:o,dropdownShown:_,hideErrorsPanel:y,dispatch:v,shouldIndent:b,extended:w}=e,T=(0,c.GS)(),N=r.useRef([]),I=r.useCallback(e=>{if(!N.current)return!1;let t=N.current[e];return!!t&&t.offsetWidth<t.scrollWidth},[]);return r.createElement(i.D8,{className:h.wG,"data-non-interactive":!0},t.length>0&&r.createElement("div",{className:T?void 0:h.em},t.map((t,i)=>{let{property:c,label:f}=t,y=n[c],S=a[c],C=h.Aq;b&&(C=w?h.aM:h.L8);let x=r.createElement("p",{ref:e=>N.current?.push(e),className:T?void 0:C,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":I(i)?c:null},f),A="TOGGLE"===t.type?r.createElement(m.l,{toggleClassName:w?h.lV:h.E3,on:(0,d.hS)(y)?y===t.toggleTokenPair[0]:d.oV,onChange:e=>{o(c,t.toggleTokenPair[e?0:1])},recordingKey:l.Pt(e,`toggle-${c}`),forwardEventsToFullscreen:!0}):r.createElement(p.l6,{id:`states-property-select-${c}-${e.recordingKey}`,className:T?void 0:w?h.mi:h.ZE,property:y,formatter:E,onChange:e=>{o(c,e)},dispatch:v,dropdownShown:_,onMouseDown:()=>v(s.r),recordingKey:l.Pt(e,`select-${c}`)},[...S].map(t=>r.createElement(p.c$,{key:t,value:t,truncateInMiddle:!0,recordingKey:l.Pt(e,`select-${c}-option-${t}`)})));return T?r.createElement(g.cS,{key:c,label:x,input:A}):r.createElement(r.Fragment,{key:c},x,A)})),!y&&r.createElement(f.aq,null))}function v(e,t,n){let r=[{property:t,value:n}];for(let n of e)n.property!==t&&r.push({...n});return r}function b(e,t){let n=t.map(e=>e.toLowerCase()),r=null;if(2===t.length)for(let e of _.NE){let a=n.indexOf(e[0]),o=n.indexOf(e[1]);-1!==a&&-1!==o&&(r=[t[a],t[o]])}return r?{property:e,type:"TOGGLE",label:e,toggleTokenPair:r}:{property:e,type:"SELECT",label:e}}let w=r.memo(function(e){let{sortedProperties:t,stateGroupPropertyValues:n,selectedStatesPropertyValues:l,selectedStates:i,allStates:s,onSelectProperty:c,recordingKey:d,hideErrorsPanel:u,shouldIndent:p,extended:m}=e,g=(0,a.wA)(),{dropdownShown:f,sceneGraphSelection:h}=(0,o.R)(e=>({dropdownShown:e.dropdownShown,sceneGraphSelection:e.mirror.sceneGraphSelection})),[E,w]=r.useState([]);r.useEffect(()=>{w([])},[h]);let T=n?t.map(e=>b(e,n[e])):[];return r.createElement(y,{propertyValueEntries:T,selectedStatesPropertyValues:l,stateGroupPropertyValues:n,onSelectProperty:function(e,t){let n=v(E,e,t),r={};for(let a of i){let{propertyValues:o}=a.stateInfo,l={...o,[e]:t},i=(0,_.kz)(l,n,s);null!==i&&(r[a.symbol.node_id]=i)}c(r),w(n)},dropdownShown:f,recordingKey:d,hideErrorsPanel:u,dispatch:g,shouldIndent:p,extended:m})})},696008:(e,t,n)=>{n.d(t,{K:()=>g,j:()=>m});var r=n(411855),a=n(188507),o=n(776250),l=n(153234),i=n(347082),s=n(939863),c=n(356390),d=n(509453),u=n(7959),p=n(690710);function m(e){return 1>=(0,a.d4)(e=>(0,p._7)(e))?null:r.createElement(i.p,{name:"create_state_group_panel"},r.createElement(u.Zk,null,r.createElement(u.fI,null,r.createElement(u.xw,null,(0,s.tx)("design_systems.states_panel.components"))),r.createElement(g,{...e})))}function g(e){let t=(0,a.d4)(e=>(0,p._7)(e)),n=e=>{(0,o.sx)("Creating Variant Component",{type:"Merge",numVariants:e}),c.Y5.triggerActionInUserEditScope("create-state-group")};return r.createElement(d.z,{key:"merge-button",recordingKey:l.Pt(e,"mergeButton"),onClick:()=>n(t)},(0,s.tx)("design_systems.states_panel.combine_as_variants"))}},290022:(e,t,n)=>{n.d(t,{Q:()=>z,_:()=>V});var r=n(411855),a=n(535904),o=n(613023),l=n(445978),i=n(864061),s=n(359961),c=n(243742),d=n(776250),u=n(966712),p=n(153234),m=n(46481),g=n(939863),f=n(877953),_=n(356390),h=n(848661),E=n(227944),y=n(555074),v=n(499777),b=n(498606),w=n(420186),T=n(553738),N=n(7959),I=n(468570),S=n(414879),C=n(372717),x=n(939791),A=n(493424);function R(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 8.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1H13a4 4 0 0 0-4-4zM9 12v3h3a3 3 0 0 0-3-3",clipRule:"evenodd"}))}var k=n(520581),O=n(218973),P=n(784940),D=n(614851),M=n(100433);function L(e){let[t,n]=(0,y.lJ)("angle"),{smallNudgeAmount:a,bigNudgeAmount:o,...l}=(0,P.KG)({key:"angle",setValue:n});return r.createElement(k.E,{name:"rotation_input"},r.createElement(O.Zp,{className:D.BP,inputClassName:D.hF,value:t,disabled:e.disabled,...l,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.rotation"),recordingKey:p.Pt(e,"angleInput")},r.createElement(m.U,{className:D.QK,svg:M.A},r.createElement("div",{className:D.QK},r.createElement(R,null)))))}var K=n(866577),F=n(362679),B=n(13556),U=n(502517);function z(e){let{version:t}=(0,c.DP)(),n=(0,f.C)("fpl_dialog_trigger"),[R]=(0,y.lJ)("rectangleCornerRadiiIndependent"),k=(0,r.useRef)(null),O=(0,v.kG)("corner-smoothing"),P=(0,E.Zr)("flip-horizontal"),M=(0,E.Zr)("flip-vertical"),z=(0,E.Zr)("rotate-90-clockwise"),X=(0,r.useCallback)(()=>{O.hide(),_.Y5.deselectProperty()},[O]),G=e.cornerRadiusDisabled||e.rectangleCornersDisabled,[W,$]=r.useState(null),Y=e.rectangleCornersShown&&!!W,j=r.useCallback(()=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,h._W)(R,!1)}),!Y&&k.current?$((0,w.cn)(k.current,parseInt(K.Je,10))):$(null)},[R,Y]);return"ui2"===t?r.createElement(r.Fragment,null,r.createElement(N.fI,{forwardedRef:k},r.createElement(L,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),e.cornerRadiusShown&&r.createElement(A.C,{recordingKey:e.recordingKey,inputClassName:e.angleShown?D.sC:D.BP,disabled:Y||e.cornerRadiusDisabled}),e.cornerRadiusShown&&e.rectangleCornersShown&&r.createElement(r.Fragment,null,n?r.createElement("div",{className:D.gb},r.createElement(a.d,{actionOnPointerDown:!0,toggled:Y,disabled:G,recordingKey:p.Pt(e,"rectangleCornerToolIndependentToggle"),"aria-label":(0,g.t)("fullscreen.properties_panel.transform_panel.independent_corners"),onClick:j},r.createElement(m.U,{svg:U.A},r.createElement(o.Q,null)))):r.createElement(T.m,{toggled:Y,svg:U.A,className:D.gb,onMouseDown:j,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:p.Pt(e,"rectangleCornerToolIndependentToggle"),disabled:G})),e.cornerRadiusShown&&!e.rectangleCornersShown&&r.createElement(N.YW,{svg:F.A,fallbackSvg:B.A,className:D.gb,onMouseDown:e=>V(O,k,e),recordingKey:p.Pt(e,"cornerSmoothingToggle"),"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,g.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:O.showing,disabled:e.cornerRadiusDisabled})),Y&&W&&r.createElement(S.$,{initialPosition:W,onClose:j,recordingKey:e.recordingKey}),O.showing&&r.createElement(I.T,{initialPosition:O.initialPosition,onClose:X,recordingKey:p.Pt(e,"advanced")})):r.createElement(x.fn,{ref:k,leftLabel:(0,g.tx)("properties.label.transform"),leftInput:r.createElement(L,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),rightInput:r.createElement(C.t,{controls:[H("rotate-90-clockwise",r.createElement(l.R,null),z),H("flip-horizontal",r.createElement(i.W,null),P),H("flip-vertical",r.createElement(s.D,null),M)]}),rightLabel:null,icon:null})}function V(e,t,n){n.stopPropagation(),(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"cornerSmoothing",value:e.showing}),e.toggle(()=>(0,w.cn)(t.current))}let H=(e,t,n)=>({"aria-label":e,"data-tooltip":e,"data-tooltip-type":b.Ib.LOOKUP,children:t,disabled:!n,onClick:()=>{_.Y5.triggerActionInUserEditScope(e)}})},933466:(e,t,n)=>{n.d(t,{u:()=>S});var r=n(411855),a=n(188507),o=n(485463),l=n(256296);function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 10a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zm0 1h6v6H7z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M16.5 6a.5.5 0 0 1 .5.5V7h.5a.5.5 0 0 1 0 1H17v5h.5a.5.5 0 0 1 0 1H17v.5a.5.5 0 0 1-1 0V14h-2v-1h2V8h-5v2h-1V8h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 1 0V7h5v-.5a.5.5 0 0 1 .5-.5M13 13h-2v-2h-1v2h-.5a.5.5 0 0 0 0 1h.5v.5a.5.5 0 0 0 1 0V14h2z",clipRule:"evenodd"}))}function s(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 5a.5.5 0 0 1 .5.5V8h6.5a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1H16v2.5a.5.5 0 0 1-1 0V16H8.5a.5.5 0 0 1-.5-.5V9H5.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 .5-.5m.5 6V9h6v6h-2a4 4 0 0 0-4-4m0 1v3h3a3 3 0 0 0-3-3",clipRule:"evenodd"}))}var c=n(243742),d=n(776250),u=n(966712),p=n(153234),m=n(939863),g=n(848661),f=n(555074),_=n(318812),h=n(69961),E=n(75215),y=n(7959),v=n(538697),b=n(939791),w=n(614851);class T extends v.c${}class N extends v.l6{}let I=new class{constructor(){this.format=e=>{switch(e){case!0:return(0,m.t)("fullscreen.properties_panel.transform_panel.clip_content");case!1:return(0,m.t)("fullscreen.properties_panel.appearance_panel.show_content");default:return""}}}};function S(e){let[t,n]=(0,f.lJ)("frameMaskDisabled"),{version:v}=(0,c.DP)(),S=(0,r.useId)(),C=(0,h.o3)(h.nt.ui3ClipContentControl),x=(0,a.wA)(),A=(0,_.Um)(),R=(0,r.useCallback)(e=>{(0,u.kc)().ce_properties_panel_tracking&&(0,d.sx)("editor-transform-panel-change",{key:"clipContent",clipContentValue:e}),n(!e)},[n]);return"ui2"===v?r.createElement(y.fI,null,r.createElement(E.t,{className:w.kv,id:S,property:(0,g.gl)(t)?g.oV:!t,onChange:R,recordingKey:p.Pt(e,"clipContentCheckbox")}),r.createElement(y.JU,{className:w.mH,htmlFor:S},(0,m.tx)("fullscreen.properties_panel.transform_panel.clip_content"))):C?r.createElement(b.Ad,{label:r.createElement(r.Fragment,null),input:r.createElement(o.S,{muted:!0,mixed:(0,g.gl)(t),checked:!1===t,onChange:R,recordingKey:p.Pt(e,"clipContentCheckbox"),label:r.createElement(l.J,null,(0,m.tx)("fullscreen.properties_panel.transform_panel.clip_content"))})}):r.createElement(b.DE,{label:(0,m.tx)("fullscreen.properties_panel.appearance_panel.overflow"),input:r.createElement(N,{id:"clip-content-select",property:(0,g.gl)(t)?g.oV:!t,onChange:R,formatter:I,dispatch:x,dropdownShown:A,recordingKey:p.Pt(e,"clipContent"),icon:t?r.createElement(i,null):r.createElement(s,null),enablePreview:!0},r.createElement(T,{value:!0,icon:r.createElement(s,null),recordingKey:p.Pt(e,"clipContent","true")}),r.createElement(T,{value:!1,icon:r.createElement(i,null),recordingKey:p.Pt(e,"clipContent","false")})),icon:null})}},493424:(e,t,n)=>{n.d(t,{C:()=>x});var r=n(411855),a=n(188507),o=n(752795),l=n(106075),i=n(587670),s=n(153234),c=n(520581),d=n(46481),u=n(939863),p=n(848661),m=n(555074),g=n(869156),f=n(498606),_=n(218973),h=n(760066),E=n(893606),y=n(282263),v=n(683859),b=n(564092),w=n(533573),T=n(784940),N=n(614851),I=n(595869);let S=["CORNER_RADIUS"],C=["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"];function x(e){let t=(0,r.useId)(),n=r.useRef(null),x=(0,E.R)(),{smallNudgeAmount:A,bigNudgeAmount:R,wheelMultiplier:k}=(0,T.Xs)(),O=(0,a.wA)(),[P,D]=(0,m.lJ)("cornerRadius"),{consumedVariable:M,clearVariableConsumption:L}=(0,b.u3)(S),{consumedVariable:K,clearVariableConsumption:F}=(0,b.u3)(C),B=(0,w.MH)(M),U=(0,w.MH)(K),z=B??U,V=(0,g.u)(z??void 0),H=!!V&&(0,w.eF)(V),[X,G,W]=(0,y.JV)(!B&&U?C:S,i.rXF.FLOAT),$=(0,o.isNotNullish)(P)&&(0,p.hS)(P)?P:void 0,Y=0===(g.SG(S)?.data??[]).length,j=r.useCallback(()=>{L(),F()},[L,F]),q=r.useCallback(e=>{e?W(e):j()},[W,j]),J=r.useCallback(()=>{n.current&&G(n.current,{currentFieldValue:$})},[G,$]),Z=r.useMemo(()=>({isShowingBindingUI:X,showBindingUI:J,boundVariableId:z,isBoundVariableDeleted:H,onVariableSelected:q}),[X,J,z,H,q]),Q=x&&e.disabled?0:void 0,ee=(0,u.t)("fullscreen.properties_panel.transform_panel.corner_radius");return r.createElement(c.E,{name:"corner_radius_input"},r.createElement(v.p.Provider,{value:Z},r.createElement(h.sJ,{ref:n,inputClassName:e.inputClassName,currentFieldValue:$,disabled:e.disabled,disableEntryPoint:Y,recordingKey:s.Pt(e,"cornerRadiusInputVariableWrapper")},r.createElement(_.$j,{noBorderOnHover:!0,isTokenizable:!0,inputClassName:N.hF,value:P??Q,smallNudgeAmount:A,bigNudgeAmount:R,wheelMultiplier:k,onValueChange:e=>{(0,T.rn)("cornerRadius"),D(e)},dispatch:O,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":ee,"data-tooltip-proxy-element-id":V?t:void 0,recordingKey:s.Pt(e,"cornerRadiusInput"),disabled:e.disabled,scrubMultiplier:.1*A,dataTestId:"transform-corner-radius"},r.createElement(d.U,{className:N.QK,svg:I.A,"data-tooltip-type":V?f.Ib.TEXT:void 0,"data-tooltip":V?ee:void 0,id:t},r.createElement("div",{className:N.QK,"data-tooltip-type":V?f.Ib.TEXT:void 0,"data-tooltip":V?ee:void 0,id:t},r.createElement(l.a,null)))))))}},700829:(e,t,n)=>{n.d(t,{e:()=>A});var r=n(411855),a=n(188507),o=n(434228);function l(e){return(0,o.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11A.5.5 0 0 1 12 6M9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm0 2V9H7v6h2zm9-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm-1 0v6h-2V9z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5M9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm0 2V9H7v6h2zm8-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm-1 0v6h-2V9z",clipRule:"evenodd"}))}function i(e){return(0,o.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 0h1V7H9v2zm4 2.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5M15 17a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1zm0-1H9v-2h6z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 0h1V7H9v2zm4 3a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5m-3 6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1zm0-1H9v-2h6z",clipRule:"evenodd"}))}var s=n(243742),c=n(587670),d=n(966712),u=n(153234),p=n(46481),m=n(939863),g=n(356390),f=n(662531),_=n(848661),h=n(227944),E=n(555074),y=n(301462),v=n(279702),b=n(498606),w=n(218973),T=n(7959),N=n(939791),I=n(784940),S=n(614851),C=n(560185),x=n(30562);function A(e){let t=(0,a.wA)(),n=(0,I.Xs)(),o=(0,E.kl)("detectedList"),g=(0,E.kl)("detectableListAxis"),f=(0,_.E7)(o),y=(0,h.Zr)("arrange-as-grid"),{version:v}=(0,s.DP)(),A=(0,r.useRef)(null);if(!f&&null==A.current&&(!(0,d.kc)().ce_mixed_list_spacing||!y&&null==g))return null;let P=f?.canvasSpacingBetweenItemsX!=null||"X"===g||y||A.current===c._0v.X,D=f?.canvasSpacingBetweenItemsY!=null||"Y"===g||y||A.current===c._0v.Y,M=r.createElement(w.gq,{dispatch:t,value:null==f?_.oV:f.canvasSpacingBetweenItemsX,min:R(f,"X"),onValueChange:k(f,"X"),onScrubBegin:()=>{A.current=c._0v.X},onScrubEnd:()=>{A.current=null},mixedMathHandler:new O(c._0v.X),...n,className:S.BP,inputClassName:S.hF,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),dataTestId:"list-spacing-x",tooltipForScreenReadersOnly:!0,recordingKey:u.Pt(e,"listSpacingX")},r.createElement(p.U,{className:S.QK,svg:C.A},r.createElement(l,{className:S.QK}))),L=r.createElement(w.gq,{dispatch:t,value:null==f?_.oV:f.canvasSpacingBetweenItemsY,min:R(f,"Y"),onValueChange:k(f,"Y"),onScrubBegin:()=>{A.current=c._0v.Y},onScrubEnd:()=>{A.current=null},mixedMathHandler:new O(c._0v.Y),...n,className:P?S.sC:S.BP,inputClassName:S.hF,"data-tooltip-type":b.Ib.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),dataTestId:"list-spacing-y",tooltipForScreenReadersOnly:!0,recordingKey:u.Pt(e,"listSpacingY")},r.createElement(p.U,{className:S.QK,svg:x.A},r.createElement(i,{className:S.QK})));return"ui2"===v?r.createElement(T.fI,null,P&&M,D&&L):r.createElement(N.fn,{leftLabel:(0,m.tx)("properties.label.spacing"),leftInput:P?M:L,rightInput:D&&P?L:null,icon:null,rightLabel:null})}function R(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let k=(e,t)=>(n,r)=>{let a="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";g.Y5.updateSelectionProperties({detectedList:{[a]:Math.max(n,R(e,t))}},{shouldCommit:r});let o="number"==typeof e?.canvasSpacingBetweenItemsX&&"number"==typeof e?.canvasSpacingBetweenItemsY;r&&y.F.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[a],was_mixed:!e,type:o?"grid":"list"})};class O{constructor(e){this.axis=e}getValue(){return c.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let r=e.spacings.map(t);f.l7.user("update-list-spacing",()=>{c.glU.setCurrentListSpacing({...e,spacings:r},this.axis),n!==v.zk.NO&&c.glU.triggerAction("commit",{})})}}},784940:(e,t,n)=>{n.d(t,{rn:()=>I,AY:()=>N,Jo:()=>x,KG:()=>b,Xs:()=>w,Qr:()=>C,Df:()=>S,M9:()=>T});var r=n(411855),a=n(188507),o=n(587670),l=n(776250),i=n(966712),s=n(498750),c=n(801161),d=n(798099),u=n(297336),p=n(662531),m=n(617453),g=n(848661),f=n(113058),_=n(555074),h=n(100197),E=n(498606),y=n(469572);class v{constructor(e){this._controls=0|e}get framePresetsItem(){return this.getValue(o.Sqb.FRAME_PRESETS_ITEM)}get cornerRadius(){return this.getValue(o.Sqb.CORNER_RADIUS)}get frameOptions(){return this.getValue(o.Sqb.FRAME_OPTIONS)}get count(){return this.getValue(o.Sqb.COUNT)}get starInnerScale(){return this.getValue(o.Sqb.STAR_INNER_SCALE)}get rectangleCornerRadii(){return this.getValue(o.Sqb.RECTANGLE_CORNER_RADII)}get fixedFrameOptions(){return this.getValue(o.Sqb.FIXED_FRAME_OPTIONS)}get arcData(){return this.getValue(o.Sqb.ARC_DATA)}get transform(){return this.getValue(o.Sqb.TRANSFORM)}get size(){return this.getValue(o.Sqb.SIZE)}get angle(){return this.getValue(o.Sqb.ANGLE)}get sectionItem(){return this.getValue(o.Sqb.SECTION_ITEM)}getValue(e){return!!(this._controls&1<<e)}}function b(e){var t;let n=(0,a.wA)(),l=(0,m.sT)(),{bigNudgeAmount:i,smallNudgeAmount:u}=l,g=(0,r.useCallback)((e,t,r)=>{r.stopPropagation();let a=e===s.Uz.UP_ARROW?"+":"-",o=`${a}${t?i:u}`;n(c.eB({target:{kind:E.Ui.TEXT,text:o},targetRect:r.currentTarget.closest("label").getBoundingClientRect(),position:E.Zj.BELOW,hideAfterDelay:200}))},[n,i,u]),_=(t=e.key,(0,r.useMemo)(()=>{class e extends f.M{getValueForNode(e){return o.Egt.getNodeTransformProperties(e.guid)[t]}setValueForNode(e,n){p.l7.user(`transform-change-${t}`,()=>{try{o.Egt.setNodeTransformProperties(e.guid,{[t]:n})}catch{}})}}return new e},[t])),h=function({key:e,setValue:t}){let n=(0,a.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode);return(0,r.useCallback)((r,a)=>{I(e),n!==o.nzw.NONE&&o.glU.hideOnCanvasNameEditor(),t(r,a)},[e,n,t])}(e);return{...l,dispatch:n,onValueChange:h,mixedMathHandler:_,onMixedMathNudge:g,onKeyUp:d.dG}}function w(){let{smallNudgeAmount:e,bigNudgeAmount:t}=(0,m.sT)();return{smallNudgeAmount:e,bigNudgeAmount:t,wheelMultiplier:e,scrubMultiplier:e}}function T(){let e=(0,_.kl)("stackHorizontalSize"),t=(0,_.kl)("stackVerticalSize"),n=(0,_.kl)("textAutoResize"),r=N(),l=(0,a.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,u.vx)(t,"TEXT")}),i=a=>{let i=("VERTICAL"===a?t:e)!==o.mKm.FIXED,s=l&&((0,g.gl)(n)||"WIDTH_AND_HEIGHT"===n||"VERTICAL"===a&&"HEIGHT"===n);return i||"VERTICAL"===a&&r||s};return{widthIsAuto:i("HORIZONTAL"),heightIsAuto:i("VERTICAL")}}function N(){return(0,a.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,u.OU)(t,["LINE","WASHI_TAPE"])})}function I(e){(0,i.kc)().ce_properties_panel_tracking&&(0,l.sx)("editor-transform-panel-change",{key:e}),(0,y.a2)(e)}function S(){let e=(0,h.J2)(o.Ez5.propertiesPanelState().shownTransformControls);return(0,r.useMemo)(()=>new v(e),[e])}function C(e){let t=(0,h.J2)(o.Ez5.propertiesPanelState().shownTransformControls);return(0,r.useMemo)(()=>new v(t).getValue(e),[t,e])}function x(){let e=(0,h.J2)(o.Ez5.propertiesPanelState().enabledTransformControls);return(0,r.useMemo)(()=>new v(e),[e])}},468570:(e,t,n)=>{n.d(t,{x:()=>I,T:()=>N});var r=n(411855),a=n(346124),o=n(752256),l=n(243742),i=n(860601),s=n(153234),c=n(572206),d=n(939863),u=n(973149),p=n(168039),m=n(356390),g=n(848661),f=n(555074),_=n(279702),h=n(205135),E=n(7959),y=n(952746),v=n(215056),b=n(746806),w=n(781779);let T="corner_smoothing--cornerSmoothingInput--diqdz";function N({initialPosition:e,recordingKey:t,onClose:n}){return r.createElement(b.vx,{title:(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),initialPosition:e,headerSize:"small",onClose:n,recordingKey:s.Pt(t,"modal")},r.createElement(E.Id,null,r.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},r.createElement(I,{recordingKey:t}))))}function I(e){let{version:t}=(0,l.DP)();return r.createElement("ui3"===t?C:S,{...e})}function S(e){let t=(0,p.DP)(),n=(0,y.Xc)(),o=(0,f.kl)("cornerSmoothing"),l=(0,p.yM)(),m=r.useCallback((e,t)=>{x(e.x,t)},[]),_=r.useCallback(e=>{let t=(0,v.W)(e);x((0,a.clamp)((0,g._W)(o,0)+t/100,0,1),!0)},[o]),b=r.useCallback(e=>{let t=e.getContext("2d");t.fillStyle=l?.colorBgSecondary||w.z8,t.fillRect(0,0,N+n,n)},[l?.colorBgSecondary,n]),N=138,I=new c.Mi((0,g._W)(o,0),0),S=new u.LN;return r.createElement("div",{className:"corner_smoothing--root--tqWdN"},r.createElement(y.Kf,{hitBoxMargin:8,width:N,height:0,handlePadding:!0,value:I,mouseCallback:m,wheelCallback:i.lQ,keyDownCallback:_,renderCanvas:b,containerClass:"corner_smoothing--sliderContainer--0-rJy",canvasWrapperStyles:"dark"===t?{border:"1px solid var(--color-conditionalborder)"}:{}},r.createElement("div",{className:"corner_smoothing--sliderAnnotationStroke--n6UqC",style:{position:"absolute",width:0,height:18,left:.6*N+.5*n,top:0,borderLeftWidth:1}},r.createElement(E.UZ,{style:{position:"relative",left:-8,top:20},onClick:()=>{x(.6,!0)}},(0,d.tx)("fullscreen.properties_panel.transform_panel.i_os")))),r.createElement(h.Q7,{recordingKey:s.Pt(e,"modal"),className:T,formatter:S,property:I.x,onChange:e=>{x(e,!0)}}))}function C({recordingKey:e}){let t=(0,r.useMemo)(()=>new u.LN,[]),n=(0,g._W)((0,f.kl)("cornerSmoothing"),0);return r.createElement("div",{className:"corner_smoothing--rootUi3--4yJI2"},r.createElement("div",{className:"corner_smoothing--sliderWrapperUi3--k4Z-O"},r.createElement(o.A,{"aria-label":(0,d.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),value:n,onChange:(e,{commit:t})=>x(e,t),min:0,max:1,step:.01,bigStep:.1,defaultValue:0,rangeAnchor:0,hints:[.6],recordingKey:s.Pt(e,"slider")})),r.createElement(h.Q7,{recordingKey:s.Pt(e,"modal"),className:T,formatter:t,property:n,onChange:e=>void x(e,!0)}),r.createElement("div",{className:"corner_smoothing--labelWrapperUi3--Kt9lC"},r.createElement(E.UZ,{className:"corner_smoothing--labelUi3--fPeZB",onClick:()=>{x(.6,!0)}},(0,d.tx)("fullscreen.properties_panel.transform_panel.i_os"))))}function x(e,t){e=Math.round(100*e)/100,m.Y5.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?_.zk.YES:_.zk.NO})}},414879:(e,t,n)=>{n.d(t,{$:()=>W});var r=n(411855),a=n(153234),o=n(763658),l=n(939863),i=n(226055),s=n(7959),c=n(746806),d=n(468570),u=n(106075),p=n(794272),m=n(356390),g=n(848661),f=n(279702),_=n(691039),h=n(728314),E=n(229351),y=n(736002),v=(e=>(e[e.TOP_LEFT=0]="TOP_LEFT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",e))(v||{});let b={0:{svg:E.A,variableField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS",getTooltip:()=>(0,l.t)("fullscreen.properties_panel.transform_panel.top_left_corner_radius"),ui3Icon:r.createElement(u.a,null)},2:{svg:y.A,variableField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,l.t)("fullscreen.properties_panel.transform_panel.top_right_corner_radius"),ui3Icon:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.522 8H8.5a.5.5 0 0 0 0 1h3c.708 0 1.21 0 1.601.032.386.032.622.092.807.186a2 2 0 0 1 .874.874c.094.185.154.42.186.807.032.392.032.893.032 1.601v3a.5.5 0 0 0 1 0v-3.022c0-.681 0-1.223-.036-1.66-.036-.448-.113-.83-.291-1.18a3 3 0 0 0-1.311-1.311c-.35-.178-.732-.255-1.18-.291C12.746 8 12.204 8 11.523 8",clipRule:"evenodd"}))},null)},1:{svg:_.A,variableField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",getTooltip:()=>(0,l.t)("fullscreen.properties_panel.transform_panel.bottom_left_corner_radius"),ui3Icon:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.478 16H15.5a.5.5 0 0 0 0-1h-3c-.708 0-1.21 0-1.601-.032-.386-.032-.622-.092-.807-.186a2 2 0 0 1-.874-.874c-.094-.185-.154-.42-.186-.807C9 12.71 9 12.208 9 11.5v-3a.5.5 0 0 0-1 0v3.022c0 .681 0 1.223.036 1.66.036.448.113.83.291 1.18a3 3 0 0 0 1.311 1.311c.35.178.732.255 1.18.291.437.036.979.036 1.66.036",clipRule:"evenodd"}))},null)},3:{svg:h.A,variableField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,l.t)("fullscreen.properties_panel.transform_panel.bottom_right_corner_radius"),ui3Icon:r.createElement(function(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.522 16H8.5a.5.5 0 0 1 0-1h3c.708 0 1.21 0 1.601-.032.386-.032.622-.092.807-.186a2 2 0 0 0 .874-.874c.094-.185.154-.42.186-.807C15 12.71 15 12.208 15 11.5v-3a.5.5 0 0 1 1 0v3.022c0 .681 0 1.223-.036 1.66-.036.448-.113.83-.291 1.18a3 3 0 0 1-1.311 1.311c-.35.178-.732.255-1.18.291-.437.036-.979.036-1.66.036",clipRule:"evenodd"}))},null)}};function w(e){return b[e].variableField}var T=n(188507),N=n(587670),I=n(46481),S=n(632430),C=n(869156),x=n(498606),A=n(420186),R=n(218973),k=n(760066),O=n(282263),P=n(683859),D=n(564092),M=n(533573),L=n(158406),K=n(939143),F=n(784940);let B="independent_corner_radius_view--inputRow--WrZ2t",U="independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO";function z({topLeftValue:e,topRightValue:t,bottomLeftValue:n,bottomRightValue:o,recordingKey:l,onTopLeftChange:i,onTopRightChange:s,onBottomLeftChange:c,onBottomRightChange:d}){let u=r.useMemo(()=>[w(v.TOP_LEFT)],[]),p=r.useMemo(()=>[w(v.TOP_RIGHT)],[]),m=r.useMemo(()=>[w(v.BOTTOM_LEFT)],[]),f=r.useMemo(()=>[w(v.BOTTOM_RIGHT)],[]),_=(0,C.SG)(u).data??[],h=(0,C.SG)(p).data??[],E=(0,C.SG)(m).data??[],y=(0,C.SG)(f).data??[],T=r.useRef(null),N=r.useRef(null),I=r.useRef(null),S=r.useRef(null),[x,R]=r.useState(null),k=r.useCallback((e,t)=>{t&&R({corner:e,initialPosition:(0,A.VZ)(t,L.d9)})},[]),O=r.useCallback(()=>{R(null)},[]);function P(r){switch(r){case v.TOP_LEFT:return{value:e,variableFields:u,variablesForField:_,inputRef:T,onChange:i};case v.TOP_RIGHT:return{value:t,variableFields:p,variablesForField:h,inputRef:N,onChange:s};case v.BOTTOM_LEFT:return{value:n,variableFields:m,variablesForField:E,inputRef:I,onChange:c};case v.BOTTOM_RIGHT:return{value:o,variableFields:f,variablesForField:y,inputRef:S,onChange:d}}}function D({corner:e,recordingKey:t}){return r.createElement(H,{variableFields:P(e).variableFields,isPickerOpen:x?.corner===e,onPickerOpen:()=>k(e,P(e).inputRef.current)},r.createElement(V,{ref:P(e).inputRef,value:P(e).value,variableFields:P(e).variableFields,svg:b[e].svg,ui3Icon:b[e].ui3Icon,tooltip:b[e].getTooltip(),disableEntryPoint:0===P(e).variablesForField.length,recordingKey:t,onChange:P(e).onChange}))}return r.createElement("div",null,r.createElement(r.Fragment,null,r.createElement("div",{className:B},D({corner:v.TOP_LEFT,recordingKey:a.Pt(l,"rectangleTopLeftCornerRadiusInput")}),D({corner:v.TOP_RIGHT,recordingKey:a.Pt(l,"rectangleTopRightCornerRadiusInput")})),r.createElement("div",{className:B},D({corner:v.BOTTOM_LEFT,recordingKey:a.Pt(l,"rectangleBottomLeftCornerRadiusInput")}),D({corner:v.BOTTOM_RIGHT,recordingKey:a.Pt(l,"rectangleBottomRightCornerRadiusInput")}))),function(){if(!x)return null;let{corner:e,initialPosition:t}=x,n=(0,g._W)(P(e).value,0);return r.createElement(X,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:P(e).variableFields,onClose:O})}())}let V=r.forwardRef(({variableFields:e,value:t,svg:n,tooltip:a,recordingKey:o,disableEntryPoint:l,onChange:i,ui3Icon:s},c)=>{let d=(0,T.wA)(),{smallNudgeAmount:u,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f}=(0,F.Xs)(),{consumedVariable:_}=(0,D.u3)(e),h=r.useId();return r.createElement(k.sJ,{ref:c,currentFieldValue:(0,g._W)(t,0),disableEntryPoint:l},r.createElement(R.$j,{dispatch:d,value:(0,g.gl)(t)?t:t??0,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",smallNudgeAmount:u,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:.1*f,noBorderOnHover:!0,isTokenizable:!0,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":a,"data-tooltip-proxy-element-id":_?h:void 0,recordingKey:o,onValueChange:i},r.createElement(I.U,{className:U,svg:n,"data-tooltip-type":_?x.Ib.TEXT:void 0,"data-tooltip":_?a:void 0,id:h},r.createElement("div",{className:U,"data-tooltip-type":_?x.Ib.TEXT:void 0,"data-tooltip":_?a:void 0,id:h},s))))});function H({variableFields:e,isPickerOpen:t,onPickerOpen:n,children:a}){let{consumedVariable:o}=(0,D.u3)(e),l=(0,M.MH)(o),i=(0,C.u)(l??void 0),s=!!i&&(0,M.eF)(i),[c,d,u]=(0,O.JV)(e,N.rXF.FLOAT);return r.createElement(P.p.Provider,{value:{boundVariableId:l,isBoundVariableDeleted:s,isShowingBindingUI:t,showBindingUI:n,onVariableSelected:u}},a)}function X({corner:e,initialPosition:t,currentFieldValue:n,variableFields:a,onClose:o}){let l=(0,T.wA)(),{updateVariableConsumption:i}=(0,D.u3)(a),s=r.useCallback(e=>{l((0,S.Yi)({item:e,callback:e=>{i((0,D.y$)(N.rXF.FLOAT,e))}}))},[l,i]);return r.createElement(r.Fragment,null,r.createElement(O.jp,{fields:[w(e)],resolvedType:N.rXF.FLOAT,initialPosition:t,currentFieldValue:n,onVariableSelected:s,onClose:o}),r.createElement(K.$3,{onClose:o}))}var G=n(866577);function W(e){let t=function(){let e=(0,p.R)(e=>{let t=e.mirror.selectionProperties;return{angle:t.angle,hasReflection:t.hasReflection,topLeft:t.rectangleTopLeftCornerRadius,topRight:t.rectangleTopRightCornerRadius,bottomRight:t.rectangleBottomRightCornerRadius,bottomLeft:t.rectangleBottomLeftCornerRadius}});return(0,r.useCallback)(t=>{let n=[{corner:0,value:e.topLeft,key:"rectangleTopLeftCornerRadius"},{corner:1,value:e.bottomLeft,key:"rectangleBottomLeftCornerRadius"},{corner:3,value:e.bottomRight,key:"rectangleBottomRightCornerRadius"},{corner:2,value:e.topRight,key:"rectangleTopRightCornerRadius"}],r=n.findIndex(({corner:e})=>e===t);e.hasReflection&&(r+=2),null!=e.angle&&(0,g.hS)(e.angle)&&(Math.abs(e.angle)>=135?r+=2:e.angle>=45?r+=3:e.angle<=-45&&(r+=1));let a=n[r%4];return{value:a.value,setter:(e,t=f.zk.YES)=>{m.Y5.updateSelectionProperties({[a.key]:e},{shouldCommit:t})}}},[e])}(),n=(0,i.GS)();return r.createElement(o.k,{name:"independent_corner_radius_modal"},r.createElement(c.vx,{title:n?(0,l.t)("fullscreen.properties_panel.transform_panel.corner_radius_details"):(0,l.t)("fullscreen.properties_panel.transform_panel.corner_radius"),initialPosition:e.initialPosition,headerSize:"small",onClose:e.onClose,recordingKey:a.Pt(e,"modal")},r.createElement("div",{className:G.dJ},r.createElement("div",{className:G.os},r.createElement(z,{topLeftValue:t(v.TOP_LEFT).value,topRightValue:t(v.TOP_RIGHT).value,bottomLeftValue:t(v.BOTTOM_LEFT).value,bottomRightValue:t(v.BOTTOM_RIGHT).value,recordingKey:a.Pt(e,"independentCornerRadius"),onTopLeftChange:t(v.TOP_LEFT).setter,onTopRightChange:t(v.TOP_RIGHT).setter,onBottomLeftChange:t(v.BOTTOM_LEFT).setter,onBottomRightChange:t(v.BOTTOM_RIGHT).setter})),r.createElement(s.Zk,{className:G.Y9},r.createElement(s.xw,{className:G.YV},(0,l.t)("fullscreen.properties_panel.transform_panel.corner_smoothing")),r.createElement("div",{className:G.jN},r.createElement(d.x,{recordingKey:a.Pt(e,"advanced")}))))))}},372717:(e,t,n)=>{n.d(t,{t:()=>s});var r=n(411855),a=n(629019),o=n.n(a),l=n(153234),i=n(227795);function s(e){let{controls:t}=e;return r.createElement("div",{className:"segmented_button--root--BlK0T"},t.map((t,n)=>{let{children:a,...s}=t;return r.createElement(i.K0,{...s,key:n,className:o()("segmented_button--button--HF0rV",{"segmented_button--disabled--Iawr-":s.disabled}),recordingKey:l.Pt(e,s.recordingKey||"")},r.createElement("span",null,a))}))}},467213:(e,t,n)=>{n.d(t,{J:()=>x});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m14.146 11.854 2 2a.5.5 0 0 0 .708-.708L15.707 12H19.5a.5.5 0 0 0 0-1h-3.793l1.147-1.146a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708m-3.292 0-2 2a.5.5 0 0 1-.708-.708L9.293 12H5.5a.5.5 0 0 1 0-1h3.793L8.146 9.854a.5.5 0 1 1 .708-.708l2 2a.5.5 0 0 1 0 .708M13 5.5a.5.5 0 0 0-1 0v12a.5.5 0 0 0 1 0z",clipRule:"evenodd"}))}function o(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708z",clipRule:"evenodd"}))}function l(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0m0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0M5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"}))}var s=n(243742),c=n(587670),d=n(595991),u=n(374626),p=n(646240),m=n(153234),g=n(46481),f=n(939863),_=n(356390),h=n(848661),E=n(113058),y=n(555074),v=n(279702),b=n(7959),w=n(538697),T=n(232531),N=n(221537),I=n(939791),S=n(893606),C=n(614851);function x(e){let t=(0,N.Wr)(),n=(0,u.md)(N.Kl),a=(0,u.md)(N.Md),o=(0,N.Fp)(),l=(0,r.useRef)(null),i=!e.visible||!(0,N.tH)(n),c="ui3"===(0,s.DP)().version;if((0,N.Nu)(!i,()=>o("minmax",null,N.qi.YES),l,e.widthHeightRowRef),i)return null;let d=0,p=0,m=[];function g(e){let t=null!=a&&a.widthOrHeight===e.widthOrHeight&&a.minOrMax===e.minOrMax;return r.createElement(R,{key:`${e.widthOrHeight}-${e.minOrMax}`,minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`})}function _(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return(0,f.tx)("properties.label.min_width");case"maxWidth":return(0,f.tx)("properties.label.max_width");case"minHeight":return(0,f.tx)("properties.label.min_height");case"maxHeight":return(0,f.tx)("properties.label.max_height")}}n.width.min&&(d++,m.push(t.width.min)),n.width.max&&(d++,m.push(t.width.max)),n.height.min&&(p++,m.push(t.height.min)),n.height.max&&(p++,m.push(t.height.max));let h=m.map(g),E=m.map(_);return d+p===1?c?r.createElement(I.fn,{ref:l,leftLabel:E[0],leftInput:h[0],rightLabel:null,rightInput:null,icon:null}):r.createElement(b.fI,{forwardedRef:l},h[0]):1===d&&1===p?c?r.createElement(I.fn,{ref:l,leftLabel:E[0],leftInput:h[0],rightLabel:E[1],rightInput:h[1],icon:null}):r.createElement(b.fI,{forwardedRef:l},h):d+p===2?c?r.createElement("div",{ref:l},r.createElement(I.fn,{ref:l,leftLabel:E[0],leftInput:h[0],rightLabel:null,rightInput:null,icon:null}),r.createElement(I.fn,{ref:l,leftLabel:E[1],leftInput:h[1],rightLabel:null,rightInput:null,icon:null})):r.createElement("div",{ref:l},r.createElement(b.fI,null,h[0]),r.createElement(b.fI,null,h[1])):c?r.createElement("div",{ref:l},r.createElement(I.fn,{leftLabel:_(t.width.min),leftInput:g(t.width.min),rightLabel:_(t.height.min),rightInput:g(t.height.min),icon:null}),r.createElement(I.fn,{leftLabel:_(t.width.max),leftInput:g(t.width.max),rightLabel:_(t.height.max),rightInput:g(t.height.max),icon:null})):r.createElement("div",{ref:l},r.createElement(b.fI,null,g(t.width.min),g(t.height.min)),r.createElement(b.fI,null,g(t.width.max),g(t.height.max)))}function A(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function R(e){let{minMaxApi:t,shouldFocus:n}=e,s=(0,y.kl)("isInstanceSublayerSelected"),b=(0,y.kl)(t.widthOrHeight),I=(0,y.kl)(t.minOrMaxWidthOrHeight),x=(0,N.Fp)(),R=(0,r.useRef)(0),k=(0,r.useRef)(new Map),O=(0,p.Xr)(N.Md),[P,D]=(0,u.fp)(N.Kl),M=(0,S.R)(),L=[];b!==t.value&&L.push(N.vC),L.push(N.Bn);let K=L.map(t=>{let n=(0,h.gl)(b);return r.createElement(w.c$,{recordingKey:m.Pt(e.recordingKey,"select",t),key:t,value:t,disabled:!!s||t===N.vC&&n})}),[F,B]=(0,N.GP)(t),U=r.useRef(null),z=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(t);var V=void 0;switch(t.widthOrHeight){case"width":V="min"===t.minOrMax?r.createElement(a,null):r.createElement(o,null);break;case"height":V="min"===t.minOrMax?r.createElement(l,null):r.createElement(i,null)}let H=r.createElement(g.U,{svg:F,fallbackSvg:B},V),X="width"===t.widthOrHeight?c._0v.X:c._0v.Y;r.useEffect(()=>{n&&(U.current?.focus(),U.current?.select())},[n]);let G=(0,N.VY)(t),{clearVariableConsumption:W}=(0,T.O)(z,c.rXF.FLOAT);class $ extends E.M{getValueForNode(e){return c.Egt.getNodeTransformProperties(e.guid)[t.minOrMaxWidthOrHeight]}setValueForNode(e,n,r){let a={[t.minOrMaxWidthOrHeight]:n};if(r&&k.current.has(e.guid)){let r=k.current.get(e.guid);a[t.widthOrHeight]=r;let o=(0,N.jz)(e,r,n,t.widthOrHeight);o!==r&&(a[t.widthOrHeight]=o),a.sizeChangeIsAutomatic=!0}c.Egt.setNodeTransformProperties(e.guid,a)}}return r.createElement(T.S,{id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,options:K,inputRef:U,outerClassName:"width"===t.widthOrHeight?C.Kw:C.X8,value:t.value,formatter:G,mixedMathHandler:new $,variableField:z,onScrubBegin:()=>{(0,h.gl)(I)?d.z.instance.getDirectlySelectedNodes().forEach(e=>{k.current.set(e.guid,e.size[X===c._0v.X?"x":"y"])}):"number"==typeof b?R.current=b:R.current=0},onScrubEnd:()=>{k.current.clear(),R.current=0},onChange:(e,n=v.zk.YES)=>{if(W(v.zk.NO),e===N.vC)"number"==typeof b&&t.set(b||null,v.zk.NO);else if(e===N.Bn){t.set(null,v.zk.NO);let e={[t.widthOrHeight]:{...P[t.widthOrHeight],[t.minOrMax]:!1}};D({...P,...e}),O(null)}else("number"==typeof e||null==e)&&t.set(e,v.zk.NO,R.current);n===v.zk.YES&&_.Y5.triggerAction("commit")},dropdownWidth:162,dropdownAlignment:"width"===t.widthOrHeight?"left":"right",noBorderOnFocus:!0,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,icon:H,tooltipText:A(t),showTooltipOnTargetOnly:M,"data-tooltip-max-width":200,onFocus:()=>x("minmax",{axis:X,renderLabels:!0},N.qi.YES),onBlur:()=>{x("minmax",{axis:X,renderLabels:!0},N.qi.YES_ONLY_MIN_MAX),O(null)},onMouseEnter:()=>x("minmax",{axis:X,renderLabels:!0}),onMouseLeave:()=>x("minmax",null),inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,source:"panel",allowEmpty:!0,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,f.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(t),omitValueFromDropdown:!0,shouldFocus:n,"aria-label":A(t),recordingKey:e.recordingKey,openBelowTarget:!0,shiftVariableOptionToAlign:!0})}},782033:(e,t,n)=>{n.d(t,{Je:()=>nc,vG:()=>nr,cU:()=>ns,zq:()=>nn,Ss:()=>nd,Ws:()=>ni});var r=n(411855),a=n(109388),o=n(188507),l=n(243742),i=n(587670),s=n(939683),c=n(966712),d=n(374626),u=n(153234),p=n(520581),m=n(347082),g=n(574176),f=n(348425),_=n(939863),h=n(293017),E=n(809831),y=n(356390),v=n(662531),b=n(617453),w=n(848661),T=n(227944),N=n(555074),I=n(29680),S=n(69961),C=n(100197),x=n(234945),A=n(498606),R=n(279145),k=n(420186),O=n(218973),P=n(898536),D=n(32067),M=n(572206),L=n(746806),K=n(44159),F=n(7959);function B(e){let t=(0,o.wA)(),n=new M.Mi(e.pickerShown?.initialX,e.pickerShown?.initialY),a=(0,o.d4)(e=>e.dropdownShown);return r.createElement(L.vx,{title:(0,_.t)("fullscreen.properties_panel.constraints_panel.constraints"),initialPosition:n,headerSize:"small",onClose:()=>{t(h.XE())}},r.createElement(F.Id,null,r.createElement(K.lc,{...e,dropdownShown:a})))}var U=n(891881),z=n(828614),V=n(33136),H=n(464558),X=n(410465),G=n(537545),W=n(64111);class $ extends X.I{}class Y extends X.Y{}class j extends r.PureComponent{constructor(){super(...arguments),this.getProperty=()=>(0,w.hS)(this.props.width)&&(0,w.hS)(this.props.height)?this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":w.oV,this.onChange=e=>{this.getProperty()!==e&&v.l7.user("toggle-frame-orientation",()=>{y.Y5.triggerAction("toggle-frame-orientation"),i.X3B.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){let e=this.getProperty(),t=!(0,w.hS)(this.props.resizeToFit)||this.props.resizeToFit;return r.createElement($,{className:"orientation_control--orientationControl--JG3io",disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},r.createElement(Y,{value:"PORTRAIT",svg:W.A,tooltip:(0,_.t)("fullscreen.properties_panel.orientation.portrait")}),r.createElement(Y,{value:"LANDSCAPE",svg:G.A,tooltip:(0,_.t)("fullscreen.properties_panel.orientation.landscape")}))}}j.displayName="OrientationControl";var q=n(766022),J=n(538697),Z=n(221537),Q=n(343559),ee=n(939791),et=n(460528);function en(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.146 8.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .707l-3 3a.5.5 0 1 1-.708-.707L9.793 11.5 7.146 8.854a.5.5 0 0 1 0-.708m9.708 0a.5.5 0 0 1 0 .708L14.207 11.5l2.647 2.646a.5.5 0 0 1-.708.707l-3-3a.5.5 0 0 1 0-.707l3-3a.5.5 0 0 1 .708 0",clipRule:"evenodd"}))}function er(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.707 0l-3-3a.5.5 0 0 1 .707-.708L11.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0m0 9.708a.5.5 0 0 1-.708 0L11.5 14.207l-2.646 2.647a.5.5 0 0 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708",clipRule:"evenodd"}))}function ea(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.354 8.146a.5.5 0 0 1 0 .708L7.207 11h9.586l-2.146-2.146a.5.5 0 0 1 .707-.708l3 3a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708-.707L16.793 12H7.207l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0",clipRule:"evenodd"}))}function eo(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.854 14.146a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.707L11 16.293V7.707L8.854 9.854a.5.5 0 0 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L12 7.707v8.586l2.146-2.147a.5.5 0 0 1 .708 0",clipRule:"evenodd"}))}var el=n(511315),ei=n(343798),es=n(707458),ec=n(629019),ed=n.n(ec),eu=n(776621),ep=n(46481),em=n(178466),eg=n(791489),ef=n(318812),e_=n(752795),eh=n(259927),eE=n(928526),ey=n(279702),ev=n(219101),eb=n(760066),ew=n(952675),eT=n(232531);function eN(e){return(0,w.hS)(e)&&null!=e&&e!==i.mKm.FIXED}function eI(){let e=(0,N.kl)("stackHorizontalSize"),t=(0,N.kl)("stackVerticalSize");return eN(e)||eN(t)}var eS=n(893606),eC=n(565831);function ex(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 5.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5m0 13a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5M8.797 8v8h1.207v-3.488h3.988V16h1.211V8h-1.21v3.477h-3.99V8z",clipRule:"evenodd"}))}function eA(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 18a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5m13 0a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5M7.604 8l1.882 8h1.03L12 10.062 13.485 16h1.029l1.882-8h-1.027l-1.384 5.88L12.515 8h-1.03l-1.47 5.88L8.63 8z",clipRule:"evenodd"}))}var eR=n(127285),ek=n(360882);function eO(e,t){return(n,r)=>{if(!(0,c.kc)().ce_relative_xywh||n.type!==eR.By.SYNTAX_UNRECOGNIZED)return;let a=(0,ek.v)(r);null!=a&&(r=(0,ek.q)(r),v.l7.user(e,()=>{t(r,a)!==ey.zk.NO&&i.glU.triggerAction("commit",{})}))}}var eP=n(784940),eD=n(614851),eM=n(633138),eL=n(222077);function eK(e,t){return eO(e,(e,n)=>i.glU.setNodeSelectionSizeWithAnchor(e,t,n)?ey.zk.YES:ey.zk.NO)}let eF=eK("relative-h",i._0v.Y),eB=eK("relative-w",i._0v.X),eU=(0,r.createContext)(null);function ez({children:e}){let[t,n]=(0,N.lJ)("height"),[a,o]=(0,N.lJ)("minHeight"),[l,s]=(0,N.lJ)("maxHeight"),c={key:"height",axis:i._0v.Y,dropdownAlignment:"right",limitIcon:eM.A,autolayoutMinMaxIcon:r.createElement(ex,null),removeLimitIcons:Z.XO.removeHeightLimit,relativeInputHandler:eF,value:t,minValue:a,maxValue:l,setValue:n,setMinValue:o,setMaxValue:s,stackSize:(0,N.kl)("stackVerticalSize"),isAuto:(0,eP.M9)().heightIsAuto,variableField:"HEIGHT",minMaxOptions:[Z.zn,Z.jw],strings:{dimAbbrev:(0,_.t)("fullscreen.properties_panel.transform_panel.h"),dim:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.height"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizing")},dimWithMinMax:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.height_min_max"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinMaxH")},dimWithMin:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.height_min"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinH")},dimWithMax:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.height_max"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMaxH")}},scrubbableInputClass:eD.sC};return r.createElement(eU.Provider,{value:c},e)}function eV({children:e}){let[t,n]=(0,N.lJ)("width"),[a,o]=(0,N.lJ)("minWidth"),[l,s]=(0,N.lJ)("maxWidth"),c={key:"width",axis:i._0v.X,dropdownAlignment:"left",limitIcon:eL.A,autolayoutMinMaxIcon:r.createElement(eA,null),removeLimitIcons:Z.XO.removeWidthLimit,relativeInputHandler:eB,value:t,minValue:a,maxValue:l,setValue:n,setMinValue:o,setMaxValue:s,stackSize:(0,N.kl)("stackHorizontalSize"),isAuto:(0,eP.M9)().widthIsAuto,variableField:"WIDTH",minMaxOptions:[Z.mw,Z.QG],strings:{dimAbbrev:(0,_.t)("fullscreen.properties_panel.transform_panel.w"),dim:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.width"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizing")},dimWithMinMax:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.width_min_max"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinMaxW")},dimWithMin:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.width_min"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinW")},dimWithMax:{fixed:(0,_.t)("fullscreen.properties_panel.transform_panel.width_max"),resizing:(0,_.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMaxW")}},scrubbableInputClass:eD.BP};return r.createElement(eU.Provider,{value:c},e)}function eH(){let e=(0,r.useContext)(eU);if(!e)throw Error("DimensionInputConfigContext not initialized!");return e}function eX(){return{next:{},numMatches:0,validWord:void 0}}function eG(){return{[(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug")]:i.mKm.HUG_CONTENT,[(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents")]:i.mKm.HUG_CONTENT,[(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")]:i.mKm.FILL_CONTAINER,[(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")]:i.mKm.FILL_CONTAINER}}let eW="dimension_input--dropdownIcon--IaH6E",e$="dimension_input--comboBoxInput--J0jWQ",eY={width:{[i.mKm.FILL_CONTAINER]:ea,[i.mKm.FIXED]:el.w,[i.mKm.HUG_CONTENT]:en},height:{[i.mKm.FILL_CONTAINER]:eo,[i.mKm.FIXED]:ei.T,[i.mKm.HUG_CONTENT]:er}};function ej(e){switch(e){case"FILL_CONTAINER":return i.mKm.FILL_CONTAINER;case"HUG_CONTENT":return i.mKm.HUG_CONTENT;case"FIXED":return i.mKm.FIXED;default:return null}}function eq({providedClassName:e,isHoveredOverInput:t,OriginalComponent:n}){let{stackSize:a}=eH(),o=(0,S.o3)(S.nt.ui3SeptemberLaunch);return r.createElement("div",{className:ed()("dimension_input--chevronContainer--CJdqK",{"dimension_input--ui3V2Chevron--IFgkr":o,"dimension_input--hoveredOverInput--Px1rP":t,"dimension_input--fixedLayoutChevron--rQyfR":a===i.mKm.FIXED})},r.createElement(n,{providedClassName:e}))}function eJ({checkSvg:e,selected:t,iconToReplaceCheck:n,icon:a,OriginalComponent:o}){return r.createElement(o,{ignoreCheck:!1,icon:r.createElement("div",{className:eW},a??n),iconToReplaceCheck:null,rightCheck:!1,selected:t,checkSvg:e})}function eZ(e){let t=parseFloat(e);return isNaN(t)?e:parseFloat(t.toFixed(2)).toString()}function eQ({property:e,stackSize:t,inputRef:n}){let a=(0,r.useMemo)(()=>null==t?[]:function(e,t){switch(e){case i.mKm.HUG_CONTENT:return[(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"),(0,_.t)("fullscreen.properties_panel.stack_panel.al.hug_with_value",{value:t})];case i.mKm.FILL_CONTAINER:return[(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill"),(0,_.t)("fullscreen.properties_panel.stack_panel.al.fill_with_value",{value:t})]}}(t,eZ(e)),[e,t]);return(0,eE.r)({options:a,optionClassname:"dimension_input--measuredInputText--E0PKL",inputRef:n})}function e0({OriginalComponent:e,property:t,onChange:n,...a}){let{stackSize:l,axis:s}=eH(),c=(0,Z.aj)(),d=e4(),u=function(e){let t=(0,r.useMemo)(eG,[]),n=(0,r.useMemo)(()=>(function(e){let t=eX();for(let n of e){let e=t;for(let t=0;t<n.length;t++){let r=n[t].toUpperCase();e.next[r]=e.next[r]??eX(),e.numMatches++,e=e.next[r]}e.validWord=n}return t})(Object.keys(t)),[t]);return(0,r.useCallback)(r=>{if(!r.length)return null;let a=new Set,o=function(e,t){let n=e;for(let e=0;e<t.length;e++){let r=t[e].toUpperCase();if(!(n=n.next[r]))return null}return n}(n,r);return o?(!function e(t,n){if(t.validWord&&!n(t.validWord))return!1;for(let r of Object.values(t.next))if(!e(r,n))return!1;return!0}(o,n=>{let r=t[n];return!e.has(r)||(a.add(r),!(a.size>1))}),1===a.size?i.mKm[Array.from(a)[0]]:null):null},[n,e,t])}(function(){let e=(0,o.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions);return(0,r.useMemo)(()=>new Set((e??e7).map(e=>e.size)),[e])}()),p=(0,r.useMemo)(()=>null==l||(0,w.gl)(l)||l===i.mKm.FIXED?null:i.mKm[l],[l]),m=(0,r.useRef)(null),{measurementNode:g,bestText:f}=eQ({property:t,stackSize:null!=l&&l!==i.mKm.FIXED&&(0,w.hS)(l)?l:null,inputRef:m}),h=(0,S.o3)(S.nt.ui3SeptemberLaunch),E=(0,r.useMemo)(()=>(function(e,t,n,r,a){let o={...e};Object.setPrototypeOf(o,Z.Zg.prototype);let l=o.format.bind(o);o.format=e=>a?"number"==typeof r?eZ(String(r)):l(e):n||l(e),a&&(o.incrementBy=(e,t,n)=>"number"==typeof r?r+t:e);let s=o.parse.bind(o);o.parse=e=>{let n=t(e);return null!=n?n:s(e)},o.incrementBy=(e,t,n)=>"number"==typeof r?r+t:e,o.getNudgeAmount=e.getNudgeAmount?.bind(e);let c=o.clamp?.bind(o);return c&&(o.clamp=e=>e===i.mKm[i.mKm.FILL_CONTAINER]||e===i.mKm[i.mKm.HUG_CONTENT]?e:c(e)),o.isEqual=(e,t)=>"string"==typeof e||"string"==typeof t?e===t:l(e)===l(t),o})(a.formatter,u,f,t,h),[a.formatter,u,f,t,h]),y=(0,r.useMemo)(()=>({...E,format:e=>"number"==typeof t?eZ(String(t)):E.format(e),incrementBy:(e,n,r)=>"number"==typeof t?t+n:e}),[E,t]),{forwardedRef:v}=a,b=((0,S.o3)(S.nt.ui3SeptemberLaunch)&&a.isHoveringOverSelect||a.shouldUseHoveringFormatterIfCombobox)&&!h?y:E,T=a.shouldUseHoveringFormatterIfCombobox||a.isHoveringOverSelect,N=(l===i.mKm.HUG_CONTENT||l===i.mKm.FILL_CONTAINER)&&!T&&h;return r.createElement("div",{className:"dimension_input--inputAndHug--bWNNM"},r.createElement(e,{...a,outerClassName:ed()(e$,{"dimension_input--hovering--YOErf":T,"dimension_input--fixedLayout--vOVTA":l===i.mKm.FIXED,"dimension_input--hugContent---kPR-":l===i.mKm.HUG_CONTENT,"dimension_input--fillContainer--xnfQH":l===i.mKm.FILL_CONTAINER,"dimension_input--ui3V2DimensionsComboBoxInput--bSEsi":h}),formatter:b,property:p??t,pillsContainerClassName:"dimension_input--comboBoxPillsContainer--Uv3fj",onChange:e=>{let t="string"==typeof e?ej(e):null;if(t){c(t,s),d(t,s);return}c(null,s),d(i.mKm.FIXED,s),n(e)},forwardedRef:(0,r.useCallback)(e=>{m.current=e,"function"==typeof v?v(e):v&&(v.current=e)},[v])}),N&&r.createElement("span",{className:"dimension_input--hugFillText--K76mr"},function(e){switch(e){case i.mKm.HUG_CONTENT:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case i.mKm.FILL_CONTAINER:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}(l??i.mKm.HUG_CONTENT)),r.createElement("div",{className:ed()(e$,"dimension_input--hideMeasurementNode--7MP1z")},g))}function e1(){let e=(0,N.kl)("nodesAreAllStacksOrInStacks"),{minValue:t,maxValue:n}=eH();return(!(0,e_.isNullish)(t)||!(0,e_.isNullish)(n))&&e}function e5(e){let{strings:t,value:n,setValue:a,key:o,variableField:l,relativeInputHandler:s,scrubbableInputClass:d}=eH(),m=(0,eS.R)(),g=eI(),f=m&&g,_=(0,eP.KG)({key:o,setValue:a}),h=(0,Z.f3)(),E=(0,eC.CC)();return h?r.createElement(e3,{onSizeConstraintClick:e.onSizeConstraintClick,onEvaluateExpressionError:s,disabled:E,recordingKey:u.Pt(e,`${o}Input`),showResizingTooltips:f}):r.createElement(p.E,{name:`${o}_input`},r.createElement(ev.e,{condition:!h,wrapper:t=>r.createElement(eb.sA,{recordingKey:u.Pt(e,`${o}InputWrapper`),fields:[l],disabled:e.disabled,resolvedType:i.rXF.FLOAT,currentFieldValue:(0,w.hS)(n)?n:void 0,inputClassName:d},t)},r.createElement(O.$j,{isTokenizable:!0,inputClassName:eD.hF,value:n??0,disabled:e.disabled,..._,onEvaluateExpressionError:s,noBorderOnHover:!0,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":f?t.dim.resizing:t.dim.fixed,"data-tooltip-show-on-target-only":m||void 0,tooltipForScreenReadersOnly:!m,dataTestId:`transform-${o}`,recordingKey:u.Pt(e,`${o}Input`),min:(0,c.kc)().editor_zero_width_input?eh.ak:void 0},r.createElement("span",{className:`${eD.QK} svg`},t.dimAbbrev))))}function e2({OriginalComponent:e,...t}){let{stackSize:n,axis:a}=eH(),o=(0,Z.aj)(),l=(0,r.useMemo)(()=>(0,w.hS)(n)&&null!=n?n:null,[n]);return r.createElement(e,{...t,property:null!=l?i.mKm[l]:t.property,openBelowTarget:!1,onOptionFocus:(e,n)=>{t.onOptionFocus?.(e,n),o(ej(e),a)},inputClassName:"dimension_input--selectInput--yZiCE"})}let e7=[];function e4(){let e=(0,s.am)(),t=(0,o.d4)(x.qd),n=(0,o.d4)(x.dK),a=t.map(e=>{let t=n.get(e);return t?.parentGuid});return(0,r.useCallback)((n,r)=>{v.l7.user("change-stack-layout-size",()=>{i.Qa7.setStackSizeOnSelection(n,r)}),e("Autolayout sizing changed",{axis:r,size:n,source:"dropdown",nodeIds:t,parentNodeIds:a})},[t,a,e])}function e3(e){let{minValue:t,maxValue:n,setValue:a,setMinValue:l,setMaxValue:s,key:c,axis:m,variableField:g,minMaxOptions:_,strings:h,autolayoutMinMaxIcon:E,limitIcon:v,dropdownAlignment:b,stackSize:T}=eH(),I=e1(),C=function(e){let t=(0,eS.R)(),n=(0,o.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions)??e7,{minMaxOptions:a,removeLimitIcons:l,key:s,axis:c}=eH(),d=(0,N.kl)("isInstanceSublayerSelected"),p=(0,N.kl)("isResponsiveNodeSelected"),m=e1();return(0,r.useMemo)(()=>{let o=[];if(t&&(n.forEach(e=>{let t=eY[s][e.size],n=e.disabled||p&&(e.size===i.mKm.FILL_CONTAINER||e.size===i.mKm.HUG_CONTENT&&c===i._0v.X);o.push(r.createElement(J.c$,{disabled:n,additionalStylesClassName:eD.wO,key:i.mKm[e.size],value:i.mKm[e.size],iconToReplaceCheck:r.createElement(t,null),dataTestId:`${i.mKm[e.size]}-${i._0v[c]}`}))}),o.push(r.createElement(J.sK,{key:"ui3-divider"}))),a.forEach(n=>{let[a,l]=Z.XO[n];o.push(r.createElement(J.c$,{additionalStylesClassName:eD.wO,iconToReplaceCheck:r.createElement(f.t,{className:t?eW:eD.vP,svg:a,fallbackSvg:l}),key:n,value:n,disabled:!!d,recordingKey:u.Pt(e,"select",n)}))}),m&&!d){let[n,a]=l;o.push(r.createElement(J.sK,{key:"first-divider"})),o.push(r.createElement(J.c$,{additionalStylesClassName:eD.wO,key:Z.zg,value:Z.zg,iconToReplaceCheck:r.createElement(f.t,{className:t?eW:eD.vP,svg:n,fallbackSvg:a}),recordingKey:u.Pt(e,"select",Z.zg)}))}return o},[m,d,p,a,e,l,t,n,s,c])}(e),x=(0,eP.KG)({key:c,setValue:a}),A=(0,Z.jQ)(c,e.onEvaluateExpressionError),[R,k]=(0,d.fp)(Z.Kl),[O,P]=(0,d.fp)(Z.Md),D=R[c].min||R[c].max,M=(0,Z.wf)(c),L=(0,Z.Fp)(),K=e4(),F=(0,eS.R)(),B=I?r.createElement("div",{className:eD.QK},r.createElement(ep.U,{svg:v,role:"img"},E)):r.createElement("span",{className:`${eD.QK} svg`},h.dimAbbrev),U=h.dim;null!=t&&null!=n?U=h.dimWithMinMax:null!=t?U=h.dimWithMin:null!=n&&(U=h.dimWithMax);let z=e.showResizingTooltips&&F?U.resizing:U.fixed,V=(0,Z.aj)(),H=(0,S.o3)(S.nt.ui3SeptemberLaunch);return r.createElement(ew.ow,{value:{select:F?e2:void 0,inputComponent:F?e0:void 0}},r.createElement(J.tV,{value:{chevron:F?eq:void 0,leftCheckIcon:F?eJ:void 0}},r.createElement(p.E,{name:`${c}_input_min_max_combobox`},r.createElement(eT.S,{id:`${c}Transform`,options:C,outerClassName:ed()(eD.Kw,{"dimension_input--ui3ComboBoxContainer--BbSLS":F,"dimension_input--v2UI3ComboBoxContainer--z-if1":H}),...function(e){let t=(0,eS.R)(),{value:n,isAuto:r,key:a}=eH(),o=r&&(0,w.hS)(n)&&!t,l=(0,Z.jQ)(a,void 0);return{value:o?void 0:n??0,placeholder:o?l.format(n):void 0}}(),formatter:A,variableField:g,onChange:(t,n)=>{if("number"==typeof t)x.onValueChange(t,n);else if(t===_[0])e.onSizeConstraintClick("min");else if(t===_[1])e.onSizeConstraintClick("max");else if(t===Z.zg)l(null,ey.zk.NO),s(null,ey.zk.NO),y.Y5.triggerAction("commit"),k({...R,[c]:{min:!1,max:!1}}),P(null);else if("string"==typeof t){let e=ej(t);null!=e&&K(e,m)}},dropdownWidth:F||I?173:147,tooltipText:z,showTooltipOnTargetOnly:F,iconId:`${c}-label`,icon:B,dropdownAlignment:b,"data-tooltip-max-width":200,disabled:e.disabled,scrubbingDisabled:e.disabled,onFocus:()=>L("minmax",{axis:m,renderLabels:!1},Z.qi.YES),onBlur:()=>{L("minmax",{axis:m,renderLabels:!1},Z.qi.YES_ONLY_MIN_MAX)},onMouseEnterNonPropagating:()=>{F&&V((0,w.hS)(T)&&null!=T?T:null,m)},onMouseEnter:()=>{L("minmax",{axis:m,renderLabels:!0})},onMouseLeave:()=>{L("minmax",null),F&&V(null,m)},onScrubBegin:F?()=>{V(null,m)}:void 0,onScrubClick:I||D?M:void 0,onKeyUp:x.onKeyUp,mixedMathHandler:x.mixedMathHandler,onMixedMathNudge:x.onMixedMathNudge,source:"panel",noBorderOnFocus:!0,omitValueFromDropdown:!0,openBelowTarget:!0,shiftVariableOptionToAlign:!0,inputTestId:`transform-${c}`,onboardingKey:`transform-${c}`,recordingKey:e.recordingKey}))))}var e6=n(344525),e8=n(682555),e9=n(438806),te=n(611730),tt=n(552789),tn=n(723472),tr=n(105752),ta=n(235107),to=n(445889),tl=n(190152),ti=n(507245);function ts(e){let t=(0,o.wA)(),n=(0,ef.Um)(),a=(0,o.d4)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions),[l,c]=(0,r.useState)(!1),d=(0,D.Tv)(),p=!1;e.axis===i._0v.Y&&d&&function(e){let t=new Set([]);for(let n of e){let r=es.q.instance.get(n);if(r&&r.parentGuid&&!t.has(r.parentGuid)&&(t.add(r.parentGuid),function(e,t){let n=e.parentNode,r=!1,a=!0;if(e&&n&&"WRAP"===n.stackWrap)for(let o of n.childrenGuids){t.find(e=>e===o)||(a=!1);let n=es.q.instance.get(o);o!==e.guid&&n&&"AUTO"===n.stackChildAlignSelf&&(r=!0)}return r&&!a}(r,e)))return!0}return!1}(d)&&(p=!0);let m=(0,o.d4)(e=>!!e.mirror.selectionProperties.isInstanceSublayerSelected),g=(0,s.am)(),h=(0,o.d4)(x.qd),E=(0,o.d4)(x.dK),y=h.map(e=>{let t=E.get(e);return t?.parentGuid}),b=(0,eS.R)(),T=m&&b,I=(0,r.useMemo)(()=>new td(e.axis),[e.axis]),S=(0,N.kl)("width"),C=(0,N.kl)("height"),R=(0,r.useMemo)(()=>new tu(e.axis,e.axis===i._0v.X?S:C),[e.axis,S,C]),k=tp(e.axis===i._0v.X?S:C,2),O=(0,r.useRef)(null),P=e.size,M=null!=k&&(0,w.hS)(k),L=eQ({property:M?`${k}`:"",stackSize:null!=P&&P!==i.mKm.FIXED&&(0,w.hS)(P)?P:null,inputRef:O});if(null==a)return null;let[K,F]=tc(e.axis,e.size),B=function(e,t){let n=e===i._0v.X;switch(t){case i.mKm.HUG_CONTENT:return n?r.createElement(en,null):r.createElement(er,null);case i.mKm.FILL_CONTAINER:return n?r.createElement(ea,null):r.createElement(eo,null);default:return n?r.createElement(el.w,null):r.createElement(ei.T,null)}}(e.axis,e.size);if(e.readOnly&&(0,w.hS)(e.size)){let t=tm(e.size);return r.createElement("div",{className:ed()(e.className,"stack_sizing_select_v5--flexContainer--nrpIK")},r.createElement(f.t,{svg:K,fallbackSvg:F,className:e6.Vb}),r.createElement("span",{className:"stack_sizing_select_v5--readOnlyText--Ik-gS ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}var U=m;for(let e of a)if(e.size===i.mKm.HUG_CONTENT||e.size===i.mKm.FILL_CONTAINER){U=!1;break}let z=a.map(t=>{let n=i.mKm[t.size],a=t.size===i.mKm.FILL_CONTAINER&&p,o=t.disabled||a,l="no-fill-component"===t.disabledReason?(0,_.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.no_fill_component"):a?(0,_.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.select_all_fill"):void 0;return r.createElement(J.c$,{key:t.size,value:t.size,recordingKey:u.Pt(e.recordingKey,"select",n),disabled:o,tooltip:l,tooltipType:A.Ib.TEXT,dataTestId:`${n}-${i._0v[e.axis]}`})}),V=em.Gq()?.getPrimaryLocale(!0),H=T?173:V===eg.Xn?150:210,X=e.axis===i._0v.X?r.createElement("span",{className:`${eD.QK} svg`},(0,_.tx)("fullscreen.properties_panel.transform_panel.w")):r.createElement("span",{className:`${eD.QK} svg`},(0,_.tx)("fullscreen.properties_panel.transform_panel.h")),G=M?`${k}`:void 0,{bestText:W,measurementNode:$}=M?L:{bestText:void 0,measurementNode:void 0},Y=T?X:r.createElement(ep.U,{svg:K,fallbackSvg:F},B);return r.createElement(r.Fragment,null,r.createElement(J.l6,{id:e.id,inputTextRef:O,className:e.className,inputClassName:ed()({"stack_sizing_select_v5--tightText--xHUXj":!b},"stack_sizing_select_v5--stackLayoutSizeInput--aB6Pd"),chevronClassName:"stack_sizing_select_v5--stackLayoutSizeChevron--xh9BG",dropdownShown:n,dispatch:t,property:e.size,formatter:T?R:I,icon:Y,onChange:t=>{null!=t&&(v.l7.user("set-stack-size",()=>i.Qa7.setStackSizeOnSelection(t,e.axis)),g("Autolayout sizing changed",{axis:e.axis,size:t,source:"dropdown",nodeIds:h,parentNodeIds:y}))},disabled:U,recordingKey:u.Pt(e,"select"),dropdownWidth:H,dropdownAlignment:e.dropdownAlignment,truncation:"none",onOptionFocus:(t,n)=>e.onHover(t??null,n),onMouseEnter:()=>{e.onHover((0,w.hS)(e.size)?e.size:null,"input"),c(!0)},onMouseLeave:()=>{e.onHover(null,"input"),c(!1)},onMouseDown:()=>{c(!1)},dropdownOverride:(b?l?G:W:void 0)??void 0,tooltip:e.axis===i._0v.X?(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.horizontal_resizing"):(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.vertical_resizing")},z),b&&r.createElement("div",{className:ed()("stack_sizing_select_v5--hideMeasurementNode--WbKf3")},$))}function tc(e,t){let n=e===i._0v.X;switch(t){case w.oV:return n?[tl.A]:[tt.A];case i.mKm.HUG_CONTENT:return n?[ti.A]:[tn.A];case i.mKm.FILL_CONTAINER:return n?[tr.A]:[e8.A];default:return n?[ta.A,to.A]:[e9.A,te.A]}}class td{constructor(e){this.axis=e}format(e){return null==e?"":tm(e)}formatExtended(e){if(null==e)return{text:""};let[t,n]=tc(this.axis,e);return{text:function(e,t){switch(t){case i.mKm.FIXED:return e===i._0v.X?(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_width"):(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_height");case i.mKm.HUG_CONTENT:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case i.mKm.FILL_CONTAINER:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e)||"",svg:t,fallbackSvg:n}}}class tu{constructor(e,t){this.axis=e,this.fixedSize=t}format(e){return null==e?"":function(e,t){switch(e){case i.mKm.FIXED:return tp(t);case i.mKm.HUG_CONTENT:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case i.mKm.FILL_CONTAINER:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}(e,this.fixedSize)}formatExtended(e){if(null==e)return{text:""};let[t,n]=tc(this.axis,e);return{text:function(e,t,n){switch(t){case i.mKm.FIXED:return e===i._0v.X?(0,_.t)("fullscreen.properties_panel.stack_panel.al.fixed.width",{value:tp(n)}):(0,_.t)("fullscreen.properties_panel.stack_panel.al.fixed.height",{value:tp(n)});case i.mKm.HUG_CONTENT:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case i.mKm.FILL_CONTAINER:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e,this.fixedSize)||"",svg:t,fallbackSvg:n}}}function tp(e,t=0){return(0,w.gl)(e)?(0,_.t)("fullscreen.mixed"):e?e.toFixed(e%1==0?0:t):((0,eu.x1)("UI3 merged autolayout picker StackSizingSelect","undefined fixedSize of instance sublayer"),"")}function tm(e){switch(e){case i.mKm.FIXED:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed");case i.mKm.HUG_CONTENT:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case i.mKm.FILL_CONTAINER:return(0,_.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}function tg(e){let t=(0,N.kl)("stackHorizontalSize"),n=(0,N.kl)("stackVerticalSize"),a=(0,Z.aj)(),{version:o}=(0,l.DP)();return null==t||null==n?null:"ui2"===o?r.createElement(F.fI,{"data-testid":"stack-sizing-row"},r.createElement(ts,{id:"stack-sizing-width",className:eD.oH,axis:i._0v.X,size:t,recordingKey:u.Pt(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>a(e,i._0v.X)}),r.createElement(ts,{id:"stack-sizing-height",className:eD.T1,axis:i._0v.Y,size:n,recordingKey:u.Pt(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>a(e,i._0v.Y)})):r.createElement(ee.fn,{"data-testid":"stack-sizing-row",leftLabel:(0,_.tx)("properties.label.resizing"),leftInput:r.createElement(ts,{id:"stack-sizing-width",className:eD.oH,axis:i._0v.X,size:t,recordingKey:u.Pt(e.recordingKey,"widthInput"),dropdownAlignment:"left",onHover:e=>a(e,i._0v.X)}),rightInput:r.createElement(ts,{id:"stack-sizing-height",className:eD.T1,axis:i._0v.Y,size:n,recordingKey:u.Pt(e.recordingKey,"heightInput"),dropdownAlignment:"right",onHover:e=>a(e,i._0v.Y)}),rightLabel:null,icon:null})}function tf(){let e=!t_(),t=(0,E.cJ)(),n=(0,S.o3)(S.nt.ui3ConstraintsV2)&&!t;return r.createElement("div",{className:ed()("constraints_preview_icon--container--n518S",{"constraints_preview_icon--isV2Constraints---SJMy":n})},r.createElement(th,{axis:"HORIZONTAL",disabled:e}),r.createElement("div",{className:tC(90)},r.createElement(th,{axis:"VERTICAL",disabled:e})),r.createElement(ty,{disabled:e}))}function t_(){let e=(0,V.t)();return!(e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning)}function th(e){let t=(0,V.t)(),n="HORIZONTAL"===e.axis?t.horizontalConstraint:t.verticalConstraint,a=(0,w.gl)(t.horizontalConstraint)||(0,w.gl)(t.verticalConstraint);if(a||e.disabled)return r.createElement(tE,{selected:a});switch(n){case"MIN":return r.createElement(r.Fragment,null,r.createElement(tT,{selected:!0}),r.createElement(tT,{rotation:180}));case"MAX":return r.createElement(r.Fragment,null,r.createElement(tT,null),r.createElement(tT,{rotation:180,selected:!0}));case"STRETCH":return r.createElement(r.Fragment,null,r.createElement(tT,{selected:!0}),r.createElement(tT,{rotation:180,selected:!0}));case"CENTER":return r.createElement(r.Fragment,null,r.createElement(tT,null),r.createElement(tT,{rotation:180}));case"SCALE":return r.createElement(r.Fragment,null,r.createElement(tN,{selected:!0}),r.createElement(tN,{rotation:180,selected:!0}));default:return r.createElement(tE,null)}}function tE(e){return r.createElement(r.Fragment,null,r.createElement(tT,{selected:e.selected}),r.createElement(tT,{selected:e.selected,rotation:180}))}function ty(e){let t=(0,V.t)(),n="CENTER"===t.horizontalConstraint,a="CENTER"===t.verticalConstraint,o=(0,w.gl)(t.horizontalConstraint)||(0,w.gl)(t.verticalConstraint);return n===a||o||e.disabled?r.createElement(tw,{selected:!e.disabled&&(n||o)}):r.createElement("div",{className:tC(a?0:90)},r.createElement(tb,{selected:!0}),r.createElement(tv,{rotation:90}))}function tv(e){return r.createElement("div",{className:tC(e.rotation||0)},r.createElement(tI,null),r.createElement(tI,{rotation:180}))}function tb(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(tS,{d:"M 9,12  L 15,12",...e}))}function tw(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(tS,{d:"M 9,12  L 15,12  M 12,9 L 12,15",...e}))}function tT(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(tS,{d:"M 5.5,9 L 5.5,15",rotation:e.rotation,selected:e.selected}))}function tN(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(tS,{d:"M 6.5,10  L 4.5,12 L 6.5,14",...e}))}function tI(e){return r.createElement("svg",{viewBox:"0 0 24 24"},r.createElement(tS,{d:"M 9,12  L 10,12",...e}))}function tS(e){return r.createElement("path",{d:e.d,fill:"none",className:ed()("constraints_preview_icon--line--z6ghs",tC(e.rotation||0),{"constraints_preview_icon--selected--GXU2-":e.selected})})}let tC=e=>{switch(e){case 0:return;case 90:return"constraints_preview_icon--rotate90--uayVi constraints_preview_icon--_rotate--2AAty";case 180:return"constraints_preview_icon--rotate180--lqQgR constraints_preview_icon--_rotate--2AAty"}};var tx=n(290022),tA=n(933466),tR=n(700829);function tk(e){return r.createElement(ez,null,r.createElement(e5,{...e}))}var tO=n(535904),tP=n(171975);function tD(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v1.5a.5.5 0 0 0 1 0V8a3 3 0 1 0-6 0v1.5a.5.5 0 0 0 1 0zm0 8a2 2 0 1 0 4 0v-1.5a.5.5 0 0 1 1 0V16a3 3 0 1 1-6 0v-1.5a.5.5 0 0 1 1 0zm2.5-6a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0z",clipRule:"evenodd"}))}function tM(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v1.5a.5.5 0 1 0 1 0V8a3 3 0 0 0-6 0v1.5a.5.5 0 0 0 1 0zm0 8a2 2 0 1 0 4 0v-1.5a.5.5 0 1 1 1 0V16a3 3 0 0 1-6 0v-1.5a.5.5 0 0 1 1 0z",clipRule:"evenodd"}))}var tL=n(776250),tK=n(877953),tF=n(553738),tB=n(277951),tU=n(48453),tz=n(402042),tV=n(505740);function tH(e){let[t,n]=(0,N.lJ)("proportionsConstrained"),a=(0,tK.C)("fpl_toggle_button"),o=(0,eS.R)(),l=()=>{(0,c.kc)().ce_properties_panel_tracking&&(0,tL.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:!(0,w._W)(t,!1)}),n(!(0,w._W)(t,!1))},i=(0,_.t)("fullscreen.properties_panel.transform_panel.constrain_proportions");return o?r.createElement(p.E,{name:"dimensions_constrained_toggle"},r.createElement(tO.d,{disabled:e.disabled,toggled:!!t,onClick:l,actionOnPointerDown:!0,recordingKey:u.Pt(e,"constrainProportionsToggle"),"aria-label":i,htmlAttributes:{"data-testid":"dimensions-constrained-toggle","data-tooltip":i,"data-tooltip-type":A.Ib.TEXT}},t?r.createElement(tD,null):r.createElement(tM,null))):a?r.createElement("div",{className:eD.xe},r.createElement(p.E,{name:"dimensions_constrained_toggle"},r.createElement(tP.f,{disabled:e.disabled,onChange:e=>{(0,c.kc)().ce_properties_panel_tracking&&(0,tL.sx)("editor-transform-panel-change",{key:"proportionsConstrained",value:e}),n(e)},checked:!!t,mixed:t===w.oV,recordingKey:u.Pt(e,"constrainProportionsToggle"),"aria-label":(0,_.t)("fullscreen.properties_panel.transform_panel.constrain_proportions"),onIcon:r.createElement(ep.U,{svg:tV.A},r.createElement(tD,null)),offIcon:r.createElement(ep.U,{svg:tz.A},r.createElement(tM,null))}))):r.createElement(p.E,{name:"dimensions_constrained_toggle"},r.createElement(tF.m,{disabled:e.disabled,toggled:(0,w._W)(t,!1),svg:t?tB.A:tU.A,fallbackSvg:t?tV.A:tz.A,className:eD.gb,onMouseDown:l,recordingKey:u.Pt(e,"constrainProportionsToggle"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":i}))}var tX=n(301462),tG=n(862782),tW=n(618945);function t$(e){let[t,n]=(0,N.lJ)("stackPositioning"),a=(0,s.am)(),l=(0,o.d4)(x.qd),c=(0,o.d4)(x.dK),d=l.map(e=>{let t=c.get(e);return t?.parentGuid});return r.createElement(tF.m,{svg:tG.A,fallbackSvg:tW.A,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.absolute_position"),onMouseDown:()=>{v.l7.user("set-stack-position",()=>{"ABSOLUTE"===t?(n("AUTO"),a("Remove Absolute Position")):(n("ABSOLUTE",ey.zk.NO),i.glU.bringSelectionToFrontVisually(),i.glU.triggerAction("commit",{}),tX.F.trackFromFullscreen("add_absolute_position",{source:"properties_panel",parent_node_ids:d}))})},recordingKey:u.Pt(e,"absolutePosition"),toggled:"ABSOLUTE"===t,disabled:e.disabled,className:eD.gb,dataTestId:"stack-positioning-toggle"})}var tY=n(434228);function tj(e){return(0,tY.O)(),r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 7a1 1 0 0 1 1-1h2.5a.5.5 0 1 1 0 1H7v2.5a.5.5 0 0 1-1 0zm12 0a1 1 0 0 0-1-1h-2.5a.5.5 0 1 0 0 1H17v2.5a.5.5 0 1 0 1 0zM7 18a1 1 0 0 1-1-1v-2.5a.5.5 0 0 1 1 0V17h2.5a.5.5 0 0 1 0 1zm11-1a1 1 0 0 1-1 1h-2.5a.5.5 0 1 1 0-1H17v-2.5a.5.5 0 1 1 1 0zm-8-7h4v4h-4zm-1 0a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z",clipRule:"evenodd"}))}var tq=n(227795);function tJ(e){let t=(0,N.kl)("nodesAreAllInsideStacks"),n=(0,eC.CC)(),[a,l]=(0,N.lJ)("stackPositioning"),d=(0,s.am)(),p=(0,N.kl)("isInstanceSublayerSelected"),m=(0,o.d4)(x.qd),g=(0,o.d4)(x.dK),f=m.map(e=>{let t=g.get(e);return t?.parentGuid});if(!(t&&!n))return null;let h={disabled:!!p,"data-tooltip":(0,_.t)("properties.tooltip.ignore_auto_layout"),"data-tooltip-type":A.Ib.TEXT,recordingKey:u.Pt(e,"absolutePosition")},E=()=>{v.l7.user("set-stack-position",()=>{"ABSOLUTE"===a?(l("AUTO"),d("Remove Absolute Position")):(l("ABSOLUTE",ey.zk.NO),i.glU.bringSelectionToFrontVisually(),i.glU.triggerAction("commit",{}),tX.F.trackFromFullscreen("add_absolute_position",{source:"properties_panel",parent_node_ids:f}))})};return(0,c.kc)().ce_tv_fpl_toggle_button?r.createElement(tP.f,{onChange:E,onIcon:r.createElement(tj,null),offIcon:r.createElement(tj,null),checked:"ABSOLUTE"===a,mixed:(0,w.gl)(a),variant:"highlighted","aria-label":(0,_.t)("properties.tooltip.ignore_auto_layout"),recordingKey:h.recordingKey,disabled:h.disabled,htmlAttributes:{"data-testid":"stack-positioning-toggle","data-tooltip":h["data-tooltip"],"data-tooltip-type":h["data-tooltip-type"]}}):r.createElement(tq.YW,{selected:"ABSOLUTE"===a,onMouseDown:E,dataTestId:"stack-positioning-toggle",...h},r.createElement(tj,null))}function tZ(e){return r.createElement(eV,null,r.createElement(e5,{...e}))}let tQ=eO("relative-x",(e,t)=>i.glU.setNodeSelectionOffsetWithAnchor(e,i._0v.X,t)?ey.zk.YES:ey.zk.NO);function t0(e){let[t,n]=(0,N.lJ)("x"),a=(0,eP.KG)({key:"x",setValue:n}),{version:o}=(0,l.DP)(),i="ui3"===o;return r.createElement(p.E,{name:"x_input"},r.createElement(O.gq,{...a,onEvaluateExpressionError:tQ,className:eD.BP,inputClassName:eD.hF,value:t,disabled:e.disabled,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":i?(0,_.t)("properties.tooltip.xposition"):(0,_.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!i,recordingKey:u.Pt(e.recordingKey,"xInput")},r.createElement("span",{className:`${eD.QK} svg`},(0,_.tx)("fullscreen.properties_panel.transform_panel.x"))))}let t1=eO("relative-y",(e,t)=>i.glU.setNodeSelectionOffsetWithAnchor(e,i._0v.Y,t)?ey.zk.YES:ey.zk.NO);function t5(e){let[t,n]=(0,N.lJ)("y"),a=(0,eP.KG)({key:"y",setValue:n}),{version:o}=(0,l.DP)(),i="ui3"===o;return r.createElement(p.E,{name:"y_input"},r.createElement(O.gq,{...a,onEvaluateExpressionError:t1,className:eD.BP,inputClassName:eD.hF,value:t,disabled:e.disabled,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":i?(0,_.t)("properties.tooltip.yposition"):(0,_.t)("fullscreen.properties_panel.transform_panel.y"),tooltipForScreenReadersOnly:!i,recordingKey:u.Pt(e.recordingKey,"yInput")},r.createElement("span",{className:`${eD.QK} svg`},(0,_.tx)("fullscreen.properties_panel.transform_panel.y"))))}var t2=n(467213),t7=n(662294),t4=n(91990),t3=n(595869),t6=n(324799),t8=n(695150),t9=n(708273),ne=n(287126),nt=n(332536);let nn=r.memo(function(e){let t=(0,eP.Df)(),n=(0,eP.Jo)(),a=(0,eS.R)(eS.G.READY),l=(0,N.kl)("stackMode"),s=null!=l&&"NONE"!==(0,w.E7)(l),c=(0,N.kl)("nodesAreAllInsideStacks"),d=(0,C.J2)(i.Ez5.propertiesPanelState().shownPropertiesPanels),p=a&&!d[i.ibQ.TRANSFORM_ITEM],g=t.framePresetsItem&&n.transform,f=d[i.ibQ.SITES_POSITION_ITEM],h=s||c,E=(0,r.useRef)(null),y=(0,o.d4)(x.qd),[v,b]=(0,P.Xw)(),T=r.createElement(nl,{transformDisabled:!n.transform,recordingKey:e.recordingKey,showFrameFitButton:!g&&!t.sectionItem,pickerShown:e.pickerShown,canEditConstraints:e.canEditConstraints,openFileKey:e.openFileKey}),I=r.createElement(r.Fragment,null,!a&&g&&e.propertiesPanelState===q.GR.DEFAULT_EXPANDED&&r.createElement(na,{recordingKey:e.recordingKey}),!e.onlyShowXYInputsRow&&T,!a&&r.createElement(r.Fragment,null,r.createElement(ni,{recordingKey:e.recordingKey,forwardedRef:E}),r.createElement(t2.J,{visible:!!h,widthHeightRowRef:E})),h&&!a&&r.createElement(tg,{recordingKey:u.Pt(e.recordingKey,"autolayoutSizing")}),(t.angle||!a&&t.cornerRadius)&&r.createElement(tx.Q,{key:y.join("-"),cornerRadiusShown:t.cornerRadius,cornerRadiusDisabled:!n.cornerRadius,rectangleCornersShown:t.rectangleCornerRadii,rectangleCornersDisabled:!n.rectangleCornerRadii,angleShown:t.angle,angleDisabled:!n.angle,recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&!a&&r.createElement(ns,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&!a&&r.createElement(nc,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),t.fixedFrameOptions&&!a&&r.createElement(tA.u,{recordingKey:e.recordingKey}),!a&&r.createElement(tR.e,{recordingKey:e.recordingKey}));return r.createElement(r.Fragment,null,!f&&r.createElement(m.p,{name:"transform_panel"},r.createElement(F.Zk,{"data-onboarding-key":a?null:et.W,"data-non-interactive":!0,...b},a&&r.createElement(Q.r,{titleTx:(0,_.tx)("fullscreen.appearance_panel.position"),icon:r.createElement(tJ,{recordingKey:e.recordingKey})}),a&&!e.onlyShowXYInputsRow&&r.createElement(t7.l,{isHoveringOverPanel:v,recordingKey:"alignPanel"}),e.onlyShowXYInputsRow&&T,!p&&!e.onlyShowXYInputsRow&&I)))});function nr(e){let t=(0,N.kl)("width"),n=(0,N.kl)("height"),a=(0,N.kl)("isInstanceSelected"),l=(0,N.kl)("isInstanceSublayerSelected"),i=(0,N.kl)("resizeToFit"),s=(0,N.kl)("canBecomeFrame"),c=(0,N.kl)("canBecomeGroup"),d=(0,N.kl)("canBecomeSection"),u=(0,N.kl)("isSection"),p=(0,N.kl)("isWidgetSelected"),m=(0,N.kl)("stackMode"),g=(0,D.O1)(),f=null!=g&&g.some(e=>e.type!==g[0].type),h=(0,eS.R)(),E=(0,o.d4)(e=>e.dropdownShown),y=(0,o.wA)();return r.createElement(H.Ij,{leftIcon:e.leftIcon,selectClassName:e.selectClassName,inputClassName:e.inputClassName,width:t,height:n,resizeToFit:i,stackMode:m,dispatch:y,dropdownShown:E,canBecomeFrame:!!s,canBecomeGroup:!!c,canBecomeSection:!!d,isSection:!!u,isOrInInstance:!!(a||l),isWidget:!!p,id:e.id,recordingKey:e.recordingKey,dropdownOverride:h&&f?(0,_.t)("fullscreen.mixed"):void 0})}let na=r.memo(function(e){let t=(0,eP.Df)(),n=(0,N.kl)("width"),a=(0,N.kl)("height"),i=(0,N.kl)("resizeToFit"),s=(0,N.kl)("stackMode"),c=(0,N.kl)("stackCounterSizing"),d=(0,o.d4)(e=>(0,R.Yh)(e.mirror.appModel,"resize-to-fit")),p=null!=s&&"NONE"!==s,m=p&&(0,w.hS)(c)&&"RESIZE_TO_FIT"===c,{version:g}=(0,l.DP)(),f=d?eD.xP:eD.iq,_=r.createElement(nr,{id:"frame-preset-dropdown",selectClassName:f,inputClassName:eD.KG,recordingKey:u.Pt(e,"framePresetDropdown")}),h=r.createElement(H.hw,{className:eD.gb,recordingKey:u.Pt(e,"frameFitButton")});return"ui3"===g?r.createElement(ee.fn,{leftLabel:null,leftInput:_,rightLabel:null,rightInput:null,icon:t.sectionItem&&(!d||m)?null:h}):r.createElement(F.fI,null,_,d&&!p&&r.createElement(j,{width:n,height:a,resizeToFit:i,recordingKey:u.Pt(e,"frameOrientation")}),d&&!m&&r.createElement(r.Fragment,null,h))});function no(){let e=eI(),t=(0,eS.R)();return e&&t?(0,_.tx)("properties.label.resizing"):(0,_.tx)("properties.label.dimensions")}function nl(e){let t="xy-inputs-row",n=(0,N.kl)("nodesAreAllInsideStacks"),i=(0,N.kl)("stackPositioning"),s=(0,N.kl)("isInstanceSublayerSelected"),{version:c}=(0,l.DP)(),m=(0,o.wA)(),g=t_()&&e.canEditConstraints,f=r.useRef(null),y=(0,o.d4)(e=>e.dropdownShown),v=!!n&&"AUTO"===i||e.transformDisabled,b=!!n,w=(0,V.t)(),I=(0,K.bO)(e.openFileKey),[C,x]=(0,d.fp)(r.useMemo(()=>(0,d.E3)("has_user_expanded_ui3_constraints_ui",!1),[])),R=(0,K.a4)("HORIZONTAL"),O=(0,K.a4)("VERTICAL"),P=(0,E.cJ)(),D=(0,S.o3)(S.nt.ui3ConstraintsV2)&&!P,M=(0,T.Zr)("resize-to-fit"),L=e.showFrameFitButton&&M&&!b;if("ui2"===c)return r.createElement(F.fI,{dataTestId:"x-y-inputs-row"},r.createElement(t0,{disabled:v,recordingKey:e.recordingKey}),r.createElement(t5,{disabled:v,recordingKey:e.recordingKey}),L&&r.createElement(H.hw,{className:eD.gb}),b&&r.createElement(t$,{disabled:!!s,recordingKey:e.recordingKey}));let X=()=>e.pickerShown&&e.pickerShown.id===t?e.pickerShown:null,G=X(),W=r.createElement(U.K,{id:"width-select",axis:"HORIZONTAL",constraint:w.horizontalConstraint,updateConstraints:I,someConstraintItemsSelected:w.someConstraintItemsSelected,disableStretchScaleConstraints:R,dispatch:m,dropdownShown:y,recordingKey:u.Pt(e,"width")}),$=r.createElement(U.K,{id:"height-select",axis:"VERTICAL",constraint:w.verticalConstraint,updateConstraints:I,someConstraintItemsSelected:w.someConstraintItemsSelected,disableStretchScaleConstraints:O,dispatch:m,dropdownShown:y,recordingKey:u.Pt(e,"height")}),Y=r.createElement(p.E,{name:"constraint_selector"},r.createElement(z.f,{horizontalConstraint:w.horizontalConstraint,verticalConstraint:w.verticalConstraint,someConstraintItemsSelected:w.someConstraintItemsSelected,updateConstraints:I,disableHorizontalStretchScaleConstraints:R,disableVerticalStretchScaleConstraints:O,dispatch:m,recordingKey:u.Pt(e,"constraintSelector")})),j=D?()=>x(!C):e=>{if(e.stopPropagation(),X())m(h.XE());else{let e=(0,k.cn)(a.findDOMNode(f.current));m(h.u1({id:t,initialX:e.x,initialY:e.y}))}},q=D?C:!!G;return r.createElement(r.Fragment,null,r.createElement(ee.fn,{ref:f,"data-testid":"x-y-inputs-row",leftLabel:(0,_.tx)("properties.label.position"),leftInput:r.createElement(t0,{disabled:v,recordingKey:e.recordingKey}),rightLabel:null,rightInput:r.createElement(t5,{disabled:v,recordingKey:e.recordingKey}),icon:g?r.createElement(F.YW,{onClick:j,onMouseDown:e=>e.stopPropagation(),selected:q,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.constraints_panel.constraints"),recordingKey:u.Pt(e,"constraintsButton")},r.createElement(tf,null)):null}),G&&!D&&r.createElement(B,{pickerShown:G,openFileKey:e.openFileKey,recordingKey:u.Pt(e,"constraintsModal")}),g&&C&&D?r.createElement(ee.sY,{topLeftInput:W,bottomLeftInput:$,rightInput:Y,leftLabel:(0,_.t)("fullscreen.properties_panel.constraints_panel.constraints"),rightLabel:null,topIcon:null,bottomIcon:null}):null)}function ni(e){let t=(0,N.kl)("stackMode"),[n,a]=(0,d.fp)(Z.Kl),[o,i]=(0,d.fp)(Z.Md),u=null!=t&&"NONE"!==t,p=(0,eP.AY)(),m=(0,Z.Fp)(),g=(0,s.am)(),f=(0,Z.hl)(),_=(0,eP.Jo)().size,{widthIsAuto:h,heightIsAuto:E}=(0,eP.M9)(),{version:y}=(0,l.DP)();(0,I.f4)(()=>{a(Z.p3),i(null),m("minmax",null,Z.qi.YES)});let v=e=>{g("Expanded min max property",e);let t={...n,[e.widthOrHeight]:{...n[e.widthOrHeight],[e.minOrMax]:!0}},r="min"===e.minOrMax?"max":"min",o=f[e.widthOrHeight][e.minOrMax],l=f[e.widthOrHeight][r];!o&&l&&(t[e.widthOrHeight][r]=!0),a(t),i(e)},b=(0,N.kl)("isInstanceSublayerSelected");return"ui2"===y?r.createElement(F.fI,{forwardedRef:e.forwardedRef,dataTestId:"width-height-row"},r.createElement(tZ,{disabled:h||!_,onSizeConstraintClick:e=>{v({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),r.createElement(tk,{disabled:E||!_,onSizeConstraintClick:e=>{v({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),((0,c.kc)().ce_aspect_ratio_locking||!u)&&!p&&r.createElement(tH,{disabled:!_,recordingKey:e.recordingKey})):b?r.createElement(tg,{recordingKey:e.recordingKey}):r.createElement(ee.fn,{"data-testid":"width-height-row",leftLabel:r.createElement(no,null),leftInput:r.createElement(tZ,{disabled:h||!_,onSizeConstraintClick:e=>{v({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),rightLabel:null,rightInput:r.createElement(tk,{disabled:E||!_,onSizeConstraintClick:e=>{v({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),icon:!(0,c.kc)().ce_aspect_ratio_locking&&u||p?null:r.createElement(tH,{disabled:!_,recordingKey:e.recordingKey})})}function ns(e){let{version:t}=(0,l.DP)(),[n,a]=(0,N.lJ)("count"),[i,s]=(0,N.lJ)("starInnerScale"),{smallNudgeAmount:c,bigNudgeAmount:d,wheelMultiplier:p,scrubMultiplier:m}=(0,eP.Xs)(),f=(0,o.wA)(),h=e.countShown&&r.createElement(O.Ht,{className:eD.BP,inputClassName:eD.hF,value:n,disabled:e.countDisabled,smallNudgeAmount:c,wheelMultiplier:p,onValueChange:a,dispatch:f,recordingKey:u.Pt(e,"countInput"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.count"),dataTestId:"count-input",bigNudgeAmount:10,scrubMultiplier:.1*c,resolution:.01,min:3,max:60},e.starInnerScaleShown&&r.createElement(g.B,{className:eD.QK,svg:ne.A}),!e.starInnerScaleShown&&r.createElement(g.B,{className:eD.QK,svg:t6.A})),E=e.starInnerScaleShown&&r.createElement(O.w2,{className:eD.sC,inputClassName:eD.hF,value:i,disabled:e.starInnerScaleDisabled,smallNudgeAmount:c,bigNudgeAmount:d,wheelMultiplier:p,scrubMultiplier:m,onValueChange:s,dispatch:f,recordingKey:u.Pt(e,"starInnerScaleInput"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,min:.001},r.createElement(g.B,{className:eD.QK,svg:nt.A}));return"ui3"===t&&E?r.createElement(ee.fn,{leftLabel:(0,_.tx)("properties.label.count"),leftInput:h,rightLabel:(0,_.tx)("properties.label.angle"),rightInput:E,icon:null}):"ui3"===t?r.createElement(ee.fn,{leftLabel:(0,_.tx)("properties.label.count"),leftInput:h,rightLabel:null,rightInput:null,icon:null}):r.createElement(F.fI,{dataTestId:"count-scale-inputs-row"},h,E)}let nc=r.memo(function(e){let[t,n]=(0,N.lJ)("arcStart"),[a,i]=(0,N.lJ)("arcSweep"),[s,c]=(0,N.lJ)("arcRadius"),{smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f}=(0,eP.Xs)(),h=(0,o.wA)(),{version:E}=(0,l.DP)();return"ui3"!==E?r.createElement(F.fI,null,r.createElement("div",{className:eD.Cs},r.createElement(g.B,{className:eD.QK,svg:t4.A}),r.createElement(O.Zp,{className:eD.fm,inputClassName:eD.PK,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f,onValueChange:n,dispatch:h,recordingKey:u.Pt(e,"arcStart"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!0}),r.createElement(O.w2,{className:eD.t5,inputClassName:eD.PK,value:a,smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f,onValueChange:i,dispatch:h,recordingKey:u.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!0}),r.createElement(O.w2,{className:eD.eC,inputClassName:eD.PK,value:s,smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f,onValueChange:c,dispatch:h,recordingKey:u.Pt(e,"arcRatio"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!0}))):r.createElement(ee.DE,{label:(0,_.tx)("properties.label.arc"),icon:null,input:r.createElement("div",{className:eD.Xq},r.createElement(O.Zp,{className:eD.fm,inputClassName:eD.hF,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f,onValueChange:n,dispatch:h,recordingKey:u.Pt(e,"arcStart"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!1},r.createElement(g.B,{className:eD.QK,svg:t4.A})),r.createElement(O.w2,{className:eD.t5,inputClassName:eD.PK,value:a,smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f,onValueChange:i,dispatch:h,recordingKey:u.Pt(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!1}),r.createElement(O.w2,{className:eD.eC,inputClassName:eD.PK,value:s,smallNudgeAmount:d,bigNudgeAmount:p,wheelMultiplier:m,scrubMultiplier:f,onValueChange:c,dispatch:h,recordingKey:u.Pt(e,"arcRatio"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!1}))})});function nd(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,b.sT)();return r.createElement(nu,{...e,bigNudgeAmount:t,smallNudgeAmount:n})}function nu(e){let{smallNudgeAmount:t,bigNudgeAmount:n}=e,a={wheelMultiplier:t,scrubMultiplier:t,smallNudgeAmount:t,bigNudgeAmount:n},o=r.createElement(O.gq,{className:eD.BP,inputClassName:eD.hF,value:e.x,...a,onValueChange:(e,t)=>{y.Y5.updateSelectionProperties({x:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:u.Pt(e,"xInput"),mixedMathCallback:v.nc.user("apply-mixed-method-for-vector-network",e=>{i.Egt.applyMixedMathForSelectedVectorNetwork(i._0v.X,e)})},r.createElement("span",{className:eD.QK},(0,_.tx)("fullscreen.properties_panel.transform_panel.x"))),l=r.createElement(O.gq,{className:eD.sC,inputClassName:eD.hF,value:e.y,...a,onValueChange:(e,t)=>{y.Y5.updateSelectionProperties({y:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:u.Pt(e,"yInput"),mixedMathCallback:v.nc.user("apply-mixed-method-for-vector-network",e=>{i.Egt.applyMixedMathForSelectedVectorNetwork(i._0v.Y,e)})},r.createElement("span",{className:eD.QK},(0,_.tx)("fullscreen.properties_panel.transform_panel.y"))),s=r.createElement(ng,{handleMirroring:e.handleMirroring,dispatch:e.dispatch,dropdownShown:e.dropdownShown,recordingKey:u.Pt(e,"mirroring"),isUI3:e.isUI3}),c=r.createElement(O.$j,{className:eD.BP,inputClassName:eD.hF,value:e.cornerRadius,...a,onValueChange:(e,t)=>{y.Y5.updateSelectionProperties({cornerRadius:e},{shouldCommit:t})},dispatch:e.dispatch,recordingKey:u.Pt(e,"cornerRadiusInput"),"data-tooltip-type":A.Ib.TEXT,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.corner_radius")},r.createElement(g.B,{className:eD.QK,svg:t3.A}));return r.createElement(m.p,{name:"vector_transform_panel"},r.createElement(F.Zk,null,r.createElement(F.fI,null,r.createElement(F.xw,null,(0,_.tx)("fullscreen.properties_panel.transform_panel.vector"))),e.isUI3?r.createElement(r.Fragment,null,r.createElement(ee.fn,{leftLabel:(0,_.tx)("fullscreen.properties_panel.section_vector.label_position"),leftInput:o,rightLabel:null,rightInput:l,icon:null}),r.createElement(ee.DE,{label:(0,_.tx)("fullscreen.properties_panel.section_vector.label_mirroring"),input:s,icon:null}),r.createElement(ee.fn,{leftLabel:(0,_.tx)("fullscreen.properties_panel.section_vector.label_radius"),leftInput:c,rightLabel:null,rightInput:null,icon:null})):r.createElement(r.Fragment,null,r.createElement(F.fI,null,o,l),r.createElement(F.fI,null,s),r.createElement(F.fI,null,c))))}class np extends J.l6{}class nm extends J.c${}class ng extends r.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return(0,_.t)("fullscreen.properties_panel.transform_panel.no_mirroring");case"ANGLE":return(0,_.t)("fullscreen.properties_panel.transform_panel.mirror_angle");case"ANGLE_AND_LENGTH":return(0,_.t)("fullscreen.properties_panel.transform_panel.mirror_angle_and_length")}}},this.onChange=e=>y.Y5.updateSelectionProperties({handleMirroring:e})}render(){let e=this.props.isUI3?void 0:r.createElement(f.t,{svg:t8.A,fallbackSvg:t9.A});return r.createElement(np,{id:"handle-mirroring-select",className:eD.GC,inputClassName:eD.i6,chevronClassName:eD.r,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,icon:e,iconClassName:eD.jC},r.createElement(nm,{value:"NONE",recordingKey:u.Pt(this.props,"NONE")}),r.createElement(nm,{value:"ANGLE",recordingKey:u.Pt(this.props,"ANGLE")}),r.createElement(nm,{value:"ANGLE_AND_LENGTH",recordingKey:u.Pt(this.props,"ANGLE_AND_LENGTH")}))}}ng.displayName="HandleMirroring"},662294:(e,t,n)=>{n.d(t,{l:()=>S});var r=n(411855),a=n(905111),o=n(900638),l=n(674462),i=n(713649),s=n(271352),c=n(151736),d=n(921095),u=n(583080),p=n(186913),m=n(136769),g=n(368014),f=n(734919),_=n(153234),h=n(762638),E=n(939863),y=n(356390),v=n(227944),b=n(499777),w=n(498606),T=n(898536),N=n(939791),I=n(372717);function S(e){let t=(0,v.Zr)("align-left"),n=(0,v.Zr)("align-horizontal-center"),y=(0,v.Zr)("align-right"),b=(0,v.Zr)("align-top"),w=(0,v.Zr)("align-vertical-center"),S=(0,v.Zr)("align-bottom"),x=C(),[A,R]=(0,r.useState)(!1),k=(0,v.vm)(T.oW),O=A&&e.isHoveringOverPanel&&k,P=(0,r.useCallback)(e=>{R(e.altKey||e.shiftKey)},[]);(0,r.useEffect)(()=>{function e(){R(!1)}return document.addEventListener("keydown",P),document.addEventListener("keyup",P),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",P),document.removeEventListener("keyup",P),window.removeEventListener("blur",e)}},[P]);let D=r.createElement(I.t,{controls:O?[x("align-left-as-group",r.createElement(a.X,null),!0),x("align-horizontal-center-as-group",r.createElement(o.d,null),!0),x("align-right-as-group",r.createElement(l.s,null),!0)]:[x("align-left",r.createElement(i.K,null),t),x("align-horizontal-center",r.createElement(s.E,null),n),x("align-right",r.createElement(c.F,null),y)],recordingKey:_.Pt(e.recordingKey,"alignButton")}),M=r.createElement(I.t,{controls:O?[x("align-top-as-group",r.createElement(d.j,null),!0),x("align-vertical-center-as-group",r.createElement(u.V,null),!0),x("align-bottom-as-group",r.createElement(p.H,null),!0)]:[x("align-top",r.createElement(m.Q,null),b),x("align-vertical-center",r.createElement(g.O,null),w),x("align-bottom",r.createElement(f.u,null),S)],recordingKey:_.Pt(e.recordingKey,"alignButton")}),L=(0,v.yU)(T.Rg),K=r.createElement(T.gf,{actions:T.Rg,recordingKey:e.recordingKey});return e.inSlidesPanel?r.createElement("div",{className:h.cx.flex.p8.gap8.itemsCenter.$},r.createElement("div",{className:h.cx.flexGrow1.$},D),r.createElement("div",{className:h.cx.flexGrow1.$},M),r.createElement(T.gf,{actions:T.Rg,disabled:!L,recordingKey:e.recordingKey})):r.createElement(N.fn,{leftLabel:(0,E.tx)("fullscreen.properties_panel.section_position.label_alignment"),leftInput:D,rightLabel:null,rightInput:M,icon:L?K:null,"data-test-id":"alignPanel"})}let C=()=>{let e=(0,b.Xo)();return r.useCallback((t,n,r)=>({"aria-label":t,"data-tooltip":t,"data-tooltip-type":w.Ib.LOOKUP,children:n,disabled:!r,onMouseDown:t=>{e?.id.startsWith("paint")&&t.stopPropagation()},onClick:()=>{y.Y5.triggerActionInUserEditScope(t)},recordingKey:t}),[e])}},149988:(e,t,n)=>{n.d(t,{g:()=>c});var r=n(411855),a=n(629019),o=n.n(a),l=n(617453),i=n(100197),s=n(939791);let c=(0,r.forwardRef)(function({leftLabel:e,leftInput:t,rightLabel:n,rightInput:a,appendedClassName:l,...i},s){return r.createElement("div",{className:o()("ui3_slides_rows--ui3SlidesTwoInputRow--z1gLz ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",l),ref:s,...i,"data-non-interactive":!0},null!=e?r.createElement(d,null,e):null,r.createElement("div",{className:"ui3_slides_rows--ui3SlidesRowInput1--w4RUc","data-non-interactive":!0},t),null!=n?r.createElement(u,null,n):null,r.createElement("div",{className:"ui3_slides_rows--ui3SlidesRowInput2--YL2N7","data-non-interactive":!0},a))});function d({children:e,alwaysShowLabel:t}){return(0,i.J2)((0,l.UK)().showPropertyLabels)||t?r.createElement("span",{"aria-hidden":"true",className:"ui3_slides_rows--ui3SlidesRowLabelFirst--XzGgY ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0","data-non-interactive":!0},e):r.createElement(s.my,null)}function u({children:e}){return(0,i.J2)((0,l.UK)().showPropertyLabels)?r.createElement("span",{"aria-hidden":"true",className:"ui3_slides_rows--ui3SlidesRowLabelSecond--AtE-a ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0","data-non-interactive":!0},e):r.createElement(s.my,null)}},228737:(e,t,n)=>{n.d(t,{_i:()=>nd,nq:()=>nm});var r=n(411855),a=n(188507),o=n(752795),l=n(535904),i=n(767129),s=n(527395),c=n(326331),d=n(313177),u=n(523679),p=n(31524),m=n(221768),g=n(139689),f=n(470370),_=n(201706),h=n(587670),E=n(629019),y=n.n(E),v=n(794272),b=n(966712),w=n(646240),T=n(374626),N=n(153234),I=n(96328),S=n(520581),C=n(347082),x=n(762638),A=n(939863),R=n(278733),k=n(392592),O=n(934533),P=n(824189),D=n(626217),M=n(103907),L=n(723081),K=n(798099),F=n(809831),B=n(226055),U=n(356390),z=n(662531),V=n(617453),H=n(369870),X=n(848661),G=n(618056),W=n(555074),$=n(29680),Y=n(335682),j=n(69961),q=n(100197),J=n(601607),Z=n(234945),Q=n(498606),ee=n(121003),et=n(273226),en=n(567488),er=n(224690),ea=n(132572),eo=n(853284),el=n(157147),ei=n(753630),es=n(675678),ec=n(96796),ed=n(776621),eu=n(318812),ep=n(720488),em=n(227795),eg=n(841368),ef=n(842700),e_=n(860601),eh=n(728325),eE=n(855418),ey=n(279145),ev=n(405206),eb=n(212478),ew=n(206074),eT=n(334290),eN=n(724258);function eI(e){let t=(0,eu.BK)("UI3_PROPERTIES_TOOLBAR_OVEFLOW_DROPDOWN"),n=(0,a.wA)(),i=(0,r.useMemo)(()=>{let t=e.enabledToolbarItems.map(t=>t.map(t=>{var n;return t.type===el.ZU.ACTION_SUBMENU?(n=e.recordingKey,0===t.items.length?null:1===t.items.length?eS(t.items[0],n):{displayText:t.getTitle(),icon:r.createElement("div",{className:eN.zc},t.icon),recordingKey:t.recordingKey,children:t.items.map(e=>eS(e,n))}):eS(t,e.recordingKey)}).filter(o.isNotNullish));return t.reduce((e,n,r)=>(e=e.concat(n),r<t.length-1&&e.push({separator:!0,displayText:""}),e),[])},[e.enabledToolbarItems,e.recordingKey]),s=(0,r.useRef)(null),c=s.current?.getBoundingClientRect();return c||(t.showing&&(0,ed.$D)(es.FigmaTeam.EDITOR_USABILITY,Error("UI3ToolbarOverflowMenu: dropdownBoundingRect is null")),c=new DOMRect(0,0,0,0)),r.createElement(r.Fragment,null,r.createElement(l.d,{recordingKey:N.Pt(e,"toggleOverflowMenu"),toggled:t.showing,ref:s,"aria-label":(0,A.t)("fullscreen.properties_panel.tooltip_moreActions"),onClick:()=>t.toggle(),htmlAttributes:{"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,A.t)("fullscreen.properties_panel.tooltip_moreActions")}},r.createElement(eg.J,null)),t.showing&&r.createElement(ew.j,{recordingKey:"overflowMenuDropdown",dispatch:n,parentRect:c,onSelectItem:e_.lQ,showPoint:!1,items:i}))}function eS(e,t){return e.type===el.ZU.CUSTOM_ACTION?{displayText:e.getTitle(),render:()=>r.createElement(ex,{item:e,key:e.recordingKey,recordingKey:t})}:{displayText:e.action,render:()=>r.createElement(eC,{item:e,key:e.recordingKey,recordingKey:t})}}function eC(e){let{item:t}=e,n=(0,a.d4)(Z.nj),o=(0,a.d4)(e=>(0,ei.om)(t,e)),l=(0,ey.Yh)(n,t.action),i=("focus-mode-component-set-toggle"===t.action?eT.U4(l,o)?.tooltipProps?.["data-tooltip"]:null)??(0,eb.Jg)(t.action),s=(0,ey.c1)(n.keyboardShortcuts,t.action),c=eh.VU.get(t.action,"toolbar");return r.createElement(ev.a1,{text:i,isEnabled:l,hideCheck:!0,isChecked:!1,onPointerUp:c,key:t.action,shortcut:s,recordingKey:N.Pt(e,t.recordingKey)},eE.bs(t.action)?.ui3Icon||r.createElement(ef.V,null))}function ex(e){let{item:t,recordingKey:n}=e;return r.createElement(ev.a1,{text:t.getTitle(),isEnabled:!0,hideCheck:!0,isChecked:!1,onClick:t.onClick,key:t.recordingKey,recordingKey:N.Pt(n,t.recordingKey)},t.icon)}var eA=n(144119);function eR(e){let t=(0,r.useRef)(null),n=(0,eu.BK)(e.flyoutConfig.dropdownKey),a=t.current?.getBoundingClientRect(),o=e.flyoutConfig.actions.map(t=>r.createElement(eC,{item:t,key:t.action,recordingKey:N.Pt(e.recordingKey,"flyout")}));a||(n.showing&&(0,ed.$D)(es.FigmaTeam.EDITOR_USABILITY,Error("UI3MultiSelectFlyoutActions: dropdownBoundingRect is null")),a=new DOMRect(0,0,0,0));let l=(0,M.n6)(),i=e.flyoutConfig.actions[0];return r.createElement(r.Fragment,null,r.createElement("div",{className:"ui3_multiselect_flyout_actions--iconAndChevronContainer--zXnfO"},r.createElement(ei.QE,{key:i.recordingKey,item:i,numUnreadComments:l,recordingKey:N.Pt(e.recordingKey,"default")}),e.flyoutConfig.actions.length>1&&r.createElement(em.YW,{recordingKey:N.Pt(e.recordingKey,"chevron"),className:"ui3_multiselect_flyout_actions--chevron--JPONb",selected:n.showing,ref:t,"aria-label":e.flyoutConfig.getTooltip(),onMouseDown:n.toggle,"data-tooltip-type":Q.Ib.TEXT,onClick:K.dG,"data-tooltip":e.flyoutConfig.getTooltip()},r.createElement(ec.O,null))),n.showing&&r.createElement(ep.Cf,{targetRect:a,showPoint:!1,propagateCloseClick:!0},o))}function ek(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected)??0,t=eO(),n=(0,eA.sO)(),r=(0,j.o3)(j.nt.ui3SelectionActionsHoisting);return e<2||n||r?[]:[el.ej].map(t).filter(Boolean).filter(e=>e&&e.actions.length>1)}function eO(){let e=(0,ei.z2)(),t=(0,ei.PK)();return n=>{let r=n.actions.filter(n=>e(n)&&t(n));return 0===r.length?null:(0,el.oX)(n,r)}}var eP=n(721489),eD=n(974898),eM=n(324666),eL=n(872429),eK=n(346124),eF=n(738269),eB=n(559681),eU=n(452883),ez=n(352046);let eV="SLIDES_TEXT_STYLE_ACTIONS_DROPDOWN";function eH({rowRef:e,recordingKey:t}){let n=(0,a.wA)(),o=r.useRef(null),i=(0,a.d4)(e=>e.dropdownShown?.type===eV),s=(0,eU.$)(),c=(0,eB.Xo)(s),d=(0,J.wA)((e,t)=>t.reduce((t,n)=>{let r=e.get(n);return r&&(t[n]=r.fontSize),t},{}),c.map(e=>e.node_id)),u=r.useCallback(e=>({displayText:e.name,sideText:d[e.node_id]?(0,A.t)("slides.properties_panel.text.style_description_font_size",{fontSize:(0,eK.roundToTwoDecimalPlaces)(d[e.node_id])}):void 0,callback:z.nc.user("replace-text-style",()=>{h.glU.updateExistingStyleFromSelection("inheritTextStyleKey",e.node_id)}),recordingKey:e.name}),[d]),p=(0,ez.o)(e),m=r.useMemo(()=>[{displayText:(0,A.t)("slides.properties_panel.text_style.replace_style"),children:[{displayText:(0,A.t)("slides.properties_panel.text_styles.styles"),header:!0},...c.map(u)],recordingKey:"replaceStyle"},{displayText:(0,A.t)("slides.properties_panel.text_style.add_new_style"),callback:p,recordingKey:"addToTheme"}],[c,u,p]);return r.createElement(r.Fragment,null,r.createElement(l.d,{"aria-label":(0,A.t)("slides.properties_panel.text_style.more_actions"),ref:o,toggled:i,onClick:()=>{i?n(eF.oB()):n(eF.j7({type:eV}))},recordingKey:t},r.createElement(eg.J,null)),i&&o.current&&r.createElement(ew.j,{dispatch:n,items:m,onSelectItem:e=>{e.callback&&e.callback()},showPoint:!1,lean:"right",openSubmenuToTheLeft:!0,parentRect:o.current?.getBoundingClientRect(),minWidth:208,recordingKey:N.Pt(t,"menu"),shouldUsePortal:!0}))}var eX=n(32067),eG=n(353822),eW=n(771768),e$=n(965908),eY=n(754369),ej=n(690122),eq=n(412297),eJ=n(366165),eZ=n(721478),eQ=n(151575),e0=n(914905),e1=n(7959),e5=n(538697),e2=n(696008),e7=n(690710),e4=n(238093),e3=n(609572),e6=n(782033),e8=n(893606),e9=n(131418),te=n(340860),tt=n(468971),tn=n(939791);function tr(){let e=(0,tt.MO)();if(!e)return null;let{file_name:t,url:n}=e;return r.createElement(tn.Ad,{appendedClassName:"ui3_fragment_community_attribution--ui3DescriptionRow--sAQFO",label:null,input:r.createElement("a",{href:n,className:"ui3_fragment_community_attribution--ui3DescriptionButton--aLiCP",target:"_blank",rel:"noopener noreferrer"},r.createElement(te.N,null),r.createElement("div",{className:"ui3_fragment_community_attribution--ui3DescriptionText--B0-1J ellipsis--ellipsis--Tjyfa"},t))})}var ta=n(380620),to=n(434228);function tl(e){return(0,to.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.011 12c.068 1.496.436 2.819.944 3.728A4.5 4.5 0 0 1 7.027 12zm1.002 0c.059 1.185.324 2.222.673 2.963.2.424.408.712.585.88.13.124.208.15.229.156.021-.005.098-.032.23-.156.176-.168.384-.456.584-.88.35-.741.614-1.778.674-2.963zm2.975-1h-2.976c.06-1.185.325-2.222.674-2.963.2-.424.408-.712.585-.88.13-.124.208-.15.229-.156.021.005.098.032.23.156.176.168.384.456.584.88.35.741.614 1.778.674 2.963m1 1c-.067 1.496-.435 2.819-.943 3.728A4.5 4.5 0 0 0 15.973 12zm1.985-1h-1.984c-.068-1.496-.436-2.819-.944-3.728A4.5 4.5 0 0 1 15.973 11m1.005 0a5.5 5.5 0 1 0 0 1H17v-1zM9.01 11H7.027a4.5 4.5 0 0 1 2.928-3.728c-.508.91-.876 2.232-.944 3.728",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.063 16.98A.14.14 0 0 1 12 17c-.005 0-.024 0-.063-.02a.8.8 0 0 1-.198-.153c-.18-.183-.388-.498-.584-.969-.348-.835-.596-2.01-.646-3.358h2.982c-.05 1.349-.298 2.523-.646 3.358-.196.47-.404.786-.584.969a.8.8 0 0 1-.198.153m1.428-5.48h-2.982c.05-1.349.298-2.523.646-3.358.196-.47.404-.786.584-.969a.8.8 0 0 1 .198-.154C11.977 7 11.995 7 12 7s.024 0 .063.02c.043.02.11.065.198.153.18.183.388.498.584.969.348.835.596 2.01.646 3.358m1 1c-.06 1.736-.427 3.263-.971 4.265a5 5 0 0 0 3.455-4.265zm2.484-1h-2.484c-.06-1.737-.427-3.263-.971-4.265a5 5 0 0 1 3.455 4.265m-7.466 0c.06-1.737.427-3.263.971-4.265A5 5 0 0 0 7.025 11.5zm-2.484 1c.2 2.01 1.59 3.67 3.455 4.265-.544-1.002-.912-2.529-.971-4.265zM18 12a6 6 0 1 0-12 0 6 6 0 0 0 12 0",clipRule:"evenodd"}))}var ti=n(902634),ts=n(183686),tc=n(523099),td=n(915440),tu=n(279453);function tp(e){return!!e&&!!e?.hubFile}let tm="ui3_instance_attribution_button--iconDefault--0g0Lj";function tg(e){let t=(0,a.d4)(Z.dT),{backingSymbolGUID:n}=(0,eY.$)(t),o=function(){let e=(0,a.d4)(Z.dT),{backingSymbolGUID:t,singleBackingSymbol:n,isBackingSymbolShared:r}=(0,eY.$)(e),o=n?.sourceLibraryKey??"",l=(0,td.Rs)(tu.Eb,{libraryKey:o});return null==t||(0,X.gl)(t)||!r?null:l}(),l=o?.data?.libraryKeyToFile,i=function(){let e=(0,a.d4)(Z.dT),{backingSymbolGUID:t,isBackingSymbolShared:n}=(0,eY.$)(e);return!(null==t||(0,X.gl)(t))&&!n}(),{text:s,icon:c,tooltip:d}=(0,r.useMemo)(()=>{if(i)return{text:(0,A.t)("design_systems.instance_panel.local_instance"),icon:r.createElement(p.y,{className:tm}),tooltip:(0,A.t)("design_systems.instance_panel.go_to_main_component")};if(!l)return{};if(tp(l))return{text:l.hubFile?.currentHubFileVersion?.name,icon:r.createElement(tl,{className:tm}),tooltip:(0,A.t)("design_systems.instance_panel.view_library_in_community")};{let e=function(e){if(!e)return!1;let t=(e.file?.library?.approvedLibraries??[]).length>0;return!tp(e)&&t}(l);return{text:l.file?.name,icon:e?r.createElement(ti.U,{className:tm}):r.createElement(ts.l,{className:tm}),tooltip:(0,A.t)("design_systems.instance_panel.go_to_main_component_nin_library")}}},[l,i]);return!i&&o&&"loaded"!==o.status?r.createElement("div",{className:"ui3_instance_attribution_button--loadingPlaceholder--6uYUv"}):s&&c?r.createElement("div",{className:"ui3_instance_attribution_button--instanceAttributionHeader--QC-Fh"},r.createElement(ta.E,{className:"ui3_instance_attribution_button--ui3DescriptionButton--ikoS6",onClick:function(){n&&!(0,X.gl)(n)&&h.glU.goToSymbolOrStateGroupById(n,!0)},recordingKey:N.Pt(e.recordingKey,"instanceAttributionButton"),htmlAttributes:{"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":d}},r.createElement("div",{className:"ui3_instance_attribution_button--content--fh3rr"},r.createElement("div",{className:"ui3_instance_attribution_button--ui3DescriptionText--oW5ap ellipsis--ellipsis--Tjyfa"},s),r.createElement("div",{className:"ui3_instance_attribution_button--iconContainer--KrzPT"},c,r.createElement(tc.E,{className:"ui3_instance_attribution_button--iconHover--zpzOS"}))))):null}var tf=n(421757),t_=n(672517),th=n(988022),tE=n(636227),ty=n(72754),tv=n(266294);function tb(){let e=(0,a.wA)(),t=(0,a.d4)(e=>e.openFile),n=(0,a.d4)(e=>e.fileVersion),o=(0,tE.Yc)(),l=(0,tE.d_)(),i=(0,eX.O1)(),s=i?.length===1&&"SYMBOL"===i[0].type,c=(0,ty.A)();return l&&c.length&&!s&&o().get("enabled",!1)?r.createElement(t_.fu,{name:"Slides conversion properties panel entrypoint"},r.createElement(tn.Ad,{appendedClassName:x.cx.pt4.$,label:null,input:r.createElement(tf.IK,{variant:"secondary",onClick:()=>{(0,th.Cu)({trackingContext:"Slides conversion properties panel entrypoint",name:"slides_conversion_properties_panel_entrypoint"}),(0,tv.fx)(t,n,!0).then(t=>{(0,tv.PF)(e,t)})}},(0,A.t)("slides.general.copy_to_figma_slides"))})):null}var tw=n(202512),tT=n(877723),tN=n(296799),tI=n(222478),tS=n(709731),tC=n(30075),tx=n(384775),tA=n(601902),tR=n(503429),tk=n(328849),tO=n(358145),tP=n(719624),tD=n(52339),tM=n(877822),tL=n(572206),tK=n(799569),tF=n(946689),tB=n(896474);function tU(e,t){let{numCols:n,wrapType:a}=t,o=(0,r.useCallback)((e,t)=>{if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key))return;let r=Array.from(t.children),o=r.findIndex(e=>e===document.activeElement);if(-1===o)return;let l=Math.ceil(r.length/n),i=r[function(e,t,n,r,a){let o=Math.floor(t/r),l=t%r;switch(e){case"ArrowUp":-1==--o&&"sameRowOrCol"===a&&(o=n-1);break;case"ArrowDown":++o===n&&"sameRowOrCol"===a&&(o=0);break;case"ArrowRight":++l===r&&("sameRowOrCol"===a?l=0:"nextRow"===a&&(l=0,++o===n&&(o=0)));break;case"ArrowLeft":-1==--l&&("sameRowOrCol"===a?l=r-1:"nextRow"===a&&(l=r-1,-1==--o&&(o=n-1)))}return o=Math.max(0,Math.min(n-1,o)),l=Math.max(0,Math.min(r-1,l)),o*r+l}(e.key,o,l,n,a)];i instanceof HTMLElement&&i.focus()},[n,a]);(0,r.useEffect)(()=>{let t=e.current;if(!t)return;let n=e=>o(e,t);return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[e,o])}var tz=n(499777),tV=n(670652),tH=n(746806),tX=n(141273),tG=n(67048),tW=n(773912),t$=n(978258),tY=n(60656),tj=n(156182),tq=n(263086);function tJ(e){let{onClick:t,toggled:n,recordingKey:a,children:o}=e;return r.createElement(ta.E,{className:y()("slides_rewrite_toggle_button--presetButton--5vrax utilities--bodyMedium--7-YGK",{"slides_rewrite_toggle_button--toggled--HPAli":n}),onClick:t,recordingKey:a},o)}var tZ=n(992739),tQ=n(326186);let t0="slides_rewrite_tone_dial--grid--BdFH2",t1="slides_rewrite_tone_dial--layerOverlay--of9-9";function t5(){return r.createElement("div",{className:"slides_rewrite_tone_dial--container--exlMg"},r.createElement(t2,null),r.createElement(t3,null),r.createElement(t6,null))}function t2(){let{setPositionAndRun:e}=(0,r.useContext)(tY.u),t=(0,r.useRef)(null);tU(t,{numCols:3});let n=(0,r.useCallback)((n,r)=>{if(!t.current)return;let{clientX:a,clientY:o}=n;e(a&&o?(0,tQ.fp)(a,o,t.current.getBoundingClientRect()):r,{source:"grid_click"})},[e]),a=(0,r.useMemo)(()=>[{pos:[-1,1],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_professional_concise")},{pos:[0,1],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_professional")},{pos:[1,1],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_professional_expanded")},{pos:[-1,0],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_concise")},{pos:[0,0],label:(0,A.t)("slides.properties_panel.rewrite_text.reset")},{pos:[1,0],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_expanded")},{pos:[-1,-1],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_casual_concise")},{pos:[0,-1],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_casual")},{pos:[1,-1],label:(0,A.t)("slides.properties_panel.rewrite_text.tone_casual_expanded")}].map(({pos:[e,t],label:a})=>{let o=`(${e},${t})`,l=[e*t$.Zz,t*t$.Zz],i=0===e&&0===t?t7:t4;return r.createElement(i,{key:o,onClick:e=>n(e,l),ariaLabel:a})}),[n]);return(0,r.useEffect)(()=>{t.current?.focus()},[]),r.createElement("div",{className:y()(t0,"slides_rewrite_tone_dial--gridLayer--mhWQF"),ref:t,tabIndex:-1,"aria-label":(0,A.t)("slides.properties_panel.rewrite_text.tone_grid"),role:"group"},a)}function t7(e){let[t,n]=(0,r.useState)(!1),{tonePosition:a}=(0,r.useContext)(tY.u),[o,l]=a,{state:i}=(0,tS.wj)(tI.JT.SLIDES_REWRITE_TEXT),s=(0,tO.ZC)(i),c=Math.abs(o)<tQ.fm&&Math.abs(l)<tQ.fm;(0,r.useEffect)(()=>{i===tS.qy.INITIAL?n(!1):s===tS.qy.RUNNING&&i!==tS.qy.RUNNING&&n(!0)},[s,i]);let d=t&&{"aria-label":(0,A.t)("slides.properties_panel.rewrite_text.reset"),"data-tooltip":(0,A.t)("slides.properties_panel.rewrite_text.reset"),"data-tooltip-type":"text","data-tooltip-offset-y":20,"data-tooltip-show-above":!0};return r.createElement(t4,{...e,...d},r.createElement(tZ.m,{className:y()("slides_rewrite_tone_dial--resetIcon--RMSRg",{"slides_rewrite_tone_dial--hovering---Zuqf":c,"slides_rewrite_tone_dial--visible--oHQ3n":t})}))}function t4(e){let{ariaLabel:t,...n}=e;return r.createElement("button",{className:"slides_rewrite_tone_dial--gridCell--NBFxs","aria-label":t,...n})}function t3(){let{tonePosition:e}=(0,r.useContext)(tY.u),[t,n]=e,a="ja"===(0,b.mm)()[0],o=n>tQ.fm,l=t>tQ.fm,i=n<-tQ.fm,s=t<-tQ.fm,c=(e,t,n)=>y()("slides_rewrite_tone_dial--label--7p8gg",e,{"slides_rewrite_tone_dial--highlighted--2uaO1":t,"slides_rewrite_tone_dial--japaneseLeftLabel--9UVf2":n});return r.createElement("div",{className:y()(t0,t1),"aria-hidden":!0},r.createElement("div",{className:c("slides_rewrite_tone_dial--top--Gmg5H",o)},(0,A.tx)("slides.properties_panel.rewrite_text.tone_professional")),r.createElement("div",{className:c("slides_rewrite_tone_dial--right--mSpd2",l)},(0,A.tx)("slides.properties_panel.rewrite_text.tone_expanded")),r.createElement("div",{className:c("slides_rewrite_tone_dial--bottom--ST24k",i)},(0,A.tx)("slides.properties_panel.rewrite_text.tone_casual")),r.createElement("div",{className:c("slides_rewrite_tone_dial--left--rkVeC",s,a)},(0,A.tx)("slides.properties_panel.rewrite_text.tone_concise")))}function t6(){let{tonePosition:e}=(0,r.useContext)(tY.u),t=(0,r.useRef)(null),{onMouseDown:n,isDragging:a}=(0,tQ.uG)(t),o=(0,r.useMemo)(()=>{let[t,n]=e.map(e=>(e+1)/2).map(e=>`${100*e}%`);return{left:t,bottom:n}},[e]);return r.createElement("div",{className:t1,ref:t,"aria-hidden":!0},r.createElement("button",{className:y()("slides_rewrite_tone_dial--dial--o-ejL",{"slides_rewrite_tone_dial--dragging--N345O":a}),style:o,onMouseDown:n,tabIndex:-1}))}let t8=(0,r.memo)(function({onClose:e}){let t=(0,T.md)(tz.F),n=new tL.Mi(t?.initialX,t?.initialY),a=(0,r.useRef)(null);return(0,r.useEffect)(()=>()=>{(0,tS.B3)(tI.JT.SLIDES_REWRITE_TEXT)},[]),(0,tQ.wi)(a,e),r.createElement(tH.vx,{initialPosition:n,initialWidth:240,onClose:e,ref:a},r.createElement(t9,{onClose:e}),r.createElement(ne,{recordingKey:"slidesToneDial"}))});function t9(e){let{onClose:t}=e;return r.createElement("div",{className:x.cx.flex.gap8.itemsCenter.p8.pl16.bb1.bSolid.colorBorder.$},r.createElement("div",{className:x.cx.textBodyMediumStrong.flex1.$},(0,A.tx)("slides.properties_panel.rewrite_text.adjust_tone")),r.createElement(tG.G,{location:"SLIDES_REWRITE_MODAL"}),r.createElement(tK.Jn,{onClick:t}))}let ne=(0,r.memo)(function({recordingKey:e}){let{tonePosition:t,setTonePosition:n}=(0,tQ.Ib)(),[a,o]=(0,r.useState)(()=>t),{originalNodeInfos:l,saveOriginalNodeInfos:i,resetOriginalNodeInfos:s,revertNodeToOriginalNodeInfo:c}=(0,tQ.cR)(),{slidesTextResizeCallback:d}=(0,tq.DX)(tI.JT.SLIDES_REWRITE_TEXT),{shiftAllNodesOutOfSlideMargins:u,resetShiftedNodes:p,resetNodePositionMap:m}=(0,tq.eX)(),g=(0,tq.FT)(c,u,d),f=(0,r.useCallback)(()=>{n(a)},[a,n]),_=(0,r.useCallback)(({tones:e})=>{o((0,tQ.JU)(e))},[]),{enqueueRun:h,lastParameters:E,longRunningAction:y,cancel:v}=(0,tQ.h$)(i,g,f,_),b=(0,r.useCallback)(()=>{E&&(n((0,tQ.JU)(E.tones)),h(E))},[h,E,n]);(0,tQ.Os)(b),(0,tQ.PF)(y.state,()=>{s(),m(),n([0,0]),o([0,0]),(0,tS.B3)(tI.JT.SLIDES_REWRITE_TEXT)}),(0,tQ.xf)(t,()=>{s(),m(),o([0,0]),(0,tS.B3)(tI.JT.SLIDES_REWRITE_TEXT)}),(0,tQ.Jp)(y.state);let w=(0,r.useCallback)((e,t)=>{n(e);let r=(0,tQ.p$)(e);if(y.state===tS.qy.RUNNING&&v(),!r?.length){(0,tQ.Cw)(l,c),p(),m(),n([0,0]),o([0,0]),(0,tS.B3)(tI.JT.SLIDES_REWRITE_TEXT),(0,tj.G)({eventName:"reset",source:t.source}),U.Y5.commit();return}h({tones:r}),(0,tj.G)({eventName:"ran_rewrite",tones:r.map(e=>e.tone).join(", "),source:t.source,preset:t.preset})},[v,h,y.state,l,m,p,c,n]),T=(0,r.useMemo)(()=>({tonePosition:t,setTonePosition:n,setPositionAndRun:w}),[w,t,n]);return r.createElement("div",{className:x.cx.flex.flexColumn.gap16.p16.$},r.createElement(tY.u.Provider,{value:T},r.createElement(t5,null),r.createElement(nt,{recordingKey:e}),r.createElement(nn,null)))});function nt({recordingKey:e}){let{tonePosition:t,setPositionAndRun:n}=(0,r.useContext)(tY.u),o=(0,T.md)((0,tP.iV)(tC.Sn.REWRITE)),l=(0,a.wA)(),s=r.useRef(null);tU(s,{numCols:2});let c=(0,tM.AY)(tP.YH),d=o=>{let{localizedText:l,position:i,trackingText:s}=t$.fG[o],c=(0,tQ.cx)(i),d=(0,a.bN)(t,c);return r.createElement(tJ,{toggled:d,onClick:()=>n(c,{source:"preset",preset:s}),recordingKey:N.Pt(e,"presets",s)},l)},u=(0,tX.II)(),p=(0,b.kc)().figjam_ai_piper_action_transitions&&(0,b.kc)().qa_text_features&&u;return r.createElement("div",null,r.createElement("div",{className:x.cx.flex.justifyBetween.itemsCenter.mb16.textBodyMedium.colorTextSecondary.$},p?(0,A.tx)("slides.properties_panel.rewrite_text.or_pick_a_preset_or_rewrite"):(0,A.tx)("slides.properties_panel.rewrite_text.or_pick_a_preset"),p&&r.createElement(i.K,{"aria-label":(0,A.t)("slides.properties_panel.rewrite_text.rewrite_redirect"),onClick:()=>{o||(c(),(0,tx.$I)({moduleToOpen:{type:"custom",module:r.createElement(tV.w,null),name:tC.Sn.REWRITE,beforeModuleOpen:()=>{(0,tS.B3)(tI.JT.REWRITE_TEXT)}},trackingData:{source:"slides_adjust_tone_rewrite_view"}})),(0,tQ.o$)(l)},htmlAttributes:{"data-tooltip":(0,A.t)("slides.properties_panel.rewrite_text.rewrite_redirect"),"data-tooltip-type":"text","data-tooltip-show-above":!0,"data-testid":"rewrite-this-transition-button"}},r.createElement(tD.T,null))),r.createElement("div",{ref:s,className:x.cx.grid.gap8.gridTemplateColumns2.gridTemplateRows2.$,"aria-label":(0,A.t)("slides.properties_panel.rewrite_text.tone_presets"),role:"group"},d("executive"),d("technical"),d("basic"),d("educational")))}function nn(){return r.createElement("div",{className:x.cx.textBodySmall.colorTextSecondary.fontNormal.overflowBreakWord.$},(0,A.tx)("whiteboard.ai_modal.disclaimer"),r.createElement(tF.Us,{trusted:!0,href:tW.nG,className:y()(x.cx.inlineBlock.cursorDefault.$,"slides_rewrite_modal--disclaimerLink--a2jK5"),style:R.sx.add({verticalAlign:"bottom"}).$,target:"_blank","data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,A.t)("whiteboard.ai_modal.learn_more"),"aria-label":(0,A.t)("whiteboard.ai_modal.learn_more"),innerText:"learn more"},r.createElement(tB.In,{icon:"info-16",fill:"secondary"})))}function nr(){let e=(0,a.wA)(),t=na(),n=(0,r.useCallback)(()=>{(0,tQ.o$)(e)},[e]);return t?r.createElement(t8,{onClose:n}):null}function na(){return(0,T.md)(tQ.Tm)}function no(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17 16.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h2a.5.5 0 0 0 0-1h-2A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0zm-5-10a.5.5 0 0 0 .5.5h3.793l-4.147 4.146a.5.5 0 0 0 .708.708L17 7.707V11.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0-.5.5",clipRule:"evenodd"}))}var nl=n(511617),ni=n(641160);let ns="toolbarView",nc=new L.J;function nd({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t,shouldShowSlidesTypePanel:n,recordingKey:o,withBottomBorder:l=!0}){let i=(0,e8.R)(e8.G.READY),s=(0,q.J2)(h.Ez5.editorState().selectionEmpty),c=(0,D.s)(!1),d=(0,r.useRef)(null),u=(0,w.Xr)(e0.h),p=(0,j.o3)(j.nt.ui3SelectionActionsHoisting),m=(0,V.qw)(),g=2===nI()?2:3;p&&(g+=1,m>=280&&(g+=1)),(0,r.useEffect)(()=>{u(d)},[u]);let f=(0,r.useRef)(null),_=ng(e,f),E=ek(),A=nh(_,d),k=(0,W.kl)("containsResponsiveSets"),O=(0,r.useRef)(null),L=nv({shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e}),K=function(){let e=(0,eX.O1)();return!e||e.length<=1||[new Set(["VECTOR","STAR","LINE","ELLIPSE","RECTANGLE","REGULAR_POLYGON","ROUNDED_RECTANGLE"])].some(t=>e.every(e=>t.has(e.type)))||e.every(t=>t.type===e[0].type)}(),U=function(e,t){let n=(0,eA.sO)(),a=(0,q.ut)(h.Ez5?.slidesToolMode(),h.EMA.SLIDES),o=n&&a===h.EMA.SLIDES,{inheritTextStyleKey:l,styleIdForText:i}=(0,v.R)(e=>({inheritTextStyleKey:e.mirror.selectionProperties.inheritTextStyleKey||null,styleIdForText:e.mirror.selectionProperties.styleIdForText||null})),s=(0,e4.WH)(l,i,"TEXT"),c=(0,X.hS)(i)&&null===s;return o&&c?r.createElement(eH,{rowRef:e,recordingKey:N.Pt(t,"moreButton")}):null}(O,o),z=nT(e),G=[];K&&(G=function(e,t,n,r){if(r){let n=[],r=e;return t.forEach(e=>{let t=nu(e)?1.5:1;(r-=t)>0&&n.push(e)}),n}{let r=Math.max(1,e-n.length);return n.length>0||t.length>r?t.slice(0,r-1):t}}(g=z?g+1:g,A,E,p));let Z=G.length<A.length,{topLevelMode:Q,editMode:ee}=(0,v.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),et=(0,a.d4)(e=>{let t=e.modalShown;return t?.type===eD.e}),en=(0,Y.q5)(),er=(0,$.aV)(),es=(0,H.ck)(),ec=(0,F.Em)(),ed=(0,eA.sO)(),eu=(0,eL.cJ)(),ep=(0,P.g)(),em=(0,B.GS)(),eg=ee===h.m1T.COMMENTS||ee===h.m1T.PREVIEW||ee===h.m1T.BRANCHING||Q===h.lyf.HISTORY||Q===h.lyf.PREVIEW||Q===h.lyf.DEV_HANDOFF||Q===h.lyf.BRANCHING,ef=(0,F.ow)(),e_=!!en?.isTryFile&&!et&&!er&&es,eh=(0,M.n6)(),{count:eE,node:ey}=nE(),ev=(0,eo.V)()&&(0,ea.Xk)()&&ec&&"FRAME"===L,eb=(0,j.o3)(j.nt.ui3SeptemberLaunch)&&em&&ec&&"INSTANCE"===L,ew=(0,T.md)(eJ.d$),eT=nf(_),eN=(0,e3.L)(),eS=(0,a.d4)(e=>Object.keys(e.mirror.sceneGraphSelection)),eC=(0,J.Fk)((e,t)=>{if(!t)return!1;let n=e.get(t);return!!n&&"TEXT"===n.type&&null!==n.containingSymbolId},eS[0]),ex=!0===(0,b.kc)().ds_variable_props_unified_ui&&1===eS.length&&eC;if(!(!(!et&&(ef||s||eg||er)&&!c)&&!ef&&!e_)||0===_.length&&!(ed||eu||ep))return null;let eO=n?U:Z&&r.createElement(S.E,{name:"layer_overflow_menu_button"},r.createElement("div",{ref:f},r.createElement(eI,{enabledToolbarItems:eT,recordingKey:N.Pt(o,"UI3ToolbarOverflowMenu")})));return r.createElement(C.p,{name:"layer_header_bar"},r.createElement(e1.Zk,{forwardedRef:d,"data-testid":"property-panel-toolbar",className:y()(ni.rq,{[ni.$L]:"INSTANCE"===L||"SYMBOL"===L||n,[ni.aT]:ew}),style:l?void 0:R.sx.bb0.pb4.$},r.createElement("div",{className:y()(ni.mp,x.cx.flex.alignLeft.borderBox.itemsCenter.h24.$,x.cx.pl8.pr8.gap8.$)},r.createElement("div",{className:x.cx.hFull.flexGrow1.flex.itemsCenter.minW0.$,"data-non-interactive":!0},i&&r.createElement(nb,{panelTitleRef:O,selectedNodeCount:eE,node:ey,shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e})),!k&&r.createElement("div",{"data-non-interactive":!0,className:y()(ni.gF,{[ni.ek]:!["INSTANCE","FRAME"].includes(L)})},ed&&r.createElement(eP.M,{showLibrarySets:!1,recordingKey:"frameLevel"}),G.map(e=>nu(e)?r.createElement(S.E,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,I.uc)(e.dropdownKey)}`})},r.createElement(eR,{flyoutConfig:e,recordingKey:N.Pt(ns,e.flyoutRecordingKey)})):e.type===el.ZU.ACTION?r.createElement(S.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,I.uc)(e.action)}`})},r.createElement(ei.QE,{item:e,numUnreadComments:eh,recordingKey:o})):r.createElement(nx,{key:e.recordingKey,item:e})),E.map(e=>r.createElement(S.E,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,I.uc)(e.dropdownKey)}`})},r.createElement(eR,{flyoutConfig:e,recordingKey:N.Pt(ns,e.flyoutRecordingKey)}))),eO,A.map((e,t)=>!nu(e)&&e.type===el.ZU.CUSTOM_ACTION&&"isSelected"in e&&"dropdown"in e&&"dropdownTargetButtonRef"in e?r.createElement("div",{key:t},e.dropdown):null))),ev&&r.createElement(tr,null),eb&&r.createElement(tg,{recordingKey:ns}),ex&&r.createElement(e9.Fc,{textContentBoundAsset:eN}),r.createElement(S.E,{name:"layer_component_panel_button"},r.createElement(np,null)),r.createElement(nC,null),r.createElement(tb,null),r.createElement(nr,null)))}function nu(e){return!("type"in e)}function np(){let e=(0,a.d4)(e=>(0,e7._7)(e)),{stateGroupSelectionMode:t,containingProductComponent:n}=(0,e$.z6)();return(0,q.J2)(h.Ez5.propertiesPanelState().shownPropertiesPanels)[h.ibQ.COMPONENT_ITEM]&&!n&&t===h.iCO.NON_STATE_COMPONENTS&&e>1?r.createElement("div",{"data-non-interactive":!0,className:x.cx.pt8.pb4.$},r.createElement(e2.K,{recordingKey:"createStateGroup"})):null}function nm(){let e=(0,ei.z2)(),t=(0,ei.PK)();function n(n){return n.type===el.ZU.CUSTOM_ACTION||e(n)&&t(n)}return{getMaybeEnabledItem:function(e){return n(e)?e:null},getMaybeSubmenuWithEnabledItems:function(e){let{items:t,...r}=e,a=t.filter(n);return a.length>0?{...r,items:a}:null}}}let ng=(e,t)=>{let{getMaybeEnabledItem:n,getMaybeSubmenuWithEnabledItems:l}=nm(),i=eO(),s=function(){let e=n_();return{type:el.ZU.ACTION_SUBMENU,getTitle:()=>(0,A.t)("fullscreen.properties_panel.layer_header.reset_submenu"),icon:r.createElement(f.N,null),recordingKey:"resetSubmenu",items:[...(0,el.GP)(),...e]}}(),c=function(){let e=(0,a.d4)(e=>e.mirror.selectionProperties),t=(0,a.d4)(Z.dT),{onlyInstances:n,onlyInstanceSublayers:r}=(0,ej.p)(t),o=(0,eQ.f)(t),l=(0,j.o3)(j.nt.ui3SeptemberLaunch);if(!((e.pasteSources||[]).length>0)&&o&&!o.disabled&&(n||r)&&!l)return{type:el.ZU.CUSTOM_ACTION,onClick:o.onMouseDown,icon:o.ui3Icon,getTitle:()=>o.dataTooltip,recordingKey:"ui3_toolbar_go_to_original_component"}}(),m=function(e,t){let n=r.useRef(null),o=(0,a.d4)(Z.dT),l=(0,eZ._B)(o),i=(0,en.Yc)(_.R.OVERRIDDEN_SYMBOL_ID,o),s=(0,en.m)(_.R.OVERRIDDEN_SYMBOL_ID),c=(0,en.oX)(_.R.OVERRIDDEN_SYMBOL_ID,n.current?n:t,l),u=(0,en.MB)(_.R.OVERRIDDEN_SYMBOL_ID);if(e&&!i)return{type:el.ZU.CUSTOM_ACTION,onClick:c,icon:r.createElement(d.V,null),getTitle:()=>s,recordingKey:"ui3_toolbar_apply_instance_swap_prop_ref",isSelected:u,dropdownTargetButtonRef:n,dropdown:r.createElement(ee.Xn,{source:et.Fv.ICON,nodeField:_.R.OVERRIDDEN_SYMBOL_ID,defaultValue:l})}}(e,t),E=function(e,t){let n=r.useRef(null),o=(0,a.d4)(Z.dT),l=nT(e),i=(0,eq.sQ)(o),{toggleDropdown:s,dropdownShown:c}=(0,eq.iT)(o);if(!l)return;let d="ui3_toolbar_toggleInstanceOptionDropdown."+o.join("-");return{type:el.ZU.CUSTOM_ACTION,onClick:s,icon:r.createElement("span",{className:ni.IU},r.createElement(u.o,null)),getTitle:()=>(0,A.t)("design_systems.instance_panel.update_available"),recordingKey:d,isSelected:c,dropdownTargetButtonRef:n,dropdown:r.createElement(eq.PM,{targetRef:n.current?n:t,instanceDropdownOptions:i,recordingKey:"ui3_toolbar_instanceNeedsUpdateDropdown",dropdownShown:c})}}(e,t),y=function(){let e=(0,a.d4)(Z.dT),{restoreType:t}=(0,eY.$)(e);if("SYMBOL_AS_STATE"===t)return{type:el.ZU.CUSTOM_ACTION,getTitle:()=>(0,A.t)("design_systems.instance_panel.restore_variant"),recordingKey:"restoreVariant",icon:r.createElement(p.y,null),onClick:()=>U.Y5.triggerActionInUserEditScope("restore-symbol-or-state-group")}}(),v=function(){let e=na(),t=(0,eA.sO)(),n=(0,tQ.Ne)(),o=(0,a.wA)();if(function(){let e=(0,a.wA)(),t=na(),n=(0,tQ.Ne)(),o=(0,r.useCallback)(()=>(0,tQ.o$)(e),[e]),l=(0,T.md)(tP.YH).length>0,i=(0,tO.ZC)(l),s=l&&!i;(0,r.useEffect)(()=>{t&&(s||!n)&&o()},[s,n,t,o]),(0,r.useEffect)(()=>()=>{t&&o()},[t,o])}(),t&&n)return{type:el.ZU.CUSTOM_ACTION,onClick:()=>(0,tQ.mD)(o,{source:"panel_entrypoint",toggle:!0}),icon:(0,b.kc)().slides_10_launch_tone_dial_update?r.createElement(tR.s,null):r.createElement(tk.V,null),isSelected:e,getTitle:()=>(0,A.t)("slides.properties_panel.rewrite_text.adjust_tone"),recordingKey:"slidesRewriteText"}}(),w=function(){let e=(0,a.wA)(),t=(0,eA.sO)(),n=(0,q.ut)(h.Ez5?.slidesToolMode(),h.EMA.SLIDES),o=t&&n===h.EMA.SLIDES,l=!!(0,a.d4)(e=>e.mirror.selectionProperties).propertiesPanelShouldShowRemoveAutoLayout;if(o&&l)return{type:el.ZU.CUSTOM_ACTION,onClick:()=>{U.Y5.triggerActionInUserEditScope("ungroup-selection"),e(k.F.enqueue({icon:O.zX.STACK_SELECTION,type:"slides_remove_auto_layout_via_ungroup",messageComponentKey:O.Rw.SLIDES_REMOVE_AUTO_LAYOUT,onDismiss:()=>{}}))},icon:r.createElement(g.A,null),isSelected:!1,getTitle:()=>(0,A.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"),recordingKey:"autoLayout"}}(),N=function(){let e=(0,eA.sO)(),t=(0,a.d4)(e=>(0,ey.Yh)(e.mirror.appModel,tI.JT.REMOVE_BACKGROUND)),n=(0,tT.u4)();if(e&&t&&n)return{type:el.ZU.CUSTOM_ACTION,onClick:()=>(0,tx.$I)({moduleToOpen:{type:"custom",module:r.createElement(tA.A,null),beforeModuleOpen:()=>{(0,tS.B3)(tI.JT.REMOVE_BACKGROUND),(0,tS.Ag)(tI.JT.REMOVE_BACKGROUND,tN.JY,{source:"quick-actions"})},name:tC.Sn.BACKGROUND_REMOVE_TOAST},trackingData:{source:"image_settings_remove_background"}}),icon:r.createElement(tw.$,null),isSelected:!1,getTitle:()=>(0,A.t)("fullscreen.properties_panel.remove_background"),recordingKey:"removeBackground"}}(),I=function(){let e=(0,eX.O1)();if(!(e?.length===1&&"INTERACTIVE_SLIDE_ELEMENT"===e[0].type&&e[0].interactiveSlideElementType===h.a9h.YOUTUBE))return;let{url:t,title:n}=e[0].interactiveSlideConfigData;return{type:el.ZU.CUSTOM_ACTION,onClick:()=>{t&&(0,nl.FJ)(t,"_blank","noopener")},icon:r.createElement(no,null),isSelected:!1,getTitle:()=>n??(0,A.t)("slides.flapp.embed.widget_youtube"),recordingKey:"youtube"}}(),S=(0,eA.sO)(),C=(0,q.ut)(h.Ez5?.slidesToolMode(),h.EMA.SLIDES),x=S&&C===h.EMA.SLIDES,R=(0,eL.cJ)(),P=(0,W.kl)("containsSitesLayouts"),D=R&&!!P;return(0,r.useMemo)(()=>(0,el.JQ)(s,c,m,E,y,v,w,N,x,D,I).map(e=>e.map(e=>nu(e)?i(e):e.type===el.ZU.ACTION_SUBMENU?l(e):n(e)).filter(o.isNotNullish)).filter(e=>e&&e.length>0),[s,c,m,E,y,v,w,N,x,D,l,n,I,i])},nf=e=>r.useMemo(()=>e.map(e=>e.reduce((e,t)=>nu(t)?e.concat(t.actions):e.concat(t),[])),[e]),n_=()=>{let e=r.useMemo(er.$H,[]),t=(0,a.d4)(t=>e(t,(0,Z.rT)(Object.keys(t.mirror.sceneGraphSelection),t.mirror.sceneGraph))),n=[];for(let e in t)for(let a in t[e]){let o=t[e][a];n.push({type:el.ZU.CUSTOM_ACTION,onClick:()=>z.l7.user("reset-prop-assignments",()=>h.glU.resetComponentPropAssignmentForInstances(o.instanceGUIDs,a)),icon:r.createElement(s.$,null),getTitle:()=>(0,A.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:o.name}),recordingKey:`reset_property_assignment_${o.name}`})}return n},nh=(e,t)=>{let n=[function(e){let{pickerShown:t}=(0,e$.z6)(),n=(0,e$.h$)(e);if(nS())return{type:el.ZU.CUSTOM_ACTION,onClick:n,icon:r.createElement(m.A,null),isSelected:t?.id===eW.Wv,getTitle:()=>(0,A.t)("design_systems.component_panel.component_controls"),recordingKey:"componentControls"}}(t)].filter(o.isNotNullish),a=ek().flatMap(e=>e.actions.map(e=>e.action)),l=nI(),i=(0,j.o3)(j.nt.ui3SelectionActionsHoisting);return[...n,...e.flat().flatMap(e=>nu(e)||e.type!==el.ZU.ACTION_SUBMENU?e:e.items).filter(e=>nu(e)?i:e.type===el.ZU.CUSTOM_ACTION||!(a.includes(e.action)||0!==l&&el.Nu.includes(e.action)))]};function nE(){let e=(0,eL.cJ)(),t=(0,q.J2)(h.Ez5.uiState().focusModeState),n=(0,eX.O1)();if(!n||0===n.length)return{type:null,count:0,node:null};if(1===n.length)return{type:n[0].type,count:1,node:n[0]};if(2===n.length){let e=n.find(e=>"TEXT"===e.type),t=n.find(e=>"SHAPE_WITH_TEXT"===e.type);if(e&&t)return{type:"TEXT",count:1,node:e}}let r=!1,a=null,o=n[0].type;if(e&&t===h.xc1.RESPONSIVE_SET)for(let e of(r=!0,n)){if(e.type!==o){r=!1;break}e.isPrimaryResponsiveNode&&(a=e)}return r?{type:o,count:n.length,node:a||n[0]}:n.every(e=>["FRAME","SECTION","GROUP"].includes(e.type))?{type:"MIXED_FRAME_SECTION_GROUP",count:n.length,node:null}:{type:"MIXED",count:n.length,node:null}}function ny({panelTitleRef:e}){let t=(0,a.d4)(Z.dT),n=(0,eJ.QM)(t);return r.createElement("div",{ref:e,className:x.cx.maxWFull.$},r.createElement(eZ.bj,{pickerButtonTextOverridesClassName:x.cx.pl8.maxWFull.minW0.flexGrow1.ellipsis.noWrap.overflowHidden.textBodyLargeStrong.$,panelTitleRef:e,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:n,recordingKey:"instance-panel-ui3-layer-header",panelTitleOverridesClassName:ni.s5,flushLeft:!0,dropdownIdPrefix:"selection-actions-instance-swap-picker",shouldHideInstanceIcon:!0,chevronOverride:r.createElement("div",{className:x.cx.flexShrink0.$},r.createElement(c.r,null))}))}function nv({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t}){let{type:n,count:r}=nE();return n?e?"INSTANCE":t&&1===r?"SYMBOL":n:null}function nb({selectedNodeCount:e,node:t,shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:a,panelTitleRef:o}){let l=(0,eL.cJ)(),i=(0,eA.sO)(),s=(0,P.g)(),d=nv({shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:a});switch(d){case null:return null;case"MIXED":return r.createElement("div",{ref:o,className:ni.Zp},r.createElement("span",null,(0,A.t)("fullscreen.properties_panel.layer_header.node_type_multiple_selected",{count:e})));case"MIXED_FRAME_SECTION_GROUP":case"SECTION":case"GROUP":case"FRAME":if(t&&t.isResponsiveNode)return r.createElement(nw,{node:t,nodeTypeStringToDisplay:(0,A.tx)("sites.panel.toolbar_header.layout"),panelTitleRef:o});if(l||i||s){if("MIXED_FRAME_SECTION_GROUP"===d)return r.createElement("div",{ref:o,className:ni.Zp},r.createElement("span",null,(0,A.t)("fullscreen.properties_panel.layer_header.node_type_multiple_selected",{count:e})));return t?r.createElement(nw,{node:t,panelTitleRef:o}):null}return r.createElement("div",{className:x.cx.inlineFlex.$},r.createElement(e5.tV,{value:{chevron:()=>r.createElement(c.r,{className:ni.yc})}},r.createElement(e6.vG,{id:"selection-actions-frame-preset-dropdown",selectClassName:ni.T0,inputClassName:ni.gv,recordingKey:"transformPanel.framePresetDropdown"})));case"RESPONSIVE_SET":return t?r.createElement("div",{className:x.cx.flex.wFull.justifyBetween.$},r.createElement(nw,{node:t,nodeTypeStringToDisplay:(0,A.tx)("sites.panel.toolbar_header.webpage"),panelTitleRef:o}),r.createElement(eM.BX,{page:t.guid})):null;case"SYMBOL":return r.createElement(e$.RV,{alwaysShowParentComponent:!0,unfocusedInputOverridesClassName:ni.I1,focusedInputOverridesClassName:ni.j6,shouldHideComponentIcon:!0});case"INSTANCE":return r.createElement(ny,{panelTitleRef:o});default:return t?r.createElement(nw,{node:t,panelTitleRef:o}):null}}function nw({node:e,nodeTypeStringToDisplay:t,panelTitleRef:n}){let a=n.current,o=!!a&&a.offsetWidth<a.scrollWidth,[l]=(0,W.lJ)("leftEndCap"),[i]=(0,W.lJ)("rightEndCap"),s=(0,X.hS)(l)?l:void 0,c=(0,X.hS)(i)?i:void 0,d=(0,eA.sO)(),u=t||function(e,t,n,r){switch(e.type){case"ELLIPSE":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_ellipse");case"LINE":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_line");case"REGULAR_POLYGON":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_polygon");case"RECTANGLE":case"ROUNDED_RECTANGLE":let a=e.hasEnabledAnimatedPaint||e.hasEnabledVideoPaint,o=e.hasEnabledStaticImagePaint;if(a)return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_video");if(o)return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_image");return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_rectangle");case"SECTION":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_section");case"SLICE":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_slice");case"STAR":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_star");case"TEXT":return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_text");case"VECTOR":if((0,G.wQ)(t)||(0,G.wQ)(n))return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_arrow");return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_vector_path");case"SLIDE":return e.isSkippedSlide?(0,A.t)("fullscreen.properties_panel.layer_header.node_type_slide_skipped"):(0,A.t)("fullscreen.properties_panel.layer_header.node_type_slide",{slideNumber:e.name});case"INTERACTIVE_SLIDE_ELEMENT":if(e.interactiveSlideElementType===h.a9h.YOUTUBE)return(0,A.t)("slides.flapp.embed.widget_youtube");return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_interactive_slide_element");case"SHAPE_WITH_TEXT":return nc.format(e.shapeWithTextType);case"FRAME":if(r){if("NONE"!==e.stackMode)return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_frame_auto_layout");if(e.isGroup)return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_group");return(0,A.t)("fullscreen.properties_panel.layer_header.node_type_frame")}return e.name;default:return e.name}}(e,s,c,d);return r.createElement("div",{ref:n,className:ni.aj,"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":o?u:void 0},u)}function nT(e){let t=(0,a.d4)(Z.dT),{needsUpdate:n}=(0,eq.vr)(t);return n&&e}var nN=(e=>(e[e.NO_SELECTIONS_ARE_INSTANCES=0]="NO_SELECTIONS_ARE_INSTANCES",e[e.SOME_SELECTIONS_ARE_INSTANCES=1]="SOME_SELECTIONS_ARE_INSTANCES",e[e.ALL_SELECTIONS_ARE_TOPLEVEL_INSTANCES=2]="ALL_SELECTIONS_ARE_TOPLEVEL_INSTANCES",e))(nN||{});function nI(){let e=(0,eX.O1)();return!e||e?.every(e=>"INSTANCE"!==e.type)?0:e.every(e=>"INSTANCE"===e.type&&(!e.parentNode||"CANVAS"===e.parentNode.type))?2:1}function nS(){return(0,q.J2)(h.Ez5.propertiesPanelState().shownPropertiesPanels)[h.ibQ.COMPONENT_ITEM]}function nC(){let{containingStateGroupDescription:e,containingStateGroupLinks:t,componentDescription:n}=(0,e$.z6)();return nS()?r.createElement(eG.K,{containingStateGroupDescription:e,containingStateGroupLinks:t,description:n,recordingKey:"componentControlsPicker"}):null}function nx({item:e}){let t="isSelected"in e,n=t&&"dropdown"in e&&"dropdownTargetButtonRef"in e;return r.createElement(S.E,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,I.uc)(e.getTitle())}`})},t?r.createElement("span",{className:ni.zU},r.createElement(l.d,{ref:n?e.dropdownTargetButtonRef:void 0,recordingKey:e.recordingKey,toggled:e.isSelected,"aria-label":e.getTitle(),onClick:e.onClick,htmlAttributes:{onMouseDown:K.dG}},e.icon)):r.createElement(i.K,{"aria-label":e.getTitle(),onClick:e.onClick,key:e.recordingKey,recordingKey:N.Pt(ns,e.recordingKey),htmlAttributes:{"data-tooltip":e.getTitle(),"data-tooltip-type":Q.Ib.TEXT}},e.icon))}},31687:(e,t,n)=>{n.d(t,{wu:()=>V,yj:()=>H});var r=n(411855),a=n(188507),o=n(730371),l=n(767129),i=n(404095),s=n(636149),c=n.n(s),d=n(737947),u=n(966712),p=n(153234),m=n(776621),g=n(574176),f=n(939863),_=n(632430),h=n(662275),E=n(617453),y=n(100197),v=n(234945),b=n(173454),w=n(498606),T=n(715762),N=n(507662),I=n(7959),S=n(538697),C=n(893606),x=n(762638),A=n(939791);let R=r.forwardRef(function({labelTx:e,input:t,icon:n},a){return r.createElement(A.fn,{ref:a,leftInput:r.createElement("span",{className:x.cx.textBodyMedium.pl1.flex.$},e),rightInput:t,icon:n,leftLabel:null,rightLabel:null})});var k=n(629019),O=n.n(k);let P=(0,r.forwardRef)(function({label:e,input:t,...n},a){return r.createElement(D,{label:e,input:t,inputSize:"normal",...n,ref:a})});(0,r.forwardRef)(function({label:e,input:t,...n},a){return r.createElement(D,{label:e,input:t,inputSize:"small",...n,ref:a})}),(0,r.forwardRef)(function({label:e,input:t,...n},a){return r.createElement(D,{label:e,input:t,inputSize:"large",...n,ref:a})});let D=(0,r.forwardRef)(function({label:e,input:t,inputSize:n,...a},o){let l=O()({"ui3_inline_label_input_rows--ui3LabelInputRow--5r770 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu":!0,"ui3_inline_label_input_rows--ui3LabelInputSmall--s82mn":"small"===n,"ui3_inline_label_input_rows--ui3LabelInputNormal--dBjze":"normal"===n,"ui3_inline_label_input_rows--ui3LabelInputLarge--GYw7P":"large"===n});return r.createElement("div",{className:l,ref:o,...a,"data-non-interactive":!0},r.createElement("div",{className:"ui3_inline_label_input_rows--ui3RowInlineLabel--UavwX","data-non-interactive":!0},e),r.createElement("div",{className:"ui3_inline_label_input_rows--ui3RowInput--E7ksx","data-non-interactive":!0},t))});var M=n(564092),L=n(435091),K=n(664241),F=n(132208);class B extends S.l6{}class U extends S.c${}function z({modeOptions:e,inheritedModeID:t,isShowingGuids:n}){return{format:r=>{if(r===M.iw.LEARN_MORE)return(0,f.t)("variables.modes.option.learn_more");if(r===M.iw.REVIEW_UPDATES)return(0,f.t)("variables.modes.option.review_updates");if(r===M.UE){if(t===M.Mo)return(0,f.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:(0,f.t)("variables.mode_properties_panel.select.option.mixed")});let n=e.find(e=>o.deepEquals(e.modeId,t))?.name;return n?(0,f.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:n}):(0,f.t)("variables.mode_properties_panel.select.option.auto")}{if(r===M.Ws)return 0===e.length&&(0,m.x1)("variables","No mode options available"),(0,f.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:e[0].name??""});if(r===M.Mo)return(0,f.t)("variables.mode_properties_panel.select.option.mixed");if(r===M.Yn)return(0,f.t)("variables.mode_properties_panel.select.option.deleted");let t=e.find(e=>(0,o.deepEquals)(e.modeId,r));return t?n?`${t.name} (${t.modeId.guid})`:t.name:((0,m.x1)("variables","Option does not exist in modeOptions"),(0,f.t)("variables.mode_properties_panel.select.option.deleted"))}},isEqual:(e,t)=>(0,o.deepEquals)(e,t)}}function V({fill:e,showExplicitOnly:t,showInheritedModeOption:n,recordingKey:o}){let l=(0,a.wA)(),i=(0,M.kN)(),s=(0,M.iR)(),c=(0,M.d2)(),d=(0,y.J2)((0,E.UK)().showGuids),u=(0,a.d4)(v.qd),m=r.useMemo(()=>JSON.stringify(u),[u]),g=(0,M.hZ)(),f=Object.entries(i),h=r.useMemo(()=>f.sort(([e,t],[n,r])=>t.fileKey!==r.fileKey?t.fileKey?r.fileKey?t.fileKey.localeCompare(r.fileKey):1:-1:t.collectionName.localeCompare(r.collectionName)),[f]);return r.createElement(r.Fragment,null,h.map(([a,i])=>{let u=i.inheritMode,f=i.explicitMode;return r.createElement(H,{key:`variable-mode-entry-${a}-${t}-${m}`,fill:e,showExplicitOnly:t,variableSetName:i.collectionName,variableSetKey:a,modeOptions:i.modeOptions,inheritedModeID:u,explicitModeID:f,showInheritedModeOption:void 0===n||n,onChange:(e,t)=>{c[a]&&s[a]?l((0,_.Wo)({item:s[a],callback:t=>{g(a,e)}})):g(a,e,t)},isShowingGuids:d,recordingKey:p.Pt(o,`variableModeEntry-${t}`)})}))}function H(e){let{fill:t,showExplicitOnly:n,variableSetName:s,variableSetKey:m,modeOptions:_,explicitModeID:E,inheritedModeID:y,isShowingGuids:v,recordingKey:x,showInheritedModeOption:A,onChange:k}=e,O=(0,a.wA)(),D=(0,a.d4)(e=>e.dropdownShown),V=(0,M.ZP)(),H=(0,C.R)(),X=E&&E!==M.Mo&&_.every(e=>!(0,o.deepEquals)(e.modeId,E)),G=M.Ws;X?G=M.Yn:E?G=E:y&&(G=A?M.UE:y);let W=z({modeOptions:_,inheritedModeID:y,isShowingGuids:v}).format(G),[$,Y]=r.useState(n),j=r.useCallback((e,t,n)=>{k(e,n),void 0!==t&&Y(t)},[k]),q=r.useMemo(()=>(function(e,t,n,a){let o=[];if(0===t.length)return o;let l=c()(t,e=>e.modeId.collectionKey),i=!!(0,u.kc)().ds_variables_relax_modes,s=r.createElement("div",{className:K.Z7},r.createElement(g.B,{className:K.G,svg:F.A}));return Object.entries(l).map(([t,a])=>{for(let l of(o.length>0&&a.length>0&&o.push(r.createElement(S.sK,null)),a))o.push(r.createElement(U,{key:`mode-option-${t}-${l.modeId.guid}-${n}`,value:l.modeId,recordingKey:p.Pt(e,`varSetSelect=${t}`,`value=${l.modeId.guid}`,`varSetKey=${t}`),disabled:!i&&!l.isCompatible,fullWidth:!0,rightSettingsIcon:i&&!l.isCompatible?s:void 0}))}),i&&t.some(e=>!e.isCompatible)&&(o.push(r.createElement(S.sK,null)),a===M.iw.REVIEW_UPDATES?o.push(r.createElement(U,{key:"incompatible-modes-updates",value:M.iw.REVIEW_UPDATES,iconToReplaceCheck:s,recordingKey:p.Pt(e,"incompatible-modes-review-updates"),additionalStylesClassName:K.cF})):a===M.iw.LEARN_MORE&&o.push(r.createElement(U,{key:"incompatible-modes-learn-more",value:M.iw.LEARN_MORE,iconToReplaceCheck:s,recordingKey:p.Pt(e,"incompatible-modes-learn-more"),additionalStylesClassName:K.cF}))),o})(x,_,n,V),[x,_,n,V]);if(_.length<2||$&&!E)return null;let J=G===M.Mo,Z=function(e,t,n,a,o,l){let i=[];return n&&i.push(r.createElement(U,{key:M.Mo,value:M.Mo,recordingKey:p.Pt(e,"value:MIXED"),selected:!0}),r.createElement(S.sK,null)),a?o&&i.push(r.createElement(U,{key:M.UE,value:M.UE,recordingKey:p.Pt(e,"value:INHERIT")}),r.createElement(S.sK,null)):l.length>0&&i.push(r.createElement(U,{key:M.Ws,value:M.Ws,recordingKey:p.Pt(e,"value:DEFAULT"),disabled:!l[0].isCompatible,selected:t===M.Ws}),r.createElement(S.sK,null)),t===M.Yn&&i.push(r.createElement(U,{key:M.Yn,value:M.Yn,recordingKey:p.Pt(e,"value:DELETED"),disabled:!0,selected:!0})),i}(x,G,J,!!y,A,_),Q=r.createElement(B,{fill:t,id:`var-set-mode-${m}-${n}`,dropdownWidth:200,dropdownAlignment:"right",dispatch:O,inputClassName:H?L.UZ:void 0,chevronClassName:H?L.ai:void 0,dropdownShown:D,formatter:z({modeOptions:_,inheritedModeID:y,isShowingGuids:v}),property:G,recordingKey:p.Pt(x,`varSetSelect=${m}`),onChange:e=>{e===M.iw.LEARN_MORE?d.Ay.unsafeRedirect(M.Yc,"_blank"):e===M.iw.REVIEW_UPDATES?O(h.to({type:N.T,data:{initialTab:b.Wv.UPDATES,entrypoint:T.r6.VARIABLE_MODE_INCOMPATIBLE_REVIEW_UPDATES_DROPDOWN_OPTION}})):j(e,!1,z({modeOptions:_,inheritedModeID:y,isShowingGuids:v}).format(e))},tooltip:W},...Z,...q);if(H){let e=r.createElement("span",{className:K.$6,"data-testid":"variableModeEntry"},s);return A?r.createElement(R,{labelTx:e,input:Q,icon:r.createElement(l.K,{"aria-label":(0,f.t)("general.remove"),onClick:()=>j("INHERIT",!0),actionOnPointerDown:!0,htmlAttributes:{"data-tooltip":(0,f.t)("general.remove"),"data-tooltip-type":w.Ib.TEXT}},r.createElement(i.f,null))}):r.createElement(P,{label:e,input:Q})}return r.createElement(I.fI,{className:K.nM,dataTestId:"variableModeEntry"},r.createElement("div",{className:K.o3},s),r.createElement("div",{className:K.mq},Q))}},670652:(e,t,n)=>{n.d(t,{w:()=>D});var r=n(411855),a=n(634832),o=n(52339),l=n(374626),i=n(939863),s=n(574724),c=n(677074),d=n(222478),u=n(188507),p=n(279145),m=(e=>(e[e.NEEDS_INITIAL_SELECTION=0]="NEEDS_INITIAL_SELECTION",e[e.SELECTION_LOST=1]="SELECTION_LOST",e[e.SELECTION_OK=2]="SELECTION_OK",e))(m||{}),g=n(709731),f=n(562432),_=n(438773),h=n(320063);function E(e){let t=Math.random()*e.reduce((e,{weight:t=1})=>e+t,0),n=0;for(let r of e)if((n+=r.weight??1)>=t)return r.content;return e[0].content}var y=n(232309),v=n(637382),b=n(883216),w=n(726710),T=n(219292),N=n(118567),I=n(263086),S=n(326186),C=n(421757),x=n(966712),A=n(384775),R=n(144119);function k(){let e=(0,u.wA)(),t=(0,l.md)(S.Tm),n=(0,r.useCallback)(()=>{t||(0,S.mD)(e,{source:"rewrite_action"}),(0,A.jD)(e,null,{forceClose:!1})},[e,t]);return r.createElement(C.$n,{variant:"secondary",onClick:n},(0,i.tx)("ai_text_tools.rewrite.tone.label"))}var O=n(573591);let P=(0,l.E3)("rewrite_this_prompt_history",[]);function D(){let e=function(e){let[t,n]=(0,r.useState)(E(e));return(0,h.h)(()=>{n(E(e))}),t}([{content:(0,i.t)("ai_text_tools.rewrite.placeholder.marketing")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.shorter")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.bullet_points")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.email_boss")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.sing_songy")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.softer_tone")},{content:(0,i.t)("ai_text_tools.rewrite.placeholder.pop_song"),weight:.001}]),[t,n]=r.useState(""),l=d.JT.REWRITE_TEXT,{promptHistory:C,addPromptToHistory:A}=(0,_.a)(P,e=>e),{shiftAllNodesOutOfSlideMargins:D,resetShiftedNodes:M,resetNodePositionMap:L}=(0,I.eX)(),{slidesTextResizeCallback:K}=(0,I.DX)(d.JT.REWRITE_TEXT),{saveOriginalNodeInfos:F,resetOriginalNodeInfos:B,resetAllNodesToOriginalTextStyles:U}=(0,S.cR)(),z=(0,r.useCallback)(e=>{let{eventType:t,node:n}=e;switch(t){case"BEFORE_STREAM_START":D();return;case"AFTER_STREAM_CHUNK":K(n);return}},[K,D]),{longRunningAction:V,onRun:H,cancel:X,restoreSelection:G,resetText:W,lastRun:$}=(0,O.Hd)({makeCortexRequest:({texts:e,parameters:t,targetMap:n,authInfo:r})=>(F(n.values()),s.Ay.shared.adjustText({texts:e,action:{type:"REWRITE_TEXT",prompt:t.prompt},jsonMode:e.length>1},r)),featureType:l,allowEmptyTextNodes:!0,onNodeStreamEvent:z}),{state:Y,aiTrackingContext:j,tasks:q}=V,{close:J}=(0,f.cq)(),Z=function(){let e=(0,x.kc)().figjam_ai_piper_action_transitions,t=(0,R.sO)(),n=(0,S.Ne)();return t&&n&&e}(),Q=function(e){let t=(0,u.d4)(t=>(0,p.Yh)(t.mirror.appModel,e)),[n,a]=r.useState(t),o=0;return t&&n?o=2:n&&!t&&(o=1),(0,r.useMemo)(()=>({state:o,confirmInitialSelection:()=>a(!0)}),[o])}(d.JT.REWRITE_TEXT),ee=q.length,et=q.filter(e=>e.state===g.z8.FAILED).length;switch(Y){case g.qy.RUNNING:return r.createElement(N.F,{onCancel:()=>{X(),J()},aiTrackingContext:j},(0,i.tx)("ai.rewriting"));case g.qy.INITIAL:switch(Q.state){case m.NEEDS_INITIAL_SELECTION:case m.SELECTION_LOST:return r.createElement(b.A,{action:d.JT.REWRITE_TEXT,actionLabel:(0,i.tx)("fullscreen_actions.quick_actions.rewrite-this"),actionIcon:r.createElement(o.T,null),onPerform:Q.confirmInitialSelection,aiTrackingContext:j,getCustomDisabledTextFromSelectedNodes:e=>(0,O.bu)(e,{allowEmptyText:!0}),instructionAction:{type:"learn_more",url:d.fN}},(0,i.tx)("ai_text_tools.selection_instruction"));case m.SELECTION_OK:return r.createElement(T.A,{prompt:t,onChangePrompt:n,onRun:()=>{L(),A(t),H({prompt:t})},suggestion:e,submitLabel:(0,i.tx)("ai.rewrite"),extraFooter:Z&&r.createElement(k,null),promptHistory:C,recordingKey:"rewriteText.prompt",suggestionPills:[{label:(0,i.t)("ai_text_tools.rewrite.shorter.label"),prompt:(0,i.t)("ai_text_tools.rewrite.shorter.prompt")},{label:(0,i.t)("ai_text_tools.rewrite.casual.label"),prompt:(0,i.t)("ai_text_tools.rewrite.casual.prompt")},{label:(0,i.t)("ai_text_tools.rewrite.replace.label"),prompt:(0,i.t)("ai_text_tools.rewrite.replace.prompt")}],aiTrackingContext:j,featureNameForInstrumentation:"rewrite_text"});default:(0,a.assertNever)(Q.state)}case g.qy.ERROR:let en;let{error:er}=V,ea=null,eo=[{type:v.f.TRY_AGAIN,callback:()=>{H({prompt:t})}}];return er instanceof O.Vz&&(en=(0,i.tx)("ai_text_tools.content_length_exceeded"),eo=[]),er instanceof O.Jd&&(en=(0,i.tx)("ai_text_tools.missing_fonts"),eo=[]),ee>0&&et>0&&et<ee&&(ea=(0,i.tx)("ai_text_tools.rewrite.couldnt_count",{failed:et,total:ee})),(0,c.sZ)(er)===c.BQ.CONTENT_LENGTH_LIMIT&&(en=(0,i.tx)("ai_text_tools.content_length_exceeded")),r.createElement(v.E,{error:V.error,buttons:eo,aiTrackingContext:j,customMessage:en,secondaryMessage:ea});case g.qy.DONE:return r.createElement(w.O,{iterateOptions:[{type:w.i.UNDO,callback:()=>{W(),U(),M(),(0,g.B3)(d.JT.REWRITE_TEXT),B()}},{type:w.i.MAKE_CHANGES,callback:()=>{G(),L(),(0,g.B3)(d.JT.REWRITE_TEXT),B(),n("")}}],aiTrackingContext:{...j,iteration_view_type:y.$J.SUCCESS_WITH_ITERATION},recordingKey:"rewriteText",targets:$?$.targets.map(e=>e.node.guid):void 0});case g.qy.CANCELLED:return null;default:(0,a.assertNever)(Y)}}},573591:(e,t,n)=>{n.d(t,{Hd:()=>x,Jd:()=>S,Vz:()=>N,ay:()=>T,bu:()=>A,n4:()=>I,y_:()=>R});var r=n(411855),a=n(341092),o=n(675678),l=n(707458),i=n(38329),s=n(374626),c=n(395900),d=n(776621),u=n(762638),p=n(939863),m=n(550273),g=n(988022),f=n(574724),_=n(677074),h=n(356390),E=n(662531),y=n(222478),v=n(709731),b=n(719624),w=n(695426);class T extends Error{constructor(e){super(),this.message=e}}class N extends Error{constructor(){super(),this.reportToSentry=!1,this.name="TooManyTextLayersError",this.message="Too many text layers"}}class I extends Error{constructor(){super(),this.reportToSentry=!1,this.name="NoTextCharactersFoundError",this.type="no_text_characters_found"}}class S extends Error{constructor(){super(),this.reportToSentry=!1,this.name="MissingFontsError",this.message="Missing Fonts"}}let C=async({params:e,abortController:t,onTasksUpdate:n})=>{let r=new c.M4;r.start();let{state:s,makeCortexRequest:u,clientLifecycleId:p,featureType:m,excludeDigitsAndSpecialChar:b,onNodeStreamEvent:w,onError:C,onSuccess:x,editScopeLabel:A}=e,{targets:k,parameters:O}=s,P=i.D.getState(),D=P.openFile?.key,M={numLayers:k.length,numLayersAdjusted:0,numDeltasHallucinated:0,featureType:m};O&&"prompt"in O&&O.prompt&&"string"==typeof O.prompt&&(M.promptLength=O.prompt.length),O&&"language"in O&&O.language&&"string"==typeof O.language&&(M.language=O.language),(0,g.ds)("ai_text_tools_started",D,P,M);let L=e=>(C?.(e),e);if(k.length>100)throw L(new N);if(b&&0===k.length)throw L(new I);let K=[],F=new Map,B=[];for(let e of k){let t=(F.size+1).toString(),{node:n,effectiveText:r}=e;n.hasMissingFont?K.push({nodeGuid:e.node.guid,state:v.z8.FAILED,error:new S}):(B.push({id:t,text:r}),F.set(t,e),K.push({nodeGuid:e.node.guid,state:v.z8.INCOMPLETE}))}if(n&&n(K),0!==K.length&&K.every(e=>e.state===v.z8.FAILED&&e.error instanceof S))throw L(new S);let U=null;try{let e={...(0,_.Ay)(),clientLifecycleId:p};if(U=await u({texts:B,parameters:O,authInfo:e,jsonMode:!0,targetMap:F}),t.signal.aborted||!l.q.instance.getCurrentPage())return;let a=new f.c6(U),o=new Map;for await(let{delta:e,id:i}of a){let a;if(t.signal.aborted)return;if(1===F.size)a=F.values().next().value;else{if(!i)throw L(new T("Missing ID in response from Cortex"));a=F.get(i)}if(M.timeToFirstToken=r.getElapsedTime(),!a){M.numDeltasHallucinated++;continue}if(!a.node.isAlive())continue;K=K.map(e=>e.nodeGuid===a.node.guid?{...e,state:v.z8.SUCCEEDED}:e),n&&n(K);let s=a.selectionRange?.start??0,c=a.selectionRange?.end??a.node.characters.length,d=a.node;o.has(a)||(E.l7.ai(A,()=>{d.spliceCharacters(s,c,"","BEFORE"),w?.({eventType:"BEFORE_STREAM_START",node:d})}),o.set(a,s));let u=o.get(a);E.l7.ai(A,()=>{e&&d&&(d.spliceCharacters(u,u,e,"BEFORE"),o.set(a,u+e.length),M.numLayersAdjusted=o.size,w?.({eventType:"AFTER_STREAM_CHUNK",node:d}),a.selectionRange?l.q.instance.getCurrentPage()?.setSelectedTextRange(a.node.guid,a.selectionRange.start,u+e.length):1===k.length&&R(d.guid))})}h.Y5.triggerAction("commit");let i=K.filter(e=>e.state===v.z8.FAILED);if(i.length>0&&i[0].state===v.z8.FAILED)throw L(i[0].error);(0,g.ds)("ai_text_tools_complete",D,P,M),x?.(O)}catch(t){K=K.map(e=>e.state!==v.z8.SUCCEEDED?{...e,state:v.z8.FAILED,error:t}:e),n&&n(K);let e=t;throw m===y.JT.SLIDES_REWRITE_TEXT&&t instanceof a.G1&&(e=(0,_.Gx)(t)),"reportToSentry"in e&&!e.reportToSentry||((0,d.kF)("text_feature_type",M.featureType),(0,d.$D)(o.FigmaTeam.AI_PRODUCTIVITY,e,{extra:{...M,numberOfNodes:k.length}})),(0,g.ds)("ai_text_tools_failed",D,P,{...M,error:e}),L(e)}finally{M.timeToCompletion=r.getElapsedTime(),r.stop(),t.signal.aborted&&(0,g.ds)("ai_text_tools_cancelled",D,P,M),U?.cancel()}};function x({makeCortexRequest:e,featureType:t,allowEmptyTextNodes:n=!1,excludeDigitsAndSpecialChar:a=!1,onNodeStreamEvent:o,onError:i,onSuccess:c,editScopeLabel:d="adjust-text"}){let u=(0,v.RL)(t,C),{start:p,stop:g}=u,[f,_]=(0,r.useState)(null),[h,y]=(0,r.useState)(null),[,w]=(0,s.fp)(b.Q8);function T(){E.l7.ai(d,()=>{if(f){let e=l.q.instance.getCurrentPage();for(let{node:t,nodeText:n,selectionRange:r}of f.targets)if(t.isAlive()&&(t.spliceCharacters(0,t.characters.length,n,"BEFORE"),r)){let{start:n,end:a}=r;e?.setSelectedTextRange(t.guid,n,a)}e&&f.selection.length>1&&(e.directlySelectedNodes=f.selection)}})}return{resetText:T,restoreSelection:function(){let e=l.q.instance.getCurrentPage();e&&f&&f.selection.length>1&&(e.directlySelectedNodes=f.selection)},lastParameters:h,onRun:async function(r){let s={targets:(0,m.Ey)({allowEmpty:n,excludeDigitsAndSpecialChar:a}),parameters:r,selection:l.q.instance.getCurrentPage()?.directlySelectedNodes??[]};y(r),_(s),w(""),await p({state:s,makeCortexRequest:e,featureType:t,excludeDigitsAndSpecialChar:a,onNodeStreamEvent:o,onError:i,onSuccess:c,editScopeLabel:d})},cancel:function(){g(),T()},longRunningAction:u,lastRun:f}}function A(e,t){let{onlyAllowSingular:n,allowEmptyText:a}=t,o=t.instruction??(0,p.tx)("ai_text_tools.selection_instruction");if(n&&e&&(0===e.length||e.length>1||"TEXT"!==e[0].type))return o;let l=(0,m.Gc)(e,{allowEmpty:!0});if(0===l.length)return o;let i=l.reduce((e,t)=>e+t.characters.length,0);return(0!==i||a)&&i>4e4?r.createElement(w.B,{gap:8},r.createElement("span",{className:u.cx.textBodyMediumStrong.$},(0,p.tx)("ai_text_tools.select_fewer_characters")),r.createElement("span",{className:u.cx.textBodyMedium.colorTextSecondary.$},(0,p.tx)("ai_text_tools.selected_character_count",{currentCharacters:i.toLocaleString(),maxCharacters:4e4.toLocaleString()}))):o}function R(e){let t=l.q.instance.getCurrentPage(),n=t?.directlySelectedNodes[0]?.guid;t&&n===e&&t.setSelectionToSingleNode(e)}},119081:(e,t,n)=>{n.d(t,{p:()=>F});var r=n(411855),a=n(188507),o=n(634832),l=n(908946),i=n(667859),s=n(587670),c=n(38329),d=n(646240),u=n(498750),p=n(939863),m=n(239349),g=n(356390),f=n(895083),_=n(843495),h=n(100197),E=n(94500),y=n(279145),v=n(354235),b=n(178248),w=n(775810),T=n(351631),N=n(222478),I=n(709731),S=n(562432),C=n(30075),x=n(384775),A=n(41398),R=n(637382),k=n(596378),O=n(883216),P=n(118567),D=n(862442),M=n(29680),L=n(684798);function K({magicLinkOutput:e,aiTrackingContext:t}){let n=(0,D.Z)(),{generatedInteractions:a}=e,o=(0,r.useMemo)(()=>a.map(e=>e.id),[a]),l=(0,r.useRef)((0,M.eY)());return(0,r.useEffect)(()=>{(0,_.NT)(s.FAf.PROTOTYPE),n((0,T.Y)(a.map(e=>e.mapping),l.current)),s.glU.selectNodesFromNoodles(o),s.X3B.setMagicLinkIsDone()},[a,o,n]),(0,L.x)({aiTrackingContext:t})}function F(){return r.createElement(v.d,null,r.createElement(U,null))}function B(e){return s.X3B.getMagicLinkSelectionInfo().selectedDisplayAmount}function U(){let e=(0,a.wA)(),t=(0,I.RL)(N.JT.MAGIC_LINK,T.e),{start:n,stop:i,state:c,aiTrackingContext:u}=t,{close:m}=(0,S.cq)(),f=(0,r.useRef)(null),y=(0,h.ut)((0,_.aY)(),s.FAf.DESIGN);(0,r.useEffect)(()=>{c===I.qy.INITIAL&&null===f.current&&(f.current=y,(0,_.NT)(s.FAf.PROTOTYPE))},[c,y]),(0,r.useEffect)(()=>()=>{c===I.qy.INITIAL&&null!==f.current&&(0,_.NT)(f.current)},[c]);let v=(0,d.Xr)(w.d_);switch(c){case I.qy.INITIAL:return r.createElement(O.A,{action:N.JT.MAGIC_LINK,actionIcon:r.createElement(l.B,null),actionLabel:(0,p.tx)("fullscreen_actions.quick_actions.add-interactions"),onPerform:()=>{f.current=null,n({})},getCustomDisabledTextFromSelectedNodes:t=>{let n,r;let{selectedDisplayAmount:a,tlfAmount:o,onlyTopLevelNodesSelected:l}=s.X3B.getMagicLinkSelectionInfo();return o>10?(n=(0,p.tx)("magic_link.tlf_selection_too_large"),r="Select 10 or fewer frames"):l||(n=(0,p.tx)("magic_link.select_a_set_of_layers"),r="Select a set of layers"),r&&e((0,E.Zh)({name:"prototype.ai_magic_link_action_instruction",params:{instruction:r,numSelectedNodes:a,numSelectedTlfs:o}})),n},getCustomSelectedNodesAmount:B,aiTrackingContext:u,instructionAction:{type:"learn_more",url:N.Xy}},(0,p.tx)("magic_link.select_a_set_of_frames"));case I.qy.RUNNING:return v(!1),g.Y5.triggerAction("start-magic-link"),r.createElement(P.F,{onCancel:()=>{i(),m()},aiTrackingContext:u},(0,p.tx)("magic_link.running"));case I.qy.DONE:return r.createElement(K,{magicLinkOutput:t.result,aiTrackingContext:u});case I.qy.ERROR:if(g.Y5.triggerAction("end-magic-link"),t.error instanceof b.ft)return e((0,E.Zh)({name:"prototype.ai_magic_link_custom_error",params:{error:"invalid_selection_from_generic_layers"}})),r.createElement(z,null);return r.createElement(R.E,{error:t.error,aiTrackingContext:u});case I.qy.CANCELLED:return g.Y5.triggerAction("end-magic-link"),null;default:(0,o.assertNever)(c)}}function z(){let e=(0,m.Tv)();return r.createElement(k.u,{buttons:[{label:(0,p.t)("fullscreen.context_menu.auto_rename_layers"),onClick:()=>{(0,x.$I)({moduleToOpen:{type:"custom",module:r.createElement(A.A,{source:f.uQ.MAGIC_LINK}),name:C.Sn.RENAME_LAYERS_TOAST,beforeModuleOpen:()=>{(0,I.cT)(N.JT.MAGIC_LINK),(0,y.Yh)(c.D.getState().mirror.appModel,N.JT.AUTO_RENAME_LAYERS)&&(0,I.Ag)(N.JT.AUTO_RENAME_LAYERS,f.Ay,{source:f.uQ.MAGIC_LINK,overwriteNames:!1})}},trackingData:{source:"magic_link_rename_layers_suggestion_toast"}})},variant:"secondary",iconPrefix:r.createElement(i._,null),shortcuts:[{key:u.Uz.ENTER,modifier:[u.xH.META]}]}]},(0,p.tx)(1===e.length?"magic_link.rename_layer_suggestion":"magic_link.rename_layers_suggestion"))}},830111:(e,t,n)=>{n.d(t,{h:()=>A});var r=n(411855),a=n(188507),o=n(976404),l=n(421757),i=n(767129),s=n(397863),c=n(139689),d=n(921211),u=n(939683),p=n(966712),m=n(915440),g=n(711525),f=n(99380),_=n(564577),h=n(493323),E=n(939863),y=n(67294),v=n(174989),b=n(738269),w=n(973149),T=n(177505),N=n(335682),I=n(611978),S=n(279453),C=n(335650);let x="recordings_entrypoint_window--secondaryText--nAp30";function A(e){let t=r.useContext(f.q5),n=(0,N.q5)(),a=n?.key,d=(0,o.U1)(),u=r.useMemo(()=>({fileKey:a??""}),[a]),_=(0,m.Rs)(S.bCq,u,{enabled:(0,p.kc)().async_spotlight}),{onClose:y}=e;r.useEffect(()=>{(0,p.kc)().async_spotlight&&n&&(0,C.Q3)(n,C.ZP.RECORDINGS_WINDOW_OPENED,C.uT.SIDEBAR)},[n]);let v=r.useCallback(()=>{(0,C.Q3)(n,C.ZP.NEW_RECORDING_BUTTON_CLICKED,C.uT.SIDEBAR),t.initializeRecordingMedia(),y()},[y,t,n]),b=r.useMemo(()=>{if("loaded"!==_.status||_.data.walkthroughMediaByFileKey.status!==g.tT.Loaded)return[];let e=_.data.walkthroughMediaByFileKey.data;return e?e.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()):[]},[_]);return(0,p.kc)().async_spotlight&&a?r.createElement("div",{className:"recordings_entrypoint_window--windowContainer--dPDES",ref:d},r.createElement("div",{className:"recordings_entrypoint_window--windowHeader--r4wNv"},r.createElement("div",{className:"recordings_entrypoint_window--windowTitle--eDl4P"},(0,E.tx)("recordings.recordings")),r.createElement("div",{className:"recordings_entrypoint_window--windowHeaderRight--QHvmv"},r.createElement("button",{onClick:v,className:"recordings_entrypoint_window--actionStrip--xnHRK"},r.createElement(s.x,null),(0,E.tx)("recordings.new_recording")),r.createElement(i.K,{onClick:e.onClose,"aria-label":(0,E.t)("general.close")},r.createElement(c.A,null)))),"loaded"!==_.status||_.data.walkthroughMediaByFileKey.status!==g.tT.Loaded?r.createElement("div",{className:"recordings_entrypoint_window--loadingSpinnerContainer--r2n7-"},r.createElement(h.kt,null)):0===b.length?r.createElement("div",{className:"recordings_entrypoint_window--emptyStateContainer--QYgG-"},r.createElement("div",{className:"recordings_entrypoint_window--emptyStateTextSection--fpTRu"},r.createElement("div",{className:"recordings_entrypoint_window--boldText---2EPl"},(0,E.tx)("recordings.no_recordings_yet")),r.createElement("div",{className:x},(0,E.tx)("recordings.make_context_setting_easier"))),r.createElement(l.$n,{onClick:v},(0,E.tx)("recordings.new_recording"))):r.createElement("div",{className:"recordings_entrypoint_window--recordingsContainer--5-i0S"},b.map(t=>r.createElement(R,{recording:t,onClose:e.onClose,key:t.id})))):null}function R(e){let t=(0,I._6)(),n=(0,a.wA)(),o=(0,N.q5)(),l=(0,T.dh)(),i=(0,a.d4)(e=>e.versionHistory),s=(0,u.U)(),c=r.useMemo(()=>new w.f0(Number.POSITIVE_INFINITY,!1,!1),[]),[p,m]=r.useState(!1),f=async()=>{if("fullscreen"===t.view){(0,C.J1)(o.key,o.editorType,C.NA.SIDEBAR,e.recording.id),l!==e.recording.meta.pageId&&await (0,T.$P)(e.recording.meta.pageId,l,i,n,!1,s);let r={...t,walkthroughRecordingId:e.recording.id};n((0,b.$T)(r)),e.onClose()}},h=e.recording.meta.lengthMs.status===g.tT.Loaded?e.recording.meta.lengthMs.data:null,S=h?c.format(h/1e3):null;return r.createElement("div",{className:"recordings_entrypoint_window--recordingRow--tEVbx",key:e.recording.id,onClick:f,tabIndex:0,role:"button",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},r.createElement("div",{className:"recordings_entrypoint_window--profileImg--ssJ-s"},p?r.createElement(d.K,{className:"recordings_entrypoint_window--hoverPlayIcon--UZ5-8"}):r.createElement(v.H,{user:e.recording.creator,size:y.Pf.LARGE})),r.createElement("div",{className:"recordings_entrypoint_window--recordingInfo--mvIzC"},r.createElement("div",{className:"recordings_entrypoint_window--recordingInfoTopRow--8eH08"},r.createElement("div",{className:"recordings_entrypoint_window--recordingTitle--GdNUG"},(0,E.tx)("recordings.month_day",{monthStr:e.recording.createdAt.toLocaleString("default",{month:"short"}),dayNumber:e.recording.createdAt.getDate()})," - ",e.recording.meta.title),r.createElement("div",{className:x},r.createElement(_.h1,{date:e.recording.createdAt,style:"short"}))),r.createElement("div",{className:x},S," \xb7 ",e.recording.creator.handle)))}},857738:(e,t,n)=>{n.d(t,{IS:()=>T,MR:()=>w,$0:()=>N});var r=n(411855),a=n(921211),o=n(587670),l=n(629019),i=n.n(l),s=n(522739),c=n(318812),d=n(498606),u=n(924430),p=n(188507),m=n(421757),g=n(897379),f=n(966712),_=n(762638),h=n(939863),E=n(392592),y=n(335682),v=n(157147),b=n(706607);let w="slides-presentation-flyout",T={type:v.ZU.FLYOUT,name:w,editModes:v.LB.concat([o.m1T.SLIDE_LAYOUT,o.m1T.PREVIEW]),nonEditorsAllowed:!0,loggedOutAllowed:!0,recordingKey:"slidesPresentationFlyout",onboardingKey:u.J5,flyoutDoNotStyleActiveItem:!0,largeDisplayMode:!0,children:[{action:"present-slides-audience-view",actionOnFlyoutItemClick:"set-slides-audience-view",recordingKey:"audienceViewPresent",featureFlags:["piper"],description:"present-slides-description",isActive:()=>!0},{action:"present-slides-presenter-view",actionOnFlyoutItemClick:"set-slides-presenter-view",recordingKey:"presenterViewPresent",featureFlags:["piper"],description:"present-slides-presenter-view-description"}],footer:r.createElement("div",{className:"slides_toolbar_items--copyPresentationLinkWrapper--wpxRz","data-onboarding-key":u.FM},r.createElement(function(){let e=(0,y.tS)(),t=(0,p.wA)(),n=r.useCallback(()=>{let n=`${(0,f.tl)().figma_url}/deck/${e}`;navigator.clipboard.writeText(n),t(E.F.enqueue({type:"copy-presentation-link-success",message:(0,h.t)("fullscreen_actions.copy-presentation-link-success")}))},[e,t]);return r.createElement(m.IK,{variant:"secondary",onClick:n},r.createElement("div",{className:_.cx.flex.flexRow.itemsCenter.justifyCenter.$},r.createElement(g.r,null),(0,h.tx)("fullscreen_actions.copy-presentation-link")))},null))};function N({item:e,defaultItem:t,dropdownKey:n,tooltipText:o,additionalDispatchData:l,recordingKey:u,disabled:p}){let{toggle:m,showing:g}=(0,c.BK)(n),f=r.useRef(null);return r.createElement("div",{ref:f,className:i()(b.fullHeightSidebarFlyout,{"slides_toolbar_items--flyoutDropdownShown--xV4l7":g,[b.disabledFullHeightSidebarFlyout]:p}),"data-tooltip-type":d.Ib.LOOKUP,"data-tooltip":t.action,"data-onboarding-key":e.onboardingKey,"data-testid":t.action},r.createElement(s.D8,{className:i()(b.fullHeightSidebarFlyoutButton,"slides_toolbar_items--flyoutButton--iXCH9",{"slides_toolbar_items--disabledFlyoutButton--o5Iom":p}),recordingKey:u,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":o,dataTestId:`${e.name}-button`,onMouseDown:p?void 0:()=>{let e=f.current;m({data:{...l,targetRect:e.getBoundingClientRect()}})},onClick:e=>e.stopPropagation()},r.createElement(a.K,null)))}},334290:(e,t,n)=>{n.d(t,{rA:()=>ew,jX:()=>eT,kL:()=>eR,kF:()=>eA,n8:()=>eC,bu:()=>eN,QW:()=>ev,T0:()=>ek,xG:()=>eP,tO:()=>eM,w8:()=>eL,Es:()=>eO,U4:()=>eb,Kd:()=>eI});var r=n(411855),a=n(109388),o=n(188507),l=n(842700);function i(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m16.988 9.17.055.758.747.15A4.002 4.002 0 0 1 17 18H8a5 5 0 0 1-.34-9.989l.567-.038.257-.507a4.5 4.5 0 0 1 8.504 1.703M2 13a6 6 0 0 1 5.593-5.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19H8a6 6 0 0 1-6-6m8.354-2.854a.5.5 0 0 0-.708.708l1.647 1.646-1.647 1.646a.5.5 0 0 0 .708.708L12 13.207l1.646 1.647a.5.5 0 0 0 .708-.708L12.707 12.5l1.647-1.646a.5.5 0 0 0-.708-.708L12 11.793z",clipRule:"evenodd"}))}var s=n(434228);function c(e){return(0,s.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h2a.5.5 0 0 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3a.5.5 0 1 1 0-1h3a4 4 0 0 0 .79-7.922zm-4.69 1.219a.5.5 0 0 0-.707 0l-2.5 2.5a.5.5 0 1 0 .708.707l1.646-1.647V19a.5.5 0 1 0 1 0v-6.293l1.646 1.647a.5.5 0 0 0 .708-.707z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h1.5a.5.5 0 0 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3.5a.5.5 0 0 1 0-1H17a4 4 0 0 0 .79-7.922zm-5.19 1.218a.5.5 0 0 0-.707 0l-3 3a.5.5 0 0 0 .708.708L11 12.707V19.5a.5.5 0 0 0 1 0v-6.793l2.146 2.147a.5.5 0 0 0 .708-.708z",clipRule:"evenodd"}))}var d=n(963757),u=n(587670),p=n(629019),m=n.n(p),g=n(776250),f=n(737947),_=n(939683),h=n(794272),E=n(915440),y=n(179940),v=n(153234),b=n(30637),w=n(743282),T=n(761870),N=n(195847),I=n(574176),S=n(46481),C=n(348425),x=n(715981),A=n(47506),R=n(939863),k=n(738269),O=n(662275),P=n(103907),D=n(483990),M=n(672517),L=n(198371),K=n(226055),F=n(516398),B=n(728325),U=n(356390),z=n(949632),V=n(369870),H=n(779709),X=n(855418),G=n(318812),W=n(321487),$=n(100197),Y=n(239671),j=n(498606),q=n(279145),J=n(977466),Z=n(887326),Q=n(233890),ee=n(707458),et=n(206074);function en(e){let t=(0,o.d4)(e=>e.mirror.appModel.pagesList),n=(0,o.d4)(e=>e.mirror.appModel.currentPage),a=(0,o.wA)();if(!t)return null;let l=async e=>{await ee.q.instance.setCurrentPageFromNodeAsync(e.nodeId)},i=t.map(e=>({displayText:e.name,disabled:!1,isChecked:n===e.nodeId,nodeId:e.nodeId}));return r.createElement(et.j,{dispatch:a,items:i,showPoint:!0,parentRect:e.dropdown.data.targetRect,onSelectItem:l,recordingKey:"pagesPicker"})}var er=n(227795),ea=n(27928),eo=n(601538),el=n(368702),ei=n(157147),es=n(136297),ec=n(447798),ed=n(761070),eu=n(67029),ep=n(238472),em=n(432616),eg=n(593701),ef=n(974397),e_=n(874804);let eh=[ea.PH.type];function eE(e){return e.iconOverride?{svg:e.iconOverride,ui3Icon:r.createElement(l.V,null)}:e.type===ei.ZU.TOOL?(0,X.LW)(e.tool):e.type===ei.ZU.ACTION||e.type===ei.ZU.TEXT_BUTTON?(0,X.bs)(e.action):(console.error(`Couldn't find icon for item ${e}`),null)}function ey(e){return e.type===ei.ZU.ACTION?(0,X.GG)(e.action):null}class ev extends v.o6{constructor(){super(...arguments),this.onClick=v.cZ(this,"click",B.VU.get(this.props.action,"toolbar"))}render(){let{action:e,text:t}=this.props;return r.createElement("div",{className:ec.dM},r.createElement("div",{key:`toolbar-action-button-${e}`,className:`${ec.uX} ${this.props.className?this.props.className:""}`,onClick:this.props.onClick||this.onClick,"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":e},t))}}function eb(e,t){return{ui2ClassName:m()(ec.gb,(0,es.M)(e,t),{[ec.YT]:t}),tooltipProps:{"data-tooltip-type":j.Ib.TEXT,"data-tooltip":t?(0,R.t)("fullscreen.focus_mode.toggle_variants.exit"):(0,R.t)("fullscreen.focus_mode.toggle_variants.enter"),"data-tooltip-submenu-open":!1,"data-tooltip-shortcut-key":"focus-mode-component-set-toggle"}}}function ew(e){let{item:t,isEnabled:n,isActive:a,showBadge:o,recordingKey:l}=e,i=(0,K.GS)(),s=e=>{B.VU.get(t.action,"toolbar")(),i&&e.stopPropagation()};if(!n)return null;let c=eE(t),d=c?.svg,u=ey(t),p=c?.ui3Icon,g=`toolbar-action-${t.action}`,f={"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":t.action,"data-onboarding-key":t.onboardingKey,"data-tooltip-submenu-open":a},_="focus-mode-component-set-toggle"===t.action?eb(n,a):null,h=_?.tooltipProps,E=_?.ui2ClassName;return c?r.createElement("span",{className:ec.WT},i?r.createElement(er.YW,{recordingKey:l,onMouseDown:n?s:void 0,"aria-label":(0,D.A)(t.action),selected:a,showTooltipWhenSelectedIsTrue:!0,dataTestId:g,...f,...h},p):d?r.createElement(C.t,{id:g,key:g,dataTestId:g,svg:d,fallbackSvg:u||void 0,recordingKey:l,className:E??m()(ec.gb,(0,es.M)(n,a)),onMouseDown:n?s:void 0,...f,...h}):r.createElement(r.Fragment,null),o&&r.createElement("div",{className:ec.q3},r.createElement(I.B,{svg:em.A}))):r.createElement(r.Fragment,null)}ev.displayName="TextButton";let eT=r.memo(function({recordingKey:e}){let t=(0,G.Um)(),n=(0,o.d4)(e=>(0,q.Yh)(e.mirror.appModel,ei.ec.action)&&!!e.openFile),a=(0,o.d4)(e=>e.mirror.appModel.currentTool===ei.ec.tool),l=(0,P.n6)(),i=(0,o.d4)(e=>e.mirror.appModel.topLevelMode);return r.useEffect(()=>{if(n&&a){let e=!0;return(0,el.W)("right",()=>{e&&U.Y5.triggerAction("set-tool-default")}),()=>{e=!1}}},[n,a]),r.createElement(ek,{key:`tool-button-${ei.ec.tool}`,dropdownShown:t,isEnabled:n,isActive:a,item:ei.ec,numUnreadComments:l,recordingKey:e,topLevelMode:i})});function eN(){return(0,$.J2)((0,z.d)().showTimeSlicingEditRenderingDot)?r.createElement("div",{className:ec.e1,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,R.t)("time_sliced_edit_rendering.active"),"data-onboarding-key":"tsmer-status"},r.createElement(I.B,{className:ec.by,svg:ep.A})):null}function eI(){let[e,t]=r.useState(!1),[n,a]=r.useState(void 0),l=(0,o.d4)(e=>e.saveStatus?.hasUnsavedChanges),i=(0,o.d4)(e=>e.autosave.onboardingTooltipVisible),s=(0,E.Ym)()===E.Dj.CONNECTED||(0,b.PN)(),c=!!(0,o.d4)(e=>e.openFile);return r.useEffect(()=>(l||i||!s?void 0!==n||e||a(setTimeout(()=>{t(!0),a(void 0)},c?3e3:1e4)):(t(!1),clearTimeout(n),a(void 0)),()=>{clearTimeout(n)}),[l,i,e,n,s,c]),e}let eS=e=>{switch(e){case u.E63.SUPPRESS_UNSAVED_CHANGES_UI:case u.E63.NONE:return"";case u.E63.DISCONNECTED_AUTOSAVE_DISABLED:return(0,R.t)("unsaved_changes.disconnected.autosave_disabled");case u.E63.DISCONNECTED_SERVER_ISSUES:return(0,R.t)("unsaved_changes.disconnected.server_issues");case u.E63.DISCONNECTED_OTHER:return(0,R.t)("unsaved_changes.disconnected.other");case u.E63.SYNCING_AUTOSAVE_DISABLED:return(0,R.t)("unsaved_changes.syncing.autosave_disabled");case u.E63.SYNCING_SERVER_ISSUES:return(0,R.t)("unsaved_changes.syncing.server_issues");case u.E63.SYNCING_OTHER:return(0,R.t)("unsaved_changes.syncing.other");default:throw Error(`Unhandled tab close text enum value ${e}`)}},eC=r.memo(function(){let e=(0,o.d4)(e=>e.mirror.appModel.multiplayerSessionState===u.kul.JOINED),t=(0,o.d4)(e=>e.saveStatus?.tabCloseText),n=(0,E.Ym)()===E.Dj.CONNECTED||(0,b.PN)(),a=eI(),l=t?eS(t):"",s=ed.A,d=r.createElement(i,null);return e&&(n?(s=eu.A,d=r.createElement(c,null)):(l=(0,R.t)("unsaved_changes.disconnected.live_updates"),s=ed.A)),!function(e,t,n,a,l){let i=(0,o.d4)(e=>e.saveStatus?.hasUnsavedChanges),[s,c]=r.useState(!1);r.useEffect(()=>{if(t&&!s){let t=n===ed.A?"offline":"unsaved";(0,g.sx)("Show Save Status Icon",{tooltipText:e,iconName:t,multiplayerJoined:a,livegraphConnected:l,hasUnsavedChanges:i},{forwardToDatadog:!0}),c(!0)}},[s,c,e,t,n,i,a,l])}(l,a,s,e,n),a?r.createElement("div",{className:ec.e1,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":l,"data-onboarding-key":"multiplayer-save-status"},r.createElement(S.U,{svg:s},d)):null}),ex=e=>e===ei.ec?(0,R.t)("fullscreen.accessibility.view_comments"):(0,D.A)(e.action),eA="fullscreen_menu_visible",eR="fullscreen_menu_hidden";function ek(e){let{isEnabled:t,isActive:n,item:a,numUnreadComments:o,recordingKey:l,isWide:i}=e,s=r.useRef(null),c=eE(a)?.svg||null,d=ey(a),p=H.z4.getIsExtension(),g=r.useRef(null);if(!n&&g.current&&g.current===document.activeElement&&Q.F2.focusCustomCanvasFocusElement(),!c)return null;function f(e){return r=>{t&&(n&&a.tool===u.NLJ.COMMENTS?(U.Y5.triggerAction("set-tool-default"),e&&g.current?.focus()):B.VU.get(a.action,"toolbar")(r))}}return r.createElement("div",{key:a.action,"data-testid":a.action,className:ec.yT,ref:s},r.createElement(C.t,{svg:c,fallbackSvg:d||void 0,recordingKey:l,className:m()(ec.gb,(0,es.M)(t,n),i?ec.U:null),onMouseDown:f(!1),"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":a.action,"data-onboarding-key":a.onboardingKey,role:"button",tabIndex:0,onKeyDown:e=>(0,F.hx)({e,onClickHandler:f(!0)}),ariaLabel:ex(a),"aria-pressed":n,"data-fullscreen-intercept":!0,innerSpanRef:g}),!p&&o>0&&a.tool===u.NLJ.COMMENTS&&r.createElement("div",{className:n?ec.TE:ec.Zm}))}function eO(){return"main-menu"}let eP=r.memo(function(e){let t=r.createRef(),n=(0,o.wA)(),l=(0,w.g)(),{dropdownShown:i,modalShown:s,user:c,selectedView:u}=(0,h.R)(e=>({dropdownShown:e.dropdownShown,modalShown:e.modalShown,user:e.user,selectedView:e.selectedView})),p=(0,L.$D)(),m=(0,K.GS)();r.useEffect(()=>{(0,q.TY)(i)?(0,A.YQ)({id:eA}):(0,A.YQ)({id:eR})},[i]);let g=r.useRef(null);return(0,V.eM)()?m?r.createElement("div",{className:ec.Ex},r.createElement(d.m,null)):null:r.createElement(x.i,{key:"toggle-menu-button",id:"toggle-menu-button",ref:t,className:`${ec.AQ} ${e.hideToolsClassName}`,recordingKey:"toggleMenuTopbarButton",selected:(0,q.TY)(i),svg:ef.A,fallbackSvg:e_.A,showChevron:!0,chevronRef:g,positionOnChevron:!0,"data-tooltip-type":j.Ib.LOOKUP,"data-tooltip":eO(),onClick:()=>{let e=t.current,r=a.findDOMNode(e);if(!c||c.appData&&c.appData.loggedOut){r&&("fullscreen"===u.view&&u.editorType===Y.nT.Whiteboard?(n(T.Ts({origin:"logged_out_main_menu_toolbar",redirectUrl:f.Ay.location.pathname,signedUpFromOpenSession:p})),n(O.to({type:J.x,data:{headerText:(0,R.t)("fullscreen.toolbar.create_an_account_to_do_more_with_fig_jam")}}))):n(k.j7({type:q.G,data:{targetRect:r.getBoundingClientRect()}})));return}if(s?.type&&eh.includes(s?.type)&&n(O.ES({type:s.type})),(0,q.TY)(i))n(k.oB());else if(r){let e={type:q.pi,data:{targetRect:r.getBoundingClientRect()},hasOwnEscKeyHandler:!0};n(k.j7(e))}},ariaLabel:(0,R.t)("fullscreen_actions.main_menu"),"aria-haspopup":"menu","aria-expanded":(0,q.TY)(i),"aria-controls":l,onboardingKey:eo.tO,isUI3:m,ui3Icon:r.createElement(d.m,null)},(0,q.TY)(i)&&r.createElement(Z.e,{id:l,key:"fullscreen-menu","aria-labelledby":"toggle-menu-button",controlledByID:"toggle-menu-button",dropdown:i,recordingKey:"mainMenu",chevronRef:g,positionOnChevron:!0}),(0,q.IS)(i)&&r.createElement(en,{dropdown:i}))}),eD=(0,M.tf)(ev),eM=r.memo(function(){let{openFile:e,selectedView:t}=(0,h.R)(e=>({openFile:e.openFile,selectedView:e.selectedView})),n=(0,L.$D)(),a=(0,o.wA)();return r.createElement(eD,{text:(0,R.t)("fullscreen.toolbar.log_in"),isEnabled:!0,action:"",onClick:()=>{let r="";"fullscreen"===t.view&&"DUPLICATE"===t.landingState?r=e?(0,R.t)("fullscreen.toolbar.log_in_or_create_an_account_to_get_a_copy_of",{file:e.name}):(0,R.t)("fullscreen.toolbar.log_in_or_create_an_account"):n&&(r=(0,R.t)("fullscreen.toolbar.log_in_to_do_more_with_figjam"));let o=(0,y.qg)(f.Ay.location.search)["node-id"];a(T.Ts({origin:"logged_out_footer",formState:N.qB.SIGN_IN,redirectUrl:o?`${f.Ay.location.pathname}?node-id=${encodeURIComponent((0,W.E)(o))}`:f.Ay.location.pathname})),a(O.to({type:J.x,data:{headerText:r}}))},className:ec.eh,innerText:(0,R.t)("fullscreen.toolbar.log_in")})}),eL=r.memo(function(e){let t=(0,_.U)();return r.createElement(x.L,{ariaLabel:(0,R.t)("fullscreen.toolbar.missing_fonts"),key:"missing-fonts-button",svg:eg.A,className:ec.Er,onClick:()=>{t("missing_fonts_button_clicked"),u.glU.findMissingFontsAndShowPopover()},recordingKey:v.Pt(e,"missingFontsButton"),"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.toolbar.missing_fonts")})})},136297:(e,t,n)=>{n.d(t,{I:()=>r,M:()=>a});let r=n(706607);function a(e,t,n=!0){let o=r.enabledButton;return e?t&&n&&(o=r.activeButton):o=r.disabledButton,o}},753630:(e,t,n)=>{n.d(t,{PK:()=>C,QE:()=>I,om:()=>w,z2:()=>S});var r=n(411855),a=n(188507),o=n(634832),l=n(587670),i=n(794272),s=n(966712),c=n(153234),d=n(483990),u=n(408405),p=n(779709),m=n(318812),g=n(279145),f=n(212478),_=n(334290),h=n(157147),E=n(447798);let y=r.memo(function({item:e}){let t=(0,a.d4)(t=>(0,d.A)(e.label));return r.createElement("div",{key:`label-${e.label}`,className:E.Pf},t)}),v=r.memo(function({item:e,recordingKey:t}){let n=(0,a.d4)(t=>(0,g.Yh)(t.mirror.appModel,e.action)),o=(0,a.d4)(t=>(0,d.A)(e.action));return r.createElement(_.QW,{key:`text-button-${e.action}`,action:e.action,isEnabled:n,text:o,recordingKey:t})}),b=r.memo(function({item:e,disabled:t,recordingKey:n}){let o=e.children.filter(e=>!(0,h.Zk)(e)||!e.featureFlags||e.featureFlags.every(e=>(0,s.kc)()[e])),l=(0,i.R)(e=>o.filter(t=>(0,h.Zk)(t)&&(0,g.Yh)(e.mirror.appModel,t.action))),c=(0,a.d4)(e=>l.length>0&&w(l[0],e));if(0===l.length)return null;if(e.flyoutHideOptionsIfSingleEnabledAction&&1===l.length){var d;return r.createElement(_.rA,{key:`action-button-${l[0].action}`,item:(d=l[0],{type:h.ZU.ACTION,...d}),isEnabled:!0,isActive:c,recordingKey:n})}return 1===l.length&&"flatten-selection"===l[0].action?null:r.createElement(f.xn,{key:`flyout-${e.name}`,item:{...e,children:o},disabled:t,recordingKey:n,styleActiveItem:!e.flyoutDoNotStyleActiveItem})});function w(e,t){return"isActive"in e&&e.isActive?e.isActive(t):"propertyValue"in e&&void 0!==e.propertyValue&&t.mirror.appModel[e.property]===e.propertyValue}let T=r.memo(function({item:e,recordingKey:t}){let n=(0,a.d4)(t=>w(e,t)),o=C();return r.createElement(_.rA,{key:`action-button-${e.action}`,item:e,isEnabled:o(e),isActive:n,recordingKey:"toolbarView.toolCreateSymbol"===t?"toolbarView.createSymbolFlyout":t})}),N=r.memo(function({item:e,numUnreadComments:t,recordingKey:n,canEdit:o}){let i=(0,a.d4)(t=>(0,g.Yh)(t.mirror.appModel,e.action)),c=(0,m.Um)(),d=(0,a.d4)(t=>e.tool!==l.NLJ.NONE&&e.tool===t.mirror.appModel.currentTool&&!(0,g.TY)(c)),u=(0,a.d4)(e=>e.mirror.appModel.topLevelMode);return e.featureFlags&&!e.featureFlags.every(e=>(0,s.kc)()[e])?null:r.createElement(_.T0,{key:`tool-button-${e.tool}`,dropdownShown:c,isEnabled:i,isActive:d,item:e,numUnreadComments:t,recordingKey:n,topLevelMode:u,isWide:e.isWideForEditors&&o})}),I=r.memo(function({item:e,numUnreadComments:t,recordingKey:n}){let l=S(),i=(0,a.d4)(e=>e.progressBarState.mode),s=(0,a.d4)(e=>e.openFile),d=(0,u.T)(i);if(!l(e))return null;let p=e.dontChainRecordingKeys?e.recordingKey:c.Pt(n,e.recordingKey);switch(e.type){case h.ZU.LABEL:return r.createElement(y,{item:e});case h.ZU.TEXT_BUTTON:return r.createElement(v,{item:e,recordingKey:p});case h.ZU.FLYOUT:return r.createElement(b,{item:e,disabled:d,recordingKey:p});case h.ZU.ACTION:return r.createElement(T,{item:e,recordingKey:p});case h.ZU.TOOL:return r.createElement(N,{item:e,numUnreadComments:t,recordingKey:p,canEdit:s?.canEdit||!1});default:(0,o.assertNever)(e)}});function S(){let e=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),t=(0,a.d4)(e=>e.mirror.appModel.currentTool),n=(0,a.d4)(e=>e.openFile),r=(0,a.d4)(e=>e.progressBarState.mode),o=(0,u.T)(r),i=(0,a.d4)(e=>o?!n?.canEdit:e.mirror.appModel.isReadOnly),s=(0,a.d4)(e=>e.mirror.appModel.isSceneReadOnly),c=(0,a.d4)(e=>!!e.user);return a=>!(!a||s&&!a.nonEditorsAllowed||a.onlyShowInReadOnly&&!(i&&r!==l.Oin.HIDE_UI)||a.hideInExtension&&p.z4.getIsExtension())&&(!!n||!a.newFileDisabled)&&(!!c||!!a.loggedOutAllowed)&&(!a.editModes||-1!==a.editModes.indexOf(e))&&(!a.showForTools||-1!==a.showForTools.indexOf(t))}function C(){return(0,a.d4)(e=>t=>{let{featureFlags:n=[]}=t;return(0,g.Yh)(e.mirror.appModel,t.action)&&n.every(e=>(0,s.kc)()[e])&&(!t.isAvailable||t.isAvailable(e))})}},100039:(e,t,n)=>{n.d(t,{bt:()=>P,BH:()=>O,R:()=>k});var r=n(411855),a=n(188507),o=n(730371),l=n(789529),i=n.n(l),s=n(199629),c=n.n(s),d=n(675551),u=n.n(d),p=n(737947),m=n(966712),g=n(153234),f=n(574176),_=n(939863),h=n(154483),E=n(632430),y=n(662275),v=n(617453),b=n(869156),w=n(318812),T=n(335682),N=n(100197),I=n(173454),S=n(715762),C=n(507662),x=n(206074),A=n(564092),R=n(132208);let k="VARIABLES_APPLY_MODE_DROPDOWN",O="[INVALID_FILE_KEY]";function P(e){let{showLibrarySets:t,recordingKey:n}=e,l=(0,a.wA)(),s=function(e,t){let n=(0,a.wA)(),l=(0,T.uL)(),s=(0,N.J2)((0,v.UK)().showGuids),d=(0,A.hZ)(),h=(0,A.ZP)(),w=r.useCallback((e,t,a,l,i)=>{let c=a??(l?A.UE:A.Ws),u=l===A.Mo?(0,_.t)("variables.mode_properties_panel.select.option.mixed"):t.find(e=>o.deepEquals(e.modeId,l))?.name,g=r.createElement(f.B,{className:"variables_apply_mode_dropdown--infoIcon--BO6TZ",svg:R.A}),v=!!(0,m.kc)().ds_variables_relax_modes,b=t.some(e=>!e.isCompatible),w=(e,t)=>e?t:[];return[...w(c===A.Mo,[{recordingKey:"mode-MIXED",displayText:(0,_.t)("variables.mode_properties_panel.select.option.mixed"),isChecked:!0}]),...w(!!l,[{recordingKey:"mode-INHERIT",displayText:u?(0,_.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:u}):(0,_.t)("variables.mode_properties_panel.select.option.auto"),isChecked:c===A.UE,callback:()=>{d(e,A.UE,u)}}]),...w(!l&&t.length>0,[{recordingKey:"mode-DEFAULT",displayText:(0,_.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:t[0].name}),rightIcon:v&&!t[0].isCompatible?g:void 0,disabled:!v&&!t[0].isCompatible,isChecked:c===A.Ws,callback:()=>{d(e,A.Ws,t[0].name)}}]),...w(t.length>0,[{separator:!0,displayText:""},...a&&a!==A.Mo&&t.every(e=>!(0,o.deepEquals)(e.modeId,a))?[{recordingKey:"mode-DELETED",displayText:(0,_.t)("variables.mode_properties_panel.select.option.deleted"),disabled:!0,isChecked:!0}]:[],...t.map(t=>({recordingKey:"mode-"+t.modeId.guid,displayText:s?`${t.name} (${t.modeId.guid})`:t.name,callback:()=>{i?n((0,E.Wo)({item:i,callback:n=>{d(e,t.modeId,t.name)}})):d(e,t.modeId,t.name)},rightIcon:v&&!t.isCompatible?g:void 0,disabled:!v&&!t.isCompatible,isChecked:(0,o.deepEquals)(t.modeId,c)}))]),...w(v&&b&&h===A.iw.REVIEW_UPDATES,[{separator:!0,displayText:""},{recordingKey:"mode-review-update",displayText:(0,_.t)("variables.modes.option.review_updates"),callback:()=>{n(y.to({type:C.T,data:{initialTab:I.Wv.UPDATES,entrypoint:S.r6.VARIABLE_APPLY_MODE_DROPDOWN_INCOMPATIBLE_LINK}}))},iconType:"info"}]),...w(v&&b&&h===A.iw.LEARN_MORE,[{separator:!0,displayText:""},{recordingKey:"mode-learn-more",displayText:(0,_.t)("variables.modes.option.learn_more"),callback:()=>{p.Ay.unsafeRedirect(A.Yc,"_blank")},iconType:"info"}])]},[h,d,s,n]),x=(0,A.lk)(),k=(0,A.FR)(),P=(0,A.iR)(),M=r.useMemo(()=>{if(!e)return k;{let e=u()(P,(e,t)=>({collectionID:e.node_id,collectionName:e.name,key:e.key,modeOptions:e.modes?.map(t=>({modeId:{guid:t.id,collectionKey:e.key},name:t.name,isCompatible:!0}))||[],explicitMode:null,inheritMode:null,fileKey:D(e)}));return i()({},k,e)}},[P,e,k]),L=(0,b.el)(c()(M,e=>e.fileKey??O)),K=r.useMemo(()=>Object.entries(M).reduce((e,[t,n])=>{if(n.fileKey===l)return e;let r=O;n.fileKey&&L[n.fileKey]&&(r=n.fileKey);let a=e[r];return a?a[t]=n:e[r]={[t]:n},e},{}),[M,l,L]),F=r.useMemo(()=>Object.keys(K).sort(),[K]);return r.useMemo(()=>{let e=[];for(let[n,r]of(Object.values(x).length>0&&e.push({recordingKey:g.Pt(t,"local"),displayText:(0,_.t)("variables.mode_properties_panel.local_variables.subheading"),header:!0}),Object.entries(x)))e.push({recordingKey:g.Pt(t,n),displayText:r.collectionName,children:w(n,r.modeOptions,r.explicitMode,r.inheritMode)});for(let n of F){let r=K[n]??[];if(0===Object.values(r).length)continue;e.length>0&&e.push({separator:!0,displayText:""});let a=L[n]??(0,_.t)("variables.mode_properties_panel.used_variables.subheading");for(let[n,o]of(e.push({recordingKey:g.Pt(t,"fileName-"+a),displayText:a,header:!0}),Object.entries(r).sort(([e,t],[n,r])=>t.collectionName.localeCompare(r.collectionName))))e.push({recordingKey:g.Pt(t,n),displayText:o.collectionName,children:w(n,o.modeOptions,o.explicitMode,o.inheritMode,P[n])})}return e},[x,t,w,F,K,L,P])}(t,n),d=(0,w.Um)();return d&&d.type===k?r.createElement(x.j,{dispatch:l,parentRect:d.data.targetRect,showPoint:!0,items:s,onSelectItem:e=>{e.callback&&e.callback("",{},l)},recordingKey:"applyModeDropdown"}):null}let D=(0,h.fv)()},721489:(e,t,n)=>{n.d(t,{M:()=>E});var r=n(411855),a=n(188507);function o(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 8v7a2 2 0 1 1-4 0V8a2 2 0 1 1 4 0M6 8a3 3 0 0 1 6 0v7c0 .768-.289 1.47-.764 2H16a2 2 0 1 0 0-4h-.757l-3.597 3.596q-.133.135-.28.248A3 3 0 0 0 12 15v-.171l3.89-3.89a2 2 0 0 0-2.83-2.828L12 9.171V8q0-.118-.009-.233l.363-.363a3 3 0 1 1 4.242 4.243l-.362.362a3 3 0 0 1-.234 5.99H9.032L9 18a3 3 0 0 1-3-3zm3 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2",clipRule:"evenodd"}))}var l=n(966712),i=n(153234),s=n(46481),c=n(939863),d=n(738269),u=n(226055),p=n(318812),m=n(498606),g=n(227795),f=n(564092),_=n(100039),h=n(943686);function E({showLibrarySets:e,recordingKey:t}){let n=(0,a.wA)(),E=(0,u.GS)(),y=(0,p.Um)(),v=r.useRef(null),b=r.useCallback(()=>{v.current&&n(d.j7({type:_.R,data:{targetRect:v.current.getBoundingClientRect()}}))},[n]),w=y&&y.type===_.R;return(0,f.A1)(e)?r.createElement("div",{ref:v},r.createElement(g.YW,{recordingKey:i.Pt(t,"applyMode"),selected:!!w,svg:h.A,dataTestId:"applyModeButton","data-tooltip-type":m.Ib.TEXT,"data-tooltip":E?(0,c.t)("properties.dropdown.apply_variable_mode"):(0,c.t)("variables.layer_panel.header.button.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:b},(0,l.kc)().ds_variable_props_unified_ui?r.createElement(s.U,{svg:h.A},r.createElement(o,null)):void 0),r.createElement(_.bt,{showLibrarySets:e,recordingKey:i.Pt(t,"applyModeDropdown")})):null}},203845:(e,t,n)=>{n.d(t,{kn:()=>m,JD:()=>c,bO:()=>u,Uw:()=>d,A:()=>p});var r=n(411855),a=n(188507),o=n(799569),l=n(662275),i=n(237870),s=n(488578);let c="/legal/privacy",d="/legal/tos",u="/legal/reader-mode/privacy",p="/legal/reader-mode/tos",m=(0,i.Ju)(function({url:e,title:t}){let n=(0,a.wA)(),i=r.useRef(null);return r.createElement(s.aF,{disableClickOutsideToHide:!0},r.createElement(o.i0,{onClick:()=>n(l.Lo())}),r.createElement("iframe",{className:"google_device_disclaimer_modals--iframeContainer--0XCRs",title:t,ref:i,src:e}))},"GOOGLE_DEVICE_IFRAME_MODAL")},309325:(e,t,n)=>{n.d(t,{V:()=>d});var r=n(411855),a=n(188507),o=n(563706),l=n(946689),i=n(662275),s=n(203845),c=n(384890);function d({url:e,title:t}){let n=(0,a.wA)();return o.Ay.isMeetDevice?r.createElement(l.Us,{className:c.jH,onClick:()=>n(i.to({type:s.kn,data:{url:e,title:t}})),trusted:!0},t):r.createElement(l.Us,{className:c.jH,href:e,target:"_blank",trusted:!0},t)}},974898:(e,t,n)=>{n.d(t,{e:()=>o});var r=n(237870),a=n(279080);let o="WORKSHOP_ONBOARDING";(0,r.Ju)(a.mG,o)},279080:(e,t,n)=>{n.d(t,{mG:()=>B,v6:()=>z,kO:()=>U});var r=n(411855),a=n(188507),o=n(69814),l=n(629019),i=n.n(l),s=n(38329),c=n(737947),d=n(563706),u=n(286640),p=n(761870),m=n(195847),g=n(175103),f=n(946689),_=n(632923),h=n(939863),E=n(838e3),y=n(662275),v=n(650769),b=n(672517),w=n(198371),T=n(988022),N=n(737499),I=n(335682),S=n(860178),C=n(227338),x=n(977466),A=n(203845),R=n(309325),k=n(488578),O=n(479296);let P="workshop_modals--textContainer--Fn3Oc",D="workshop_modals--disclaimer--wFoqk text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI",M="workshop_modals--figjamTryDisclaimer--g4iHA text--fontPos12--YsUAh text--_fontBase--QdLsd";function L({user:e,file:t}){let n=(0,a.wA)(),o=(0,r.useMemo)(()=>d.Ay.isMeetDevice?(0,h.t)("figjam_try.google_meet_user_name"):localStorage.getItem((0,C.H)())||"",[]),[l,i]=(0,r.useState)(o),[s,u]=(0,r.useState)(!1),g=(0,w.nF)(),f=g.enabled?g.id:null,_=!e,b=!!t?.isTryFile;return{openLoginModal:()=>{n(p.Ts({origin:"logged_out_footer",formState:m.qB.SIGN_IN,redirectUrl:c.Ay.location.pathname})),n(y.to({type:x.x,data:{headerText:"Log In",disableClickOutsideToHide:!0}}))},name:l,onNameChanged:e=>{i(e.target.value)},isNameError:s,onSubmit:r=>{if(r.preventDefault(),r.stopPropagation(),_&&(null==l||0===l.trim().length)){u(!0);return}_?(n(v.cq({name:l})),b&&t?.name===(0,h.t)("fullscreen.fullscreen_view_selector.untitled")&&n(E.S({userName:l,file_key:t.key}))):U(f,e.email),(0,T.Cu)({name:"Jam Session access file button",isAnonymous:_,isFigjamTry:b,userID:e?.id??null,userName:_?l:null,fileKey:t?.key}),n(y.Ce())},onClose:e=>{e.preventDefault(),e.stopPropagation(),n(v.cq({name:(0,h.t)("figjam_try.google_meet_user_name")})),b&&t?.name===(0,h.t)("fullscreen.fullscreen_view_selector.untitled")&&n(E.S({userName:l,file_key:t.key})),n(y.Ce())}}}function K({file:e}){let{openLoginModal:t,name:n,onNameChanged:a,isNameError:o,onSubmit:l,onClose:s}=L({file:e}),c=(0,N.BI)(),u=!c?.shouldOptimizeForIpadApp;return r.createElement(r.Fragment,null,r.createElement("img",{src:"https://static.figma.com/uploads/ff519560b46a66403ec0c45887a8f336270b7033",alt:"",className:"workshop_modals--figjamTryImage--pnbwF"}),r.createElement("div",{className:P},r.createElement("h1",{className:"workshop_modals--figjamTryHeader--5gdQ2 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,h.tx)("figjam_try.onboarding_title"))),r.createElement(_.k0,{multiple:1}),r.createElement("div",{className:P},r.createElement("div",{className:"workshop_modals--figjamTrySubtitle--XIYgl text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,h.tx)("figjam_try.onboarding_subtext"))),r.createElement(_.k0,{multiple:3}),d.Ay.isMeetDevice?r.createElement(f.nD,{type:"close",fullWidth:!0,onClick:s},(0,h.tx)("figjam_try.onboarding_submit")):r.createElement("form",{onSubmit:l},r.createElement(f.il,{autoFocus:!0,className:i()("workshop_modals--figjamTryInput--vCslR",o&&"workshop_modals--figjamTryInputError--wUBqP"),placeholder:(0,h.t)("figjam_try.name_input_placeholder"),onChange:a,value:n}),o&&r.createElement("div",{className:"workshop_modals--figjamTryError--tCLy- text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,h.tx)("figjam_try.onboarding_name_validation_error")),r.createElement(_.k0,{multiple:2}),r.createElement(f.nD,{type:"submit",fullWidth:!0},(0,h.tx)("figjam_try.onboarding_submit"))),r.createElement(_.k0,{multiple:3}),r.createElement("div",{className:M},(0,h.tx)("figjam_try.onboarding_disclaimer",{tos:r.createElement(R.V,{url:d.Ay.isMeetDevice?A.A:A.Uw,title:(0,h.t)("figjam_try.onboarding_disclaimer_tos")}),privacy_policy:r.createElement(R.V,{url:d.Ay.isMeetDevice?A.bO:A.JD,title:(0,h.t)("figjam_try.onboarding_disclaimer_privacy_policy")})})),r.createElement(_.k0,{multiple:1}),u&&!d.Ay.isMeetDevice&&r.createElement("div",{className:M},(0,h.tx)("figjam_try.already_have_an_account",{log_in:r.createElement(f.Us,{className:"workshop_modals--figjamTryInlineLink--R8U28",onClick:t,trusted:!0},(0,h.tx)("figjam_try.already_have_an_account_log_in"))})))}function F({user:e,file:t}){let{openLoginModal:n,name:a,onNameChanged:o,isNameError:l,onSubmit:i}=L({user:e,file:t}),s=!e;return r.createElement(r.Fragment,null,r.createElement("div",{className:P},r.createElement("h1",{className:"workshop_modals--header--1TwZ- text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},(0,h.tx)("whiteboard.open_sessions.onboarding_title")),r.createElement("h1",{className:"workshop_modals--headerFilename--Z60l0 workshop_modals--header--1TwZ- text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},t?.name)),r.createElement(_.k0,{multiple:2}),r.createElement("div",{className:P},r.createElement("div",{className:"workshop_modals--subtitle---dQsr text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI"},(0,h.tx)("whiteboard.open_sessions.onboarding_subtext"))),r.createElement(_.k0,{multiple:2}),r.createElement("form",{onSubmit:i},s&&!d.Ay.isMeetDevice&&r.createElement(r.Fragment,null,r.createElement(g.F0,{autoFocus:!0,placeholder:(0,h.t)("whiteboard.open_sessions.onboarding_name_input_placeholder"),onChange:o,value:a}),l&&r.createElement("div",{className:"workshop_modals--brandError--wMV-m text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI"},(0,h.tx)("whiteboard.open_sessions.onboarding_name_validation_error")),r.createElement(_.k0,{multiple:2})),r.createElement(_.Wd,{type:"submit"},s?(0,h.t)("whiteboard.open_sessions.onboarding_anonymous_submit"):(0,h.t)("whiteboard.open_sessions.onboarding_viewer_submit",{email:e.email}))),s&&r.createElement(r.Fragment,null,r.createElement(_.k0,{multiple:2}),r.createElement("div",{className:P},r.createElement("div",{className:D},(0,h.tx)("whiteboard.open_sessions.onboarding_disclaimer",{button_text:s?(0,h.t)("whiteboard.open_sessions.onboarding_disclaimer_access_file"):(0,h.t)("whiteboard.open_sessions.onboarding_disclaimer_continue"),tos:r.createElement(R.V,{url:A.Uw,title:(0,h.t)("whiteboard.open_sessions.onboarding_disclaimer_tos")}),privacy_policy:r.createElement(R.V,{url:A.JD,title:(0,h.t)("whiteboard.open_sessions.onboarding_disclaimer_privacy_policy")})})),!d.Ay.isMeetDevice&&r.createElement(r.Fragment,null,r.createElement(_.k0,{multiple:1}),r.createElement("div",{className:D},(0,h.tx)("whiteboard.open_sessions.already_have_an_account",{log_in:r.createElement(f.Us,{className:"workshop_modals--inlineLink--knuU8",onClick:n,trusted:!0},(0,h.tx)("whiteboard.open_sessions.already_have_an_account_log_in"))}))))))}function B(){let e=(0,S.iZ)(),t=(0,I.q5)(),n=!!t?.isTryFile,a=s.D.getState().selectedView;return(a?.view==="fullscreen"?a.claim:null)?null:r.createElement(k.aF,{disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,className:"workshop_modals--workshopOnboardModal---pZ-B"},r.createElement(b.fu,{name:"Jam Session Onboarding Modal",properties:{isAnonymous:!e,isFigjamTry:n,userID:e?.id??null,fileKey:t?.key}},r.createElement(o.i,null,n?r.createElement(K,{file:t}):r.createElement(F,{user:e,file:t}))))}let U=(0,O.D)((e,t)=>{let n=(0,u.DN)();try{let r=n.get(z(e));if(!r){n.set(z(e),[t]);return}let a=JSON.parse(r);a.includes(t)||(a.push(t),n.set(z(e),a))}catch(r){n.set(z(e),[t])}});function z(e){return`workshop_logged_in_accpeted_${e}`}},468829:(e,t,n)=>{n.d(t,{w:()=>u});var r=n(411855),a=n(629019),o=n.n(a),l=n(966712),i=n(762638),s=n(939863),c=n(422237),d=n(530244);let u=(0,c.ex)("ai_features_tooltip",function(){return(0,l.kc)().figjam_synthesize_handbrake?r.createElement("div",{className:i.cx.flex.flexColumn.justifyCenter.$},r.createElement("p",{className:o()(d.Qq)},(0,s.t)("whiteboard.inline_menu.ai_quick_actions_disabled_header")),r.createElement("p",{className:o()(d.Qq)},(0,s.t)("whiteboard.inline_menu.ai_quick_actions_disabled_try_again_later"))):r.createElement("span",null,(0,s.t)("whiteboard.inline_menu.ai_quick_actions_button_text"))})},782467:(e,t,n)=>{n.d(t,{e:()=>o,n:()=>l});var r=n(411855),a=n(560945);function o({ref:e,onTextChange:t,text:n}){return l({ref:e,onTextChange:t,text:n,checkVerticalOverflow:!1})}function l({ref:e,onTextChange:t,text:n,checkVerticalOverflow:o=!1}){let[l,i]=(0,r.useState)(!1),s=(0,a.w)(e);return(0,r.useLayoutEffect)(()=>void t?.(),[t,n]),(0,r.useLayoutEffect)(()=>{var t,n;i(o?!!(t=e.current)&&t.offsetHeight<t.scrollHeight:!!(n=e.current)&&n.clientWidth<n.scrollWidth)},[o,e,s,n]),l}},763658:(e,t,n)=>{n.d(t,{k:()=>c});var r=n(411855),a=n(179479),o=n(69961),l=n(414441),i=n(863359),s=n(201547);function c(e){return(0,l.TR)()?r.createElement(d,{...e}):r.createElement(r.Fragment,null,e.children)}function d({name:e,trackingEnabled:t,alsoTrack:n,children:c}){let d=(0,a.F)(n),u=(0,l.U2)({name:e,trackingEnabled:t,alsoTrackRef:d,isNamespace:!1,autoTrackable:!1}),{error:p,trackablePath:m}=u,g=(0,l.MF)(()=>(0,l.ET)(m));(0,l.fK)(m,g);let f=(0,o.o3)(o.nt.trackableDebug),_=(0,l.MF)(()=>(0,l.R8)({componentName:"Trackable",name:e,error:p,alsoTrackedProperties:g()}));return c=(0,s.C)({children:c,isDebugMode:f,name:e,color:p?"red":"green",depth:m.length,getTooltipText:_}),r.createElement(i.f.Provider,{value:u},r.createElement("div",{className:"displayContents","data-trackable-name":e},c))}},552048:(e,t,n)=>{n.d(t,{S:()=>d});var r=n(411855),a=n(629019),o=n.n(a),l=n(574176),i=n(516398),s=n(949207),c=n(432023);function d({children:e,isInitiallyOpen:t,title:n,titleClassName:a}){let[d,u]=r.useState(t),p=()=>u(e=>!e);return r.createElement("div",null,r.createElement("div",{className:o()("collapse--collapseTitle---N1bR",a),onClick:p,onKeyDown:e=>(0,i.hx)({e,onClickHandler:p}),role:"button",tabIndex:0},r.createElement(l.B,{className:"collapse--expandCaret--FzvQ9 library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:d?s.A:c.A}),n),d&&e)}},324666:(e,t,n)=>{function r(){return null}n.d(t,{BX:()=>u,GO:()=>g,H5:()=>a,Mr:()=>y,Qc:()=>i,S7:()=>w,eg:()=>m,g9:()=>v,go:()=>l,i_:()=>b,j8:()=>_,l:()=>p,li:()=>d,lt:()=>o,mh:()=>E,nl:()=>f,oT:()=>h,rC:()=>s,rf:()=>c});let a=r,o=r,l=r,i=r,s=r,c=r,d=r,u=r,p=r,m=r,g=r,f=r,_=r,h=r,E=r,y=r,v=r,b=r,w=r},508226:(e,t,n)=>{n.d(t,{M:()=>a,S:()=>r});let r=function(){return null},a=function(){throw Error("HTML Serializer not available")}},978258:(e,t,n)=>{n.d(t,{Zz:()=>a,fG:()=>l,o2:()=>o});var r=n(939863);let a=2/3,o="slides-rewrite-text",l={executive:{localizedText:(0,r.tx)("slides.properties_panel.rewrite_text.tone_executive"),position:[-a,a],trackingText:"Executive"},technical:{localizedText:(0,r.tx)("slides.properties_panel.rewrite_text.tone_technical"),position:[a,a],trackingText:"Technical"},basic:{localizedText:(0,r.tx)("slides.properties_panel.rewrite_text.tone_basic"),position:[-a,-a],trackingText:"Basic"},educational:{localizedText:(0,r.tx)("slides.properties_panel.rewrite_text.tone_educational"),position:[a,-a],trackingText:"Educational"}}},60656:(e,t,n)=>{n.d(t,{u:()=>l});var r=n(411855),a=n(860601);let o={tonePosition:[0,0],setTonePosition:a.lQ,setPositionAndRun:a.lQ},l=(0,r.createContext)(o)},156182:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(776250);function a(e){(0,r.sx)("slides_rewrite_event",e)}},263086:(e,t,n)=>{n.d(t,{DX:()=>h,FT:()=>_,eX:()=>E});var r=n(411855),a=n(675678),o=n(215122),l=n(587670),i=n(534611),s=n(707458),c=n(776621),d=n(550273),u=n(662531),p=n(32067),m=n(709731),g=n(108239),f=n(978258);function _(e,t,n){let a=(0,r.useCallback)(n=>{e(n),t()},[e,t]),o=(0,r.useCallback)(e=>{n(e)},[n]);return(0,r.useCallback)(e=>{let{eventType:t,node:n}=e;switch(t){case"BEFORE_STREAM_START":a(n);return;case"AFTER_STREAM_CHUNK":o(n);return}},[a,o])}function h(e){let t=(0,r.useRef)(new Map),n=(0,m.wj)(e).state;return(0,r.useEffect)(()=>{n!==m.qy.RUNNING&&t.current.size>0&&(t.current=new Map)},[n]),{slidesTextResizeCallback:(0,r.useCallback)(e=>{if(!e.isInSlide())return;let n=t.current,r=n.get(e.guid);r&&cancelAnimationFrame(r);let d=requestAnimationFrame(()=>{u.l7.ai(f.o2,()=>{(function(e){let t=e.findContainingSlideOrSelf(),n=s.q.instance.get(t);if(!n||"WIDTH_AND_HEIGHT"!==e.textAutoResize)return;let r=n.size.x,a=n.absoluteTransform.m02,o=a+r,l=e.absoluteTransform.m02,i=e.size.x;if(l<=a+16){if(e.parentGuid===t)(0,g.HH)(e,16,e.relativeTransform.m12);else{let n=e;for(;n.parentGuid!==t&&n.parentNode;)n=n.parentNode;(0,g.HH)(n,16,n.relativeTransform.m12)}let n=a+16-l;e.resizeWithConstraints(i-n,e.size.y),l=e.absoluteTransform.m02,i-=n}l+i>=o-16&&e.resizeWithConstraints(o-16-l,e.size.y)})(e),function(e){let t=e.findContainingSlideOrSelf(),n=s.q.instance.get(t);if(!n||"HEIGHT"!==e.textAutoResize&&"WIDTH_AND_HEIGHT"!==e.textAutoResize)return;let r=n.absoluteTransform.m12,d=n.absoluteTransform.m12+n.size.y,u=e.size.y,p=e.absoluteTransform.m12;if(p<r+16||p+u>d-16){let t;e.inheritedTextStyle&&(l.glU.applyStyleToSelection("inheritTextStyleKey",i.AD,!1),l.glU.selectStyle(o.n3.INVALID,o.IA.INVALID));let n=Math.max(0,r+16-p),s=Math.max(0,p+u-(d-16)),m=e.lineHeightOrMixed;"mixed"===m&&(m=e.getRangeLineHeight(0,1)),"mixed"===m?(t=1,(0,c.$D)(a.FigmaTeam.AI_PRODUCTIVITY,Error("Unexpected mixed line height while resizing text node for slide bounds"))):"PIXELS"===m.units?(t=m.value/e.fontSize,e.lineHeight={units:"RAW",value:t}):t=m.value;let g=u/(e.fontSize*t),f=Math.floor((e.fontSize*t-(n+s)/g)/t);e.fontSize=Math.max(f,8)}}(e)})});n.set(e.guid,d)},[])}}function E(){let e=(0,p.O1)(),t=(0,d.Gc)(e,{allowEmpty:!1}),n=(0,r.useRef)(new Map),a=(0,r.useCallback)(()=>{n.current.clear()},[]),o=(0,r.useCallback)(()=>{u.l7.ai(f.o2,()=>{for(let[e,t]of n.current){let n=s.q.instance.get(e);n&&(0,g.HH)(n,t.x,t.y)}n.current.clear()})},[]),l=(0,r.useCallback)(e=>{n.current.has(e.guid)||n.current.set(e.guid,{x:e.relativeTransform.m02,y:e.relativeTransform.m12})},[]);return{shiftAllNodesOutOfSlideMargins:(0,r.useCallback)(()=>{t.forEach(e=>{u.l7.ai(f.o2,()=>{let t=e.findContainingSlideOrSelf(),n=s.q.instance.get(t);if(!n)return;let r=e.absoluteTransform.m12,a=e.size.y,o=n.absoluteTransform.m12,i=o+n.size.y,c=(0,g.F7)(e);if(r<o+16)l(c),(0,g.HH)(c,c.relativeTransform.m02,16);else if(r+a>i-16){let e=Math.max(c.relativeTransform.m12-(r+a-(i-16)),16);l(c),(0,g.HH)(c,c.relativeTransform.m02,e)}})})},[t,l]),resetShiftedNodes:o,resetNodePositionMap:a}}},326186:(e,t,n)=>{n.d(t,{fm:()=>z,o$:()=>W,JU:()=>eo,p$:()=>ea,Tm:()=>H,fp:()=>et,mD:()=>G,Cw:()=>Q,cx:()=>er,Os:()=>j,wi:()=>el,xf:()=>J,PF:()=>q,Ne:()=>X,h$:()=>$,cR:()=>Y,Jp:()=>Z,uG:()=>ee,Ib:()=>ei});var r=n(411855),a=n(188507),o=n(409990),l=n(341092),i=n(675678),s=n(587670),c=n(707458),d=n(841563),u=n.n(d),p=n(622422),m=n(358145),g=n(966712),f=n(374626),_=n(776621),h=n(966981),E=n(30637),y=n(877723),v=n(939863),b=n(392592),w=n(934533),T=n(239349),N=n(293017),I=n(259927),S=n(550273),C=n(574724),x=n(662531),A=n(499777),R=n(601607),k=n(420186),O=n(32067),P=n(914905),D=n(222478),M=n(709731),L=n(999140),K=n(573591),F=n(978258),B=n(60656),U=n(156182);let z=1/3,V="tone-dial-visual-bell",H=(0,A.TJ)(I.vu);function X(){let e=(0,O.O1)();return(0,y.u4)()&&!!(0,g.kc)().figjam_ai_piper_text_manipulation&&(0,S.Gc)(e,{allowEmpty:!1}).length>0}function G(e,t){let{source:n,toggle:r}=t,a=f.zl.get(P.h);if(!a?.current)return;if(f.zl.set(L.zF,n),f.zl.get(H)){r&&W(e);return}let o=(0,E.Lg)()?{x:0,y:0}:(0,k.cn)(a.current,k.qo);e(N.u1({id:I.vu,initialX:o.x,initialY:o.y})),(0,U.G)({eventName:"modal_opened",source:n})}function W(e){e(N.XE()),(0,U.G)({eventName:"modal_closed"})}function $(e,t,n,a){let o=(0,r.useCallback)(({texts:t,parameters:n,targetMap:r,authInfo:a})=>{let o=e(r.values()),l=t.map(({id:e,text:t})=>{let n=r.get(e),a=n&&o.get(n.node.guid);return{id:e,text:a?.effectiveText??t}});return C.Ay.slides.rewriteText({texts:l,tones:n.tones},a)},[e]),{onRun:l,lastParameters:i,longRunningAction:s,cancel:c}=(0,K.Hd)({makeCortexRequest:o,featureType:D.JT.SLIDES_REWRITE_TEXT,excludeDigitsAndSpecialChar:!!(0,g.kc)().ai_prod_tone_dial_block_digits,onNodeStreamEvent:t,onError:n,onSuccess:a,editScopeLabel:F.o2}),{enqueueRun:d}=function(e){let t=(0,r.useRef)(),n=(0,r.useRef)(),a=(0,r.useCallback)(()=>{t.current=void 0,n.current&&(t.current=n.current().then(a),n.current=void 0)},[]);return{enqueueRun:(0,r.useCallback)(r=>{if(t.current){n.current=()=>e(r);return}t.current=e(r).then(a)},[a,e])}}(l);return{enqueueRun:d,lastParameters:i,longRunningAction:s,cancel:c}}function Y(){let{originalNodeInfos:e,setOriginalNodeInfos:t}=function(){let[e,t]=(0,r.useState)(()=>new Map),n=(0,R.wA)(e=>e.getCurrentPage()?.originalNodeInfos??[]),a=(0,r.useMemo)(()=>new Map(n.map(e=>[e.nodeId,e])),[n]),o=(0,r.useCallback)(e=>{c.q.instance.getCurrentPage()?.setOriginalNodeInfos([...e.values()])},[]);return(0,g.kc)().slides_tone_dial_undo?{originalNodeInfos:a,setOriginalNodeInfos:o}:{originalNodeInfos:e,setOriginalNodeInfos:t}}(),n=(0,r.useCallback)(n=>{if(e.size)return e;let r=new Map;for(let e of n){let t=e.node,n=e.selectionRange?.start??0,a=t.getRangeFontSize(n,n+1),o=t.getRangeLineHeight(n,n+1),l=t.inheritedTextStyle;("mixed"===a||"mixed"===o)&&(0,_.$D)(i.FigmaTeam.AI_PRODUCTIVITY,Error("Unexpected mixed font size or line height while saving initial font size and line height")),r.set(t.guid,{...e,nodeId:t.guid,selectionRange:e.selectionRange??null,fontSize:"mixed"!==a?a:null,lineHeight:"mixed"!==o?function(e){switch(e.units){case"RAW":return{value:e.value,units:s.cus.RAW};case"PERCENT":return{value:e.value,units:s.cus.PERCENT};case"PIXELS":return{value:e.value,units:s.cus.PIXELS}}}(o):null,textStyle:l})}return t(r),r},[e,t]),a=(0,r.useCallback)(()=>{t(new Map)},[t]),o=(0,r.useCallback)(t=>{let n=e.get(t.guid);if(!n)return;let r=n.fontSize,a=n.lineHeight,o=n.textStyle,l=n.selectionRange?.start??0,i=n.selectionRange?.end??t.characters.length;x.l7.ai(F.o2,()=>{r&&t.fontSize!==r&&t.setRangeFontSize(l,i,r),a&&!u()(t.lineHeightOrMixed,a)&&t.setRangeLineHeight(l,i,function(e){switch(e.units){case s.cus.RAW:return{value:e.value,units:"RAW"};case s.cus.PERCENT:return{value:e.value,units:"PERCENT"};case s.cus.PIXELS:return{value:e.value,units:"PIXELS"}}}(a)),o&&(t.inheritedTextStyle=o)})},[e]),l=(0,r.useCallback)(()=>{for(let t of e.values()){let e=c.q.instance.get(t.nodeId);e&&o(e)}},[e,o]);return{originalNodeInfos:e,saveOriginalNodeInfos:n,resetOriginalNodeInfos:a,revertNodeToOriginalNodeInfo:o,resetAllNodesToOriginalTextStyles:l}}function j(e){let t=(0,M.pP)(D.JT.SLIDES_REWRITE_TEXT),n=t.state,o=(0,m.ZC)(n)!==n,i=(0,a.wA)();(0,r.useEffect)(()=>()=>{i(b.F.dequeue({matchType:V})),(0,M.cT)(D.JT.SLIDES_REWRITE_TEXT)},[i]),(0,r.useEffect)(()=>{if(o){if(n===M.qy.RUNNING)i(b.F.enqueue({message:(0,v.t)("slides.properties_panel.rewrite_text.action_rewriting"),icon:w.zX.SPINNER,type:V,timeoutOverride:1/0,button:{text:(0,v.t)("slides.properties_panel.rewrite_text.action_stop"),action:()=>(0,M.cT)(D.JT.SLIDES_REWRITE_TEXT)}}));else if(n===M.qy.CANCELLED)i(b.F.dequeue({matchType:V}));else if(n===M.qy.DONE)i(b.F.enqueue({icon:w.zX.CHECK,message:(0,v.t)("slides.properties_panel.rewrite_text.action_done"),type:V,timeoutOverride:8e3,button:{text:(0,v.t)("slides.properties_panel.rewrite_text.action_rewrite_again"),action:()=>e()},onDismiss:()=>{}}));else if(n===M.qy.ERROR){let n=t.error,r=function(e){if(e instanceof K.n4)return(0,v.t)("slides.properties_panel.rewrite_text.error.no_text_characters_found");if(!(e instanceof l.G1))return(0,v.t)("slides.properties_panel.rewrite_text.error.default");let t={offline:(0,v.t)("slides.properties_panel.rewrite_text.error.connection"),meter_exceeded:(0,v.t)("slides.properties_panel.rewrite_text.error.rate_limit"),rate_limit_exceeded:(0,v.t)("slides.properties_panel.rewrite_text.error.rate_limit"),content_length_limit_exceeded:(0,v.t)("slides.properties_panel.rewrite_text.error.token_limit"),text_tool_no_text:(0,v.t)("slides.properties_panel.rewrite_text.error.empty_text"),unsafe_or_harmful_content:(0,v.t)("slides.properties_panel.rewrite_text.error.inappropriate_input"),service_issue:(0,v.t)("slides.properties_panel.rewrite_text.error.openai_down"),slides_rewrite_out_of_date:(0,v.t)("slides.properties_panel.rewrite_text.error.page_not_updated"),ai_opt_out_error:(0,v.t)("slides.properties_panel.rewrite_text.error.opt_out"),unauthorized:(0,v.t)("slides.properties_panel.rewrite_text.error.default"),generic:(0,v.t)("slides.properties_panel.rewrite_text.error.default")},n="generic";if(e instanceof l.G1)switch(e.type){case"content_length_limit_exceeded":case"meter_exceeded":case"rate_limit_exceeded":case"text_tool_no_text":case"service_issue":case"offline":case"unsafe_or_harmful_content":case"ai_opt_out_error":case"slides_rewrite_out_of_date":case"unauthorized":n=e.type;break;case"generic":switch(e.data?.status){case 404:n="service_issue";break;case 429:n="rate_limit_exceeded";break;case 403:n="ai_opt_out_error"}}return t[n]}(n),a=function(e){switch(e.type){case"text_tool_no_text":case"unsafe_or_harmful_content":case"content_length_limit_exceeded":case"slides_rewrite_out_of_date":case"no_text_characters_found":return!1;default:return!0}}(n);i(b.F.enqueue({icon:w.zX.CLOSE_FILLED,message:r,type:V,button:a?{text:(0,v.t)("slides.properties_panel.rewrite_text.action_rewrite_again"),action:()=>e()}:void 0,onDismiss:()=>{}}))}}},[i,n,o,e,t])}function q(e,t){let n=(0,p.$)((0,T.Tv)().join(",")),o=(0,p.$)((0,a.d4)(e=>e.mirror.appModel.activeUserAction===s.QOV.SELECTING_TEXT)),l=n||o,i=(0,p.$)((0,a.d4)(()=>S.nl()?.characters)),c=e===M.qy.RUNNING,d=(0,m.ZC)(c)&&!c,u=c||d;(0,r.useEffect)(()=>{if(!(0,g.kc)().slides_tone_dial_undo){if(l){t();return}i&&!u&&t()}},[t,l,i,u])}function J(e,t){let n=(0,m.ZC)(e),a=n&&!u()(n,e),o=u()(e,[0,0]),l=a&&o;(0,r.useEffect)(()=>{(0,g.kc)().slides_tone_dial_undo&&l&&t()},[t,l])}function Z(e){let{Sprig:t}=(0,h.A)(),n=(0,m.ZC)(e);(0,r.useEffect)(()=>{e===M.qy.DONE&&n===M.qy.RUNNING&&t("track","slides_rewrite_text")},[t,e,n])}function Q(e,t){if(1!==e.size){for(let{nodeId:n,nodeText:r}of e.values()){let e=c.q.instance.get(n);e?.isAlive()&&x.l7.ai(F.o2,()=>{e.spliceCharacters(0,e.characters.length,r,"BEFORE"),t(e)})}return}let[n]=e.values(),r=(0,S.fN)();if(!r||!n||!r.node.isAlive())return;let a=r.node,o=r.selectionRange?.start??0,l=r.selectionRange?.end??a.characters.length,i=n.effectiveText;x.l7.ai(F.o2,()=>{a.spliceCharacters(o,l,i,"BEFORE"),t(a)});let s=c.q.instance.getCurrentPage();n.selectionRange?s?.setSelectedTextRange(a.guid,o,o+i.length):(0,K.y_)(a.guid)}function ee(e){let[t,n]=(0,r.useState)(!1),{tonePosition:a,setTonePosition:o,setPositionAndRun:l}=(0,r.useContext)(B.u),i=(0,r.useCallback)(e=>{n(!0),e.stopPropagation()},[]),s=(0,r.useCallback)(()=>{t&&(n(!1),l(a,{source:"dial_drag"}))},[t,l,a]),c=(0,r.useCallback)(n=>{if(!t||!e.current)return;let{clientX:r,clientY:a}=n;o(et(r,a,e.current.getBoundingClientRect()))},[e,t,o]);return(0,r.useEffect)(()=>(document.addEventListener("mouseup",s),document.addEventListener("mousemove",c),()=>{document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",c)}),[c,s]),{onMouseDown:i,isDragging:t}}function et(e,t,n){return[(e-n.left)/n.width,(n.bottom-t)/n.height].map(e=>Math.max(.045,Math.min(.955,e))).map(e=>(e-.5)*2).map(en)}function en(e){return Math.round(100*e)/100}function er([e,t]){return[en(e),en(t)]}function ea([e,t]){let n=[],r=e=>Math.abs(e);return e<-z?n.push({tone:o.DE.CONCISE,weight:r(e)}):e>z&&n.push({tone:o.DE.EXPANDED,weight:r(e)}),t<-z?n.push({tone:o.DE.CASUAL,weight:r(t)}):t>z&&n.push({tone:o.DE.PROFESSIONAL,weight:r(t)}),n}function eo(e){return[(()=>{let t=e.find(({tone:e})=>e===o.DE.EXPANDED)?.weight;if(t)return t;let n=e.find(({tone:e})=>e===o.DE.CONCISE)?.weight;if(n)return-n})()??0,(()=>{let t=e.find(({tone:e})=>e===o.DE.PROFESSIONAL)?.weight;if(t)return t;let n=e.find(({tone:e})=>e===o.DE.CASUAL)?.weight;if(n)return-n})()??0]}function el(e,t){return(0,r.useEffect)(()=>{let n=e.current?.getEl();if(!n)return;let r=e=>{"Escape"===e.key&&t()};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)},[e,t]),e}function ei(){let[e,t]=(0,r.useState)(()=>[0,0]),n=(0,R.wA)(e=>{let t=e.getCurrentPage()?.tonePosition;return[t?.x??0,t?.y??0]}),a=(0,r.useCallback)(e=>{c.q.instance.getCurrentPage()?.setTonePosition({x:e[0],y:e[1]})},[]);return(0,g.kc)().slides_tone_dial_undo?{tonePosition:n,setTonePosition:a}:{tonePosition:e,setTonePosition:t}}},565831:(e,t,n)=>{n.d(t,{CC:()=>d,FF:()=>u,ih:()=>p});var r=n(188507),a=n(534611),o=n(707458),l=n(297336),i=n(457630),s=n(983724),c=n(366501);function d(){return(0,r.d4)(e=>{let{numSelectedByType:t}=e.mirror.selectionProperties;return t&&(0,l.vx)(t,"SLIDE")})}function u(){let e=(0,c.Jj)(),t=(0,s.l5)();return e&&e!==a.AD?e:t.length>0?t[0]:a.AD}function p(e,t,n){let r=o.q.instance.get(e);if(!r||!r.isSlide())return!1;let a=r.absoluteTransform.m12,l=a+r.size.y,s=r.absoluteTransform.m02,c=s+r.size.x,d=(0,i.$$)(n,t),u=d.y>a&&d.y<l,p=d.x>s&&d.x<c;return u&&p}},67048:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(411855),a=n(629019),o=n.n(a),l=n(498480),i=n(762638),s=n(939863);function c({location:e,overrideText:t,hoverStyleClassName:n}){return r.createElement(l.Ex,{className:o()(i.cx.font11.fontNormal.h16.px4.b1.bRadius5.mr0.hFitContent.if("MODAL"===e||"FILE_BROWSER_BAR"===e||"SLIDES_REWRITE_MODAL"===e,i.cx.colorTextSecondary.colorBorder).if("SUMMARIZE_NUDGE"===e,i.cx.colorTextOnbrand.colorBorderBrand).if("SUMMARIZE_NUDGE_DISABLED"===e,i.cx.colorTextOnbrand.colorBorderDisabled).if("INLINE_TOOLBAR"===e,i.cx.colorTextMenuSecondary.colorBorderMenu).if("SLIDES_REWRITE_MODAL"===e,i.cx.textBodySmall).$,n),color:l.zE.INVERT,subtle:!0,text:t??(0,s.t)("whiteboard.ai_modal.beta_badge")})}},632084:(e,t,n)=>{n.d(t,{zi:()=>_,Gq:()=>h,MS:()=>E,bM:()=>y,ON:()=>w,ep:()=>T,b7:()=>f,SU:()=>d});var r=n(587670),a=n(534611),o=n(707458),l=n(939863),i=(e=>(e.HEART="heart",e.STAR="star",e.PLUS_ONE="+1",e.THUMBS_UP="thumbs up",e.THUMBS_DOWN="thumbs down",e.QUESTION="question",e.PROFILE="profile",e.DOT="dot",e.OTHER="other",e))(i||{});let s={heart:{type:"heart",nodeNameOnCanvas:"Heart"},star:{type:"star",nodeNameOnCanvas:"Star"},"+1":{type:"+1",nodeNameOnCanvas:"+1"},"thumbs up":{type:"thumbs up",nodeNameOnCanvas:"Thumbs up"},"thumbs down":{type:"thumbs down",nodeNameOnCanvas:"Thumbs down"},question:{type:"question",nodeNameOnCanvas:"Question"},profile:{type:"profile",nodeNameOnCanvas:"Profile"},dot:{type:"dot",nodeNameOnCanvas:"Dot"},other:{type:"other",nodeNameOnCanvas:"Other"}},c=[r.Z6A.STICKY,r.Z6A.TEXT,r.Z6A.SHAPE_WITH_TEXT];function d(e){return e?e.textSublayer?e.textSublayer.textContent:e.textContent?e.textContent:null:null}let u=(e,t)=>e?d(e)||(e.name?e.name:null):null,p=e=>!!["STICKY","TEXT","SHAPE_WITH_TEXT"].includes(e.type),m=(e,t,n)=>{if(!p(e))return null;let r=n[e.guid],a=u(e,t);if(!a)return null;let o={t:a,bounds:e.absoluteRenderBounds,id:e.guid,type:e.type};return r&&(o.stamps=r),o},g=e=>{let t=r.DV9.getStampsOnNodes(e),n=Object.fromEntries(t),a={};for(let[e,r]of t)a[e]=Object.fromEntries(n[e]);return a};function f(e){let t=function(e){let t=r.glU.searchForNodesInSelection(c),n=[];for(let r of t){let t=e.get(r);t&&n.push(t)}return n.filter(e=>p(e))}(e),n=g(t.map(e=>e.guid)),a=[];for(let r of t){let t=m(r,e,n);t&&a.push(t)}return{v:1,data:a}}function _(e){let t=function(e){let t=r.glU.getStickyThreadsFromSelection(),n=[];for(let r of t){let t=!1,a={id:"",text:""};for(let n of r){let r=e.get(n);if(r&&"STICKY"===r.type){let e=r.textSublayer&&r.textSublayer.textContent||"";if(t)a.id=a.id?`${a.id}|${n}`:n,e&&(a.text=a.text?`${a.text}|${e}`:e);else{if(t=!0,!e)continue;a.id=r.guid,a.text=e;continue}}}a.text&&n.push(a)}return n}(e),n=JSON.stringify(t).length;return{v:1,data:t,characterCount:n}}function h(){let e=r.glU.searchForNodesInSelection([r.Z6A.STICKY]),t=r.DV9.getStickyClustersByAuthor(e),n=[];for(let e of t)n.push({clusterName:e[0],messages:e[1]});return n}function E(){let e=r.glU.searchForNodesInSelection([r.Z6A.STICKY]),t=r.DV9.getStickyClusterByColor(e),n=[];for(let e of t)n.push({clusterName:"",messages:e[1]});return n}function y(){let e=r.glU.searchForNodesInSelection([r.Z6A.STICKY]),t=r.DV9.getStickyClusterByStampCount(e),n=[];for(let e of t)n.push({clusterName:e[0],messages:e[1]});return n.sort((e,t)=>parseInt(t.clusterName)-parseInt(e.clusterName)),n}let v=e=>{let t=r.DV9.getStickyClusterByStampType(e),n=[];return t.forEach((e,t)=>{let r="No stamps"===t?null:function(e){let t=Object.values(s).find(t=>t.nodeNameOnCanvas===e);return t?t.type:"other"}(t),a=n.find(e=>e.stampType===r);a||(a={stampType:r,stickyThreadGuids:[]},n.push(a)),a.stickyThreadGuids.push(...e)}),n},b=(e,t,n)=>{let r=[],a=e.get(t);if(!a)return r;for(let t of a.stuckNodes){let a=e.get(t);a&&a.name===s[n].nodeNameOnCanvas&&r.push(t)}return r};function w(){let e=v(r.glU.searchForNodesInSelection([r.Z6A.STICKY])),t=new o.q,n=[];for(let r of e){let e=r.stickyThreadGuids.flatMap(e=>e.split("|")),a=[];if(r.stampType)for(let n of e)a.push(...b(t,n,r.stampType));n.push({clusterName:function(e){switch(e){case i.HEART:return(0,l.t)("whiteboard.clustering.heart_stamp_cluster");case i.DOT:return(0,l.t)("whiteboard.clustering.dot_stamp_cluster");case i.PLUS_ONE:return(0,l.t)("whiteboard.clustering.plus_one_stamp_cluster");case i.PROFILE:return(0,l.t)("whiteboard.clustering.face_stamp_cluster");case i.QUESTION:return(0,l.t)("whiteboard.clustering.question_mark_stamp_cluster");case i.STAR:return(0,l.t)("whiteboard.clustering.star_stamp_cluster");case i.THUMBS_DOWN:return(0,l.t)("whiteboard.clustering.thumbs_down_stamp_cluster");case i.THUMBS_UP:return(0,l.t)("whiteboard.clustering.thumbs_up_stamp_cluster");case i.OTHER:default:return(0,l.t)("whiteboard.clustering.other_stamp_cluster");case null:return(0,l.t)("whiteboard.clustering.no_stamps_cluster")}}(r.stampType),messages:r.stickyThreadGuids,allowedStampsToCopyGuids:a})}return n}function T(e,t){let n=e.get(t);if(!n||!n.isDiagramNode)return null;let r=d(n);if(!r)return null;let o=[],l=n.diagramParentId;for(;l&&l!==a.AD;){let t=e.get(l);if(!t)break;let n=d(t);n&&o.push(n),l=t.diagramParentId}o.reverse();let i=[];for(let t of n.diagramChildIds){let n=d(e.get(t));n&&i.push(n)}return{selectedNode:r,parentHierarchy:o,children:[],excludedSuggestions:i}}},47750:(e,t,n)=>{n.d(t,{J:()=>R,f:()=>A});var r=n(411855),a=n(188507),o=n(587670),l=n(707458),i=n(939683),s=n(966712),c=n(374626),d=n(395900),u=n(966981),p=n(825871),m=n(939863),g=n(574724),f=n(378260),_=n(106757),h=n(662531),E=n(862442),y=n(843495),v=n(457630),b=n(335682),w=n(247014),T=n(951840),N=n(435898),I=n(342824),S=n(88596),C=n(632084);let x=e=>({...e,width:e.w,height:e.h});function A(){let e=r.useRef((0,m.t)("whiteboard.ai_cluster.loading_section_base")),t=r.useMemo(()=>new l.q,[]),{Sprig:n}=(0,u.A)(),[A,R]=r.useState(!1),k=(0,i.am)(),O=r.useRef(),P=(0,E.Z)("figjam_summary_navigate"),D=(0,I.um)(),M=(0,c.md)(f._s),L=(0,c.md)(b.As),K=(0,c.md)(_.kS),F=(0,c.md)(b.yM),B=(0,c.md)(b.ze),U=(0,a.d4)(e=>e.multiplayer.allUsers.length),z={orgId:M,teamId:L||null,fileKey:B,userId:K||null,trackingSessionId:(0,p.f)()},V=r.useCallback(e=>{let n=t.get(e);n?.isAlive()&&h.l7.system("remove-cluster-placeholder",()=>o.Hur.removePlaceholder(e)),O.current&&(clearInterval(O.current),O.current=void 0)},[O,t]);return{clusterCanvasSelection:()=>{let r=new d.jk(S.Ux.TIME_TAKEN_TO_COMPLETE,{});r.start(),R(e=>!e);let a=o.glU.getSelectionBounds(),{v:l,data:i,characterCount:c}=(0,C.zi)(t),u=e.current+".",p=h.l7.system("create-cluster-placeholder",()=>{let e=o.Hur.createPlaceholder(a);return y.i(e,u),e});P((0,v.QZ)({nodeId:p,alwaysPan:!1})),O.current=setInterval(()=>{u.length===e.current.length+3?u=e.current+".":u+=".",h.l7.system("update-cluster-placeholder-text",()=>y.i(p,u))},1e3),g.Ay.figjam.cluster({v:l,data:i,tokenCount:c/4},z).then(e=>{let l=t.get(p),d=l?.containingCanvas;if(!l?.isAlive()||!d)return;let u=l?.absoluteRenderBounds,m=u?x(u):a;V(p);let[g,f]=h.l7.user("create-and-place-clusters",()=>o.Hur.createAndPlaceClusters(e.clusters,m,d,!1));n("track",N.l0),R(!1);let _=r.stop();_&&k(S.Ux.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:_},{forwardToDatadog:!0}),k("ai_sticky_clusters_created",{request_id:e.requestUuid,nodes_clustered:i.map(e=>e.id.split("|")).flat(),num_characters_input:c,success:!0,output_section_node_ids:f,output_sticky_node_ids:g,failure_reason:""}),(0,s.kc)().workspace_activity_write&&B&&F&&T.i.recordActivity({activityUnitType:w.qj.FILE_COLLABORATION,fileKey:B,collaborationType:w.Uz.AI_CLUSTER,numPeopleInFile:U})}).catch(e=>{let t;V(p);let n=(0,I.E$)(e,I.ez.CLUSTER);k("ai_sticky_clusters_created",{nodes_clustered:i.map(e=>e.id.split("|")).flat(),num_characters_input:c,success:!1,failure_reason:n.message}),"figjam_cluster_out_of_date"===n.type&&(t={type:I.tE.Reload}),D(n.message,I.ez.CLUSTER,t)})},requestIsPending:A}}function R(e,t=!1){let n=r.useMemo(()=>new l.q,[]),[a,i]=r.useState(!1),s=r.useRef(),c=(0,E.Z)("figjam_local_cluster_navigate"),d=r.useCallback(e=>{let t=n.get(e);t?.isAlive()&&h.l7.system("remove-cluster-placeholder",()=>o.Hur.removePlaceholder(e)),s.current&&(clearInterval(s.current),s.current=void 0)},[s,n]);return{cluster:()=>{i(e=>!e);let r=o.glU.getSelectionBounds(),a=e(),l=h.l7.system("create-cluster-placeholder",()=>o.Hur.createPlaceholder(r));c((0,v.QZ)({nodeId:l,alwaysPan:!1}));let s=n.get(l),u=s?.containingCanvas;if(!s?.isAlive()||!u)return;let p=s?.absoluteRenderBounds,m=p?x(p):r;d(l),h.l7.system("create-and-place-clusters",()=>o.Hur.createAndPlaceClusters(a,m,u,t)),i(!1)},requestIsPending:a}}},477173:(e,t,n)=>{n.d(t,{ss:()=>M});var r=n(411855),a=n(188507),o=n(587670),l=n(707458),i=n(776250),s=n(939683),c=n(966712),d=n(374626),u=n(395900),p=n(966981),m=n(825871),g=n(743282),f=n(931828),_=n(574724),h=n(378260),E=n(106757),y=n(662531),v=n(736916),b=n(769977),w=n(862442),T=n(457630),N=n(335682),I=n(247014),S=n(951840),C=n(479296),x=n(435898),A=n(342824),R=n(88596),k=n(632084);class O{static generateLocalRequestId(){return(0,g.g)()}}let P=(0,C.D)((e,t,n)=>{let r=y.l7.user("insert-ai-summary-node",()=>o.glU.insertAISummaryInCanvas(t,n)),a=e.get(r);return a&&(y.l7.user("set-ai-summary-timestamp",()=>{(0,b.Gw)(a,new Date)}),o.glU.triggerAction("commit",{})),a});async function D({v:e,canvasData:t,nodePosition:n,loadingNodeGuid:r,showErrorBell:a,trackSummaryRequested:l,trackSummaryCreated:s,scene:c,operationTimer:u,source:p}){let g,w;let T={orgId:d.zl.get(h._s),teamId:d.zl.get(N.As)||null,fileKey:d.zl.get(N.ze)||null,userId:d.zl.get(E.kS)||null,trackingSessionId:(0,m.f)()},I=e=>{let t;throw"figjam_summarize_out_of_date"===e.type&&(t={type:A.tE.Reload}),"content_length_limit_exceeded"===e.type&&"DISCOVERY_NUDGE"===p&&(0,i.sx)("ai_summarize_from_nudge_exceeded_token_length_limit",{},{forwardToDatadog:!0}),a(e.message,A.ez.SUMMARIZE,t),Error(A.xQ[A.ez.SUMMARIZE]+e.message)},S=t.map(e=>e.id),C=O.generateLocalRequestId();l(S,t,C);let x=null,k=!1;try{g=(await _.Ay.figjam.streamSummarize({v:e,data:t},T)).pipeThrough((0,_.nU)())}catch(e){I((0,A.E$)(e,A.ez.SUMMARIZE));return}let D=()=>{if(!k){let e=c.get(r);e&&e.isAlive()&&y.l7.system("remove-ai-summary-loading-state",()=>{o.glU.deleteNode(r),k=!0})}},M=()=>{let e=P(c,n,r);return e&&setTimeout(()=>{D()},200),e},L=0;try{for await(let e of new _.c6(g)){w=e;let t=L%5==0;x||(x=await M()),t&&y.l7.system("stream-ai-summary",()=>{x&&(0,b.WN)(x,w)}),L++}}catch(e){I((0,A.E$)(e,A.ez.SUMMARIZE));return}if(y.l7.system("stream-ai-summary",()=>{w&&x&&(0,b.WN)(x,w)}),w){let e=u.stop();e&&(0,i.sx)(R.mr.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:e},{forwardToDatadog:!0}),x&&(f.b({[v.zp]:!0}),s(x.guid,w,C))}w&&x&&o.glU.triggerAction("commit",{})}function M(e,t=!0,n){let[i]=r.useState(new l.q),[d,m]=r.useState(!1),g=(0,w.Z)("figjam_summary_navigate"),f=(0,A.um)(),{Sprig:_}=(0,p.A)(),h=function(){let e=(0,s.am)();return r.useCallback((t,n,r)=>{let a=(0,R.sh)(n);e(R.mr.REQUEST,{local_summary_id:r,num_characters_input:a,nodes_summarized:t})},[e])}(),E=function(){let e=(0,s.am)(),t=(0,N.q5)(),n=(0,a.d4)(e=>e.multiplayer.allUsers.length),o=r.useRef(n);return o.current=n,r.useCallback((n,r,a)=>{let l={local_summary_id:a,summary_node_id:n,num_characters_output:r.map(e=>"content"in e?e.content.length:0).reduce((e,t)=>e+t,0),num_themes_output:r.filter(e=>"h2"===e.type).length,num_supporting_points_output:r.filter(e=>"li"===e.type).length};e(R.mr.CREATE,l),(0,c.kc)().workspace_activity_write&&t?.team?.workspaceId&&S.i.recordActivity({activityUnitType:I.qj.FILE_COLLABORATION,fileKey:t.key,collaborationType:I.Uz.AI_SUMMARY,numPeopleInFile:o.current})},[e,t,o])}();return{summarizeCanvasSelection:async()=>{let r=new u.jk(R.mr.TIME_TAKEN_TO_COMPLETE,{});r.start();let{v:a,data:s}=(0,k.b7)(new l.q),c=y.l7.user("insert-ai-summary-loading-node",()=>o.glU.insertLoadingSummaryInCanvas(e===o.cfv.BELOW,t)),d=i.get(c);if(!d)return;y.l7.user("insert-ai-summary-loading-node",()=>{d.setWidgetSyncedState("syncedState:loading","true")}),g((0,T.QZ)({nodeId:c,alwaysPan:!1}));let p={x:d.absoluteBoundingBox.x,y:d.absoluteBoundingBox.y};if(s){m(!0);try{await D({v:a,canvasData:s,nodePosition:p,loadingNodeGuid:c,showErrorBell:f,trackSummaryRequested:h,trackSummaryCreated:E,scene:i,operationTimer:r,source:n})}catch(e){i.get(c)&&o.glU.deleteNode(c)}finally{_("track",x.AM),m(!1)}}},requestIsPending:d}}},773912:(e,t,n)=>{n.d(t,{s_:()=>eo,nG:()=>Q,Ay:()=>ee,Bl:()=>et,dA:()=>ea});var r=n(411855),a=n(188507),o=n(629019),l=n.n(o),i=n(737947),s=n(966712),c=n(374626),d=n(860601),u=n(743282),p=n(712366),m=n(498480),g=n(268537),f=n(210954),_=n(574176),h=n(939863),E=n(931828),y=n(672517),v=n(582947),b=n(662531),w=n(498606),T=n(538697),N=n(468829),I=n(67048),S=n(211041),C=n(47750),x=n(230646),A=n(587670),R=n(707458),k=n(939683),O=n(395900),P=n(825871),D=n(392592),M=n(934533),L=n(574724),K=n(378260),F=n(106757),B=n(335682),U=n(342824),z=n(632084);let V="ai_expand_mindmap";var H=(e=>(e.LOADING="ai-expand-mindmap-loading",e.SUCCESS="ai-expand-mindmap-success",e))(H||{}),X=n(477173),G=n(425187),W=n(677859),$=n(437771),Y=n(260378),j=n(266066),q=n(58772),J=n(449802),Z=n(62573);let Q="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma";var ee=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster",e.GENERATE_IDEAS="generate_ideas",e))(ee||{});let et=(0,v.r1)("used_figjam_ai_quick_actions"),en="used_figjam_ai_mindmaps_inline_menu",er=(0,v.r1)(en);function ea(){let e=(0,c.md)(G.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,X.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:n}=(0,C.f)(),{expandSelectedMindmapNode:o}=function(){let e=(0,c.md)(K._s),t=(0,c.md)(B.As),n=(0,c.md)(B.ze),o=(0,c.md)(F.kS),l=(0,U.um)(),i=(0,k.am)(),s=(0,a.wA)(),d={orgId:e,teamId:t||null,fileKey:n,userId:o||null,trackingSessionId:(0,P.f)()},u=r.useCallback(()=>s(D.F.enqueue({message:(0,h.t)("whiteboard.ai_expand_mindmap.generic_error")})),[s]),p=e=>{for(let t of e)b.l7.user("expand-figjam-ai-mindmap",()=>{A.glU.deleteNode(t)})},m=(e,t,n)=>{let r=(0,z.ep)(new R.q,e);if(!r){u(),i(V,{success:!1,failure_reason:"Failed to get input data"});return}s(D.F.dequeue({matchType:"ai-expand-mindmap-success"})),s(D.F.enqueue({message:(0,h.t)("whiteboard.ai_modal.streaming"),icon:M.zX.SPINNER,type:"ai-expand-mindmap-loading",timeoutOverride:1/0})),L.Ay.figjam.updateVisual({inputData:r,updateType:{visualType:"mindmap",updateMode:"generate_ideas"}},d).then(r=>{n&&p(n);let a=b.l7.user("expand-figjam-ai-mindmap",()=>A.$mk.expandWithFigjamAiMindmapNodes(r,e)),o=t.stop();a.length?(s(D.F.enqueue({message:(0,h.t)("whiteboard.ai_expand_mindmap.generation_success"),type:"ai-expand-mindmap-success",button:{text:(0,h.t)("whiteboard.ai_expand_mindmap.retry"),action:()=>{let t=new O.jk(V,{});return t.start(),m(e,t,a),!1}}})),i(V,{request_id:r.requestId,success:!0,failure_reason:"",num_nodes_generated:a.length,elapsed_ms:o})):(u(),i(V,{request_id:r.requestId,success:!1,failure_reason:"No nodes generated",elapsed_ms:o}))}).catch(e=>{let n=t.stop(),r=(0,U.E$)(e,U.ez.GENERATE);l(r.message,U.ez.GENERATE),i(V,{success:!1,failure_reason:r.message,elapsed_ms:n})}).finally(()=>{s(D.F.dequeue({matchType:"ai-expand-mindmap-loading"}))})};return{expandSelectedMindmapNode:()=>{let e=new O.jk(V,{});e.start();let t=A.wzW.getSingleSelectedDiagramNodeId(),n=function(e,t){let n=e.get(t);if(n){if((0,z.SU)(n))return t;{if(!n.diagramParentId)return;let t=e.get(n.diagramParentId);return(0,z.SU)(t)?n.diagramParentId:void 0}}}(new R.q,t);if(!n){u(),i(V,{success:!1,failure_reason:"Failed to get selected node"});return}m(n,e)}}}();return e=>{let r=d.lQ,a="";if(e){switch(e.type){case"summarize":r=t,a="ai-quick-action-summarize";break;case"cluster":r=n,a="ai-quick-action-cluster";break;case"generate_ideas":r=o,a="ai-quick-action-generate-ideas"}b.l7.user(a,r)}}}function eo(){var e;let t=(0,u.g)(),n=ea(),a=(0,s.kc)().figjam_synthesize_handbrake,[o,l]=r.useState(!1),c=[...function(){let e=(0,x.QP)(),t=[];return e&&t.push({type:"generate_ideas",enabled:e}),t}()];return r.createElement($.Fn,{value:void 0,overrideMenuOpenState:{isOpenOverride:o,setIsOpenOverride:l},onChange:n,renderButton:({onClick:e,onKeyDown:n,ref:o})=>r.createElement(el,{onClick:e,onKeyDown:n,buttonRef:o,ariaWrapperId:t,disabled:!!a,trackingProperties:{text:"figjam ai"},dropdownMenuOptions:c}),options:c,renderOption:es,OptionWrapper:(e=(0,h.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_options_aria_label"),function({children:n}){return r.createElement("div",{className:"ai_quick_actions_control--flexColumn--kgAdX","aria-label":e,id:t,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},n)}),responsivePositionY:{aboveTargetPositionY:(e,t,n)=>(0,Y.T1)(e,t,n+-48),belowTargetPositionY:(e,t,n)=>(0,Y.DH)(e,t,n+-48)},positionX:e=>e.x,popoverClassName:"ai_quick_actions_control--popover--BNsqs",additionalContentsTop:function({closeMenu:e}){return r.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderContainer--ifOPr",onClick:e,role:"button",tabIndex:0},r.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderTitle--Cqg8n"},(0,h.tx)("whiteboard.inline_menu.ai_quick_actions_header_text")),r.createElement("div",{className:"ai_quick_actions_control--badgeContainer--kBpYM"},r.createElement(I.G,{location:"INLINE_TOOLBAR",overrideText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))}({closeMenu:()=>l(!1)}),additionalOptions:ei,additionalOptionOnChange:()=>{(0,p.Lf)(Q)||i.Ay.unsafeRedirect(Q,"_blank")}})}let el=(0,y.tf)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:o,disabled:i,dropdownMenuOptions:u}){let[p,g]=r.useState(0),{shouldShowBadge:f,setUserFlagsCallback:v}=function(e){var t;let n=(0,a.wA)(),o=(t=["generate_ideas"],!!e.find(e=>e&&t.includes(e.type)));return{shouldShowBadge:function(e){let t=(0,S.tG)(),n=(0,c.md)(er).data;return!!((0,s.kc)().figjam_mindmaps_gen_from_node&&t&&!n&&e)}(o),setUserFlagsCallback:r.useCallback(()=>{o&&n(E.b({[en]:!0}))},[o,n])}}(u);return r.createElement(W.$n,{tooltip:N.w,tooltipType:w.Ib.SPECIAL,onClick:i?d.lQ:()=>{e(),v()},disabled:i,onKeyDown:t,ariaControls:o,ref:n,recordingKey:"toolbarAIQuickActionsDropdownButton",testId:"toolbarAIQuickActionsDropdownButton",caret:"down",role:"combobox",ariaLabel:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_button_aria_label"),buttonStyle:{width:f?48+p+8:48},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},r.createElement("div",{className:l()({"ai_quick_actions_control--withBadge--z88DK":f})},r.createElement("div",{className:"ai_quick_actions_control--buttonIconContainer--pBGdR"},r.createElement(_.B,{svg:j.A,className:l()("ai_quick_actions_control--svgIcon--XDs5m",{"ai_quick_actions_control--svgIconDisabled--u4WwB":i})})),f&&r.createElement(y.fu,{name:"ai_quick_actions_onboarding_badge"},r.createElement("div",{ref:e=>{g(e?.offsetWidth||p)}},r.createElement(m.Ex,{text:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:m.zE.FIGJAM,size:m.vj.SMALL,className:"ai_quick_actions_control--onboardingBadge---sKJz"})))))});function ei(e){return r.createElement(r.Fragment,null,r.createElement(g.wv,{key:"menu-separator-token"}),r.createElement("div",{className:"ai_quick_actions_control--dropdownFooterContainer--1d8mD"},r.createElement("span",null,r.createElement("span",{className:"ai_quick_actions_control--dropdownFooterDisclaimer--UVXvJ"},`${(0,h.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),r.createElement(f.N,{className:l()("ai_quick_actions_control--dropdownFooterCta--hi6Ik",{"ai_quick_actions_control--dropdownFooterCtaIsFocused--2OdM8":e}),href:Q,target:"_blank",trusted:!0},(0,h.tx)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))))}let es=e=>{let{value:t,onClick:n,id:a,isFocused:o}=e;if(!t)return null;let{type:l,enabled:i}=t,{displayText:s,svgSrc:c,disabledTooltipText:d}=function(e){switch(e){case"summarize":return{displayText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:Z.A,disabledTooltipText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2})};case"cluster":return{displayText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:J.A,disabledTooltipText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2})};case"generate_ideas":return{displayText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_button"),svgSrc:q.A,disabledTooltipText:(0,h.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_disabled_tooltip")}}}(l),u="generate_ideas"===l?"generate ideas":"other ai action";return r.createElement(ec,{key:`${l}-menu-option`,id:a,type:l,displayText:s,svgSrc:c,disabledTooltipText:d,disabled:!i,onClick:n,isFocused:o,trackingProperties:{text:u}})},ec=(0,y.tf)(function({id:e,type:t,displayText:n,svgSrc:a,disabledTooltipText:o,disabled:i,onClick:s,isFocused:c}){return r.createElement("div",{id:e,className:l()("ai_quick_actions_control--optionContainer--pbhnv",{"ai_quick_actions_control--optionContainerDisabled--Sxua-":i,"ai_quick_actions_control--optionContainerIsFocused--AD1hq":c}),"aria-label":n,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip-type":w.Ib.TEXT,"data-tooltip":i?o:"","data-tooltip-tip-align-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},r.createElement(T.c$,{disabled:i,recordingKey:`aiQuickActionsOption-${t}`,"data-testid":`aiQuickActionsOption-${t}`,dataTestId:`aiQuickActionsOption-${t}`,key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:a,formattedValue:n,additionalStylesClassName:void 0,selected:!1,onMouseUp:i?d.lQ:s,style:{marginLeft:8},ignoreCheck:!0}))})},971612:(e,t,n)=>{n.d(t,{M:()=>o});var r=n(411855),a=n(434228);function o(e){return(0,a.O)()?r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.293 2.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-1.146 1.147a.5.5 0 1 1-.707-.708L12 7 8 3 4 7l1.146 1.146a.5.5 0 1 1-.707.708L3.293 7.707a1 1 0 0 1 0-1.414l4-4Zm-2.147 8.353a.5.5 0 0 0 .708.708L7.5 9.707V13.5a.5.5 0 0 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .708-.708l-2.5-2.5a.5.5 0 0 0-.708 0l-2.5 2.5Z",clipRule:"evenodd"})):r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.854 2.146a.5.5 0 0 0-.708 0l-5 5a.5.5 0 0 0 0 .708l1.5 1.5a.5.5 0 0 0 .708-.707L3.207 7.5 7.5 3.207 11.793 7.5l-1.147 1.147a.5.5 0 0 0 .707.707l1.5-1.5a.5.5 0 0 0 0-.708l-5-5Zm-3.208 8.5a.5.5 0 1 0 .707.708L7 9.707V13.5a.5.5 0 1 0 1 0V9.707l1.646 1.647a.5.5 0 0 0 .707-.707l-2.5-2.5a.5.5 0 0 0-.707 0l-2.5 2.5Z",clipRule:"evenodd"}))}},992739:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.354 2.146a.5.5 0 0 1 0 .708L5.207 4H8.5a5 5 0 1 1-5 5 .5.5 0 0 1 1 0 4 4 0 1 0 4-4H5.207l1.147 1.146a.5.5 0 1 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2a.5.5 0 0 1 .708 0",clipRule:"evenodd"}))}},503429:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m9.36 6.214-.674 2.472-2.473.674c-1.67.456-1.67 2.825 0 3.28l2.473.675.674 2.472c.455 1.67 2.825 1.67 3.28 0l.675-2.472 2.472-.674c1.67-.456 1.67-2.825 0-3.28l-2.472-.675-.675-2.472c-.455-1.67-2.825-1.67-3.28 0m.965.263L9.5 9.5l-3.024.824c-.687.188-.687 1.163 0 1.35L9.5 12.5l.825 3.024c.187.688 1.163.688 1.35 0l.825-3.023 3.024-.825c.688-.188.688-1.163 0-1.35L12.5 9.5l-.825-3.024c-.187-.688-1.163-.688-1.35 0M14.5 14a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 1 0V15h1v3h-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H17v-3h1v.5a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"}))}},328849:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m6.9 6.9.29-1.159c.08-.323.54-.323.62 0L8.1 6.9l1.158.29c.323.08.323.54 0 .62L8.1 8.1l-.29 1.158c-.08.323-.54.323-.62 0L6.9 8.1l-1.158-.29c-.323-.08-.323-.54 0-.62zm9 9 .29-1.158c.08-.323.54-.323.62 0l.29 1.158 1.158.29c.323.08.323.54 0 .62l-1.158.29-.29 1.159c-.08.323-.54.323-.62 0L15.9 17.1l-1.158-.29c-.323-.08-.323-.54 0-.62zm-5.54-8.687-.674 2.473-2.473.674c-1.67.456-1.67 2.825 0 3.28l2.473.675.674 2.472c.455 1.67 2.825 1.67 3.28 0l.674-2.472 2.473-.675c1.67-.455 1.67-2.824 0-3.28l-2.473-.674-.674-2.473c-.455-1.67-2.825-1.67-3.28 0m.965.263L10.5 10.5l-3.024.825c-.688.187-.688 1.163 0 1.35l3.024.825.825 3.024c.187.688 1.163.688 1.35 0L13.5 13.5l3.024-.825c.688-.187.688-1.163 0-1.35L13.5 10.5l-.825-3.024c-.187-.687-1.163-.687-1.35 0",clipRule:"evenodd"}))}},511315:(e,t,n)=>{n.d(t,{w:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 8.5a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-2H7v2a.5.5 0 0 1-1 0V9a.5.5 0 0 1 1 0v2h9V9a.5.5 0 0 1 .5-.5",clipRule:"evenodd"}))}},343798:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 6.5A.5.5 0 0 1 9 6h5a.5.5 0 0 1 0 1h-2v9h2a.5.5 0 0 1 0 1H9a.5.5 0 0 1 0-1h2V7H9a.5.5 0 0 1-.5-.5",clipRule:"evenodd"}))}},613023:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.9 6h-.02c-.403 0-.735 0-1.006.022-.28.023-.54.072-.782.196a2 2 0 0 0-.874.874c-.124.243-.173.501-.196.782C6 8.144 6 8.477 6 8.88v.62a.5.5 0 0 0 1 0v-.6c0-.428 0-.72.019-.944.018-.22.05-.332.09-.41a1 1 0 0 1 .437-.437c.078-.04.19-.072.41-.09C8.18 7 8.472 7 8.9 7h.6a.5.5 0 0 0 0-1zm6.2 0h.02c.403 0 .735 0 1.006.022.281.023.54.072.782.196a2 2 0 0 1 .874.874c.124.243.173.501.196.782.022.27.022.603.022 1.005V9.5a.5.5 0 0 1-1 0v-.6c0-.428 0-.72-.019-.944-.018-.22-.05-.332-.09-.41a1 1 0 0 0-.437-.437c-.078-.04-.19-.072-.41-.09A13 13 0 0 0 15.1 7h-.6a.5.5 0 0 1 0-1zm.02 12h-.62a.5.5 0 0 1 0-1h.6c.428 0 .72 0 .944-.019.22-.018.332-.05.41-.09a1 1 0 0 0 .437-.437c.04-.078.072-.19.09-.41.019-.225.019-.516.019-.944v-.6a.5.5 0 0 1 1 0v.62c0 .403 0 .735-.022 1.006-.023.281-.072.54-.196.782a2 2 0 0 1-.874.874c-.243.124-.501.173-.782.196-.27.022-.603.022-1.005.022M8.9 18h-.02c-.403 0-.735 0-1.006-.022-.281-.023-.54-.072-.782-.196a2 2 0 0 1-.874-.874c-.124-.243-.173-.501-.196-.782A13 13 0 0 1 6 15.12v-.62a.5.5 0 0 1 1 0v.6c0 .428 0 .72.019.944.018.22.05.332.09.41a1 1 0 0 0 .437.437c.078.04.19.072.41.09.225.019.516.019.944.019h.6a.5.5 0 0 1 0 1z",clipRule:"evenodd"}))}},186913:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 17.5a.5.5 0 0 0-.5-.5h-12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 .5-.5M9.25 7a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 7zm5 4a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M5 6.25C5 5.56 5.56 5 6.25 5h10.5c.69 0 1.25.56 1.25 1.25v8.25a.5.5 0 0 1-1 0V6.25a.25.25 0 0 0-.25-.25H6.25a.25.25 0 0 0-.25.25v8.25a.5.5 0 0 1-1 0z",clipRule:"evenodd"}))}},900638:(e,t,n)=>{n.d(t,{d:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 18a.5.5 0 0 0 .5-.5V15h2.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13v-3h4.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13V5.5a.5.5 0 0 0-1 0V8H7.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v3H9.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v2.5a.5.5 0 0 0 .5.5",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M9.5 18a.5.5 0 0 0 0-1H6.25a.25.25 0 0 1-.25-.25V6.25A.25.25 0 0 1 6.25 6H9.5a.5.5 0 0 0 0-1H6.25C5.56 5 5 5.56 5 6.25v10.5c0 .69.56 1.25 1.25 1.25zm6-13a.5.5 0 0 0 0 1h3.25a.25.25 0 0 1 .25.25v10.5a.25.25 0 0 1-.25.25H15.5a.5.5 0 0 0 0 1h3.25c.69 0 1.25-.56 1.25-1.25V6.25C20 5.56 19.44 5 18.75 5z",clipRule:"evenodd"}))}},905111:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 18a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-1 0v12a.5.5 0 0 0 .5.5M18 9.25a.75.75 0 0 1-.75.75h-8.5A.75.75 0 0 1 8 9.25v-.5A.75.75 0 0 1 8.75 8h8.5a.75.75 0 0 1 .75.75zm-4 5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75z",clipRule:"evenodd"}),r.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M8.5 5.5h10.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H8.5"}))}},674462:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18.5 18a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 1 0v12a.5.5 0 0 1-.5.5M6 9.25c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75zm4 5c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M16 17.5a.5.5 0 0 1-.5.5H5.25C4.56 18 4 17.44 4 16.75V6.25C4 5.56 4.56 5 5.25 5H15.5a.5.5 0 0 1 0 1H5.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25H15.5a.5.5 0 0 1 .5.5",clipRule:"evenodd"}))}},921095:(e,t,n)=>{n.d(t,{j:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 5.5a.5.5 0 0 1-.5.5h-12a.5.5 0 0 1 0-1h12a.5.5 0 0 1 .5.5M9.25 16a.75.75 0 0 0 .75-.75v-6.5A.75.75 0 0 0 9.25 8h-.5a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75zm5-4a.75.75 0 0 0 .75-.75v-2.5a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75z",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M18 16.75c0 .69-.56 1.25-1.25 1.25H6.25C5.56 18 5 17.44 5 16.75V8.5a.5.5 0 0 1 1 0v8.25c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V8.5a.5.5 0 0 1 1 0z",clipRule:"evenodd"}))}},583080:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 0-.5-.5H15V9.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75V11h-3V7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75V11H5.5a.5.5 0 0 0 0 1H8v3.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h3v1.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h2.5a.5.5 0 0 0 .5-.5",clipRule:"evenodd"}),r.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M6.25 5C5.56 5 5 5.56 5 6.25V8.5a.5.5 0 0 0 1 0V6.25A.25.25 0 0 1 6.25 6h10.5a.25.25 0 0 1 .25.25V8.5a.5.5 0 0 0 1 0V6.25C18 5.56 17.44 5 16.75 5zm10.5 13c.69 0 1.25-.56 1.25-1.25V14.5a.5.5 0 0 0-1 0v2.25a.25.25 0 0 1-.25.25H6.25a.25.25 0 0 1-.25-.25V14.5a.5.5 0 0 0-1 0v2.25c0 .69.56 1.25 1.25 1.25z",clipRule:"evenodd"}))}},93024:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.75A.75.75 0 0 1 5.75 6h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75A.75.75 0 0 1 5 7.25zm0 5a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75zM5.75 16a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75z",clipRule:"evenodd"}))}},106075:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.478 8H15.5a.5.5 0 0 1 0 1h-3c-.708 0-1.21 0-1.601.032-.386.032-.622.092-.807.186a2 2 0 0 0-.874.874c-.094.185-.154.42-.186.807C9 11.29 9 11.792 9 12.5v3a.5.5 0 0 1-1 0v-3.022c0-.681 0-1.223.036-1.66.036-.448.113-.83.291-1.18a3 3 0 0 1 1.311-1.311c.35-.178.732-.255 1.18-.291C11.254 8 11.796 8 12.477 8",clipRule:"evenodd"}))}},52339:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m6.953 5.91-.315 1.26-1.26.315c-.504.126-.504.844 0 .97l1.26.315.315 1.26c.127.504.844.504.97 0l.315-1.26 1.26-.315c.505-.126.505-.844 0-.97l-1.26-.315-.314-1.26c-.127-.505-.844-.505-.97 0m7.84.09a1 1 0 0 1 1.414 0L18 7.793a1 1 0 0 1 0 1.414l-1.646 1.646L9.5 17.708a1 1 0 0 1-.707.293H7a1 1 0 0 1-1-1v-1.793a1 1 0 0 1 .293-.707l6.853-6.854zm-.586 2L16 9.793 17.293 8.5 15.5 6.707zm1.086 2.5L13.5 8.707l-6.5 6.5V17h1.793zm.546 5.37.28-1.12c.083-.333.556-.333.64 0l.28 1.12 1.119.28c.333.083.333.557 0 .64l-1.12.28-.28 1.12c-.083.332-.556.332-.64 0l-.28-1.12-1.119-.28c-.333-.083-.333-.557 0-.64z",clipRule:"evenodd"}))}},978488:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 6v.879l-1 1V6l-1 1-2 2H7.5a.5.5 0 0 0-.5.5v5c0 .107.034.206.091.288l-.71.71A1.5 1.5 0 0 1 6 14.5v-5A1.5 1.5 0 0 1 7.5 8h3.085l2.708-2.707A1 1 0 0 1 15 6m-1 6.121 1-1V18a1 1 0 0 1-1.707.707L10.586 16h-.465l.94-.94L13 17l1 1v-5.88m3.854-5.267a.5.5 0 0 0-.708-.708l-11 11a.5.5 0 1 0 .708.707z",clipRule:"evenodd"}))}},43604:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(411855);function a(e){return r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m10 15 2 2 1 1V6l-1 1-2 2H6.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5zm2.293-9.707L9.586 8H6.5A1.5 1.5 0 0 0 5 9.5v5A1.5 1.5 0 0 0 6.5 16h3.086l2.707 2.707A1 1 0 0 0 14 18V6a1 1 0 0 0-1.707-.707M19 12a5 5 0 0 1-3.5 4.771V15.71a4.001 4.001 0 0 0 0-7.418V7.229A5 5 0 0 1 19 12m-2 0a3 3 0 0 1-1.5 2.599v-1.276c.311-.353.5-.816.5-1.323s-.189-.97-.5-1.323V9.401a3 3 0 0 1 1.5 2.6",clipRule:"evenodd"}))}}}]);

//# debugId=d1b1255f-2188-5db3-b8fc-870c0779575e

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3ec99f959e8d1f38d6107ec268a7441eda7bceb3/7415-4c11165159d83335.min.js.map