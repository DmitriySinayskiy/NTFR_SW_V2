"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="4feee6e3-4cbf-5ff1-8458-6a61eb8f292f")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1288],{592917:(e,t)=>{Object.defineProperty(t,"isJSXElement",{enumerable:!0,get:function(){return a}});function a(e){return"object"==typeof e&&null!==e&&void 0!==e.type&&void 0!==e.props&&void 0!==e.children}},537240:(e,t,a)=>{a.d(t,{$s:()=>s,IP:()=>l,R9:()=>o,RL:()=>i,SZ:()=>d,UD:()=>c,ZS:()=>r,hQ:()=>n,x1:()=>u,xn:()=>m});let n="figjam_onboarding_make_something--contentContainer--gVph-",r="figjam_onboarding_make_something--imageContainer--RoSk9",l="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",i="figjam_onboarding_make_something--tooltipBodyXSmall--sONX7",o="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",s="figjam_onboarding_make_something--tooltipBodyLarge--jkc-5",c="figjam_onboarding_make_something--buttonContainer--78iSl",d="figjam_onboarding_make_something--skipButton--pKB7N connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",u="figjam_onboarding_make_something--shiftSkipButtonAboveDlt---sQ7k",m="figjam_onboarding_make_something--standaloneModal--Ksh8z"},976726:(e,t,a)=>{a.d(t,{AX:()=>x,D6:()=>P,Dw:()=>T,G$:()=>l,Gu:()=>S,HR:()=>E,JA:()=>c,Jo:()=>v,N6:()=>H,NB:()=>U,Nf:()=>M,PP:()=>o,QF:()=>I,Rt:()=>n,S:()=>q,T:()=>L,V3:()=>_,VM:()=>G,VQ:()=>A,Vz:()=>B,Wv:()=>s,Xt:()=>h,Z9:()=>d,_E:()=>V,_M:()=>b,_P:()=>y,bB:()=>p,c1:()=>R,du:()=>w,dz:()=>Y,eO:()=>j,ei:()=>u,fp:()=>F,fz:()=>O,gV:()=>X,hY:()=>k,hs:()=>W,i$:()=>J,kQ:()=>K,of:()=>D,qp:()=>C,r9:()=>g,rB:()=>z,rX:()=>N,sb:()=>m,tI:()=>r,v9:()=>i,wH:()=>f});let n="canvas_search--searchInput--aCP6B canvas_search--input--aPqLZ",r="canvas_search--searchInputSingleLine--DUHFr",l="canvas_search--searchSidebarContainer--1tcxd",i="canvas_search--icon32--bmz-L",o="canvas_search--searchBarContainer--rxvLi",s="canvas_search--searchBarRow--9aFwa",c="canvas_search--searchBarRowMinimal--dEN6B canvas_search--searchBarRow--9aFwa",d="canvas_search--searchIconAndInput--3tdWb",u="canvas_search--searchIconPlaceholderFill--MohCt",m="canvas_search--resultsContainer--b0olz",p="canvas_search--resultsList--Hciv7",_="canvas_search--layerIcon--RpNZF",f="canvas_search--selected--Ng41y",g="canvas_search--disabled--dMwG7",h="canvas_search--indirectlySelected--2E-TI",E="canvas_search--symbol--614fP",y="canvas_search--layerIconContainer--IuQxq",v="canvas_search--resultInfoHeader--GM1gm",b="canvas_search--resultInfo--PKQiZ",C="canvas_search--resultsText--ubMAu",w="canvas_search--resultsFooterText--rPxEh",k="canvas_search--dotDivider--zvIFp",x="canvas_search--resultRow--xX8wI",T="canvas_search--isHoverSelecting--LlQSE",N="canvas_search--singletonHoverSelected--pCLSM",S="canvas_search--resultSubheading--XCt-Z",I="canvas_search--offlineIconContainer--qVbhY",A="canvas_search--offlineIcon--F0sbc",L="canvas_search--hoverSelectedTop--mA-fk canvas_search--_hoverSelectedBase--JOTSs",O="canvas_search--hoverSelectedMiddle--OBw7k canvas_search--_hoverSelectedBase--JOTSs",M="canvas_search--hoverSelectedBottom--zH7Va canvas_search--_hoverSelectedBase--JOTSs",P="canvas_search--resultText--RXqeC",R="canvas_search--multiline--1gb-l",D="canvas_search--strikethrough--0xsma",F="canvas_search--otherResults--G94fM",B="canvas_search--searchScopeButton--Grrvz",U="canvas_search--pageScopeDropdown--K5y-7",G="canvas_search--dropdownOption--dQRr3",H="canvas_search--replaceInput--TmEDS canvas_search--searchBarRow--9aFwa canvas_search--input--aPqLZ",V="canvas_search--replaceButtons--1sbwP",K="canvas_search--collapsableHeaderToggle--kHXh8",z="canvas_search--collapsableHeaderName---qij5",W="canvas_search--collapsableHeaderCount---NL3l",j="canvas_search--expandIcon--6eieV",q="canvas_search--loadingSpinner--Y5hDC",Y="canvas_search--loadingSpinnerDelay--Rk3MX",X="canvas_search--searchIconButton--lg-V8",J="canvas_search--searchSidebarMinimal--I1hwg canvas_search--searchSidebarContainer--1tcxd"},133024:(e,t,a)=>{a.d(t,{F:()=>r,HR:()=>s,Io:()=>l,Pn:()=>d,V_:()=>n,dK:()=>u,nM:()=>c,rH:()=>o,sQ:()=>i,ue:()=>m});let n="on_canvas_pill--pillContainer--jvRgr",r="on_canvas_pill--centered--iOUXI",l="on_canvas_pill--pill--fSukI",i="on_canvas_pill--bottom--gwvqA",o="on_canvas_pill--node--xgavI",s="on_canvas_pill--symbol--3Kz9f",c="on_canvas_pill--row--I6QoB",d="on_canvas_pill--pillLargeBorderRadius--9uWP9",u="on_canvas_pill--pillText--ts0Xi ellipsis--ellipsis--Tjyfa",m="on_canvas_pill--iconNodeType--0xm99"},315072:(e,t,a)=>{a.d(t,{NI:()=>o,_Z:()=>r,h$:()=>n,hF:()=>l,mL:()=>i});let n="variable_create_modal--staticTitle--HS1IC",r="variable_create_modal--textInput--234SQ raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",l="variable_create_modal--input--d-tVA",i="variable_create_modal--variableSetSelectChevron--larcU",o="variable_create_modal--variableSetSelectInput--YUE3H"},297757:(e,t,a)=>{a.d(t,{AR:()=>X,A_:()=>H,DN:()=>E,E3:()=>R,FK:()=>C,Gv:()=>c,Hd:()=>i,JX:()=>W,Kl:()=>l,Mf:()=>p,Ng:()=>d,ON:()=>v,PP:()=>f,Pt:()=>x,QF:()=>K,Qu:()=>z,S:()=>q,Ub:()=>h,Uj:()=>I,VA:()=>Y,VN:()=>V,Wz:()=>S,Ye:()=>s,ZE:()=>D,bV:()=>T,bq:()=>P,cB:()=>U,d3:()=>L,dJ:()=>o,gC:()=>r,gD:()=>O,gP:()=>w,jT:()=>n,k8:()=>y,kb:()=>G,lX:()=>b,mH:()=>g,nN:()=>m,nZ:()=>B,oB:()=>u,q_:()=>A,rq:()=>k,sH:()=>N,x0:()=>F,xR:()=>_,yl:()=>M,zN:()=>j});let n="fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",r="fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",l="fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",i="fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf",o="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",s="fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",c="fd_browse_resource_modal--backButton--S7dMz",d="fd_browse_resource_modal--tabHeader--edoDO",u="fd_browse_resource_modal--tabsContainer--v6cIk",m="fd_browse_resource_modal--tabClickTarget--QDM1e",p="fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",_="fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd",f="fd_browse_resource_modal--searchBarContainer--Q2kZ7",g="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",h="fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8",E="fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",y="fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",v="fd_browse_resource_modal--searchBar---bmO8",b="fd_browse_resource_modal--searchBarEmpty--8dNhE",C="fd_browse_resource_modal--searchBarDevHandoff--uuPW-",w="fd_browse_resource_modal--searchBarFilterButton--hQeym",k="fd_browse_resource_modal--headerIconButtonSel--nV-KN",x="fd_browse_resource_modal--filterButtonActive--8krHg",T="fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",N="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",S="fd_browse_resource_modal--horizontalDivider--H67hA",I="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",A="fd_browse_resource_modal--mainViewHeader--AZpur",L="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",O="fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",M="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",P="fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",R="fd_browse_resource_modal--mainViewSelector--chQy5",D="fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ",F="fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd",B="fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd",U="fd_browse_resource_modal--expandedViewHeader--uLZl5",G="fd_browse_resource_modal--left--si6Cj",H="fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd",V="fd_browse_resource_modal--close--G1pa0",K="fd_browse_resource_modal--expandedViewContainer--EvsBd",z="fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",W="fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd",j="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",q="fd_browse_resource_modal--loadingSpinner--0IwJ9",Y="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd",X="fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd"},526518:(e,t,a)=>{a.d(t,{H:()=>n});let n="0.5s"},775058:(e,t,a)=>{a.d(t,{$v:()=>h,BW:()=>_,Bl:()=>r,Gp:()=>c,OE:()=>E,OP:()=>f,Ul:()=>l,YK:()=>o,gS:()=>p,gb:()=>n,kJ:()=>m,mQ:()=>d,n:()=>g,oR:()=>s,v$:()=>i,zk:()=>u});let n="mini_home--iconButton--ZvEwQ toolbar_view--iconButton--1MUm6",r="mini_home--contextRowContainer--lbaDy",l="mini_home--contextRowThumbnailBackground--3WQmn",i="mini_home--contextRowThumbnailPlusSign--9w5Au",o="mini_home--contextRowContainerSelected--bpqz9",s="mini_home--contextRowMetaContainer--ASL1J",c="mini_home--contextRowTitle--49E7k text--fontPos11--2LvXf text--_fontBase--QdLsd",d="mini_home--contextRowTimestamp--cvj3G text--fontPos11--2LvXf text--_fontBase--QdLsd",u="mini_home--contextRowTitleSelected--gg6TS",m="mini_home--contextRowThumbnail--PcdIb",p="mini_home--hoverThumbnailContainer--SSEq0 _overlayBase--_overlayBase--Rkj8l",_="mini_home--fileScrollContainer--HpT9X",f="mini_home--fileScrollContainerWithFooter--5y2tX",g="mini_home--hoverThumbnail--N1ju8",h="mini_home--hoverThumbnailMetaContainer--f-A7q",E="mini_home--hoverThumbnailMetaTitle--DJIM- text--fontPos13--xW8hS text--_fontBase--QdLsd"},840023:(e,t,a)=>{a.d(t,{Lt:()=>i,ai:()=>r,hF:()=>l,kL:()=>n});let n="whiteboard_menu_selector--container--ye4aw",r="whiteboard_menu_selector--chevron--kjs2p",l="whiteboard_menu_selector--input--GTjdY",i="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},205904:(e,t,a)=>{a.d(t,{w:()=>mC,O:()=>mk});var n=a(411855),r=a(188507),l=a(587670),i=a(374626),o=a(256975),s=a(666930),c=a(786013),d=a(320063),u=a(915440),m=a(860601),p=a(939863),_=a(582947);let f="dev_handoff_seen_config_wizard",g=(0,_.Fu)(f);var h=a(891869),E=a(21584),y=a(456104),v=a(570809),b=a(335682),C=a(279453),w=a(397065),k=a(218997),x=a(15839),T=a(463546),N=a(7760),S=a(421757),I=a(380620),A=a(243742),L=a(629019),O=a.n(L),M=a(96328),P=a(762638),R=a(278733),D=a(672517),F=a(168039),B=a(620722);let U="blocking_modal--secondaryButton--cteqp",G="blocking_modal--title--3q8JO text--fontPos20--Bcz97 text--_fontBase--QdLsd",H="blocking_modal--textContent--MSbvo text--fontPos13--xW8hS text--_fontBase--QdLsd",V="blocking_modal--buttonLabel--92cjn",K="blocking_modal--upsellListItem--d8NVb text--fontPos13--xW8hS text--_fontBase--QdLsd";function z({imgSrc:e,imgWidth:t=328,imgHeight:a=150,hideImgBorder:r=!1,content:l,modalType:i,primaryButtonLabel:o,primaryButtonOnClick:s,primaryButtonType:c,secondaryButtonLabel:d,secondaryButtonOnClick:u,secondaryButtonType:m}){let p="light"===(0,F.DP)(),_=(0,h.W)(),f={type:i,text:c,..._},g={type:i,text:m,..._},E="ui3"===(0,A.DP)().version;return n.createElement("div",{className:P.cx.py24.px16.cursorDefault.selectNone.flex.flexColumn.gap24.$,"data-testid":"dev-mode-paywall-modal"},n.createElement("div",{className:P.cx.bRadius4.overflowHidden.if(p&&!r,P.cx.b1.colorBorder).$,style:R.sx.add({height:`${a}px`}).$},n.createElement(B.J,{src:e,alt:"",width:t})),n.createElement("div",{className:P.cx.flex.flexColumn.gap6.$},l),n.createElement("div",{className:O()(P.cx.flex.flexColumn.gap8.$,"blocking_modal--buttonContainer--HB2rf")},o&&s&&c&&n.createElement(Y,{label:o,onClick:s,trackingProperties:f}),d&&u&&m&&n.createElement(X,{label:d,onClick:u,trackingProperties:g,isUI3:E})))}function W({imgSrc:e,imgWidth:t,imgHeight:a,hideImgBorder:r,content:l,modalType:i,primaryButtonLabel:o,primaryButtonOnClick:s,primaryButtonType:c,secondaryButtonLabel:d,secondaryButtonOnClick:u,secondaryButtonType:p}){let _=(0,h.W)(),f=N.a.useModal({open:!0,onClose:m.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"});return n.createElement(D.fu,{name:(0,M.Zr)(i),properties:_,enabled:_?.gracePeriod!==void 0},n.createElement(N.a.Root,{width:392,manager:f},n.createElement(N.a.Contents,null,n.createElement(N.a.Body,null,n.createElement(z,{imgSrc:e,imgWidth:t,imgHeight:a,hideImgBorder:r,content:l,modalType:i,primaryButtonLabel:o,primaryButtonOnClick:s,primaryButtonType:c,secondaryButtonLabel:d,secondaryButtonOnClick:u,secondaryButtonType:p})))))}let j=(0,D.tf)(S.Pw),q=(0,D.tf)(I.E);function Y({label:e,onClick:t,trackingProperties:a={}}){return n.createElement("span",{className:P.cx.cursorPointer.$},n.createElement(j,{variant:"primary",onClick:t,trackingProperties:a,htmlAttributes:{"data-testid":"primary-button"}},n.createElement("span",{className:V,"data-testid":"primary-button-label"},e)))}function X({label:e,isUI3:t,onClick:a,trackingProperties:r={}}){return t?n.createElement("div",{className:U},n.createElement(j,{variant:"secondary",onClick:a,trackingProperties:r,htmlAttributes:{"data-testid":"secondary-button"}},n.createElement("span",{className:V,"data-testid":"secondary-button-label"},e))):n.createElement(q,{className:O()(P.cx.flex.justifyCenter.alignCenter.py8.px32.h40.maxWFull.cursorPointer.$,U),onClick:a,htmlAttributes:{"data-testid":"secondary-button"},trackingProperties:r},n.createElement("div",{className:V,"data-testid":"secondary-button-label"},e))}var J=a(931828),Z=a(760824);let Q="dev_mode_has_seen_trial_success_modal",$=(0,_.Fu)(Q);function ee(){let e=(0,E.J)(),t=(0,r.d4)(e=>e.userTeamFlags),a=(0,i.md)($),l=(0,b.q5)(),o=l?.teamId,s=l?.parentOrgId,c=(0,r.wA)(),d=o&&!s?t?.[o]?.[Q]:a?.data,u=(0,n.useCallback)(t=>{e&&!!d!==t&&(o&&!s?c(Z.bE({all_team_flags:[{team_id:o,flags:{[Q]:t}}]})):c(J.b({[Q]:t})))},[c,d,e,s,o]);return[d,u]}function et(){let e=(0,i.md)(g),[t,a]=ee(),r=(0,b.tS)()??"",l=(0,u.Rs)(C.oBY,{key:r}),o=(0,h.W)(),s=(0,E.J)(),{isShowing:_,show:f,complete:N}=(0,y.e)({overlay:T.VjY,priority:w.N.HIGH_PRIORITY_MODAL},[e,l]);return(0,d.h)(()=>{!t&&s&&f({canShow:(e,t)=>!!e&&!!t?.file?.hasPermission})}),(0,n.useEffect)(()=>{_&&a(!0)},[_,a]),n.createElement(k.h,{modalType:x.q3.WELCOME,isShowing:_,onClickPrimaryCta:m.lQ,onClose:N,onManualDismiss:N,trackingContextName:"Dev Mode Trial Start Modal",trackingProperties:o,trackingEnabled:o?.gracePeriod!==void 0,element:function({dismissModal:e}){let t=(0,v.M)();return n.createElement("div",{className:"blocking_modal--modalPadding--X7-G9",style:{width:328}},n.createElement(z,{imgSrc:"https://static.figma.com/uploads/5e9bfbdf1ce7c02544ebc1a89e0245c520a8c796",content:n.createElement(n.Fragment,null,n.createElement("div",{className:G},(0,p.tx)("dev_handoff.paywall.success_modal.grace_period.title")),n.createElement("div",{className:H},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.description_grace_period",{numDays:t?.totalGraceDays??c.W7o}))),modalType:"trial start modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.success_modal.grace_period.button"),primaryButtonOnClick:e,primaryButtonType:"get started"}))}})}var ea=a(776250),en=a(344780),er=a(794272),el=a(157147),ei=a(785315),eo=a(239349);function es({doReport:e}){let t=(0,i.md)(ei.H),{commentsActive:a,isNodeSelected:r}=(0,er.R)(e=>({commentsActive:e.mirror.appModel.currentTool===el.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0})),l=(0,eo.VW)();(0,d.h)(()=>{let t=en.sn.tryStop("switch_to_inspect_mode.right_panel_tti");e&&t&&(0,ea.sx)("switch_to_inspect_mode.right_panel_tti",{elapsedMs:t,isNodeSelected:r},{forwardToDatadog:!0}),en.sn.tryStop("dev_handoff.select_node_tti")}),n.useEffect(()=>{l&&!a&&requestAnimationFrame(()=>{let a=en.sn.tryStop("dev_handoff.select_node_tti");e&&a&&(0,ea.sx)("dev_handoff.select_node_tti",{elapsedMs:a,isTopLevelFrame:l.isTopLevelFrame(),activeTab:t},{forwardToDatadog:!0})})},[l,t,a,e])}var ec=a(939683),ed=(a(711117),a(752553),a(67833),a(175290)),eu=a(553015),em=a(809840),ep=a(911826),e_=a(321961),ef=a(737947),eg=a(761870),eh=a(195847),eE=a(392592),ey=a(172115),ev=a(964881),eb=a(738269),eC=a(662275),ew=a(995852),ek=a(750293),ex=a(229403),eT=a(349410),eN=a(6949),eS=a(720647),eI=a(99506),eA=a(243987),eL=a(556261),eO=a(344339),eM=a(984968),eP=a(206193),eR=a(239671),eD=a(977466),eF=a(364871),eB=a(699857),eU=a(213045),eG=a(114959),eH=a(264771);function eV({dismissModal:e}={}){let t=(0,eT.ru)(),a=(0,b.q5)(),l=(0,eM.ol)(),s=(0,u.Rs)(C.kQI,{id:l?.id||""},{enabled:!!l?.id}),d=function(e){let t=(0,o._I)(),a=(0,b.q5)(),l=(0,eL.wy)({component:"useUpgradeForDevMode",attribute:"isPlanUserInProTeamForFile",legacy:e=>e?.team_id===a?.teamId,migrated:e=>e?.key.type===eO.h4.TEAM_USER&&e?.planKey.parentId===a?.teamId}),s=(0,eL.wy)({component:"useUpgradeForDevMode",attribute:"isPlanUserInOrgForFile",legacy:(e,t)=>t?.org_id===a?.parentOrgId,migrated:e=>e?.key.type===eO.h4.ORG_USER&&e?.planKey.parentId===a?.parentOrgId}),c=(0,eN.a9)(),d=(0,eM.ol)(),m=(0,eA.w5)(d)&&!d?.org_id,p=(0,e_.q)(),_=(0,ec.U)(),f=(0,r.wA)(),g=(0,E.J)(),[h,y]=(0,i.fp)(eH.t),v=u.Rs(C.HdA,{key:a?.key??""},{enabled:!!a?.key})?.data?.file?.hasPermission,w=n.useCallback(()=>{g&&y(eH.c.UPGRADING)},[g,y]);return(0,n.useCallback)((n=ek.i$.DevMode)=>{if(a&&!t)try{if(p&&e()&&v)f(ex.Nu({adminIds:[],message:"",teamId:d?.id??"",seatType:{licenseType:eI.G_.DEV_MODE},fileKey:a?.key,entryPoint:n??"",hideSuccessMessage:!0}));else if(a.parentOrgId)w(),s?f(eC.to({type:eU.Y,data:{orgId:a.parentOrgId,orgUser:c,entryPoint:n,licenseType:eS.Te.DEV_MODE,fileKey:a.key},showModalsBeneath:!0})):(f(eg.Ts({origin:"dev_mode",formState:eh.qB.JOIN_ORG,redirectUrl:ef.Ay.location.pathname})),f(eC.to({type:eD.x,data:{}})));else if(m)l?(w(),f(eC.to({type:eG.PK,data:{editorType:eI._Y.DESIGN,team:{id:a.teamId},entryPoint:n,fileKey:a.key},showModalsBeneath:!0}))):f(eE.F.enqueue({message:"No team user"}));else{_("Dev Mode Paywall clicked",{type:"Starter Tier Upgrade",entryPoint:n},{forwardToDatadog:!0});let e=d?.id;n!==ek.i$.DowngradeEmail&&e?f(ew.WX({teamId:e,openInNewTab:!0})):(w(),f(eC.to({type:ey.V,data:{teamId:e??void 0,upsellSource:eP.b.DEV_MODE_UPSELL,openCheckoutInNewTab:!0,onDone:()=>y(eH.c.DEFAULT)}})))}}catch(e){g&&y(eH.c.DEFAULT),f(eE.F.enqueue({message:e.message||e.data.message}))}},[a,t,p,e,v,m,f,d?.id,w,s,c,l,_,y,g])}(()=>t(a,!!s.data?.team?.hasPermission)),m=(0,eB.U)("blocking_modal"),_=eW(),f=(0,e_.n)(),g=((0,ev.hA)(),(0,e_.q)()),h=(0,b.tS)()??"",y=u.Rs(C.HdA,{key:h})?.data?.file?.hasPermission,v=(0,r.d4)(e=>(0,eA.oc)(eM.H7(e)?.id??"",e)),w=(0,E.J)(),k=n.useCallback(t=>{e?.(),d(t)},[e,d]),x=n.useCallback(()=>{m("design")},[m]);return w?{label:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.request_access"),hidden:!1,disabled:_,onClick:k}:f?{label:v?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"):(0,p.tx)("dev_handoff.paywall.blocking_modal.button.learn_more"),hidden:!1,disabled:!1,onClick:v?x:ez}:g&&t(a,!!s.data?.team?.hasPermission)&&y?{label:(0,p.tx)("dev_handoff.paywall.start_dev_mode_starter_trial",{numDays:c.N4S}),disabled:!1,hidden:!1,onClick:k}:{label:v?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.locked.reactivate"):(0,p.tx)("payments_modal.upgrade_to_professional"),hidden:!1,disabled:!1,onClick:k}}function eK(){let e=!!(0,ev.hA)(),t=(0,e_.n)(),a=(0,i.md)(eF.R),l=(0,eB.U)("blocking_modal"),o=(0,r.wA)(),s=(0,er.R)(e=>({...e.selectedView,editorType:eR.nT.Design,showOverview:!0,focusViewBackNavigation:void 0,devModeFocusId:void 0})),c=n.useCallback(()=>{l("design")},[l]),d=n.useCallback(()=>{o(eb.$T(s))},[s,o]);return e?{label:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_summary"),onClick:d}:{label:a&&!t?(0,p.tx)("dev_handoff.paywall.blocking_modal.button.not_now"):(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),onClick:c}}function ez(){ef.Ay.unsafeRedirect("https://help.figma.com/hc/en-us/articles/15023124644247-Guide-to-Dev-Mode","_blank")}function eW(){let e=(0,r.d4)(e=>e.openFile?.currentPartialOrgUser?.designAccountTypeRequest),t=(0,r.d4)(e=>e.openFile?.currentPartialOrgUser?.devModeAccountTypeRequest),a=(0,r.d4)(e=>e.openFile?.currentTeamUser?.designAccountTypeRequest);return e?.status==="pending"||t?.status==="pending"||a?.status==="pending"}a(710667),a(978779),a(820113);var ej=a(237870);function eq(){return{panelTabs:[{text:(0,p.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.tab_title"),id:"advanced_inspection"},{text:(0,p.t)("dev_handoff.paywall.upsell_modal.quick_handoff.tab_title"),id:"quick_handoff"},{text:(0,p.t)("dev_handoff.paywall.upsell_modal.track_changes.tab_title"),id:"track_changes"},{text:(0,p.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.tab_title"),id:"plugins_extensions"}],contents:{advanced_inspection:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.advanced_inspection.details"),imgSrc:"https://static.figma.com/uploads/39aa1e9a18601b9c7b904f84b8c8dd6d441f1e08",closeButtonTheme:"light"},quick_handoff:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.quick_handoff.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.quick_handoff.details"),imgSrc:"https://static.figma.com/uploads/ba04aa94fd2bbd4f86b96e8e024c0d70a7318c5b",closeButtonTheme:"dark"},track_changes:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.track_changes.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.track_changes.details"),imgSrc:"https://static.figma.com/uploads/234cba06210af50cc549b9e85edb9f6b3e78c5c8",closeButtonTheme:"dark"},plugins_extensions:{headerText:(0,p.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.header"),description:(0,p.tx)("dev_handoff.paywall.upsell_modal.plugins_extensions.details"),imgSrc:"https://static.figma.com/uploads/335b2bfa4f4f9ff3ea062ef679353fca0d2422a3",closeButtonTheme:"dark"}},panelTitle:(0,p.t)("dev_handoff.paywall.upsell_modal.title")}}let eY=(0,D.tf)(I.E),eX=(0,ej.Ju)(function({initialFeatureTab:e}){(0,eM.ol)(),(0,ep.O)(),(0,e_.q)(),(0,e_.n)();let t=(0,n.useMemo)(eq,[]),[a,l]=(0,n.useState)(e??t.panelTabs[0].id),i=(0,ec.U)(),o=(0,r.wA)(),s=(0,r.d4)(e=>e.modalShown),c=(0,n.useCallback)(()=>{o(eC.Ce())},[o]);(0,n.useEffect)(()=>{s?.type===eX.type&&c()},[c,s?.type]);let d=eV({dismissModal:c}),u=((0,n.useCallback)(()=>{d.hidden||d.onClick(function(e){switch(e){case"advanced_inspection":return ek.i$.Inspection;case"track_changes":return ek.i$.TrackChanges;case"quick_handoff":return ek.i$.QuickHandoff;case"plugins_extensions":return ek.i$.Plugin;default:return ek.i$.SuperModal}}(a))},[a,d]),n.useCallback(t=>{i("Dev Mode Paywall clicked",{type:"Features Modal Tab Changed",entryPoint:e,currentTab:a},{forwardToDatadog:!0}),l(t)},[e,a,i]));return t.panelTabs.map(e=>n.createElement(eY,{className:O()("supermodal--panelTab--jfGLR",a===e.id&&"supermodal--panelTabActive--qyylR"),key:e.id,onClick:()=>{u(e.id)},htmlAttributes:{onKeyDown:t=>{(" "===t.key||"Enter"===t.key)&&u(e.id)}},trackingProperties:{tab:e.id,prevTab:a},recordingKey:"dev_mode_features_upsell_modal_tab_"+e.id},n.createElement(em.E,{fontSize:13},e.text))),t.contents[a],N.a.useModal({open:!0,onClose:m.lQ,preventUserClose:!0}),null},"DevModeSupermodal");var eJ=a(617453),eZ=a(779709),eQ=a(611978),e$=a(147829),e0=a(707458),e1=a(138020),e2=a(568214),e5=a(493323);function e3(){let e=(0,eB.U)("blocking_modal"),t=(0,b.tS)()??"",a=(0,u.Rs)(C.D2i,{key:t}),r=(0,u.Rs)(C.oBY,{key:t}),l=a.data?.file.status!=="error"&&a.data?.file.data?.hasPermission&&r.data?.file?.hasPermission===!1,i=n.createElement(n.Fragment,null,n.createElement("div",{className:G},l?(0,p.tx)("dev_handoff.paywall.pending_modal.grace_period_end.title"):(0,p.tx)("dev_handoff.paywall.pending_modal.no_grace_period.title")),n.createElement("div",{className:H},l?(0,p.tx)("dev_handoff.paywall.pending_modal.grace_period.description"):(0,p.tx)("dev_handoff.paywall.pending_modal.no_grace_period.description"))),o=(0,n.useCallback)(()=>{e("design")},[e]);return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",content:i,modalType:"request pending modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:o,primaryButtonType:"back to design"})}function e4(){let e=(0,eB.U)("blocking_modal"),t=(0,n.useCallback)(()=>{e("design")},[e]);return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/9a55aebf20fd5e927f609cc0e256f6e782b20d78",content:n.createElement(n.Fragment,null,n.createElement("div",{className:G},(0,p.tx)("dev_handoff.paywall.success_modal.no_grace_period.title")),n.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.success_modal.no_grace_period.description"))),modalType:"request sent modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:t,primaryButtonType:"back to design"})}var e6=a(825531),e7=a(832371);function e8(){let e=eV(),t=eK(),a=(0,e_.q)(),r=(0,e_.n)(),l=(0,i.md)(eF.R),o=b.q5()?.team?.name||"",s=n.createElement(n.Fragment,null,n.createElement("div",{className:G},a&&r?(0,p.tx)("dev_handoff.paywall.blocking_modal.title.starter_viewer"):l?(0,p.tx)("dev_handoff.paywall.blocking_modal.title.direct_link"):a?(0,p.tx)("dev_handoff.paywall.blocking_modal.title.starter"):(0,p.tx)("dev_handoff.paywall.blocking_modal.title")),r?n.createElement(n.Fragment,null,n.createElement("div",{className:"blocking_modal--upsellText--g-Mx-"},(0,p.tx)("inspect_panel.properties.dev_mode_upsell_message")),n.createElement("div",{className:"blocking_modal--adminText--0BndN"},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.ask_admin",{teamName:n.createElement("span",{className:"blocking_modal--teamName--wZ8Ft"},o)}))):n.createElement("ul",null,n.createElement("li",{className:K},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.code")),n.createElement("li",{className:K},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.inspection")),n.createElement("li",{className:K},(0,p.tx)("dev_handoff.paywall.blocking_modal.content.plugins")))),c=n.useCallback(()=>{e.hidden||e.onClick(ek.i$.BlockingModal)},[e]),d=e.hidden?void 0:e.label;return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/6d5e9cb0e9ec7fd5dd58425c5527dc8a78143a19",content:s,modalType:"blocking modal",primaryButtonLabel:d,primaryButtonOnClick:c,primaryButtonType:"upgrade",secondaryButtonLabel:t.label,secondaryButtonOnClick:t.onClick,secondaryButtonType:"back to design"})}var e9=a(756704);function te({upgradeRequestId:e}){let t=(0,eB.U)("blocking_modal"),a=(0,r.wA)(),l=n.createElement(n.Fragment,null,n.createElement("div",{className:G},(0,p.tx)("dev_handoff.paywall.request_reminder_modal.title")),n.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.request_reminder_modal.description"))),i=()=>{a(eE.F.enqueue({message:(0,p.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,p.t)("admin_dashboard.requests.error_reload"),action:()=>{ef.Ay.reload("Seat request reminder error")}}}))},o=(0,n.useCallback)(()=>{t("design")},[t]);return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",modalType:"request reminder modal",content:l,primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.request_reminder_modal.button.send_a_reminder"),primaryButtonOnClick:()=>{e9.w.nudgeRequest({request_id:e}).catch(()=>{i()})},primaryButtonType:"send reminder",secondaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),secondaryButtonOnClick:o,secondaryButtonType:"back to design"})}function tt(){let e=(0,eB.U)("blocking_modal"),t=n.createElement(n.Fragment,null,n.createElement("div",{className:G},(0,p.tx)("dev_handoff.paywall.reminder_sent_modal.title")),n.createElement("div",{className:H},(0,p.tx)("dev_handoff.paywall.reminder_sent_modal.description"))),a=(0,n.useCallback)(()=>{e("design")},[e]);return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/9a55aebf20fd5e927f609cc0e256f6e782b20d78",content:t,modalType:"reminder sent modal",primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),primaryButtonOnClick:a,primaryButtonType:"back to design"})}function ta(){let e=eV(),t=eK(),a=!(0,e_.n)(),r=n.createElement("div",{className:P.cx.gap6.$},n.createElement("div",{className:G},(0,p.tx)("dev_handoff.paywall.blocking_modal.title.locked")),n.createElement("div",{className:H},a?(0,p.tx)("dev_handoff.paywall.blocking_modal.content.locked_upgrade"):(0,p.tx)("dev_handoff.paywall.blocking_modal.content.locked"))),l=n.useCallback(()=>{e.hidden||e.onClick(ek.i$.BlockingModal)},[e]);return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/0cc1682e265ffe998009571ee821470ca30ed096",imgWidth:32,imgHeight:32,hideImgBorder:!0,content:r,modalType:"team locked modal",primaryButtonLabel:e.hidden?void 0:e.label,primaryButtonOnClick:l,primaryButtonType:a?"upgrade":"back to design",secondaryButtonLabel:a?t.label:void 0,secondaryButtonOnClick:a?t.onClick:void 0,secondaryButtonType:a?"back to design":void 0})}function tn(){let e=(0,eB.U)("blocking_modal"),t=(0,r.wA)(),a=(0,r.d4)(e=>eM.H7(e)?.id),l=n.createElement(n.Fragment,null,n.createElement("p",{className:G},(0,p.tx)("dev_handoff.paywall.pending_modal.starter_trial_end.title")),n.createElement("p",{className:H},(0,p.tx)("dev_handoff.paywall.pending_modal.starter_trial_end.description")));return n.createElement(W,{imgSrc:"https://static.figma.com/uploads/4d633d6262a8b5f838196a652d687dd1c9123fda",modalType:"Dev Mode Starter Trail Ended Modal",content:l,primaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.upgrade_your_plan"),primaryButtonOnClick:()=>{t((0,eC.to)({type:ey.V,data:{teamId:a,upsellSource:eP.b.DEV_MODE_STARTER_TRIAL_ENDED_PAYWALL,openCheckoutInNewTab:!0}}))},primaryButtonType:"upgrade",secondaryButtonLabel:(0,p.tx)("dev_handoff.paywall.blocking_modal.button.back_to_design"),secondaryButtonOnClick:()=>{e("design")},secondaryButtonType:"back to design"})}function tr(){let e=(0,eL.yN)({phase:"passthrough",component:"ModalWrapper",attribute:"isCurrentPlanOrg",legacy:(e,t)=>!!t,migrated:e=>e?.key.type===eI.OL.ORG});!function(){let[e,t]=(0,i.fp)(eH.t),a=(0,E.J)(),r=(0,b.tS)()??"",l=(0,u.Rs)(C.Fol,{key:r}),o=(0,u.Rs)(C.Pns,{key:r}),s=l.data?.file.status!=="error"&&!!l.data?.file.data?.hasPermission,c="loading"===l.status,d=o.data?.file.status!=="error"&&!!o.data?.file.data?.hasPermission,m=(0,n.useRef)(!1);n.useEffect(()=>{if(!a)return;s&&!m.current&&(m.current=!0);let n=m.current;!c&&n&&!s&&d&&e===eH.c.REQUESTED&&(t(eH.c.DEFAULT),m.current=!1)},[e,d,s,c,a,t])}();let t=(0,i.md)(eH.t),a=(0,b.tS)()??"",l=(0,E.J)(),o=(0,r.d4)(e=>(0,eA.oc)(eM.H7(e)?.id??"",e)),s=(0,u.Rs)(C.D2i,{key:a}),c=(0,u.Rs)(C.Fol,{key:a}),d=(0,u.Rs)(C.XGw,{key:a}),m=l&&c.data?.file.status!=="error"&&c.data?.file.data?.hasPermission,{inExperiment:p}=(0,e6.X)(a),_=function(e,t){let a=(0,e1.oA)(e.data?.file);return t?a?.currentBaseOrgUser?.devModeAccountTypeRequest:a?.currentTeamUser?.designAccountTypeRequest}(d,e),{requestCanBeNudged:f,requestHasBeenNudged:g,upgradeRequestId:h}=_?(0,e7.q)(_):{requestCanBeNudged:!1,requestHasBeenNudged:!1,upgradeRequestId:null},y=!l&&!!e1.oA(d?.data?.file)?.currentTeamUser?.devModeAccountTypeRequest?.createdAt;if(l&&("loading"===s.status||"loading"===c.status)||void 0===p)return n.createElement(n.Fragment,null,n.createElement(ti,null),n.createElement(tl,null));if(o)return n.createElement(ta,null);if(p&&h&&l&&m){if(g)return n.createElement(tt,null);if(f)return n.createElement(te,{upgradeRequestId:h})}return l&&t===eH.c.REQUESTED&&m?n.createElement(e4,null):l&&t===eH.c.DEFAULT&&m?n.createElement(e3,null):t===eH.c.DEFAULT&&y?n.createElement(tn,null):t===eH.c.DEFAULT?n.createElement(e8,null):n.createElement(ti,null)}function tl(){let e=e0.q.instance.getCurrentPage(),t=(0,e2.HD)(e?.backgroundColor??"");return n.createElement("div",{className:t?"blocking_modal--spinnerOnDarkCanvas--CK6zy blocking_modal--spinner--9vJT2":"blocking_modal--spinnerOnLightCanvas--8ZdNP blocking_modal--spinner--9vJT2"},n.createElement(e5.kt,{size:"large"}))}function ti(){return n.createElement("div",{className:P.cx.fixed.top0.left0.right0.bottom0.wFull.hFull.zIndexModal.$,style:R.sx.add({backgroundColor:"var(--color-modalbackdrop)"}).$})}function to(){let e=e0.q.instance.getCurrentPage(),t=e?.backgroundColor?(0,e2.YU)({...e.backgroundColor,a:.9}):"var(--color-modalbackdrop)";return n.createElement("div",{className:P.cx.fixed.top0.right0.bottom0.left0.$,style:R.sx.add({backgroundColor:t}).$})}function ts(){return n.createElement(n.Fragment,null,n.createElement(to,null),n.createElement(tr,null))}var tc=a(976999),td=a(574176),tu=a(259927),tm=a(225699),tp=a(795847),t_=a(168275),tf=a(789819),tg=a(800307),th=a(949207);let tE=[0,1,2,3,4];function ty(){let e="ui3"===(0,A.DP)().version;return n.createElement(tg.Q,null,n.createElement(tm.$,{width:240,disableResizing:!0},n.createElement("div",{className:O()(tu.Dm,"left_panel--nodesPanel---qMcy dev_handoff_nodes_panel--nodesPanel--4Pea0"),"data-testid":"dev-mode-paywall-left-panel"},n.createElement(tp.s,null),e&&n.createElement(n.Fragment,null,n.createElement(tf.n,null),n.createElement(t_.d,null)),n.createElement("div",{className:"left_panel--panelTitle--Q4BOG dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.tag.ready_for_development")),n.createElement("div",{className:"left_panel--loadingParentRow--9WZnv"},n.createElement(td.B,{className:"left_panel--chevron--ApMP6",svg:th.A}),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0})),tE.map(e=>n.createElement("div",{className:"left_panel--loadingThumbnailRow--PEBJC",key:e},n.createElement(tc.Qp,{animationType:tc.JR.NO_SHIMMER,className:"left_panel--loadingThumbnail--gEHnl"}),n.createElement("div",{className:"left_panel--loadingThumbnailTexts--VS9R6"},n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0}),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0})))),n.createElement("div",{className:"left_panel--transparentPanelScrim--axhW3"}))))}var tv=a(326331),tb=a(927457),tC=a(615925),tw=a(203264),tk=a(46481),tx=a(348425),tT=a(378958),tN=a(409272),tS=a(308977),tI=a(752795),tA=a(535904),tL=a(841368),tO=a(222903),tM=a(902008),tP=a(181912),tR=a(966712),tD=a(522739),tF=a(626217),tB=a(143922),tU=a(598393),tG=a(381618),tH=a(970516),tV=a(226055),tK=a(848661),tz=a(555074),tW=a(860178),tj=a(498606),tq=a(286723),tY=a(118335),tX=a(60088),tJ=a(798558),tZ=a(32067),tQ=a(788612),t$=a(227795),t0=a(893606),t1=a(228737),t2=a(753630),t5=a(554905),t3=a(767129),t4=a(101165),t6=a(523099),t7=a(143984),t8=a(192437),t9=a(343827),ae=a(843245),at=a(696673),aa=a(416095),an=a(640783),ar=a(812115),al=a(717421);function ai({description:e,emptyStateText:t}){let a=n.useRef(null),r=n.useRef(void 0),[l,i]=n.useState(!0);n.useLayoutEffect(()=>{let t=r.current;r.current=e,a.current&&t!==e&&i(a.current.scrollHeight>96)},[e]);let o=!!e&&l;return n.createElement("div",{className:"asset_documentation_panel--documentationSection--Uiw1f"},e?n.createElement("div",{className:O()("asset_documentation_panel--documentationRt--dqAKD")},n.createElement(ar.R,{fallback:null,errorFallback:null,value:e,quillClassName:O()("asset_documentation_panel--quill--ARHQQ",{"asset_documentation_panel--quillCollapsed--ezPrQ":l}),quillInnerRef:a}),l&&n.createElement("div",{className:"asset_documentation_panel--quillCollapsedOverlay--UlWJU"})):t?n.createElement("div",{className:"asset_documentation_panel--documentationDescriptionDefault--vxlbl asset_documentation_panel--documentationDescription--la2iI text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto",ref:a},t):null,o&&n.createElement("div",{className:"asset_documentation_panel--showMoreButtonContainer--ZkHWJ"},n.createElement(al.d,{label:(0,p.t)("dev_handoff.docs.show_full"),onClick:()=>i(!1)})))}var ao=a(846627),as=a(153234),ac=a(519685),ad=a(677664),au=a(29680),am=a(285334),ap=a(349719);a(661743);var a_=a(646240),af=a(877432),ag=a(38580);let ah=(0,ag.eU)({});var aE=a(756085),ay=a(960628),av=a(215822),ab=a(227712),aC=a(829632),aw=a(376485),ak=a(242014),ax=a(38329),aT=a(208186);let aN=class{async generateLinkPreview({plugin:e,link:t}){try{let a=await aC.R.instance.enqueue(this.createEnqueueArgs({command:"linkpreview",plugin:e,onStart:()=>(0,ay.se)({name:t.linkName,url:t.linkUrl,isInherited:t.isInherited,nodeId:t.nodeId})}));if(a?.type==="PLAIN_TEXT")(0,aT.n7)({link:t,linkPreviewJson:a});else if(a?.type==="AUTH_REQUIRED"){let a=i.zl.get(ah),n=a[e.plugin_id]?.links??[];i.zl.set(ah,a=>({...a,[e.plugin_id]:{plugin:e,links:[...n,t]}}))}return a??null}catch(e){console.error(e)}return null}async runAuth({plugin:e,links:t}){i.zl.set(ei.H,ei._.PLUGIN);try{return await aC.R.instance.enqueue(this.createEnqueueArgs({command:"auth",plugin:e,onStart:()=>(0,ay.Ut)(t)}))??null}catch(e){console.error(e)}return null}createEnqueueArgs({command:e,plugin:t,onStart:a}){return{runPluginArgs:{plugin:t,command:"linkpreview",queryMode:!1,runMode:"linkpreview"===e?"linkpreview":"auth",triggeredFrom:"linkpreview"===e?"related-link-preview":"related-link-auth",openFileKey:ax.D.getState().openFile?.key||"",isWidget:!1},onStart:a,mode:"run-and-terminate"}}};aN.instance=new aN;let aS=(0,am.Up)();function aI(e,t){if((0,aw.ZQ)(t)&&!(0,tR.kc)().plugins_related_links_local||!aS.has(t.plugin_id))return!1;let a=t.manifest.relatedLinkDomains||t.manifest.devResourceDomains;if(!a)return!1;for(let t of a){let a=(0,av.tk)(t);if(!a)continue;let n=e.split("?")[0];if(a.exec(n))return!0}if((0,am.P8)(t.plugin_id)){if(aA(e)&&e.match(/selectedIssue=[A-Z]+-[0-9]+/))return!0;aA(e)&&e.match(/[A-Z]+-[0-9]+/)&&(0,ea.sx)("Jira Issue Url Not Matched",{url:e})}return!1}function aA(e){return!!e.match(/https?:\/\/[a-zA-Z0-9-]+\.(atlassian\.net|jira\.com)/)}var aL=(e=>(e.OPEN="open",e.PREVIEW="preview",e))(aL||{});function aO(e){let t=function(e){let t=(0,aE.$1)(),a=(0,aE.cW)(),l=(0,r.d4)(e=>e.mirror.appModel.useLocalRelatedLinkPlugin),i=n.useMemo(()=>0===aS.size?null:Object.values(t).find(t=>!!aI(e,t)),[e,t]),o=n.useMemo(()=>0===aS.size?null:Object.values(a).map(e=>(0,av.uF)(e)).find(t=>!!aI(e,t)),[e,a]),s=n.useMemo(()=>Array.from(aS),[]),c=(0,aE.uf)(s,{enabled:!o}),d=n.useMemo(()=>c.find(t=>!!aI(e,t))??null,[e,c]);return l&&i?i:o||d||null}(e),a=(0,aE.YN)();return t&&a(t)?t:null}function aM(e){let t=aO(e),a=(0,i.md)(ah);if(!t||!t.manifest.capabilities?.includes("linkpreview"))return null;if(a[t.plugin_id]?.links.some(t=>t.linkUrl===e))return;let n=async({link:e})=>{await aN.instance.generateLinkPreview({plugin:t,link:e})};return{plugin:t,genPreview:n}}var aP=a(155497);function aR({isEditable:e,link:t,onOpenDeleteModal:a,onOpenEditModal:i}){let o=(0,r.wA)(),s=!(0,aP.G)(t.linkUrl),c=(0,au.eY)(),d=(0,ae.Nf)()??"",u=c.get(d),m=t.isInherited||t.isVariant,_=(0,ec.U)(),f=(0,t9.d)(!t.isVariant),g=n.useCallback(()=>{o(tH.lW({stringToCopy:t.linkUrl})),_("Dev Handoff Related Links Copy Hyperlink",{nodeId:d,nodeType:u?.type,source:"web"})},[o,d,t.linkUrl,u?.type,_]),h=s?t.linkUrl:new URL(t.linkUrl).host;h.startsWith("www.")&&(h=h.slice(4));let{Dropdown:E,toggleDropdown:y,dropdownTargetRef:v,isDropdownShown:C}=(0,tX.B)(t.id),w=function(e){let t=aO(e),a=(0,b.tS)(),n=(0,tS.v4)(),r=(0,a_.Xr)(ei.H);if(!t||!a||!(0,av.$u)(t.manifest.capabilities))return null;let l=async({link:e})=>{await ak.d.instance.maybeTerminatePlugin(n),await (0,af.yQ)();let l=(0,ab.D)(),i=t.manifest.editorType?.includes(aw.FW.DEV)?"open-dev-resource":"open-related-link",o={mode:"run-forever",runPluginArgs:{plugin:t,command:i,queryMode:!1,openFileKey:a,isWidget:!1,runMode:"default",triggeredFrom:"related-link-click"}},s={url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId},c=aC.R.instance.isCurrentlyRunning(o);return(r(ei._.PLUGIN),c&&(0,ay.Jc)())?aC.R.instance.enqueue({...o,onStart:async()=>await (0,ay.xG)({devResource:s})}):aC.R.instance.enqueue({...o,reuseExistingRunState:!1,onStart:async()=>((0,ay.r2)(5e3,{devResource:s}),(await l).triggerRunEvent({command:i,link:s}))})};return{plugin:t,callback:l}}(t.linkUrl),k=m?(0,p.t)("dev_handoff.developer_related_links.main_component_tooltip"):(0,p.t)("dev_handoff.developer_related_links.additional_options"),x=n.createElement("div",{ref:v},n.createElement(t3.K,{actionOnPointerDown:!0,onClick:e=>{y(),e.stopPropagation()},"aria-label":k,htmlAttributes:{"data-tooltip":k,"data-tooltip-type":tj.Ib.TEXT}},m?n.createElement(t7.K,null):n.createElement(tL.J,null))),T=[{displayText:(0,p.t)("dev_handoff.developer_related_links.copy_link"),callback:()=>g()}];w&&T.unshift({displayText:(0,p.t)("dev_handoff.developer_related_links.open_in_new_tab"),callback:()=>{F()}}),m&&f&&T.unshift({displayText:(0,p.t)("dev_handoff.developer_related_links.go_to_main_component"),callback:()=>{f()}}),t.isNested&&T.push({displayText:(0,p.t)("dev_handoff.developer_related_links.select_layer"),callback:()=>{l.w3z.selectAndFocusOnNode(t.nodeId,!0)}}),e&&T.push({displayText:(0,p.t)("dev_handoff.developer_related_links.edit_link"),callback:()=>i(t)},{displayText:"",separator:!0},{displayText:(0,p.t)("dev_handoff.developer_related_links.delete_link"),callback:()=>a(t.id,t.linkUrl)});let[N,S]=n.useState(!1),[A,L]=n.useState(!1),M=t.linkPreview,R=M&&"PLAIN_TEXT"===M.type&&M.text,D=R&&!t.isUserOverride&&w,F=()=>{(0,ao.e)(t.linkUrl)||o((0,ad.RK)({rawInput:t.linkUrl})),_("Dev Handoff Related Links Open Hyperlink",{nodeId:d,nodeType:u?.type,source:"web"})},B=n.createElement(aD,{name:t.linkName,url:w?w.plugin.name:h,isHovering:N}),U=D&&w?n.createElement(aD,{name:R,url:w.plugin.name,isHovering:N}):null,G=(0,as.Pt)("developerRelatedLinkRow",t.id);return n.createElement("div",{className:"developer_related_link_row--link--fvcCC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},n.createElement(I.E,{className:O()("developer_related_link_row--linkInfo--214Y7","developer_related_link_row--linkInfoContent--Cf-IY"),onClick:()=>{let e={action:aL.OPEN,link:t};if(w&&(0,am.Zl)(w.plugin.plugin_id,eZ.z4.getIsExtension())){t.isNested&&l.w3z.selectAndFocusOnNode(t.nodeId,!0),w.callback(e),_("Dev Handoff Related Links Run Plugin From Hyperlink",{nodeId:d,nodeType:u?.type,source:"web",pluginId:w.plugin.plugin_id}),o(J.b({[ac.xb]:!0}));return}eZ.z4.getIsExtension()?(0,ap.mz)(t.linkUrl):(o((0,ad.RK)({rawInput:t.linkUrl})),_("Dev Handoff Related Links Open Hyperlink",{nodeId:d,nodeType:u?.type,source:"web"}))},recordingKey:(0,as.Pt)(G,"button"),"aria-label":t.linkName,htmlAttributes:{onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1)}},n.createElement("div",{className:"developer_related_link_row--favicon--ZrNbB"},n.createElement(tT.v,{url:t.linkUrl})),U??B),n.createElement("div",{className:O()("developer_related_link_row--additionalButtons--tKT0M",N||A||m||C?P.cx.opacity1.$:P.cx.opacity0.$),onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1)},x,C&&n.createElement("div",{onMouseEnter:()=>L(!1)},n.createElement(E,{items:T,showPoint:!1}))))}function aD({name:e,url:t,isHovering:a}){return n.createElement(ed.Y,{direction:"horizontal",spacing:4,padding:{right:32}},n.createElement("p",{className:"developer_related_link_row--linkName--p0e0K ellipsis--ellipsis--Tjyfa",style:a?R.sx.add({maxWidth:"50%"}).$:void 0},e),a&&n.createElement(n.Fragment,null,n.createElement("p",{className:"developer_related_link_row--linkDivider--20WA5"},"\xb7"),n.createElement("p",{className:"developer_related_link_row--linkURL--eaX2b ellipsis--ellipsis--Tjyfa blue_link--blueLink--9rlnd"},t)))}var aF=a(835808),aB=a(937456),aU=a(47493),aG=a(77437),aH=a(971612),aV=a(265241),aK=a(893038);function az(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.908 15.5h-.158a.25.25 0 0 0-.25.25v1c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75v-1a.25.25 0 0 0-.25-.25zm3.325-.522c.17-.194.29-.426.35-.668.115-.468.329-.94.593-1.517l.015-.032c.23-.502.5-1.089.668-1.707A4.004 4.004 0 0 0 12 6a4 4 0 0 0-3.86 5.054c.17.618.439 1.205.669 1.707l.015.033c.264.576.477 1.048.593 1.516.06.242.18.474.35.668-.167.213-.267.48-.267.772v1a1.75 1.75 0 0 0 1.5 1.732v.018a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.518 1.75 1.75 0 0 0 1.5-1.732v-1c0-.291-.1-.56-.267-.772m-1.14-.478c.25 0 .46-.186.52-.43.141-.575.398-1.134.654-1.694.24-.523.48-1.047.628-1.585q.104-.379.105-.791a3 3 0 1 0-5.895.791c.147.538.387 1.062.628 1.585.256.56.513 1.119.655 1.694.06.244.269.43.52.43zM11 10a1 1 0 0 1 1-1 .5.5 0 0 0 0-1 2 2 0 0 0-2 2 .5.5 0 0 0 1 0",clipRule:"evenodd"}))}var aW=a(992739),aj=a(449124),aq=a(827586),aY=a(675678),aX=a(132361),aJ=a(776621),aZ=a(286640),aQ=a(498480),a$=a(87816),a0=a(376797),a1=a(358145),a2=a(151283);let a5=(0,ag.eU)([]);function a3(e,t,a){let n=t.get(e),r=t.get(n?.symbolId??"");if(r?.componentKey){let e=a.getInternalCanvas();for(let t of e?.childrenNodes??[]){if(t.componentKey===r?.componentKey)return t.guid;if(t.isStateGroup){for(let e of t.childrenNodes)if(e.componentKey===r?.componentKey)return e.guid}}}return r?.publishID}var a4=a(843495),a6=a(318812),a7=a(234945),a8=a(832637),a9=a(7959),ne=a(538697),nt=a(940245);let na=new(a(554630)).b({name:"code-connect",dependencies:[],routeHints:[],exports:["figmadoc.ts*","typings.ts*","code_connect_view.ts*","preload_code_connect.ts*"],friendFiles:[]}).createLazyComponent(()=>Promise.all([a.e(3181),a.e(7199)]).then(a.bind(a,692678)).then(e=>e.CodeConnectSection),{loading:()=>null,error:nt.H4.NONE,componentName:"CodeConnectSection"});var nn=a(37112),nr=a(284321),nl=a(388094),ni=a(656839);function no(e,t,a){if(!e)return new Set;let n=new Set;for(let r of e.childrenNodes){if("SYMBOL"===r.type||r.isStateGroup||"INSTANCE"===r.type){let{backingFileKey:e,backingNodeId:l}=(0,nn.HX)(r.guid,t,a);e&&l&&n.add(`${e},${l}`)}r.childrenNodes.length>0&&no(r,t,a).forEach(e=>n.add(e))}return n}var ns=a(799569),nc=a(488578);let nd="code_connect_modal--selectedTab--KlRSR",nu="code_connect_modal--unSelectedTab--LnDy3",nm="code_connect_modal--stepWrapper--2Jt3f",np="code_connect_modal--circleNumber--j-DIh",n_="code_connect_modal--circleNumberText--WCfy1",nf="code_connect_modal--title--eSJ5C",ng="code_connect_modal--stepContent--WMmuq",nh="code_connect_modal--stepText--i8GgM",nE="code_connect_modal--command--XnF2h",ny="code_connect_modal--copyButton--Hecf7",nv="code_connect_modal--copyButtonMultiline--pesTb code_connect_modal--copyButton--Hecf7",nb="code_connect_modal--commandText--mYtNV",nC="code_connect_modal--commandTextMultiLine--N2swX";var nw=a(522157),nk=(e=>(e[e.REACT=0]="REACT",e[e.SWIFTUI=1]="SWIFTUI",e[e.COMPOSE=2]="COMPOSE",e))(nk||{});function nx({language:e}){switch(e){case 0:return n.createElement(nT,null);case 1:return n.createElement(nN,null);case 2:return n.createElement(nS,null);default:return null}}function nT(){let e=(0,r.wA)();return n.createElement(n.Fragment,null,n.createElement("div",{className:nf},(0,p.t)("dev_handoff.code.lang_react")),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"1")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_install_package")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},"npm install @figma/code-connect"),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"npm install @figma/code-connect"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"2")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_run_command")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},"npx figma connect"),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"npx figma connect"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"3")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_publish")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},"npx figma connect publish "),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"npx figma connect publish"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))))}function nN(){let e=(0,r.wA)();return n.createElement(n.Fragment,null,n.createElement("div",{className:nf},(0,p.t)("dev_handoff.code.lang_swiftui")),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"1")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_install")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},"npm install -g @figma/code-connect"),n.createElement("div",{className:nv},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"npm install -g @figma/code-connect"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"2")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.swift.add_snippet")),n.createElement("div",{className:nE},n.createElement("div",{className:nC},'dependencies: [\n\u2003\u2003...,\n\u2003\u2003.package(url: "https://github.com/figma/code-connect", from: "1.0.0"),\n]'),n.createElement("div",{className:nv},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:`dependencies: [
		...,
		.package(url:"https://github.com/figma/code-connect", from: "1.0.0"),
]`,ignoreLineBreaks:!1})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"3")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_run_command")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},'figma connect create "<url_to_node>"'),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"figma connect create"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"4")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_publish")),n.createElement("div",{className:nE},n.createElement("div",null,"figma connect publish "),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"figma connect publish"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))))}function nS(){let e=(0,r.wA)();return n.createElement(n.Fragment,null,n.createElement("div",{className:nf},(0,p.t)("dev_handoff.code.lang_compose")),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"1")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_install")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},"npm install -g @figma/code-connect"),n.createElement("div",{className:nv},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"npm install -g @figma/code-connect"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"2")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.compose.add_plugin_snippet")),n.createElement("div",{className:nE},n.createElement("div",{className:nC},'plugins { \n\u2003\u2003...\n\u2003\u2003id("com.figma.code.connect") version "1.+"\n} \n\ndependencies { \n\u2003\u2003...\n\u2003\u2003implementation("com.figma.code.connect:plugin:1.+")\n}'),n.createElement("div",{className:nv},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:`plugins {
		...
		id("com.figma.code.connect") version "1.+"
}

dependencies {
		...
		implementation("com.figma.code.connect:plugin:1.+")
}`,ignoreLineBreaks:!1})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"3")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_run_command")),n.createElement("div",{className:nE},n.createElement("div",{className:nb},'figma connect create "<url_to_node>"'),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"figma connect create"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))),n.createElement("div",{className:nm}," ",n.createElement("div",{className:np},n.createElement("div",{className:n_},"4")),n.createElement("div",{className:ng},n.createElement("div",{className:nh},(0,p.tx)("dev_handoff.code_connect.modal_publish")),n.createElement("div",{className:nE},n.createElement("div",null,"figma connect publish "),n.createElement("div",{className:ny},n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy"),onClick:()=>e(tH.lW({stringToCopy:"figma connect publish"})),htmlAttributes:{"data-tooltip":(0,p.t)("inspect_panel.copy"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))))))))}let nI=(0,ej.Ju)(function(){let[e,t]=(0,n.useState)(0),a=(0,r.wA)(),l=()=>{a(eC.Lo())};return n.createElement(nc.Nb,{className:"code_connect_modal--modal--K8M-q",hide:l,size:800,"data-testid":"upgrade_choose_plan_modal"},n.createElement("div",{className:O()("code_connect_modal--container--gdZJZ",tu.Dm),tabIndex:-1},n.createElement(ns.Jn,{className:"code_connect_modal--closeButton--lC3YZ",onClick:l}),n.createElement("div",{className:"code_connect_modal--sidebar--B46--"},n.createElement("h1",{className:"code_connect_modal--sidebarHeading--bQvXS"},(0,p.tx)("dev_handoff.code_connect.title")),n.createElement("h2",{className:"code_connect_modal--sidebarSubheading--DNWUs"},(0,p.tx)("dev_handoff.code_connect.modal_text")),n.createElement(I.E,{className:0===e?nd:nu,onClick:()=>t(0)},(0,p.t)("dev_handoff.code.lang_react")),n.createElement(I.E,{className:1===e?nd:nu,onClick:()=>t(1)},(0,p.t)("dev_handoff.code.lang_swiftui")),n.createElement(I.E,{className:2===e?nd:nu,onClick:()=>t(2)},(0,p.t)("dev_handoff.code.lang_compose")),n.createElement("div",{className:"code_connect_modal--spacer--zHdi3"}),n.createElement("span",{className:"code_connect_modal--bottomButton--OnRXO"},n.createElement(S.IK,{variant:"primary",onClick:()=>a((0,ad.RK)({rawInput:"https://github.com/figma/code-connect"})),iconPrefix:n.createElement("div",{className:"code_connect_modal--githubIcon--PlOpd"},n.createElement(tT.f,null))},(0,p.tx)("dev_handoff.code_connect.modal_github_button")))),n.createElement("div",{className:"code_connect_modal--content--xlswn"},n.createElement(nx,{language:e}))))},"CodeConnectModal",ej.ZU.YES),nA="figmadocs--figmadocWrapper--4SMJB",nL="figmadocs--fileLink--gVeAA utilities--bodySmall--JyKR1";var nO=a(752442),nM=a(126815);let nP={Swift:"swift",TypeScript:"jsx"};function nR({height:e}){return n.createElement("div",{style:{height:e}})}function nD({updatedAt:e}){let t=n.useMemo(()=>e?(0,tP.A)(e).fromNow():"",[e]);return n.createElement(aQ.Ex,{color:aQ.zE.DEFAULT,text:(0,p.t)("dev_handoff.figmadocs.connected"),icon:n.createElement(aX.x,null),className:"figmadocs--connectedBadge--5NAUO",dataTooltipType:tj.Ib.TEXT,dataTooltip:(0,p.t)("dev_handoff.figmadocs.connected_last_published_at",{lastPublishedAt:t}),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})}function nF(e){try{let{url:t}=e,a=new URL(t).pathname.split("/"),r=a.indexOf("blob");-1===r&&(r=a.indexOf("tree"));let l=a.slice(r+2).join("/"),i=l.length>0?l:a[a.length-1];return n.createElement("span",{className:"figmadocs--linkFilePath--DBTZW"},i)}catch(e){return null}}function nB(){let e=(0,r.wA)();return n.createElement("div",{className:"figmadocs--emptyCodeConnectCard--UrWur"},n.createElement("div",{className:"figmadocs--emptyCodeConnectCardHeader--S8h2p"},(0,p.t)("dev_handoff.code_connect.title")),n.createElement("div",{className:"figmadocs--emptyCodeConnectCardHeaderRight--vUyRn",onClick:()=>{e(eC.to({type:nI}))},role:"none"},(0,p.t)("dev_handoff.code_connect.entrypoint_text")))}function nU({doc:e,updatedAt:t,additionalHeaderActions:a,instanceFigmadocs:r,isPlayground:i,onInstancePillClick:o}){let s=(0,tW.iZ)(),c=(0,b.q5)(),u=(0,eo.VW)(),m=(0,au.eY)(),{backingFileKey:_,backingNodeId:f,backingComponentKey:g,backingStateGroupKey:h,backingLibraryKey:E}=(0,nn.HX)(u?.guid??"",m,c?.key??null),y=(0,au.T3)();i&&(m=y);let v=(0,a0.N)((0,tR.kc)().dt_code_connect_js_templates?e.template:void 0,r,i);!function({backingFileKey:e,result:t,backingComponentKey:a,backingStateGroupKey:r}){let l=(0,a2.X)(e);(0,d.h)(()=>{ea.az.trackDefinedEvent("code_connect.code_connect_rendered",{partnerType:l,componentKey:a,stateGroupKey:r})});let i=t?.result==="ERROR"&&t?.data?.error?t.data.error.type:null,o=(0,a1.ZC)(i);n.useEffect(()=>{i!==o&&i&&ea.az.trackDefinedEvent("code_connect.code_connect_error",{partnerType:l,errorType:i,componentKey:a,stateGroupKey:r})},[i,o,l,a,r])}({backingFileKey:_,result:v,backingComponentKey:g,backingStateGroupKey:h});let C=n.useCallback(e=>{o?o(e):l.w3z.selectAndPanToNode(e)},[o]),w=n.useCallback(()=>{(0,ea.sx)("code_connect_clicked",{user_id:s?.id,is_playground:i,node_id:f,file_key:_,...c?.key===_?{file_team_id:c?.teamId,file_org_id:c?.parentOrgId}:{},label:e.label,component_key:g,state_group_key:h,library_key:E})},[s?.id,i,f,_,c?.key,c?.teamId,c?.parentOrgId,e.label,g,h,E]);if((0,tR.kc)().dt_code_connect_js_templates){if(!v)return null;if(v?.result==="SUCCESS"){let{code:l,language:o,pills:s}=(0,a$.A)(v,m),c=e.source,d=new Set([...e.templateData?.imports??[],...Object.entries(r).map(([e,t])=>t.map(e=>l.includes(`<${e.component}`)?e?.templateData?.imports??[]:[]).flat()).flat()]),u=l;if(d.size>0){if("html"===o){let e=[],t=[];d.forEach(a=>{a.startsWith("<script")?e.push(a):t.push(a)}),e.length>0&&(u=e.join("\n")+"\n\n"+u),t.length>0&&(u=`<script>${t.join("\n")}</script>

`+u)}else u=Array.from(d).join("\n")+"\n\n"+l}return n.createElement(na,{code:u,language:o,pills:s,fallback:null,errorFallback:null,reformatOnInstanceChange:i},([e,r])=>e&&n.createElement(tQ.VZ,{hideHeader:!0,noBorder:!0,recordingKey:"figmadoc",padding:tQ.UZ.NONE,onClick:w},n.createElement("div",{className:nA},n.createElement(tN.yT,{collapseLongSections:!1,code:[e],section:e,sectionToCopy:r,key:e.name,copyAllActionEnabled:!1,onInstancePillClick:C,additionalHeaderActions:a,footerActions:n.createElement(n.Fragment,null,c?n.createElement("a",{href:c,target:"_blank",className:nL},n.createElement(tT.v,{url:c}),n.createElement(nF,{url:c})):null,n.createElement(ed.M,null),n.createElement(nD,{updatedAt:t})),type:"connected"}))))}{(0,tR.b5)()&&console.error("Error evaluating Code Connect template",v);let e=v?.data.error,t=(0,p.t)("dev_handoff.figmadocs.error_unknown");e?.type==="PROPERTY_NOT_FOUND"?t=(0,p.t)("dev_handoff.figmadocs.error_property_not_found",{propertyName:e.propertyName}):e?.type==="PROPERTY_TYPE_MISMATCH"?t=(0,p.t)("dev_handoff.figmadocs.error_property_type_mismatch",{propertyName:e.propertyName,propertyType:e.expectedType??"unknown"}):e?.type==="CHILD_LAYER_NOT_FOUND"?t=(0,p.t)("dev_handoff.figmadocs.error_child_layer_not_found",{layerName:e.layerName}):(0,aJ.$D)(aY.FigmaTeam.DEVELOPER_TOOLS,Error("Error evaluating Code Connect template"),{extra:{error:v?.data.error}});let a=(0,tR.kc)().dt_code_connect_updated_error_banner?(0,p.t)("dev_handoff.figmadocs.error_title"):(0,p.t)("dev_handoff.code_connect.title");return n.createElement("div",{className:"figmadocs--errorBannerWrapper--eemEO utilities--bodySmall--JyKR1"},n.createElement(aj.z,{variant:"danger",title:a,orientation:"vertical",iconSrc:nM.A},t))}}return n.createElement(nG,{doc:e,updatedAt:t})}function nG({doc:e,updatedAt:t}){let a=e?(0,nn.bE)(e):void 0,r=nP[e.language||"default"]||"jsx",l=e.template;return e.templateData?.imports&&e.templateData.imports.length>0&&(l=[...e.templateData?.imports??[]].join("\n")+"\n\n"+l),n.createElement(na,{code:l,language:r,fallback:null,errorFallback:null},e=>e&&n.createElement(tQ.VZ,{hideHeader:!0,noBorder:!0,recordingKey:"figmadoc",padding:tQ.UZ.NONE},n.createElement("div",{className:nA},e.map(e=>n.createElement(tN.yT,{code:[e],section:e,key:e.name,copyAllActionEnabled:!1,footerActions:n.createElement(n.Fragment,null,a?n.createElement("a",{href:a,target:"_blank",className:nL},n.createElement(tT.v,{url:a}),n.createElement(nF,{url:a})):null,n.createElement(ed.M,null),n.createElement(nD,{updatedAt:t})),type:"connected"})))))}function nH(){let e=(0,au.eY)(),t=(0,b.tS)(),a=(0,eo.VW)(),r=[],l=a;for(;l;)(l?.type==="INSTANCE"||l?.type==="SYMBOL")&&r.push(l),l=l.parentNode;let o=r.map(a=>{let{backingFileKey:n,backingNodeId:r}=(0,nn.HX)(a.guid,e,t);return{backingFileKey:n,backingNodeId:r,nodeGuid:a.guid,nodeName:a.isState?a.parentNode?.name:a.name}}),{status:s,nodesWithCodeConnect:c}=function(e){let t=(0,b.tS)(),a=(0,u.Rs)(C.p9d,{nodes:e,openFileKey:t??""},{enabled:!!(0,tR.kc)().dt_code_connect_preloading&&e.length<20});return"loaded"===a.status&&"loaded"===a.data.file.status&&a.data.file.data?.preload_code_connect?{status:"loaded",nodesWithCodeConnect:new Set((a.data.file.data?.preload_code_connect).nodesWithCodeConnect)}:{status:"loaded"===a.status?a.data.file.status:a.status,nodesWithCodeConnect:new Set}}(o.map(e=>`${e.backingFileKey},${e.backingNodeId}`)),d="loaded"===s?c:i.zl.get(ni.z)?.nodesWithCodeConnect??new Set,{backingFileKey:m,backingNodeId:_}=(0,nn.HX)(a?.guid??"",e,t);if(d.has(`${m},${_}`))return null;for(let{nodeName:e,nodeGuid:t,backingFileKey:a,backingNodeId:r}of o)if(d.has(`${a},${r}`))return n.createElement("div",{role:"button",tabIndex:0,className:"figmadocs--goToParentWrapper--3Y4OE",onClick:()=>a4.tJ([t??""])},n.createElement("div",{className:"figmadocs--goToParentTitle--O4mL0"},n.createElement(aH.M,null),(0,p.t)("dev_handoff.code_connect.title")),n.createElement("div",{className:"figmadocs--goToParentInstanceName--uIRSW"},e));return null}function nV({isPlayground:e,onInstancePillClick:t}){let a=(0,au.eY)(),i=(0,au.T3)(),o=l.glU.getPlaygroundNodeData(),s=(0,r.d4)(a7.qd)[0],c=function(e){switch(e){case tS.uz:case tS.A0:return"React";case tS.p:case tS.Ap:return"SwiftUI";default:return}}((0,tS.v4)().id),[d,u]=(0,aZ.Vc)("code-connect-selected-language-storage-key",c);e&&(s=a3(o.playgroundGUID,i,a)??s);let{updatedAt:_,doc:f,instanceFigmadocs:g,availableLabels:h,loaded:E,disabled:y,willHaveCodeConnect:v,isCommunityKey:b}=(0,nn._3)(s,a,d,i.get(o.playgroundGUID)),C=a.get(s),w=(0,r.d4)(e=>e.userFlags.dev_mode_has_dismissed_code_connect_instance_entrypoint),k=(0,r.wA)(),x=(0,a6.Um)(),T="ui3"===(0,A.DP)().version;if(e){if(!f)return null}else if(f&&"type"in f&&"snippet"===f.type)return null;else if(!f){if(v||!E)return null;if((0,tR.kc)().dt_code_connect_entrypoints&&!b&&!y){if(!w&&(C?.type==="INSTANCE"||C?.type==="SYMBOL"))return n.createElement(n.Fragment,null,n.createElement(a8.u,{className:"figmadocs--hintPanel--9oFTP",idForTests:"hintCodeConnectInstanceForFigma",userFlag:"dev_mode_has_dismissed_code_connect_instance_entrypoint",title:(0,p.t)("dev_handoff.code_connect.entrypoint_title"),iconComponent:n.createElement(td.B,{svg:nO.A,className:"figmadocs--codeConnectIcon--Lm4ab"}),hintText:(0,p.t)("dev_handoff.code_connect.entrypoint_body_text"),hintLinkText:(0,p.t)("dev_handoff.code_connect.entrypoint_text"),hintLinkOnClick:()=>{k(eC.to({type:nI}))},hintLinkOnNewLine:!0,codeConnectTweaks:!0}),n.createElement(nR,{height:16}));if(C?.type==="SYMBOL")return n.createElement(n.Fragment,null,n.createElement(nB,null),n.createElement(nR,{height:16}))}return null}let N="figmadoc-label-select";return e&&(N+="-playground"),n.createElement(n.Fragment,null,n.createElement(nU,{doc:f,updatedAt:_,instanceFigmadocs:g,onInstancePillClick:t,additionalHeaderActions:n.createElement(n.Fragment,null,n.createElement(ed.M,null),n.createElement(ne.l6,{className:"figmadocs--labelSelect--C-SIX",id:N,onChange:e=>u(e),dropdownShown:x,dispatch:k,property:f.label,formatter:{format:e=>e},dropdownWidth:T?"140px":"auto",dropdownAlignment:"right",onDropdownHidden:m.lQ},h.map(e=>n.createElement(ne.c$,{key:e,value:e})))),isPlayground:e}),n.createElement(nR,{height:16}))}var nK=a(275725),nz=a(286954),nW=a(273226),nj=a(393965),nq=a(103339),nY=a(507877);function nX(){let e=(0,ae.lA)(),t=(0,r.wA)(),a=(0,b.tS)(),i=(0,aa.yW)(e),o=!!i&&i!==a,s=n.useMemo(()=>!!e&&l.Egt.nodeIsSoftDeleted(e.guid),[e]),c=n.useCallback(()=>{if(e){if(o){if(!e.publishID)return;let a=(0,aa.xl)(i,e.publishID);t(nY.V3({url:a}))}else t(eC.AS()),l.glU.goToSymbolOrStateGroupById(e.guid,!1)}},[e,t,i,o]);return!e||s||o&&(0,at.wJ)(i)?null:n.createElement(t3.K,{onClick:c,"aria-label":e.isState?(0,p.t)("design_systems.playground.open_variant_in_library"):(0,p.t)("design_systems.playground.open_component_in_library"),htmlAttributes:{"data-tooltip":e.isState?(0,p.t)("design_systems.playground.open_variant_in_library"):(0,p.t)("design_systems.playground.open_component_in_library"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(t6.E,null))}var nJ=a(567078),nZ=a(108793),nQ=a(132208);let n$=(0,D.tf)(t3.K),n0=n.memo(({guid:e,...t})=>{let a;n.useEffect(()=>{e&&i.zl.set(a5,[e])},[e]);let o=(0,r.wA)(),c=(0,r.d4)(a7.AF),d=(0,s.wS)(),u="loaded"===d.status&&"temp-scene"===d.result.dataLocation?d.result:void 0,_=(0,nq.oD)(),f=n.useCallback(()=>{o((0,nz.vq)())},[o]),g=N.a.useModal({...t,onClose:()=>{f(),(0,ea.sx)("Playground closed"),t.onClose()}}),h=n.useMemo(()=>new e0.q(u?l.juq.DETACHED_COMPONENTS:l.juq.PLAYGROUND),[u]),E=(0,au.eY)(),y=n.useMemo(()=>{if(!_)return"";if("loaded"===d.status)return d.result.isVariant?d.result.dataStateGroupId??d.result.dataComponentId:d.result.dataComponentId;let e=_.nodeData?.playgroundGUID;return e?((0,nW.Yi)([e],h)||(0,nW.k4)([e],h))??"":""},[_,h,d]),v=n.useMemo(()=>h.get(y)?.name??"",[y,h]),{theme:b,invertTheme:C,callbackCount:w}=function(e,t){let a=(0,nK.IO)(e,t,!0),r=n.useRef(a()),[l,o]=n.useState(r.current),[s,c]=n.useState(0),[d,u]=(0,i.fp)(nq.d8),[p,_]=n.useState(!0),f=n.useCallback(()=>{let e=a();return r.current=e,e},[a]);return(n.useEffect(()=>{d&&p&&(o(e=>{let t=r.current,a=f();return"light"===t&&"dark"===a||"dark"===t&&"light"===a?"light"===e?"dark":"light":e}),u(!1))},[p,f,u,o,d]),(0,tR.kc)().dt_component_bg_improvements)?{theme:l??r.current,invertTheme:()=>{_(!1),o(e=>"light"===e?"dark":"light"),c(e=>e+1)},callbackCount:s}:{theme:r.current,invertTheme:m.lQ,callbackCount:0}}(e??y,h),k=(0,r.d4)(e=>e.userFlags.dismissed_playground_banner),x=n.useCallback(()=>{o(J.b({dismissed_playground_banner:!0}))},[o]),T=n.useCallback(()=>{_?.refetchAndResetScene()},[_]),S=n.useCallback(e=>{let t=a3(e,h,E),a=i.zl.get(a5);i.zl.set(a5,[...a,t]),l.glU.setPlaygroundSceneFromGuid(t??"")},[E,h]);if(!_||!c)return null;let{thumbnailData:I,nodeData:A}=_;if(!A)return null;let{playgroundGUID:L,componentProps:M,moduleProps:P,modeData:R}=A,F=h.get(L);if(!I)return null;let B=i.zl.get(a5);return B.length>1&&(a=n.createElement(t3.K,{onClick:()=>{let e=B[B.length-2];l.glU.setPlaygroundSceneFromGuid(e);let t=B.slice(0,-1);i.zl.set(a5,t)},"aria-label":(0,p.t)("dev_handoff.playground.select_parent_instance"),htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.playground.select_parent_instance"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(aV.E,null))),n.createElement(D.fu,{name:"Dev Mode Component Playground"},n.createElement(N.a.Root,{manager:g,width:"fit-content"},n.createElement(N.a.Contents,null,n.createElement(N.a.Header,null,n.createElement(N.a.Title,null,(0,p.tx)("design_systems.playground.component_playground"))),n.createElement(N.a.Body,null,n.createElement("div",{className:O()("playground_modal--container--oiCFH")},n.createElement("div",{className:"playground_modal--thumbnailContainer--ZaF9V",style:(0,nK.CU)(b)},n.createElement("img",{src:I.src,className:"playground_modal--thumbnail--JPv2M",width:I.width,height:I.height,alt:(0,p.t)("design_systems.playground.thumbnail_alt")}),(0,tR.kc)().dt_component_bg_improvements&&n.createElement("div",{className:"playground_modal--themeButton---BLzd","data-preferred-theme":b},n.createElement(n$,{"aria-label":(0,p.t)("design_systems.playground.change_background"),onClick:C,htmlAttributes:{"data-tooltip":(0,p.t)("design_systems.playground.change_background"),"data-tooltip-type":tj.Ib.TEXT},trackingProperties:{type:"Background toggle",color:b,index:w}},"light"===b?n.createElement(aK.c,null):n.createElement(az,null)))),n.createElement("div",{className:"playground_modal--propsContainer--CAA9y"},n.createElement("div",{className:"playground_modal--propsContainerHeader--oGDtk"},n.createElement("div",{className:"playground_modal--propsContainerName--ZCWzH"},a,n.createElement("div",{className:"playground_modal--productComponentName--NaHb9 ellipsis--ellipsis--Tjyfa"},v)),n.createElement("div",{className:"playground_modal--propsContainerHeaderButtons--MPFZ-"},"INSTANCE"===c.type&&n.createElement(nX,null),n.createElement(t3.K,{onClick:T,"aria-label":(0,p.t)("design_systems.playground.reset_properties"),disabled:!_.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,p.t)("design_systems.playground.reset_properties"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(aW.m,null)))),!k&&n.createElement("div",{className:"playground_modal--bannerContainer--rQy3f playground_modal--_propsContainerElement--F1mOU"},n.createElement(aj.z,{orientation:"vertical",iconSrc:nQ.A,variant:"dev",title:(0,p.t)("design_systems.playground.banner_header"),onClose:x},(0,p.tx)("design_systems.playground.banner_content"))),n.createElement(aq.P,null,n.createElement(au.q0.Provider,{value:h},n.createElement("div",{className:"playground_modal--propsSectionContainer--3xF-J playground_modal--_propsContainerElement--F1mOU"},n.createElement(nZ.x,{containerWidth:nW.O2.UNBOUNDED,componentProps:M,moduleProps:P,moduleFrameData:void 0,playgroundGUID:L,productComponentGUID:y,sceneGraph:h,viewOnlyMode:F?.isState?nj.BK.VARIANT_PROPS:void 0,recordingKey:"playgroundPicker"})),n.createElement("div",{className:"playground_modal--modesSectionContainer--NaZ-S"},n.createElement(nJ.b,{fill:!0,modes:R||{}}))),(0,tR.kc)().dt_code_connect_playground&&n.createElement("div",{className:"playground_modal--codeConnectPanel--A4E9s"},n.createElement(t8.tH,{boundaryKey:"Figmadoc",fallback:t8.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(nV,{isPlayground:!0,onInstancePillClick:S}))))))))))}),n1=(0,ej.Ju)(n0,"PlaygroundModal");var n2=a(869156),n5=a(25888),n3=a(673867),n4=a(564092),n6=a(534611),n7=a(91408),n8=a(603689),n9=a(146935);let re="component_preview_panel--componentPreviewContainer--aKLR0 common--well--J0WtH",rt="component_preview_panel--componentPreviewImage--AZj5d",ra=(0,n7.jz)(n9.devHandoffComponentPreviewMaxHeight);function rn({overPropTable:e,overPlaygroundButton:t}){let a=(0,n8.rL)(),r=(0,ae.ro)(),i=a-64,o=function(e,t=ra){let a=(0,s.wS)(),r=(0,ae.lA)(),i="loaded"===a.status&&a.result.dataComponentId?a.result.dataComponentId:r?.guid,o=(0,nK.c6)(i),c="loaded"===a.status&&"temp-scene"===a.result.dataLocation,d=4*e,u=4*t;return n.useMemo(()=>{if(!i)return;let e=l.glU.getDefaultStateForLocalStateGroup(i)||i;if(!(0,n6.fn)((0,n6.sH)(e)))return;let[t,a]=l.Vzr.generateThumbnailForNode(e,d,u,4,{forceContentsOnly:!0,inDetachedComponentsScene:c});if(!a||0===a.length||!t)return;let{width:n,height:r}=t;return{url:URL.createObjectURL(new Blob([a])),backgroundStyle:o,renderWidth:n/4,renderHeight:r/4}},[o,c,i,u,d])}(i);if(!r)return null;let c=o?.renderWidth??i,d=o?.renderHeight??ra;return n.createElement(tD.D8,{className:O()(re,{"component_preview_panel--overPropTable--c8HQR":e,"component_preview_panel--overPlaygroundButton--cn0Sd":t}),style:o?.backgroundStyle,role:"button",tabIndex:0},o?.url&&n.createElement(B.J,{className:rt,src:o.url,style:{maxWidth:c,maxHeight:d}}))}let rr="component_props_list--propertyValueTypeBool--9q87D";function rl(){return n.createElement("span",{className:"component_props_list--propertyNameSpacer--FdkL0"})}function ri(e){let t=(0,tQ.SV)("inspection_property_copy_click"),a=(0,tZ.Cj)(`${e.name}: ${e.value}`,()=>{t({property:e.name,value:e.value})}),[r,i]=n.useState(!1),o=(0,n3.X)(e.name),s=(0,n3.X)(e.value),c={[l.J0O.BOOL]:rr,[l.J0O.VARIANT]:"component_props_list--propertyValueTypeVariant--GNz6Z",[l.J0O.TEXT]:"component_props_list--propertyValueTypeText--noD0E",[l.J0O.INSTANCE_SWAP]:"component_props_list--propertyValueTypeInstanceSwap--Ckcm4",[l.J0O.NUMBER]:rr,[l.J0O.NONE]:void 0},d={[l.J0O.BOOL]:aB.X,[l.J0O.VARIANT]:aU.y,[l.J0O.TEXT]:aG.I,[l.J0O.INSTANCE_SWAP]:aH.M,[l.J0O.NUMBER]:aB.X,[l.J0O.NONE]:aU.y}[e.type],u=n.createElement(d,{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("design_systems.component_properties.property_icon_tooltip",{propertyType:(0,nW.xb)(e.type===l.J0O.NONE?l.J0O.VARIANT:e.type)})}),m=O()("component_props_list--propertyValue--eu4vE sf_pro--uiFontWithSFProFallback--m-p9V ellipsis--ellipsis--Tjyfa text--fontPos10--s1PI5 text--_fontBase--QdLsd",c[e.type]);return n.createElement("div",{className:O()("component_props_list--copyableRow--N-YSu ellipsis--ellipsis--Tjyfa"),onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)}},n.createElement(I.E,{className:"component_props_list--propertyRowButton--biwBU",onClick:a,htmlAttributes:{"data-testid":"inspectionPropertyRow"}},n.createElement("div",{className:"component_props_list--propertyRow--lpbBb"},e.name?n.createElement("span",{className:"component_props_list--propertyName--o49U9 sf_pro--uiFontWithSFProFallback--m-p9V text--fontPos10--s1PI5 text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-testid":"inspectionPropertyName",...o,"data-tooltip-tip-align-left":!0},e.name):n.createElement(rl,null),n.createElement("span",{className:m,"data-testid":"inspectionPropertyValue",...s,"data-tooltip-tip-align-left":!0},u,n.createElement(tQ.lN,{valueProps:{...e,copyValue:e.value},isHovered:r})))))}function ro(){let e=(0,r.wA)(),t=(0,ae.M4)(),a=n.useCallback(()=>{e(eC.to({type:n1,data:{guid:t?.guid}})),(0,ea.sx)("Playground opened")},[e,t?.guid]);return n.createElement("div",{className:"component_props_list--propsPlaygroundButtonContainer--JYmvM","data-test-id":"openInPlaygroundButton"},n.createElement(S.IK,{variant:"secondary",onClick:a,recordingKey:"openInPlayground"},(0,p.tx)("dev_handoff.playground.open_in_playground")))}function rs(e){let t=e.variables&&e.variables.value[e.name],a=t&&t.type===l.Z_n.ALIAS?t.value:void 0,r=(0,n2.u)(a);return n.createElement(ri,{type:e.type,name:e.name,value:e.value,variable:r?.name})}function rc(){let e=(0,r.d4)(a7.qd),t=n.useMemo(n5.z4,[]),{consumedVariable:a}=(0,n4.u3)(["VARIANT_PROPERTIES"]),i=function(e){if(!e||(0,tK.gl)(e)||e.type!==l.Z_n.EXPRESSION||e.value.expressionFunction!==l.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==l.Z_n.MAP?null:t}(a),o=(0,r.d4)(a=>t(a,e)),s=Object.entries((0,n4.kN)()).filter(([e,t])=>t.modeOptions.length>1),c=o.length>0,d=c||s.length>0;return n.createElement(n.Fragment,null,n.createElement(rn,{overPropTable:c,overPlaygroundButton:d}),c&&n.createElement("div",{className:"component_props_list--propsList--VRadV"},o.map(({name:e,value:t,type:a})=>n.createElement(rs,{type:a,key:e,name:e,value:t,variables:i}))),!eZ.z4.getIsExtension()&&d&&n.createElement(ro,null))}var rd=a(201706),ru=a(215440),rm=a(958317),rp=a(731262);let r_="legacy_component_props_list--propsList--IO9sr text--fontPos11--2LvXf text--_fontBase--QdLsd",rf="legacy_component_props_list--heading--xuytG";function rg({propDef:e}){let{type:t,name:a}=e,r=e.kind===rd.u.TYPED?e.defaultValue:void 0,i=(0,eo.mJ)(r),o=(0,eo.mJ)(i?.parentGuid);if(function(e){if(e.type===l.J0O.BOOL)return!0;if(e.type!==l.J0O.VARIANT)return!1;let t=e.values.map(e=>e.toLowerCase());if(2===t.length)for(let e of rp.NE){let a=t.indexOf(e[0]),n=t.indexOf(e[1]);if(-1!==a&&-1!==n)return!0}return!1}(e))return void 0===r?n.createElement(tQ._p,{name:a,value:(0,p.t)("dev_handoff.docs.prop_boolean")}):n.createElement(tQ._p,{name:a,value:"true"===r?(0,p.t)("dev_handoff.docs.prop_boolean_default_true"):(0,p.t)("dev_handoff.docs.prop_boolean_default_false")});switch(t){case l.J0O.VARIANT:return n.createElement(tQ._p,{key:e.name,name:e.name,value:(0,p.t)("dev_handoff.docs.prop_variant",{values:e.values.join(", ")})});case l.J0O.TEXT:return n.createElement(tQ._p,{name:a,value:(0,p.t)("dev_handoff.docs.prop_string",{defaultValue:r})});case l.J0O.INSTANCE_SWAP:let s=i?.isState?o?.name:i?.name,c=s?` (${s})`:"";return n.createElement(tQ._p,{name:a,value:`${(0,p.t)("dev_handoff.docs.prop_instance")}${c}`})}return null}function rh({component:e}){let t=(0,r.d4)(a7.qd),a=(0,s.wS)(),l=(0,r.d4)(n5.$F),i=n.useMemo(rm.Cu,[]),o=(0,r.d4)(e=>i(e,t)),c=(0,au.eY)(),{detachedCompPropsDefs:d,detachedVariantProps:u}=(0,s.t7)(a,c),m=e.isState||"loaded"===a.status&&a.result.isVariant,_=[...l,...d],f=[...o,...u],g=((0,r.d4)(ru.K4)||[]).filter(e=>e.isBubbled),h=Object.entries((0,n4.kN)()).filter(([e,t])=>t.modeOptions.length>1);if(!(_.length>0||h.length>0||g.length>0))return null;let E=m?_.filter(e=>e.kind!==rd.u.VARIANT):_;return n.createElement("div",{className:r_},n.createElement("div",{className:rf},n.createElement("strong",null,(0,p.tx)("dev_handoff.docs.props"))),m&&f.map(({name:e,value:t})=>n.createElement(tQ._p,{key:e,name:e,value:t})),E.map(e=>n.createElement(rg,{key:e.name,propDef:e})),!eZ.z4.getIsExtension()&&n.createElement(rE,null))}function rE(){let e=(0,r.wA)(),t=(0,ae.M4)(),a=n.useCallback(()=>{e(eC.to({type:n1,data:{guid:t?.guid}})),(0,ea.sx)("Playground opened")},[e,t?.guid]);return n.createElement("div",{className:"legacy_component_props_list--propsPlaygroundButtonContainer--WlFqT"},n.createElement(eu.$,{width:"fill-parent",onClick:a,recordingKey:"openInPlayground",dataTestId:"openInPlaygroundButton"},(0,p.tx)("dev_handoff.playground.open_in_playground")))}function ry(e){let t=e.variables&&e.variables.value[e.name],a=t&&t.type===l.Z_n.ALIAS?t.value:void 0,r=(0,n2.u)(a);return n.createElement(tQ._p,{name:e.name,value:e.value,variable:r?.name})}function rv(){let e=(0,r.d4)(a7.qd),t=n.useMemo(n5.z4,[]),{consumedVariable:a}=(0,n4.u3)(["VARIANT_PROPERTIES"]),i=function(e){if(!e||(0,tK.gl)(e)||e.type!==l.Z_n.EXPRESSION||e.value.expressionFunction!==l.JTp.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==l.Z_n.MAP?null:t}(a),o=(0,r.d4)(a=>t(a,e)),s=Object.entries((0,n4.kN)()).filter(([e,t])=>t.modeOptions.length>1);return o.length>0||s.length>0?n.createElement("div",{className:r_},n.createElement("div",{className:rf},(0,p.tx)("dev_handoff.docs.props")),o.map(({name:e,value:t})=>n.createElement(ry,{key:e,name:e,value:t,variables:i})),!eZ.z4.getIsExtension()&&n.createElement(rE,null)):null}function rb(){let e=(0,ae.M4)();return e?"INSTANCE"===e.type?n.createElement(rv,null):n.createElement(rh,{component:e}):null}function rC(){return n.createElement(n.Fragment,null,n.createElement(rn,null),n.createElement(rb,null))}function rw(){(0,tZ.jY)();let e=(0,ae.lA)(),[t,a]=(0,s.XX)(),r=(0,aF.AK)(t,a),l=e?.isState?e?.parentNode:null,{backingSymbolDescription:i,parentDescription:o}=(0,s.iX)(e?.description,l?.description),c=i&&o?o+"\n\n"+i:i||o;return n.useMemo(()=>({links:r,description:c}),[r,c])}function rk(){let{links:e=[]}=rw();return 0===e.length?null:n.createElement("div",{className:"component_documentation_panel--documentationLinks--UtNIi text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"component_documentation_panel--heading--x-ri2"},n.createElement("strong",null,(0,p.tx)("dev_handoff.docs.links_title"))),n.createElement("div",null,e.map(e=>{let t=(0,an.Gw)(e.uri),a=t?(0,M.Zr)(t):(0,p.t)("dev_handoff.docs.links_default"),r={id:e.uri,nodeId:"",fileKey:"",linkName:a,linkUrl:e.uri,linkPreviewJson:"",isUserOverride:!1,isInherited:!1,linkPreview:null};return n.createElement(aR,{key:e.uri,link:r,isEditable:!1,onOpenDeleteModal:m.lQ,onOpenEditModal:m.lQ})})))}function rx(){let{description:e}=rw();return n.createElement(n.Fragment,null,(0,tR.kc)().dt_code_connect_ui_update?n.createElement(rc,null):n.createElement(rC,null),n.createElement(ai,{description:e}),n.createElement(rk,null))}function rT(){let e=(0,ae.lA)(),t=(0,s.wS)(),a=(0,r.d4)(b.sS),i=(0,eo.uQ)(),o=(0,ec.U)(),c="loaded"===t.status?t.result:void 0,d=(0,aa.yW)(e),u=c&&c.isExternal?c.fileKey:d&&d!==a?d:a,m=u!==a,_=c?c.nodeId:m?e?.publishID:e?.guid,f=(0,t9.d)(!1,()=>{o("Dev Mode Navigated To Main Component",{selectedNodeId:i,external:m,detached:!!c})});if(!_||!f||!u)return null;let g=(0,at.wJ)(u),h=!1;return m?t&&(h="loading"===t.status||"errors"===t.status):h=l.Egt.nodeIsSoftDeleted(_),n.createElement(t3.K,{"aria-label":g?(0,p.t)("design_systems.instance_panel.view_library_in_community"):(0,p.t)("dev_handoff.instance_navigation.go_to_main_component"),onClick:f,disabled:h,recordingKey:"devHandoffNavigateInstanceButton",htmlAttributes:{"data-tooltip":g?(0,p.t)("design_systems.instance_panel.view_library_in_community"):(0,p.t)("dev_handoff.instance_navigation.go_to_main_component"),"data-tooltip-type":tj.Ib.TEXT}},g?n.createElement(t4.c,null):m?n.createElement(t6.E,null):n.createElement(t7.K,null))}function rN(){let e=(0,eo.VW)(),t=(0,s.wS)();return e?.isLooseComponent||e?.isState||e?.isStateGroup||e?.type==="INSTANCE"||"disabled"!==t.status?n.createElement(tQ.VZ,{recordingKey:"componentPanel",hideHeader:!0,padding:tQ.UZ.EXTRA_TOP_PADDING_FOR_UI2},(0,tR.kc)().dt_figmadoc&&n.createElement(t8.tH,{boundaryKey:"Figmadoc",fallback:t8.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(nV,null)),n.createElement(rx,null)):null}var rS=a(413145);let rI=e=>e.includes("prototype")||e.includes("user")||e.includes("prop")?null:e.includes("stroke")||e.includes("border")||e.includes("corner")?"border":e.includes("fill")||e.includes("background")?"color":e.includes("text")||e.includes("font")||e.includes("paragraph")||e.includes("ot-features")||"letter-spacing"===e||"line-height"===e?"text":e.includes("effect")?"effect":e.includes("size")||e.includes("stack")?"layout":"count"===e||e.includes("vector")?"shape":"opacity"===e||"visible"===e||"blend-mode"===e?"style":null;function rA(e,t){return rL.indexOf(e)-rL.indexOf(t)}let rL=["color","border","text","effect","layout","shape","style"];var rO=a(728325);let rM=(0,ej.Ju)(function(){return n.createElement(nc.Rw,{destructive:!0,confirmationTitle:(0,p.tx)("inspect_panel.detached_component.remove_attachment"),confirmText:(0,p.tx)("dev_handoff.detached_component.remove_attachment_confirm"),onConfirm:()=>{rO.VU.get("remove-detached-symbol-id","menu")()}},n.createElement("p",null,(0,p.tx)("dev_handoff.detached_component.remove_attachment_text_body")))},"RemoveDetachmentStatusModal");var rP=a(812505);let rR="dev_handoff_nodes_panel--item--FYINO",rD="dev_handoff_nodes_panel--itemSelectedReadySections--Wladq dev_handoff_nodes_panel--item--FYINO",rF="dev_handoff_nodes_panel--timestamp--5sWkT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",rB="dev_handoff_nodes_panel--readySectionsEmptyStateRow--3qQXK",rU="dev_handoff_nodes_panel--readySectionsIcon--gNtWg",rG="dev_handoff_nodes_panel--readySectionsContent--3ilof text--fontPos11--2LvXf text--_fontBase--QdLsd",rH="header--headerContents--0Pvld",rV="header--headerButtons--Lt3iE",rK="header--layerNameRow--tsuuh header--layerRowContainer--qqv5Y",rz="header--layerRowSpacer--qrODv",rW="header--layerName--s4pA8 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",rj="header--layerIconSymbol--irpWG header--icon--IGzM0",rq="header--statusIcon--9Pk8T",rY="header--layerType--vaDds text--fontPos11--2LvXf text--_fontBase--QdLsd",rX="header--layerCompareLinkText--frP7M text--fontPos11--2LvXf text--_fontBase--QdLsd",rJ="header--timestamp--zWQD3 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",rZ="header--dropdownContainer--4czE1",rQ="header--chevron--0Wf28",r$="header--chevronActive--sp6Xw";var r0=a(783423),r1=a(757510),r2=a(432616),r5=a(437527),r3=a(362679),r4=a(844127),r6=a(842232);function r7(){let e=(0,r.wA)(),t=(0,s.wS)(),a=(0,t5.Td)(),{Dropdown:l,dropdownTargetRef:i,toggleDropdown:o,isDropdownShown:c}=(0,tX.B)("DEV_HANDOFF_DETACHED_COMPONENT_DROPDOWN"),d=[{displayText:(0,p.t)("inspect_panel.detached_component.remove_attachment"),disabled:a,callback:()=>{e(eC.to({type:rM}))}},{displayText:(0,p.t)("inspect_panel.detached_component.compare_to_source"),disabled:"loaded"!==t.status,callback:(0,tB.xY)("cc_detached_component")}];return n.createElement(n.Fragment,null,n.createElement(tD.D8,{className:"header--detachedDropdownContainer--msmKV",forwardedRef:i,onClick:o},(0,p.tx)("inspect_panel.node_type.detached_component"),n.createElement(td.B,{className:c?r$:rQ,svg:r0.A})),n.createElement(l,{items:d,showPoint:!1}))}function r8({state:e,backgroundState:t}){return n.createElement("div",{className:"dev_handoff_nodes_panel--historyIconContainer--QkDx6"},n.createElement(tx.t,{className:O()("dev_handoff_nodes_panel--historyIcon--dprKz"),svg:r1.A}),e===tw.Uy.RECENTLY_EDITED&&n.createElement("div",{className:O()("dev_handoff_nodes_panel--editedDot--8NIiF",{"dev_handoff_nodes_panel--editedDotSelected--95Nsq":"selected"===t,"dev_handoff_nodes_panel--editedDotHover--P8nA3":"hovered"===t})}))}function r9({frameId:e,label:t,disabled:a,compareVersions:r,compareDetachedComponent:l,compareOverrides:i,overridesText:s}){let c=(0,tV.GS)(),d=(0,o._I)(),u=!a&&d,_=(0,tB.dU)(e,"cc_versions"),f=(0,tB.xY)("cc_dropdown_detached_component"),g=(0,eo.VW)(),h=!!(g&&g.isAlive())&&"INSTANCE"===g.type,E=(0,tz.kl)("overrides"),y=E&&!(0,tK.gl)(E)?E.instanceGuid:null,v=(0,tB.Xn)(y),{Dropdown:b,dropdownTargetRef:C,toggleDropdown:w,isDropdownShown:k}=(0,tX.B)("DEV_HANDOFF_COMPARE_CHANGES_DROPDOWN"),x=n.useMemo(()=>({displayText:(0,p.t)("dev_handoff.compare_changes.entrypoint.compare_versions"),disabled:a||!d||!r,callback:d?_:m.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareVersions"}),[r,a,d,_]),T=n.useMemo(()=>l?{displayText:(0,p.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:a||!d,callback:d?f:m.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareDetachedComponent"}:null,[l,a,d,f]),N=n.useMemo(()=>i||h?{displayText:(0,p.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:!i||a||!d,callback:d?v:m.lQ,recordingKey:"compareChanges.entrypoint.dropdown.compareOverrides"}:null,[i,h,a,d,v]),S=n.useMemo(()=>[x,T,N,{separator:!0,displayText:""},{displayText:s??(0,p.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),icon:n.createElement("div",{className:P.cx.if(s,P.cx.mt6,P.cx.mt4).mr8.minW16.minH16.itemSelfStart.flex.justifyCenter.alignCenter.$},n.createElement(td.B,{className:P.cx.colorTextMenuSecondary.colorIconMenuSecondary.$,svg:s?nM.A:r6.A})),displayTextClassName:"header--multilineText--iK4P2",disabled:!0}].filter(tI.isNotNullish),[x,T,N,s]);return u?n.createElement(n.Fragment,null,n.createElement(tD.D8,{className:rZ,forwardedRef:C,onClick:w,recordingKey:"compareChanges.entrypoint"},!!s&&n.createElement("div",{className:"header--overridesDot--31BuQ"},n.createElement(td.B,{svg:r2.A})),n.createElement("div",{className:rX,"data-testid":"compare-changes-entry-with-dropdown"},t),c?n.createElement(tv.r,null):n.createElement("div",{className:k?r$:rQ},n.createElement(td.B,{svg:r0.A}))),n.createElement(b,{rootAndSubmenuMaxWidth:240,items:S,showPoint:!1,recordingKey:"compareChanges.entrypoint.dropdown"})):n.createElement("div",{className:O()(rX,{"header--layerCompareLinkTextDisabled----eEQ text--fontPos11--2LvXf text--_fontBase--QdLsd":a}),"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),"data-testid":"compare-changes-entry-without-dropdown"},t)}function le(){let e=(0,o._I)(),t=tW.iZ()?.id,a=(0,tZ.Tv)(),l=(0,b.tS)(),i=(0,r.wA)(),s=(0,tV.GS)();if(a?.length!==2)return null;let c=a[1],d=a[0];return n.createElement(S.$n,{variant:s?"secondary":"link",onClick:()=>{e&&((0,ea.sx)("Diff Modal Compare Changes Clicked",{userId:t,fileKey:l,nodeId:c,otherNodeId:d,entrypoint:"lego_layer",origin:"cc_nodes"}),en.sn.reset("dev_handoff.view_history",c),en.sn.start("dev_handoff.view_history",{key:c}),i(eC.to({type:tY.ku,data:{changeNodeId:c,basisNodeId:d}})))},disabled:!e,recordingKey:"compareChanges.entrypoint.nodes"},n.createElement("span",{className:"header--layerCompareLinkTextNoDropdown--LWQWY text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("inspect_panel.history.compare_changes")))}function lt(){let e=(0,o._I)(),t=(0,b.q5)(),a=(0,eQ._6)(),{Dropdown:r,toggleDropdown:l,dropdownTargetRef:i,isDropdownShown:s}=(0,tX.B)("INSPECT_PANEL_HEADER_DROPDOWN");if(!e)return null;let c=[{displayText:(0,p.t)("dev_handoff.inspect_panel.open_in_vs_code.link"),callback:function(){t&&"fullscreen"===a.view&&a.nodeId&&(window.location.href=`vscode://figma.figma-vscode-extension/open/${t.key}/${t.name}/${a.nodeId}`)},icon:n.createElement("div",{className:"header--optionsDropdownIcon--sWjMu"},n.createElement(rP.M,null))}];return n.createElement(n.Fragment,null,n.createElement("div",{ref:i},(0,tR.kc)().dt_fpl_migration?n.createElement(tA.d,{"aria-label":(0,p.t)("dev_handoff.code.options"),toggled:s,onClick:l,htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.code.options"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tL.J,null)):n.createElement(t$.YW,{svg:r3.A,onMouseDown:e=>e.stopPropagation(),onClick:l,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.code.options"),selected:s})),n.createElement(r,{items:c,showPoint:!0}))}function la(){let e=(0,eo.NM)();return e?n.createElement(tQ.VZ,{title:(0,p.t)("inspect_panel.property.mixed"),recordingKey:"layerName"},n.createElement("div",{className:"header--mixedRow--PIOSy header--layerRowContainer--qqv5Y"},n.createElement("span",{className:rY},(0,p.tx)("inspect_panel.property.selected",{numberOfItems:e.length})),n.createElement("div",{className:rz}),n.createElement(le,null))):null}function ln({lastViewTimestamp:e,isDetached:t}){let a=(0,tU.VI)(),r=(0,tw.ei)(a?.id),l=(0,i.md)(tG.d),o=(0,tw.L)(a?.id,e,l),{versions:s,versionsQueryLoaded:c}=(0,tq.DS)(a?.id),d=!c||0===s.length||!r,u=(0,tF.i)(a),m=function(){let e;let t=(0,tz.kl)("overrides");if(!t||(0,tK.gl)(t))return null;let a=t.isPrimary,n=t.overriddenProperties,r=new Set;if(n.forEach(e=>{let t=rI(e);t&&r.add(t)}),0===r.size)return null;let l=Array.from(r).sort(rA).map(e=>{switch(e){case"color":return(0,p.t)("dev_handoff.overrides.color");case"border":return(0,p.t)("dev_handoff.overrides.border");case"text":return(0,p.t)("dev_handoff.overrides.text");case"effect":return(0,p.t)("dev_handoff.overrides.effect");case"layout":return(0,p.t)("dev_handoff.overrides.layout");case"shape":return(0,p.t)("dev_handoff.overrides.shape");case"style":return(0,p.t)("dev_handoff.overrides.style")}}).filter(rS.t),i=a?(0,p.t)("dev_handoff.overrides.instance"):(0,p.t)("dev_handoff.overrides.layer");switch(l.length){case 1:return(0,p.t)("dev_handoff.overrides.hint_one",{property:l[0],layerType:i});case 2:e=(0,p.t)("dev_handoff.overrides.properties2",{prop1:l[0],prop2:l[1]});break;case 3:e=(0,p.t)("dev_handoff.overrides.properties3",{prop1:l[0],prop2:l[1],prop3:l[2]});break;default:e=(0,p.t)("dev_handoff.overrides.properties_more",{prop1:l[0],prop2:l[1],prop3:l[2],count:l.length-3})}return(0,p.t)("dev_handoff.overrides.hint",{layerType:i,properties:e})}();if(!a||!u)return null;let _=!!r?.lastEditedAt&&(!d||d&&!!r?.createdAt),f=!!m,g=t||!d||f;return n.createElement("div",{className:"header--timestampContainer--ppFUv dev_handoff_nodes_panel--timestampContainer--dGH49"},n.createElement(n.Fragment,null,n.createElement(r8,{state:o,backgroundState:null}),_?d?n.createElement("span",{className:rJ},(0,p.tx)("dev_handoff.nodes_panel.created",{at:(0,tP.A)(r?.createdAt).fromNow()})):n.createElement("span",{className:rJ},(0,p.tx)("dev_handoff.nodes_panel.edited",{at:(0,tP.A)(r?.lastEditedAt).fromNow()})):n.createElement("span",{className:rJ},"-"),n.createElement("div",{className:rz})),n.createElement(r9,{disabled:!g,frameId:a.id,label:g?(0,p.t)("inspect_panel.history.compare_changes"):(0,p.t)("inspect_panel.history.no_changes"),compareVersions:!d,compareDetachedComponent:t,compareOverrides:f,overridesText:m}))}function lr({selection:e}){let t=(0,s.wS)(),a=(0,er.R)(e=>e.mirror.appModel.activeCanvasEditModeType);if(e.isReadyForDev)return n.createElement(n.Fragment,null,n.createElement(tO.O,{className:rq}),n.createElement("span",{className:rY},(0,p.tx)("dev_handoff.status.ready_for_dev")));if(e.isCompleted)return n.createElement(n.Fragment,null,n.createElement(tM.l,{className:rq}),n.createElement("span",{className:rY},(0,p.tx)("dev_handoff.status.completed")));let r=e.isSymbol||e.isDetached;return n.createElement(n.Fragment,null,n.createElement(tJ.Bf,{className:r?rj:"header--layerIcon--uDEQt header--icon--IGzM0",guid:e.id,editModeType:a,detachedInfo:t}),n.createElement("span",{className:r?"header--layerTypeSymbol--cMeH3 text--fontPos11--2LvXf text--_fontBase--QdLsd":rY,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":e.typeTooltip},e.isDetached?n.createElement(r7,null):e.type))}function ll(e){let t=(0,tU.T1)(),a=(0,r.wA)(),l=t?.name?.trim(),i=(0,tZ.Cj)(l),o=(0,t0.R)(),{getMaybeEnabledItem:s}=(0,t1.nq)();if(!t)return null;let c=function(e,t=""){let{backingSymbolName:a}=e,r=t?.trim()||(0,p.t)("fullscreen.layer_panel.layer"),l=!t?.trim();return n.createElement("span",{className:O()({"header--fallbackLayerName--mPaXg":l})},a&&a!==t?(0,p.tx)("inspect_panel.components.name",{instance:r,component:n.createElement("span",{className:"header--backingSymbolName--get70"},a.trim())}):r)}(t,l);return n.createElement(tQ.VZ,{recordingKey:"layerName",formattedHeader:n.createElement("div",{className:rK},n.createElement(I.E,{className:O()(rW,{"header--copyableLayerName--oMhyj":!!l}),actionOnPointerDown:!0,onClick:i,"aria-label":(0,p.t)("dev_handoff.inspect_panel.copy_layer_name")},c),n.createElement("div",{className:rV},n.createElement(rT,null),o&&(0,el.Te)().filter(s).map(e=>n.createElement(t2.QE,{key:e.action,item:e,numUnreadComments:0,recordingKey:"toolbarView"})),n.createElement(lt,null)))},n.createElement("div",{className:rH},n.createElement("div",{className:"header--layerRowContainer--qqv5Y"},n.createElement(lr,{selection:t})),t.link&&n.createElement("button",{className:"header--linkRow--QPcNR text--fontPos11--2LvXf text--_fontBase--QdLsd header--layerRowContainer--qqv5Y",onClick:()=>{a(tH.S({url:t.link}))}},n.createElement(td.B,{svg:r4.A,className:"header--linkIcon--9v4Qb"}),n.createElement("span",{className:"header--link--qUrbC text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.link)),!!t.libraryName&&n.createElement("div",{className:"header--libraryNameRow--DjJXj text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa header--layerRowContainer--qqv5Y"},n.createElement(td.B,{svg:r5.A}),n.createElement("span",{className:"header--libraryName---uTzg"},t.libraryName)),n.createElement(ln,{lastViewTimestamp:e.lastViewTimestamp,isDetached:t.isDetached})))}var li=a(704513),lo=a.n(li),ls=a(444736),lc=a(187796),ld=a(92597),lu=a(594901),lm=a(297281),lp=a(712685);let l_="box_model--imageBox--XoIJh box_model--_border--PCElt box_model--_layoutFlex--pL0jp text--fontPos11--2LvXf text--_fontBase--QdLsd",lf="box_model--variableValueContainer--oxu-X box_model--_valueContainerBase--pMK2K",lg="box_model--valueNonValid--H7q6F",lh="box_model--value--1jh75 ellipsis--ellipsis--Tjyfa",lE="box_model--innerSizeBoxValue--l-qDX ellipsis--ellipsis--Tjyfa",ly="box_model--variable--GK5G3",lv="box_model--innerSizeBoxVariable--Lw6dO",lb="box_model--gapLine--BM-H0",lC="box_model--gapVertical--t9aDg box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",lw="box_model--gapHorizontal--gLY-T box_model--gap--YPdKC box_model--_layoutFlex--pL0jp",lk="box_model--gapValueContainer--GsVpn box_model--_layoutFlex--pL0jp",lx="box_model--gapValue--sE-2O",lT=n.createContext(!1),lN=()=>n.useContext(lT);function lS({fillContainer:e=!1,loadingState:t=!1}){let{distance:a,border:r,radius:l,padding:i,width:o,height:s}=(0,lc.$G)(),c=(0,ls.aI)(),d=!t&&(0,ls.fk)(c);return n.createElement(tQ.VZ,{hideHeader:!0,padding:tQ.UZ.NONE,noBorder:!0,recordingKey:"boxModel"},n.createElement(lT.Provider,{value:t},n.createElement(lI,{topDistance:a.top,bottomDistance:a.bottom,fillContainer:e},n.createElement(lH,null),n.createElement(lF,{position:"vertical",value:a.top,dataTestIndex:0}),n.createElement(lH,null),n.createElement(lF,{position:"horizontal",value:a.left,dataTestIndex:0}),n.createElement(lA,{radius:l},n.createElement(lU,{value:l.topLeft,vertical:"top",horizontal:"left",variableConsumptionField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS"}),n.createElement(lR,null,n.createElement(lD,null,(0,p.tx)("dev_handoff.box_model.border")),n.createElement(lG,{value:r.top,dataTestId:"layoutBorderTop"})),n.createElement(lU,{value:l.topRight,vertical:"top",horizontal:"right",variableConsumptionField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS"}),n.createElement(lG,{value:r.left,isVertical:!0,dataTestId:"layoutBorderLeft"}),d?n.createElement(lL,{width:o,height:s,assetType:c}):n.createElement(lM,null,n.createElement(lH,null),n.createElement("div",{className:"box_model--paddingTopMiddle--GiNbR"},n.createElement("div",{className:"box_model--paddingLabel--MsGiF"},n.createElement(lD,null,(0,p.tx)("dev_handoff.box_model.padding"))),t?n.createElement(lH,null):n.createElement(lG,{value:i.top,dataTestId:"layoutPaddingTop",variableConsumptionField:"STACK_PADDING_TOP"})),n.createElement(lH,null),t?n.createElement(lH,null):n.createElement(lG,{value:i.left,isVertical:!0,dataTestId:"layoutPaddingLeft",variableConsumptionField:"STACK_PADDING_LEFT"}),n.createElement(lP,{width:o,height:s}),t?n.createElement(lH,null):n.createElement(lG,{value:i.right,isVertical:!0,dataTestId:"layoutPaddingRight",variableConsumptionField:"STACK_PADDING_RIGHT"}),n.createElement(lH,null),t?n.createElement(lH,null):n.createElement(lG,{value:i.bottom,dataTestId:"layoutPaddingBottom",variableConsumptionField:"STACK_PADDING_BOTTOM"}),n.createElement(lH,null)),n.createElement(lG,{value:r.right,dataTestId:"layoutBorderRight",isVertical:!0}),n.createElement(lU,{value:l.bottomLeft,vertical:"bottom",horizontal:"left",variableConsumptionField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS"}),n.createElement(lG,{value:r.bottom,dataTestId:"layoutBorderBottom"}),n.createElement(lU,{value:l.bottomRight,vertical:"bottom",horizontal:"right",variableConsumptionField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"})),n.createElement(lF,{position:"horizontal",value:a.right,dataTestIndex:1}),n.createElement(lH,null),n.createElement(lF,{position:"vertical",value:a.bottom,dataTestIndex:1}),n.createElement(lH,null),n.createElement(lV,null))))}function lI({topDistance:e,bottomDistance:t,children:a,fillContainer:r}){let l=!lN()&&(!e||!e.distance)&&(!t||!t.distance);return n.createElement("div",{className:O()("box_model--gapBox--6aFgq common--well--J0WtH",l&&"box_model--gapBoxNoVertical--WqZQf",r&&"box_model--fillContainer--TZUSv")},a)}function lA({radius:e,children:t}){let a=lN();return n.createElement("div",{className:"box_model--borderBox--Ta011 box_model--_border--PCElt",style:a?{borderRadius:16}:(0,lc.F9)(e)},t)}function lL({width:e,height:t,assetType:a}){let r=(0,lc.lK)();return r?n.createElement(lO,{image:r}):n.createElement("div",{className:l_},n.createElement(ls.B7,{assetType:a,pxWidth:e,pxHeight:t,shouldShowTypeLabel:!0,dataTestId:"boxModelAssetDetails"}))}function lO({image:e}){let t=(0,b.tS)(),[a,r]=n.useState(null),l=(0,lu.h)();n.useEffect(()=>{l||(0,lm.tW)({paint:e,fileKey:t}).then(e=>{r(e)})},[e,t,l]);let i=n.createElement(n.Fragment,null,n.createElement("span",{className:"box_model--imageFileName--uK9h5 ellipsis--ellipsis--Tjyfa"},(0,lm.Rh)(e),"."),n.createElement("span",{className:"box_model--imageFileType--SYUTK"},(0,lm.x$)(e)));return a?n.createElement("div",{className:l_},n.createElement("a",{className:"box_model--imageLink--4kUYb text--fontPos11--2LvXf text--_fontBase--QdLsd blue_link--blueLink--9rlnd",href:a,target:"_blank",rel:"noopener"},i)):n.createElement("div",{className:l_},i)}function lM({children:e}){let t=lN();return n.createElement("div",{className:O()("box_model--paddingBox--x3ddV box_model--_borderStrong--VLX4w",{"box_model--paddingBoxGrayscale--SAsVz":t})},e)}function lP({width:e,height:t}){let a=lz(lK(e)),r=lz(lK(t)),{variable:l,variableDisplayName:i}=(0,n4.xp)("WIDTH",e),{variable:o,variableDisplayName:s}=(0,n4.xp)("HEIGHT",0),c=(0,tZ.Cj)(a),d=(0,tZ.Cj)(r);return lN()?n.createElement("div",{className:"box_model--innerSizeBoxGrayscale--geDzo box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"}):n.createElement("div",{className:"box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"},n.createElement(I.E,{className:O()(lE,{[lv]:!!l,[ly]:!!l||!!o}),onClick:c,htmlAttributes:{"data-testid":"layoutWidth"}},l?n.createElement(lp.w,{isNarrow:!0,text:a.toString(),tooltip:i}):a),n.createElement("span",{className:"box_model--innerSizeBoxX--pxeFw"},"\xd7"),n.createElement(I.E,{className:O()(lE,{[lv]:!!o,[ly]:!!l||!!o}),onClick:d,htmlAttributes:{"data-testid":"layoutHeight"}},o?n.createElement(lp.w,{isNarrow:!0,text:r.toString(),tooltip:s}):r))}function lR({children:e}){return n.createElement("div",{className:"box_model--labelAndValue--tkNzd"},e)}function lD({children:e}){return n.createElement("div",{className:"box_model--label--A5RBK text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e)}function lF({position:e,dataTestIndex:t,value:a}){let r=lK(a?.distance),l=a?.type??"distance",i=(0,tZ.Cj)(r);return lN()?n.createElement("div",{className:O()({[lC]:"vertical"===e,[lw]:"horizontal"===e,"box_model--unrealGap--XhkPS":!0})},n.createElement("div",{className:lb}),n.createElement("div",{className:lk},n.createElement("span",{className:lx},"\xa0"))):(0,lc.u9)(r)?n.createElement("div",{className:O()({[lC]:"vertical"===e,[lw]:"horizontal"===e,"box_model--paddingGap--Ca1Vq":"padding"===l,"box_model--spacingGap--PWtB6":"spacing"===l,"box_model--distanceGap--ophi6":"distance"===l})},n.createElement("div",{className:lb}),n.createElement(I.E,{className:lk,onClick:i,htmlAttributes:{"data-testid":`layoutGap${lo()(e)}${t}`}},n.createElement("span",{className:lx},r))):n.createElement(lH,null)}function lB({value:e,variableConsumptionField:t}){let a=lK(e),r=(0,lc.u9)(a),{variable:l,variableDisplayName:i,isSuggested:o}=(0,n4.xp)(t,e),s=(0,tZ.Cj)(a),c=a;return l&&a&&(r||!o)&&(c=n.createElement(lp.w,{isNarrow:!0,text:r?a:"0",tooltip:i})),{isValid:r,valueElement:c,displayValue:a,copyValue:s}}function lU({vertical:e,horizontal:t,value:a,variableConsumptionField:r}){let l;let i=(0,tS.v4)(),o=(0,ld.QO)(i,a),{isValid:s,valueElement:c,displayValue:d}=lB({value:a,variableConsumptionField:r}),u=lN();"top"===e&&"left"===t&&(l="box_model--borderTopLeft--Yitgl"),"top"===e&&"right"===t&&(l="box_model--borderTopRight--Jtfzn"),"bottom"===e&&"left"===t&&(l="box_model--borderBottomLeft--aRpWV"),"bottom"===e&&"right"===t&&(l="box_model--borderBottomRight--Rkq3s");let m=i.id===tS.uz||i.id===tS.MT?a:o,p=d?(0,lc.EN)(e,t,m):{},_=(0,tZ.Cj)(m),f=ly?lf:"box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K",g=Math.min(a??0,lc.Tk-4);return n.createElement(I.E,{style:{"--temp-border-radius":`${g}px`},className:O()(f,l),onClick:s?_:void 0,htmlAttributes:{"data-testid":`layoutBorderRadius${lo()(e)}${lo()(t)}`}},n.createElement("span",{className:O()(s?lh:lg,s&&"box_model--borderRadiusValue--tDyKD ellipsis--ellipsis--Tjyfa")},u?" ":c),n.createElement("div",{className:s?"box_model--borderRadiusHighlight--bd9Sc":"box_model--borderRadiusNonValid--qTtSU",style:p,"data-testid":`layoutBorderRadius${lo()(e)}${lo()(t)}Highlight`}))}function lG({value:e,dataTestId:t,variableConsumptionField:a,isVertical:r}){let{isValid:l,valueElement:i,copyValue:o}=lB({value:e,variableConsumptionField:a??"MISSING"}),s=ly?lf:r?"box_model--valueContainerVertical--AtQ8B box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K":"box_model--valueContainerHorizontal--BqOkd box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K";return l?n.createElement(I.E,{className:s,onClick:o},n.createElement("span",{className:lh,"data-testid":t},i)):n.createElement("div",{className:s},n.createElement("span",{className:lg,"data-testid":t},i))}function lH(){return n.createElement("div",null)}function lV(){let e=(0,tZ.Cj)("box-sizing: border-box"),t=(0,tS.v4)();return lN()||t.id!==tS.uz?null:n.createElement(I.E,{className:"box_model--borderBoxMessage--2jJc- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e,htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.box_model.border-box-tooltip"),"data-tooltip-type":tj.Ib.TEXT,"data-tooltip-show-above":!0}},(0,p.tx)("dev_handoff.box_model.border-box"))}function lK(e){let t=(0,tS.v4)(),a=(0,ld.QO)(t,e,lc.B5);return void 0===e?"-":a}function lz(e){return!e||e.startsWith("-")?"0":e}var lW=a(426299),lj=a(194400),lq=a(381028),lY=a(456363),lX=a(581250);a(207584);var lJ=a(173454),lZ=a(507956),lQ=a(428877);let l$=(e,t)=>e.name.localeCompare(t.name);function l0(e){let{styles:t}=(0,i.md)(lY.gq),a=(0,r.d4)(e=>e.library),n=t.map(e=>{let t=(0,aa.Gp)(e.key,e.guids,a);return t&&t.kind!==lJ.AT.DANGLING?{...e,...t.value,styleNodeId:e.guids[0]}:null}).filter(rS.t).filter(t=>t?.style_type===e).sort((e,t)=>e.styleName.localeCompare(t.styleName));return(0,lj.y)({items:n,getShowMoreLabel:e=>(0,p.t)("dev_handoff.styles.show_more",{count:e}),shouldResetOnSelectionChange:!0})}var l1=a(258286),l2=a(750029),l5=a(56285),l3=a(393062),l4=a(836283),l6=a(991443);function l7(){let{selectionVariables:e,selectionStyles:t,selectionValues:a}=function(){let{selectedColors:e,childrenColors:t,selectedStyles:a,childrenStyles:r,library:l,sceneGraph:i}=(0,er.R)(e=>({selectedColors:e.mirror.selectionPaints.paintsDirectlyOnSingleNode,childrenColors:e.mirror.selectionPaints.paints,selectedStyles:e.mirror.selectionPaints.stylesDirectlyOnSingleNode,childrenStyles:e.mirror.selectionPaints.styles,library:e.library,sceneGraph:e.mirror.sceneGraph})),o=(0,eo.NM)(),s=(0,eo.VW)(),c=(0,lQ.Ig)(),d=(0,tZ.uQ)(),u=(0,lX.Q)(),m=(0,tS.v4)(),p=(0,lZ.ks)(),_=n.useCallback((e,t)=>{let{styleKey:a,styleGUIDs:n}=e,r=(0,aa.Gp)(a,n,l);if(!r||n.length<1)return null;let o=(0,eo.Zl)(i,n[0]);if(!o)return null;let s=o.fills.map(e=>(0,lQ.dc)(e,t));return(0,lQ.rP)((0,aa.uH)(r,i),r,s,n)},[l,i]);return n.useMemo(()=>{let n=s?.childrenGuids&&s?.childrenGuids.length>0&&s?.visibleChildren||[],l=o||n.length>0,i=l?t:e,f=i.filter(({paint:e})=>!!e.colorVar&&!!e.colorVar.value).map(({paint:e})=>(0,lQ.dc)(e,c)),g=i.filter(({paint:e})=>!e.colorVar||!e.colorVar.value).map(({paint:e})=>(0,lQ.dc)(e,c)),h=(l?r:a).map(e=>_(e,c)).filter(rS.t).sort(l$);return{selectionVariables:f,selectionStyles:(0,n4.QT)(h,d,u.inspectionMode,m,p),selectionValues:g}},[s?.childrenGuids,s?.visibleChildren,o,t,e,r,a,d,u.inspectionMode,m,p,c,_])}(),i=(0,r.d4)(b.sS),o=(0,r.d4)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded),{visibleItems:s,showMoreButton:c}=(0,lj.y)({items:[...e,...t,...a],getShowMoreLabel:e=>(0,p.t)("dev_handoff.styles.show_more_colors",{count:e})});return o||s.length?n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.selection_colors"),recordingKey:"handoffColorStyles",additionalHeaders:n.createElement(l5.Af,{id:"handoffColorStyles"})},o&&n.createElement(a9.fI,{className:"selection_colors_panel--ignoreLimitButtonRow--loF8J"},n.createElement("div",{className:"selection_colors_panel--ignoreLimitButton--US3qr"},n.createElement(S.$n,{variant:"secondary",onClick:()=>{(0,ea.sx)("Show Selection Paints For Large Selection",{fileKey:i||""}),l.Osy.ignoreLimitWhenCollectingPaints()}},(0,p.tx)("dev_handoff.selection_colors.show_colors")))),s.map((e,t)=>e.type===l4.q.STYLE?n.createElement(l9,{key:t,colorStyle:e}):n.createElement(ie,{key:t,colorValue:e})),c):null}function l8(e,t,a,n=1){let{a:r=1}=e;return(0,l3.q)({...e,a:r*n},t,a,{alphaInPercent:!0})}function l9({colorStyle:e}){let{name:t,dsStyle:a,styleGUIDs:r,paints:i}=e;(0,aa.w$)(a);let o=()=>l.Osy.highlightOnlySameStyleInSublayers(r),s=()=>l.Osy.highlightOnlySameStyleInSublayers([]),c=a.value;a.kind===lJ.AT.DANGLING&&(c.style_type="FILL",c.node_id=a.value.node_id);let d=(0,eJ.Ku)();if(1===i.length&&"SOLID"===i[0].paint.type&&i[0].paint.color&&!i[0].paint.colorVar){let{value:e,copyValue:a}=l8(i[0].paint.color,d,i[0].valueFormatter,i[0].paint.opacity);return n.createElement(it,{displayValueLeft:t,copyValueLeft:t,displayValueRight:e,copyValueRight:a,icon:n.createElement(l6.zi,{dsStyle:c,hideNameInTooltip:!0}),onMouseEnter:o,onMouseLeave:s,dataTestId:"selectionStyleRow"})}return n.createElement("div",{onMouseEnter:o,onMouseLeave:s},n.createElement(l5.Gz,{color:e,format:d}))}function ie({colorValue:e}){let{paint:t,encodedPaint:a,valueFormatter:r}=e,i=(0,eJ.Ku)(),{variable:o,variableDisplayName:s,isSuggested:c}=(0,n4._B)(t),d=()=>{l.Osy.highlightOnlySamePaintInSublayers(a)},u=()=>l.Osy.highlightOnlySamePaintInSublayers("");if(o&&s&&t.color){let e="LOCAL"===o.subscriptionStatus&&o.isSoftDeleted,{value:a,copyValue:l}=l8(t.color,i,r,t.opacity);return n.createElement(it,{isVariable:!c,isSuggestedVariable:c,isDeletedVariable:e,displayValueLeft:s,copyValueLeft:s,displayValueRight:a,copyValueRight:l,icon:n.createElement(l2.J,{paint:t,tooltip:o.description}),onMouseEnter:d,onMouseLeave:u,variableId:o.node_id})}return n.createElement("div",{onMouseEnter:d,onMouseLeave:u},n.createElement(l5.DP,{formattableColor:e,format:i}))}function it(e){let{icon:t,isVariable:a,isSuggestedVariable:r,isDeletedVariable:l,onMouseEnter:i,onMouseLeave:o}=e,s=n.useRef(null),[c,d]=n.useState(!1),{isDetailModalShownForCurrentRow:u,toggleVariableDetailModal:m}=(0,lq.i)(s,e.variableId),_=(0,tZ.Cj)(e.copyValueLeft),f=(0,tZ.Cj)(e.copyValueRight),[g,h]=n.useState(!1),E=a&&(c||u);return n.createElement("div",{onMouseEnter:()=>{i?.(),d(!0)},onMouseLeave:()=>{o?.(),d(!1)},className:"selection_colors_panel--styleRow--X7gbD","data-fullscreen-intercept":!0,"data-testid":e.dataTestId,ref:s},n.createElement(I.E,{className:"selection_colors_panel--styleNameAndIcon--stVO4 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:_,htmlAttributes:{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)}},t&&n.createElement("div",{className:"selection_colors_panel--styleIcon--eaifW"},t),a||r?n.createElement(lp.w,{text:e.displayValueLeft,isDeleted:l,containerClassName:"selection_colors_panel--variablePill--0dLco",disableHover:!0,isHovered:g,isInferred:r,tooltip:r?(0,p.t)("dev_handoff.variables.inferred_color"):void 0}):n.createElement("div",{className:"selection_colors_panel--styleName--Nny-W text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.displayValueLeft)),(0,tR.kc)().dt_dev_view_variables&&E&&n.createElement(l1.WQ,{onClick:m,toggled:u}),e.displayValueRight&&n.createElement(n.Fragment,null,n.createElement("div",{className:"selection_colors_panel--spacer---6Fvk"}),n.createElement(I.E,{className:"selection_colors_panel--styleValue--BvNuA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",onClick:f},e.displayValueRight)))}var ia=a(818),ir=a(672591),il=a(641160);let ii="right_panel--rowWithIcon--f3pwG",io="right_panel--layerIcon--9-ijp";var is=a(968109);let ic=[{prefix:"display:",width:35},{prefix:"height:",width:35},{prefix:"padding:",width:145},{prefix:"justify-content:",width:100},{prefix:"align-items:",width:47},{prefix:"gap:",width:47},{prefix:"flex:",width:47}];function id(){return n.createElement("code",{className:"right_panel--generatedCode--4M5KP code_panel--generatedCode--XGoAV code_panels_shared--code--VPQ05",style:{minWidth:"100%",whiteSpace:"normal"}},ic.map(({prefix:e,width:t},a)=>n.createElement("div",{key:a,className:"right_panel--codeLine--YFK5t"},n.createElement("div",null,e),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,style:{width:t,height:10}}))))}let iu=[{width:97,color:500},{width:80,color:400},{width:120,color:200}],im=[{width:97},{width:80},{width:120}],ip={inspectionMode:"code",inspectionModes:["code"],setInspectionMode:m.lQ,supportsAlternativeUnits:!0,preferenceOptions:[],preferences:{},codeLanguageApi:{codeLanguage:{type:"first-party",id:tS.uz},onCodeLanguageChange:m.lQ,activeCodegenPlugin:null,codeLanguageOptions:[],formatter:{format:e=>(0,p.t)("dev_handoff.code.lang_css")}}};function i_(){let e="dark"===(0,F.DP)()?"dark":"light",t="ui3"===(0,A.DP)().version,a=(0,ia.b)();return n.createElement("div",{className:O()("right_panel--drillDownContainer--FTkvu",il.Lp,{[il.Ph]:a}),"data-testid":"dev-mode-paywall-right-panel"},n.createElement("div",{className:O()(il.ux,{[il.Ph]:a})},n.createElement("div",{className:O()("right_panel--panelContainer--BwtVM dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",il.KE,tu.Dm,{[il.Ph]:a})},t&&n.createElement(ir.v2,null),n.createElement("div",{className:P.cx.wFull.flex.flexRow.flexShrink0.itemsCenter.borderBox.bSolid.bb1.pr8.colorBorder.justifyBetween.colorBg.$},n.createElement("div",{className:P.cx.flex.flexRow.itemsStart.hFull.$},n.createElement("div",{className:"right_panel--tabsHeader--4WmbU pages_panel--tabsHeader--ez-pH"},n.createElement("div",{className:"right_panel--tabActive--X7gwU pages_panel--tabActive--BitzC pages_panel--tab--Uge5B","data-label":(0,p.t)("dev_handoff.tab.inspect")},(0,p.tx)("dev_handoff.tab.inspect")),n.createElement("div",{className:"right_panel--tab--qt6mo pages_panel--tab--Uge5B","data-label":(0,p.t)("dev_handoff.tab.plugins")},(0,p.tx)("dev_handoff.tab.plugins"))))),n.createElement("div",{className:"right_panel--inspectPanelContainer--ZujXg inspect_panel--inspectPanelContainer--SZhfY"},n.createElement(tQ.VZ,{recordingKey:"paywall-header",formattedHeader:n.createElement("div",{className:rK},n.createElement("div",{dir:"auto",className:rW},(0,p.tx)("dev_handoff.paywall.panel.button")),n.createElement("div",{className:rV}))},n.createElement("div",{className:rH},n.createElement("div",{className:P.cx.flex.flexColumn.gap8.wFull.$},n.createElement("span",{className:P.cx.flex.flexRow.gap8.itemsCenter.wFull.$},n.createElement("span",{className:io},n.createElement(tx.t,{svg:is.A})),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})),n.createElement("span",{className:P.cx.flex.flexRow.justifyBetween.itemsCenter.wFull.$},n.createElement("span",{className:P.cx.flex.flexRow.gap8.itemsCenter.$},n.createElement("span",{className:io},n.createElement(r8,{state:tw.Uy.RECENTLY_EDITED,backgroundState:null})),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0,style:{width:68,height:8}})),n.createElement("div",{className:O()(rZ,"header--layerCompareLink--pHd1V text--fontPos11--2LvXf text--_fontBase--QdLsd","header--layerCompareLinkNoTimestamp--FnSP9 text--fontPos11--2LvXf text--_fontBase--QdLsd")},n.createElement("span",{className:O()(rX)},(0,p.tx)("inspect_panel.history.compare_changes")),t?n.createElement(tv.r,null):n.createElement("div",{className:rQ},n.createElement(td.B,{svg:r0.A}))))))),n.createElement(tQ.VZ,{recordingKey:"paywall-devresources",title:(0,p.t)("dev_handoff.developer_related_links.links"),headerChildren:n.createElement(tb.e,null)},n.createElement("div",{className:"right_panel--devResourcesColumn--8ljG6"},n.createElement("div",{className:ii},n.createElement("img",{alt:"",src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"}),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})),n.createElement("div",{className:ii},n.createElement(tT.f,null),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,primary:!0,style:{width:97,height:8}})))),n.createElement("div",{className:P.cx.wFull.h4.$}),n.createElement(lW.n2,{preferencesApi:ip}),n.createElement(lS,{loadingState:!0}),n.createElement(tQ.VZ,{hideHeader:!0,recordingKey:"paywall-code"},n.createElement(tN.ue,{header:n.createElement(tN.n2,{type:"default",actions:n.createElement(tN.rZ,{"aria-label":(0,p.t)("inspect_panel.copy")},n.createElement(tk.U,{svg:nw.A},n.createElement(tC.X,null))),title:(0,p.t)("inspect_panel.properties.layout")}),content:n.createElement(id,null),shouldShowMore:!1,showMoreLinesCount:0,onShowMore:m.lQ,leftGutter:(0,tN.vl)(ic)})),n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.selection_colors"),recordingKey:"paywall-selection-colors",additionalHeaders:n.createElement("div",{className:"right_panel--colorHeader--mlxwp"},"Hex",n.createElement(td.B,{svg:r0.A}))},iu.map(({width:t,color:a},r)=>n.createElement(it,{key:r,icon:n.createElement("div",{className:"right_panel--colorThumbnail--3-I9T",style:{backgroundColor:n9[`grey_${a}_${e}`]}}),displayValueLeft:n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,style:{width:t}}),displayValueRight:n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,style:{width:50}})}))),n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.assets"),recordingKey:"paywall-assets"},im.map(({width:e},t)=>n.createElement("div",{key:t,className:"right_panel--assetRow--mAxTq asset_panel--assetRow--0VUJr text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(tc.Qp,{animationType:tc.JR.NO_SHIMMER,className:"right_panel--assetLoadingPreview--hjUOI"}),n.createElement("div",{className:"right_panel--assetDetails--Q51H5 asset_panel--assetDetails--xfCbP"},n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,style:{width:e,height:8}}),n.createElement(tc.Wi,{animationType:tc.JR.NO_SHIMMER,style:{width:60,height:8}})))))))),n.createElement("div",{className:"right_panel--transparentPanelScrim--o6uwc"}))}var ig=a(768137),ih=a(946689);let iE="vscode_paywall--vscodePaywallBody--pUvWv text--fontPos13--xW8hS text--_fontBase--QdLsd",iy="vscode_paywall--upgradeButton--bh7d2";var iv=a(462304);function ib({fileKey:e,teamId:t,folderId:a,parentOrgId:r,canAccessDevModeEntryPoint:l}){let i=eW(),o=[(0,p.t)("dev_handoff.paywall.vscode.list1"),(0,p.t)("dev_handoff.paywall.vscode.list2"),(0,p.t)("dev_handoff.paywall.vscode.list3"),(0,p.t)("dev_handoff.paywall.vscode.list4")],s=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Upgrade CTAAAA",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0}),(0,ap.Qn)(`/file/${e}?mode=dev&dev-mode-features-modal=plugins_extensions`)},[e,a,r,t]),c=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Open docs",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0}),(0,ap.Qn)("https://help.figma.com/hc/en-us/articles/15023121296151-Figma-for-VS-Code")},[e,a,r,t]),d=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Play Video",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0})},[e,a,r,t]),u=n.useCallback(()=>{(0,ea.sx)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Finish Video",fileKey:e,fileTeamId:t,fileParentOrgId:r,containingFolderId:a},{forwardToDatadog:!0})},[e,a,r,t]);return n.createElement("div",{className:"vscode_paywall--wrapper--65Gba"},n.createElement("div",{className:P.cx.flex.maxWFull.wFull.hFull.$},n.createElement("div",{className:P.cx.flex.flexGrow0.flexColumn.pl32.pt32.$},n.createElement(td.B,{dataTestId:"logo",title:"logo",ariaLabel:"logo",svg:iv.A,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:P.cx.flex.flexGrow1.flexColumn.justifyCenter.alignTop.pt32.pl20.pr32.pb32.$},n.createElement("div",{className:"vscode_paywall--vscodePaywallTitle---OrBg text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.paywall.vscode.title")),n.createElement(ih.Kz,{direction:"y",multiple:1}),n.createElement("div",{className:iE},(0,p.tx)("dev_handoff.paywall.vscode.description")),n.createElement(ih.Kz,{direction:"y",multiple:3}),n.createElement("ul",{className:"vscode_paywall--vscodePaywallList--egn63"},o.map((e,t)=>n.createElement("li",{key:t,className:"vscode_paywall--vscodePaywallListItem--Es3mO text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))),n.createElement(ih.Kz,{direction:"y",multiple:3}),n.createElement("div",{className:iE},l?(0,p.tx)("dev_handoff.paywall.vscode.need_access",{devMode:n.createElement("strong",null,(0,p.tx)("dev_handoff.paywall.vscode.need_access_dev_mode"))}):(0,p.tx)("dev_handoff.paywall.vscode.no_access")),n.createElement(ih.Kz,{direction:"y",multiple:3}),n.createElement("div",{className:"vscode_paywall--vscodePaywallButtons--JWqPr"},l&&i?n.createElement(ig.$$,{className:iy,disabled:!0},(0,p.tx)("dev_handoff.paywall.request_pending")):n.createElement(ig.$$,{className:iy,onClick:s,disabled:!l},(0,p.tx)("dev_handoff.paywall.get_dev_mode")),n.createElement(ih.nR,{className:"vscode_paywall--docsButton--ql7Fg",onClick:c},(0,p.tx)("dev_handoff.paywall.vscode.view_button"))),n.createElement(ih.Kz,{direction:"y",multiple:5}),n.createElement("div",{className:"vscode_paywall--vscodeVideoDescription--b-s1K text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.paywall.vscode.video")),n.createElement(ih.Kz,{direction:"y",multiple:1}),n.createElement("div",{className:"vscode_paywall--vscodeVideoContainer--VcPIA"},n.createElement("video",{controls:!0,className:"vscode_paywall--vscodeVideo--sEOiZ",src:"https://static.figma.com/uploads/vscode_intro_1200.mp4",onPlay:d,onEnded:u})))))}function iC(){let e=(0,b.q5)(),t=(0,o.U4)();return n.createElement(e$.M,{isShowing:!0},n.createElement(ib,{fileKey:e?.key||"",teamId:e?.teamId||"",parentOrgId:e?.parentOrgId||"",folderId:e?.folderId||"",canAccessDevModeEntryPoint:t}))}function iw(){let e=(0,r.wA)(),t=(0,eQ._6)(),a=n.useMemo(()=>eZ.z4.getIsExtension(),[]),l=(0,r.d4)(e=>e.selectedView.devModeSupermodalTab),o=function(e){let t=(0,r.wA)(),a=(0,ec.U)();return n.useCallback(()=>{a("Dev Mode Paywall clicked",{type:"Dev Mode Upsell",entryPoint:e},{forwardToDatadog:!0}),t(eC.to({type:eX,data:{initialFeatureTab:e}}))},[t,e,a])}(l),s=(0,h.W)();n.useEffect(()=>{if(l){o();let a={...t,devModeSupermodalTab:void 0};e(eb.$T(a))}},[l,e,o,t]),n.useEffect(()=>{(0,eJ.UK)().sidebarSplitPosition.set(240),(0,eJ.UK)().devHandoffInspectSplitPosition.set(320)},[]),es({doReport:!1});let[c,d]=(0,i.fp)(eH.t);return(n.useEffect(()=>()=>d(eH.c.DEFAULT),[d]),a)?n.createElement(iC,null):n.createElement(D.fu,{name:"Dev Mode Paywall",properties:s,enabled:s?.gracePeriod!==void 0},n.createElement(ts,null),n.createElement(ty,null),n.createElement(i_,null))}var ik=a(725561),ix=a(385326),iT=a(742250),iN=a(213190),iS=a(698993),iI=a(100197),iA=a(262151),iL=a(18993),iO=a(369351),iM=a(402609),iP=a(101505),iR=a(251960),iD=a(594524),iF=a(683694),iB=a(916108),iU=a(340514),iG=a(86719),iH=a(433195);let iV=(0,_.r1)(iH.V1),iK=(0,_.r1)(iH.WX);function iz(){let e=(0,r.wA)(),t=(0,tV.GS)(),a=(0,i.md)(iF.wg),l=(0,au.aV)(),o=(0,i.md)(iK),s=(0,i.md)(iV),{uniqueId:c,show:d,complete:u,isShowing:m}=(0,y.e)({overlay:T.kc4,priority:w.N.SECONDARY_MODAL+1},[o,s]),_=n.useCallback(()=>{!l&&a&&d({canShow:(e,t)=>e&&!t})},[l,d,a]);function f(){e(J.b({[iH.V1]:!0})),u()}n.useEffect(()=>{t||_()},[_,t]),(0,iR.E)(c,(0,iG.w)("dev"),()=>{_()}),n.useEffect(()=>{"loaded"===s.status&&s.data&&u()},[s,u]);let g=(0,iD.A)({numSteps:2,onComplete:f});return(0,iR.E)(c,"action_set_tool_annotate",()=>{m&&0===g.currentStep&&g.next()}),n.createElement(iB.U,{currentStep:g.currentStep,isShowing:m},n.createElement(iU.rq,{emphasized:!0,isShowing:m,trackingContextName:`${iH.V1}_measurements`,onClose:f,targetKey:"tool-measurements-onboarding",title:(0,p.tx)("dev_handoff.annotations_tools_overlay.measurements.title"),description:(0,p.tx)("dev_handoff.annotations_tools_overlay.measurements.description"),primaryCta:{label:(0,p.tx)("rcs.rcs_shared.next"),type:"button",onClick:g.next,ctaTrackingDescriptor:iP.c.NEXT},stepCounter:{stepNum:1,totalNumSteps:2}}),n.createElement(iU.rq,{emphasized:!0,isShowing:m,trackingContextName:`${iH.V1}_annotations`,onClose:f,targetKey:"tool-annotations-onboarding",title:(0,p.tx)("dev_handoff.annotations_tools_overlay.annotations.title"),description:(0,p.tx)("dev_handoff.annotations_tools_overlay.annotations.description"),primaryCta:{label:(0,p.tx)("rcs.rcs_shared.done"),type:"button",onClick:g.next,ctaTrackingDescriptor:iP.c.DONE},stepCounter:{stepNum:2,totalNumSteps:2}}))}var iW=a(100303),ij=a(137345),iq=a(563814),iY=a(139689),iX=a(773058),iJ=a(400466),iZ=a(723325),iQ=a(896474),i$=a(718039),i0=a(979385),i1=a(625134),i2=a(370934),i5=a(909999),i3=a(730378),i4=a(973149),i6=a(638311),i7=a(205135),i8=a(76154);let i9="configuration_wizard--step--9zx-B",oe="configuration_wizard--buttonRow--2GlLI",ot="configuration_wizard--spacer--LCRlq",oa="configuration_wizard--preferenceOptionsGroup--T5b2t",on="configuration_wizard--unitOption--R7eMs configuration_wizard--preferenceOption--OkUN2",or="configuration_wizard--selectedPreference--K6Psv",ol="configuration_wizard--integrationsCard--aup-J configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",oi="configuration_wizard--unitText--PiILT",oo="configuration_wizard--preferenceSubheader--orNpN text--fontPos11--2LvXf text--_fontBase--QdLsd",os="configuration_wizard--preferenceTitle--lA1Na text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",oc="configuration_wizard--unitRadioOption--YokOy",od="configuration_wizard--selectedRadioOption--i6PrC",ou="configuration_wizard--stepHeading--b5Yv4 text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI",om="configuration_wizard--stepDescription--uSn6A text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",op="configuration_wizard--option--I5GPA",o_="configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",of="configuration_wizard--pluginListDivider--LeuxA",og="configuration_wizard--pluginList---hNhu",oh="configuration_wizard--dividerListContainer--r4GxV",oE="configuration_wizard--pluginCta--WgsY- resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",oy="configuration_wizard--pluginTick--YbuJa",ov="configuration_wizard--spinnerContainer--2xXeT";var ob=a(377869),oC=a(990427),ow=a(387121),ok=a(538180),ox=a(225788);let oT="OTHER";function oN(){let e=(0,tS.v4)(),{codegenPlugins:t=[],loading:a}=(0,i$.n)(),r=(0,i0.gB)(),[i,o]=n.useState("first-party"===e.type?e.id:oT),[s,c]=n.useState(!1),d=!a&&t?.length>0,[u,m]=n.useState(d?oR(t[0]):void 0);return n.useEffect(()=>{if(!u&&!a&&t?.length>0){let e=oR(t[0]);m(e),r(e)}},[t,a,u,r]),n.createElement("div",{className:i9},n.createElement("h1",{className:ou},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.title")),n.createElement("h2",{className:om},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.description")),n.createElement(oS,{selectedOption:i,onSelect:e=>{o(e),e===tS.p?(0,eJ.UK)().colorFormat.set(l.NVY.UIColor):(0,eJ.UK)().colorFormat.set(l.NVY.HEX),e===tS.p?r({type:"first-party",id:s?tS.Ap:tS.p}):e===tS.LK?r({type:"first-party",id:s?tS.NU:tS.LK}):e!==oT?r({type:"first-party",id:e}):u&&r(u)}}),i===tS.p||i===tS.LK?n.createElement(oI,{selectedLanguage:i,shouldUseLegacyMobileCodegen:s,onFrameworkSelect:e=>{c(e),i===tS.p&&r({type:"first-party",id:e?tS.Ap:tS.p}),i===tS.LK&&r({type:"first-party",id:e?tS.NU:tS.LK})}}):null,i!==oT?n.createElement(oL,null):n.createElement(oP,{onSelect:m,loading:a,codegenPlugins:t}))}function oS({onSelect:e,selectedOption:t}){let a=(0,tR.sL)()?[{key:tS.uz,title:(0,p.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:ox.A},{key:tS.p,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:ow.A},{key:tS.LK,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:oC.A}]:[{key:tS.uz,title:(0,p.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:ox.A},{key:tS.p,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:ow.A},{key:tS.LK,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:oC.A},{key:oT,title:(0,p.t)("dev_handoff.configuration_wizard.code_language_step.option_other"),subheader:null,svgSrc:ok.A}];return n.createElement("div",{className:op},n.createElement("div",{className:o_},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.what_platform")),n.createElement(iX.z,{value:String(t),onChange:m.lQ,className:oa},a.map(({key:a,title:r,subheader:l,svgSrc:i})=>{let o=a===t,s=()=>e(a);return n.createElement("div",{tabIndex:0,role:"radio","aria-checked":o,key:a,onPointerDown:s,onKeyDown:e=>{"Enter"===e.key&&s()},className:O()("configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",o&&or)},n.createElement(td.B,{svg:i,className:"configuration_wizard--platformIcon--F7N2s"}),n.createElement(iX.Z,{value:String(a),_isChecked:o,_onChange:s,className:O()("configuration_wizard--radioOption--Yfm0j",o&&od),tabIndex:-1}),n.createElement("div",{className:"configuration_wizard--preferenceText--ZqN2L"},n.createElement("div",{className:os},r),l&&n.createElement("div",{className:oo},l)))})))}function oI({selectedLanguage:e,shouldUseLegacyMobileCodegen:t,onFrameworkSelect:a}){let r=n.useMemo(()=>e===tS.p?[{key:!1,title:(0,p.t)("dev_handoff.code.lang_swiftui"),onSelect:()=>a(!1)},{key:!0,title:(0,p.t)("dev_handoff.code.lang_uikit"),onSelect:()=>a(!0)}]:[{key:!1,title:(0,p.t)("dev_handoff.code.lang_compose"),onSelect:()=>a(!1)},{key:!0,title:(0,p.t)("dev_handoff.code.lang_android_xml"),onSelect:()=>a(!0)}],[e,a]);return n.createElement("div",{className:op},n.createElement("div",{className:o_},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.what_framework")),n.createElement(iX.z,{value:String(t),onChange:m.lQ,className:oa},r.map(({key:e,title:a,onSelect:r})=>{let l=e===t;return n.createElement("div",{tabIndex:0,role:"radio","aria-checked":l,key:String(e),onPointerDown:r,onKeyDown:e=>{"Enter"===e.key&&r()},className:O()(on,l&&or)},n.createElement("div",{className:oi},n.createElement("div",{className:os},a),n.createElement(iX.Z,{value:String(e),_isChecked:l,_onChange:r,className:O()(oc,l&&od),tabIndex:-1})))})))}let oA=new i4.KD({min:.1});function oL(){let e=(0,tS.v4)(),t=(0,ld.Em)(),a=(0,ld.RH)(),r=(0,ld.wQ)(),l=(0,ld.Bs)(),i=n.useCallback(t=>l(e,null,{unit:t}),[e,l]),o=(0,ld.gc)(e.id),s=n.useCallback(t=>{t&&l(e,null,{scaleFactor:t})},[e,l]),c=o?.scaleFactor??1,d="first-party"===e.type&&(e.id===tS.LK||e.id===tS.NU||e.id===tS.p||e.id===tS.Ap),u=n.useMemo(()=>new i1.Be(r),[r]),_=n.useMemo(()=>i2.zq.map(e=>({key:e,title:u.format(e),onSelect:()=>i(e)})),[u,i]);return t?n.createElement("div",{className:op},n.createElement("div",{className:o_},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.what_units")),n.createElement(iX.z,{value:String(a),onChange:e=>i(e),className:oa},_.map(({key:e,title:t,onSelect:r})=>{let l=a===e;return n.createElement("div",{tabIndex:0,role:"radio","aria-checked":l,key:e,onPointerDown:r,onKeyDown:e=>{"Enter"===e.key&&r()},className:O()(on,l&&or)},n.createElement("div",{className:oi},n.createElement("div",{className:os},t),n.createElement(iX.Z,{value:String(e),_isChecked:l,_onChange:r,className:O()(oc,l&&od),tabIndex:-1})))})),a===i3.tK.SCALED&&n.createElement(n.Fragment,null,n.createElement("div",{className:"configuration_wizard--optionHeadingWithPadding--MnGm9 configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.alternative_units.inspection_scale_factor")),d?n.createElement(i5.Rg,{scaleFactor:c,onChange:s,onDropdownHidden:m.lQ,className:"configuration_wizard--scaleFactorDropdown--IVy1Q",inputClassName:"configuration_wizard--scaleFactorDropdownInput--h8Jr2 text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"}):n.createElement(i7.Q7,{className:"configuration_wizard--scaleFactorInput--ezaTA text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",property:c,formatter:oA,onChange:s,autoFocus:!0,allowEmpty:!1,noBorderOnFocus:!0}),n.createElement("div",{className:oo},n.createElement(i5.LO,{codeLanguage:e})))):null}function oO(){return n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Frame 1321317093"},n.createElement("rect",{width:"24",height:"24",rx:"4.5",fill:"#2C2C2C"}),n.createElement("rect",{x:"4",y:"4",width:"10.5",height:"1.5",fill:"#D9D9D9"}),n.createElement("rect",{x:"7",y:"8",width:"12",height:"1.5",fill:"#E4A3D9"}),n.createElement("rect",{x:"9",y:"13",width:"12",height:"1.5",fill:"#97C1EF"}),n.createElement("rect",{x:"4",y:"17.5",width:"10.5",height:"1.5",fill:"#D9D9D9"})))}function oM(){return n.createElement("div",{className:"configuration_wizard--customCodegenPromo--Sg78f"},n.createElement("div",{className:"configuration_wizard--customCodegenPromoIcon--ND7NT"},n.createElement(oO,null)),n.createElement("div",{className:"configuration_wizard--customCodegenPromoWrapper--steEn"},n.createElement("div",{className:"configuration_wizard--customCodegenPromoTitle--31anH text--fontPos12--YsUAh text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_title")),n.createElement("div",{className:"configuration_wizard--customCodegenPromoBody--EsEFB text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_body"))),n.createElement("a",{className:"configuration_wizard--customCodegenPromoLink--0l-Sa text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/plugin-docs/api/figma-codegen/",target:"_blank"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_link"),n.createElement(iQ.In,{icon:"new-window-16",fill:"brand"})))}function oP({onSelect:e,loading:t,codegenPlugins:a}){let r=t?n.createElement("div",{className:ov},n.createElement(e5.kt,null)):n.createElement(iZ.dP,null,a.map((t,a)=>n.createElement(oD,{key:`${t.id}_${a}`,plugin:t,onSelect:e})),n.createElement(oM,null));return n.createElement("div",{className:"configuration_wizard--otherLanguagesContainer--2J1b5"},n.createElement("h1",{className:"configuration_wizard--otherLanguagesListHeading--M2BwY text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.other_title")),n.createElement("h2",{className:"configuration_wizard--otherLanguagesListDescription--jeS2m text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.configuration_wizard.code_language_step.other_description")),n.createElement("div",{className:oh},n.createElement("div",{className:of}),n.createElement("div",{className:og},r)))}function oR(e){return{type:"published-plugin",id:e.id,pluginLanguage:function(e){let t=e?.versions?.[e?.current_plugin_version_id??""];return i6.m(t)?.[0]?.value??""}(e)}}function oD({plugin:e,onSelect:t}){let a=(0,tS.v4)(),r=(0,i0.gB)(),l="first-party"!==a.type&&a.id===e.id,i=n.useMemo(()=>oR(e),[e]),o=n.useCallback(()=>{r(i),t(i)},[i,r,t]),s=l?n.createElement("div",{className:oE},n.createElement(td.B,{svg:ob.A,className:oy}),(0,p.tx)("community.plugins.selected")):n.createElement("div",{className:oE},(0,p.tx)("community.plugins.select"));return n.createElement(i8.Cg,{plugin:e,ctaButton:s,onClick:l?void 0:o})}var oF=a(126049);function oB(){let{inspectPlugins:e=[],loading:t}=(0,i$.n)(),a=t?n.createElement("div",{className:ov},n.createElement(e5.kt,null)):n.createElement(iZ.dP,null,e.map((e,t)=>n.createElement(oU,{key:`${e.id}_${t}`,plugin:e})));return n.createElement("div",{className:i9},n.createElement("h1",{className:ou},(0,p.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.title")),n.createElement("h2",{className:om},(0,p.tx)("dev_handoff.configuration_wizard.inspect_plugins_step.description")),n.createElement("div",{className:oh},n.createElement("div",{className:of}),n.createElement("div",{className:og},a)))}function oU({plugin:e}){let{pinnedPlugins:t,pinPlugin:a,unpinPlugin:r}=(0,iJ.VR)(),l=e.id,i=n.useMemo(()=>!!t.find(e=>e.plugin_id===l),[t,l]),[o,s]=n.useState(i);n.useEffect(()=>{s(i)},[i]);let c=(0,oF.A)(()=>{s(!0),a(l)},200),d=(0,oF.A)(()=>{s(!1),r(l)},200),u=o?n.createElement("div",{className:oE},n.createElement(td.B,{svg:ob.A,className:oy}),(0,p.tx)("community.plugins.pinned")):n.createElement("div",{className:oE},(0,p.tx)("community.plugins.pin"));return n.createElement(i8.Cg,{plugin:e,ctaButton:u,onClick:o?d:c})}var oG=a(206074),oH=a(292164);function oV(){let e=(0,r.wA)(),t=(0,ec.am)();return n.createElement("div",{className:i9},n.createElement("h1",{className:ou},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.title")),n.createElement("h2",{className:om},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.description")),n.createElement("div",{className:oa},n.createElement("div",{className:ol},n.createElement("img",{srcSet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXEAAADQCAYAAADxsFFbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAF/SSURBVHgB7Z0HnJTV1f8PsBVYYGFpC0vvHelNiqKIghW7MTExr8a8ib7RN+8bY9T05E3RxH+ixhg1GisqBgsCighSlCZVQHrvfWFh4X+/dz3Ls8PsMjO7y+7snp+fkdmZZ57nlnN/59xz7z2nioSgRYsWw06ePHmFe3s5f0oRSEhIkMTERDlx4oR/nTp1qsD3SUlJkpycLFWqVJHjx4/L0aNHz7jmXIByUhaenZ2dLQaDwRBnWMiratWqD69zCH5RRd848q7jyPtB9/bus92tWrVq0rRpU7ngggukS5cuMmnSJJkyZYrk5ubmX9OsWTO55ZZb/HWQ+JdffilPPPGEHDhwQM41jMQNBkMFwiOORx/e58AfCfwPAncEPM2RbfdI7jBmzBi56KKLPJlXr15d6tat64la0apVK7nrrrs8eX788cdy5MgRycjI8H8bDAaDoVi4u1atWsPcv8Mhcs+qWOCREjjAmn3//fdl9+7dct11153x/ZAhQ6RevXry61//WlauXMn9xWAwGAwlhh6OyB90HH5PgrPCWziSPasLJYjJkyf7f3GZhCNoXCyHDx+WGjVqyDXXXOMt8blz58rOnTvLxCduMBgMFRB3O/qekOBI+CGJEkVZ1rhVUlJS/ILmHXfc4QncaQzp16+fPProo7Jr1y4xGAwGQ/HBJpSq7t+I3SiRwK2e5hP5M888Iw888IA89dRT3mofNGiQ/95gMBgMJYLL8Yn3kBIEO1TYbnjs2DGZPXu2/3vFihV+V0pWVpZf3MzJyRGDwWAwFBstSsUsZucLvm/djYJljgXOZ8FdLAaDwWAoHmIicfzdbCPERcL+a3aitGnTRtLT0/33s2bN8oeAhg0b5om8b9++3i++fv16f+jHYDAYDCWDKo6Io94uglvk3nvvlZo1a/q94ix08nrzzTdl4sSJ/nN2pQwePDjvIc76XrBggfzzn/+U/fv3y7mGHfYxGAwVFTGROJY41ncocKOwGwWwsJmZmSlNmjSRbdu2yaZNm8qMQI3EDQZDRUVMJB5vMBI3GAwVFZXiHDyuHnbE2EEjg8FQ0VBpSNyO/hsMlQvsiGPNrqLDIlIZDIYKCTZUsEuuosNI3GAwVFhUhhm4kbjBYKiQ4LR4MMdBRYUFMjEYDIY4hpG4wRBnSE6qKul1Kr6v1xAZKj2Js/hRL72mpCQXHBSp7u+GGbWkoiIxoZrc+bUR0qdnS6msSKuRIlmZ9SSe0LJZdXnuD73l8gszxWAAMfnEIT6O1jdv3lwaNWrk82cSF4VFBL4bOnSoP7EZitWrV8uaNWvK1WJDclKC3Psfo+SDmctl8sdL8z8f0KeNfPP68+Wm7z4h5RVd2jeRvfuPyOZteyVaVEuoKr27t5BNW/dIPCExsZr07NxMVq3d7uteHFx3eT9/r3seelFyjp+Q8g4s8F/f11UmTd8uz7y2XgwGEJMl3q5dO59js1evXp7IybGp4EANQa6CLwhdg2XZgZuSw/VX9JMh/dpJZULN6sly752XOIu0vhQXE96bL3986v24IHBQv16yNG9aQz5dFF+K11C6iMkST01N9Rl6li1bJj16nBmOfM6cOfnv2XA/cOBAn1B58+bNcU3iLbIyZJCz0NNqVpet2/fJBzOWycHDR/13PZxFVystVRrWryV10qrLtNlfOEs5UzLqpsmkaYtlw+a8gcdMpV2rhjKwdxun1BJk+aqtMmveaqfsIl9FHzG4o6TXqi51ateQju0y5erRvfzny9y9lq/akn9dm5YNZHDvdlKzRrJs23VAZsxdKdt2FAxABileMqKbI4cM2b3noLzzwedy+MgxiQYJ1apK/16tpWObTKF3F6/YKPM/XyfHT5yecaW7sg7q01aaNakrBw5my7RZK9ws4PQMYnDfdrL/wGHJzT0l/Xq2lqTkBJk7/0tZtHyjm7md8u6ui4Z1lVo1k6Waex73aun6A3wwc4Wzyg/791WrVpEB57mytGvir1u7Yad8NOsLOZaTFz2zemqSXDiks3Mn5dkvh7OPyWpn1QfRvnUjyWyU7j/v7+5FH65et12muv6mLMG2oxwtmmXIEddm709fJtt3FmzfEYM6+vru2nvIy05tJxsLl26QTz5bLdEiKbGKa2sp0K4GQ0yW+OLFi30WewJbhSNlkkLoi832TZs2la1bt/rEEPGK9q0ayU/uudxZQ7VklyO7oQPay73fucQTNxjgSOzWcYM8iXRybo77//NSN8hTpLN7f9OVA/Lvc/nFPeX+748Rmu3wkRy55eoBjoR7SzRITEhw7ZogSe7falWr+Pe8grHacZU8cPdYqeK+37htj/Tq2lx+7J5bwxFPEBcM7iytnFULgV50fme55/aLvMsiUlRzSvrWawfLN284X/ZCwidy3fuhcmWgTjWd7/nHd49xs4a2ss2RHG34k/+6Qjq1O+3XRTH9520j5doxfeTQkaNeSd3vftPZkbECZaEx6hOqVcuvt8hpGbx13GBfnj37Dvt+uunK/vKdW0f4fgEYFU0ap0sTR9IojqsuObPt27m+vvmqAX7NIDExLw7+N64fIpddeDoJVlJSNVensTLckfTO3QelccN0+dm9V7h/6xS4F/W60fX//d8bI21aNJK6dWp6X3wsoOxVXR/n5BiJG04jJks8mr2XuFtwo5Ddpzxb4VeMOk8GOktJUadWjfz3yc4KvOPW4TLz01Xy9xen+88mTl4oj/3yZhnpiG/825/5z7DcXp4w11uTQ5yF9s/xn8jWHfscUeRZyq2a15cxI3vI4899mG+JYTn/8K7Rzh+/zFvCDFKs0FBAjmqBYdmDLh2ayJIVm+WlCXPOuL6+sx5fm/iZ/NuVE0x1VuJffnWrUzZtZErA9//xnC/k2ddm+vdTXBn+9LObPHFiLfq6oxyqFUzkccLNGk7k5pWlY7vGMrR/O/n5oxNl5ZpteXVavVXu+voF8tb7C+To0eO+bcHDf5ggR7Lzsjp9++ZhcuMV/eXB370puV+tkezcfUj+7/H3/EyAWcpvfjTO9UlbZ9lvkqPHjsvr73zmLPrqMnpEV/lo9gqZv7igX5j1jVPuv9/+5V1vOYMv1+2Q+5z7JSM9TXbsPiCH3Mzpr89+4L+73vnEsZTDIcGZvH95dmr+bIHnDx3QwdUprz2vGtXLPS9R7v/Na/l1+vH3x3ol9OhTkwvcK71OdbnvZ694pRIrUEJ9uqXL7v05snGrBXEznEapHvYhbgFWODHE9+6NfvHtXGLdpl3y5fqd+X+3adFAGmSk+fcZznpqWL+2PPHPafnfM6g/nrPSuRAan5GtiCn3ya8U1slANqNWzRp4gmaa37tHC/9ZzdRkf32TBrU9idesmSLfu+3CMyzm8Y7APlu0TiLFux8ulrrpNZzbpq0jvlRvsSY4qzI1peAunD1fuSEAFuWW7fulY9vMfBK//ZZh0iTEukSZTZyyyL9v4dwwu/Ycls0B18iCJevlZ4+85WZieeTcu1sLWeDup2QH5i5Y42cvDZz7CddUXlkO5btycnJOyA7nAqrz1UwnEhxzv3nu1Zm+TBcM7uRdJ7QB7Z2YFF0MDdwjuEEUkDkuI0Uf5/LZueeAm3Wdnk0cO5bjZzX0XdAlhRIqDoFnpCfJA9/rKB1ap8mv/rrCKXNbVzKcRqmSODHH2b2C7/zo0aNSnrFwyYYCu1OYBnfvlOXf415gKr8vQHjgwIFsqdEm2X8XCeo4FwHuh5HOJ5ube3pKvHzllnzLNvtojidgnf4rVq/dIdGgT4+W8q0bz5dVa7Y7Ys5Ll5cbgS81xyknyE/x0Scr3MJ0QeLfsm1f/vs8wjqaX34AmapVDqo7RXXgQMGdJEdcPZOcYklJLlkRvPrS3jK4Tzu/1oBSSC6h2BknT530syQFLpHqqYly6fCCecbpp2pVz5y5FAc07Vy3mNmsSXVp3ayGWwPYKQaDolRJvEWLFt6PxxbEeAaEw8Jjk8Z1nU/3tF+/QUYtOXSoIIEVhQOHst19Tsifnp4i+w8WnBKri4rnzHOLgsUBe8BZ7Jz3+Xp56l/T/ZZOFBELemdDbWe17913WllhRRYFLM70OjW8j1gXD3nfuEEd2bhlr3/2Pucrz6iXVuB3WNgorOyjJZeuDz/3mIt6ym8fe1uWOcXILIjFTxRySePA4WxZu36HPPnC9DO+O3GiZI9673UulBfe3OgWx7Pl9/d38++PZFf84+SGyBDTwiZuEnJmpqWleZJmtwp/B/eGs6BJ3k0WNA8dOiRljeopSXKbW5y64uLzov2pczMckM+Xb5LLHUGwSIdFxrR56MAOMmv+moh9/YuWbfRrcFc6H3k152eGuGunpcg4Zz0mJUavT/e5mUBr5/bBZw9J64IkVnxKcpL3ESfiSnCf9+ne0lvNoa6fbm62wefs1ji/f3tp4BYdlwV2uJwNnzmFk+ZcQPjakQXKMubCnvLwD67wdQTvTP3czwz0YA1tiJ+cNYSdu6JzM7AYTP0ynYvHPw830VczIT7HCk5zbcqzKdfoEd3PuAczA1/nr9qc99oGkeL9aUvc4nFL57qp50n7lFNWPTpnSc8uWaW29rN5+xFXR5FmmZG7mAwVHzFZ4pD3hRde6MmbV9u2bf0+8KVLl8qiRXm+0oYNG0qNGjX83+UhOTIDmkWsnc43+eak+VH9ljH5nFv8u++OUfKr/73GL45lZdb1Wwynz1oR8X3YfvaHJyc5N8dQ+b/7r5ODR7KlYUZtb+3GYr3Nnrdavn3TMPm1KxPuGbYYPvvKDO/OYLH1605p/ebH1/pFOsqM1czp1CBwC/ziv6+WE46EsjLT5c335svKL7dFXAbqhB/6pqsGyjCn1CBV3EaPu/UD3TY587NVfpcOO1Tw+2c4RbF9x3554vmP8hc1IwV7ul9/Z74/qDNsYEdP4K+/M0+muwVa/NZznVJlV8muyw5KrRqpfq0Dn3jNr9YY2E308/++ym9ZzCPyavLHh27w373wxiy/HTESfPjJcr/l9H//8zKv5FEodd2M5M9ulmUwnEvElJ5NM9yHWnWHDx/OT4Rcu3Ztvzd8z549bsEnun3HpYUObRrJIUdkm7acXoSjCo3coiXT+n0Bv22dWql+H/a6jbvyP0t11jyWF0SAn3mz8w3r6dN6dWtKkiPLrY6c+C0EwfdJjiQaOFfCpoAfuZazFJs1yXCzg0S/kLhl2978hdBowIygoVt8beos3ONOCVDWYB3Ys46yoW4bNu2W2q5cXLfduYT4bTNXl11uMbOuq2cjZ9lCRus374n6RC33ov7sAWdnzpqNO/16Qeg1TV1ZaGv21q9xi8jqfgH1XRsxcwjuHa/nSBEZY491gXs5a7t18waeNKnv+s27/S4YkOCsafa8ZzhlpX3Uomld2evKg5uI+zV39Q5xW3vs2nvYL2b6BdHa1Z3luz/fqg4nD9SpkVuQZuE3h/Z3bbw/xPdPu7jOld37DktxkV47Uf791CD50f8tlulzd4vBACpFjk2DoaLgR3e1l1ZZNeS+Xy12vvKyn+Eayh4WxdBgiCM88vRqN/M4IjeMzRKDAZglbjAYDHEMs8QNBoMhjmEkbjAYDHEMI/EI0KBBA78P3mAwGMobjMTPAg42/fznP/eJLgwGg6G8oVKQOFY01nSs4LfJycliMBgM5Q2lGjsFcLiiPISg1TjUJQliw0DuX3xx5ik/TrUS9Ks0Tqty2Kp79+5+lgA4TLVgwQKJB3AIjLJnZmb6tuFEL2n7OBjWrVu3/OuIPU/gNIPBUDRizrEJeTVu3Nif3Ny0aZNs3749n6w5gsx3xBKHaCCZtWvX+mxAFSk9G/WDlEJJHJK96qqr5LPPPvOhCEoaKCSNW8MsgZg18UDihGEgXAPlh7wp/5EjeSccaTPytoImTZr4079G4gbD2RETiRMnpXPnzlK/fn0/+DimvWPHjnyC5vtBgwb5zD4QN39jtU6dOlV27674x4Wp99y5c306utIAxPfBB3mJDfr37y+dOnWSeEB6erpX7q+88oqXlyD27dsnU6bkxR0ZMWJEgbytBoOhcMRE4gS3grg///xzT+ahMVQ6duzoLfXJkyf72CmtWrXyC4NYjfFM4kRmpC5YjERnDEVGRoa3zEFOTs4Z7RK8D8mmsUxpD2YpGq8kmM5OLf0NGzb4VHjRgudTXmZLWLa4LTSODZY8/cG9gy4f+o3no4CCMeCxmkmOTTkWLlwo0YD2QmZ4USaUP88niiPPidblhKWOOwaXC21HWwMs/HBJSIhpT7vyrGBcmDp16sjgwYNl+fLlcR8u2VB5EROJQ95Y3fgx27dvf8b3DEqfhMANUn2BaAMrlSdAAtdcc40nXoisS5cunvCC5MpsQ9sD4iQPaaibA+K87LLLfHjegwcPev8w/77xxhueYLk/ZAkxQUS4o3r37u3dDzNnzpRIAXGOHj3au1ogLyJNnn/++d4KRnFAyhdccIEv36effpr/u549e3oF8+qrrxa4H4vD3APyJcdqNCn6KAuzBX4LiROiGFmgjij5SEmcWR9WuioZ2nrAgAHy5ptvekueGRCWPgbDyy+/7JUQihXXFm23cePGAvdDqaDkKIuRuCFeEROJq4UGiYcDfmAGLoMJa4nBAtmFDqJ4ArMLfP+QA5YehDJ27NgC1+AD5wVuueWWsPfp0KGDJ63XXnvNkwdug4svvthbi+vXn84ZOW/ePE+WoEePHtKvXz/frpBVJIC8ILWXXnrJkyXK4Morr/QKYdKkSb4OWLGUB8uaMkHszKzw8WdnF4xCyHOpO66caAgc0Pf//ve/PWGiWHCrxRJjHvJv2bKlvPDCC16uUKL0Aa67t99+21+DGwt5g+xxOV166aV+BqJtGcSqVaviInWgwVAUSmWLISTPC+uNqTNWLNP5eLbEIVlIXEPtQow7d0afJgsyxNqGkIjFjiX6+uuvn+E/10VgXliJuAog5kiBQpgwYYJXprhlsrLyAiahfBTz58/3LgXWLAAWLn1V2IIifuyySvCBBa+KFPJGrpAv2on3KCCAgoG8qS9Ki/abPn16WNnjMxRMeQmVbDDEglLZYohlxMCCRLByWrdu7afyEBaumHglc9wexcWSJUu8hTxkyBDvXqBN5syZE3abogIrGfLk+kgBWY8ZM8b3A/51LGsIPUhYuFV4Ltb4mjVrpGvXrp78KVN5AySNawh3CcomCAwEZhoqV1jpuIkGDhzoFWR5z+9qMBQHJU7iDDYW4yAdJYMtW7Z4EsF1wPfxSuJY0MVBXvqyZFmxYoVfTINUcQ+w7Q4Lkml/OEBQuK4gq0gBIUN6Tz31VL7PGV976KEl3AxYrMwMWCzEv1xeQRsxS9CdOYWB2QU+eJQXfn9cSqHuIYOhoiAmd4ruE+fFe6b6EAZTcaavkIbm3eR7SJ1rcUHE6z5xCAErkG1yAEJm8TIa8BsIGyucdsCyxzLnX90jrdBdLoAFRYg8GveN7v5Q/zUKCJdQKFC0uCiGDx/uy4F7IhzoRxZzQ63gcwXqwWyBxeNg29AfuIsUtBN+d9wkuljMLFAPRgVBfzBTKa5yNhjKEjFZ4pAzW7Mgat2hghXHwtvKlSu9tXTeeef5BTt8yJAdU9rgVrp4A9YzuPrqqz3pQR4M/uB+5z59+vidHYDvWUTEIsQKZFqPG4UFS0iGWQmuJogV1wcEFQTtCzlBnljr+K91UZPnssMF5Un787rpppv8d7NmzfL3QjlA/tdff71/Dn2Akg21xCE5ZgU8Y9q0aYUqWeqDVcusavz48SXej5Rv1KhR/j0KjTbROrFVlXam7Wiv6667zteR+uP75nNdFMaFAjl/8skn3miYOHGivw8Ltsw6gvWjHbkX+9O1fw2GeENMJK4nMEOtG130g8yx8LDasNDxu65bt65c+lojBbOLt956y5M0Vi51wvca3KHD7ptwLg/IWwEJPv/8836RDhKhrbiX7nVWvP/++57McA2wsyO4s4dr9cRjKNSSxmpnmyBuEq5j1wzWbLjZA9/zu6J2D6EIIHn6MFYCp0wQZriFRNqtsFOnuphK+ekDFA5kTruynqC7S1BQkD1tSt8A/kWB6vbGIImjKKh7eUjkbTDEilLN7MMA0YFTlhY4MwcIEQKNFigqLE+Il22BpQ1IG+sQ4o6lvNGCdmGbHsSHYqhMYI8+M0bdOmkwxCNKNQBWPG8prAxg7zmWOu6ewhZVKzKYEcyYMcMI3BDXKPUohoboAKF+9NFH+a6p0gTkhQUOgUez86WiAD94YaERDIZ4gZF4BGCnQ6jPurSAdXiuFtnCnWKsbKhIUTUNlROVItt9cXzigAUw3TppMBgM5QlmiUeAc2WFGwwGQ7SwHJsGg8EQxzASNxgMhjhGpcmxWZLAx86hH45/c1SdHR7s7uBASfBIOIdUIg0dey7A4SLKHi6hhaH8ggNanI5WcGjKIi8aFMUiceJOkOSA3Ruc5AuSNce0OVnHYRmIjBOewZOL8QrqTIxq/OSEj+VwDuQIiXMKU1OlsZBKIoLylPuSoFgc5edwSxCcqiVEAlsNSyMnaEmDhWZi0KCM4iVBdHFAPHnCCzCWkDVOoBL6wWAAMZE4xA1ZQQgMKGJXcPRZSZzPiWHBYR+sUa4lFjYZZOKdyBlM1JMTlVjhzDR0rzHxTXTbHlmA4gXsuiEsbVnFCg+C+DMYAIQdKAwcv8cwKInQwPEAMkRB4MyiyFJkMAQRE4mToYXsKcRDgdRCD0xwlJk4FlgMHF7BAiQCHvkcSyt5cGkDa5WBBMEoeWMVYZHr1kMUVCRKit8yPSaAE9Pi4NSYIFUoRgKGBTPocD33jmabY/A54UKx6rMAFm1hu3C0npSH+9EO3C9YFkIs8B3/UvZw5eR5XIMSDL2GcvA9MxgNLgaos7aPXgMIEVCYS4F6cx/+pdyh8cQpA+XXSJw8o7BTmzyTQGIE3IolnC1l0AiftB/PCXUvBvspXHm1X7Tu4UAMH8qn9+Ze1E2fR3vSXjyHdqfO/CZYJu6vMsl39GW48iiYaXMvmxWULWIicaLeMYg0SH8QOuXDMtcgROzPJk4FkfuYAsfjcXxyOZIBR4mKGNwAASbdWKRgkJA0A586A4nBQxAn2hTQdkQ5JCgWMxyA0sR9gHWK4owEEEO3bt380XpVLqGDEeXaq1cv/55+mz17dtgkyEQvRHFRNkLBUn/SoHE9QA409yWDGmIgmiLpzxQofe5D+/E913EyVQmAmRszOCUznckQnZDAW4BImSNHjswvL2XVMijU1cK1PId2QFZRUsgd97/22mv9gSpIiL8hL9qbMocqMqIfkmaQWWQ0OU6Dv+/fv79vf8rCuPjwww/zT+SqPOCKgzyRB2SB50U6TugXolUihyofuPmw2l988UVP0sgU7YE1TxsR8AxlSV8SJZLfMUaRcWY59DNl47ek8wsNg0z7E0kTuSDQWmU88VteEBOJqwAyeEOhwa6Cwa/UUi8sJ2c8gNCmEAaxwKkHgk89o1m0pU0Y0JAywbQQfAYN5IZyY/DwgiBJ4ACBMUggSAY2M5lIwX2Jo00CBdK7QVb48oPWL+FqIVodkOGiIgIGPS4xlApERr3VCtYY6bQJhMHnzLo0bK1m3SHMLFESUViQSd++fX0McwgA5cJ9+Q4yZyEPdxUIzmxoDxI8cD/aJ1yMcP09scRxDxHtkLqxZsO6DOWlPswgISdIilDKtBXEvn379gL3Y50AkozldCuKhP7GHQJJ0geQKZ/xbIA8kfkKecDo4TfUDZKNNHmzWvvBGTHvqad+xnvanyiSBDzj/u+8845vG5Qv5YO0eT4KDXmnrbiW8hLSNyjryABKmL60hBtlixLfnULnorUZJFg6ED5WBtZOqKDFE5S0IEFeCG60Mwp2rpAKDZKGuCAh3Eu0EVN2zToPcWC5XnLJJZ4EWThW8gQMNq4PnV5zncY3x9LXsKyA53HfYAIFrE5Nonw2Nw3lDLV6AWsd9PV7773nCZd7QYZY+fQ/ioLvmdpD0mqxERpXk4uoa0Wn+dQzHDFoIg2eEc71w70I6AVp4uMHED+uEGYlwVkMpKwhbPkeFyDWayiJ8zyCZMUClBnPQFGq4kOp0i4AxQeB0q4aQpgyUh5mSJGSeKSgLrQ/yo33tDuKI6gMNZ6OgrIzm0DmgjJCX5Bq0VD2KJUthkxzIWysDJ3GIwCV/eSjJnBggDJ1DX4emtkHQoeQcFc9++yzBRQGA4pdMsGkxyC40Md2x5Lc3liYz5iyUw5cDqE+fN0WxxQeGQhOubkfllxJgjrTNqHZ6yFIlGc4yx3ojKqkDQztg2DfoWh5AW2j0Dj7/I2ypbzBNi0LUHYLEla+USokjiWOxYFlAxggTLmxACpzeFoGJPWHoNVSVITutFDfJb/BWgsGxYIQyeBeFNSldS5AGZl+h9ZB3W58DyGVdn5V5IwXRB4Ef2vbn0tovQuDKo/Qa/hb6xIpLJBX5UXMOTYRNB0sDE4dpPo3Vjc+Uab0+NlA6F7yygZIDWsUtwo+cH2h3IJWKu2KDxnfJNYq/loWhaMB92UraJDIQy33kgB9yiyL/g/WiWm6Wu9YwviVKY+CNrj88ssLHI4CyEesygerl2c2adKkwOe4c2JdUKcsmuA7WuCaoSzBlHi4udiTD2gjXURUMLbw4+O+irS8KAsUe3A2p1mLDBUfMVniDEjyR/Iv02l8fFjd+PDw5+HPxWWARc7nkDgLcxX9pCAWsxIV7iT+ZlDiUsJ/iJ8XC5pBzOfszKB98Mey0MXAhcCZtaAE8ZXyLy6VMWPGyCuvvBLxIhK+aBYjWZgi5ylTe1wKwTjl9AuEoTuKIDtAeflNJNslISIWPIcNG+bJClJiYRF3EYuTyABkhj+eBVpcbZB+z549veIKddMgI/ivaROUG0SksxA9QMZnkD9txXWQGNfgc8bvznNoX56NSwpy04XEaIE/mEVa/OL48aMBu2J4Pv1Je1Jmyqu7jig392Qhk35F2XE9fRLMIsXCJ7/Vba4oAuRMD9FRbxYtWYegbXUhurTBLh/amN02hrJDNSccD0mUYLAiRAgh/kcGI1YDQqgLJZATgw4iwKJkIams/HuUF8EuicMhuDm4T+gCGMCPCTFCGrQDbcJ7ns9gA7QXRAVhcj2Lkyx06lY7FCBty+KcWue0K4MYKzXUDVMYGMwMbO6HMkEZsEgFaepefciCXSwoYgiT/qG8kAU7YdQS5DMs7mBS6CDw8UIo7LrRk4W4V4JtRP1oB6xO6kd7oKRCF1S5D59xHYumejIW0AYs6OoJWa6jbLQh90fWaB/6h7bFCtbFRF0fgPj5DfdUeUApcE9mjqEHnpAb2ocE4LplNlJQPurJ+gVETP0ZBxg0OiOlXBAhbUdfYFEz+wr2M7+lzegX5EfrQNvQxtyLPkA2dWugbhXl+dqvyB115jpkimdTb+rF3/jnuWdwFxS/4/csEIfOolURq2wbygalFk9ct3LpvuGyRHHjiRsMhoJgfN9+++3eAKkMoQ/KM0otABZWXGEnvQwGQ3yDmTazAj2kZig7WGYfg8FgiGPY8rXBYDDEMYzEDQaDIY5hJG4wGAxxDCNxg8FgiGMYiRsMBkMcw0g8BnAakFOJHCjhQEo0x5s5iMHhFH1VxOBC1Cme60Z/llb5g+EqSgsc2uHUqx27rxyIWpo0ow3xJDRLi5740mPaOog5vahZZThZVhFybHJ6j2PUnITkdB+n6IgtHsxuwkAlLyInJkNPOXIknBN4gBN8HK+uaJlROFl53XXX+WP38bitEwVN+cePH1/ioSIGDx7sxw7xzksDEDcxy8/W7oxNDBDCzpbVYTyejyHEmGKccCq0LM6WMA4JbUGbwGe0HadWC4vzxHZlTsZy6jc0YmZZIGoSh5wJ6M9Rbo3AxsEe4kQQH4TPaBRiq3BEWoMjES+C+BHxHsWQo9EcgYagOOqMwgq1ePiMuiOQoSRO9hhOuKEIr7jiikKfw2EKrCmujyYlm6FygxjmyB8xWQoba5ybIHQwhgghMcqCxCFNElLo8X+CvEGexKU/l+WhrQgfQKwZjCmMTvK8EvYi3ElUjdfDi0xbcUnikDRBlNBCEBSkTgowKq6xOYifQbYU4kQQFIvvsUzpMI2lHK8gDgaxLpScaY9QoWPGgaUVLn46sSt4FZYfUoG2pw0JW1sUiaNAIg1bWlQoWKwhBLo4aba0LNFcG+76SELWRlPvs92nuM+KpCyRPqc4Rg5jkcBzpGkrSmYYi8wgi3qWJgAvLaMLZUN8GIwhxgs8QZA3uCNcCsLSCmOMIoPEJ0yY4JUIdcZIpR3hs9BYOpQPA62o8VvabReKqEkc4UBDBYUWtwHBlCAeSJxIbFQAEkdzMb2GJJg+acCeeAOKiA7EikGgNOs4ygxrGTA4qLuCdoo2O4um9GI2g7sKa0UTC+O2UeHhOwRN2xqBg/CDLitmDcyICKhEgg7cBCigt956q8Az6RsGEP1HAopo3V7EyCEHKW4iykmdQ/3JyADp2AiMRTRFrkXJkfZLIytSPowB2oD70H5YijoYsH6YwXBvfk85id3BNdEAsiM6IURCOxPci/swiIOySXuQ0o6BjsuQSIZBIwSFjlwwM2NcUI5QC5g+4BqiSBIoKhiWVkFdqDd1g9gIDKbPwf3CmKF/eQ5lJqAX9yFyJG2kBgVTfMi5KFcKM2jkGDcKchYE1ijjWFPWAcawjndm1JSH92SawnjRlIOUHeURKXFpwgyVNeqNPGj7EDyP3KNERYVkNYgcbaORPOlDAodhEeu4gGCRLyIrhhJwOCBL9Jta1NQNFxp1Cp1hU0c+nz9/fn5uWgUzZ2YTuIR4PrKDMsKiV2OOftb+0+BrlJ8ZN59FG2BNEdPKRzC3JAMCcqYzGAw0CgOWhqbwEBvX8l4JMB5BKFUEiAGjeTD5O5gMGIKEwHghhNQ3WiBMhFMltCpthsDwHP5VgUcxEr6UAUfnIygIAyFTg+2LIEEixCanzES2CxdxjgEAUTBTitZ64HkoCJ4PQaPQKFdo/lXKTFkoN+WiLMTdUIuR9iJsLnj33Xe9a45BgRJSMPCRJ9oFhcaAIayvEk6k4B4QA31InknkltjmKJEgUBr0O3kpkWHKrinxUHzjxo3zhIciot4MRpSZAt83bU+fEgoXUtH1EAVExBoL/c19ILOrr766QOx1DRHMvxAtZEpb4JIIhvLlb4yKwpQwypY1GVyf4dwAyCvhbOk76gyBo4AgHgBp4xKlvakrwIjge0IfRyM7RIUkyiQKm7akXpraESAvtBWEiBHCGOBZpCxU0DcYM8g9bUKb4SaCPCMhcABhM4aCIZ6RZT4PWtvwGooWg4O6hgK54HeUkbHKmERhYhzpmKRcKkcaTpnyYgTHSuCg2MvkaH86gkGH8GiCCCwpOokX1gmDMZ5zbGpoUDQ9HYH/LFRoGUAaNlUFP1ogTNyDdmLQYFWFxhBXv/ybb76ZL/Rci9WOsAdjhgOyxWu5woHfakb5aAH5IrxYPgwqgEBCKKGgTig9yDN0Nkb8cY23DjExiBjIkEjQukXRaK5P6oQBAfGoNQ65haa6AygpTTVGmbF0GVQoBA2hHAqUEgMMMKCZfUHMGmJXs8SjiFDukCwDV9OqQXTcFxLiGsqLxablw7pUAtTQsdyHZ0AYb7/9ti8nCgdwb02mzDjD9RUkGkihMDKg3oxBFBZEHKpMFJAffUBbUV7KSt+gZKiDZu1iFkA/kZgaBRatm5T+YixdeeWV/j5YuRBfMFUdbYh1r/JMX6EUIX1+o2GGIUoUM4ukyE0wR2i04B7IM775YNvS5nyHm7QwZQX/0XY6Jvk9ZUM5YkRpfVD+9C8zPNotliTcQRSLxBEqBAxB14bTbPcIKJYMgkDDnksfUUUHFqPugFEy1MzmDLpQEi/NHSIMPpRzcAEXYQ3nMuPzwlb9UUqQadCyRK6YUkN8OriD6w8aRztoiev0NAgGE1Yu9+Y3kBjWG64SZJP2wToNlc+gRcs91EAB3IuBiZKhfHynbheFuq+C/ungOgltxwBXRaF1okyQO/fk9ygmbWeUIEqc6TiGRfDejDklkFBAQlj9JBYpahzq+FUwfmnfYKJkXBzMtrAomXUG46NHCsqCFY3FT5uhVOg32iKUyBXIGH1CewezRmmiFeQe10qsPEP/IRfIQnDMoDRwBWJ8hCaWDiJ0fYyy0WaUV+PZo3gxmDC4mA2hqIubezgmEocsKBj+IRoTS0m3BmlFsAqoAFoGgkEIuNaIvPhAiLBaEerg4GF2EC45cmmuQZTmAqPes6jZG4M6+D0EzVQ9FEGrinZia6cm8YAAGFC4VgpLCB0K5Bv3D6TKoKccGDQQrkKzOhWFcPVm/OjiGKRBO2Dlcy8sf6xfZCA0MYn6qEPBtYxVvldfLuOX++Oy0oxc4aD3DLaxjnHuyxiPZUyj/FjD0RkUhEdfoDB0jSkUKg+hdQyWMdadLfQncsCsiP4MAuVCe+FVYIZJvVGYuIBQRIXFUy8sATeyyD20/YqLqB3UFIjGRmOhQVjsQbsEOxrtTeHR0AghGg6fEZaDJXSNDOES6CogahQj/m3cWLw0Y0ysu0u4n/p7owHWDwOHRT5FLC4zLEjuEawzliz3Ds4sgvfmPbIVVFwMChRc6EuJRmcwDD4IH0vw5Zdf9oO4MBdDODALpWzIP9ZjqA8VoBgY+Eo6odtRNbcqVm2wTrQDY0VnNChryox1CHGjKLgmVGFzr3CuJO6Jq4v6oqTUFQFom6KIhHpSTr2GezHboTz4+fked1a0QNaC7UX/oKSC/R/aXriZ+D5oqfPZyJEj/RZm6o9SinbdjdkQ90C5h24OACgYDFXagbbTMUb5i2o7+gLjNSi/KANmMJSX+2HhF5VMOxJEbYmjgdBMNB7aOziVxSqhgfmcXIi6l5xOpiJMfSsyiev0GNBO/I3mRkDVasIfy7RYr1OiQnCCU2EGFwLAgGHwIvSQAkLD3wgTOwUQOpQpipU2ZzoZ7e4S7s2CF8TGVqtoLCv6FWWCj08JAfmINikzCgh/J+SA/FAW3HH4YoP1Qe4gW9oKtwIkWZjlFg4MGH5HW0HADERcOchlNAqQ9qcfWciCcOlHfLy0ByRCn2JlMj5YnEP2uYZnq8uFfuMaxgf1oX+ZHXANi7sKFATlZUcIfcPzkKPQdIN8Hm6Rl/YLtS4pK+2I/ATJFLmlTurGwdrESFCyog7IHdYnfaZnQjDcILtIwWyJe1Nm5AY5RzEFrVraEbcLz0FGeQ7l0tkS4wO5ZWxBspQNHzTtjcKKBNwDIuVZ8BdrLAq8C7QxClDXewAyRNmZwQSfw734XN1LKBTKpv2EUmIGwn1Zb0GWmc1RR9o4CO7DGKLfzsaZMe0TRwjpNDowuGVKc/NhOSBwFA6hgtjpnOLsQS4vUL9qOCA8mqCWgYNgMvgQUk18y4BloNKhWFIsGqm1FUzmCxkwwOh0fS4LaQg97c97hFq3IPK9TusVDLxw7pVQUBb8flij0e7H5Vp207BDhbJoDk8GW3BqqxZ1YfeG5FgcpU60EWVi9wlEGwQDgDZmADBoWIsJt1ugMECcLKDhVkBpcA8+4x66P5k2pKzBtqTcOusAyDpExO4C2h8ZZ/AyM2BM0PaQL4ua1AkS4hoGdbBdGLwMVhYKqTO/C+ZcBcgGBK8WqObNDN2BgXKnXliAZ9udwXOoTzhZhuBxvyAT1FMXXZW8KIsme6bdIHvqGI0/Gn7ALaQ7NSgPRBzM78m9uDc7UqgTso/cK+AX2pXP+D0yhCyynsDsKJKcusi85gJGhoPAgGCnSSiUA0N92ZQX4wO5QsEHF7WBJpSnvJqTGDLHcEHWgxY711JnPUBZFGLK7BPqIwtWTjtRj97rtKmwxa5zgZLM7MOg18EW7rtwLgnd5x3pNUFQbvX18X1wkHAvhAYghHwfbGOeo2EPzgaIh36N5Npw4Fm6rZB7aL8H5YHvabeiZgr8jjpRX34fvFZPGb7++uv+Xqq8YpEr6spzdCdJ0OUC+C5Yfq6njULrpPfQ33MNgztI1JChKgteob5QvY9eEyoH+mztX81fG+46LFHkHAOgKKgcBmUG4oak//GPf3i543PqFayL9nHw2SpnwbaJBGo8UO5Q+cUqJ/TBc889578L1zY8l98GZxLaVvwmEn+zymU4FHUP+isoy5T32muvlRdffDF/Fk15g2ULNx61vKHjgtPctDuHoc6GmBY2I+ko3Rte3JXX8oaiCIjvzubKiOSaIIqyqLhPUdYGghHpwsnZTpCeDaHPCq2jEkK09wkH7h3pPuDCgAwXNTMMLSvXh36mSqSo34HQa8It4Ba1oBr67MLy1/I5Fi6xU5glhO5SCqIoOaQ8hclVuOdGI2ehzznb7Jw6FdY24Z4Zrp/OVoZYDJeiflPYd+HaKVx5IXrcOsxsIoGFOTPEDRjMRRGTIW8RDncMroFoF8wgk/IQCwRArpQlXoLmYTXj7iqJuC8QO7PN4NbTomCJkg1xA6aeOvU2FA09EBMNdB98eQi4hpsjuDe9vEPLC4mf623UpRvY2GAoQTA47JxBZIiWwEF5al8s8XiK3lmW5TV3isFgMMQxjMQNBoMhjmEkbjAYDHGMYpN4RcwRGQ4ay+JcPKewffgVCeeqPc8V2LcdPO1X3qBypa+ybvuSKoPmKajMiInEEViOuGpAGE48hYtXwHVsgudUVLyDk6dE1CttaA5P2rQigxOXHN4p7KBFPIFdCezNDsZAKW9ArogPwulHXhzsKW7MjljBcznVGC5ccbTgoAxH7wk7UVkRNYkjsByxJYwnZEPkL4SDI+YKyJu/+Y7rQkODxiM0illpg1NdHLmtCORWFIgrg4xEG2OlPILQCBritryCQ3ccS2ebLWOYqIhllaCF5xKfBRkoLthLTrgJ9sVX9DFTGGKKYgg4008MAIKyI8AExdEBCQkR/AVC0v2TBkNFBDMKYo0Qs6M8b39k+xtkRwwjYrpUJBAwjf3Z0WZ4qiiIml05aEFmlWAMaVwrBN7BWiVYD6fqCHxOECTSXlUkEJmRKHPUnYBJoZEZ8c8R4Aorg+BTCFjwiLhmliGCHPEXuIYIaYXt6+V6sidxWImIdxrGAKuDz4nAx0kx2p3pfDDlGf2i+RSxfHBt0TfBiHYEGOI7/iVgD5HZgkeu27Vr50/y6ekxFDKDhZOBBHNiOss1tAUzFcrDUWoiwgUTJKDQtQx8X9Rxa+Jy8wzie0eTtoo2pyy0QfB4OO1Cm3MUncFOWYjBQtswtacu1Du4z5drOnbs6INN8Vuu1byxwf7EYKH9o4ngFwsogwZF4lmUK3hcO1gnLF0sbk0HFg2CckUbIpvB0K8A14UenqO9kR3eB1MVRgLkn2Bn1A35pbzBfkO2GEu4XZADZJD6hcbvpt8oJ/3FbCie9peXBKK2xDXIVTBAu4ZV1QGnqa/KMuhVaQBSJPIadYasidoHoSsQOJQW1hnCiLuAID7BaSNKgDRfkBntSORDwlGGmwpC4AQkwl2lOUv1c2Y6GnWNQUU0OPycQfcEg5roeARF0sFC2RTU4ZprrvF1oK8gWcoSzA1KhLVQVxnuNPVBMtAIQ0sZNTojA5tnaln4jHIwW6PtUPbBXJTh2pl1FA3uFSkwMIgKiWUcBO2iIYEB7j1cfRA48kl9aL9g20GKuEmoF+WmrWi/oB+ZuqC4MFZK8xQp5I0cQaw8h+h9tG9QrvhM60C5cHVqBMxIQV+S35MogMgadUZWQ/3NyAttivxjjNAu0a57IRP0A+OA98gD7ayzdj7jb+SGPkIm8OWHRhpUYFAg2yXhook3FMvPoQkiICa0cLjgOBUJ1E/TfDGYGUgIvKYcwyIhNCchNSFFBOqGG27w5IaFwADr27evV3Lk8INUIEzyDGL9EPpSoQSOEBNbOph5hTZn8PA5ypJBCxFBuOGg4URDs+BAvljEpIjiO8pHWRj8mhw4UmhAfX4DYaLMIAEsNEgbYuWemnUHpcLzw4Hws9wr2uSxBPHSONXMPjQ0KOXRvJ70G/Vkpoj1DSgjBEH/aS5VBe1FjHWdOQTbj/tAHNFaoNECw4E+1FCvlJN+QrkyM0CGaEtC7CJDlJFwwJB6MJP72aBx4MkjiYwjV8gfC9Djx48vEMyOPqVdsI41d2m0COZbZWahgbuoK6SNMcA44Tvuz1gjGU040D+Mz2AqtMqCYpE42hc3CtPvcHF3KxoQFHV7QNIIHIMHouBzCFwTBTCwGBCaygnwGcIZjLsMUTEYQqM9MjXkPkSlC81QDzkiqJqclnsVJbjBOOPBnJwoA/pNv6MMEBtWXbRxK4JuJabfqhQA7gxmEkFFVFQgKwZjrAYBdUWZYR1CyLQjJKZJOeg3kkjwPaTFrg0NhxpukTU0Dn5QsdG39HdhkTrVegwFykz7DrdROGVGtiHan7JRVsqsMsN4g2i131BSKDCNQa6uPn4P0Wvs77MBC5v+VxnneRgfmqAgWE/kjRjY4dqF9g9NFE6ZkfPg9ciJ/k6TJzDbgMSRGWRAE3xrQKzCoFEZo529VQTEnGMTQmLKppnSo7WaKgI0NrROAbGmsVrUX4wQBi0UrmMwhPq/wxEw5MP9IfLQwPAaLzlSoiss9rlmTA8CsqVOxdm5ELrAB9FFG4I3VlAfSABFhEWPfx1FqNHl6A9mQxATViRET/kKsySLWqzU3xQ2Y2FMBBN9KIIKDCIM9TkDbSvkJVys+eC6BddQzmA/a7jaaEiNdggN8VuYPBQVrQ/rX8k3kuu1vJRfn4M7izaIdLFY3byV5dxKEDGROBY4e6bpXDJNl5fwlaWNUAFhWosFpBYKfj2sTcgDoUIQgxYJg4rrmYIHs8NjaSHkQUVIlhusNXzU+AaZKitZMIAZnLxiTeJAmRk0ofvR6dtg7sBwiV6jBUqLtoglsl4swMWAMoXMITh1mwDKgOuJabp+jl8WpRktlCgL29pGGxaWfV5xtlmHGgIYTcEonLgNeD4yg+KinpRD48Kj6JHPaFwL3IfZQxA8JyjjkUDzmkYDyJvFUv0dZaE+arCcDchX6GyhsiBqc4tGxWeKHxwBZfEM/yYvTdLKNfhAWbSjYREEyIwpUjxrSurBdA9orlHIOJhQgTZQa4IFKUhDgQWGhcLv9BoIncXF4IIj0B0PkDeLdUGSgdwZoEzFNYNStIcdGBhYgdxDM7RTdv5mpV8tIBQ003XNRsRCXrBOkQCLlwGJ9asnNZm1FAZkB39urPt+1a2AUsXFFZpFB6C8dPsrz4slSTT9DkmW5mE2SBzXCDMKnfGhdPCJ60lF3TKIGwPDinoxE9EEyZECHzVrLSqLPA93Kf1X3KQhoUD+GR+6UMyY4L26vehD+kTTHfJdUYmskUnNQ1vZELUlTsdqCioW7HgpmIrx0q1DKtyQH34/BApiitd40NSZxUxIAcsIKwhfpVrI+B7Z9YBvERLUBMjaDlyHhc2i3+233+5JnYEYzO8YCgYWioNkrhA7BI6gkpuPHSoMXBRlLG3KLIqy3Hzzzf6elIVyBNc3eM/OiG984xu+/lhI0VpZWN+43FiUory0Q1HlhYB0MTiYazJS0O4sbLIgGPTDAsqPn5vvIA5kGZmNxZ/Kc1DKKFBN81YaoO2Ykd12221eZiBxfP8qM/TH1KlT/cKg7hBCIbP2olY+8nrTTTcVyIl711135d+fhW/aDKPsxhtvzN/tQXtxn5LeZcb4wKj71re+5eUKQ4JFTp2hIjPMaJlRqdFT1BoNZWWGWtyMT/EISwoRIdhpov5sLFMGCgQTKlgII4MMUmCAQ+BcG9z1gEAy8CENyJPvdJBABvyez/TeWBgQLMIevA/35lqUCdNgLM+XXnop32XB/RHuUP9kEDyPgYslw4AN3fcOGPhY4JSHNuS5lIUBQ114NgNICYP66p50teD4DGVOefgtszisYZR6aBtyf16UO1ZipF60mVp2QVAWysHzqQPEodtClQSoF3XA0i7KCuUe48aN87s3Qne2lCSC/USbhXOTMHOBGCk77Rv0m/MZxkC4o/bIoMpMsG2oN/0d2geMBV5Bl2A04BmUE6OEfmZ8hquTnqlQ+aLunAD/85//XOA66sbnzBg0qXNlgpF4HAKhxU/O7hgGEoOXWBRYZPh6K9Le/PIOiAarHoKJdlumoXDQrqy7scaEuwgDip0+/PvKK68UuJYdOBgwzLoqoyVu5+HjELoSj2sHKwkXF1YMR7+NRM4taG/caBCMnhg0lAyYodGutDGGCzM7Qn0EwewOssf1UhkJHJglHsfAzcJUEzdIUVnvDaUPdXdYHteSBQaKuuAg8VAjhXGNayec26yywEjcYDAY4hiVwp3CgpUl2DUYDBURlYLEmYpVxkMABoOh4sNybBoMBkMco9LsTklJqSots2pKtSoiW3dky579x8U2chgMhnhHTCSuQZ/0GDBbgXgFY4yzc4Lv2e/Jd7gzynL7W2aDVPnNf3eWWmlJMmfhbvm/J1bKrr3mYjEYDPGNqHenQOAcg9XMNIA9yuyV1d0fmkhAA7Szf5Pj28HQlecahMxo2jhVrh3dRK4ZnSX3/uJzmTmv9E7YGQwGw7lA1D5xjTbGvkzid3DARMPSahAh9nVC7MQV4QXxc6pNA/aUBZgEbNySLdNm75KkhCpSv178J+g1GAyGmHJsEqgm6B6BxImyxukpYjaQgzO4rQ/iJ5AN35d2LsKz4UTuSW+WJ1SrfHGHDQZDxUPUJA5xBwMC4fNWt4oG0QnGjOZ7TQpQHrb5Hck+KUmJVSWzYap3sdjipsFgiGcUe3cKx76JLU5Ev3AB/3G9EFecCG9nC5B/LrD3wHHZtitbhvarL/vc+5VrD8rsBZUvBrHBYKgYKNY+cdwoJIiAvHGhhO4+wQLne6xxkhvEmoWmJLHvQI68+NZGqV0rUW65qpmMHt5YDAaDIV4RsyVOSEjCPxIPmEQHoRk1dDGToEAQeHnJQJ2RnizfuaW1zF24R37zxErZtz/yZMAGg8FQ3hATiRM7uX///n63CTtUNHO3gl0qJKMlkQAWOrkOywsy0pOkqpsZzPxsl6zfVPr5Hg0Gg6E0ETWJQ9DnnXee3ydOVmtcKKQjA/i8ca2Qig0/OJk2WNDUFG74xcs65i+LmidPnpIjR0snlZbBYDCcS8RE4qQgg6yzsrL8S0HORj7HQsf/TXorXgqscmJfl8XJTbYUptdOlJ6da8sJx9+77bSmwWCoAIiaxCFnyFqztQehu1PwkRf227I6et+kUar88r7O0rpZmmzaekTWbjRXisFgiH9UiqQQIDWlqgwfUN9Z4Mdk9fpst6CZI7knbZO4wWCIb1QaEjcYDIaKCIsnbjAYDHEMI3GDwWCIYxiJGwwGQxzDSNxgMBjiGEbiBoPBEMcwEjcYDIY4RrFInOiE4Q79RPq9wWAwGIqHqE9sEp2wbdu20qZNGx8rnBOYxExZuHCh7Nmzx1/TqVMnadeunQ9FC/bv3y8LFizwKd1OWRYGg8FgKDFEbSZD4hrwigBYa9eu9dEKybGp2e+JM06gq2XLlvnkyMRaGTJkiKSnp4vBYDAYSg5RW+LHjx/34WfJoZmbezoSYPfu3X1scSIVkoMTqNWNhQ6Jk2NTrXWDwWAwFB8x5dgMhpMN+r0heECCZD5PTk721jnZ7wlJG8zNaTAYDIbio9g5NrGucafs2LFDDh48ePrGjrxHjRrlE0jgG8e1gk/cYDAYDCWHYm0dwdLu2bOn/3fOnDkFFi15T0o20rZhgeNq0YVOg8FgMJQMqjlyfUhiAAucpGgj0/3MmTNly5YtBb7HpbJu3Tr58ssvvf+8a9eucuDAAe8zNxgMBkPJICZLHIu6R48e0rJlS791kByaQSscf7hCLXIWQWvUqFHgO4PBYDAUDzHtE2cnSpcuXWT16tV+DzgZ7QFkjeuEfeL4x3GlkM6NfJv4yPne9okbDAZDySFqEscKx4UCKbdo0SJ/zzj4+OOP/b5wSJsFTXarsHMlNTVVVq5c6RMnG4kbDAZDySHqzD64QzipiYUdCpIgY4lz2AcS51/cKFjgWOxsMzQYDAZDycHSsxkMBkMcw6JTGQwGQxzDSNxgMBjiGEbiBoPBEMcwEjcYDIY4hpG4wWAwxDGMxA0GgyGOYSRuMBgMcYxihaLVOCh2CrNkUL9umtSokezfnzieK5u3hw9TwCnYunVqyMFD2XIsJ/IDVDWqJ0mttOqyd99hOXrsuMSKqlWryPABGXLtpU2lVs0E+dtL6+SDT3aKwWA494g6iiHEzbH7Xr16+ciE5NIkpjgRCnNycs64nmuJdsjRe2KOl3e0aJoh37l1hDRrUlfWbNgpx4/nyrkA7XrhkE5y89UD5cLBnaRH52by4SfL5eTJM0m8cYPa8v1vjXQkfky2bNsrkarQ87o0l7u+PkJWr9shu/YclFhRs0aC/OnBHlKzeqI8/eo6mb90nxzJPjftZDAYCiJqdwrH7Ql+RdArjtJzzL5z584ydOjQMzLbc/T+vPPO8zFWMjIyJB5wweCO0rt7Sxl5fmdJq3Hu4p9jcU+btUIe+dskWb12u7PIkwq9Nuf4Cdm2Y78czj4m0cyBUlMSpbazxBOqFc+L1igj2ZUvQabO3C7vfLhddu7OEYPBUDaI2p1C/JP58+f7CIUEuMKCHDx4sA96ReIHPgd8jqUO6fObeAhBm+JIrnvnLGepbpfmTetKx3aZsm3nfv9dYmI1adeqkew/cETqpdeU2rWqy/pNu2Tjlr0+dnpKcqK0bl5f9rrvM+q472tXl3Ubd8mmrXsjdjftP5id9zqcHfb7xIRqboZQz5dz6szlsmHz7gL3zsqs61wmybJv/xFp2SxDMOJXrN7iynzm/eiPGqlJ0iIrQw64Z27YEnnu08SEKsJ/B7NPhJ0pGAyGc4eoSRzCCnWLaO5MJRQIgryabdu2lU8//VT69Okj8YA2LRo6X3NNeeaVmXLZhd2kQ+tG8vHsL+RE7klHeMly7x2j5PDhY44cT0mCm3WccG3xj5c/loVLNzoXRx353jdHyvETuZLrPk9MSPB+7cef/9AR6TbfbsVFamqiXDW6lzRplC51nBJ54oVpMnvel/ntPvqC7tKnewvZ43zeyU551qlTXZZ+sVkeeep95+oq6Dvn91+7eoC0aFZfXnhjdlQkXjc92Sm1KpJ7wgjcYChrFHt3CpEKybGJBY57BRCutm/fvj7bD+Fn4wVtWzb0C34rv9wqX3y5Tbp1aCppNVP9d0wksL6zj+bIU//6SP7wt/flkCP0K0f1kjppqVLVuSjS3L+HjhyTf7w0Q/745CTJcTOQ68f2k+opiVISOHQ4R54f/4n8y5FujlMQKYkJEpzfpCQ5d0mtVJkxd6X87ol35UNnrffo0sz7+fPhftAwo7Z847pB0rFtprw4YY7MX7w+oufjRunXM11GD2vkXDJV3IzlkBgMhrJFsXankFsTlwm+748++shbhFjhHTt2lHr16sm7774bdrGzPIJy9+7aXLY6X/NW50JZuWabnN+/vbN668je/Yf9NVjTC5dtlCVfbPF1nff5Whl7cU+p41wniumzVjrrd5OzyE/K3AVrZdTwrs4PnSq9e7R0BNg67LOXrNgkb09ddNYy8nzKl+TIO/dk+IXEo8dOyHsfLvF+82Urt7jnd5Faaan536ckJ8hVl/byrpS/PPuBzFu0LuJZwmUjGsn1lzdziiJJxk/aJItXHBCDwVC2iNkSZxGTDD4sWi5ZsiQ/xyaEzkInVjnp2LKysnw2IN43aNDgjMXPcw3IOu9V8PP69WpKpnNTVHfkNnpEN+979sTerWX+Nfh/Dx466kkPEmeLX1V3TXJynqXNZ4ePHPUEDnbuOiCJzkLHP57syDOtZnLYF1v/SgonHHlD4CDXl1MKLGQmOL86rpTEpGqS1aSu3y4YKabN3SVPvrjWKYf9cumwTOd3ry4Gg6FsEZMlTlYfthZiha9YsUKWLl2ab83hSmEhk0VOFjxBUlKSJ/CePXvKBx98UCL+4VgAQQ/q005SUxJkzfpdzqLe5D+HrHt0auYUUJJfmMRihuSzs3OkbauGfrFQr6vu/NL8C2GnpqZ4koQ0q1Sp6j9n0RFihPCx0PGb40f/YMZy519fFbZcocky+G1Vd79q7nVcSnbrHr7xZ5wfP6tJhowd2VO27zwgMz9dHVGfrF532L8OHTouP/1BF+nUtrbMX7JfDAZD2SFqEseSxl3CPnFSsZHNnj3g4MiRI94CnzRp0ukHOMK/6KKLfJb7WbNmlWl2n1rOv3395X3dwlwNeev9hfkkjouhY7smssMR2mP/mCr7HJFD4qOGdpVLRnSVxg1ry+49h9yMoqp06ZAlkz9a5twWOdKtY1PZ4aztI47sa1TP2444sFcbWbx8k/NfH5VebpGR/di79x3y+80j3XO+fccBSeuX6nzWjeUL59Y55vz0uSW0CyQnJ9e7ZD53Lpy2LRvItZf1lc1b9/o98ZFi/ZYj7j4nnUKzA78GQ1kjahKHsNl1gj88MzMzP0kymDFjhmzatEn27Dm90wESB0ePHvUHgsoj8BmzqMmCJtsC1SqF5C+9sLt0a99UPpq90lvfzZvWkwfvvVxO5p70pyafe+0T2bn7YB6JO55t0SxDfnjXpX4BMd25LZ584SNP8tHg00VrZcTgjnL37RfJnr2H5Y1358l0t1g5cmgXGT6wg9RISfLbHK+/sr+Mckpm+aot8urb84rYM37mN1jgz7wyQ/7r2xfLtWP7ymNPT/GLspHgwMETkuvrX3JuIIPBEBuiTs+GfxvXiFrfQWzfvt3n2SzwgK9OeGZnZ8uuXbukLJGclOAs6abOvZPgSGy/c6nkWZ+pjhQ7tGnsj6Ov27SrwPXdOmY5P/cxv1/8L7/+mrw1aYG32NMdgX/hSH+pW+TE99y6RUN5+N4r5OUJc7zfvH7dmrJ89TZZ5gg2FvdRs8y60tj56Ks518zaDbuc9bxPGtavJS2z6p/hx4bov9yww289rJee5hdcAQuqHdpk+kVaFmfrOuJv3ay+rFi9VQ66mQKg3iixlV9u8zOQSFA9tZo8/8c+kl47SWZ8uktenrhJlqy0RU6DoSxgOTYjRLrzb//1N7fKMy99LJM+Wuq39p0MHLRREn/iuQ8dsa3y7piKehCGunXvWFv69agrDTKSZOIH22XBkn1iMBjOPYq1xbAy4VTgX9wqZ9DzqZNySv/j+wqsGqnbwmX41Q+4mZlbxM01O8BgKCuYJR4hWNBt2jjd+fWPyL6DZx5jT0pybqZ6tfyC5r4D2WIwGAznAkbiBoPBEMeoFHvEsKJZkDUYDIaKhkpB4jVr1oybULgGg8EQDSrNaQ2zxA0GQ0WEHbkzGAyGOIbl2DxHqEJezAaZkupcOyD74AHZu3NbmcWRKQzMWAirQDKPs4ETuIRdiAXIDmsVubnFiw3DwTPaMNqDZDybtIK42oi0uXPnTi/HjRo18vU6dMjC7BriA1GTOIMP4Sc6IQOAvzmpSRwVMv2A+vXrS/PmzQtELNy3b5+sXLlSKisSk5Jl5LhvSodeAx2hV5NVn8+V1/7yCzl65LCUJxBO4YEHHpDMpllFpn5DfS9fukS+/e1vn/EdxEqANBKCtG/f3pMskS4BSmLQoEH+e55FHPq33nornzT1RPCQIUP8Z1OnTs1POhION998s//3D3/4g0QKZLZfv35yySWXeFmFwB977DH/nP/4j/+QmTNnypQpU8qdgjUYwiFqEsdCGzBggM/cwwAkNgqW24YNG2Ty5MnemmncuLH06NHDB8PSgFdEN6zMJH7CWXsz331VVjryHjr2RknPaCjVEsqnn56okzOya8n+44WHqc1KOSVpKWfmIIUgIcdhw4b5/r7ttttk8eLFnsQJ1XD99dfL2LFjZevWrV6x9+7d2xM1hJ2WliY33HCDD5gGwRPemHg8RZE4shbtegfGx7XXXuufQVRNMlURLgIZJUQEsm0wxAuiJnGmv8uXL5eDBw96wcfaHjhwoLe8GYQa5IrrPv7443wLq7jT5vKCak5pNcxqJXUcCZ90Cmr9qqWSfeh03JAGTVtKvYaZrr7HZcvaVXJof17O0ZMnc2Xj6mWydf1q6dZ/uKSl1zvj3j7UbVptyWzRXhKSEt3vV8qBPTsLpL1Lq1PPX7Nv13Zp1Ky11KhVWzZ9uSL/OvqDGO/8S1alogiwpMEOIAiyZcuWfmZGoDSSg0DGECOztwsuuEA+/PBDefXVV308HWRG87KSJapbt24+wYgGWQsF9WrWrJm/L4ogFPwGWWS2SN3Xrl2bL5O0X6tWrXw5+P3cuXNl0aJF/jpcKilfKSV/sMuROfUhmNu6desKPIPrUB7cb/Pmzee0jQ2GUMRE4gyMIBiEEEeoH1XdLRA5UQzjHbXrNZCLb7hDuvYb6sg80bXFCVm7fKGMf/zXcnDvLjlv2Gi59ObvSkr16j5uyo7N6+SFPz4gu7duPOu6Ae3U4byBcvGNd0hDpwgg/f27d8j7L/9NFs3Im+FUq5YgAy8ZJ537DJGD+/ZIi/ZdJDElVZZ9OkPGP/EbR+Q7PMH85Cc/8dc/+OCDfoZ0rvCd73zHEyjkh4Jv06aNjyt/zTXX+Pc6c8P65Rrcb5CgZn/Cr/3LX/7Sk/PDDz9cIEImYIaAlX/llVd66xuChWxRGIo77rjD53RlBkgbcM8XXnhBFi5c6OXz+9//vlcc6enp3qXSpUsXb4n/9a9/zS8H7p4RI0b4tqQer7zyikyfPj3fXYgiuPvuu727hfKeyzY2GEJR7NgpWD5YJVgjTI8VaqEzkIgzPn/+fG/RxOsiKPUZPHqc9Bl+qXz01guyYv4sqV6zlrTp2tt9V03qN2khY2+7R7auXS0zJr7kLW3+vuTGO+Xlxx6WnLMosZTqNWWUUxB16jeSN578rfeVX/7N/5LRTimsXDRXjhzY5yNPYXm36NBdvlgwW1567GdywhFLg6bNJfdEHsGgDCBIlG2VKpFn7SkJvP76696Ndumll3riw1UCiT///PN+5nbhhRf6cuFioYyUb82aNfLnP//Zky0ypBmiwgHCxg2Ce4bUfyQZgVCD4D5/+ctfvCwim/fdd59XIsuWLfPE/vjjj/uZAr70adOmeWuc56JgyD4FUB7PPfecD6vMdbiAcAex9gMgdyx57mdbVw1ljWKROAKMJcPUFUtFXSYMRP5WPyODGUKHzHUgxBtSa6bJgIsdGcybIR+Mf0aOfOVC+XzWVP9v1wHDJb1eQ3n1sV/I4jkf+s869Bok7Xv2l6SU6mcl8Zp16krjFm1lzpS35LMP3/aWeKPmrWXsN+6RtNp180j8Kxw+uE8mPv9nWbdsof972aen74M1+eyzz3qCPNfx2yHK/v37+wQguExGjhwpq1atkjlz5nh/OHKCBYwL45lnnvHW+Y033ihjxozxfxel4P1MpUMHb8m/88478vnnn3sFwPOCGD9+vL+OF6kCIWdImecie5QRi5p2gqRRCAolccrHwibyynNZ6O3evbu8//77/nvcVFj3kDh1NRjKEjGTOMLNzgPybOIjD2a1R7B1yxfXQfZDhw71gzheSbyqc2XUTK8r+3ZuyyfwIOo1bCrHc455l4Zi744tktC9r9ROry+H9u0p8v78Hmt//y78vHlkdnDvbm9h123QWLZvXJN/LZ/jvgkHCAqLGJyrdQiI9bzzzvOWMgobQOBY2yh0XBPs+MAah/jeeOMNT+6QKModHzdWc1EuN+SI7X+QL+4PwP0gWgUGA7tlWHhHgeFzh7z5NxqLGXeO+rkpP79FdhXI9oQJE/x728FiKGvEROKQDYtDDFzIG2smSBhBi8onD3YWOcLOYNf8lPGGU678x48ddX7ZZF//0MF79PAhn2czIfH0YlxKag23+Jkbso3wlJw8ddL71INnrY4eOShs3EupkZb/WbIjJVw1oUoDZZF7PHyaOwgHKxRgqUJgpQ2dkeGLhsjxc2Nd44PG7cB3uC6wiiFxJUhkhvcQ+NlIVt1ytL0uQPKbYF/wHIwFlASL6tz7u9/9rnf3RQMseGSV8vEsnh1cvMQ3zxoQwEVoC5uGskTUJzYhYXyKLP5gkTCtBQxE3ReO1cL0mWsR+CZNmvj3EEq8+sRzHIGv/2KJc5EMlqy2nf3hncSkFL9DJDE5RXZu3eCt9ZadukuS+7tm7XRp6q47uH+3I+HTyYRzHYllOwuyXsMmktGoqd8/zr32bN/irMxsd+8unsj5nPfHj+d4y7sAimhD+uFHP/qR/M///I/fA30ugHX88ssvez8420pxNSxYsMAfBPr9738vf//73z3RYnnT/8gPssKOFfaEM3NDNvISTaf4XSqQKNewCKluDqx3vmcHiyoOfq/A6kZxcB3GBSSMyyZacH+UD2VAKVC24GI+MwJ87ffee69/bzCUJaK2xLFSEHIGF1N3hFzBIhFW2MUXX+wHLVNaSIVpNSv4QZdLvCHnaLZMefUp+dp//1Zuf+BPsn7VErewmSap1dPk6V/+QDavWSEr5s2Uy279vnTuc77zg6dK01bt5aU/PSzHjp6e8kNiSz+bLgNHXS3f/PEfZeeWjfLvZx+VTauWyZzJb8qIq78hd/7sr15pNG/XTeZ/9I7s31PQdXIq8P9QQIQsJhZ3YbNXLWcl5xb++xRnOG8N1InZFoTGwRn6+qqrrvL7xHFHqOJmcRufNLtYzj//fO+rhrDZUoi8oPivu+46n4Sb/K0Q8v333y/btm3zh3lWrFjh78k1+Kj5PXXle8D3KARcKrhzKE9RFn44g4LPUC74wXH9de3aVT755BOvGPLr7hQJz83bMWQLm4ayRTUnjA9F8wN1h2CFswMAotYXg4mpJRYUBI8lwxSYgcdikW7hOtdAkTAjwIdaHOzduV3Wr3D1yD7i92qzzW/OlAmy0RH6MffZ2mULvFskwVno+3ftkKmvP+MWKd+Rk7knQu6zTbauX+XIeYf3sa9dvsjvJ9+waqns3rrJW/YnnC98zuQ3ZPLLf/NuHI8q+J8TZduG1e7aZfk7UoKgfyBwdlNgDeu2uEihR+HXLl8iqxZ9Wuhr+YJPZfbs2QUOcKGsITusVsiN74MLf/i8IXFkBPJG4bMQOW/evHxCZVsq/cQ6y9KlS73i537cl9998cUX/joIH6OBrYPMBrmGraz4s9Vtx+cTJ07096CcKn/UEeua+wd3VGnb4YpBniFrfPmvvfZaAdnB5963b1//TBY7K8L2WUP8otSSQjBQeDE4y/qgD4QBORS1fS0aUK8EpxTIeH/ieIhickSQmOC+O5XrXSfRwi8EO6LGxXLC+b4rYlwadbNhfet+7mhA+2Olo6BC1yZ0IZ1XcXzVhT2D+99zzz3+0NIjjzzid7FY7CBDWaJSZPYpaRI3VF5A4uxPZ70BAq8oJ5EN8QtLlGwwRAGsbnz7BkN5gcUTNxgMhjiGkbjBYDDEMYzEDQaDIY5hJG4wGAxxDCNxg8FgiGNA4uvEYDAYDHGHKlWqLOTEZkv3vn8UP/IxKlq3bu1jYBBciIMbGuRKwak5vuc6YqcQ/4K4GmVxMKKkTmwCYqLUrF3Xn9AsjbqkVK8h6Q0ay4njx2I6LBREh54D5NsP/z/ZumG1j80SD0C+atWrLzVqpUv24cL7q9fQS2TcXT+WLxfPCxtVsqKAsUOCDE6bhmYYigWcmfjpT3/q46QTZ51xoflPQ0H899tvv91/z/g2lEu8V9XhzWh+wSk2jhyTFYVIbgQYIp8i8S40VgcEzt98zvdkeyEGRUqYnIzxBCIKDrj4Kvn6//xWGjRpJqWBlh17yJ0/fVyate0qxUVKjZo+XVz1GrUkXlC1aoJcdsv35IbvPySJjmAKQ3JqdantyL5aYsU+6sCYgciJVVQS4IQsuXB5MU4h9cJAnCTiyIRm7DKUHzj+fjjBafdpzZo1e9T9/f1IfoS1TSwKgg0RWpTjzZrmipC0aGzC1JI8mWuIlaEhPeM5xkSqI8RadetL3QaZjjwaSt1GTSX3ZK5kHzoohw/sy7fKyeiTVqduXmTCbVudNXngq9+n5efG1Jgn3BOL88De3U4BnnK/re+UQ3Of3adeoyayf892Z5GfkH07t0Zs9Sen1pD6mVk+gFZeuNuCSHADMr1+ps8klH1wv+zeQYCqgkfXyVhEDtFqiW72smenD8Cl15z+fQ1ftz07tsrJwKlF4r7Ucm1AXBmIlkQZ2UcOya6tecHPCAxW1/2e6/g97UFoXcAMh5lOvUaZvq3rZzaX425GcvjAfjlycP9Xz0/y5E2u0tef/K2PQxOKmu75deo28GUmFs3R7DwrEiOjTkYDOebkkHrUSs+Qo05ed+/Y7EMN57ehm7kRiZM2J/ZLpKcyNfgYY4KxwVjhXnzG3xzhhzQZC8R54dQnzyA+enBsQJoQN9+FyzPKcyBX7gspE6grGGJAA3TxTGLM8BxmoQQnI5YRJ02ZTZPqLhz098SbIRaN5gYA1E3T71FOykGcGdopOBPnHjwXS59ykEovCMql5ed7O/kaEx51/L3OmzGOzR9yAjPUvXqc7Vc0OuSMgCmxIEQQNy4TOpdkEXQowYk09gRCFM8xJnoNGy1Dx97kSIZExbVk3J3/68PELpkzXSa9+IR3rzRp1V6uuP0HjnzyEhUTpOrNv/3WEdgmad6hm4z52vdk5ruv+Ow95MsccfVt0q57H3nt8V/5xBGjb7nLEXmGJCWnyqW3fNeRzyEfdOuZX99XIBlzYajbsImMuvFO6dRroBvU2XJgz+4CkQwJb3vR9d+W7oMudERd25HjXvl44ovyyXvj84k4q3UnufjG/5CsNh0lwV2/d8c2V7/HZfHsDz2Bnn/5TdJ/5BWuDep4JTDjnZflk3dfyyfiBk1ayHXf/YmsWTZfstp2kkZZrXxwrxcffVD2O8K+9Nbv+ZR2SUkpcsSR+BcL5sjbz/3Ju0T6X3SF9L1grCPxZu5ZCfKNH/3ek+v0f78kM95+yd+/mbvnuO8+4BZzqnh3y46Na2XnltM5Lpu3d+389e/5PKVg7YpF8uZTv/PuJIj7xnt+4X+HsmvSoq3PkvT2c3/29VP57Ny5s3c3ILekjgvm8CwKkNq4ceP8OHjiiSd8kC0ifpK96He/+50P+EV0RWayEBep5SBFsmD985//zI/kSA5RYrPQdwSVw2JW8BmJN3gOYXgZj5wg/de//pUfzIt48l/72tdk1qxZ+REhGX+/+MUvIgo9Qf0pM/VhPGO0aaRIlNudd97py48rlRfvSXsHLwDI+dZbb/Wzb0ic35K5SXkDUAfcOSgw2iqoKAxnh5ODRe71EO+9dDgy3+dcI8NdA/PhWS3ykyFWCyFBIWu0sbd2XEdjWZDRhQ7leixyosZFG1WvvGDFgtly1FmU5w0dLS3adZWP337Zk9JuRw4EwarbMFO+9ZNH5eDunTL11aedJZwto274ttz0Xz+XJx76rqxdukA2r10h477zY0ccByTFWalDLrtOprz2tGxZu0oO7d0j77/0pLR2BDfkshvk0w8nypY1K7wVe/zo2RM7YPmTj7Pn+RfJxGf+JCdyjspl37jntIvLEfCoG++Q4Vd+zRHiK7LOkdt5zq98+Td/4GYCu+TzTz7ws4VvPvCIJ+TJr/xdDjmSb+lIkbjnoNvAC2SMI+F5096RZZ/NkI69BskV7vfEO58//T1/DUkzIFpe0ye+5FPNZTTKckSUhLXgld0U1z77nYXfpGU7GXntNz2pTnz2UVk+7xNvmV9w9de9kpj88pN+XWDz2tNhYCHsD157Rjr1HiJd+g/1Ck/BDOL67z3oZjd15L0XHpcqCVXlmjvv9+nxnnR9QBuhaFPdLOSD15+RRTPed4r0674MtMeBr+K2Q8K4CpVUIwWKG1IjTo8SL24Q1obUosYChtwgWIh3+PDhnsxIZ0cIX8I48/dbb73loyRCpuqG1BR1BOAimuPTTz/t455zPZY4RIlFS/lREITixeomMTXZkyINTbx69Wr/fLIukTM12AbUC6VAOUi+QZhe8p5efvnlvkzUl2TVzMS5B9b/ZZdd5hNL//znP88PR0070Ma0i7lrosajEDi8zR/5Kv6rD+52DfuIE96H3EXdI7HM6QgEl3CiCBCCjHVBZ6LFsRKYGhL/mYXNYHD9eMIuRx57tm+Wxs3beety+byZsnXd6vzvm7ft7Mlu0Ywpznre4vM27Niy0fu4s1p3kFWLP5PJr/5dmrbpJGO/cbfP+rN2+UKZNel1717Zu2ubfxEFkVjjKxfOcVbqrPz7Q1Cd+p4ftmy4dLZvWuus5w6y+csVMm3CP6Wqu0+9xlmepABWeO/hl8nOzRtl9ZLP/DNXLf5U2rvFz859h3kS73n+KEnPaCQv/ulBmT35TZ98YsnsaVK1Wt5O1K79hst+p6Qm/esJnwRj2/ovpX2P/tK6Sy9ZPGdaIGRuFZn30TtOmTwScOu4mdvJUzLhH390ro76Xuntda4YiLNuw8aeYIjJvm3DGl8OCHTBx1OcQinogsNN8+kH//azoc79CrZHc6dcscAnPP17+WTSaxTEKaHu0rH3IMls0U52bM5Lcbfq80+98iQbUz1Xjv4XX+NnQEriWIXIM1ZuMFRtSYFxQh5USBvDB0Jk3QiCg+B5Lsml+Zd2+OEPf/hVs1bxcdghUkI74xrBWGJc8TvIFjeNXouFT8Jn7qOZiiIB9yPGO0qAcRsOhAYmRC8kTPkhZXzoGHRY8iQEUcJmJtO2bVtp165d/me4aQglTFsHU+wZCsU695rAGiYu8OAX/x/ZDDAi2pRD1wAAAABJRU5ErkJggg== 2x",alt:""}),n.createElement("div",{className:os},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode")),n.createElement("div",{className:oo},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_description")),n.createElement(S.$n,{variant:"primary",onClick:()=>{t("vscode.install_extension_clicked"),e((0,ad.RK)({rawInput:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension"}))}},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_install"))),n.createElement("div",{className:ol},n.createElement("img",{srcSet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXIAAADMCAYAAABukyi4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACJKSURBVHgB7d0JlBT1nQfwX3fP2XP0DALDNcPgCsixigQDaqLgbox4R0HcNfoMSDa+NW/hbV7iywsmSvYlz10Xd02eZlHjS2IWEjTxCsbsg0g0GmMAFUGOyMBwX3PfPV1bv5qu6qrq7pnuOrrrX/397Gunp4+CDf/69r9/9T8ClEZjY2NNLBa7JxAIXCVJ0hx+iAAAIB92ylncJGfyi83Nzc+anwykekd9ff0t8pt+LN+tIQAA8JImuXP9kD7QQ+ZXNDQ0rJND/DH5bhkBAIDX1MgZfUskEqG2trY3+AFDkMsh/m35xwMEAABet1AO8xo5zH+rlVbkcso98XIKAAAIQi6zfEELcrk3fpBwQRMAQDStQf4v98YJIQ4AIKIaJci5cE4AACCkYPznZAIAACGpQT6HAABASEECAAChIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcEUEYMPcqnKaVl5Cc6vLlJ+VoSBVFQ31DzqiMTrRH6Vj8m1fdz9t7+iVbz0EkCm0r8wE+D8NDQ0SAWSoSj6Z7qiL0LKx1dpJlanjfVHa3tlL64+20HH5BAQwQ/vKHoIcMsYn2L0TauWTrJqc8OrZTgQ6aNC+rEOQQ0a4h3Tv+Jqse0gj4R7UU8da6ZWzHQSFC+3LnhD/JxKJfIcA0lhdfx6tnFBDpcEAOY1P3Ktqw3JvLETvtKN+XojQvuxDjxzS4q+6j1xQJ19wKqNc2C9fsLpv73HqGIwR+B/al3Mw/BDSemL6+JydZGxquEQ5saEwoH05B0EOKfHXXW74ucYnNv/Z4G9oX85CkEOS68+rdGzkgBX8Z/PFL/AntC/nIcjBYHxJkXzhqZby7V754hfXUMFf0L7cgTMFDFZOrKXxpdYn/AYqKik0dpxys0MdUwz+Yrd9MbV9cVuzym/tC6NWQMO9pV9fVE9WlMyaQ5XL7lF+qqSuTup9903q3PgsDZ4+QVb8/Y5DGMXiE3baF4d2xQ1LqOL6JYYAHzx1gjp/8Sz1bH2NrPBL+yrIIK+urqZrrrmGZs6cSfX19cpPfoxvhaztB9+3dEJU3n6PEuJM6u6kWGencl/tlfPJdu7BVZbCfP2xVnrqWAuJBO0rNavtq6jxAqr9xne19qS2sWBlJQXCQ6HOx+XjZ0vE9pVKwSyaxSfRihUraMGCBcoNkvV/tJOyFRozTgvx7lc2UYfcO+KeuPKcfOLxCcgn4qiHH6PT991B2eILUyKcaGhfI7PavtQQjzYdoPZnfmA4TljupVd/6X4qX3St8nyX3AazIUr7Gonvg1w9wZYvX17wPaLh8MnBPedsqSHOPaL2H//A8Bwf76zcEx/75AblROSyS7YnM9cyecgYr2znRWhfmbHavkpmz1HaDn+b47akdhJU3HkIyr1yboflC6/NOsi93r4y5euLnatXr6a33nqLVq1ahZNsBP27su8tsbL5n1F+pvvKrNTJ//Smcl9fP8/GtHApeRHaV+astq9i+dscfwBw+zKHuIqvw7CiKReQFV5tX9nwZY980qRJtH79eqU2CZnhr6VW8FddZvViZia4x7ThZBt5BdpX9iy3L/6WZ/qmZxa0MXqFea19WeG7IF+6dCk9+OCD6CFlKWoxiDO5eKX2xK2G/bQ8zABMB+3LmqiLH/RcH2dWavDMS+3LKl8FOX/V5a+5kD0r9ctM8Emm1jitnmiVHpm4gfZlnVvti4ckqkGebX1c5ZX2ZYdvghwnmT3p6o92KCNabr9Huc89d6snsxdm4KF92eNU++LQVoOb6+c8ppyHI3KJry9eK8+WH2Z4+iLIecwuTjJv4RDnIYfcG+cLXTwpSFRoX97B7Spp0tmf37R8MdUvhA9yvvD06KOPEtij9Gwc6jXxsdSxv1xSafth9hM19PI58w7tyxlOtS8ObfVaC1/k5HHkPOyQbx3yRVEr5RU/zOwUPsg3btyIC08O4JNi0KEg5wkaPBSMTzhlRqfN+ihv15UvaF/OcKp9RQ8eUG4qDm51ZnGV3O4G5OeyvRaTz/blFKGLQ1y35B4T2Mf1RidULx+aZcd1SydCnOVr81y0L+c41b5S4bVW1PAu+/RnKFt+2JxZ2CDnEwx1S+dYnayjxz2j8PVLlBA/61CIs33d/ZRraF/OcqJ9DUftpVtZdTMf7ctpwpZWcJI5y+qsOJV+4azWx79v+Ppr1/aO3G+ai/blLKvtiy+YM75YPlzJRF0R0crStvloX04TskfOvSWemAHO4R6T1fWdeSyvGuK8Ap3VYWCpcP0y1+tgoH05z2r7UkepqEMOh3sNy3Z1xXy0LzcIGeRYXc4dHMjZKpVrknyRidlZFzqd7Z25P8nQvtxhpX11vTo0CoWDnC+ic2jrcYDrR0hle6EzH+3LDUKuR75582ZPr3PREZVow/F+2t4Wpf3dg8rvVUUBmhoO0Q1jS2hupIjGlwayPGYvvXRkB205+THt7ThOHQO9VFVcRtOrxtPNk+bQvFGNNKHc3o4nPDzs5N03ZPWeup+8knFPi2vm2S5le8sHzTm/GOX19iUqK+2LcYCHdR8CXLaLyddhONT1a5TzdZlsS3r5aF9uEK5Gzl97vXyScYA/1dyrhLce/769ParcxpcGaWV9GV0/tjijY26Vw3vNhy8o4W04pvz7e+cOKrcJ5TV039RFdNPES8gqdReWbMbiBmwuWDScV8925vwk83r7EpmV9sV44ayBpgPK7kBca9fX2znAe7a8pvTcs724no/25RbhgtzLX3vXN/cpIT6S430xevhANx3rK5MDffglNJ/cv5WeOLCVRnKsp5XWfPArOtrdqgS6VXzRsnuYJUPNTty2kNzAtcv1R3O/4L+fyyoHDw3Qnn398s9+ammJUW/fUGdj/LgQ1URCNGNaKc28sITKsvy2mI1s25eKS3Z84w8DdSgj98qtXlTPV/tyS4j/E4lEvkOCWLJkCc2dO5e85tVTA7SuKbur39w7/5RSZkl9qYJ74t/96GXKxnvnmqhaLrlcVGNxb8SSEgoWl1Dfzncpnx5rPpeX+qVX25cdHOAvvNxJW7Z1U/PRKHV2ShQdTDzPv585O6iE/Acf9SsBP2VyZt8Ws2W7fQ30K7VwvsVaz5FV+WpfbhHuYuesWbPIa7iHvb7ZWqN4eH9PUhlG9ciezWQF9+C5pm4V1yOtXJhyCq8N/crZDsoHL7YvO37zehc9/dM2Jcwz0do2qAT+fzzeQi1t7kxdL+T25RbhgtyLM+22y42fw9wKft+O9sGkx186ulMul1j76se1c74wagePRHF7Ekcq+7v7aV2z9Z6WXX6ayfnCyx30x3etjZHmQP/h+hY6ftKdGnKhti+3IMgd8MopezPDfn8uube05eQesoNLLHapGyfnCo/nvW/vcconvwQ598S3v99HdvT2SvTcLzpc65kXYvtyi6/37MyVE332Gvr+ruQe+bFuexdiPm6332D5wtLoR5/Kyddg/rrLJ5kfVqLLtx1ygFvtiZtxz/yFl9wpQ6B9OQdB7gGpauQdUXu9KSfx1+DI/Q8kTcZwQkc0Jn/VPevLr7v5wjVuJ3F93W7vfjhoX/b5cvNlcB7PrOOappOzN7mX9NSxVvTCHcS98Za2QXLa23IPf+7F2e0239U9SB/tbqeu+DfOMWNKaPbM1EsCo33ZgyB3wNSKEB3r839j4Vl03HPiscDK0qG7dma9oTL3kDacaqONJ9sR4C7Y/oE7Q+r4oif3zDMZlrhrdwdtfP4I7dqTXJIZO6aUrr5yNN24eByFwyHDc2hf1iHIHcAzNN84l9nwLj9QTzjGa1vwCccz73hmHZ946mQProHyhgJ8QatU7m3xjLz5191M4A6+OJnpMEMrOMxHCvINzx+VQ/xo2udPne5TXrNl2xlau2YGjR2dvIM92lf2EOQOuGpUsTKp53gB9MrN+OtwPoaRQTK3hgpqxz8xfMlmpBDX40Bfs3ZP2jBXoX1lBhc7HfLg1HICyCfukbupdZja+1A5JbMQV3GYP/7EJwT2IcgdMre6CGEOedWbx2+Ej//IWiDv2tOu3MAeBLmDrpevyv/6U1Vp104B8KODh7qV3rVVGzcdI7AHNXKHcYhzmPOCWG+cjSqTfToGJeqMSsO+B8CucXXuLHSlKitLvSpiqtEp2Th4qIvAHgS5S7jUwjeAXBlfFyKKtVFP78jjyAPBEJWWVCo/M8XL3KZipzfOeLw5H4OHJoI1SBoAHxk3LkgH/prB9Hw56wcH+ykcPo8Cgcy+EU5pTN3j7+ryx+YMIkOQAzhsz942ev7Fw3T6TC9xQY0LEpJ6T0o8wj+Vx3VVN4mfD8RLGBLFXx9/i+5Xw3t0v3NvvLsnqr126FABObR7Kdp3hIqKA1RXN5OKS8IkxQYpGu2h4uIKGsmM6SVUG0kd+E70pNEbtwdBDuCgbW+dpB89s58S+ZxIXMkUvgHtMckQxtpdXeYnBX7SnfiHgPn92nPFFCiaQt1du+ngJ3+gKed/VgnzwcGoHOQ0ouuuSb+lH0+7z3bood6UyWECewo+yHnBqt+cHqC/tEVpX5fza1SoKkMBmlAWVCYPZbpXZy7wLkRbT+6hP8eXva0qKqMJ4Rq6uu5CW/t/FqrXfncsEbyagDFk9Z1zfqXye6LfrgV4/L7+verxyPRY0mtS9fLlH8Ulk6ivZze1nDtIY8dltonG5fPL0/bG2ewZVVQRLpJr3dZKLDcsdn6xrEJT0EH+xrkorT3QnXaHHqftly/q8FT+9c1BZcx5Pi+G8nrlvMdnqs0r9nYcV8L9if1b6eszrqNFcqhDZpoO6/ailNQf8b65LqC14NVKJVJSL1wLef3hTF1tSVd6Ue4aAjzxM6AePzg0i7K3N7Ox2+Priui6z41celm2ZAI985PDlC0uqfAHAdhTsOPeeKPkr3/clbMQ1+Op/Pft6qJXTuVnfRbePWjFn54ZcQci3tB51fafK4EOmVMDVZ+rkj6wJdOTZArh+GukdM+TlNQDl2KUuvRCnPEBY909QxziK+6OZPTaG68dJwdyNWVr+V0NqI87oCCDnDdKfqo5/xuv8rcBHm+eS3vbj9OaD3+V1XuePLDVkR2HCkJyR1sXyBJJUtq3qK8gfWddf73T/Hop3ss2X/+UyPgmSRf8meY4l1M4xMtKA5SpB/51qlzvHrn3ruIQnz+vlsC+ggtyOxslu4E3X86lVds3kBVrPnjB1obOhUIfpokLmal72FrIS4nXJCWtVkqRtP/Tevta0idelui5J/fApQxSnFc3XHFXRCmnZBPirCIcov/83ixadtvEYV/HpZS135qhLGULzii4GrmdjZLdwH8X7pXnol7OdW+rGzpzmYVLMnc2XkaQnpa78d+Mv1PS72nr4AEy9u7NgRww/U7x65nxD4yAOrQx/l61P15ZUUrX3fIZOtcyQMHiChozupKqqsqVyUQzppdmHd6p3CEHOa85zjM+m5q66OChHrl8UqIE/afnjaLZM1ETd1rBBbndjZLdwLXyXAT5lpMfkx1cXkGQZ0JXxkgTxqnKLIaAVkerpAt0KU3Amy6w6kOcD1ZRUUZf/Ef3/w2VDSS49i0HOriv4IKcR454zf6u3Pyd9trckNmJDZ19TzL3ws2TfiQtsBsnVyq3lCWPVCGeOITh/sFDnfRJU4fhsaRDSgFDrRz8peCCPB+jVEaSq7+TlzZ09qvkXrjxoqP+hZfOPY9uv7WR7NqwqUkO8k4yfBMw/IUoUVtHkPtSwQV5VVHAc2HOf6fkx+wNyaoqLiPIA2PnW7sjUWCYMosDf2w8oAPaXyJg+OBQn+/q6qOf/fxNKi4pp0hNPQWDRVRUZL2tDAxEqau7h/r7rY++On9yWK6dY/SKHQUX5LxR8vY2by3yw38nswsj42lvR3Ybz+pNLHf+xLiwejzB8MwXIrXH1N6yS30IdV5ozPQpIhlmIRF1dvbKQf4uhSvOo4bGUioqLqeysszGiqczMCDR4cNnqLfP+jc+rqmv+97spA2ZITMFF+QLRxV7Lsj572TG0+NfPLKDrHJjNiZmeGbIVM7QPWR40bvvnaFTp3uNb4u/cNltjXK4JXrKu3a30pY3TpA2pEVKlGqa5Bq5ZBrqon14aK/TB7uziouLqKGhjvbtz35mp0rZlHnTEVp+92SC7BVckF83plgZR+6V8gpvKnHlqOR/hnmjGmmC3Ku2MlxwQnmN4+ukuHFMf0ozGsXw+9ADykVK+aYtnqUukCXfFl05zhDkHPhb3jhuvgaqHGtoqCFpF0j149HVCUYB3X03cJiXlZbIvXLro8K2bDuDILeo4CYEcT169RTv1I//fUb6mXBrL/oCWcHrozjNjWP6kXlMePKsTCnpteafpOtBG48tGUI86Zi6ENdPHgqQfny5e0Ihe3HS5cERZaIoyCn6vLfmyvr8h/mDF4Rpajj9PwH3ytdedCtl4ytTFzleAnHjmL4VSA5wSS1uaCFr7IETJcaAD1/6CCTKL/pZoPH3xWK6UoqUeIk2q5Rfg1ErvlSwqx/eW18qlzUCyuJZuZ7pyeWUTFc/vGniHJpeNY5Wbf/fYcssXPrg0Ofwd4obx/Q7SdeUDCscBnRDA809cH22avdTXjE1Br2krauo9bxjUvJIlZTDEsFXCnoZ2+vHlii3V0/107ZzUTomB3qni7XzuZEiZS3ybGdxTq8eR5sXrqaXju6krSf20NGeVm3dk0vlkF1UN4PmndeorCU+HA7mTGRzTEgtcaFT2xkieTVD0zt4yKB+nfKkV+jCPKCbaGTcfSjR61eD3lgfR5z7EXYIokSgex33zvlm1dPzv0TgLv3UeO33tBc/peTfJUp7QTKx9Lhplqak/kmSYblc/d9J0so2kqt1csgPBDmAgwK63YBMQ7h1gT70hJR81XKE/vLQszHJ9H79ErXx52KGlbTQD/c7BDmAg8zL1SbKHNp/tNcFAgHDBVDjG0zH1Z7Sl1fioa47tv6/8RcaSjLokfsTghzAQcOPITft3RlLit30vWfJuBY5S/S6yTi+PL7QeaLDrv8AIfAhBLms7+3d1P27v1Dv23so1t417GuLJo2huo3fomyPye8rmTWZwtfMo9IFM8iK6Nn3qO/EFho48x5J0Q5yQ6h8AgXDE6hk3NXybRGBdYaLi9qFT/1z2m/GAE9VJ9dfBDVdzBy6myK40zwG/lPQQc5he+7hn1H/7kNZvCtg6ZjRI2eo95091P70a9qHQdGkzNZqHmzfS127HqEBOcjdFus+RnRW/v+j+SUl0KsuXktFo+cRZCapjGIum5B59IoxWNOPWCFdLVw/uUdKOl5SD9x04RP8p2A3X+765TY6cce/ZRnizhwzeuQ0Hb3iX6jzl3+gkfTLgdr2xxU5CXEzDvW2t1dQz94nCDJkCOIAmXvhiV61qYYi6UI3TdZqIR1/iZbR8TuSaQy5WhMfmqSUvFsR+EdBBjn3ms987UfkJCvHbHn4J8OGfqznGHXsXEPSgDtllEx173uS+k9sJchEotctSZJu6J/++UA8iOOhrNW/dXt3pjgsPxpTZ2cqQR3TAtt4QZNI669rzxNhLXL/KsggP/O1/yGnWTlmrL2bWh76adrnuSfuFZ38gRLN7weKCIY6wYkxh8YRLMZAlfQXMCVTj9mUuRJRih43aSNZlNn5MUk3VV8f4KT7HWHuRwUX5F2btimlDa8ck+vmffLNjHvASr3aI/hbAdfNYWRagJofM5RZzL3xRO95pPVQ9OPUdZcztfupZnIavhCA7xRckHf/9i/kNLvH7P5tcv27/8QW8pr+4977O3mOpBZPhn7RLymrprtkWtxKDXFtlImU6pJkqhJKih5+/INADfGh52OJ9yPJfangRq043Rt34pi9KXrkXuqNq6LtewmGp/Z/Y9LQLM+h+xIZR7EketRkGk443HHNpRXDnynpj8kfFjHd+uZSfIan5O46tpA3BRfkI40Tz8cxuVZuNtjjvSDP90VXIUhqfzxRMkkKcVMnnUyhbCqGpPgjJMNP7TgkmZ7XHWbokwU1cp/ChKAsBavDlAvB4irK7eK6IwvIfycYnhbC+vq1OcAlXVRL+vp1Ylnan204QGPHlGvHPXGym9T9NyXtwyL+gaGFNOn+vMQfIBk+NcCPCi7IS2Y2KpNzrMp0Eo9dRdUXUrTNW6WMourpBCMz9Ih1SW1YnZDS9ayH7r//4TlDnVvdDi6gHSxeLw8kPhwSr0scL2a46srruyDM/ajgLnaWWZweryq/JjezHIs9OD2+tP5mguEZyxqSNrJE0ge6lDzu2/yYevEz/g6tzq4fN648EjPVxvUjWiTdOJkUHxrgHwUX5BVLr5TLIxVkBU+tr5Tfnwu8zkkoPIG8gv8uxedhqv6I4gGaGIGiPkaGcE45iUcy3SdTqJtLNKSre+uGM+prNkPvj5FEiXHlXlURDhFYU3BBzjXu2m9/kawYZfF9VlXMWUteUXr+F5W1V2B4+in0Wo2aEsGu9c7JHOaJ0ktiRmhMu2Cp79XrSymJ1yf+7Fj8ffpSTuIzxLtJPnZMKYE1BTmzs3LJlRRZfVtW76mRX5+rsoqKe8Dh6fdRvoWnf4XKp9xJMDJ9L9owPV7fI47p1kwx9biJUpRc4g/rA1sL81i8fBJLlFvUK58xST/23Ps98sbJuRlI4EcFO2qlZtWtVCxfuGxd98Kw48C5DDP60S/nPMRV5dO+QiH5ImP3R4/QYI7HlvMolXL5gwQhngVdUqp9cG03H/1oFe15MpRM1MeTL4rqZmpKpqPoSy2S6bjm5PZwks+eWU1gTUEPP6yQe+a8NjhPke/85Tbq3304vnb4aKUezuFdqdTU89tT4Ho533iKfF/zi8rEHLfGdHN48+iUotGXKgGOIYfZmT2rlj7YdS7+WyJ8JV2NQ4tSXejqQ1oyvFf3HnX4oVqqMYS9brCqPti15+P3A73klsFB6wNmuaxy9ZW5GRHmRwU/jpwDu2jJGCXUva60/iblBt51yw0NcpCfTRHCKXrg2kt0Ya4OKdT34A0ll1jiMX5dTH+coWOpW8gN3SfDiJZArEm+V0ZuGIhGySqEuD2YEATgoMvmj6U1D1xCv375kDKJR08NZ31v2RCypCuY6EavsN7eQTrX0qL7EAgM1cX1L4ofMKb/VX2NJPfE5RAPhnqIgzwYdPbU59641R4598ZvWFxHYB2CHMBhl8thzjcnnT7TTTd/4RtkRyAQpLLysXKYF1E4XEtO6u3rI6u++k/nU0UYUWQH/tcDEMCY0WGaOnUmNTcfJSuCwRCVlFZSSUmlHObV8u/FyuOhUAk5oT3FekGZuOO2ifJFTlyHsQtB7lHtf1wx7MJZgaIqZT2WUGQ6ldZdjX01C8A1n/ssvfrabnIKh3lxcTk5oaMj+4Xjlt/VQDcuHkdgH4LcozjER1rKdlC+8V6evZ88p0zWiVz+NAXLMWnHrxbM/xt67fX9ZBdfDK2qHk/lDpVXurp7aGAg8wuds2dU0fK7J9MUjBt3DILcJzj0W/5vMVXOWYuRLT71N+eX099ePJn27mshO7gXXh2ZqNTMnTD3ojIKSGE6eGj48goH+KKrxmCEigsQ5D7De2uG5F45Si3+dMsNF9B/P/lXsqq4uIwqKsaQU2oiIbrrjlr5NoZOne6Tw7xHvnXR6dNDFz/HjCmlutGl9OlLa3BB00X4X9aHOt5fQ7V/t5nAf6ZdUE2XXHy+HJYD5AVXX5koj/AwQr7Nn1dDkFsFudaK33GZhTdvBn+67aYqKivN/55tl1xcRnMvxkJXXoAg9ynseO9fNZGg3BO2thSzc3+HkKE3DvmFIPepaPvHBP51+fz89obvvL2aaiOID6/AvwSAoG69sYqmTC6mXOM/d3wdNoHwEgS5B6RaXTGIVQchA3curaYZ03LXM+cQR13ce4QL8vb2dvIa3tDZjlQbOvPmy3aEMDHIEi+2r+GUlQXkMkeV6/Vqron/88pahLhHIcgd4MaGznY3X/biRslHjhwhrxMtyFUc5LfJveXaiPMlDy7f3P/lGs+XU0RoX24RLsh373ZurQmnuLGhM2/zZnXzZa9ulNzc3Exe58X2lalL5N7yirsjjvXOOcBX3BVRbl4Y7jgSEdqXW4QLci/+Y3GNu2b1rWRFug2deWceq5svl0+7z5MbJYsQkqKHwdDQxDB97aujLPfQ9QGej4upVon8IWyXcDM7vfqPVbX8Whps76a2dc9n/J6RNnRWN1/u3vsEZYo3SvbqWit79uwhr/NLGHCgcw+db8dPDCozQfnW2jZILa2D1Ns3tPtEbU1QqX+PH1eklE5mTC8Vovedigjtyy3Kv1hDQ4N3d2Q1qa6upg8//JC8qmvTNsc3dObJPT37nhh282URNkq+4oorPF/H9Hr7gvREaF9uEa5Hzhej3nnnHVqwYAF5UboNnTm8S2Y2WNrQmXvY3DvnJWv1my+LtFEy93RFudjp5fYFqYnSvtwi5KJZb7/9tqdPNDc2dOaad2lY3M2Xn3nmGRKF19sXJBOpfblByAlB/I8m6jCxQsXhKAq0L/GI1L7cIGSQ80n29NNPE4hh06ZNQn3tRfsSi2jtyw3CXexU8UWpt956S/kJ3ibiRSi0L3EU8kVOlbBrraDXJIZ169YJeZKhfYlB1PblNGF75KrNmzfTzJkzCbyHTzDuLYkM7cu7/NC+nCL86ocrV67EhSkP4n+TZcuWkejQvrzJL+3LKcr83Ugk8h0SFP+Dnj59mj7/+c8TeMf9999PO3bsINGhfXmTX9qXU4QPcqZOq77ssssI8o/rls899xz5BdqXt/itfTnBF0HOeDYew8mWX3ySPfbYY+Q3aF/e4Nf2ZZdvgpzxyca9p4ULF1JpKRbAzyUuQXzzm9/09Qw7tK/8KYT2ZYfwo1ZSmTRpEm3cuFH5Ce7jcOOLgoUyDAztK7cKrX1Z4cs9O9VhSfw1DNzDvST+33jx4sUFdZKhfeVGobYvK3zZI9fjXtOqVato6dKlBM5QJ8tgTRK0LzegfWXP90Gu4hOOV7Rbvnw5zZo1iyB7vDAR14lxgiVD+7IP7cu6gglyPfWk4xl7fNJNnDiR6uvrCYbwSdTW1qbsuMJbn3GN8vXXX8fJlSG0r+GhfTmvIIMcAMBPfHmxEwCgkCDIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHBqkDcRAAAISQ3y9wkAAISkBHkwGPw9AQCAkNQe+bPyrZUAAEAogUCgSQnypqamVrlX/iUCAAChyEH+UEj9pbW19eNIJFIr311AAAAggocOHTr0WEj/SFtb22tymAfkuwsJAAC87L8OHz78AN8JmZ+Rw/z3tbW1h+S7c+RbDQEAgJdwKfwfuCeuPhAY7tWNjY33SJJ0M9+Vf84hAADIhya5Fr5Tvr0h33+Wr2vqn/x/ww4N78LUCQYAAAAASUVORK5CYII= 2x",alt:""}),n.createElement("div",{className:os},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging")),n.createElement("div",{className:oo},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_description")),n.createElement(oK,null))))}function oK({}){let e=(0,r.wA)(),t="install-messaging-dropdown",a=(0,a6.Um)(),l=n.useRef(null),i=a?.type===t,o=[{displayText:(0,p.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_slack"),callback:()=>{e((0,ad.RK)({rawInput:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info"}))}},{displayText:(0,p.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_teams"),callback:()=>{e((0,ad.RK)({rawInput:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8"}))}}];return n.createElement(n.Fragment,null,n.createElement("div",{ref:l},n.createElement(S.$n,{variant:"primary",onClick:()=>{i?e(eb.oB()):e(eb.j7({type:t}))}},n.createElement("span",{className:"configuration_wizard--installButton--PPj7O"},(0,p.tx)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install"),n.createElement(td.B,{svg:oH.A,className:"configuration_wizard--chevronDown--P7ECL"})))),i&&l.current&&n.createElement(oG.j,{items:o,onSelectItem:t=>{t.callback&&t.callback("",null,e)},dispatch:e,parentRect:l.current.getBoundingClientRect(),showPoint:!1,lean:"right"}))}var oz=a(94823);function oW(){let e=(0,r.wA)(),t=(0,F.am)(),a=[{theme:"system",title:(0,p.t)("fullscreen_actions.theme.system_theme"),checked:"system"===t,onSelect:()=>{e(oz.Qh({theme:"system",userInitiated:!0}))},ModeSvg:oY},{theme:"light",title:(0,p.t)("fullscreen_actions.theme.light"),checked:"light"===t,onSelect:()=>{e(oz.Qh({theme:"light",userInitiated:!0}))},ModeSvg:oj},{theme:"dark",title:(0,p.t)("fullscreen_actions.theme.dark"),checked:"dark"===t,onSelect:()=>{e(oz.Qh({theme:"dark",userInitiated:!0}))},ModeSvg:oq}];return n.createElement("div",{className:i9},n.createElement("h1",{className:ou},(0,p.tx)("dev_handoff.configuration_wizard.theme_step.title")),n.createElement("h2",{className:om},(0,p.tx)("dev_handoff.configuration_wizard.theme_step.description")),n.createElement(iX.z,{value:String(t),onChange:t=>e(oz.Qh({theme:t,userInitiated:!0})),className:oa},a.map(({theme:e,title:t,checked:a,onSelect:r,ModeSvg:l})=>n.createElement("div",{tabIndex:0,role:"radio","aria-checked":a,key:e,onPointerDown:r,onKeyDown:e=>{"Enter"===e.key&&r()},className:O()("configuration_wizard--modeOptionCard--0rFq6 configuration_wizard--preferenceOption--OkUN2",a&&or)},n.createElement("div",{className:"configuration_wizard--modeImage--TZBtz"},n.createElement(l,null)),n.createElement("div",{className:os},t)))))}function oj(){return n.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Design"},n.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),n.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"#E5E5E5"}),n.createElement("g",{id:"Group 14125"},n.createElement("g",{id:"Group 14124"},n.createElement("rect",{id:"Rectangle 52",x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("ellipse",{id:"Ellipse 278",cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),n.createElement("rect",{id:"Rectangle 53",x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{id:"Rectangle 59",x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),n.createElement("rect",{id:"Rectangle 55",x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{id:"Rectangle 57",x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{id:"Rectangle 60",x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"})),n.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"})),n.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"white"}),n.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"white"}),n.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),n.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),n.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),n.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),n.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"}),n.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#14AE5C"})))}function oq(){return n.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Design"},n.createElement("rect",{width:"120",height:"80",fill:"#383838"}),n.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"black"}),n.createElement("g",{id:"Group 14125"},n.createElement("g",{id:"Group 14124"},n.createElement("rect",{id:"Rectangle 52",x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("ellipse",{id:"Ellipse 278",cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),n.createElement("rect",{id:"Rectangle 53",x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{id:"Rectangle 59",x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),n.createElement("rect",{id:"Rectangle 55",x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{id:"Rectangle 57",x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{id:"Rectangle 60",x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"})),n.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"})),n.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),n.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#198F51"}),n.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),n.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),n.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),n.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"})))}function oY(){return n.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"120",height:"80",fill:"black"}),n.createElement("rect",{width:"120",height:"80",fill:"black"}),n.createElement("rect",{x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("ellipse",{cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),n.createElement("rect",{x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),n.createElement("rect",{x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),n.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),n.createElement("rect",{width:"26.0423",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),n.createElement("rect",{x:"92",width:"28",height:"80",fill:"#1E1E1E"}),n.createElement("rect",{width:"120",height:"8",fill:"#1E1E1E"}),n.createElement("rect",{x:"8",width:"8",height:"8",fill:"#198F51"}),n.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("rect",{x:"96",y:"42",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{x:"104",y:"42",width:"13",height:"2",rx:"1",fill:"#009951"}),n.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),n.createElement("rect",{x:"96",y:"37",width:"16",height:"2",rx:"1",fill:"#FC9CE0"}),n.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),n.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),n.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),n.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"}),n.createElement("mask",{id:"mask0_3979_274036",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"8",width:"120",height:"72"},n.createElement("path",{d:"M120 8V80H0L120 8Z",fill:"#C4C4C4"})),n.createElement("g",{mask:"url(#mask0_3979_274036)"},n.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),n.createElement("rect",{width:"120",height:"80",fill:"#E5E5E5"}),n.createElement("rect",{x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("ellipse",{cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),n.createElement("rect",{x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),n.createElement("rect",{x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),n.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),n.createElement("rect",{width:"26.0423",height:"80",fill:"white"}),n.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),n.createElement("rect",{x:"92",width:"28",height:"80",fill:"white"}),n.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),n.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),n.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),n.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),n.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),n.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"})))}var oX=a(70964);function oJ(){let e=(0,E.J)(),t=(0,b.tS)()??"",a=(0,u.Rs)(C.oBY,{key:t}),r=(0,v.M)();return e&&a?.data?.file?.hasPermission&&r?n.createElement("h2",{className:"configuration_wizard--gracePeriodWelcome--16eIy text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.description_grace_period",{numDays:r.totalGraceDays})):n.createElement(n.Fragment,null,n.createElement("h1",{className:ou},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.title")),n.createElement("h2",{className:om},(0,p.tx)("dev_handoff.configuration_wizard.welcome_step.description")))}function oZ(){return n.createElement("div",{className:i9},n.createElement(oJ,null),n.createElement("div",{className:"configuration_wizard--welcomeVideo--PNKpG"},n.createElement(oX.GV,{src:"https://static.figma.com/uploads/ea250827f5a3454fccafb18ae2f37229cd406810",width:444,height:278})),n.createElement("div",{className:ot}))}var oQ=(e=>(e[e.WELCOME=0]="WELCOME",e[e.CODE_LANGUAGE_N_UNIT=1]="CODE_LANGUAGE_N_UNIT",e[e.THEME=2]="THEME",e[e.INSPECT_PLUGINS=3]="INSPECT_PLUGINS",e[e.INSTALL_INTEGRATIONS=4]="INSTALL_INTEGRATIONS",e))(oQ||{});let o$={0:"welcome_step",1:"code_language_step",2:"theme_step",3:"inspect_plugins_step",4:"install_extensions_step"},o0=(0,tR.sL)()?[1,2]:[1,2,3,4];function o1(){let e=(0,i.md)(g),[t,a]=ee(),l=(0,r.wA)(),o=(0,b.tS)()??"",s=(0,u.Rs)(C.oBY,{key:o}),c=(0,E.J)(),{isShowing:m,uniqueId:p,show:_,complete:h}=(0,y.e)({overlay:T.tb3,priority:w.N.HIGH_PRIORITY_MODAL},[e,s]);return(0,d.h)(()=>{c?_({canShow:(e,t)=>!e&&t?.file?.hasPermission!==void 0}):_({canShow:e=>!e})}),(0,iR.E)(p,"Reset Onboarding",()=>{l(J.b({[f]:!1})),_()}),(0,n.useEffect)(()=>{m&&a(!0)},[m,a]),n.createElement(e$.M,{isShowing:m,testId:"dev_handoff_config_wizard"},n.createElement(D.fu,{name:"Dev Mode Configuration Wizard"},n.createElement(nc.Nb,{hide:h,size:"fitContent",disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,noPadding:!0},n.createElement(o5,{dismissModal:h}))))}let o2=()=>{let{pinnedPlugins:e}=(0,iJ.VR)();return e.length>0};function o5({dismissModal:e}){let t=(0,ec.U)(),[a,l]=(0,n.useState)(0),i=(0,r.wA)(),o=o2(),s=n.useRef(null),c=(0,eT.ru)(),d=(0,e_.q)(),m=(0,b.tS)()??"",_=u.Rs(C.oBY,{key:m})?.data?.file?.hasPermission,g=(0,b.q5)(),h=(0,eM.ol)(),E=(0,u.Rs)(C.kQI,{id:h?.id||""},{enabled:!!h?.id}),y=d&&c(g,!!E.data?.team?.hasPermission)&&_,v=()=>{s.current&&s.current.focus()};n.useEffect(()=>{v()},[a]);let w=n.useCallback(()=>{e(),i(J.b({[f]:!0})),o&&i(J.b({[ac.xb]:!0}))},[i,o,e]),k=n.useCallback(()=>{l(a+1)},[a]),x=n.useCallback(()=>{l(a-1)},[l,a]),T=0===a,N=a===o0[o0.length-1];return n.createElement("div",{className:O()("configuration_wizard--wizardContainer--gss4b",tu.Dm),tabIndex:-1,ref:s},n.createElement("div",{className:"configuration_wizard--closeButton--pv-0K"},n.createElement(t3.K,{onClick:function(){w(),t("dev_handoff.config_wizard.closed",{step:a,stepName:o$[a]})},"aria-label":(0,p.t)("general.close")},n.createElement(iY.A,null))),n.createElement("div",{className:"configuration_wizard--sidebar--g-2b8"},y?n.createElement("h1",{className:"configuration_wizard--sidebarHeadingTrial--tkxTS text--fontPos24WhyteInktrap--pgrWi text--_fontBaseWhyteInktrap--YiiGP"},(0,p.tx)("dev_handoff.configuration_wizard.title_trial",{lineBreak:n.createElement("br",null)})):n.createElement("h1",{className:"configuration_wizard--sidebarHeading--xnYnE text--fontPos32WhyteInktrap--BG9sC text--_fontBaseWhyteInktrap--YiiGP"},(0,p.tx)("dev_handoff.configuration_wizard.title")),n.createElement("h2",{className:"configuration_wizard--sidebarSubheading--ta8gQ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)("dev_handoff.configuration_wizard.subtitle")),n.createElement("div",{className:ot}),n.createElement(o3,{step:a,setStep:l,disabled:0===a})),n.createElement("div",{className:"configuration_wizard--content--hktpZ"},0===a&&n.createElement(oZ,null),1===a&&n.createElement(oN,null),2===a&&n.createElement(oW,null),3===a&&n.createElement(oB,null),4===a&&n.createElement(oV,null),n.createElement("div",{className:"configuration_wizard--footer--YjGGh"},T?n.createElement(n.Fragment,null,n.createElement("div",{className:oe},n.createElement("div",{className:ot}),n.createElement(S.$n,{onClick:k,variant:"primary"},(0,p.tx)(`dev_handoff.configuration_wizard.${o$[a]}.next_text`)))):N?n.createElement("div",{className:oe},n.createElement("div",{className:ot}),n.createElement(S.$n,{variant:"secondary",onClick:x},(0,p.tx)("general.back")),n.createElement(S.$n,{variant:"primary",onClick:function(){w(),t("dev_handoff.config_wizard.done",{step:a,stepName:o$[a]})}},(0,p.tx)("general.done"))):n.createElement("div",{className:oe},n.createElement("div",{className:ot}),n.createElement(S.$n,{variant:"secondary",onClick:x},(0,p.tx)("general.back")),n.createElement(S.$n,{variant:"primary",onClick:k},(0,p.tx)(`dev_handoff.configuration_wizard.${o$[a]}.next_text`))))))}function o3({step:e,setStep:t,disabled:a}){return n.createElement(iX.z,{value:String(e),onChange:e=>{a||t(Number.parseInt(e,10))},className:O()("configuration_wizard--stepPicker--Ffab-",a&&"configuration_wizard--disabledStepPicker--Ib2IX")},o0.map(r=>{let l=r===e,i=()=>{a||t(r)};return n.createElement("div",{tabIndex:a?-1:0,role:"radio","aria-checked":l,key:r,onPointerDown:i,onKeyDown:e=>{"Enter"===e.key&&i()},className:O()("configuration_wizard--stepPickerOption--5Iqtt",l&&"configuration_wizard--selectedStepPickerOption--wndji",a&&"configuration_wizard--disabledStepPickerOption--9tTeN")},n.createElement("div",{className:"configuration_wizard--stepPickerOptionNumber--3GVYZ text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI"},`0${r}`),n.createElement("div",{className:"configuration_wizard--stepPickerOptionText--KmSjp text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},(0,p.tx)(`dev_handoff.configuration_wizard.${o$[r]}.picker_title`)))}))}var o4=a(933992),o6=a(179220),o7=a(176572),o8=a(448169);let o9={top:"ns-resize",bottom:"ns-resize",left:"ew-resize",right:"ew-resize"};function se(e){let{onSizeChanged:t,onStateChanged:a,edge:r}=e,l=n.useRef({isResizing:!1,lastX:0,lastY:0}),i=n.useCallback(e=>{a?.(!0),l.current.isResizing=!0,l.current.lastX=e.clientX,l.current.lastY=e.clientY,document.body.style.pointerEvents="none",document.documentElement.style.cursor=o9[r]},[a,r]),o=n.useCallback(e=>{l.current.isResizing&&(t({x:e.clientX-l.current.lastX,y:e.clientY-l.current.lastY}),l.current.lastX=e.clientX,l.current.lastY=e.clientY)},[t]),s=n.useCallback(e=>{l.current.isResizing&&(a?.(!1),l.current.isResizing=!1,document.body.style.pointerEvents="auto",document.documentElement.style.cursor="auto")},[a]);return n.useEffect(()=>(document.addEventListener("mousemove",o),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s)}),[o,s]),n.createElement("div",{className:O()("resizable--panelContainer--35Ay7",tu.Dm),style:{width:e.size.width,minWidth:e.size.width,height:e.size.height,minHeight:e.size.height},ref:e.forwardedRef},n.createElement(o8.V,{className:"resizable--content--gsGWd"},e.children),n.createElement("div",{className:O()({"resizable--edgeDisabled--K1j0X":e.disabled,"resizable--edgeTop--vG5Ad resizable--edge--H5-yq":"top"===e.edge,"resizable--edgeBottom--bN-R0":"bottom"===e.edge,"resizable--edgeLeft--nRRyA":"left"===e.edge,"resizable--edgeRight--ZGbad":"right"===e.edge}),onMouseDown:i,onDoubleClick:e.onReset}))}var st=a(428654),sa=a(356390),sn=a(543841),sr=a(601607),sl=a(876680),si=a(393812),so=a(187882),ss=a(412371);function sc(){let e=(0,eJ.dP)(),t=(0,o._I)(),a=(0,ev.l7)(),r=(0,so.n0)(),i=(0,ss.K)();return n.createElement(sl.yD,{recordingKey:"pagesPanel",isReadOnly:!0,width:e,pagesList:r,hasTeamLibraryUpdates:!1,activeTab:l.xae.LAYERS,showTabs:t,disableCollapsing:!t,isDevHandoff:!0,isDevHandoffOverview:a,isComparingChanges:!1,onPageContextMenu:i,ignoreVerticalFlex:!0})}var sd=a(786110),su=a(860168);let sm="dev_handoff_layers_panel--hideCaret--JgPdQ";var sp=a(432023);let s_=(0,n7.jz)(su.KAq),sf=(0,n7.jz)(su.tUy);function sg(e,t,a){let n=[],r=[t];for(;r.length>0;){let l=r.pop(),i=e.get(l);if(i&&(l===t||a(i)))for(let e of(n.push(l),i?.childrenGuids??[]))r.push(e)}return n}function sh(e){return!!e&&e.isAlive()&&"INSTANCE"!==e.type&&!(0,sd.vY)(l.w3z.getAssetInfo(e.guid),!0)}let sE=(0,ag.eU)([]);function sy({inspectableRootNodeId:e,page:t,didSelectRow:a,hideHeader:o=!1}){let s=(0,r.wA)(),c=(0,au.eY)(),d=(0,eo.uQ)(),u=(0,eo.NM)(),m=e||t,[p,_]=n.useState(()=>0===l.glU.nodeStatusesOnPage(t).length||o),[f,g]=(0,i.fp)(sE);n.useEffect(()=>{_(0===l.glU.nodeStatusesOnPage(t).length)},[t]);let h=n.useCallback(()=>{g(()=>[m])},[g,m]),E=n.useCallback(e=>{g(t=>[...t,...sg(c,e,sh)])},[c,g]),y=n.useCallback((e,t)=>g(a=>a.includes(t)?a.filter(e=>e!==t):e.altKey?[...a,t,...sg(c,t,sh)]:[...a,t]),[c,g]),v=n.useCallback(e=>f.includes(e),[f]),b=function(e,t){let a=(0,au.eY)();return n.useMemo(()=>{let n=[];if(t){let r=a.get(t)?.parentGuid;for(;r&&r!==e;)n.push(r),r=a.get(r)?.parentGuid}return n.push(e),n},[a,e,t])}(m,d??"");n.useEffect(()=>{g(e=>[...e,...b])},[b,g]);let C=n.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault();let{clientX:a,clientY:n}=e;s(eb.j7({type:tu.i,data:{clientX:a,clientY:n,guid:t,expandElement:()=>E(t)}}))},[s,E]),w=(0,au.KH)(),k=n.useMemo(()=>{let t=o?[]:["header"];return p||e||u?[...t,...function e(t,a,n,r,l,i,o){let s=a.get(t);if(!s)return[];let c=t in n,d={nodeId:t,indentation:l,isSelected:c,isAncestorSelected:i,isRoot:o};if(!r(t))return[d];let u="CANVAS"===s.type,m=s.childrenGuids.flatMap(t=>e(t,a,n,r,l+(u?0:1),i||c,!1));return u?m:[d,...m]}(m,c,w,v,0,!1,!0)]:t},[e,v,p,m,c,w,u,o]),x=n.useRef(null),T=(0,o6.Te)({count:k.length,getScrollElement:()=>x.current,estimateSize:e=>0!==e||o?s_:sf,overscan:10});return n.createElement("div",{ref:x,style:{height:"100%",overflowY:"auto",overflowX:"hidden"},"data-testid":"devHandoffLayersPanel"},n.createElement("div",{style:{height:`${T.getTotalSize()}px`,width:"100%",position:"relative"}},T.getVirtualItems().map(t=>{let r=k[t.index];return n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`}},"header"===r?n.createElement(sv,{forceExpanded:!!e||!!u,isExpanded:p,setIsExpanded:_,collapseAllLayers:h}):n.createElement(sd.O5,{key:r.nodeId,guid:r.nodeId,toggleExpanded:y,isExpanded:v,openContextMenu:C,didSelectRow:a,indentation:r.indentation,isSelected:r.isSelected,isAncestorSelected:r.isAncestorSelected,isRoot:r.isRoot}))})))}function sv({isExpanded:e,forceExpanded:t,setIsExpanded:a,collapseAllLayers:r}){let l=[{displayText:(0,p.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>r()}],i=(0,tV.GS)(),o=`devHandoffNodesPanel.caret.${t?"forcedExpanded":e?"expanded":"collapsed"}`;return n.createElement("div",{className:O()("dev_handoff_layers_panel--layersListHeader--gQFn- text--fontPos11--2LvXf text--_fontBase--QdLsd",{"dev_handoff_layers_panel--bottomLine--v9zno":!(e||t)&&!i})},n.createElement(I.E,{className:"dev_handoff_layers_panel--layersListHeaderButton--MlUHF",onClick:()=>!t&&a(!e),actionOnPointerDown:!0},n.createElement("div",{className:"dev_handoff_layers_panel--layersListHeaderButtonContent--qRCB5"},i&&n.createElement("span",{className:t?sm:void 0,"data-testid":o},n.createElement(sl.gC,{isExpanded:e})),!i&&n.createElement(td.B,{className:O()("dev_handoff_layers_panel--expandCaret--2ZbrU",{[sm]:t}),svg:e?th.A:sp.A,dataTestId:o}),n.createElement("div",{className:"dev_handoff_layers_panel--layersTitle--sU99L text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,p.tx)("dev_handoff.tag.layers")))),(e||t)&&n.createElement(sb,{dropdownItems:l}))}function sb({dropdownItems:e}){let{Dropdown:t,toggleDropdown:a,dropdownTargetRef:r,isDropdownShown:l}=(0,tX.B)("LAYERS_PANEL_DROPDOWN");function i(e){e.stopPropagation(),a()}return n.createElement(n.Fragment,null,n.createElement("div",{ref:r},(0,tR.kc)().dt_fpl_migration?n.createElement(tA.d,{"aria-label":(0,p.t)("dev_handoff.code.options"),toggled:l,onClick:i,htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.code.options"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(tL.J,null)):n.createElement(a9.YW,{svg:r3.A,onMouseDown:e=>e.stopPropagation(),onClick:i,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.code.options"),selected:l})),n.createElement(t,{items:e,showPoint:!0}))}var sC=a(354894),sw=a(721409);let sk=(0,n7.jz)(su.LDP),sx=(0,n7.jz)(su.Rv9),sT=(0,n7.jz)(su.tUy),sN=(0,ag.eU)([]);function sS(e){let{guid:t,hasChildren:a,isExpanded:i,toggleExpand:o,isSelected:s,nameOverride:c,hideSectionIcon:d}=e,u=(0,iI.J2)((0,eJ.UK)().showGuids),m=(0,sr.Fk)((e,t)=>{let a=e.get(t);return a?{guid:a.guid,name:a.name,isStateGroup:a.isStateGroup}:null},t),p=m?.name,_=c??p,f=m?.guid,g=m?.isStateGroup,h=(0,as.rf)(`devHandoffNodesPanel-targetIcon-${p}`,"click",e=>{(0,iS.S)("sections_frames_list"),l.w3z.selectAndFocusOnNode(t,!0)}),E=(0,as.rf)(`devHandoffNodesPanel-${p}`,"click",e=>{e.stopPropagation(),o?.()}),y=(0,r.wA)(),v=n.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:t,clientY:a}=e;f&&y(eb.j7({type:tu.i,data:{clientX:t,clientY:a,guid:f}}))},[y,f]);if(!f)return null;let b=O()("dev_handoff_nodes_panel--expandCaret--EdbSv",{"dev_handoff_nodes_panel--expandCaretNoIcon--VTPwj":d});return n.createElement("div",{className:O()("dev_handoff_nodes_panel--sectionHeader--qDUGd",s?rD:rR),onMouseDown:h,onContextMenu:v,role:"button",tabIndex:0,"data-fullscreen-intercept":!0},a?n.createElement(td.B,{className:b,svg:i?th.A:sp.A,onMouseDown:E}):n.createElement("div",{className:b}),!d&&n.createElement(tJ.Bf,{className:O()("dev_handoff_nodes_panel--layerIcon--aZvoO",{"dev_handoff_nodes_panel--symbolLayerIcon--D0Mch dev_handoff_nodes_panel--layerIcon--aZvoO":g}),guid:f}),n.createElement("div",{className:O()("dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{"dev_handoff_nodes_panel--symbolName--IoUUt dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":g})},u?`${_} (${t})`:_))}let sI=n.memo(function(e){let{guid:t,isSelected:a,onClick:o}=e,s=(0,iI.J2)((0,eJ.UK)().showGuids),[c,d]=n.useState(!1),u=function(e){(0,eo.uQ)();let t=(0,er.R)(e=>!(0,si.Mx)(e));return a=>(0,a4.Uc)(a&&t?e:"")}(t),m=(0,i.md)(tG.d),_=sA(t),f=(0,tw.E1)(),g=(0,tw.ei)(t),h=(0,tw.L)(t,f,m),E=n.useMemo(()=>g?(0,tP.A)(g.lastEditedAt).fromNow():"",[g]),y=(0,iI.J2)(l.Ez5.devHandoffState().focusAnimationIsRunning),{width:v=0,height:b=0}=_??{},C=v>2.5*b,w=b>2.5*v,k=v<1||b<1?{width:0,height:0}:C?{height:80,width:v/b*80}:w?{width:48,height:b/v*48}:{width:48,height:80},x=(0,sn.yh)({nodeId:t,width:2*k.width,height:2*k.height,version:g?.lastEditedAt??"-",reason:"dev_handoff_nodes_panel.thumbnail",shouldSkip:y,regenerateAfterImagesLoaded:!0}),T=(0,as.rf)(`devHandoffNodesPanel-${_?.name??""}`,"click",e=>{(0,iS.S)("sections_frames_list"),l.w3z.selectAndFocusOnNode(t,!0),e?.currentTarget?.blur(),o&&o(e)}),N=(0,r.wA)(),S=n.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:a,clientY:n}=e;N(eb.j7({type:tu.i,data:{clientX:a,clientY:n,guid:t}}))},[N,t]);if(!_)return null;let I=e=>{d(e),u(e)},A=g?.lastEditedAt,L=x?{backgroundColor:e.thumbnailBackgroundColor}:void 0;return n.createElement("div",{className:O()(a?rD:rR,"dev_handoff_nodes_panel--itemWithThumbnail--t0s4E"),onMouseDown:T,onContextMenu:S,role:"button",tabIndex:0,onMouseEnter:()=>{I(!0)},onMouseLeave:()=>I(!1),"data-fullscreen-intercept":!0},n.createElement("div",{className:"dev_handoff_nodes_panel--thumbnailContainer--y8uEp",style:L},x&&n.createElement("img",{src:x.src,className:O()("dev_handoff_nodes_panel--thumbnailImg--yRcCn",C&&"dev_handoff_nodes_panel--thumbnailImgLong--5eP8l",w&&"dev_handoff_nodes_panel--thumbnailImgTall--iJO4k"),alt:(0,p.t)("dev_handoff.nodes_panel.thumbnail_alt_text")})),n.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestampContainer--egq48 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestamp--HcL87"},n.createElement("div",{className:"dev_handoff_nodes_panel--nodeName--5SQVr ellipsis--ellipsis--Tjyfa"},s?`${_.name} (${t})`:_.name),A?n.createElement("div",{className:"dev_handoff_nodes_panel--tlfPanelTimestampContainer---u-Ju"},n.createElement(r8,{state:h,backgroundState:a?"selected":c?"hovered":null}),n.createElement("div",{className:"dev_handoff_nodes_panel--editedTimestamp--nShNo"},g?.createdAt&&(h===tw.Uy.RECENTLY_CREATED||g.createdAt===g.lastEditedAt)?n.createElement("span",{className:rF},(0,p.tx)("dev_handoff.nodes_panel.created",{at:E})):n.createElement("span",{className:rF},(0,p.tx)("dev_handoff.nodes_panel.edited",{at:E})))):_.isSymbol&&n.createElement("div",{className:"dev_handoff_nodes_panel--timestampContainer--dGH49"},n.createElement(tJ.Bf,{className:rj,guid:t}),n.createElement("span",{className:"dev_handoff_nodes_panel--layerTypeSymbol--BuyoH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},_.type)))))}),sA=e=>(0,sr.Fk)((e,t)=>{let a=(0,eo.Zl)(e,t);if(!a)return null;let n=a.isState?a.parentNode:null,r=n?.name||a.name;return{id:a.guid,name:r,width:a.size.x,height:a.size.y,type:(0,tU.bg)(a,n),isSymbol:a.isStateGroup||"SYMBOL"===a.type||"INSTANCE"===a.type}},e);function sL({items:e,selectedNodeId:t,inReadySectionTopLevelNodeId:a,onRowClick:r}){let l=n.useRef(null),o=e.length>0,[s,c]=(0,i.fp)(sN),d=function(){let{currentPage:e}=(0,er.R)(e=>({currentPage:e.mirror.appModel.currentPage})),t=(0,sr.Fk)((e,t)=>e.get(t)?.backgroundColor,e);return t?st.F.format(t):"var(--color-bg)"}(),[u,m]=n.useState(!0),_=(0,tV.GS)(),f=n.useMemo(()=>Math.min(e.length*sk,400)+7+(_?0:sT),[e.length,_]),[g,h]=(0,aZ.Vc)("ready-panel-height-storage-key",f),E=o?`calc(max(${sk}px, min(60%, ${g}px)))`:"fit-content";n.useEffect(()=>{if(!t)return;let a=e.find(e=>e.childNodeIds.includes(t))?.guid;a&&c(e=>e.includes(a)?e.filter(e=>e!==a):e)},[e,t,c]);let y=n.useMemo(()=>{let t=!1;return[..._?[]:[{type:"header"}],...e.flatMap(e=>{if(e.isSection){let a=s.includes(e.guid);return a||(t=!0),[{type:"section",sectionId:e.guid,displayName:e.sectionNames.fill("...",1,-1).join(" / "),hasChildren:e.childNodeIds.length>0},...a?[]:e.childNodeIds.map(e=>({type:"node",nodeId:e}))]}return t?(t=!1,[{type:"divider"},{type:"node",nodeId:e.guid}]):{type:"node",nodeId:e.guid}})]},[s,_,e]),v=n.useMemo(()=>{let e=[];return y.forEach((t,a)=>{"section"===t.type&&e.push(a)}),e},[y]),b=n.useRef(),C=e=>b.current===e,w=n.useRef(null),k=(0,o6.Te)({count:y.length,estimateSize:e=>{let t=y[e].type;return"node"===t?sk:"header"===t?sT:"divider"===t?16:sx},getScrollElement:()=>w.current,overscan:10,rangeExtractor:n.useCallback(e=>(b.current=[...v].reverse().find(t=>e.startIndex>=t),b.current)?[...new Set([b.current,...(0,o7.vp)(e)])].sort((e,t)=>e-t):(0,o7.vp)(e),[v])}),x=n.createElement("div",{className:"dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{padding:_?0:void 0}},(0,p.tx)("dev_handoff.tag.ready_for_development"));n.useEffect(()=>{let e=y.findIndex(e=>"node"===e.type&&a===e.nodeId);-1!==e&&k.scrollToIndex(e)},[y,a,k]);let T=n.useCallback(e=>h(t=>t+e.y),[h]),N=n.useCallback(()=>h(l.current.clientHeight),[h]),S=n.useCallback(()=>h(f),[h,f]);return n.createElement(n.Fragment,null,_&&n.createElement(I.E,{className:O()([sC.RE,"dev_handoff_nodes_panel--focusVisible--KtjCp"]),"aria-label":(0,p.t)("dev_handoff.tag.ready_for_development"),onClick:()=>m(e=>!e)},n.createElement("div",{className:sC.Pz},n.createElement(sl.gC,{isExpanded:u}),x)),n.createElement(se,{edge:"bottom",size:{height:_&&!u?0:E},onSizeChanged:T,onStateChanged:N,onReset:S,forwardedRef:l,disabled:!o},u&&n.createElement("div",{"data-testid":"devHandoffNodesPanel.readyList",style:{height:"100%",overflow:"auto"},ref:w},o?n.createElement("div",{style:{height:`${k.getTotalSize()}px`,width:"100%",position:"relative"}},k.getVirtualItems().map(e=>{let l;let i=y[e.index];return l="header"===i.type?x:"divider"===i.type?n.createElement("div",{className:"dev_handoff_nodes_panel--readyNodesDivider--QAmcF"}):"section"===i.type?n.createElement(sS,{guid:i.sectionId,hideSectionIcon:!0,hasChildren:i.hasChildren,isExpanded:!s.includes(i.sectionId),toggleExpand:()=>{c(e=>e.includes(i.sectionId)?e.filter(e=>e!==i.sectionId):[...e,i.sectionId])},isSelected:t===i.sectionId,nameOverride:i.displayName}):n.createElement(sI,{guid:i.nodeId,thumbnailBackgroundColor:d,isSelected:a===i.nodeId,onClick:r}),n.createElement("div",{key:e.key,style:{..."section"===i.type?{zIndex:1}:{},...C(e.index)?{position:"sticky"}:{position:"absolute",transform:`translateY(${e.start}px)`},top:0,left:0,width:"100%",height:`${e.size}px`}},l)})):n.createElement(n.Fragment,null,!_&&x,n.createElement(sM,null)))))}function sO(){return(0,tF.s)()?n.createElement(S.$n,{variant:"secondary","aria-label":String((0,p.tx)("fullscreen_actions.ready-status-add")),iconPrefix:n.createElement(o4.A,null),onClick:()=>sa.Y5.triggerAction("add-selection-ready-status")},(0,p.tx)("fullscreen_actions.ready-status-add")):null}function sM(){let e=(0,au.p8)("isSceneReadOnly"),t=(0,tF.s)();return e?n.createElement("div",{className:rB},n.createElement(td.B,{svg:sw.A,className:rU}),n.createElement("div",{className:rG},(0,p.tx)("dev_handoff.tag.ready_for_development.content_view_only"))):n.createElement("div",{className:rB},t?n.createElement(sO,null):n.createElement(n.Fragment,null,n.createElement(td.B,{svg:sw.A,className:rU}),n.createElement("div",{className:rG},(0,p.tx)("dev_handoff.status.ready_for_development.content"))))}function sP(e,t){let a=n.useRef(!1),r=n.useCallback(e=>{e!==t&&(a.current=!0)},[t]),{inspectableRootNodeId:l}=sR(e,t),i=n.useRef(null),o=n.useMemo(()=>t&&a.current?(a.current=!1,i.current):l,[t]);return i.current=o,{inspectableRootNodeId:o,didSelectRow:r}}function sR(e,t){let a=n.useMemo(()=>{let e=t?l.w3z.getInReadySectionTopLevelNodeId(t):null;return e&&e!==n6.AD?e:null},[t]),r=(0,sr.Fk)((e,t,a)=>{let n=null;if(a?n=a:t===n6.AD||l.w3z.isNodePanelSection(t)||(n=t),n){let t=e.get(n);(!t||sd.q1.includes(t.type))&&(n=null)}return n},e,a),i=(0,ev.hA)();return i?{inspectableRootNodeId:i,inReadySectionTopLevelNodeId:null}:{inspectableRootNodeId:r,inReadySectionTopLevelNodeId:a}}function sD({onRowClick:e,inspectableRootNodeId:t,didSelectRow:a}){let r=(0,iI.J2)(l.Ez5.devHandoffState().currentNodeId),i=(0,eo.uQ)(),o=(0,iI.J2)(l.Ez5.devHandoffState().readySectionItems),{currentPage:s}=(0,er.R)(e=>({currentPage:e.mirror.appModel.currentPage})),{inReadySectionTopLevelNodeId:c}=sR(r,i);return n.createElement("div",{className:"dev_handoff_nodes_panel--nodesListPanels--ceR3Z","data-testid":"devHandoffNodesList"},n.createElement(sL,{items:o||[],selectedNodeId:i,inReadySectionTopLevelNodeId:c,onRowClick:e}),n.createElement(sy,{inspectableRootNodeId:t,didSelectRow:a,page:s}))}let sF=n.memo(()=>{let e=(0,iI.J2)(l.Ez5.devHandoffState().currentNodeId),t=(0,ev.l7)(),a=!!(0,ev.hA)()&&!t,{inspectableRootNodeId:i,didSelectRow:o}=sP(e,(0,eo.uQ)()),s=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).length>0);return(0,d.h)(()=>{let e=en.sn.tryStop("switch_to_inspect_mode.left_panel_tti");e&&(0,ea.sx)("switch_to_inspect_mode.left_panel_tti",{elapsedMs:e,isNodeSelected:s},{forwardToDatadog:!0})}),n.createElement("div",{className:O()(tu.Dm,"dev_handoff_nodes_panel--nodesPanel--4Pea0")},!a&&n.createElement(sc,null),!t&&n.createElement(sD,{inspectableRootNodeId:i,didSelectRow:o}))});var sB=a(185157),sU=a(233562);function sG(){return n.createElement("div",{className:P.cx.flex.flexRow.m16.$},n.createElement("div",{className:P.cx.font11.$},(0,p.tx)("fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename")))}var sH=a(225266),sV=a(554294),sK=a(176626),sz=a(559497),sW=a(877822),sj=a(902139),sq=a(279532),sY=a(760445),sX=a(76158),sJ=a(86538);function sZ(){let{setCurrentView:e,currentPluginView:t}=function(){let e=(0,a_.Xr)(sJ.hO),[t,a]=(0,i.fp)(sJ.HT),r=(0,sW.AY)(sJ.HT),l=n.useCallback(()=>{e(t)},[t,e]),o=n.useCallback(({newView:e})=>{e&&t!==e&&(l(),a(e))},[t,a,l]);return n.useEffect(()=>{l()},[l]),n.useEffect(()=>()=>{r()},[r]),n.useMemo(()=>({currentPluginView:t,setCurrentView:o}),[t,o])}(),a=(0,r.wA)(),l=n.useMemo(()=>({activeTab:sX.s.PLUGIN,viewResource:e=>{a(sj.IN({fdPreviewResource:e}))},closeResource:()=>{a(sj.IN({fdPreviewResource:void 0}))},setCurrentViewOrTab:e,currentView:t,closeModal:()=>{},pinModal:()=>{}}),[a,e,t]);return n.createElement(ed.Y,{direction:"vertical",spacing:0,height:"fill-parent"},n.createElement(sY.B0.Provider,{value:l},n.createElement(sq.z,null)))}let sQ=n.memo(function(){let e=(0,r.d4)(e=>e.mirror.appModel.currentTool===el.ec.tool),t=(0,lu.h)(),a=(0,eJ.UX)(),l=(0,i.md)(sV.d4),o="LOADING"===l,s="RUNNING"===l,c=(0,i.md)(ei.H)===ei._.PLUGIN&&!e,d=(0,r.wA)();n.useEffect(()=>d(sH.aq()),[d]),n.useEffect(()=>{let e=sz.mN.getInstance();s&&e&&(c?e.hideProgress():e.showProgress({isBackground:!0}))},[s,c]);let u=s&&c?{height:"100%"}:{display:"none"};return n.createElement("div",{className:P.cx.hFull.wFull.if(c,P.cx.block,P.cx.hidden).$,"data-testid":"devHandoffPluginPanel"},t?n.createElement(sG,null):n.createElement(n.Fragment,null,o&&n.createElement(s$,null),n.createElement("div",{style:u,"data-testid":"pluginPanelContainer"},n.createElement(sK.jv,{iframeId:sK.Wh.INSPECT,width:a,fillParent:!0})),!o&&!s&&n.createElement(sZ,null)))});function s$(){let e=(0,i.md)(sV.be);return e?n.createElement(ed.Y,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},n.createElement(n.Fragment,null,n.createElement("span",{style:R.sx.add({boxSizing:"content-box",margin:"-20px auto",opacity:"0.3"}).$},n.createElement(sU.y$,null)),n.createElement("div",{className:P.cx.pt16.px32.alignCenter.$},n.createElement(em.E,{fontSize:12,color:"secondary"},(0,p.tx)("dev_handoff.loading_plugin",{pluginName:e?.name}))))):null}var s0=a(979441),s1=a(506599),s2=a(544403),s5=a(806284);let s3="dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",s4="dev_handoff_right_panel_container--panelContainerResizing--sfFQd dev_handoff_right_panel_container--panelContainerResizingBase--OZRr- dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",s6="dev_handoff_right_panel_container--panelContainerHidden--7-A2P dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",s7="dev_handoff_right_panel_container--content--HcUHi",s8=(0,n7.jz)(su.QBm);function s9(e){let t=(0,r.d4)(e=>e.mirror.appModel.showUi),a=(0,n8.lz)(),[l,o]=(0,i.fp)(n8.XI),s=(0,tV.GS)(),c=(0,iI.J2)((0,eJ.UK)().renderRulers),d=(0,ev.hA)(),u=(0,ia.b)(),m=(0,iN.Tn)(),p=(0,iN.qM)(),{isPropertiesPanelCollapsed:_}=(0,s1.iT)();_=_&&s,(0,n8.qn)();let f=n.useCallback(()=>{o(!0)},[o]),g=n.useCallback(e=>{if(l){let t=(0,n8.gY)(window.innerWidth-e.clientX);t!==a&&(0,n8.xT)(t)}},[l,a]),h=n.useCallback(()=>{l&&o(!1)},[l,o]);n.useEffect(()=>(document.addEventListener("mousemove",g),document.addEventListener("mouseup",h),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",h)}));let E=s&&!_,y=l?s4:t?s3:s6;return s?n.createElement(o8.V,{className:O()(il.Lp,{[il.dn]:_,[il.Ph]:u&&!d&&!p}),style:{width:a}},E&&n.createElement(s0.T,{side:"right"}),n.createElement(s2.w,{className:O()(il.ux,tu.Dm,{[il.ew]:c&&!d,[il.Ph]:u&&!d&&!p,[il.Jq]:!m}),size:a,onResize:f,side:"left"},_&&n.createElement("div",{className:O()(il.KE,il.tM)},n.createElement(ir.v2,null)),n.createElement("div",{className:O()(il.KE,{[s4]:l,[s3]:t,[s6]:!t||_,[il.Ph]:u&&!d&&!p})},!_&&n.createElement(ir.v2,null),n.createElement(s5.Ay,null),n.createElement("div",{className:s7},e.children)))):n.createElement("div",{className:`${y} ${tu.Dm}`,style:{width:a-s8},ref:e.forwardedRef},n.createElement(s5.Ay,null),n.createElement(o8.V,{className:s7},e.children),n.createElement(tD.D8,{className:"dev_handoff_right_panel_container--edge--K3aDb",style:{right:a},onMouseDown:f,onDoubleClick:n8.Az}))}var ce=a(69814),ct=a(937036),ca=a(561004),cn=a(978527);function cr({plugin:e}){return"first-party"!==(0,tS.v4)().type?null:n.createElement(ci,{plugin:e,buttonText:(0,p.t)("dev_handoff.inspect_panel.close_plugin")})}function cl({plugin:e}){return"first-party"===(0,tS.v4)().type?null:n.createElement(ci,{plugin:e,buttonText:(0,p.t)("dev_handoff.inspect_panel.generate_code")})}function ci({plugin:e,buttonText:t}){return e?n.createElement(tQ.VZ,{padding:tQ.UZ.NONE,recordingKey:"pluginProgressPanel"},n.createElement(ed.Y,{direction:"vertical",horizontalAlignItems:"center",padding:{top:12,bottom:12,left:16,right:16},spacing:8,width:"fill-parent"},n.createElement(ed.Y,{direction:"horizontal",verticalAlignItems:"start",horizontalAlignItems:"center",spacing:4},n.createElement("div",{style:R.sx.add({marginTop:"-3px"}).$},n.createElement(cn.d,{plugin:e})),n.createElement(em.E,{fontFamily:"primary"},(0,p.tx)("fullscreen.plugins.background",{plugin:n.createElement(em.E,{fontWeight:"bold"},e.name)}))),n.createElement(eu.$,{variant:"secondary",onClick:()=>{(0,ca.wY)()},width:"fill-parent",recordingKey:"generateCodeButton"},n.createElement(em.E,{fontFamily:"primary"},t)))):null}var co=a(249436),cs=a(19741),cc=a(54574);let cd="code_extension_section--sectionsBorder--iguOh";function cu({localCodeLanguage:e,overrideNodeId:t,hideLayoutAndColor:a,sectionClassName:r,emptyStateMessage:l}){let o=(0,tS.v4)(),s=e??o,c=s.id===tS.uz&&"first-party"===s.type?{id:iT.qZ.CSS,type:"first-party"}:s,d=(0,i.md)(sV.GR),u=(0,i.md)(sV.vT);return d&&"codegen"!==u&&"first-party"!==c.type?n.createElement(cl,{plugin:d}):n.createElement(cm,{overrideNodeId:t,hideLayoutAndColor:a,codegenPluginLanguage:c,sectionClassName:r,emptyStateMessage:l},(e,t,a)=>n.createElement(tN.yT,{code:e,section:t,index:a}))}function cm({codegenPluginLanguage:e,children:t,overrideNodeId:a,hideLayoutAndColor:l,sectionClassName:i,emptyStateMessage:o}){let s=(0,ld.ie)(),c=(0,ld.fb)(),d=(0,r.d4)(e=>Object.keys(e.mirror.sceneGraphSelection)[0]),u=(0,ec.U)(),[m,_]=n.useState(!1),f=a??d,g=n.useCallback(t=>{u("Dev Mode Code Section Clicked",{codeSection:t,languageType:e.type,languageId:e.id,unit:s,scaleFactor:c})},[e.id,e.type,c,u,s]),h=(0,ld.gc)(),E=(0,tS.QN)(),y="first-party"===e.type;l&&y&&(h.customSettings?h.customSettings.hideLayoutAndColor="true":h.customSettings={hideLayoutColor:"true"});let{code:v,error:b,isLoading:C}=(0,cc.K)({selectedNodeID:f,extensionLanguage:e,preferences:h,plugin:E}),w=!!a,k=n.useCallback(({id:e})=>{e===f&&(iT.px().nodeCache?.invalidate(e),_(!0))},[f]);n.useEffect(()=>((0,cs.BT)(k),()=>{(0,cs.q$)(k)}),[k]),n.useEffect(()=>{w||_(!1)},[w,f]);let x=n.useCallback(()=>{_(!1),(0,iT.px)().rebuildNodeCache(),(0,co.c)()},[]),T=function(e,t){let[a,r]=n.useState(e);return n.useEffect(()=>{let t=null;return e?t=setTimeout(()=>{r(!0)},200):r(!1),()=>{null!=t&&clearTimeout(t)}},[e,200]),a}(C,200);return f?b?(console.error(b),null):T?n.createElement("div",{className:cd},n.createElement(ed.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner"},n.createElement(e5.kt,null))):0!==v.length&&v.some(e=>e.lines.length>0)?n.createElement("div",{className:cd},m&&n.createElement(ed.Y,{padding:{top:16,left:16,right:16,bottom:0}},n.createElement(aj.z,{dataTestId:"dev-handoff-code-update-prompt",iconSrc:nM.A,title:(0,p.t)("dev_handoff.code.update_prompt_title"),orientation:"vertical",variant:"brand",onClose:()=>_(!1),action:{label:(0,p.t)("dev_handoff.code.update_prompt_action"),onClick:x}},(0,p.tx)("dev_handoff.code.update_prompt"))),v.map((a,r)=>a.lines.length>0&&(!l||"Layout"!==a.name)?n.createElement(tD.D8,{className:O()("code_extension_section--sectionsContainer--vZzFZ",i),"data-testid":`code-panel-${a.name}`,key:`${e}-${a.name}-${r}`,tabIndex:-1,"data-fullscreen-intercept":!0,onClick:()=>g(a.name)},t(v,a,r)):null)):o?n.createElement("div",{className:cd},n.createElement(ed.Y,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner"},o)):null:null}var cp=a(268537),c_=a(116135),cf=a(493364);let cg="Dev Mode Focus View Onboarding",ch="focus_view_title_onboarding_key",cE="focus_view_completed_onboarding_key",cy="focus_view_versions_onboarding_key",cv="focus_view_back_onboarding_key";function cb(){let{show:e,isShowing:t,complete:a}=(0,y.e)({overlay:T.FtN,priority:w.N.DEFAULT_MODAL});(0,d.h)(()=>{e()});let r=(0,n.useMemo)(()=>({label:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.secondary_cta_label"),type:"button",onClick:()=>a(),ctaTrackingDescriptor:iP.c.CANCEL}),[a]),l=[{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.viewing.description"),trackingContextName:`${cg} Viewing`,targetKey:ch,emphasized:!0,secondaryCta:r,disableHighlight:!0},{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.completed.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.completed.description"),trackingContextName:`${cg} Completed`,targetKey:cE,emphasized:!0,secondaryCta:r,disableHighlight:!0},{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.versions.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.versions.description"),trackingContextName:`${cg} Versions`,targetKey:cy,emphasized:!0,arrowPosition:cf.F_.RIGHT_BODY,secondaryCta:r,onStepShow:()=>a4.wr(),disableHighlight:!0},{title:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.back.title"),description:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.back.description"),trackingContextName:`${cg} Back`,targetKey:cv,emphasized:!0,primaryCtaLabel:(0,p.tx)("dev_handoff.workflows.focus_view.onboarding.last_primary_cta_label"),disableHighlight:!0}];return n.createElement(c_.WZ,{steps:l,isShowing:t,onComplete:a})}var cC=a(293017),cw=a(694517),ck=a(945020),cx=a(236192),cT=a(720488),cN=a(524513),cS=a(135317),cI=a(564577);let cA="dev_handoff_activity_panel--versionIconContainer--i7OVd",cL="dev_handoff_activity_panel--editedIcon--V-4-N dev_handoff_activity_panel--_versionIcon--9Io2B",cO="dev_handoff_activity_panel--activityDisplayText--4O-Dk",cM="dev_handoff_activity_panel--activityTime--pCZ9l";function cP({activity:e,isLatest:t}){let a=cR(e),r=(0,cI.Ak)(e.timestamp);return n.createElement("div",{className:cO},t?(0,p.tx)("dev_handoff.workflows.focus_view.activity.activity_row_with_latest",{versionText:a,activityTime:n.createElement("span",{className:cM},r),latest:n.createElement("span",{className:cM},(0,p.tx)("dev_handoff.workflows.focus_view.activity.activity_row_latest_part"))}):(0,p.tx)("dev_handoff.workflows.focus_view.activity.activity_row",{versionText:a,activityTime:n.createElement("span",{className:cM},r)}))}function cR(e){switch(e.metadata?.status){case eI.zI.BUILD:return(0,p.t)("dev_handoff.workflows.focus_view.activity_status_ready");case eI.zI.COMPLETED:return(0,p.t)("dev_handoff.workflows.focus_view.activity_status_completed");case eI.zI.NONE:return(0,p.t)("dev_handoff.workflows.focus_view.activity_status_removed");default:return null}}function cD({activity:e,line:t,isGreen:a}){switch(e.metadata?.status){case eI.zI.BUILD:return n.createElement("div",{className:cA,"data-testid":"devModeActivity.readyIcon"},t,n.createElement(o4.A,{className:a?"dev_handoff_activity_panel--readyIconGreen--qdkvg dev_handoff_activity_panel--_versionIcon--9Io2B":"dev_handoff_activity_panel--readyIcon--zbH-1 dev_handoff_activity_panel--_versionIcon--9Io2B"}));case eI.zI.COMPLETED:return n.createElement("div",{className:cA,"data-testid":"devModeActivity.completedIcon"},t,n.createElement(cS.g,{className:"dev_handoff_activity_panel--completedIcon--3i2u3 dev_handoff_activity_panel--_versionIcon--9Io2B"}));default:return null}}function cF(){let e=(0,r.wA)();return()=>{e((0,cw.Eg)())}}function cB(){return(0,r.d4)(e=>e.versionHistory.activeId===cw.V_)}function cU(e,t,a){return e&&t.metadata?.status!==eI.zI.NONE?e=>n.createElement(cD,{line:e,activity:t,isGreen:a}):void 0}function cG(){let e=(0,r.wA)();return t=>{e((0,cw.Eg)()),l.w3z.focusOnNode(t,!1)}}function cH({latestReadyForDevVersionId:e,lastEditedAt:t,hasEdits:a,status:i,isActive:o,onSelect:s,showCompareChanges:c,focusNodeId:d}){let u=(0,r.wA)(),m=(0,tV.GS)(),_=(0,ec.U)(),f=(0,cI.Ak)((t??0)*1e3),g=(0,ev.hA)();return n.createElement(cx.jP,{label:"latest-change-row",displayText:n.createElement("div",{className:"dev_handoff_activity_panel--activityDisplayTextContainer--80BG-"},n.createElement("div",{className:cO},n.createElement("span",{className:"dev_handoff_activity_panel--latestVersion--ukUVR"},g?(0,p.tx)("dev_handoff.workflows.focus_view.activity.latest"):(0,p.tx)("collaboration.feedback.current_version")),!!t&&n.createElement("span",{className:cM},f)),o&&c&&n.createElement("button",{className:"dev_handoff_activity_panel--viewDiffButtonEdited--j3Wzx",onClick:function(){_("Dev Mode Activity Compare Changes",{source:"compare_previous"}),(0,tY.L$)(e,u,!0,d)}},(0,p.tx)("dev_handoff.workflows.focus_view.activity.compare_previous"))),iconOverride:m&&a?e=>n.createElement("div",{className:cA},e,i?.status===l.zIx.COMPLETED?n.createElement(cS.g,{className:cL}):n.createElement(o4.A,{className:cL})):void 0,onSelect:o?void 0:s,view:null,isActive:o,userUrl:null,versionId:cw.V_,dispatch:u,isAllowedToChangeVersion:()=>!o,first:!0,last:!1,isUI3:m,editorType:eI._Y.DESIGN})}var cV=a(40987);function cK(){let e=(0,ev.hA)(),t=(0,tq.Os)(e??""),a=(0,tq.jh)(e??void 0),r=cB(),o=cG(),s=(0,i.md)(cV.pc);if("loading"===t||t&&0===t.length&&s)return n.createElement("div",{"data-onboarding-key":cy,className:"dev_handoff_activity_panel--loading--kM0Yf"},n.createElement(e5.kt,null));if(!t||0===t.length||!e)return n.createElement("div",{"data-onboarding-key":cy});let c=new e0.q(l.juq.LIVE_FILE).get(e??""),d=t[0],u=!!c?.editInfo?.lastEditedAt&&d.timestamp.getTime()<1e3*c.editInfo.lastEditedAt;return n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.workflows.focus_view.activity.versions"),recordingKey:"activityLog",headerOnboardingKey:cy},n.createElement("div",{className:"dev_handoff_activity_panel--activityEvents--9uFul"},u&&n.createElement(cH,{lastEditedAt:c?.editInfo?.lastEditedAt,latestReadyForDevVersionId:d.id,hasEdits:!0,status:c?.getStatusInfo(),isActive:r,onSelect:()=>o(e),showCompareChanges:!0,focusNodeId:e}),s&&n.createElement("div",{className:"dev_handoff_activity_panel--loadingInline--WHTg6"},n.createElement(e5.kt,null)),t.map((r,l)=>{let i=l===t.length-1;return n.createElement(cz,{key:l,activity:r,prevActivity:i?null:t[l+1],isOldest:i,isLatest:0===l&&!u,versions:a.versions,focusNodeId:e})})))}function cz({activity:e,prevActivity:t,isOldest:a,isLatest:o,versions:s,focusNodeId:c}){let d=(0,r.wA)(),u=(0,eQ._6)(),m=(0,tV.GS)(),_=(0,r.d4)(e=>e.versionHistory),f=e.version?.id??void 0,g=cB(),h=(0,i.md)(iF.wg),E=(0,ec.U)(),y=g&&o||f===_.activeId,v=function(e,t,a){let i=(0,ev.hA)(),o=(0,r.wA)(),s=(0,eQ._6)(),c=cF(),d=(0,ec.U)();return n.useCallback((n,r)=>{if(t&&!n){if(a){c();return}d("Dev Mode Activity Load Version",{entrypoint:r}),o(eb.$T({...s,versionId:t})),o(cC.Y6({mode:l.Oin.KEEP_UI,type:ck.lF.SPINNER})),requestAnimationFrame(()=>{o((0,cw.Nb)({id:t,nodeId:i??void 0,eventType:"LOAD_NEW_VERSION",versions:e}))})}},[t,a,e,i,o,s,c,d])}(s,f,o),b=()=>{E("Dev Mode Activity Compare Changes",{source:o?"compare_previous":"compare_to_latest"});let e=o&&t?.version?.id||f;(0,tY.L$)(e,d,!0,c)},C=cF(),{toggle:w,showing:k}=(0,a6.BK)(`DROPDOWN_TYPE_ACTIVITY_LOG_${e.id}`),[x,T]=n.useState(null),N=e.metadata?.status===eI.zI.BUILD&&null!==t,S=!!f&&f!==_.activeId;return n.createElement(n.Fragment,null,n.createElement(cx.jP,{description:e.version?.description??void 0,label:"activity-row",displayText:n.createElement(cP,{activity:e,isLatest:o}),view:null,iconOverride:cU(m,e,a||y),onSelect:S?()=>v(y,"row"):void 0,onHoverMenuCallback:f?e=>{e.stopPropagation(),T(e.currentTarget.getBoundingClientRect()),w()}:void 0,forceShowHoverMenu:k||y,isActive:y&&!o,user:e.user.name||"",userUrl:e.user.imgUrl,isAllowedToChangeVersion:()=>S,versionId:f||"NO_VERSION",dispatch:d,first:o,last:a,isUI3:m,editorType:eI._Y.DESIGN,rowBodyFooter:o&&N?n.createElement("button",{className:"dev_handoff_activity_panel--viewDiffButtonReady--mGQg4",onClick:b},(0,p.tx)("dev_handoff.workflows.focus_view.activity.compare_previous")):void 0}),k&&x&&n.createElement(cT.Cf,{targetRect:x},!o&&(y?n.createElement(cp.c$,{onClick:C},(0,p.tx)("dev_handoff.workflows.focus_view.back_to_current")):n.createElement(cp.c$,{onClick:()=>v(y,"dropdown_option")},(0,p.tx)("dev_handoff.workflows.focus_view.inspect_version"))),(!o||N)&&n.createElement(cp.c$,{onClick:b},o?(0,p.tx)("dev_handoff.workflows.focus_view.compare_previous_menu_item"):(0,p.tx)("dev_handoff.workflows.focus_view.compare_latest")),n.createElement(cp.c$,{onClick:()=>{E("Dev Mode Activity Copy Link To Version"),(0,cx.S)(d,u,f)}},(0,p.tx)("dev_handoff.workflows.focus_view.copy_link_to_version")),h&&n.createElement(cp.c$,{onClick:()=>{if(!h)return;let t=e.version;t&&d(eC.to({type:cN.S9,data:{label:cR(e),description:t.description,savepointID:t.id}}))}},(0,p.tx)("collaboration.feedback.context_menu.edit_version_info"))))}var cW=a(200243),cj=a(189283),cq=a(380631),cY=a(347740);function cX(){return n.createElement(n.Fragment,null,n.createElement(cW.Xh,null),n.createElement(cY.U,null),n.createElement(l5.ZN,null),n.createElement(cq.o,null),n.createElement(cj.yg,null))}var cJ=a(963067),cZ=a(438377);function cQ(){let{selectionProperties:e}=(0,er.R)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,aE.nl)(),a=(0,aE.cW)(),l=(0,aE.Be)(),i=(0,cJ.Yo)(),o=(0,r.wA)(),s=(0,b.tS)();return n.createElement(cZ.Q,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:t,publishedPlugins:a,allSavedPlugins:l.plugins,orgEntity:i,dispatch:o,openFileKey:s,editorType:eR.nT.DevHandoff,numSelected:e.numSelected??0,recordingKey:"devHandoffPluginPanel",title:(0,p.t)("dev_handoff.plugin_panel.title"),isDevHandoff:!0})}var c$=a(945099),c0=a(373119),c1=a(143678),c2=a(390487),c5=a(559037),c3=a(987950),c4=a(783908),c6=a(400181),c7=a(301854),c8=a(215837);function c9(){let e=(0,eo.VW)();return e?.isModule}var de=a(238093);let dt="typography_preview--measureContainer--D1G5R",da="typography_preview--measure---sPO7",dn="typography_preview--value--v5BEy text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",dr=(0,n7.jz)(su.WPY);function dl({fillContainer:e=!1}){let t=(0,eo.VW)(),a=(0,r.d4)(e=>e.mirror.selectionProperties.selectedFonts);return!t||!t.isAlive()||"TEXT"!==t.type||!t.fontName||!a||a?.fonts.length<1?null:n.createElement(tQ.VZ,{hideHeader:!0,padding:tQ.UZ.NONE,noBorder:!0,recordingKey:"typographyPreview"},n.createElement(di,{nodeId:t.guid,containerClassName:e?"typography_preview--previewContainerFill--QUwgr":"typography_preview--previewContainerBoxed--yWT-0 typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--well--J0WtH",numberOfFonts:a.fonts.length}))}function di({nodeId:e,containerClassName:t="typography_preview--previewContainerFullWidth--61D4v typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--sectionWithBottomSeparator--N54QE",numberOfFonts:a=1,localCodeLanguage:r}){let i=function(e){let t=(0,F.DP)(),a=(0,n8.rL)()-32,[r,i]=n.useState({...d_,loading:!0}),{family:o,style:s}=(0,sr.Fk)(t=>{let a=t.get(e),{family:n,style:r}=a?.fontName||{};return{family:n,style:r}}),c=n.useCallback(()=>{i(e=>({...e,imageLoading:!1}))},[]);return n.useEffect(()=>{let t=e=>{i(t=>{dp(t?.url);let a=!!e.url&&(t.fontFamily!==e.fontFamily||t.fontStyle!==e.fontStyle);return{...t,...e,imageLoading:a,loading:!1,error:!e.url&&e.error}})},a=()=>{t({...d_,url:void 0,error:!0})};(async()=>{if(!o||!s)return;if(l.vXe.fontsAreLoading()){let e=0;await new Promise((t,a)=>{let n=setInterval(()=>{l.vXe.fontsAreLoading()||(t(),clearInterval(n)),e>10&&a(),e++},100)})}if(!l.vXe.fontIsLoaded(o,s)){a();return}let n=l.w3z.getTypographyPreview(e);if(n&&n.thumbnail?.byteLength>0){let{thumbnail:e,...a}=n,r=URL.createObjectURL(new Blob([e]));t({...a,url:r})}else a()})().catch(()=>{a()})},[e,a,o,s,t]),n.useEffect(()=>()=>dp(r?.url),[r?.url]),{...r,onImageLoaded:c}}(e),{fontName:o,inheritedTextStyle:s}=(0,sr.Fk)((e,t)=>{let a=e.get(t);return{fontName:a?.fontName,inheritedTextStyle:a?.inheritedTextStyle}},e);return n.createElement("div",{className:t},i.loading?n.createElement(dd,null):n.createElement(ds,{data:i,font:o,styleId:s,numberOfFonts:a,localCodeLanguage:r}))}function ds({data:e,font:t,styleId:a,numberOfFonts:r,localCodeLanguage:l}){let i=(0,ld.qM)(l,e.lineHeightInPx,dm,{isTextProperty:!0}),o=(0,ld.qM)(l,e.fontSizeInPx,dm,{isTextProperty:!0}),s=e.textStyleNodeId||(0,de.f$)(a),{styleName:c,styleDescription:d}=(0,sr.wA)((e,t)=>{if(!t||0===t.length)return{};let a=t[0];if(!a)return{};let n=e.get(a);return{styleName:n?.name,styleDescription:n?.description}},[s]),u=(0,tZ.Cj)(i),m=(0,tZ.Cj)(o),_=(0,tZ.Cj)(c),f=dr-16-((0,n6.fn)((0,n6.sH)(e.textStyleNodeId))||r>1?40:0),g=e.fullSize.y>f?e.fullSize.y/f:1,h=e.fullSize.y/g,E=e.fullSize.x/g,y=h+1,v=e.capPosition/g,b=e.baselinePosition/g,C=e.bottomPosition/g,w=`calc((100% - ${E}px) / 2)`,k=r>1?n.createElement("div",{className:"typography_preview--label--pJ-5L typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("dev_handoff.typography_preview_multiple_styles")):c?n.createElement(I.E,{className:"typography_preview--styleName--tA801 typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:_,"aria-label":(0,p.t)("inspect_panel.code.style"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":d,"data-tooltip-show-above":!0}},c):null;return n.createElement("div",{className:O()("typography_preview--previewHighlights--zrIw3",e.imageLoading?"typography_preview--hidden--pKo8l":"typography_preview--shown--6sBFE")},e.error?n.createElement(du,{font:t}):n.createElement("div",{className:"typography_preview--centredRow--3-Ofp",style:{marginTop:(f+16-y)/2,height:y}},n.createElement("div",{className:dt,style:{marginTop:v,marginBottom:h-C}},n.createElement("div",{className:O()(da,"typography_preview--left--wzNxs")},n.createElement(I.E,{className:dn,onClick:m,"aria-label":(0,p.t)("inspect_panel.code.font_size"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("inspect_panel.code.font_size"),"data-tooltip-show-above":!0}},o))),n.createElement("div",{className:"typography_preview--measurementLines--U03DM",style:{width:E,height:h,left:w,right:w}},n.createElement(dc,{position:v}),n.createElement(dc,{position:b}),n.createElement(dc,{position:C})),n.createElement(B.J,{className:"typography_preview--borderedPreview--wYbvY",style:{width:E,height:h},src:e.url,onLoad:e.onImageLoaded,"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":t?`${t.family} ${t.style}`:void 0,"data-tooltip-show-above":!0}),n.createElement("div",{className:dt},n.createElement("div",{className:O()(da,"typography_preview--right--QhAIw")},n.createElement(I.E,{className:dn,onClick:u,"aria-label":(0,p.t)("inspect_panel.typography.line_height"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("inspect_panel.typography.line_height"),"data-tooltip-show-above":!0}},i)))),k)}function dc({position:e}){return n.createElement("div",{className:"typography_preview--measurementLine---lBL5",style:{top:e}})}function dd(){let[e,t]=n.useState(!1);return(n.useEffect(()=>{let e=setTimeout(()=>t(!0),250);return()=>clearTimeout(e)},[]),e)?n.createElement(e5.kt,null):null}function du({font:e}){let t=e?.family,a=e?.style??"",r=t&&!l.vXe.fontIsLoaded(t,a)&&t?(0,p.t)("dev_handoff.typography_preview_missing_font",{fontFamily:t,fontStyle:a}):void 0;return n.createElement("div",{className:"typography_preview--previewError--Kwn7m"},n.createElement("span",{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":r},(0,p.tx)("dev_handoff.typography_preview_not_available")))}let dm=e=>e.toLocaleString("en",{maximumFractionDigits:3,useGrouping:!1}),dp=e=>{e&&URL.revokeObjectURL(e)},d_={url:void 0,fullSize:{x:0,y:0},capPosition:0,baselinePosition:0,bottomPosition:0,fontSizeInPx:0,lineHeightInPx:0,fontFamily:"",fontStyle:"",textStyleNodeId:""};function df({fillContainer:e=!1}){let t=(0,eo.VW)();return t?.type==="TEXT"?n.createElement(dl,{fillContainer:e}):n.createElement(lS,{fillContainer:e})}var dg=a(495085);function dh(){let e=c9(),t=(0,eo.VW)(),a=t?.description;return e?n.createElement(n.Fragment,null,n.createElement("div",{className:"module_documentation_panel--spacer--fEdqY"}),n.createElement(ai,{description:a,emptyStateText:(0,p.t)("inspect_panel.templates.no_templates_description")})):null}var dE=a(118830);function dy({module:e}){let t=(0,n8.rL)(),a=e.guid,r=t-64,l=(0,dE.O)({assetId:a,thumbnailVersion:1,width:4*r,height:4*ra,scale:4});return n.createElement(tD.D8,{className:re,style:l?.backgroundStyle,role:"button",tabIndex:0},l?.url&&n.createElement(B.J,{className:rt,src:l.url,style:{maxWidth:r,maxHeight:ra}}))}function dv(){let e=(0,eo.VW)();return e?.isModule?n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.inspect_panel.template"),recordingKey:"templatePanel"},n.createElement(dy,{module:e}),n.createElement(dh,null)):null}var db=a(397863),dC=a(631437);function dw(){return!!(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===l.m1T.DEV_HANDOFF_HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId)}var dk=a(309798),dx=a(754369),dT=a(335601),dN=a(659838);let dS="add_developer_related_link_row--inputRow--0rB-c text--fontPos11--2LvXf text--_fontBase--QdLsd";var dI=a(949554);function dA({onCancel:e,onSuccess:t,existingUrls:a,onFocus:l,onUnfocus:i,addExtraPadding:o=!1}){let s=(0,r.wA)(),[c,d]=n.useState(""),[u,m]=n.useState(!1),_=n.useCallback(e=>d(e.target.value),[]),f=(0,au.eY)(),g=(0,ae.Nf)()??"",h=f.get(g),E=(0,b.tS)(),y=aM(c),{inputRef:v,inputProps:{onFocus:C,onMouseUp:w,onMouseLeave:k,onKeyUp:x,onChange:T}}=(0,dT.X)({onChange:_}),N=n.useCallback(async()=>{let e=c;if(!(0,aP.G)(e)||!(0,aP.H)(e)){if(e="http://"+e,!(0,an.FB)(e)||!(0,aP.G)(e)){s(eE.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}d(e)}if(a.includes(e)){s(eE.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.duplicate_link_error"),error:!0,timeoutOverride:2e3}));return}m(!0),i();let n=(0,aT.DY)({fileKey:E,nodeId:g,url:e,onPost:t,nodeType:h?.type,source:"web",pluginId:y?.plugin.plugin_id});try{let e=await n;m(!1);let t=aT.Rb.safeParse(e.data);if(!t.success||!y)return;let a=t.data.meta;y.genPreview({link:{id:a.id,linkUrl:a.link_url,linkName:a.link_name,linkPreview:null,linkPreviewJson:"",nodeId:a.node_id,fileKey:a.file_key,isUserOverride:a.is_user_override,isInherited:!1}})}catch(e){console.error(e),s(eE.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.link_error",{errorMessage:e.message}),error:!0,timeoutOverride:2e3}))}finally{m(!1)}},[c,a,i,E,g,t,s,h?.type,y]),S=async t=>{"Enter"===t.key&&!t.shiftKey&&c?await N():"Escape"===t.key&&e()};if(n.useEffect(()=>{let t=t=>{v.current&&!v.current.contains(t.target)&&(c&&""!==c?N():e())};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,v,N,c]),u){let e=new URL(c).host;return e.startsWith("www.")&&(e=e.slice(4)),n.createElement(a9.fI,{className:dS},n.createElement(e5.kt,{className:"add_developer_related_link_row--loadingSpinner--zWFF2"}),n.createElement(a9.UZ,null,e))}return n.createElement(a9.fI,{className:O()(dS,o&&P.cx.pb8.$)},n.createElement(td.B,{svg:dI.A,className:P.cx.colorIconSecondary.$}),n.createElement(dN.L,{ref:v,className:"add_developer_related_link_row--input--4Y-uG",onFocus:e=>{C(e),l()},onMouseUp:w,onMouseLeave:k,onChange:T,onKeyDown:S,onKeyUp:x,value:c,placeholder:(0,p.t)("dev_handoff.developer_related_links.link_placeholder"),autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",autoFocus:!0}))}var dL=a(44948),dO=a(330654);let dM=dO.object({type:dO.literal("PLAIN_TEXT"),text:dO.string()}),dP=dO.union([dM,dO.null()]),dR=dO.object({type:dO.literal("AUTH_REQUIRED")}),dD=(dO.union([dR,dM,dO.null()]),dO.object({type:dO.literal("AUTH_SUCCESS")}));function dF(e){if(!e)return null;try{let t=JSON.parse(e),a=dP.safeParse(t);if(!a.success)return null;return a.data}catch(t){return(0,aJ.$D)(aY.FigmaTeam.DEVELOPER_TOOLS,t,{extra:{previewJson:e}}),null}}dO.union([dD,dO.null()]);var dB=a(857766);function dU(e,t){let a=(0,u.Rs)(C.Ssd,{fileKey:e,nodeId:t});return(0,dL.k9)(()=>"loaded"===a.status&&a.data.file?.developerRelatedLinksForNode?[a.data.file.developerRelatedLinksForNode.map(e=>({...e,linkPreview:dF(e.linkPreviewJson)})),"loaded"]:[[],a.status],[a])}let dG=(0,ej.Ju)(function(e){let t=e.linkId,a=(0,ae.Nf)()??"",l=(0,b.tS)(),i=(0,au.eY)().get(a),o=(0,r.wA)(),s=async()=>{if(!l||!a)return;let e=(0,aT.Tz)({fileKey:l,linkId:t,nodeId:a,nodeType:i?.type,source:"web"});o(eC.Ce());try{await e}catch(e){console.error(e),o(eE.F.enqueue({message:`Could not delete link: ${e.message}`,error:!0,timeoutOverride:2e3}))}};return n.createElement(nc.Rw,{destructive:!0,confirmationTitle:(0,p.tx)("dev_handoff.developer_related_links.delete_link"),confirmText:(0,p.tx)("dev_handoff.developer_related_links.delete_link"),onConfirm:s},n.createElement("p",null,(0,p.tx)("dev_handoff.developer_related_links.delete_link_text_body")))},"DeveloperRelatedLinksDeleteModal");var dH=a(147755),dV=a(498750);let dK="developer_related_links_edit_modal--fieldContainer--Twtv-",dz="developer_related_links_edit_modal--label--cxfFD",dW=(0,ej.Ju)(function({initialLink:e,...t}){let a=N.a.useModal(t),{id:l,linkName:i,linkUrl:o}=e,[s,c]=n.useState(o),d=e.linkPreview?.text,[u,m]=n.useState(!e.isUserOverride&&d?"":i),[_,f]=n.useState(!1),g=(0,ae.Nf)()??"",h=(0,b.tS)(),E=(0,au.eY)().get(g),y=(0,r.wA)(),v=n.useCallback(e=>m(e.target.value),[]),C=n.useCallback(e=>c(e.target.value),[]),{inputRef:w,inputProps:{onFocus:k,onMouseUp:x,onMouseLeave:T,onKeyUp:I,onChange:A}}=(0,dT.X)({onChange:v}),L=aM(s),{inputRef:O,inputProps:{onFocus:M,onMouseUp:P,onMouseLeave:R,onKeyUp:D,onChange:F}}=(0,dT.X)({onChange:C}),B=async()=>{let t;if(!g||!h)return;let a=s;if((!(0,aP.G)(a)||!(0,aP.H)(a))&&(a="http://"+a,!(0,aP.G)(a))){y(eE.F.enqueue({message:(0,p.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}f(!0);let n=u;u&&""!==u||(n=await (0,aT.yf)(a)),s!==o&&u!==i?t=!0:s!==o?L&&(t=!1):u!==i&&(t=!!u||!e.linkPreview);let r=(0,aT.Cq)({fileKey:h,nodeId:g,linkId:l,name:n,url:a,isUserOverride:t,clearLinkPreview:s!==o,nodeType:E?.type,source:"web",pluginId:L?.plugin.plugin_id});L&&!t&&L.genPreview({link:{...e,linkUrl:s,linkName:u,isUserOverride:!1}}),y(eC.Ce());try{await r}catch(e){console.error(e),y(eE.F.enqueue({message:`Could not edit link: ${e.message}`,error:!0,timeoutOverride:2e3}))}},U=_||!s||i===u&&o===s,G=e=>{e.keyCode===dV.Uz.ENTER&&!e.shiftKey&&u&&s?B():e.keyCode===dV.Uz.ESCAPE&&y(eC.Ce())},H=(0,dH.X)();return n.createElement(N.a.Root,{manager:a,width:"md"},n.createElement(N.a.Contents,null,n.createElement(N.a.Header,null,n.createElement(N.a.Title,null,(0,p.tx)("dev_handoff.developer_related_links.edit_link"))),n.createElement(N.a.Body,null,n.createElement("div",{className:dK},n.createElement("p",{className:dz},(0,p.tx)("dev_handoff.developer_related_links.link")),n.createElement(dN.L,{ref:O,className:"developer_related_links_edit_modal--input--mw5Qe",onFocus:M,onMouseUp:P,onMouseLeave:R,onChange:F,onKeyDown:G,onKeyUp:D,value:s,autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",disabled:_})),n.createElement("div",{className:dK},n.createElement("p",{className:dz},(0,p.tx)("dev_handoff.developer_related_links.name")),n.createElement("div",{className:"developer_related_links_edit_modal--inputContainer--jplkF"},n.createElement("div",{className:"developer_related_links_edit_modal--favicon--aNxtZ"},n.createElement(tT.v,{url:o})),n.createElement(dN.L,{ref:e=>{H(e),w.current=e},className:"developer_related_links_edit_modal--inputName--oSwwG",onFocus:k,onMouseUp:x,onMouseLeave:T,onChange:A,onKeyDown:G,onKeyUp:I,value:u,autoCorrect:"off",autoFocus:!0,recordingKey:"devRelatedLinkNameInput",disabled:_,placeholder:d})))),n.createElement(N.a.Footer,null,n.createElement(N.a.ActionStrip,null,n.createElement(S.$n,{variant:"secondary",onClick:()=>y(eC.Ce())},(0,p.tx)("dev_handoff.developer_related_links.cancel")),n.createElement(S.$n,{onClick:B,disabled:U,type:"submit"},(0,p.tx)("dev_handoff.developer_related_links.edit_link"))))))},"DeveloperRelatedLinksEditModal"),dj="developer_related_links_panel--addButton--0Fv7K draggable_list--addButton--D0q--",dq="developer_related_links_panel--hint--n8Jpr text--fontPos11--2LvXf text--_fontBase--QdLsd",dY="dev_handoff_dev_resources_plus_icon_clicked_once",dX=(0,ag.eU)(!1);function dJ({links:e,status:t,isVariant:a=!1}){return"loaded"!==t||"loaded"===t&&0===e.length?null:n.createElement(n.Fragment,null,e.map(e=>n.createElement(aR,{key:e.linkUrl,isEditable:!1,link:{...e,isInherited:!0,isVariant:a},onOpenDeleteModal:m.lQ,onOpenEditModal:m.lQ})))}function dZ(){let e=(0,r.wA)(),t=(0,ae.Nf)()??"",a=(0,b.uL)()??"",o=(0,au.eY)(),c=(0,eo.uQ)(),d=(0,r.d4)(e=>e.mirror.appModel.currentPage),m=o.get(c??d),_=m?.type==="SYMBOL"||m?.isStateGroup,f=(0,s.wS)(),g=(0,ec.U)(),h=(0,lZ.LS)(),E=!!(0,dk.f)(dY),y=function(){let e=dw(),t=(0,b.q5)(),a=t?.repo,n=!!(t&&a&&(0,dB.Ns)(t,a))||!a;return!e&&n}(),v=dw(),[w,k]=function(e){let t=(0,u.Rs)(C.jJU,{fileKey:e});return(0,dL.k9)(()=>"loaded"===t.status&&t.data.file?.developerRelatedLinks?[t.data.file.developerRelatedLinks.map(e=>({...e,linkPreview:dF(e.linkPreviewJson)})),"loaded"]:[[],t.status],[t])}(a),x=n.useMemo(()=>w.filter(e=>e.nodeId===t)??[],[w,t]),[T,N]=n.useState(!1),{singleBackingSymbol:S,singleBackingStateGroup:I}=(0,dx.$)([m?.guid??""]),{backingSymbol:A,backingStateGroup:L}=(0,s.Bv)(S,I),M="loaded"===f.status,P=m?.type==="INSTANCE"||M,R=(0,aa.yW)(A),[D,F]=dU(R??"",A?.publishID??""),[B,U]=dU(R??"",L?.publishID??""),G=!!R&&R!==a,H=A?.guid;P&&H&&!G&&(D=w.filter(e=>e.nodeId===H)??[],F=k),P&&L&&!G&&(B=w.filter(e=>e.nodeId===L.guid)??[],U=k);let[V,K]=n.useState(!1),z=n.useCallback(()=>{m?.isAlive()&&(K(!0),E||e(J.b({[dY]:!0})),g("Dev Handoff Related Links Click Plus Icon",{nodeId:t,nodeType:m?.type,source:"web"}))},[E,g,t,m,e]),[W,j]=(0,i.fp)(dX);n.useEffect(()=>{W&&(z(),j(!1))},[W,z,j]);let q=y&&x.length<10,Y=n.useMemo(()=>w&&function(e,t,a){let n=new Map,r=new Map;return e.forEach(e=>{if(l.glU.getPageIdFromNode(e.nodeId)!==a)return;let i=t.get(e.nodeId);for(;i;){let t=r.get(i.guid);if(t){n.get(t)?.push(e);return}let a=i.parentNode;if(!a||"SECTION"===i.type||"CANVAS"===i.type)return;if("FRAME"===i.type&&!i.isStateGroup&&!i.resizeToFit&&(a?.type==="SECTION"||a?.type==="CANVAS")){n.get(i.guid)?n.get(i.guid)?.push(e):n.set(i.guid,[e]),r.set(e.nodeId,i.guid);return}i=a}}),n}(w,o,d),[w,t,d]);if(0===x.length&&v)return null;let X=eZ.z4.getIsExtension(),Z=t=>{e((0,eC.to)({type:dW,data:{initialLink:t}}))},Q=(t,a)=>{e((0,eC.to)({type:dG,data:{linkId:t,initialLinkUrl:a}}))},$=m?.type==="SECTION"&&Y&&function(e,t){let a=new Map;for(let n of t.childrenNodes){let t="FRAME"===n.type&&e.get(n.guid);t&&a.set(n.guid,t)}return a}(Y,m),ee=x.length>0||V||D.length>0||B.length>0||!h&&Y&&Y.size>0||$&&$.size>0,et="loaded"===k&&"loaded"===F&&"loaded"===U;return n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.developer_related_links.links"),recordingKey:"developerLinks",headerChildren:n.createElement(n.Fragment,null,!et&&n.createElement(a9.fI,{className:"developer_related_links_panel--spinner--2ofDP draggable_list--addButton--D0q--"},n.createElement(e5.kt,{className:dj})),et&&q&&!T&&n.createElement("span",{className:dj},n.createElement(t3.K,{"aria-label":(0,p.t)("dev_handoff.developer_related_links.add_link_button"),onClick:z,recordingKey:"addDevRelatedLink",htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.developer_related_links.add_link_button"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(db.x,null)))),hideHeader:X},!ee&&(!E||X)&&et&&n.createElement(a9.fI,{className:O()("developer_related_links_panel--spinnerContainer--d-B-K")},n.createElement(a9.JU,{className:O()(X?"developer_related_links_panel--hintExtension--KCW5n text--fontPos11--2LvXf text--_fontBase--QdLsd":dq)},(0,p.tx)("dev_handoff.developer_related_links.empty_info"))),x.map(e=>n.createElement(aR,{key:e.linkUrl,isEditable:y&&"figmadoc"!==e.id,link:{...e,isInherited:!1},onOpenDeleteModal:Q,onOpenEditModal:Z})),V&&n.createElement(dA,{onCancel:()=>{K(!1),N(!1)},onSuccess:()=>{K(!1),N(!1)},onFocus:()=>N(!0),onUnfocus:()=>N(!1),existingUrls:x.map(e=>e.linkUrl),addExtraPadding:!(D.length>0||B.length>0||x.length>0)}),L&&P&&n.createElement(dJ,{status:U,links:B}),D&&P&&n.createElement(dJ,{status:F,links:D,isVariant:null!==L}),n.createElement(d0,{links:[...x,...D,...B]}),!h&&Y&&n.createElement(dQ,{frameToLinks:Y}),m?.type==="SECTION"&&$&&n.createElement(dQ,{frameToLinks:$}),ee&&!V&&_&&n.createElement(a9.JU,{className:O()(dq)},(0,p.tx)("dev_handoff.developer_related_links.component_inherited_links_desc")))}function dQ(e){let t=(0,au.eY)();return n.createElement(n.Fragment,null,Array.from(e.frameToLinks.entries()).map(([a,r],l)=>n.createElement(d$,{key:l,guid:a,sceneGraph:t,links:r,isLast:l===e.frameToLinks.size-1})))}function d$(e){let{guid:t,sceneGraph:a}=e,[r,i]=n.useState(!1),o=a.get(t),[s,c]=n.useState(!1);if(!o)return null;let d=o.name;return s||(d=d+" ("+e.links.length+")"),n.createElement("div",{className:O()(s&&!e.isLast&&P.cx.pb8.$),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},n.createElement("div",{className:"developer_related_links_panel--sectionHeader--VHgzU"},n.createElement(I.E,{className:"developer_related_links_panel--sectionHeaderButton--hvqKn",onClick:e=>{e.stopPropagation(),c(!s)},actionOnPointerDown:!0},n.createElement("div",{className:"developer_related_links_panel--sectionHeaderButtonContent--p4hHo"},n.createElement(td.B,{className:"developer_related_links_panel--expandCaret--2h9sN",svg:s?th.A:sp.A}),n.createElement(tJ.Bf,{className:"developer_related_links_panel--layerIcon--NG2rK",guid:o.guid}),n.createElement("div",{className:"developer_related_links_panel--sectionName--xeFyg text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},d))),r&&n.createElement("span",{className:"developer_related_links_panel--goToTargetButton--JZoyi"},n.createElement(t3.K,{onClick:()=>l.w3z.selectAndFocusOnNode(o.guid,!0),"aria-label":(0,p.t)("dev_handoff.developer_related_links.select_frame"),htmlAttributes:{"data-tooltip":(0,p.t)("dev_handoff.developer_related_links.select_frame"),"data-tooltip-type":tj.Ib.TEXT}},n.createElement(dC.A,null)))),s&&e.links.map((e,t)=>n.createElement(aR,{key:t,link:{...e,isInherited:!1,isNested:!0},isEditable:!1,onOpenDeleteModal:m.lQ,onOpenEditModal:m.lQ})))}function d0({links:e}){let[t,a]=(0,i.fp)(ah),r=n.useMemo(()=>{let a=new Set(e.map(e=>e.linkUrl));return Object.values(t).filter(e=>!!e&&e.links.some(e=>a.has(e.linkUrl)))},[e,t]);async function l({links:e,plugin:t}){if(await aN.instance.runAuth({plugin:t,links:e.map(e=>({url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId}))})){a(e=>{let a={...e};return delete a[t.plugin_id],a});try{await Promise.all(e.map(e=>aN.instance.generateLinkPreview({plugin:t,link:e})))}catch(e){console.error(e)}}}return r&&0!==r.length?n.createElement(ed.Y,{spacing:4,direction:"vertical",width:"fill-parent",horizontalAlignItems:"start",padding:{top:4,left:16}},Array.from(r).map((e,t)=>n.createElement(em.E,{key:t},(0,p.tx)("dev_handoff.related_links.plugin.auth_required",{button:n.createElement("button",{className:P.cx.colorTextBrand.bgTransparent.$,onClick:()=>l({links:e.links,plugin:e.plugin})},n.createElement(em.E,null,(0,p.tx)("dev_handoff.related_links.plugin.connect_to",{pluginName:e.plugin.name})))})))):null}var d1=a(347082),d2=a(751392),d5=a(928e3),d3=a(470669),d4=a(621856),d6=a(420186),d7=a(746806),d8=a(984031);let d9="selection_styles_panel--selected--Jjay3",ue="selection_styles_panel--styleProperties--c0D7S",ut=(0,n7.jz)(su.q9j);function ua(){let e=l0("EFFECT"),t=l0("TEXT");return n.createElement(n.Fragment,null,e.visibleItems.length>0&&n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.selection_effect_styles"),recordingKey:"handoffEffectStyles"},e.visibleItems.map(e=>n.createElement(un,{key:e?.key,styleData:e})),e.showMoreButton),t.visibleItems.length>0&&n.createElement(tQ.VZ,{title:(0,p.t)("dev_handoff.selection_text_styles"),recordingKey:"handoffTextStyles"},t.visibleItems.map(e=>n.createElement(un,{key:e?.key,styleData:e})),t.showMoreButton))}function un({styleData:e}){let t=n.useRef(null),a=(0,r.d4)(e=>e.modalShown),i=(0,r.wA)(),o=(0,tZ.Cj)(e.styleName),s=n.useCallback(n=>{if(n.stopPropagation(),!t.current)return;l.glU.selectStyleByGuid(e.styleNodeId),a&&i(eC.Ce());let r=(0,d6.cn)(t?.current,ut+4);i(eC.$O({type:ud.type,data:{styleData:e,position:r}}))},[i,a,e]),c=a?.type===ud.type&&a?.data?.styleData?.styleNodeId===e.styleNodeId;return n.createElement("div",{className:O()("selection_styles_panel--styleRow--t--sj",c&&d9),onMouseEnter:()=>l.kTx.highlightOnlySameStyleInSublayers(e.guids),onMouseLeave:()=>l.kTx.highlightOnlySameStyleInSublayers([]),ref:t},n.createElement(I.E,{onClick:o,"aria-label":(0,p.t)("dev_handoff.selection_styles_copy"),className:"selection_styles_panel--styleCopyButton--RHcE4"},n.createElement("div",{className:"selection_styles_panel--icon--6ej2T"},n.createElement(l6.zi,{dsStyle:e,disableTooltip:!0})),n.createElement("div",{className:"selection_styles_panel--styleNameRow--vKSSL text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.styleName)),n.createElement("div",{className:"selection_styles_panel--spacer--U8nHK"}),n.createElement("div",{className:O()("selection_styles_panel--detailsButton--puJ6O",c&&d9)},n.createElement(t3.K,{"aria-label":(0,p.t)("general.open"),onClick:s},n.createElement(tL.J,null))))}function ur({data:e}){let{styleData:t,position:a}=e,{style_type:l,name:o,styleNodeId:s}=t,c=(0,eo.uQ)(),d=(0,a1.ZC)(c),u=(0,r.d4)(e=>e.mirror.selectedStyleProperties),_=(0,r.wA)(),f=n.useRef(null),g=function({initialInspectionMode:e,initialCodeLanguage:t}={}){let a=(0,i.md)(c$.hq),[r,l]=(0,n.useState)(e??a),o=(0,tS.v4)(),[s,c]=(0,n.useState)(t??o),d=(0,ld.aq)(s),u=(0,i2.ZA)(s,d),m=(0,d4.q)(s),p=(0,ld.gc)(s.id),_=(0,d3.V0)({codeLanguage:s,onChange:c}),f=(0,c$.Ar)();return{inspectionMode:f.find(e=>e===r)||f[0],setInspectionMode:l,supportsAlternativeUnits:u,preferenceOptions:m,preferences:p,codeLanguageApi:_,inspectionModes:f}}(),{inspectionMode:h,codeLanguageApi:E}=g,y=n.useCallback(()=>{_(eC.Ce())},[_]);n.useEffect(()=>{d&&c!==d&&y()},[y,d,c]);let v="EFFECT"===l?(0,p.t)("dev_handoff.selection_effect_style_details"):(0,p.t)("dev_handoff.selection_text_style_details"),b="TEXT"===l?n.createElement(di,{nodeId:s}):n.createElement(d8.we,{selectedStyleProperties:u,snug:!0});return n.createElement(d1.p,{name:"selection_style_detail_modal"},n.createElement(d7.vx,{title:v,headerSize:"small",initialWidth:ut,initialPosition:a,recordingKey:"handoffStyleDetailsModal",onClose:y,autoflowHeight:!0,dragHeaderOnly:!0,alwaysEnsureModalOnScreen:!0,alwaysEnsureHeaderModalOnScreen:!0},n.createElement(tQ.VZ,{hideHeader:!0,padding:tQ.UZ.NONE,noBorder:!0,recordingKey:"styleDetails"},b,n.createElement("div",{className:"selection_styles_panel--header--zwndz"},!t.isLocal&&n.createElement(d5.J,{libraryFileKey:t.file_key,containerClassName:"selection_styles_panel--library--abEh8"}),n.createElement("div",{className:"selection_styles_panel--name--kqyUR text--fontPos13--xW8hS text--_fontBase--QdLsd"},o),n.createElement(ul,{styleNodeId:s,key:s})),n.createElement(aq.P,{ref:f,className:"selection_styles_panel--scrollContainer--3PiSE",onContextMenu:m.lQ},n.createElement(uc,{preferencesApi:g,dropdownPrefix:"textStyle"}),"code"===h&&E?n.createElement(ui,{styleNodeId:s,codeLanguageApi:E}):n.createElement("EFFECT"===l?uo:us,{styleNodeId:s})))))}function ul({styleNodeId:e}){let t=(0,sr.Fk)((e,t)=>{if(!t)return;let a=e.get(t);if(a&&a.isAlive())return a?.description},e);return n.createElement(d2.X,{description:t,containerClassName:"selection_styles_panel--description--bu6pw"})}function ui({codeLanguageApi:e,styleNodeId:t}){let a=(0,tS.AC)(e.codeLanguage),r=(0,tS.Pt)(a);return n.createElement(cu,{overrideNodeId:t,hideLayoutAndColor:!0,sectionClassName:"selection_styles_panel--styleCodeSection--dTT2-",localCodeLanguage:e.codeLanguage,emptyStateMessage:(0,p.t)("dev_handoff.code.unsupported",{language:r.format(e.codeLanguage)})})}function uo({styleNodeId:e}){let t=(0,sr.Fk)((e,t)=>{let a=e.get(t);if(a&&a.isAlive())return a.effects.reverse()},e),a=(0,cj.d7)(t??[]);return a&&0!==a.length?n.createElement("div",{className:ue},a.map((t,a)=>n.createElement(cj.rK,{key:`${e}-${a}`,...t}))):null}function us({styleNodeId:e}){let{isNodeInvalid:t,family:a,style:r,weight:l,size:i,lineHeight:o,letterSpacing:s}=(0,sr.Fk)((e,t)=>{let a=e.get(t);return a&&a.isAlive()?{family:a?.fontName.family,style:a?.fontName.style,weight:a?.fontWeightOrMixed,size:a?.fontSize,lineHeight:a?.lineHeightOrMixed==="mixed"?void 0:a?.lineHeightOrMixed,letterSpacing:a?.letterSpacing}:{isNodeInvalid:!0}},e);return t?null:n.createElement("div",{className:ue},n.createElement(tQ._p,{name:(0,p.t)("inspect_panel.typography.font"),value:a}),n.createElement(tQ._p,{name:(0,p.t)("inspect_panel.typography.weight"),value:l}),n.createElement(tQ._p,{name:(0,p.t)("inspect_panel.typography.style"),value:r}),n.createElement(tQ.YE,{name:(0,p.t)("inspect_panel.typography.size"),value:i}),n.createElement(tQ.di,{name:(0,p.t)("inspect_panel.typography.line_height"),value:o}),n.createElement(tQ.di,{name:(0,p.t)("inspect_panel.typography.letter"),value:s}))}function uc({preferencesApi:e,dropdownPrefix:t}){return n.createElement("div",{className:"selection_styles_panel--preferencesRow--7Wgoe"},n.createElement(lW.n2,{preferencesApi:e,inspectionModeLayout:"tabs",dropdownPrefix:t}))}let ud=(0,ej.Ju)(function(){let e=(0,r.d4)(e=>e.modalShown);return e&&e.type===ud.type?n.createElement(ur,{...e}):null},"dev_mode_selection_style_details_modal");function uu(){return(0,c4.VX)(ct.s4.FILL),(0,c4.VX)(ct.s4.STROKE),(0,c4.VX)(ct.s4.TEXT),(0,c4.VX)(ct.s4.EFFECT),null}function um(e){let t=(0,c0.q)(),a=(0,lZ.LS)(),r=(0,ae.ro)(),l=c9(),o=(0,eo.VW)(),s=(0,eo.NM)(),c=(0,c$.sQ)(),d=(0,lu.AF)(),u=(0,lu.h)(),_=(0,a6.Um)(),f=n.useRef(null),g=(0,au.eY)(),h=eZ.z4.getIsExtension(),E=(0,si.$F)(o),y=(0,i.md)(sV.be),[v,b]=n.useState(!1);n.useEffect(()=>{b(!1)},[o?.guid]);let C=(0,nn.mr)(o?.guid??"",g),w=(0,tR.kc)().dt_figmadoc&&C&&r&&!v;return n.createElement("div",{className:"inspect_panel--inspectPanelContainer--SZhfY"},t&&n.createElement(c2.Mw,{panelName:c2.ON.HANDOFF}),n.createElement(cr,{plugin:y??null}),a&&!h&&n.createElement(ll,{lastViewTimestamp:e.lastViewTimestamp}),s&&!h&&n.createElement(la,null),n.createElement(uu,null),n.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},n.createElement(aq.P,{ref:f,className:"inspect_panel--scrollContainer--wwC0l properties_panel--scrollContainer--o2LxW",onContextMenu:m.lQ,scrollingDisabled:!!_},n.createElement(D.fu,{name:c1.e0.CODE_PANEL},n.createElement(ce.i,null,n.createElement("div",{className:h?"inspect_panel--inspectPanelContentsBottomAligned--MOK20":"inspect_panel--inspectPanelContents--iYf8P"},a?n.createElement(n.Fragment,null,r&&n.createElement(rN,null),(0,tR.kc)().dt_code_connect_go_to_parent&&n.createElement(nH,null),(0,tR.kc)().dse_editor_templates_v1&&l&&n.createElement(dv,null),n.createElement(dZ,null),w?n.createElement("div",{className:"inspect_panel--inspectLayerPropertiesButtonContainer--zgz1r"},n.createElement(S.IK,{onClick:()=>b(!0),variant:"secondary"},(0,p.tx)("dev_handoff.inspect_panel.show_more_properties"))):n.createElement(n.Fragment,null,n.createElement(cQ,null),E&&n.createElement(n.Fragment,null,n.createElement("div",{className:P.cx.pt4.$},n.createElement(lW.pm,null)),n.createElement("div",{className:O()("inspect_panel--layerPreview--hxLhR",eZ.z4.getIsExtension()&&"inspect_panel--isInExtension--kzn7u")},n.createElement(df,null)),n.createElement(dg.J,null),c&&d?n.createElement(cu,null):n.createElement(cX,null)),n.createElement(c7.GO,null),n.createElement(c5.t,null),E&&n.createElement(l7,null),(0,tR.kc)().dt_lego_selection_styles&&n.createElement(ua,null),n.createElement(c6.L,null)),n.createElement(c8.L,null)):s?n.createElement(n.Fragment,null,n.createElement(l7,null),(0,tR.kc)().dt_lego_selection_styles&&n.createElement(ua,null),n.createElement(c6.L,null),n.createElement(c8.L,null)):n.createElement(n.Fragment,null,u&&n.createElement(sG,null),d&&n.createElement(i1.$b,null),n.createElement(c3.A,null),n.createElement(dZ,null),n.createElement(cK,null)),n.createElement("div",null)))))))}var up=a(31913);let u_=()=>{sa.Y5.triggerAction("deselect-all")};function uf({version:e}){let t=(0,t0.R)(),a=(0,r.wA)(),l=(0,ev.hA)(),i=function(e,t){if(!t.dev_mode_activity||0===t.dev_mode_activity.length)return;let a=e?t.dev_mode_activity.find(t=>t.node_id===e):t.dev_mode_activity[0];if(a)return{id:a.id,activityType:a.activity_type,timestamp:new Date(a.timestamp),version:{id:t.id,description:t.description??null},user:{id:t.user.id,name:t.user.handle,imgUrl:t.user.img_url},metadata:a.metadata}}(l,e),o=l&&i?n.createElement(cP,{activity:i}):n.createElement(cx.YL,{item:e});return n.createElement(cx.jP,{description:e.description,label:"activity-row",displayText:o,view:null,iconOverride:i?cU(t,i,!0):void 0,onSelect:m.lQ,isActive:!0,user:e.user.handle,userUrl:e.user.img_url,isAllowedToChangeVersion:()=>!1,versionId:e.id,dispatch:a,first:!1,last:!0,isUI3:t,editorType:eI._Y.DESIGN,time:l?void 0:e.edited_at})}function ug({versions:e}){let t=cB(),{activeId:a}=(0,r.d4)(e=>e.versionHistory),i=(0,r.d4)(e=>e.openFile?.canEdit),o=(0,r.wA)(),s=(0,ev.hA)(),c=cG(),d=cF(),u=t?e[0]:e.find(e=>e.id===a),m=new e0.q(l.juq.LIVE_FILE).get(s??""),_=m?.editInfo?.lastEditedAt;return u?n.createElement("div",{className:P.cx.flex.flexColumn.borderBox.bSolid.bb1.colorBorder.$},s?null:n.createElement(cx.s3,{onClose:d,addSavepoint:()=>{o((0,eC.to)({type:cN.yU,data:{}})),u_()},isViewOnly:!i}),n.createElement("div",null,n.createElement(cH,{lastEditedAt:_,hasEdits:!1,isActive:t,onSelect:()=>{s?c(s):(o(up.Fm({id:cw.V_})),u_())},focusNodeId:s}),!t&&n.createElement(uf,{version:u})),n.createElement(ih.N_,{className:P.cx.flex.pt6.pb6.pl16.pr16.itemsCenter.$,onClick:u_,trusted:!0},(0,p.tx)("dev_handoff.version_history.view_all_versions"))):null}var uh=a(233890),uE=a(103907),uy=a(457749);function uv(){return n.createElement("div",{className:"dev_handoff_comments_panel--devHandoffCommentsPanel--1Lqo9"},n.createElement(uE.j9.Consumer,null,()=>n.createElement(uy.B,{stackHeader:!1,hideResolve:!1})))}let ub=n.memo(function(){let{commentsActive:e,isNodeSelected:t,versionHistoryActive:a}=(0,er.R)(e=>({commentsActive:e.mirror.appModel.currentTool===el.ec.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===l.m1T.DEV_HANDOFF_HISTORY})),r=(0,tV.GS)(),o=(0,ev.hA)(),s=(0,i.md)(ei.H),c=(0,tw.E1)(),d=(0,tq.jh)(o??void 0);es({doReport:!0});let u=a&&!t&&!o,p=a&&t,_=s===ei._.PRIMARY&&!e&&!u;return n.createElement(uh.vL,{name:"rightPanels",focusOnMount:!0,handleKeyDown:m.lQ},n.createElement("div",{id:"dev-handoff-inspect-panel"},n.createElement(s9,null,u&&n.createElement(cx.yU,{isUI3:r}),p&&n.createElement(ug,{versions:d.versions}),e&&n.createElement(uv,null),_&&n.createElement(um,{lastViewTimestamp:c}),n.createElement(sQ,null))))});var uC=a(961747),uw=a(553551);let uk="dev-handoff-breadcrumbs-dropdown",ux="dev-handoff-collapsed-breadcrumb-dropdown";function uT(e){return!!e}function uN(){let e=n.useRef(null),[t,a]=n.useState(null),r=n.useCallback(()=>{a(e?.current?.getBoundingClientRect()||null)},[e]);return n.useEffect(()=>(r(),uC._.addListener(r),window.addEventListener("resize",r),()=>{uC._.removeListener(r),window.removeEventListener("resize",r)}),[r]),[e,t,r]}function uS({selectedNode:e,targetRect:t}){let a=(0,r.wA)(),l=(e=>{let t=e.parentNode;return t?.childrenNodes??[e]})(e).map(t=>{let a=t?function({children:e}){return e.map(e=>({displayText:e.name,onMouseEnter:()=>a4.Uc(e.guid),onMouseExit:()=>a4.Uc(""),icon:n.createElement(tJ.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>a4.tJ([e.guid])})).filter(uT)}({children:t.childrenNodes}):void 0;return t?{displayText:t?.name??"",isChecked:t.guid===e.guid,onMouseEnter:()=>a4.Uc(t.guid),onMouseExit:()=>a4.Uc(""),icon:n.createElement(tJ.Bf,{guid:t?.guid??"",isMenuIcon:!0}),callback:()=>a4.tJ([t.guid]),children:a&&a.length>0?a:void 0,callbackOnClickWithChildren:!0}:null}).filter(uT);return n.createElement(oG.j,{showPoint:!1,items:l,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:t,dispatch:a,displayAboveTarget:!0})}function uI({nodeID:e}){let t=(0,r.wA)(),[a,l,i]=uN(),o=(0,a6.Um)(),s=(0,au.eY)().get(e);if(!s)return null;let c=o?.type===uk,d="INSTANCE"===s.type||"SYMBOL"===s.type;return n.createElement(n.Fragment,null,c&&l&&n.createElement(uS,{selectedNode:s,targetRect:l}),n.createElement("button",{className:"dev_handoff_breadcrumbs--pathElementSelected--w9aeS dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){i(),c||t(eb.j7({type:uk,data:{hasOwnEscKeyHandler:!1}}))},ref:a,title:s.name},n.createElement(tJ.Bf,{guid:s.guid,className:d?"dev_handoff_breadcrumbs--layerIconPurple--Qit6B":"dev_handoff_breadcrumbs--layerIcon--jR8ti"}),s.name))}function uA({nodeID:e}){let t=(0,au.eY)().get(e);return t?n.createElement("button",{title:t.name,className:"dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:()=>a4.tJ([t.guid]),onMouseEnter:()=>a4.Uc(t.guid),onMouseLeave:()=>a4.Uc("")},t.name):null}function uL({nodeIDs:e}){let t=(0,r.wA)(),[a,l,i]=uN(),o=(0,a6.Um)(),s=o?.type===ux,c=(0,au.eY)(),d=e.map(c.get).filter(tI.isNotNullish),u=d.map(e=>({displayText:e.name,onMouseEnter:()=>a4.Uc(e.guid),onMouseExit:()=>a4.Uc(""),icon:n.createElement(tJ.Bf,{guid:e.guid,isMenuIcon:!0}),callback:()=>a4.tJ([e.guid])}));return n.createElement(n.Fragment,null,s&&l&&n.createElement(oG.j,{showPoint:!1,items:u,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:l,dispatch:t,displayAboveTarget:!0}),n.createElement("button",{ref:a,className:"dev_handoff_breadcrumbs--pathElementCollapsed--uY2eU dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){i(),s||t(eb.j7({type:ux,data:{hasOwnEscKeyHandler:!1}}))},title:(0,p.t)("dev_handoff.breadcrumbs.hidden_nodes",{count:d.length})},(0,p.t)("dev_handoff.breadcrumbs.ellipsis")))}let uO=n.memo(()=>{let{selectedNodeID:e}=(0,er.R)(e=>({selectedNodeID:Object.keys(e.mirror.sceneGraphSelection)[0]})),t=(0,iI.J2)(l.Ez5.devHandoffState().currentNodeId),a=(0,sr.Fk)((e,t,a)=>{let n=e.get(t);return n?function(e){return e.length<=4?e:[e[0],e.slice(1,-2),e[e.length-2],e[e.length-1]]}([...function e(t,a){if(a.guid===t)return[];let n=a.parentNode;return n?[...e(t,n),n]:[]}(a,n),n]):[]},e,t),r=e0.q.instance.get(e);return 0!==a.length&&r?n.createElement("div",{className:"dev_handoff_breadcrumbs--container--BoCAA"},a.map((e,t)=>{let r=t===a.length-1,l=n.createElement(td.B,{svg:uw.A,className:r?"dev_handoff_breadcrumbs--chevronIconSelected--NrpAP dev_handoff_breadcrumbs--chevronIcon--MAw4y":"dev_handoff_breadcrumbs--chevronIcon--MAw4y",height:"3px",width:"6px"});return Array.isArray(e)?n.createElement(n.Fragment,{key:e.map(e=>e.guid).join("-")},l," ",n.createElement(uL,{nodeIDs:e.map(e=>e.guid)})):r?n.createElement(n.Fragment,{key:e.guid},l," ",n.createElement(uI,{nodeID:e.guid})):n.createElement(n.Fragment,{key:e.guid},l," ",n.createElement(uA,{nodeID:e.guid}))})):null});var uM=a(536825),uP=a(949632),uR=a(227944),uD=a(333483);let uF="dev_handoff_index_view_zoom_control--zoomButton--l1ZDl",uB="dev_handoff_index_view_zoom_control--buttonDisabled--krwH2";function uU(){let{Dropdown:e,toggleDropdown:t,dropdownTargetRef:a}=(0,tX.B)("DEV_HANDOFF_INDEX_VIEW_ZOOM_DROPDOWN"),r=(0,uR.Zr)("zoom-out"),i=(0,uR.Zr)("zoom-in"),o=Math.round(100*(0,iI.J2)((0,uP.d)().activeCanvasCurrentZoom)).toString(),s=[{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_actual_size"),callback:()=>l.glU.setCanvasZoomScale(1)},{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_screen"),callback:()=>l.w3z.setFocusZoomLevel(l.i1K.FIT_TO_SCREEN)},{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_width"),callback:()=>l.w3z.setFocusZoomLevel(l.i1K.FIT_TO_WIDTH)},{displayText:(0,p.t)("dev_handoff.vscode.zoom_control.zoom_options_fill_screen"),callback:()=>l.w3z.setFocusZoomLevel(l.i1K.FILL_SCREEN)}];return n.createElement("div",{className:"dev_handoff_index_view_zoom_control--container--oBEBg",ref:a},n.createElement(I.E,{className:O()(uF,uD.NB,{[uD.pq]:r}),onClick:()=>sa.Y5.triggerAction("zoom-out",{source:"vscode-zoom-menu"}),disabled:!r,"aria-label":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_out_button"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_out_button")}},n.createElement(uM.O,{className:O()({[uB]:!r})})),n.createElement("button",{className:"dev_handoff_index_view_zoom_control--zoomLevel--uI6yg text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{width:`${Math.max(o.length,4)}em`},onClick:t},o,"% ",n.createElement(td.B,{svg:r0.A})),n.createElement(I.E,{className:O()(uF,uD.NB,{[uD.pq]:i}),onClick:()=>sa.Y5.triggerAction("zoom-in",{source:"vscode-zoom-menu"}),disabled:!i,"aria-label":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_in_button"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.vscode.zoom_control.zoom_in_button")}},n.createElement(tb.e,{className:O()({[uB]:!i})})),n.createElement(e,{items:s,showPoint:!0,displayAboveTarget:!0}))}var uG=a(870505),uH=a(901765),uV=a(741951);function uK({isToolbarOpen:e}){let[t,a]=n.useState(!1),r=n.useRef(null),i=n.useRef(null),o=n.useRef(null),[s,c]=n.useState(null),d=(0,iI.J2)(l.Ez5.devHandoffState().currentNodeId),u=(0,eo.uQ)(),{inspectableRootNodeId:m,didSelectRow:_}=sP(d,u);n.useEffect(()=>a(!1),[u]),(0,uH.L)(i,()=>{t&&a(!1)},!0);let f=n.useCallback(()=>{a(!1)},[a]);return n.createElement("div",{ref:i,className:"frame_picker--container--tkwaQ"},n.createElement("button",{className:"frame_picker--trigger--ZPMqZ",ref:r,onClick:function(){if(t)a(!1);else{let e=r.current?.getBoundingClientRect();e&&(c(e),a(!0))}},"data-tooltip":(0,p.t)("dev_handoff.tag.layers"),"data-tooltip-type":tj.Ib.TEXT,"data-tooltip-show-above":!0},n.createElement(td.B,{svg:uV.A})),s&&n.createElement(cT.Cf,{className:t?void 0:"frame_picker--closedDropdown--ynVzU",targetRect:s,displayAboveTarget:!0,type:cT.it.MATCH_BACKGROUND,disableDropdownScrollContainer:!0,propagateCloseClick:!0},n.createElement("div",{ref:o,className:O()("frame_picker--frames--vobWI",e&&"frame_picker--isToolbarOpen--i2EBR")},n.createElement(sD,{onRowClick:f,didSelectRow:_,inspectableRootNodeId:m}))))}var uz=a(109388);let uW="inspect_tabs--column--6BLEt",uj="inspect_tabs--settingImage--VEeXo",uq="inspect_tabs--codeContainer--G3I2n",uY="inspect_tabs--codeContent--HOypb",uX="inspect_tabs--codeBoxModelInline--o-8PU",uJ="inspect_tabs--codeBoxModelSide--4N2rL";var uZ=a(841822);let uQ="DEV_HANDOFF_DEV_RESOURCE_DROPDOWN";function u$(e){return n.createElement("div",{className:"inspect_tabs--setting--OTZN3"},n.createElement("div",{className:"inspect_tabs--settingRow--qP9rB"},n.createElement("div",{className:"inspect_tabs--settingLabel--Fr85N"},e.label),n.createElement("button",{className:"inspect_tabs--settingLink--YT0SJ",onClick:e.onClick},(0,p.tx)("dev_handoff.inspect_panel.open_setting"))),n.createElement("div",{className:"inspect_tabs--settingDescription--Fxbgh"},e.description))}function u0(){let e=(0,eo.VW)();return(0,lu.h)()?n.createElement(sG,null):e?n.createElement("div",{className:uq},n.createElement("div",{className:uX},n.createElement(df,null)),n.createElement("div",{className:uY},n.createElement(t8.tH,{boundaryKey:"Figmadoc",fallback:t8.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(nV,null)),n.createElement(dg.J,null),n.createElement(cu,null),n.createElement(c7.GO,null),n.createElement(c5.t,null),n.createElement(l7,null),(0,tR.kc)().dt_lego_selection_styles&&n.createElement(ua,null)),n.createElement("div",{className:uJ},n.createElement(df,{fillContainer:!0}))):n.createElement(u1,null)}function u1(){return n.createElement("div",{className:"inspect_tabs--codeEmpty--B2DYX"},n.createElement("div",{className:uW},n.createElement("img",{alt:"",className:uj,src:"https://static.figma.com/uploads/90580516d4d39519d44b86a2e591f4e576475013",onDragStart:e=>e.preventDefault()}),n.createElement(u$,{label:(0,p.t)("dev_handoff.inspect_panel.property_suggestions.title"),description:(0,p.t)("dev_handoff.inspect_panel.property_suggestions.body"),onClick:ap.KQ})),n.createElement("div",{className:uW},n.createElement("img",{alt:"",className:uj,src:"https://static.figma.com/uploads/4b9430b030179277555a6fe2114ceffc0f49ed61",onDragStart:e=>e.preventDefault()}),n.createElement(u$,{label:(0,p.t)("dev_handoff.inspect_panel.block_suggestions.title"),description:(0,p.t)("dev_handoff.inspect_panel.block_suggestions.body"),onClick:ap.lk})))}function u2(){return n.createElement("div",{className:uq},n.createElement("div",{className:uX},n.createElement(df,null)),n.createElement("div",{className:uY},n.createElement(dg.J,null),n.createElement(cX,null),n.createElement(c7.GO,null),n.createElement(c5.t,null),n.createElement(l7,null),(0,tR.kc)().dt_lego_selection_styles&&n.createElement(ua,null)),n.createElement("div",{className:uJ},n.createElement(df,{fillContainer:!0})))}function u5(){return n.createElement("div",{className:"inspect_tabs--assetsContainer--ETjja"},n.createElement(c6.L,null),n.createElement(c8.L,null))}function u3(){return n.createElement("div",{className:"inspect_tabs--componentsContainer--ERYGT"},n.createElement("div",{className:"inspect_tabs--componentsContent--qXnwd"},n.createElement(rx,null)),n.createElement("div",{className:"inspect_tabs--componentsPreview--79zEW"},n.createElement(rn,null)))}function u4({setActiveTabId:e}){let t=(0,r.wA)(),a=(0,a6.Um)(),l=n.useRef(null),[o,s]=(0,i.fp)(dX),c=(0,ec.U)(),d=(0,ae.Nf)()??"",u=(0,au.eY)().get(d),m=document.getElementById("dev-handoff-inspect-panel"),_=a?.type===uQ;return n.createElement(n.Fragment,null,n.createElement("div",{ref:l},n.createElement(t$.YW,{svg:uZ.A,onClick:function(){_?t(eb.oB()):t(eb.j7({type:uQ}))},selected:_,"data-tooltip":(0,p.t)("dev_handoff.add_dev_resource"),"data-tooltip-type":tj.Ib.TEXT})),_&&l.current&&m&&(0,uz.createPortal)(n.createElement(oG.j,{items:[{displayText:"Add link to code file...",action:"add_file_link"},{displayText:"Add link to dev resource... ",action:"add_link"}],onSelectItem:t=>{switch(t.action){case"add_file_link":e(ei._.DEV_RESOURCES),c("Dev Handoff Related Links Click Code File Link",{nodeId:d,nodeType:u?.type,source:"web"}),(0,ap.qE)();break;case"add_link":e(ei._.DEV_RESOURCES),s(!0)}},dispatch:t,parentRect:l.current.getBoundingClientRect(),showPoint:!1}),m))}function u6(){let[e,t]=(0,i.fp)(ei.H),a=(0,lZ.LS)(),r=(0,eo.NM)(),l=(0,ae.ro)(),o=(0,i.md)(sV.be),s=r?[{id:ei._.ASSETS,title:(0,p.t)("dev_handoff.assets"),Component:u5,recordingKey:"extensionAssetsTab"}]:[{id:ei._.PRIMARY,title:(0,p.t)("inspect_panel.code.code"),Component:u0,recordingKey:"extensionCodeTab"}];return a&&(s.push({id:ei._.PROPERTIES,title:(0,p.t)("fullscreen.properties_panel.properties"),Component:u2,recordingKey:"extensionPropertiesTab"}),l&&s.push({id:ei._.COMPONENT,title:(0,p.t)("dev_handoff.inspect_panel.component"),Component:u3,recordingKey:"extensionComponentTab"}),s.push({id:ei._.DEV_RESOURCES,title:(0,p.t)("dev_handoff.developer_related_links.links"),Component:dZ,recordingKey:"extensionRelatedLinksTab"}),s.push({id:ei._.ASSETS,title:(0,p.t)("dev_handoff.assets"),Component:u5,recordingKey:"extensionAssetsTab"})),s.push({id:ei._.PLUGIN,title:(0,p.t)("dev_handoff.tab.plugins"),Component:sQ,recordingKey:"extensionPluginsTab"}),n.useEffect(()=>{s.find(t=>t.id===e)||t(ei._.PRIMARY)},[e,t,a]),n.createElement(n.Fragment,null,n.createElement("div",{className:"inspect_tabs--tabsBar--nbu1a"},n.createElement(aq.P,{innerClassName:"inspect_tabs--tabs--w8XOI",minContentWidth:100},s.map(a=>n.createElement(s5.je,{key:a.title,text:a.title,isActive:e===a.id,recordingKey:a.recordingKey,onClick:()=>{t(a.id)},isSingle:1===s.length}))),n.createElement("div",{className:"inspect_tabs--rightButtons--HeXhW"},o&&n.createElement(t3.K,{htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.inspect_panel.close_plugin")},"aria-label":(0,p.t)("dev_handoff.inspect_panel.close_plugin"),onClick:()=>{(0,ca.wY)()}},n.createElement(iY.A,null)),n.createElement(rT,null),n.createElement(u4,{setActiveTabId:t}))),s.map(t=>n.createElement("div",{key:t.title,className:"inspect_tabs--activeTabContainer--LBYjQ",style:{display:e===t.id?void 0:"none"}},n.createElement(t.Component,null))))}let u7="extension_bottom_panel--buttons--itG9x";var u8=a(301087),u9=a(87071);let me=(0,n7.jz)(su.YI7),mt=()=>.75*window.innerHeight,ma=(0,n7.jz)(su.Qhc);function mn(){let[e,t]=(0,aZ.Vc)("extension_bottom_panel_expanded",!0),[a,r]=(0,i.fp)(uG.g),[o,s]=n.useState(!1),c=(0,eo.VW)(),d=(0,iI.J2)(l.Ez5.devHandoffState().focusMode),u=(0,iI.J2)((0,eJ.UK)().devHandoffInspectSplitPosition);n.useEffect(()=>{let t;t=e?a:me,(0,eJ.UK)().devHandoffInspectSplitPosition.set(t)},[e]);let m=n.useCallback(()=>{s(!0)},[]),_=n.useCallback(e=>{if(o){var t;let a=(t=window.innerHeight-e.clientY,Math.max(me,Math.min(mt(),t||0)));a!==u&&((0,eJ.UK)().devHandoffInspectSplitPosition.set(a),r(a))}},[o,u,r]),f=n.useCallback(()=>{s(!1)},[]);return n.useEffect(()=>(document.addEventListener("mousemove",_),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",f)})),n.createElement("div",{id:"dev-handoff-inspect-panel",className:O()("vscode","extension_bottom_panel--container--zaRdX",tu.Dm,e&&"extension_bottom_panel--isOpen--m5UfA"),style:{height:`${u}px`}},d?n.createElement("div",{className:O()(u7,"extension_bottom_panel--buttonsNewUx--qjtmo")},n.createElement(uU,null)):n.createElement("div",{className:O()(u7)},n.createElement(sB.C,{floating:!1})),n.createElement("div",{className:"extension_bottom_panel--header--ZmzTG"},e&&n.createElement("div",{className:"extension_bottom_panel--edge--cuoAZ",onMouseDown:m,onDoubleClick:()=>{(0,eJ.UK)().devHandoffInspectSplitPosition.set(ma+me),r(ma+me)},role:"none"}),n.createElement(uK,{isToolbarOpen:e}),c&&n.createElement(n.Fragment,null,n.createElement(uO,null)),n.createElement("div",{className:O()("extension_bottom_panel--headerRightButtons--qVDj-",P.cx.pt4.$)},n.createElement(lW.pm,null),n.createElement("button",{onClick:function(){t(!e)},style:{width:"32px"}},n.createElement(td.B,{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip":e?(0,p.t)("dev_handoff.vscode.inspect_panel.hide_inspect_tooltip"):(0,p.t)("dev_handoff.vscode.inspect_panel.show_inspect_tooltip"),svg:e?u9.A:u8.A,autosize:!0})))),n.createElement("div",{className:"extension_bottom_panel--transitionContainer--5UlLL",style:{maxHeight:`${u-me}px`}},n.createElement(u6,null)))}var mr=a(85304),ml=a(461837),mi=a(755020),mo=a(774844),ms=a(589282),mc=a(849262),md=a(465904),mu=a(132135),mm=a(707465),mp=a(294461);let m_="floating_layers_panel--isSymbol--3KTvH",mf="floating_layers_panel--layerName--LBYru";function mg(){let e=(0,iI.J2)((0,eJ.UK)().showGuids),t=(0,eo.Tv)(),a=(0,sr.Fk)((e,t)=>t&&e.get(t),t[0]||null),i=!!a&&["SYMBOL","INSTANCE"].includes(a.type),{inspectableRootNodeId:o,didSelectRow:s}=sP((0,iI.J2)(l.Ez5.devHandoffState().currentNodeId),t[0]||null),c=(0,r.d4)(e=>e.mirror.appModel.currentPage),d=o||c,u=(0,a_.Xr)(sE),m=[{displayText:(0,p.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>u([d])}],_=(0,iI.J2)(l.Ez5.devHandoffState().automaticIconDetection),f=n.useMemo(()=>t.length>0?l.w3z.getOrAddAssetInfo(t[0]):null,[t]);return 0!==t.length&&a?n.createElement(mp.P,{title:t.length>1?n.createElement("div",{className:mf},(0,p.tx)("dev_handoff.workflows.focus_view.multiple_layers_selected",{count:t.length})):n.createElement("div",{className:O()(mf,{[m_]:i})},a.name,e?` (${a.guid})`:""),nodeIcon:n.createElement("div",{className:O()("floating_layers_panel--layersIcon--q0eoA",{[m_]:i})},n.createElement(sd.rI,{node:a,showIcons:_,assetInfo:f})),panelActions:n.createElement(sb,{dropdownItems:m})},n.createElement(sy,{inspectableRootNodeId:o,didSelectRow:s,page:c,hideHeader:!0})):null}var mh=a(540828),mE=a(282741);let my=(0,n7.jz)(su.M$q);function mv(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.versionHistory),{Dropdown:a,toggleDropdown:l,dropdownTargetRef:i,isDropdownShown:o}=(0,tX.B)("FOCUS_MODE_NAME_DROPDOWN"),s=(0,b.q5)(),c=(0,eo.uQ)(),d=(0,ev.hA)(),u=(0,eQ._6)(),m=(0,lZ.$A)(u)?u.focusViewBackNavigation:void 0,_=(0,mh.TP)(m?.toEditorType),f=(0,eB.U)("focus_view_show_on_page"),g=(0,mh.TQ)(m?.toEditorType),h=[{displayText:(0,p.t)("dev_handoff.workflows.focus_view.show_canvas"),recordingKey:"dev_handoff.focus.show_on_page",callback:function(){"editorType"in _&&_.editorType===eR.nT.Design&&f("design"),t.activeId&&t.activeId!==cw.V_&&e((0,cw.Eg)()),g("Dev Mode Focus View Go To Canvas Clicked",d)}},{displayText:(0,p.t)("dev_handoff.workflows.focus_view.copy_link"),recordingKey:"dev_handoff.focus.copy_link",callback:()=>{e(tH.lW({stringToCopy:(0,mu.jN)({file:s,nodeId:c,isDevHandoff:!0,devModeFocusId:d,isReadOnly:!0,isFigJam:!1,attributionContext:null})}))}}];return n.createElement(n.Fragment,null,n.createElement("div",{ref:i},n.createElement(tA.d,{toggled:o,recordingKey:"dev_handoff.focus.options",onClick:l,"aria-label":(0,p.t)("dev_handoff.workflows.more_actions_tooltip"),htmlAttributes:{"data-tooltip-type":tj.Ib.TEXT,"data-tooltip":(0,p.t)("dev_handoff.workflows.more_actions_tooltip")}},n.createElement(tL.J,null))),n.createElement(a,{items:h,showPoint:!0}))}function mb(){let e=(0,r.wA)(),t=(0,eJ.UX)(),a=(0,tV.GS)(),o=(0,ev.hA)(),s=(0,sr.Fk)((e,t)=>t?e.get(t):null,o),c=(0,sr.Fk)(e=>e.getCurrentPage()?.name),u=(0,b.tS)(),m=(0,r.d4)(e=>e.versionHistory),_=(0,md.QV)(),f=(0,ec.U)(),g=(0,eB.U)("focus_view_back"),h=(0,iI.ut)((0,a4.aY)(),l.FAf.DESIGN),[,E]=(0,i.fp)(mE._o),[y]=(0,i.fp)(mE.wz),v=(0,r.d4)(e=>(0,lZ.$A)(e.selectedView)?{...e.selectedView,editorType:e.selectedView.focusViewBackNavigation?.toEditorType??e.selectedView.editorType,showOverview:e.selectedView.focusViewBackNavigation?.toOverview??!0,focusViewBackNavigation:void 0,devModeFocusId:void 0}:e.selectedView),C=(0,r.d4)(e=>(0,mm.Np)(e,v)),w=v.showOverview?(0,p.t)("dev_handoff.workflows.focus_view.back_to_rfd_tooltip"):(0,p.t)("dev_handoff.workflows.focus_view.back_to_page_tooltip");if((0,d.h)(()=>{o&&l.w3z.focusOnNode(o,!1),h===l.FAf.PROTOTYPE&&(0,a4.NT)(l.FAf.DESIGN),(0,tR.kc)().dt_workflows_recently_viewed&&u&&o&&_(u,o),f("Dev Mode Focus View Shown",{source:y||"init"},{forwardToDatadog:!0})}),!o||!s)return null;let k=m.activeId&&m.activeId!==cw.V_;return n.createElement("div",{className:"focus_canvas_ui--container--YwKdJ",style:{paddingRight:a?t+my:t}},n.createElement("div",{className:"focus_canvas_ui--background--jKiDi"}),n.createElement("div",{className:"focus_canvas_ui--header--gxex-"},n.createElement(tD.lt,{className:"focus_canvas_ui--backLink--oBW-6","data-onboarding-key":cv,onClick:function(t){t.preventDefault();let a="editorType"in v&&v.editorType===eR.nT.Design;!("showOverview"in v&&v.showOverview)&&a&&g("design"),e(eb.$T(v)),m.activeId&&m.activeId!==cw.V_&&e((0,cw.Eg)());let n="unknown";"fullscreen"===v.view&&(n=v.showOverview?"overview":v.editorType===eR.nT.Design?"design_canvas":"dev_mode_canvas"),E("focus_close_clicked"),f("Dev Mode Focus View Close Clicked",{target:n})},href:C,recordingKey:"dev_handoff.workflows.focus.back_link","aria-label":w,"data-tooltip":w,"data-tooltip-type":tj.Ib.TEXT},n.createElement(mi.C,null)),n.createElement("div",{className:"focus_canvas_ui--pageBreadcrumb--ZLVL8"},n.createElement("span",{className:"focus_canvas_ui--pageBreadcrumbLabel--BPMXr"},c)),n.createElement("span",{className:"focus_canvas_ui--breadCrumbSeparator--tkhRI"},"/"),n.createElement("div",{className:"focus_canvas_ui--nodeName--kuQ54","data-onboarding-key":ch},s.isSection?n.createElement(mo.c,null):n.createElement(ms.q,null)," ",n.createElement("span",{className:"focus_canvas_ui--nodeNameLabel--f7DnW"},s.name)),n.createElement(mv,null),!k&&n.createElement(mc.c,{node:s,sourceForLogging:"focus-ui",onboardingKey:cE})),n.createElement("div",{className:"focus_canvas_ui--viewportContainer--E-aVJ"}),n.createElement(mg,null),n.createElement(cb,null))}function mC(){let e=(0,o._I)(),t=(0,au.aV)(),a=(0,r.d4)(e=>e.mirror.appModel.showUi),s=(0,tW.iZ)(),c=(0,r.wA)(),d=(0,ev.l7)();(0,iL.X_)(),(0,iS.z)({topLevelMode:l.lyf.DEV_HANDOFF,eventName:"Dev Handoff Selection Changed"});let u=(0,b.tS)()??"";return((0,n.useEffect)(()=>{let e=()=>(0,iA.s2)({userID:s?.id??"",openFileKey:u});return e(),e},[e,u,s?.id]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{iO.sr.enrollUserInStatusChange({fileKey:u})?.then(e=>{let t=i.zl.get(ix.D);e.data?.meta?.newEnrollment&&!t&&c(ik.jK({userId:s?.id??"",fileKey:u}))})},5e3);return()=>clearTimeout(e)},[u,s?.id,c]),t||!a)?null:e||d?n.createElement(mx,null):n.createElement(iw,null)}function mw(){return(0,iq.O)(),null}function mk(){let e=(0,t0.R)(),t=(0,ev.l7)(),a=(0,ev.hA)(),r=(0,o._I)(),l=(0,iN.Tn)();return!a&&(r||t)?n.createElement("div",{className:"devHandoffLeftPanel"},n.createElement(tg.Q,{ignoreRulers:t,shouldAnimate:!l},n.createElement(tp.s,null),n.createElement(tm.$,null,e&&n.createElement(n.Fragment,null,n.createElement(tf.n,null),n.createElement(t_.d,null)),t?n.createElement(mN,null):n.createElement(mT,null)))):null}let mx=n.memo(function(){n.useEffect(()=>dE.K,[]);let e=n.useMemo(()=>eZ.z4.getIsExtension(),[]),t=(0,ev.l7)(),a=!!(0,ev.hA)()&&!t;!function(){let e=(0,r.d4)(e=>e.mirror.appModel.currentPage),t=(0,b.tS)(),a=function(e){let t=(0,au.eY)(),a=(0,r.d4)(nl.aD),l=(0,r.d4)(a7.BA),i=function(e){let t=(0,r.d4)(nr.MH),a=(0,r.d4)(e=>e.mirror.appModel.currentPage);return(0,n.useMemo)(()=>{let n=new Set;if(!(0,tR.kc)().dt_code_connect_preloading||!e)return n;for(let[r,l]of Object.entries(t))l.containing_frame?.pageId===a&&(l.containing_frame?.containingStateGroup?.nodeId?n.add(`${e},${l.containing_frame?.containingStateGroup.nodeId}`):n.add(`${e},${r}`));return n},[a,t])}(e);return(0,n.useMemo)(()=>{if(!(0,tR.kc)().dt_code_connect_preloading||a.length+l.size>50)return new Set;let n=new Set;for(let r of a){let a=no(t.get(r.nodeId),t,e),{backingFileKey:l,backingNodeId:i}=(0,nn.HX)(r.nodeId,t,e);if(l&&i)for(let e of(n.add(`${l},${i}`),a))n.add(e)}let r=new Set;for(let a of l){let l=t.get(a),i=a;if(l?.containingStateGroupId&&(i=l.containingStateGroupId),r.has(i))continue;let o=no(l,t,e);if(e&&i)for(let t of(n.add(`${e},${i}`),r.add(i),o))n.add(t)}for(let e of i)n.add(e);return n},[i,l,a])}(t);(0,n.useEffect)(()=>{i.zl.set(ni.z,null)},[e]);let l=(0,u.Rs)(C.p9d,{nodes:Array.from(a),openFileKey:t??""},{enabled:!!(0,tR.kc)().dt_code_connect_preloading&&a.size<50});(0,n.useEffect)(()=>{if("loaded"===l.status&&"loaded"===l.data.file.status&&l.data.file.data?.preload_code_connect){let e=l.data.file.data?.preload_code_connect;i.zl.set(ni.z,{...e,nodesWithCodeConnect:new Set(e.nodesWithCodeConnect)})}return()=>i.zl.set(ni.z,null)},[e,l.status])}(),n.useEffect(()=>{(0,iT.px)().prepareVmIfNeeded()},[]),(0,mr.W)(1700);let l=(0,mr.e)();return n.createElement(s.si,null,e?n.createElement(mn,null):n.createElement(n.Fragment,null,l&&n.createElement(sB.C,null),a&&n.createElement(mb,null),!t&&n.createElement(n.Fragment,null,n.createElement(ub,null),n.createElement(iM.p,null,n.createElement(o1,null)),n.createElement(iM.p,null,n.createElement(et,null)),n.createElement(iM.p,null,n.createElement(iz,null)),n.createElement(mw,null))),n.createElement(ml.uL,null))});function mT(){let e=(0,iI.J2)(l.Ez5.uiState().showCanvasSearch);return n.createElement(n.Fragment,null,e?n.createElement(iW.EA.Provider,{value:!1},n.createElement(ij.f,{showFilter:!0})):n.createElement(sF,null))}function mN(){return n.createElement(sF,null)}},143922:(e,t,a)=>{a.d(t,{Xn:()=>v,dU:()=>C,xY:()=>b});var n=a(411855),r=a(188507),l=a(203264),i=a(776250),o=a(344780),s=a(939683),c=a(374626),d=a(666930),u=a(239349),m=a(381618),p=a(662275),_=a(29680),f=a(335682),g=a(860178),h=a(118335),E=a(32067),y=a(754369);function v(e){let t=(0,E.VW)(),a=(0,u.mJ)(e),{singleBackingSymbol:l}=(0,y.$)([e??""]),s=(0,r.wA)();return n.useCallback(()=>{a&&l&&(o.sn.reset("dev_handoff.view_history",a.guid),o.sn.start("dev_handoff.view_history",{key:a.guid}),(0,i.sx)("Diff Modal Compare Changes Clicked",{nodeId:a.guid,mainComponentNodeId:l.guid,origin:"cc_overrides"}),s(p.to({type:h.ku,data:{changeNodeId:a.guid,basisNodeId:l.guid,initialSelectedNodeId:t?.guid&&t?.guid!==a.guid?t.guid:void 0,isComparingOverrides:!0}})))},[s,t,a,l])}function b(e){let t=(0,d.wS)(),a=(0,u.uQ)(),l=(0,r.wA)(),i=(0,s.U)();return n.useCallback(()=>{a&&"loaded"===t.status&&(i("Diff Modal Compare Changes Clicked",{nodeId:a,origin:"cc_detached_component"}),o.sn.reset("dev_handoff.view_history",a),o.sn.start("dev_handoff.view_history",{key:a}),l(p.to({type:h.jo,data:{nodeId:a,detachedInfoStatus:t,origin:e}})))},[a,t,i,l,e])}function C(e,t){let a=g.iZ()?.id,s=E.VW()?.name.trim(),d=(0,f.tS)(),u=(0,r.wA)(),y=(0,c.md)(m.d),v=(0,_.eY)();return n.useCallback(()=>{if(o.sn.reset("dev_handoff.view_history",e||void 0),o.sn.start("dev_handoff.view_history",{key:e||void 0}),(0,i.sx)("Diff Modal Compare Changes Clicked",{userId:a,fileKey:d,frameId:e,entrypoint:"lego_layer",analyticsEventOrigin:t}),e){let t=(0,l.BJ)(v,e,!0);if(t){let a=t.lastEditedAt;y[e]=new Date(a),c.zl.set(m.d,{...y})}}u(p.to({type:h.EH,data:{nodeId:e,layerName:s}}))},[t,u,d,e,s,v,y,a])}},625134:(e,t,a)=>{a.d(t,{$b:()=>v,jp:()=>N,gn:()=>w,Be:()=>k});var n=a(411855),r=a(188507),l=a(587670),i=a(153234),o=a(939863),s=a(308977),c=a(470669),d=a(370934),u=a(92597),m=a(318812),p=a(656399),_=a(206074),f=a(788612),g=a(538697);let h="code_settings_panel--codeSettingRow--81hbo",E="code_settings_panel--codeSettingLabel--OV3RZ",y="code_settings_panel--codeSettingValueWrapper--UMoQH";function v({onlyShowFirstPartyLanguages:e,disabled:t}){return(0,u.YE)(),n.createElement(f.VZ,{title:(0,o.t)("dev_handoff.code.settings"),recordingKey:"codeSettings",headerChildren:n.createElement(p.u,null)},n.createElement("div",{className:"code_settings_panel--codeSettingsPanel--LR2Tt text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(b,{onlyShowFirstPartyLanguages:e,disabled:t}),n.createElement(C,{disabled:t}),!t&&n.createElement(x,{recordingKey:"codeSettings.pluginSettings"})))}function b({onlyShowFirstPartyLanguages:e,disabled:t}){return n.createElement("div",{className:h},n.createElement("div",{className:E},(0,o.tx)("dev_handoff.code.settings.language")),n.createElement("div",{className:y},n.createElement(c.NH,{dropdownId:"DEV_HANDOFF_NO_SELECTION_CODE_LANGUAGE_DROPDOWN",onlyShowFirstPartyLanguages:e,disabled:t})))}function C({disabled:e}){let t=(0,u.Em)(),a=(0,s.v4)(),r=(0,u.Bs)(),l=(0,s.QN)(),i=(0,u.RH)(),c=n.useCallback(e=>r(a,l,{unit:e}),[a,r,l]);return t?n.createElement("div",{className:h},n.createElement("div",{className:E},(0,o.tx)("dev_handoff.alternative_units.dimension_unit")),!e&&n.createElement(w,{currentUnit:i,onChangeUnit:c})):null}function w({currentUnit:e,onChangeUnit:t}){let a=(0,u.wQ)(),{showing:l,toggle:i}=(0,m.BK)("DEV_HANDOFF_NO_SELECTION_DIMENSION_UNIT_DROPDOWN"),s=(0,r.wA)(),c=n.useRef(null),p=n.useMemo(()=>new k(a),[a]),f=n.useMemo(()=>d.zq.map(a=>({name:a.toString(),displayText:p.format(a),callback:()=>t(a),isChecked:a===e})),[e,p,t]);return n.createElement("div",{className:"code_settings_panel--codeSettingUnitDropdownContainer--ywHNy","data-tooltip":(0,o.t)("dev_handoff.alternative_units.dimension_unit"),"data-tooltip-show-above":!0},n.createElement("div",{ref:c,"data-testid":"dimension_unit",className:y},n.createElement(g.uQ,{formatter:p,property:e,onClick:()=>i()})),l&&c.current&&n.createElement(_.j,{items:f,onSelectItem:e=>{e.callback&&e.callback("",null,s)},dispatch:s,parentRect:c.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,activatePathOnMount:[p.format(e)]}))}class k{constructor(e){this.scaledUnitName=e}format(e){return e===l.tKW.PIXEL?(0,o.t)("dev_handoff.alternative_units.pixel_unit"):this.scaledUnitName}}function x(e){let t=(0,u.SF)({includeActions:!1});return 0===t.length?null:n.createElement(n.Fragment,null,t.map(t=>n.createElement(T,{key:t.name,item:t,recordingKey:i.Pt(e,`${t.name}`)})))}function T({item:e,recordingKey:t}){return n.createElement("div",{className:h},n.createElement("div",{className:E},e.displayText),n.createElement(N,{item:e,recordingKey:t}))}function N({item:e,recordingKey:t}){let{showing:a,data:l,toggle:o}=(0,m.BK)("CODEGEN_PLUGIN_SETTINGS_DROPDOWN"),s=(0,r.wA)(),c=n.useRef(null),d=e.name===l?.name&&a,u=e.children?.find(e=>e.isChecked)?.displayText??"",p=i.rf(i.Pt(t,"select"),"click",()=>o({data:{name:e.name??""}}));return n.createElement("div",null,n.createElement("div",{ref:c,className:y},n.createElement(g.uQ,{formatter:{format:e=>e},property:u,onClick:p})),d&&c.current&&n.createElement(_.j,{items:e.children??[],onSelectItem:e=>{e.callback?.("",null,s)},dispatch:s,recordingKey:i.Pt(t,"dropdown"),parentRect:c.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,activatePathOnMount:u?[u]:void 0}))}},321961:(e,t,a)=>{a.d(t,{n:()=>d,q:()=>c});var n=a(188507),r=a(335682),l=a(243987),i=a(428467),o=a(984968),s=a(668860);function c(){let e=(0,o.ol)(),t=(0,r.q5)(),a=!!t&&!!t.teamId&&!t.parentOrgId,n=!!e&&(0,l.w5)(e)&&!e?.org_id;return a&&!n}function d(){let e=c(),t=(0,o.ol)(),a=(0,n.d4)(e=>!!t&&(0,i.hasTeamAccess)(t?.id,s.e6.EDITOR,e));return e&&!a}},103339:(e,t,a)=>{a.d(t,{DK:()=>N,MO:()=>O,d8:()=>I,oD:()=>M,q9:()=>S});var n=a(411855),r=a(188507),l=a(675678),i=a(587670),o=a(776250),s=a(966712),c=a(38580),d=a(374626),u=a(776621),m=a(572206),p=a(877432),_=a(939863),f=a(154483),g=a(666930),h=a(696673),E=a(44892),y=a(15859),v=a(927657),b=a(931770),C=a(335682),w=a(933342),k=a(234945),x=a(173454),T=(e=>(e.GENERIC="GENERIC",e.OFFLINE="OFFLINE",e.THUMBNAIL_TIMEOUT="THUMBNAIL_TIMEOUT",e))(T||{});function N(e){switch(e){case"GENERIC":return(0,_.t)("design_systems.playground.unable_to_load");case"OFFLINE":return(0,_.t)("design_systems.playground.unable_to_load_while_offline");case"THUMBNAIL_TIMEOUT":return(0,_.t)("design_systems.playground.unable_to_load_thumbnail")}}function S(e){switch(e){case"GENERIC":return(0,_.t)("design_systems.playground.unable_to_load_help_text");case"OFFLINE":return(0,_.t)("design_systems.playground.unable_to_load_while_offline_help_text");case"THUMBNAIL_TIMEOUT":return(0,_.t)("design_systems.playground.unable_to_load_thumbnail_help_hext")}}let I=(0,c.eU)(!1);function A(e){let[t,a]=n.useState(),[r,l]=n.useState(),[o,c]=n.useState(!1),[u,p]=n.useState(!1),[_,f]=n.useState(!1),[g,h]=(0,d.fp)(I),E=n.useCallback(()=>{let t=i.glU.generatePlaygroundThumbnail(e??null),n=i.glU.getPlaygroundNodeData();t.pixels?.length>0?(a({src:(0,b.Pv)(t.pixels,new m.Mi(t.width,t.height)),width:t.width/t.scale,height:t.height/t.scale}),l(n),p(!1),(0,s.kc)().dt_component_bg_improvements&&h(!0)):p(!0)},[h,e]),y=n.useCallback(e=>{c(e),f(!0)},[f]),{onSetPercentImagesLoaded:C,onResetTracker:w}=function(e){let[t,a]=n.useState(0),[r,l]=n.useState(0),[i,o]=n.useState(null),s=n.useCallback(()=>{a(0),l(0),o(null)},[]);return n.useEffect(()=>{function a(a,n){if(t>a&&t<n&&r<=a){let a=Date.now();(null===i||a-i>1e3)&&(o(a),l(t),e())}}a(.25,.5),a(.5,.75),a(.75,1)},[r,i,e,t]),n.useEffect(()=>{1===t&&(e(),l(1))},[e,t]),n.useMemo(()=>({onSetPercentImagesLoaded:a,onResetTracker:s}),[a,s])}(E);return n.useEffect(()=>(0,v.k)(y),[y]),n.useEffect(()=>()=>i.glU.clearPlaygroundScene(),[]),n.useEffect(()=>{_&&setTimeout(()=>{E(),f(!1)},0)},[_,f,E]),n.useMemo(()=>({setPlaygroundNodeData:l,onSetPercentImagesLoaded:C,onResetTracker:w,thumbnailData:t,playgroundNodeData:r,hasChangesToReset:o,hasThumbnailErrors:u,setHasChangesToReset:c}),[l,C,w,t,r,o,u,c])}let L=(0,f.fv)();function O({canViewPlaygroundQueryResult:e,canvasAsset:t,onLoaded:a,onError:r,thumbnailOptions:s}){let[c,d]=n.useState(t),{setPlaygroundNodeData:m,onSetPercentImagesLoaded:_,onResetTracker:f,thumbnailData:g,playgroundNodeData:v,hasChangesToReset:b,hasThumbnailErrors:k,setHasChangesToReset:T}=A(s),N=(0,C.tS)(),S=c!==t||!v||"loading"===e.status,[I,O]=n.useState(null),M=n.useCallback(()=>{i.glU.clearPlaygroundScene(),m(void 0)},[m]),P=n.useCallback(async(e=!0)=>{let a;if(t.type!==x.PW.COMPONENT&&t.type!==x.PW.STATE_GROUP&&t.type!==x.PW.MODULE){M();return}let n=Date.now();if(O(null),t.isLocal)a=null;else try{let e=E.Eo.getCanvas({canvas_url:t.canvas_url});await Promise.race([e,(0,p.fm)(100)])||(d(t),m(void 0),T(!1)),a=await e}catch(e){0===e.status?O("OFFLINE"):O("GENERIC"),M(),d(t),(0,u.$D)(l.FigmaTeam.DESIGN_SYSTEMS_ECOSYSTEM,e,{tags:{openFileKey:N,fileKey:L(t),libraryKey:t.library_key,isCommunityLibrary:(0,h.wJ)(L(t)),type:t.type}});return}let r=t.type!==x.PW.STATE_GROUP||t.isLocal?null:t.default_state_key;if(a?i.glU.setPlaygroundSceneFromBuffer(t.node_id,a,e,r,L(t)):i.glU.setPlaygroundSceneFromLocalAsset(t.node_id)){T(!1),m(i.glU.getPlaygroundNodeData()),d(t),o.az.trackDefinedEvent("playground.set_scene",{duration:Date.now()-n,assetType:t.type,isLocal:t.isLocal??!1,assetKey:(0,w.u2)(t)}),f(),(0,y.Jr)().loadAllImagesUnder(["0:0"],i.MoD.NON_ANIMATED_ONLY,"playground.initialLoad",(e,t)=>{_((t-e)/t)},i.glU.getPlaygroundScene());return}if(e){d(t),m(void 0),T(!1),setTimeout(()=>{P(!1)},50);return}O("GENERIC"),M()},[N,M,f,_,t,m,T]);return n.useEffect(()=>{"loaded"===e.status&&(e.data?P():d(t))},[e,m,t,M,P]),n.useMemo(()=>{let e=k?"THUMBNAIL_TIMEOUT":I;return!e&&S?{state:"LOADING",previousAssetData:{thumbnailData:g,hasChangesToReset:b,refetchAndResetScene:P,nodeData:v,asset:c}}:(a(),e)?(r(),{state:"ERROR",errorType:e,previousAssetData:{thumbnailData:g,hasChangesToReset:b,refetchAndResetScene:P,nodeData:v,asset:c}}):{state:"LOADED",currentAssetData:{hasChangesToReset:b,refetchAndResetScene:P,nodeData:v,thumbnailData:g,asset:c}}},[S,a,k,I,v,g,r,b,P,c])}function M(){let e=(0,r.d4)(k.AF),t=e?.guid,a=(0,g.wS)(),l="loaded"===a.status?a.result:void 0,{setPlaygroundNodeData:o,thumbnailData:s,playgroundNodeData:c,hasChangesToReset:d}=A(),u=n.useCallback(()=>{let e=!1;l?e=i.glU.setPlaygroundSceneFromDetachedInfo(l.dataComponentId,"temp-scene"===l.dataLocation):t&&(e=i.glU.setPlaygroundSceneFromSelection()),e||(i.glU.clearPlaygroundScene(),o(void 0))},[t,l,o]);return n.useEffect(()=>{u()},[u]),n.useMemo(()=>c&&s?{hasChangesToReset:d,refetchAndResetScene:u,nodeData:c,thumbnailData:s}:null,[c,s,d,u])}},567078:(e,t,a)=>{a.d(t,{b:()=>m});var n=a(411855),r=a(730371),l=a(587670),i=a(153234),o=a(939863),s=a(617453),c=a(100197),d=a(31687),u=a(564092);function m({fill:e,modes:t,recordingKey:a}){let m=(0,c.J2)((0,s.UK)().showGuids),p=Object.entries(t).map(([e,t])=>({...t,setKey:e})).filter(e=>e.modeOptions.length>1).sort((e,t)=>e.collectionName.toLocaleLowerCase().localeCompare(t.collectionName.toLocaleLowerCase()));return 0===p.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"playground_modes_section--title--wPRzF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,o.tx)("design_systems.playground.variable_modes_title")),p.map(t=>n.createElement(d.yj,{fill:e,key:t.setKey,onChange:e=>{e!==u.Mo&&e!==u.Yn&&((0,r.deepEquals)(t.explicitMode||t.inheritMode,e)||(e===u.Ws||e===u.UE?l.glU.setVariableModeForPlayground(t.setKey,e):l.glU.setVariableModeForPlayground(t.setKey,e.guid)))},showExplicitOnly:!1,variableSetName:t.collectionName,variableSetKey:t.setKey,modeOptions:t.modeOptions,explicitModeID:t.explicitMode,inheritedModeID:t.inheritMode,isShowingGuids:m,showInheritedModeOption:!1,recordingKey:i.Pt(a,`mode-${t.setKey}`)})))}},108793:(e,t,a)=>{a.d(t,{x:()=>g});var n=a(411855),r=a(552048),l=a(449124),i=a(29680),o=a(273226),s=a(467302),c=a(393965),d=a(721478),u=a(371623),m=a(103339);let p="playground_props_section--divider--I23uK";var _=a(132208);function f({componentProps:e,bubbledComponentId:t,productComponentGUID:a,sceneGraph:l,instanceSwapPickerInitialHeight:m,instanceSwapPickerInitialPosition:p,recordingKey:_,containerWidth:f}){let g=(0,i.T3)(),{typedPropDefsExcludingHidden:h,variantPropDefs:E,assignmentValuesByDefId:y,allStateVariantProps:v,backingStateVariantProps:b,statePropertyValues:C}=(0,s.nj)(t,e,a,g);return h.length||E.length?n.createElement(r.S,{titleClassName:"playground_props_section--bubbledPropsTitle--8SBPC",isInitiallyOpen:h.length<c.qC,title:n.createElement(d.iN,{canCollapse:!0,shouldHideButtons:!0,isInComponentPlayground:!0,instanceAndSublayerGUIDs:[t],containerWide:f===o.O2.WIDE,recordingKey:_})},n.createElement(c.tO,{typedPropDefs:h,variantPropDefs:E,assignmentValues:y,allStateVariantProps:v,backingStateVariantProps:b,statePropertyValues:C,productComponentGUID:a,propDimension:o.OE.ASSIGNMENT,guids:[t],forBubbledProps:!0,splitVariantAndTypedProps:!1,instanceSwapPickerInitialHeight:m,instanceSwapPickerInitialPosition:p,sceneGraph:l,inPlayground:!0,recordingKey:_,containerWidth:f,hideIcon:!0,entrypointForInstanceSwapPicker:u.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND_BUBBLED})):null}function g({componentProps:e,moduleProps:t,moduleFrameData:a,label:r,playgroundGUID:d,productComponentGUID:g,sceneGraph:h,viewOnlyMode:E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,recordingKey:b,containerWidth:C,errorData:w,shouldShowDividerAboveProps:k}){let x=(0,i.T3)(),T=d&&e,{typedPropDefsExcludingHidden:N,variantPropDefs:S,assignmentValuesByDefId:I,allStateVariantProps:A,backingStateVariantProps:L,statePropertyValues:O}=(0,s.nj)(d??"",e??{},g,x),M=n.useMemo(()=>{if(!T)return[];let n=e[d]?.bubbledNestedInstanceGUIDs;if(n)return n;let r=t?.[d]?.bubbledNestedInstanceGUIDs;if(r)return r;if(a?.selectedFrameGUID){let e=t?.[a.selectedFrameGUID]?.bubbledNestedInstanceGUIDs;if(e)return e}return[]},[e,T,a,t,d]);return w?w.shouldHideError?null:n.createElement(n.Fragment,null,n.createElement("div",{className:p}),n.createElement("div",{className:"playground_props_section--errorBannerContainer--d3nQO"},n.createElement(l.z,{orientation:"vertical",iconSrc:_.A,onClose:()=>w.setShouldHideError(!0),variant:"warning",title:(0,m.DK)(w.errorType)},(0,m.q9)(w.errorType)))):T&&(N.length||S.length||M.length)?n.createElement(n.Fragment,null,k&&n.createElement("div",{className:p}),r,n.createElement(c.tO,{typedPropDefs:N,variantPropDefs:S,assignmentValues:I,allStateVariantProps:A,backingStateVariantProps:L,statePropertyValues:O,productComponentGUID:g,propDimension:o.OE.ASSIGNMENT,guids:[d],viewOnlyMode:E,forBubbledProps:!1,splitVariantAndTypedProps:!!E,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,sceneGraph:h,inPlayground:!0,recordingKey:b,containerWidth:C,hideIcon:!0,entrypointForInstanceSwapPicker:u.S.InstancePickerEntrypoint.INSTANCE_SWAP_PROP_PLAYGROUND}),M.map(t=>{let a=e[t]?.backingSymbol||"",r=e[a]?.containingStateGroupGUID||a;return r?n.createElement(f,{key:t,componentProps:e,bubbledComponentId:t,productComponentGUID:r,sceneGraph:h,instanceSwapPickerInitialHeight:y,instanceSwapPickerInitialPosition:v,recordingKey:b,containerWidth:C}):null})):null}},381618:(e,t,a)=>{a.d(t,{d:()=>n});let n=(0,a(38580).eU)({})},849262:(e,t,a)=>{a.d(t,{c:()=>k,v:()=>w});var n=a(411855),r=a(767129),l=a(460869),i=a(118786),o=a(629019),s=a.n(o),c=a(46481),d=a(939863),u=a(256975),m=a(17604),p=a(71596),_=a(779709),f=a(601607),g=a(498606);let h="complete_button--completeButton--OC0XP",E="complete_button--disabled--jWBRb",y="complete_button--completedIcon--Op6qF",v="complete_button--disabledIcon--n9m3s";var b=a(411929),C=a(164828);function w({nodeId:e,sourceForLogging:t,isMinimal:a}){let r=(0,f.Jk)(e);return n.createElement(k,{node:r,sourceForLogging:t,isMinimal:a})}function k({node:e,sourceForLogging:t,onboardingKey:a,isMinimal:o}){let f=(0,m.D)(),w=(0,u._I)(),k=f&&w;if(!e)return null;let x=()=>{k&&_.z4.setNodesCompleted([e.guid],`${t}-complete-button`)},T=()=>{k&&(_.z4.setNodesReady(!0,[e.guid],`${t}-complete-button`,null),(0,p.R)([e.guid]))};return e.hasReadyStatus?o?n.createElement(r.K,{onClick:x,disabled:!k,"aria-label":(0,d.t)("dev_handoff.status.mark_as_completed"),htmlAttributes:{"data-tooltip":k?(0,d.t)("dev_handoff.status.mark_as_completed"):(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-type":g.Ib.TEXT}},n.createElement(l.W,null)):n.createElement("button",{className:s()(h,{[E]:!k}),onClick:x,disabled:!k,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":k?void 0:(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-text-left":!0,"data-onboarding-key":a},n.createElement(c.U,{svg:b.A,className:s()(y,{[v]:!k})},n.createElement(l.W,{className:s()({[v]:!k})})),(0,d.tx)("dev_handoff.status.mark_completed")):e.hasCompletedStatus?o?n.createElement(r.K,{onClick:T,disabled:!k,"aria-label":(0,d.t)("dev_handoff.status.mark_as_ready"),htmlAttributes:{"data-tooltip":k?(0,d.t)("dev_handoff.status.mark_as_ready"):(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-type":g.Ib.TEXT}},n.createElement(i.g,null)):n.createElement("button",{className:s()(h,{[E]:!k}),onClick:T,disabled:!k,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":k?void 0:(0,d.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"),"data-tooltip-text-left":!0,"data-onboarding-key":a},n.createElement(c.U,{svg:C.A,className:s()(y,{[v]:!k})},n.createElement(i.g,{className:s()({[v]:!k})})),(0,d.tx)("dev_handoff.status.completed")):n.createElement("button",{className:s()(h,E),disabled:!0,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":(0,d.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),"data-tooltip-text-left":!0,"data-onboarding-key":a},n.createElement(c.U,{svg:b.A,className:s()(y,v)},n.createElement(l.W,{className:v})),(0,d.tx)("dev_handoff.status.mark_completed"))}},540828:(e,t,a)=>{a.d(t,{TP:()=>p,TQ:()=>g,VW:()=>_,ZJ:()=>f});var n=a(411855),r=a(188507),l=a(587670),i=a(939683),o=a(738269),s=a(611978),c=a(239671),d=a(187882),u=a(607672),m=a(331972);function p(e,t){let a=(0,s._6)();return"fullscreen"===a.view?{...a,editorType:e??a.editorType,focusViewBackNavigation:void 0,devModeFocusId:void 0,showOverview:!1,overviewBackButtonTargetNodeId:void 0,...t?{nodeId:t}:{}}:a}function _(e,t){let a=(0,s._6)();return"fullscreen"===a.view?{...a,editorType:c.nT.DevHandoff,focusViewBackNavigation:{toEditorType:a.editorType,toOverview:!0},showOverview:!1,devModeFocusId:e,...t?{nodeId:t}:{}}:a}function f(){let e=(0,r.wA)(),t=(0,s._6)();return(0,n.useCallback)(a=>{(0,m._)(e,t,a)},[e,t])}function g(e){let t=p(e),a=(0,r.wA)(),n=(0,i.U)(),s=(0,d.n0)(),m=(0,u.VS)({pagesList:s,isComparingChanges:!1});return async(e,r,i)=>{i&&await m(i),a(o.$T(t));let s="unknown";"fullscreen"===t.view&&(l.w3z.addToSelectionNoAnimation([r]),l.glU.panToNode(r),s=t.editorType===c.nT.Design?"design_canvas":"dev_mode_canvas"),n(e,{target:s,nodeId:r})}}},493414:(e,t,a)=>{a.d(t,{s:()=>G,$:()=>H});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(939683),s=a(794272),c=a(374626),d=a(522739),u=a(498480),m=a(574176),p=a(762638),_=a(939863),f=a(256975),g=a(693897),h=a(40987),E=a(320063),y=a(964881),v=a(101505),b=a(456104),C=a(397065),w=a(147723),k=a(507956),x=a(340514),T=a(493364),N=a(463546);function S(){let e=(0,k.ks)(),t=(0,y.l7)(),a=(0,r.wA)(),l=(0,c.md)(h.d),i=(0,c.md)(h.cR),o=c.md(h.hv)?.data,{show:s,isShowing:d,complete:u}=(0,b.e)({overlay:N.xjb,priority:C.N.DEFAULT_MODAL});(0,E.h)(()=>{t&&!o&&(0,w.nT)(a),!t&&!o&&(l||i)&&s()});let m={label:(0,_.tx)("dev_handoff.workflows.overview.onboarding.primary_cta"),type:"button",onClick:u,ctaTrackingDescriptor:v.c.GOT_IT},p={label:(0,_.tx)("dev_handoff.workflows.overview.onboarding.secondary_cta"),type:"link",href:"https://help.figma.com/hc/en-us/articles/23918228264855",ctaTrackingDescriptor:v.c.LEARN_MORE};return n.createElement(x.rq,{title:l?(0,_.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.title"):(0,_.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.title"),description:l?(0,_.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.description"):e?(0,_.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.dev_mode.description"):(0,_.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.design.description"),trackingContextName:"Dev Mode Overview Onboarding",targetKey:w.o5,isShowing:d,onClose:u,arrowPosition:T.F_.LEFT_TITLE,primaryCta:m,secondaryCta:p,disableHighlight:!0})}var I=a(738269),A=a(259927),L=a(809831),O=a(707465),M=a(239671),P=a(498606),R=a(402609),D=a(282741),F=a(354894);let B="overview_entry--isSelected--E6mSl";var U=a(873619);function G({count:e,isInTab:t,isActive:a}){return n.createElement(u.Ex,{className:i()("overview_entry--countBadge---5UQw",t&&"overview_entry--isInTab--J7wAV",a&&p.cx.colorText.$),text:`${e}`,size:u.vj.SMALL,color:u.zE.DEFAULT,subtle:!0})}function H(){let e=(0,o.U)(),t=(0,y.X0)(),a=!(0,f.U4)(),[l,u]=(0,c.fp)(h.gk),[,p]=(0,c.fp)(D._o),E=(0,r.wA)(),v=(0,r.d4)(e=>e.mirror.appModel.currentPage),b=(0,s.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,showOverview:!0,overviewBackButtonTargetNodeId:v}:e.selectedView),C=(0,r.d4)(e=>a?void 0:(0,O.Np)(e,b)),k=(0,y.l7)(),x=(0,y.ZI)(),T=c.md(h.hv)?.data,[N,H]=(0,c.fp)(h.cR),V=(0,c.md)(h.d),K=(0,r.Pj)(),z=(0,L.ow)(),W=(0,n.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),a)return;let{clientX:t,clientY:n}=e;E((0,I.j7)({type:A.bx,data:{clientX:t,clientY:n}}))},[a,E]);return!t||z?null:0===x?null:(k||T||N||V||H(!0),n.createElement("div",{className:i()(F.hv,"overview_entry--wrapper--qBXOx")},n.createElement(d.lt,{className:i()("overview_entry--entryRow--l-Ofr",k&&B,a&&"overview_entry--isDisabled--OAHeM"),onClick:function(t){if(t.preventDefault(),a)return;e("Dev Mode Overview Entry Clicked");let n=K.getState();"editorType"in n.selectedView&&n.selectedView.editorType===M.nT.Design&&(0,g.Ym)(n,M.nT.DevHandoff,"overview_entry"),p("entry_clicked"),u(void 0),E((0,I.$T)(b))},onContextMenu:W,href:C,"data-tooltip-type":P.Ib.TEXT,"data-tooltip":a?(0,_.t)("dev_handoff.paywall.org_not_member_hint"):void 0,"data-tooltip-text-left":!0,recordingKey:"dev_handoff.workflows.overview_entry"},n.createElement("div",{className:i()("overview_entry--entryRowInner--fPECV",k&&B)},n.createElement("div",{className:"overview_entry--leftSide--0zNy- text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(m.B,{className:"overview_entry--readyIcon--QwDeG",svg:U.A}),(0,_.tx)("dev_handoff.workflows.overview.title")),n.createElement("div",{"data-onboarding-key":w.o5},n.createElement(G,{count:x})))),n.createElement(R.p,null,n.createElement(S,null))))}},465904:(e,t,a)=>{a.d(t,{QV:()=>s,YA:()=>o,n9:()=>i});var n=a(374626),r=a(330654);let l=(0,n.E2)("workflows_recently_viewed",{},r.record(r.string(),r.record(r.string(),r.number())));function i(e){let[t]=(0,n.fp)(l);return e?t[e]:null}function o(e,t){return(t.lastViewedTimestamp??0)-(e.lastViewedTimestamp??0)}function s(){let[e,t]=(0,n.fp)(l);return(a,n)=>{let r=Date.now();t({...e,[a]:{...e[a],[n]:r}})}}},282741:(e,t,a)=>{let n;a.d(t,{_6:()=>E,_o:()=>f,c7:()=>y,oz:()=>h,wz:()=>g,zz:()=>v});var r=a(411855),l=a(188507),i=a(675678),o=a(776250),s=a(939683),c=a(320063),d=a(38580),u=a(374626),m=a(776621),p=a(256975);let _=(0,a(940596).Wh)(()=>(0,d.eU)(!1),{preserveValue:!1}),f=(0,d.eU)(""),g=(0,d.eU)("");var h=(e=>(e.ALL="ALL",e.RECENTLY_VIEWED="RECENTLY_VIEWED",e.BUILD="BUILD",e.COMPLETED="COMPLETED",e))(h||{}),E=(e=>(e.RECENT="RECENT",e.PAGE="PAGE",e.ALPHABETICAL="ALPHABETICAL",e))(E||{});function y(e,t,a){let o=(0,s.U)(),d=(0,p._I)();(0,c.h)(()=>{n=null}),r.useEffect(()=>{if(0!==e.length)try{let r=new Set(e.map(e=>e.pageId)).size,i=new Set(e.filter(e=>e.userId).map(e=>e.userId)).size,s={numNodes:e.length,numNodesWithFallbackUser:e.filter(e=>e.isFallbackForLegacyStatus).length,numSectionsWithMissingUserInfo:e.filter(e=>!e.userId&&e.isSection).length,numFramesWithMissingUserInfo:e.filter(e=>!e.userId&&!e.isSection).length,numPages:r,numUsers:i,tab:t,sortedBy:a,type:d?"full":"lite"};(0,l.bN)(s,n)||(o("dev_mode.overview.stats",s,{forwardToDatadog:!0}),n=s)}catch(e){(0,m.$D)(i.FigmaTeam.DEVELOPER_TOOLS,e)}},[e,a,t,d,o])}function v(e,t,a){let[n,l]=(0,u.fp)(_),c=(0,s.U)();r.useEffect(()=>{if(!n)try{if(e.length>0&&t&&!t.loading){if(t.hasError||!t.usersById)l(!0),(0,o.sx)("dev_mode.overview.avatars.error",{},{forwardToDatadog:!0});else if(Object.keys(t.usersById).length===e.length){l(!0);let n=a.filter(e=>!e.userId),r=a.filter(e=>!e.userId&&e.isFallbackForLegacyStatus),i=a.filter(e=>!e.userId&&!e.isFallbackForLegacyStatus&&e.hasBeenEditedSinceLastStatusChange),o=Object.entries(t.usersById).filter(([e,t])=>e&&!t);c("dev_mode.overview.avatars.loaded",{numUsersRequested:e.length,numUsersNotFound:o.length,numNodesWithMissingUserInfo:n.length,numNodesWithMissingFallbackUserInfo:r.length,numNodesEditedWithMissingUserInfo:i.length},{forwardToDatadog:!0})}}}catch(e){l(!0),(0,m.$D)(i.FigmaTeam.DEVELOPER_TOOLS,e)}},[n,a,l,c,e.length,t])}},1851:(e,t,a)=>{a.d(t,{D:()=>v,f:()=>y});var n=a(881388),r=a(939863),l=a(392592),i=a(662275),o=a(320741),s=a(280945),c=a(411855),d=a(188507),u=a(946689),m=a(632923),p=a(672517),_=a(237870),f=a(488578),g=a(384890);let h=(0,_.Ju)(function(){let e=(0,d.wA)();return c.createElement(p.fu,{name:"google_device_try_file_claim_success_modal"},c.createElement(f.aF,{disableKeyboardEventPropagation:!0,className:g.tQ},c.createElement("div",{className:g.Dg},c.createElement("img",{className:g.Sl,src:"https://static.figma.com/uploads/e94b4d90f07d46f80c5d4d47a16ee2cd8df688bf",alt:""})),c.createElement(m.k0,{multiple:2}),c.createElement("div",{className:g.FS},c.createElement("h1",{className:g.DX},(0,r.tx)("google_device_try_file_modal.claim_success.header")," ")),c.createElement(m.k0,{multiple:1}),c.createElement("div",{className:g.FS},c.createElement("div",{className:g.Kc},(0,r.tx)("google_device_try_file_modal.claim_success.description"))),c.createElement(m.k0,{multiple:3}),c.createElement(u.nD,{type:"close",fullWidth:!0,onClick:t=>{t.preventDefault(),t.stopPropagation(),e(i.Ce())}},(0,r.tx)("google_device_try_file_modal.claim_success.button"))))},"GOOGLE_DEVICE_TRY_FILE_CLAIM_SUCCESS_MODAL");var E=a(980820);let y=(0,E.nF)((e,{fileKey:t,emailAddress:a,isResentEmail:i,onSuccess:c},{loadingKey:d})=>{let u=s.L.setClaimEmail({fileKey:t,emailAddress:a});(0,o.N)(u,e,d),u.then(()=>{if(i){e.dispatch(l.F.enqueue({message:(0,r.t)("google_device_try_file_modal.resent_email.visual_bell")}));return}c?.(a)}).catch(t=>{if(t.data?.message==="Hit Claim Email Job timeout lock"){e.dispatch(l.F.enqueue({message:(0,r.t)("google_device_try_file_modal.resent_email.email_resent")}));return}e.dispatch(n.s.error((0,r.t)("google_device_try_file_modal.enter_email.failed_to_send")))})}),v=(0,E.nF)((e,{fileKey:t},{loadingKey:a})=>{let l=s.L.claimDeviceFile({fileKey:t});(0,o.N)(l,e,a),l.then(()=>{e.dispatch(i.to({type:h,data:{}}))}).catch(t=>{e.dispatch(n.s.error((0,r.t)("google_device_try_file.save_board.generic_error")))})})},439384:(e,t,a)=>{a.d(t,{Te:()=>s,_O:()=>c,ew:()=>o});var n=a(966712),r=a(29680),l=a(335682),i=a(99506);function o(){let e=(0,r.p8)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function s(){let e=(0,l.q5)();return e?.editorType===i._Y.DESIGN}function c(){let e=s(),t=o();return e&&(t||(0,n.kc)().interop_pages)}},543841:(e,t,a)=>{a.d(t,{ai:()=>u,yh:()=>p});var n=a(411855),r=a(587670),l=a(88823),i=a.n(l),o=a(572206),s=a(356390),c=a(15859),d=a(931770);function u({nodeId:e,width:t,height:a,shouldSkip:r,updateOnSceneGraphChange:l=!1}){let[c,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(r){u(null);return}let n=null,c=()=>{n&&(n.abort(),n=null)},m=()=>{let n=(0,d._G)(new o.Mi(t,a),e,!0);n&&n.pixels&&n.pixelSize&&n.displaySize&&u({src:(0,d.Pv)(n.pixels,n.pixelSize),displaySize:n.displaySize})};u(null);let p=()=>{c(),n=new TaskController({priority:"user-visible"}),scheduler.postTask(m,{signal:n.signal})},_=i()(p,200,{trailing:!0,leading:!1});return p(),l&&s.Y5.fromFullscreen.on("sceneGraphMirrorUpdate",_),()=>{c(),_.cancel(),l&&s.Y5.fromFullscreen.removeListener("sceneGraphMirrorUpdate",_)}},[e,t,a,r,l]),c}let m={};function p({nodeId:e,width:t,height:a,version:l,reason:i,shouldSkip:s,regenerateAfterImagesLoaded:u,isDevModeBlendedSection:p=!1}){let[_,f]=(0,n.useState)(!1),g=function({nodeId:e,width:t,height:a}){return`${e}-${t}x${a}`}({nodeId:e,width:t,height:a}),[h,E]=(0,n.useState)(m[g]),y=h?.hasUnresolvedImages||!1;return(0,n.useEffect)(()=>{if(s)return;let t=!0;return u&&!_&&y&&(0,c.Jr)().waitForImagesUnder([e],r.MoD.LOW_RES_ONLY,i).then(()=>{t&&f(!0)}),()=>{t=!1}},[_,g,e,i,y,u,s]),(0,n.useEffect)(()=>{if(s)return;let n=null;(!h||h.version!==l||!h.imagesLoaded&&_&&h.hasUnresolvedImages)&&(n&&(n.abort(),n=null),n=new TaskController({priority:"user-visible"}),scheduler.postTask(()=>{let n=!!u&&(0,c.Jr)().unresolvedImagesUnder([e],r.MoD.LOW_RES_ONLY).length>0,i=(0,d._G)(new o.Mi(t,a),e,!0,r.tvY.TRANSPARENT,p);if(i&&i.pixels&&i.pixelSize&&i.displaySize){let e={thumbnail:{src:(0,d.Pv)(i.pixels,i.pixelSize),displaySize:i.displaySize},imagesLoaded:_,hasUnresolvedImages:n,version:l};m[g]=e,E(e)}},{signal:n.signal}))},[e,t,a,g,h,l,s,_,u,p]),h?h.thumbnail:null}},792675:(e,t,a)=>{a.d(t,{x:()=>r});var n=a(411855);function r(e,t="0px"){let a="IntersectionObserver"in window,[l,i]=(0,n.useState)(!a);return(0,n.useEffect)(()=>{if(!a||!e.current)return;let n=e.current,r=new IntersectionObserver(([e])=>{i(e.isIntersecting)},{rootMargin:t});return r.observe(n),()=>{r.unobserve(n)}},[e,t,a]),l}},170960:(e,t,a)=>{a.d(t,{W:()=>m,g:()=>u});var n=a(411855),r=a(188507),l=a(915440),i=a(711525),o=a(743282),s=a(725561),c=a(279453);function d(){let e=n.useMemo(()=>(0,o.g)(),[]),t=(0,l.Rs)(c.gvX,{cacheNonce:e}),a=(0,r.wA)();if("loaded"===t.status&&t.data.currentUser.notificationExperimentInfo.status===i.tT.Loaded){let e=(0,i.oA)(t.data.currentUser.notificationExperimentInfo);if(!e)return!1;if("exp_notification_catfile"===e.experimentName||"exp_notification_catfic"===e.experimentName){if("prompt_to_opt_in"===e.type)return!0;a(s.EJ({userId:e.userId,fileKey:e.fileKey,preference:e.preference}))}}return!1}function u(){let e=(0,r.wA)(),t=n.useMemo(()=>(0,o.g)(),[]),a=(0,l.Rs)(c.gvX,{cacheNonce:t}),u=d();n.useEffect(()=>{if(a.data){let t=(0,i.oA)(a.data.currentUser.notificationExperimentInfo);t&&!0===u&&e(s.hU({userId:t.userId,fileKey:t.fileKey,experimentName:t.experimentName}))}},[e,a,u])}function m(){let e=(0,r.wA)(),t=n.useMemo(()=>(0,o.g)(),[]),a=(0,l.Rs)(c.gvX,{cacheNonce:t}),u=d();n.useEffect(()=>{if(a.data){let t=(0,i.oA)(a.data.currentUser.notificationExperimentInfo);t&&!0===u&&e(s.ZI({userId:t.userId,fileKey:t.fileKey,experimentName:t.experimentName}))}},[e,a,u])}},590695:(e,t,a)=>{a.d(t,{N:()=>c,S:()=>d});var n=a(411855),r=a(38580),l=a(646240),i=a(374626);let o=(0,r.eU)(0),s=(0,r.eU)(e=>e(o)>0);function c({isVisible:e}){let t=(0,l.Xr)(o);(0,n.useLayoutEffect)(()=>{if(e)return t(e=>e+1),()=>t(e=>Math.max(0,e-1))},[e,t])}function d(){return(0,i.md)(s)}},889556:(e,t,a)=>{a.d(t,{A:()=>cZ});var n=a(411855),r=a(966712),l=a(563706),i=a(30637),o=a(877723),s=a(188507),c=a(931828),d=a(672517),u=a(456104),m=a(397065),p=a(143678),_=a(147829),f=a(463546),g=a(421757);function h(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.015 3.44 5.7 4.7l-1.26.315c-.505.126-.505.844 0 .97L5.7 6.3l.315 1.26c.126.505.844.505.97 0L7.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0m0 12L5.7 16.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 18.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 16.7l-.315-1.26c-.126-.505-.844-.505-.97 0M5.7 10.7l.315-1.26c.126-.505.844-.505.97 0L7.3 10.7l1.26.315c.505.126.505.844 0 .97L7.3 12.3l-.315 1.26c-.126.505-.844.505-.97 0L5.7 12.3l-1.26-.315c-.505-.126-.505-.844 0-.97zM10.5 5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}var E=a(587670),y=a(374626),v=a(646240),b=a(768137),C=a(799569),w=a(210954),k=a(574176),x=a(762638),T=a(939863),N=a(809840),S=a(592096),I=a(226055),A=a(395701),L=a(843495),O=a(457630),M=a(498606),P=a(67048),R=a(477173),D=a(577023),F=a(978346),B=a(161735),U=a(707458),G=a(230646);let H=(e,t)=>e.filter(e=>t.get(e));var V=(e=>(e.DismissImmediately="dismiss-immediately",e.NoAutoDismiss="no-auto-dismiss",e.StartAutoDismissTimer="start-auto-dismiss-timer",e.noop="no-op",e))(V||{}),K=a(632084);function z(e){return n.useMemo(()=>{if(!e)return!0;let{data:t}=(0,K.b7)(new U.q);return JSON.stringify(t.map(e=>({t:e.t,id:e.id,type:e.type,stamps:e.stamps}))).length>12e3},[e])}var W=a(126049);function j(e=2e3){let t=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),[a,r]=n.useState({hasDebounceSettled:!1,numNodesSelected:void 0}),l=(0,W.A)(e=>{r({hasDebounceSettled:!0,numNodesSelected:e})},e);n.useEffect(()=>{r({hasDebounceSettled:!1,numNodesSelected:t}),l(t??0)},[l,t]);let i=a.numNodesSelected!==t;return a.hasDebounceSettled&&!i}var q=a(736916);let Y="ai_summary_nudge--buttonContents--oUSGP",X="ai_summary_nudge--badgeWrapper--QRaRq";var J=a(62573);function Z({onClose:e,onSummarize:t,onAutoDismiss:a}){let l;let i=j(500),o=z(i),{lastSummarizableSelection:c}=function({onAutoDismiss:e,selectionIsStable:t}){let a=(0,G.cF)(),[r,l]=(0,n.useState)(0),i=(0,s.d4)(e=>e.mirror.sceneGraphSelection),o=n.useMemo(()=>Object.entries(i).filter(([e,t])=>t).map(([e,t])=>e),[i]),[c,d]=(0,n.useState)([]),u=new U.q,m=0===o.length&&c.length>0&&!H(c,u).length;return(0,n.useEffect)(()=>{switch(function({currentAutoDismissTimeoutId:e,stickySummarizationEnabledForSelection:t,lastSummarizableSelectionHasBeenDeleted:a,selectionSize:n,canRecomputeAutoDismissAction:r}){if(0===n&&a)return"dismiss-immediately";if(r){if(t)return"no-auto-dismiss";if(!e)return"start-auto-dismiss-timer"}return"no-op"}({currentAutoDismissTimeoutId:r,stickySummarizationEnabledForSelection:a,lastSummarizableSelectionHasBeenDeleted:m,selectionSize:o.length,canRecomputeAutoDismissAction:t})){case V.DismissImmediately:window.clearTimeout(r),l(0),e();break;case V.NoAutoDismiss:d(o),window.clearTimeout(r),l(0);break;case V.StartAutoDismissTimer:l(window.setTimeout(()=>{e()},1e4))}},[o.length,o,a,m,r,t,e]),{lastSummarizableSelection:c}}({onAutoDismiss:a,selectionIsStable:i});(0,n.useEffect)(()=>{y.zl.set(q.EH,e=>e+1),y.zl.set(q.ji,()=>new Date().toISOString())},[]);let{summarizeCanvasSelection:d}=(0,R.ss)(E.cfv.ABOVE,!1,"DISCOVERY_NUDGE"),u=(0,B.Cb)(),m=(0,v.Xr)(D.v),p=!!(0,r.kc)().figjam_summary_nudge_too_many_tokens&&i&&o;p&&(l=(0,T.t)("whiteboard.ai_summary.nudge.too_many_tokens"));let _=(0,n.useRef)(null),f=(0,I.GS)(),g=(0,O.ni)(),h=(0,S.FQ)(f?8:void 0);return(0,n.useLayoutEffect)(()=>{let e=_.current;if(!e)return;let t=f?g.y-8:g.y-S.zU,a=A.r.fromOriginAndSize(g.x,t,g.width,g.height),n=e.getBoundingClientRect(),r=h(A.r.fromOriginAndSize(a.right()-n.width-(f?12:24),a.top()+(f?20:0),n.width,n.height),a);if(n.x<0||n.y<0){let t=new Animation(new KeyframeEffect(e,[{transform:`translateX(${r.left()}px) translateY(-250px)`},{transform:`translateX(${r.left()}px) translateY(${r.top()}px)`}],{duration:600}));t.onfinish=()=>{e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},t.play()}else e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},[_,f,-250,g,h]),n.createElement("div",{ref:_,className:"ai_summary_nudge--container--Xt3Ld"},n.createElement("div",{className:"ai_summary_nudge--topContent--EYXY0"},n.createElement("div",{className:"ai_summary_nudge--topBar--3FRaK"},n.createElement("span",{className:x.cx.textHeadingMedium.$},(0,T.tx)("whiteboard.ai_summary.nudge.title")),n.createElement("div",{className:"ai_summary_nudge--closeButton--2Lr8q"},n.createElement(C.Jn,{"data-testid":"close-button",onClick:e}))),n.createElement("div",{className:x.cx.textBodyLarge.colorTextSecondary.$},(0,T.tx)("whiteboard.ai_summary.nudge.subtitle")),n.createElement("div",{className:"ai_summary_nudge--numberContainer--JqUxZ"},n.createElement($,{num:1}),n.createElement($,{num:2})),n.createElement(Q,{disabled:p,disabledTooltip:l,"data-testid":"summarize-button",onClick:()=>{L.wr(),L.Dh(c),d(),t(),u&&m(!0)},trackingProperties:{text:"summarize"}})),n.createElement("div",{className:"ai_summary_nudge--middlePerforation--z5eDN"}),n.createElement("div",{className:"ai_summary_nudge--bottomContent--EiPHE"},n.createElement("div",null,n.createElement("span",{className:x.cx.textBodyMedium.colorTextSecondary.$},(0,T.tx)("whiteboard.ai_summary.nudge.disclaimer")),"\xa0",n.createElement(w.N,{className:x.cx.textBodyMedium.inline.$,href:F.nG,target:"_blank",trusted:!0},(0,T.tx)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))),n.createElement("div",{className:"ai_summary_nudge--bottomPerforation---VeRC"}))}let Q=(0,d.tf)(function({onClick:e,disabled:t,disabledTooltip:a}){let r=(0,I.GS)();return n.createElement(d.fu,{name:"AI Summary Nudge CTA",properties:{disabled:t}},r?n.createElement(g.Pw,{onClick:e,variant:"primary",htmlAttributes:{"data-testid":"summarize-button","data-tooltip":t?a:"","data-tooltip-type":M.Ib.TEXT},disabled:t},n.createElement("div",{className:Y},n.createElement("span",{className:"ai_summary_nudge--buttonIcon--X-QPt"},n.createElement(h,null)),(0,T.tx)("whiteboard.ai_summary.nudge.cta"),n.createElement("div",{className:X},n.createElement(P.G,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:(0,T.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))):n.createElement(b.$$,{style:{maxWidth:"initial"},className:"ai_summary_nudge--button--DlY6r",onClick:e,"data-testid":"summarize-button",disabled:t,"data-tooltip":t?a:"","data-tooltip-type":M.Ib.TEXT},n.createElement("div",{className:Y},n.createElement(k.B,{svg:J.A,className:"ai_summary_nudge--svgIcon---Lky-"}),(0,T.tx)("whiteboard.ai_summary.nudge.cta"),n.createElement("div",{className:X},n.createElement(P.G,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:(0,T.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))))});function $({num:e}){let t=184/e;return n.createElement("div",{className:"ai_summary_nudge--numberGraphic--CnM2r","aria-hidden":"true"},n.createElement(N.E,{fontSize:14,color:"secondary"},e),n.createElement("div",{className:"ai_summary_nudge--textPlaceholder--tx2Yp",style:{width:`${t}px`}}))}function ee(){let e=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiSummaryNudge),t=j(),a=z(t);return t&&e&&!a}var et=a(711525),ea=a(773912);function en(){let e=(0,s.wA)(),{isShowing:t,complete:a}=function(){let e=function(){let e=function(){let e=(0,y.md)(ea.Bl),t=(0,y.md)(q.xo),a=(0,y.md)(q.MC),r=(0,y.md)(q.ji),l=(0,y.md)(q.EH);return n.useMemo(()=>{if("loaded"!==t.status||"loaded"!==a.status||"loaded"!==e.status||e.data)return(0,et.gB)({isEligibleToShowUser:!1});let n=new Date(r).getTime()>Date.now()-864e5;return l>=3||t.data||a.data||n?(0,et.gB)({isEligibleToShowUser:!1}):(0,et.gB)({isEligibleToShowUser:!0})},[e,t,a,l,r])}(),t=ee();return(0,et.gB)({shouldShowNudge:!!(e.data.isEligibleToShowUser&&t)})}(),{show:t,isShowing:a,complete:r}=(0,u.e)({overlay:f.RSb,priority:m.N.SECONDARY_MODAL},[e]),l=ee(),i=(0,s.d4)(e=>e.mirror.selectionProperties.numSelectedByType);return n.useEffect(()=>{t({canShow:e=>e.shouldShowNudge})},[t,e,i,l]),{isShowing:a,complete:r}}();return n.createElement(_.M,{isShowing:t},t&&n.createElement(d.fu,{name:p.e0.AI_SUMMARY_TOPBAR_NUDGE},n.createElement(Z,{onClose:()=>{e(c.b({[q.l0]:!0})),a()},onSummarize:()=>{e(c.b({[q.zp]:!0})),e(c.b({[q.l0]:!0})),a()},onAutoDismiss:()=>{a()}})))}var er=a(369870),el=a(779709),ei=a(335682),eo=a(181912),es=a(38580),ec=a(106757),ed=a(309798);let eu=(0,es.eU)(!1);var em=a(392592),ep=a(934533),e_=a(988022),ef=a(636227),eg=a(430196);let eh="slides_visual_bell_entrypoint_dismissed_user_flag";function eE(){return!function(){let e=(0,s.wA)(),t=(0,ef.Yc)(),a=(0,ef.d_)(),r=(0,ed.f)(eh),l=(0,eg.$)(),i=(0,eg.N)(),[o,d]=n.useState(!1),[u,m]=n.useState(!1),p=n.useCallback(()=>{e(em.F.enqueue({messageComponentKey:ep.Rw.SLIDE_CONVERSION_VISUAL_BELL,type:ep.Rw.SLIDE_CONVERSION_VISUAL_BELL,timeoutOverride:1e4,onDismiss:()=>{d(!0),e(c.b({[eh]:!0})),(0,e_.Cu)({trackingContext:"Slides conversion visual bell entrypoint",name:"slides_conversion_visual_bell_entrypoint_dismissed"}),e(em.F.enqueue({message:(0,T.t)("slides.visual_bell.we_wont_ask_you_again")}))}}))},[e]);n.useEffect(()=>{i.size||e(em.F.dequeue({matchType:ep.Rw.SLIDE_CONVERSION_VISUAL_BELL}))},[e,i]),n.useEffect(()=>{!r?.createdAt&&!o&&a&&!u&&l>=3&&t().get("enabled",!1)&&(p(),m(!0))},[p,r,o,u,l,a,t])}(),null}var ey=a(172115),ev=a(662275),eb=a(349410),eC=a(101505),ew=a(251960),ek=a(723239),ex=a(582947),eT=a(206193),eN=a(374300),eS=a(59530),eI=a(324611),eA=a(740280),eL=a(864114);let eO=(0,ex.r1)(eS.IR);function eM(){let e=(0,v.md)(ek.mp),t=(0,v.md)(ek.t),a=(0,v.md)(eO),r=(0,v.md)(ei.yV),l=(0,s.wA)(),{uniqueId:i,isShowing:o,show:c,complete:d}=(0,u.e)({overlay:f.B14,priority:m.N.SECONDARY_MODAL},[e,t,a]),p=(0,eb.hn)();return(0,ew.E)(i,"properties-panel-select-tab",e=>{e.properties?.tab==="prototype"&&c({canShow:(e,t,a)=>(function(e){let t=Date.now();return e.getTime()<=t-2592e6})(e)&&t&&p()&&!a})}),n.createElement(eA.X,{isShowing:o,title:(0,T.tx)("upsell.advanced_prototyping.title"),description:(0,T.tx)("upsell.advanced_prototyping.description"),media:n.createElement(eI.w,{src:"https://static.figma.com/uploads/30507591ad5cd385aaf75d4a16ef140b74ec821b",aspectRatio:1.75}),primaryCta:{label:(0,T.tx)("upsell.advanced_prototyping.see_plans"),type:"button",onClick:()=>{l(ev.to({type:ey.V,data:{upsellSource:eT.b.ADVANCED_PROTOTYPING_UPSELL,teamId:r?.team?.id,openCheckoutInNewTab:!0,featureList:(0,eN.xp)(eN.Q1.filter(e=>e!==eN.Xj.AUDIO_CONVERSATIONS),eN.Xj.ADVANCED_PROTOTYPING)}})),d()},ctaTrackingDescriptor:eC.c.SEE_PLANS},secondaryCta:{label:(0,T.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/14506587589399-Use-variables-in-prototypes",ctaTrackingDescriptor:eC.c.LEARN_MORE},trackingContextName:"Advanced Prototype Upsell Popup",userFlagOnShow:eS.IR,position:eL.Q.BOTTOM_RIGHT,onClose:d})}var eP=a(866564),eR=a(340514);let eD="seen_audio_nux",eF=(0,ex.r1)(eD);function eB(){let e=(0,y.md)(eF),t=(0,I.GS)(),a=(0,u.e)({overlay:f.y4J,priority:m.N.SECONDARY_MODAL},[e]);return(0,ew.E)(a.uniqueId,"Context Viewed",e=>{let t=e.properties?.name;"join-call-with-others"===t?a.show({canShow:e=>!e}):"should-close-open-audio-nux"===t&&a.isShowing&&a.complete()}),(0,ew.E)(a.uniqueId,"Lost DOM Target",()=>{a.isShowing&&a.complete()}),n.createElement(eR.rq,{isShowing:a.isShowing,userFlagOnShow:eD,emphasized:!0,title:(0,T.tx)("collaboration.voice.join_the_conversation"),description:n.createElement("div",{style:t?{display:"inline"}:void 0},n.createElement(eP.OS,null)),targetKey:"audio-nux-key",onClose:a.complete,trackingContextName:"audio_nux_pointer"})}var eU=a(29680),eG=a(594524),eH=a(665723),eV=a(585575),eK=a(916108),ez=a(218997),eW=a(377020),ej=a(334290),eq=a(443958),eY=a(601538),eX=a(15839),eJ=a(433546),eZ=a(526360),eQ=a(756085),e$=a(460187),e0=(e=>(e[e.DONT_SHOW=0]="DONT_SHOW",e[e.DEFAULT_TO_SRGB=1]="DEFAULT_TO_SRGB",e[e.DEFAULT_TO_DISPLAY_P3=2]="DEFAULT_TO_DISPLAY_P3",e))(e0||{});let e1={"Export PNG with Color Profile":"867977941678289774"};function e2(){let{plugins:e}=(0,eQ.wH)(),t=Object.fromEntries(Object.entries(e1).filter(([t,a])=>Object.values(e).some(e=>e.manifest.id===a)));return Object.keys(t).length>0?t:null}function e5(){let e=(0,e$.Av)();return(0,e$.tK)(e)}let e3=(0,es.eU)(null),e4="color_management_default_to_p3_modal--onboardingFooter--VSeAU",e6="color_management_default_to_p3_modal--content--FzYUr",e7="seen_color_management_default_to_p3_modal",e8=eY.tO,e9=eW.O0,te="color_management_default_to_p3_modal";function tt(){let e=(0,u.e)({overlay:f.t_E,priority:m.N.SURVEY}),{currentStep:t,next:a,back:r}=(0,eG.A)({numSteps:2,onComplete:e.complete}),l=(0,ed.f)(e7),[i]=(0,eJ.jJ)(),o=e5(),s=e2(),[c,d]=(0,y.fp)(e3),p=(0,eH.jK)(),[_,g]=(0,n.useState)(!1),[h]=(0,y.fp)(eq.n$),E=(0,eH.C$)();return n.useEffect(()=>{l||null!=c||p.colorProfilePreference!==eV.M.DEFAULT||(d(eV.M.DISPLAY_P3),E(eV.M.DISPLAY_P3,{canSeeP3:o,desktopSetting:i,p3Plugins:s}),e.show())},[o,c,i,l,e,s,d,E,p.colorProfilePreference]),(0,ew.E)(e.uniqueId,ej.kF,()=>{e.isShowing&&0===t&&e.complete()}),(0,ew.E)(e.uniqueId,eW.nu,()=>{e.isShowing&&1===t&&e.complete()}),(0,ew.E)(e.uniqueId,ej.kL,()=>{_||e.isShowing||0!==t||h||(a(),e.show())}),(0,ew.E)(e.uniqueId,eq.E1,()=>{_||e.isShowing||0!==t||(a(),e.show())}),n.createElement(eK.U,{currentStep:t,isShowing:e.isShowing},n.createElement(ez.h,{modalType:eX.q3.ANNOUNCEMENT_POINTER,title:n.createElement(n.Fragment,null,(0,T.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.title")),ctaText:(0,T.tx)("general.next"),onClickPrimaryCta:a,stepCounter:n.createElement("span",{className:e4},(0,T.tx)("fullscreen.color_management.curator.step_1of2")),element:ta,onboardingKey:e8,trackingContextName:te,userFlagOnShow:e7,isShowing:e.isShowing,onClose:e.complete,onManualDismiss:()=>{e.complete(),g(!0)},width:300}),n.createElement(ez.h,{modalType:eX.q3.ANNOUNCEMENT_POINTER,title:n.createElement(n.Fragment,null,(0,T.tx)("fullscreen.color_management.curator.change_document_color_profile.title")),ctaText:(0,T.tx)("general.got_it"),onClickPrimaryCta:()=>{e.complete(),g(!0)},secondaryCtaText:n.createElement("div",{onClick:r},(0,T.tx)("general.previous")),preventDismissOnClickSecondaryCta:!0,stepCounter:n.createElement("span",{className:e4},(0,T.tx)("fullscreen.color_management.curator.step_2of2")),element:tn,onboardingKey:e9,userFlagOnShow:e7,trackingContextName:te,isShowing:e.isShowing,onClose:e.complete,onManualDismiss:()=>{e.complete(),g(!0)},width:300}))}function ta(){return n.createElement("p",{className:e6},(0,T.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.content",{colorProfileSetting:n.createElement("strong",null,(0,T.tx)("fullscreen.color_management.curator.color_profile_setting"))})," ",n.createElement("a",{href:eZ.s,target:"_blank"},(0,T.tx)("rcs.rcs_shared.learn_more")))}function tn(){return n.createElement("p",{className:e6},(0,T.tx)("fullscreen.color_management.curator.change_document_color_profile.content",{fileColorProfile:n.createElement("strong",null,(0,T.tx)("fullscreen.color_management.curator.file_color_profile"))})," ",n.createElement("a",{href:eZ.s,target:"_blank"},(0,T.tx)("rcs.rcs_shared.learn_more")))}function tr(){let[e]=(0,eJ.jJ)(),t=e5(),a=e2(),[r,l]=(0,y.fp)(e3),i=(0,eH.jK)(),o=(0,eH.C$)();return n.useEffect(()=>{null==r&&i.colorProfilePreference===eV.M.DEFAULT&&(l(eV.M.SRGB),o(eV.M.SRGB,{canSeeP3:t,desktopSetting:e,p3Plugins:a}))},[t,r,e,a,l,o,i.colorProfilePreference]),null}function tl(){let e=function(){let e=(0,eH.jK)().colorProfilePreference!==eV.M.DEFAULT,t=function(){let[e]=(0,eJ.jJ)(),t=e5(),a=e2();return t&&a&&["unmanaged","default",null].includes(e)?eV.M.DISPLAY_P3:eV.M.SRGB}(),[a]=(0,y.fp)(e3);return e&&null===a?0:t===eV.M.SRGB?1:t===eV.M.DISPLAY_P3?2:0}();if(!function(e){let t=(0,eU.aV)(),[a,r]=function(e){let[t,a]=n.useState(!1),[r,l]=n.useState(!1);return n.useEffect(()=>{let e;return r&&(e=setTimeout(()=>{a(!t),l(!1)},2e3)),()=>clearTimeout(e)},[r,t,2e3]),[t,n.useCallback(()=>l(!0),[])]}(2e3);return n.useEffect(()=>{t||r()},[t,r]),a}(0))return null;switch(e){case e0.DONT_SHOW:return null;case e0.DEFAULT_TO_SRGB:return n.createElement(tr,null);case e0.DEFAULT_TO_DISPLAY_P3:return n.createElement(tt,null)}}var ti=a(816073),to=a(965480),ts=a(177505),tc=a(601607),td=a(653734),tu=a(91564);function tm(){let e=(0,u.e)({overlay:f.qnr,priority:m.N.DEFAULT_MODAL}),t=(0,s.wA)(),a=(0,s.Pj)(),r=(0,tc.Fk)((e,t)=>(0,ts.zC)(e,t),a.getState().mirror.appModel.currentPage),l=(0,to.JU)((0,to.J3)()),i=!!ei.q5()?.template,o=(0,eU.aV)(),d=!!(0,ed.f)("seen_custom_template_publish_nudge"),p=ed.f("figjam_editor_onboarded")?.updatedAt?.getTime(),_=!!p&&p<Date.now()-12096e5,g=!o&&!d&&l&&!r&&!i&&_;return((0,n.useEffect)(()=>{g&&setTimeout(()=>{e.show(),t(c.b({seen_custom_template_publish_nudge:!0}))},1e3)},[t,e,g]),e.isShowing)?n.createElement(td.i,{step:{modalType:eX.q3.DRAGGABLE,element:tu.ZH,trackingContextName:"custom_template_publish_nudge",onboardingKey:eY.v4,title:n.createElement("div",{className:x.cx.font13.fontMedium.pl8.pt16.pb16.$},(0,T.tx)("whiteboard.inserts.custom_templates_header")),width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:e.complete,onClose:e.complete,dismissModal:e.complete,dispatch:t}):null}var tp=a(776250),t_=a(517333),tf=a(737947),tg=a(320063);let th=(0,ex.r1)("seen_desktop_download_modal_prompt"),tE=(0,ex.r1)("seen_desktop_download_modal_prompt_v2"),ty=(0,ek.tH)("used_desktop_app");function tv(){let e=(0,y.md)(th),t=(0,y.md)(tE),a=(0,y.md)(ek.mp),i=(0,y.md)(ty),o=(0,r.kc)().desktop_show_download_prompt,{isShowing:s,show:c,complete:d}=(0,u.e)({overlay:f.kmj,priority:m.N.DEFAULT_MODAL},[t,e,a]);if((0,tg.h)(()=>{t_.eD||i||!o||c({canShow:(e,t,a)=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(a)&&!t})}),!s)return null;let p=()=>{d()};return n.createElement(eA.X,{isShowing:s,title:(0,T.tx)("desktop_download_modal_prompt.download_the_figma_desktop_app"),description:(0,T.tx)("desktop_download_modal_prompt.level_up_your_workflow_with_tabs"),media:n.createElement(eI.y,{aspectRatio:1.75,alt:"A graphic showing the desktop app with tabs",src:"https://static.figma.com/uploads/cedfb41ea4da3cb80d5d062e5b648aa1d6a5cf1b"}),primaryCta:{label:(0,T.tx)("desktop_download_modal_prompt.get_the_desktop_app"),type:"button",onClick:()=>{(0,tp.sx)("desktop_modal_download_prompt_cta_clicked_v2"),p(),tf.Ay.redirect(`/download/desktop/${l.Ay.mac?"mac":"win"}`,"_blank")},ctaTrackingDescriptor:eC.c.DESKTOP_APP_DOWNLOAD},trackingContextName:"Desktop Download Modal Prompt",onClose:p,userFlagOnShow:"seen_desktop_download_modal_prompt_v2",position:eL.Q.BOTTOM_RIGHT,secondaryCta:{label:(0,T.tx)("desktop_download_modal_prompt.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5601429983767-Guide-to-the-Figma-desktop-app",ctaTrackingDescriptor:eC.c.LEARN_MORE}})}var tb=a(56207),tC=a(957379),tw=a(902139),tk=a(683694),tx=a(813648),tT=a(860178),tN=a(231472),tS=a(776008),tI=a(83012),tA=a(161074);function tL(e){let{jobTitle:t,viewedSidebar:a,setViewedSidebar:r}=e,l=(0,s.wA)(),i=(0,tI.j)(t);return n.useMemo(()=>{a||(r(!0),l(tw.En({initialX:0,initialY:0,pinned:tN.t.PINNED_AND_DOCKED_LEFT,initialSelectedCategory:i})))},[l,i,a,r]),n.createElement(n.Fragment,null)}function tO(){let e=(0,tT.TA)(),t=(0,s.d4)(e=>e.openFile),a=(0,s.d4)(e=>e.mirror.appModel.currentPage),r=(0,tc.Fk)((e,t)=>(0,ts.zC)(e,t),a),l=(0,s.d4)(e=>!(0,tA.zP)(e.mirror.appModel.currentTool)),i=(0,tA.Uj)(t,e||""),o=(0,ex.Fu)("interacted_figjam_whats_new_v2_cta"),c=(0,y.md)(o),d=(0,y.md)(ek.NT),p=(0,tS.E)(d,["education"]),_=(0,y.md)(tk.wg),[g,h]=n.useState(!1),E=(0,u.e)({overlay:f.hsL,priority:m.N.HIGH_PRIORITY_MODAL},[c,d]);(0,tg.h)(()=>{E.show({canShow:e=>(0,tA.SS)(e)&&_&&(0,tA.ZQ)(t)&&r&&!l&&i})});let v=(0,tx.LR)(),b=()=>{v(),E.complete()};return n.createElement(ez.h,{isShowing:E.isShowing,modalType:eX.q3.SELF_CONTAINED,trackingContextName:"FigJam Templates",element:()=>n.createElement(tL,{jobTitle:p,viewedSidebar:g,setViewedSidebar:h}),testId:"figjam_templates_whats_new_overlay",onClickPrimaryCta:E.complete,onClose:b,onManualDismiss:b})}var tM=a(892677),tP=a(129318),tR=a(737499),tD=a(586459),tF=a(946689),tB=a(632923),tU=a(135876),tG=a(838e3),tH=a(1851),tV=a(214673);let tK="figjam_try_confirm_save_steps--descriptionBold--ou7xj";function tz({dismissModal:e}){let t=(0,s.wA)(),a=(0,ei.tS)(),r=(0,s.d4)(e=>e.user?.email_validated_at),l=(0,s.d4)(e=>a?e.loadingState[tG.Q.loadingKeyForPayload({file_key:a})]:null),i=(0,s.d4)(e=>a?e.loadingState[tH.D.loadingKeyForPayload({fileKey:a})]:null),o=(0,tM.s)(),c=(0,tR.Kx)(),d=l===tD.r.LOADING||"loading"===o.status||i===tD.r.LOADING,u=l===tD.r.SUCCESS||i===tD.r.SUCCESS;(0,n.useEffect)(()=>{u&&(e(),c?.updateFigJamTrySaveStatus&&c.updateFigJamTrySaveStatus(tV.Fl.SAVED))},[u,e,c]);let m=(0,tR.pt)();if((0,n.useEffect)(()=>{m&&(m._claim_fig_jam_try_file=e=>{t(tG.Q({file_key:e}))})},[m,t]),(0,n.useEffect)(()=>{c?.updateFigJamTrySaveStatus&&a&&r&&c.updateFigJamTrySaveStatus(tV.Fl.REQUESTED)},[c,a,r]),!a||!r)return null;let p=(0,eo.A)(r).isAfter((0,eo.A)().subtract(5,"minutes"));return n.createElement("div",{className:"figjam_try_confirm_save_steps--modalContent--DezcS"},n.createElement("div",{className:"figjam_try_confirm_save_steps--textContent--9da6-"},n.createElement("h1",{className:"figjam_try_confirm_save_steps--headline--RRPzl text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,T.tx)("figjam_try.save_modal.headline")),n.createElement(tB.k0,{multiple:1}),n.createElement("p",{className:"figjam_try_confirm_save_steps--description--bpGw9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},p?(0,T.tx)("figjam_try.save_modal.new_team"):(0,T.tx)("figjam_try.save_modal.save_one_team",{share:n.createElement("p",{className:tK},(0,T.tx)("figjam_try.save_modal.share")),file_duplicate:n.createElement("p",{className:tK},(0,T.tx)("figjam_try.save_modal.file_duplicates"))})),n.createElement(tB.k0,{multiple:3}),n.createElement(tF.nD,{onClick:()=>{"loaded"===o.status&&(0,et.oA)(o.data?.deviceTryFile)?t(tH.D({fileKey:a})):t(tG.Q({file_key:a}))},disabled:d,fullWidth:!0,trackingProperties:{buttonContext:"Let\u2019s jam"}},n.createElement(tU.x,{isLoading:d},()=>(0,T.tx)("figjam_try.save_modal.cta")))))}function tW(){let e=(0,u.e)({overlay:f.JGK,priority:m.N.HIGH_PRIORITY_MODAL}),t=(0,y.md)(ei.yV),a=t?.isTryFile,r=(0,tR.Kx)(),l=(0,tM.s)(),[i,o]=n.useState(!1);return(0,n.useEffect)(()=>{e.isShowing&&!a&&(e.complete(),r?.updateFigJamTrySaveStatus&&r.updateFigJamTrySaveStatus(tV.Fl.SAVED))},[a,e,r]),(0,n.useEffect)(()=>{let t=(0,tP.QL)(eY.ao.key)===eY.ao.value,n="loaded"===l.status&&!!(0,et.oA)(l.data?.deviceTryFile);t&&n&&!i?(e.show(),o(!0)):t&&a&&!n?(e.show(),r?.updateFigJamTrySaveStatus&&r.updateFigJamTrySaveStatus(tV.Fl.REQUESTED)):t&&!a&&r?.updateFigJamTrySaveStatus&&r.updateFigJamTrySaveStatus(tV.Fl.SAVED)},[e,a,l,i,r]),n.createElement(ez.h,{isShowing:e.isShowing,trackingContextName:"Figjam Try Confirm Save Modal",modalType:eX.q3.WELCOME,element:({dismissModal:e})=>n.createElement(tz,{dismissModal:e}),onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}eX.q3.WELCOME,({dismissModal:e})=>n.createElement(tz,{dismissModal:e});var tj=a(502665),tq=a(488578);let tY="figjam_try_confirm_save--textContainer--9YaF4";function tX(){let[e,t]=n.useState(!1),{show:a,isShowing:r,complete:l}=(0,u.e)({overlay:f.XAb,priority:m.N.HIGH_PRIORITY_MODAL}),i=(0,y.md)(ei.yV),o=i?.isTryFile,s=(0,tM.s)(),c=(0,tP.QL)(eY.ao.key)===eY.ao.value,d=(0,y.md)(tj.N);return(0,n.useEffect)(()=>{!e&&c&&!o&&"loaded"===s.status&&et.oA(s.data?.deviceTryFile)?.claimedAt&&et.oA(s.data?.deviceTryFile)?.claimedByUserId!==d.data&&a()},[e,o,c,s,a,d]),n.createElement(_.M,{isShowing:r},n.createElement(tJ,{onClose:()=>{l(),t(!0)}}))}function tJ(e){return n.createElement(d.fu,{name:"figjam_try_device_already_claimed_overlay"},n.createElement(tq.aF,{onHide:e.onClose,disableKeyboardEventPropagation:!0,className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedModal--T7bRi"},n.createElement("div",{className:tY},n.createElement("h1",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedHeader--vNLRA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,T.tx)("figjam_try.already_claimed_modal.header"))),n.createElement(tB.k0,{multiple:1}),n.createElement("div",{className:tY},n.createElement("div",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescription--WXdx- text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,T.tx)("figjam_try.already_claimed_modal.description",{file_duplicate:n.createElement("p",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescriptionBold--CZgl4"},(0,T.tx)("figjam_try.already_claimed_modal.file_duplicate"))}))),n.createElement(tB.k0,{multiple:3}),n.createElement(tF.nD,{type:"close",fullWidth:!0,onClick:e.onClose},(0,T.tx)("figjam_try.already_claimed_modal.continue"))))}var tZ=a(339690),tQ=a(616705),t$=a(833629),t0=a(832913);let t1=(0,ex.r1)(tQ.USER_FLAG_V2),t2=(0,ek.tH)("last_figjam_at"),t5=(0,ex.r1)("dont_show_figjam_updates_in_figma_design");function t3(){let e=(0,y.md)(t5),t=(0,y.md)(tk.wg),a=(0,y.md)(ek.mp),r=(0,y.md)(t2),l=(0,y.md)(t1),i=(0,y.md)(ek.NT),o=(0,y.md)(ek.Ot),s=(0,t$.jO)(),c=(0,u.e)({overlay:f.Ttn,priority:m.N.DEFAULT_MODAL},[e,a,l,o,i]);return(0,tg.h)(()=>{c.show({canShow:(e,a,n,l)=>{if(e||l)return!1;let i=(0,tS.f)({userCreatedAt:a,lastUsedFigjamDate:r,hasSeenOverlayV2:n});return(!t||s)&&i}})}),n.createElement(t0.A,{context:"editor",jobTitle:(0,tS.E)(i,["education"]),isShowing:c.isShowing,onClickPrimaryCta:c.complete,onClose:c.complete,onManualDismiss:c.complete})}var t4=a(218881),t6=a(629019),t7=a.n(t6),t8=a(860601),t9=a(6949),ae=a(356390),at=a(99506),aa=a(239671),an=a(407844),ar=a(164795);function al(){return n.createElement("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:x.cx.colorIconBrand.$},n.createElement("g",{id:"Editor / Core / icon-32-visible"},n.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5002 15C9.20033 15 7.17803 13.8058 6.02182 12C7.17803 10.1942 9.20033 9 11.5002 9C13.8 9 15.8223 10.1942 16.9785 12C15.8223 13.8058 13.8 15 11.5002 15ZM11.5002 8C14.3782 8 16.8776 9.6211 18.1351 12C16.8776 14.3789 14.3782 16 11.5002 16C8.62214 16 6.12273 14.3789 4.86523 12C6.12273 9.6211 8.62214 8 11.5002 8ZM11.5 14C12.6046 14 13.5 13.1046 13.5 12C13.5 10.8954 12.6046 10 11.5 10C10.3954 10 9.5 10.8954 9.5 12C9.5 13.1046 10.3954 14 11.5 14Z"})))}function ai({onClose:e}){let t=(0,s.wA)(),a=!!(0,ed.f)("dismissed_gen1_design_viewer_banner"),r=(0,ei.q5)(),l=!!r?.parentOrgId,i=(0,t9.a9)(),o=!1;if(l&&i?.design_paid_status===at.El.RESTRICTED?o=!0:r?.currentTeamUser?.designPaidStatus===at.Zf.RESTRICTED&&(o=!0),a)return null;let u=n.createElement(C.Jn,{onClick:()=>{t(c.b({dismissed_gen1_design_viewer_banner:!0})),e()},"aria-label":(0,T.t)("banner.shared.close_banner"),className:"gen1_design_viewer_banner--closeButton--AKZWc"});return n.createElement(d.fu,{name:"Design Viewer Onboarding Banner",properties:{isViewerRestricted:o}},n.createElement(an.C,{content:{id:ar.om.Gen1DesignViewerBanner,bannerType:ar.x1.INFO,mainText:n.createElement(ao,{isViewerRestricted:o}),button:{type:ar.MA.CUSTOM,element:u},hideIcon:!0},editorType:aa.nT.Design,onDismiss:t8.lQ}))}function ao({isViewerRestricted:e}){let t=n.createElement("div",{className:"gen1_design_viewer_banner--keyboardShortcutContainer--Xk1DL",onClick:()=>{ae.Y5.triggerAction("set-tool-comments")},role:"button",tabIndex:0},n.createElement("span",{className:"gen1_design_viewer_banner--keyboardShortcut--83jB0"},"C"));return n.createElement("div",{className:x.cx.colorTextBrand.fontMedium.flex.flexRow.columnGap8.$},n.createElement("div",{className:x.cx.flex.flexRow.itemsCenter.pl4.pr4.fontSemiBold.colorBgSelectedHover.bRadius4.ml8.noWrap.overflowHidden.$},n.createElement(al,null),(0,T.tx)("file_browser.folder_settings.team_access_view_only")),n.createElement("span",{className:t7()(x.cx.flex.flexRow.itemsCenter.$,"gen1_design_viewer_banner--mainText--M1KK2")},e?(0,T.tx)("gen1_design_viewer_onboarding.feel_free_to_look_around_and_press_c_to_leave_comments_to_make_changes_request_a_full_design_seat_from_your_admin",{keyboardShortcut:t}):(0,T.tx)("gen1_design_viewer_onboarding.feel_free_to_look_around_and_press_c_to_leave_comments_to_make_changes_ask_to_edit_the_file",{keyboardShortcut:t})))}function as({onClose:e,onClickPrimaryCta:t}){let a=n.createElement("div",{className:"gen1_design_viewer_walkthrough--viewOnlyBadge--e8riE"},n.createElement(al,null),(0,T.tx)("gen1_design_viewer_onboarding.view_only"));return n.createElement(n.Fragment,null,n.createElement("div",{className:x.cx.fixed.top0.right0.bottom0.left0.zIndexSecondaryModal.eventsNone.$,style:{backgroundColor:"rgba(0, 0, 0, 0.27)"}}),n.createElement(eA.X,{title:(0,T.tx)("gen1_design_viewer_onboarding.take_a_quick_tour"),description:n.createElement("div",{className:"gen1_design_viewer_walkthrough--beginTourDescription--CGAEy"},n.createElement("span",null,"\u{1F44B} "),(0,T.tx)("gen1_design_viewer_onboarding.hey_there_welcome_to_your_first_figma_file_learn_how_to_explore_and_add_comments_in_this_file",{viewOnly:a})),onClose:e,trackingContextName:"Design Viewer Onboarding \u2014 Take Tour Step",position:eL.Q.BOTTOM_RIGHT,isShowing:!0,primaryCta:{label:(0,T.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:t,ctaTrackingDescriptor:eC.c.LETS_GO},secondaryCta:{label:(0,T.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e,ctaTrackingDescriptor:eC.c.NO_THANKS}}))}var ac=a(617453),ad=a(126911),au=a(100197),am=(e=>(e[e.TRACKPAD_PAN=0]="TRACKPAD_PAN",e[e.TRACKPAD_ZOOM=1]="TRACKPAD_ZOOM",e[e.MOUSE_PAN_RIGHT_CLICK_DRAG=2]="MOUSE_PAN_RIGHT_CLICK_DRAG",e[e.MOUSE_PAN_SPACE_LEFT_CLICK_DRAG=3]="MOUSE_PAN_SPACE_LEFT_CLICK_DRAG",e[e.MOUSE_ZOOM_SCROLL_WHEEL=4]="MOUSE_ZOOM_SCROLL_WHEEL",e[e.MOUSE_ZOOM_CMD_SCROLL_WHEEL=5]="MOUSE_ZOOM_CMD_SCROLL_WHEEL",e))(am||{});function ap({step:e}){let t=(0,au.J2)((0,ac.UK)().rightClickPan),a=(0,au.J2)((0,ac.UK)().scrollWheelZoom);return n.createElement("div",{className:x.cx.flex.flexRow.columnGap16.$},n.createElement(a_,{type:"pan"===e?0:1}),n.createElement(a_,{type:"pan"===e?t?2:3:a?4:5}))}function a_({type:e}){let t,a,r;switch(e){case 0:a="https://static.figma.com/uploads/863006f3b3055a16cb6674b2b38e180bbf2a3c3f",r=(0,T.tx)("gen1_design_viewer_onboarding.slide_with_two_fingers_to_move_on_a_trackpad");break;case 1:a="https://static.figma.com/uploads/69708e22f9ed801bf3d746142a3a90d8befb5d60",r=(0,T.tx)("gen1_design_viewer_onboarding.pinch_to_zoom_on_a_trackpad");break;case 3:t=n.createElement(ag,null),r=(0,T.tx)("gen1_design_viewer_onboarding.hold_keyboard_shortcut_click_and_drag_with_your_mouse",{keyboardShortcut:n.createElement("span",{className:x.cx.colorTextBrand.colorBgBrandTertiary.pl4.pr4.pt2.pb2.fontMedium.bRadius2.$},(0,T.tx)("whiteboard.keyboard_shortcuts.key_label.space"))});break;case 2:t=n.createElement(af,null),r=(0,T.tx)("gen1_design_viewer_onboarding.right_click_and_drag_to_pan_with_your_mouse");break;case 5:a="https://static.figma.com/uploads/b99f52810b351c4f827711787d5c46a01e829835",r=(0,T.tx)("gen1_design_viewer_onboarding.hold_and_scroll_your_mouse",{keyboardShortcut:n.createElement("span",{className:x.cx.colorTextBrand.colorBgBrandTertiary.pl4.pr4.pt2.pb2.fontMedium.bRadius2.$},(0,T.tx)(ad.y.isMac()?"tooltips_plus_onboarding.command_key":"tooltips_plus_onboarding.control_key"))});break;case 4:a="https://static.figma.com/uploads/b99f52810b351c4f827711787d5c46a01e829835",r=(0,T.tx)("gen1_design_viewer_onboarding.use_the_scroll_wheel_to_zoom_with_a_mouse")}return n.createElement("div",{className:"navigation_instructions--instructionPanel--LSUWY"},n.createElement("div",{className:"navigation_instructions--instructionAsset--92t2D"},t||n.createElement("video",{src:a,autoPlay:!0,loop:!0,muted:!0,style:{width:"100%"}})),n.createElement("div",null,r))}function af(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"Rectangle 1"},n.createElement("rect",{width:"33.6014",height:"48",rx:"16.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 41.9996 4.46875)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.2925 4.6935)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"})),n.createElement("path",{id:"Vector 582",d:"M31.8131 31.5482L46.793 27.5343L45.9447 19.3759L40.1031 12.5554L31.9836 9.14054L26.2221 10.6843L31.8131 31.5482Z",fill:"#0D99FF"}),n.createElement("rect",{id:"Rectangle 3",x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.2925 4.6935)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}),n.createElement("g",{id:"Rectangle 2"},n.createElement("rect",{width:"9.60041",height:"16.8",rx:"4.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 32.8944 16.8467)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"7.60041",height:"14.8",rx:"3.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 31.1873 17.0714)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"})))}function ag(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"33.6014",height:"48",rx:"16.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 42.5767 4.30371)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.8696 4.52846)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}),n.createElement("path",{d:"M32.3639 31.0389L17.384 35.0528L14.0394 27.5632L15.6882 18.7357L21.0125 11.7186L26.774 10.1748L32.3639 31.0389Z",fill:"#0D99FF"}),n.createElement("rect",{width:"9.60041",height:"16.8",rx:"4.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 33.4716 16.6816)",fill:"white"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"7.60041",height:"14.8",rx:"3.8002",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 31.7645 16.9064)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}),n.createElement("rect",{x:"-0.707083",y:"1.22474",width:"31.6014",height:"46",rx:"15.8007",transform:"matrix(-0.965926 0.258819 0.258843 0.965919 40.8696 4.52846)",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}let ah=[function({onClickPrimaryCta:e,onClose:t,currStepNum:a,totalNumSteps:r}){let l=eA.X;return n.createElement(l,{title:(0,T.tx)("gen1_design_viewer_onboarding.getting_around"),description:n.createElement(n.Fragment,null,n.createElement(tF.Kz,{multiple:1}),n.createElement(ap,{step:"pan"})),onClose:t,trackingContextName:"Design Viewer Onboarding \u2014 Pan Instructions Step",primaryCta:{label:(0,T.tx)("general.next"),type:"button",onClick:e,ctaTrackingDescriptor:eC.c.NEXT},stepCounter:{stepNum:a,totalNumSteps:r},width:360,position:eL.Q.BOTTOM_RIGHT,isShowing:!0})},function({onClickPrimaryCta:e,onClickSecondaryCta:t,onClose:a,currStepNum:r,totalNumSteps:l}){let i=eA.X;return n.createElement(i,{title:(0,T.tx)("gen1_design_viewer_onboarding.look_closer_or_step_back"),description:n.createElement(n.Fragment,null,n.createElement(tF.Kz,{multiple:1}),n.createElement(ap,{step:"zoom"})),onClose:a,trackingContextName:"Design Viewer Onboarding \u2014 Zoom Instructions Step",primaryCta:{label:(0,T.tx)("general.next"),type:"button",onClick:e,ctaTrackingDescriptor:eC.c.NEXT},secondaryCta:{label:(0,T.tx)("general.back"),type:"button",onClick:t,ctaTrackingDescriptor:eC.c.BACK},stepCounter:{stepNum:r,totalNumSteps:l},width:360,position:eL.Q.BOTTOM_RIGHT,isShowing:!0})},function({onClickPrimaryCta:e,onClickSecondaryCta:t,onClose:a,currStepNum:r,totalNumSteps:l}){let i=(0,eU.dH)();(0,tg.h)(()=>{i!==E.NLJ.COMMENTS&&ae.Y5.triggerAction("set-tool-comments")});let o=n.createElement("div",{className:x.cx.lh20.pt4.$},(0,T.tx)("gen1_design_onboarding.leave_a_comment_anywhere_in_the_canvas_to_give_feedback_ask_questions_or_mention_someone"));return n.createElement(eR.rq,{targetKey:"comment",title:(0,T.tx)("gen1_design_viewer_onboarding.share_your_thoughts"),description:o,onClose:a,trackingContextName:"Design Viewer Onboarding \u2014 Comments Step",primaryCta:{label:(0,T.tx)("general.next"),type:"button",onClick:e,ctaTrackingDescriptor:eC.c.NEXT},secondaryCta:{label:(0,T.tx)("general.back"),type:"button",onClick:t,ctaTrackingDescriptor:eC.c.BACK},stepCounter:{stepNum:r,totalNumSteps:l},isShowing:!0,disableHighlight:!0})},function({onClickPrimaryCta:e,onClickSecondaryCta:t,onClose:a,currStepNum:r,totalNumSteps:l}){let i=(0,eU.dH)();(0,tg.h)(()=>{i!==E.NLJ.NONE&&ae.Y5.triggerAction("set-tool-default")});let o=(0,s.d4)(e=>e.multiplayer.allUsers.length),c=n.createElement("div",{className:x.cx.lh20.pt4.$},(0,T.tx)("gen1_design_viewer_onboarding.yep_other_people_can_be_in_the_same_file_and_they_ll_appear_up_here_click_on_their_profile_picture_to_follow_and_see_where_they_are_in_real_time"));return n.createElement(eR.rq,{targetKey:o>1?"multiplayer-avatars":"multiplayer-users-container",title:(0,T.tx)("gen1_design_viewer_onboarding.follow_your_teammates"),description:c,onClose:a,trackingContextName:"Design Viewer Onboarding \u2014 Spotlight Step",primaryCta:{label:(0,T.tx)("general.done"),type:"button",onClick:e,ctaTrackingDescriptor:eC.c.DONE},secondaryCta:{label:(0,T.tx)("general.back"),type:"button",onClick:t,ctaTrackingDescriptor:eC.c.BACK},stepCounter:{stepNum:r,totalNumSteps:l},isShowing:!0,disableHighlight:!0,zIndex:eL.R.TERTIARY_MODAL})}];function aE({onCloseOrComplete:e}){let[t,a]=n.useState(!1),r=(0,eG.A)({numSteps:ah.length,onComplete:e}),l=n.useMemo(()=>ah.map((t,a)=>n.createElement(t,{onClickPrimaryCta:r.next,onClickSecondaryCta:r.back,onClose:e,currStepNum:a+1,totalNumSteps:ah.length})),[e,r.back,r.next]),i=(0,s.wA)();return((0,tg.h)(()=>{i(c.b({seen_gen1_design_viewer_onboarding:!0}))}),t)?n.createElement(eK.U,{currentStep:r.currentStep,children:l,isShowing:!0}):n.createElement(as,{onClose:e,onClickPrimaryCta:()=>a(!0)})}function ay(){let{getConfig:e}=(0,t4.I7)("exp_gen1_viewer_onboarding"),t=(0,y.md)(tk.wg),a=(0,y.md)(eu),l=!!(0,ed.f)("dismissed_gen1_design_viewer_banner"),i=!!(0,ed.f)("seen_gen1_design_viewer_onboarding"),[o,d]=n.useState(()=>!!i),p=!!(0,ed.f)("dismissed_gen1_design_viewer_onboarding"),_=i&&!l,g=(0,r.kc)().exp_gen1_viewer_onboarding_ff,{show:h,isShowing:E,complete:v}=(0,u.e)({overlay:f.Xh8,priority:m.N.OVERRIDING_MODAL,experiment:{check:()=>!!_||e().get("should_see_gen1_viewer_onboarding",!1),predicate:e=>e,postCheck:()=>!l||!i}}),b=(0,s.wA)();return(n.useEffect(()=>{g&&!E&&(a||_)&&!t&&h()},[t,g,a,E,_,h]),E)?n.createElement(n.Fragment,null,n.createElement(ai,{onClose:()=>{(p||o)&&v()}}),a&&!o&&!p&&n.createElement(aE,{onCloseOrComplete:()=>{b(c.b({dismissed_gen1_design_viewer_onboarding:!0})),l&&v()}})):null}var av=a(634732),ab=a(293017),aC=a(493364);function aw(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.currentTeamId),a=(0,s.Pj)(),r=(0,y.md)(ek.t),l=(0,y.md)(tk.NZ),i=(0,t$.jO)(),o=(0,y.md)(tk.wg),{getConfig:c}=(0,t4.I7)("exp_library_upsells_v2"),{isShowing:d,show:p,complete:_,uniqueId:g}=(0,u.e)({overlay:f.BrS,priority:m.N.DEFAULT_MODAL,experiment:{check:()=>c().get("show_library_upsell",!1),predicate:e=>e,postCheck:e=>!0}},[r]);(0,n.useEffect)(()=>{if(!d)return;let t=a.getState().leftPanel.activeTab;return e(ab.FP({tab:E.xae.ASSETS})),()=>{e(ab.FP({tab:t}))}},[e,a,d]);let h=(0,n.useCallback)(e=>{e.properties?.action==="copy_paste_from_different_file"&&o&&p({canShow:e=>e&&l&&i})},[o,p,l,i]),v=(0,n.useCallback)(()=>{d&&_()},[d,_]);return(0,ew.E)(g,"component_instance_inserted",h),n.createElement(eR.rq,{isShowing:d,targetKey:m.D,title:(0,T.tx)("rcs.upsell_libraries.reuse_components_across_all_files"),description:(0,T.tx)("rcs.upsell_libraries.quickly_access_components"),primaryCta:{label:(0,T.tx)("rcs.upsell_libraries.see_plans"),type:"button",onClick:()=>{e(ev.to({type:ey.V,data:{teamId:t??void 0,upsellSource:eT.b.UPSELL_LIBRARIES_REUSE_COMPONENTS_OVERLAY,openCheckoutInNewTab:!0}})),v()},ctaTrackingDescriptor:eC.c.GOT_IT},secondaryCta:{label:(0,T.tx)("rcs.upsell_libraries.not_now"),type:"button",onClick:v,ctaTrackingDescriptor:eC.c.GOT_IT},onClose:v,trackingContextName:"Upsell Libraries Reuse Components Overlay",arrowPosition:aC.F_.LEFT_TITLE,emphasized:!0,onTargetLost:v})}var ak=a(638889),ax=a(278733),aT=a(132572);let aN="seen_link_shortcut_overlay",aS=(0,ex.r1)(aN);function aI(){let e=(0,s.wA)(),t=(0,v.md)(aS),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.v75,priority:m.N.DEFAULT_MODAL},[t]),o=ad.y.isApple(),d=n.useMemo(()=>n.createElement(ak.S,{shortcut:o?"\u2318K":"Ctrl+K"}),[o]),p=n.useMemo(()=>n.createElement(ak.S,{shortcut:o?"\u21E7\u2318U":"Shift+Ctrl+U"}),[o]);return(0,ew.E)(i,["show_link_shortcuts_overlay"],()=>{a({canShow:t=>(e(c.b({seen_link_shortcut_overlay:!0})),!!(0,aT.AL)()&&!t)})}),n.createElement(eA.X,{width:350,isShowing:r,title:(0,T.tx)("fullscreen.link_shortcuts_onboarding.title"),description:n.createElement("div",null,(0,T.tx)("fullscreen.link_shortcuts_onboarding.description"),n.createElement("ul",{className:x.cx.py8.$,style:ax.sx.add({listStyle:"disc inside"}).$},n.createElement("li",null,(0,T.tx)("fullscreen.link_shortcuts_onboarding.show_actions_updated",{actionsKeyCommand:n.createElement("strong",null,d)})),n.createElement("li",null,(0,T.tx)("fullscreen.link_shortcuts_onboarding.show_links_updated",{link:n.createElement("strong",null,(0,T.tx)("fullscreen.link_shortcuts_onboarding.create_link")),linkKeyCommand:p})))),primaryCta:{label:(0,T.tx)("fullscreen.link_shortcuts_onboarding.got_it"),type:"button",onClick:l,ctaTrackingDescriptor:eC.c.GOT_IT},trackingContextName:"Link Shortcuts Preference Onboarding Modal",userFlagOnShow:aN,position:eL.Q.BOTTOM_RIGHT,onClose:l,testId:"linkShortcutOverlay"})}var aA=a(140908),aL=a(689404),aO=a(630834);let aM="dismissed_local_component_asset_panel_pointer",aP=(0,ex.r1)(aM);function aR(){let e=(0,s.wA)(),t=(0,tT.TA)(),a=(0,y.md)(tk.wg),r=(0,y.md)(aP),l=(0,y.md)(tk.NZ),i=(0,y.md)(tk.pQ),o=(0,y.md)(ek.t),d=(0,t$.jO)(),p=(0,s.d4)(e=>e.openFile?.teamId==null),_=(0,I.GS)(),{isShowing:g,show:h,complete:E,uniqueId:v}=(0,u.e)({overlay:f.Smd,priority:m.N.SECONDARY_MODAL,experiment:{check:()=>(0,aA.Hz)(t??void 0),predicate:e=>e,postCheck:e=>!e}},[r,o,i]),b=(0,n.useCallback)(()=>{a&&h({canShow:(e,t,a)=>d&&t&&(a||l)})},[d,a,l,h]),w=(0,n.useCallback)(()=>{g&&(E(),e(c.b({[aM]:!0})))},[e,E,g]);return(0,ew.E)(v,"action_create_symbol",b),(0,ew.E)(v,"component_instance_inserted",w),n.createElement(eR.rq,{isShowing:g,targetKey:eY.Qr,description:n.createElement(n.Fragment,null,n.createElement("div",{className:x.cx.if(_,x.cx.pt6.mr36).$},p?(0,T.tx)("design_systems.assets_panel.drag_drop_component_draft"):(0,T.tx)("design_systems.assets_panel.drag_drop_component")),_&&n.createElement(C.Jn,{onClick:w,innerText:(0,T.t)("general.close"),"aria-label":(0,T.t)("general.close"),className:t7()(aL.Rf,x.cx.absolute.top0.right0.mr8.mt10.$),svg:aO.default})),primaryCta:{label:(0,T.tx)("design_systems.assets_panel.got_it"),type:"button",onClick:w,ctaTrackingDescriptor:eC.c.GOT_IT},onClose:w,trackingContextName:"Local Component Asset Panel Pointer",arrowPosition:aC.F_.LEFT_TITLE,emphasized:!0,hideCloseButton:_})}var aD=a(27087),aF=a(206121);let aB=(0,ex.r1)("seen_mobile_comment_download_modal_prompt");function aU(){let e=(0,s.wA)(),t=(0,y.md)(aB),a=(0,s.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),l=(0,s.d4)(e=>e.user?.created_at),i=(0,eo.A)(l).add(14,"day").isSameOrAfter((0,eo.A)()),{isShowing:o,show:c,complete:d,uniqueId:p}=(0,u.e)({overlay:f.H2x,priority:m.N.DEFAULT_MODAL},[t]);if((0,ew.E)(p,aF.w,(0,n.useCallback)(()=>{c({canShow:e=>!!(0,r.kc)().mobile_download_modal_prompts&&!e&&!i&&!a})},[c,a,i])),!o)return null;let _=()=>{aD.Ay.post("/api/send_mobile_download_email",{type:"comment"}),(0,tp.sx)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),d(),e(em.F.enqueue({message:(0,T.t)("rcs.mobile_comment_reply_upsell.email_sent")}))};return n.createElement(eA.X,{isShowing:o,title:(0,T.tx)("mobile_download_prompts.never_miss_a_comment"),description:(0,T.tx)("mobile_download_prompts.scan_the_qr_code"),media:n.createElement(eI.y,{aspectRatio:1.75,alt:"A graphic show mobile comments with a qr code",src:"https://static.figma.com/uploads/6c270bb31fb5af03393425b7f0a6462ec59d04ab"}),primaryCta:{label:(0,T.tx)("mobile_download_prompts.email_me"),type:"button",onClick:()=>_(),ctaTrackingDescriptor:eC.c.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED},trackingContextName:"Mobile Comment Download Modal Prompt",onClose:()=>{d()},userFlagOnShow:"seen_mobile_comment_download_modal_prompt",position:eL.Q.BOTTOM_RIGHT,secondaryCta:{label:(0,T.tx)("mobile_download_prompts.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/1500007537281-Guide-to-the-Figma-mobile-app",ctaTrackingDescriptor:eC.c.LEARN_MORE}})}var aG=a(844647),aH=a(288527),aV=a(723200),aK=a(754407),az=a(720750),aW=a(186460),aj=a(47506);function aq(e){return n.createElement("div",{className:"connector_modal_wrapper--connectorModalWrapper--uCUjA"},e.children)}var aY=a(63666),aX=a(50772),aJ=a(698380);let aZ="onboard_figjam_viewer--contentContainer--t9zim",aQ="onboard_figjam_viewer--imageContainer--rvqD8",a$="onboard_figjam_viewer--image--ZdwAA",a0="onboard_figjam_viewer--mainContent--8TgvP text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",a1="onboard_figjam_viewer--normal--HjE2J",a2="onboard_figjam_viewer--bold--kC3mV";class a5 extends n.PureComponent{render(){return n.createElement("div",{className:aZ},n.createElement("div",{style:ax.sx.add({width:`${this.props.imgContainerWidth}px`}).$,className:aQ},n.createElement("span",{className:"onboard_figjam_viewer--imgHelper--SJXYZ","aria-hidden":"true"}),n.createElement("img",{className:a$,src:this.props.imgSrc,alt:""})),n.createElement("div",{className:t7()({[a0]:!0,[a1]:!this.props.isBold,[a2]:!!this.props.isBold})},this.props.titleText&&n.createElement("div",{className:"onboard_figjam_viewer--title--k1Gpk"},this.props.titleText),n.createElement("div",{className:"onboard_figjam_viewer--text--xkcTB"},this.props.bodyText),n.createElement("div",{className:"onboard_figjam_viewer--bottomContentRow--PgTeU"},n.createElement("div",{className:t7()({"onboard_figjam_viewer--secondaryText--THVcI":!0,[a1]:!this.props.isBold,[a2]:!!this.props.isBold})},this.props.steps?(0,T.tx)("rcs.rcs_shared.step_counter",{currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):n.createElement(n.Fragment,null)),n.createElement(tF.vd,{className:t7()({"onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,[a2]:!!this.props.isBold}),onClick:this.props.onNext,autoFocus:!0},this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&(0,T.tx)("rcs.rcs_shared.done"),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&(0,T.tx)("rcs.figjam_onboarding.next")))),n.createElement(C.Jn,{className:t7()({"onboard_figjam_viewer--closeButton--hm43f close_button--closeX--Bc-63":!0,[a1]:!this.props.isBold,[a2]:!!this.props.isBold}),onClick:this.props.onDismiss,innerText:"close",svg:aO.default}))}}a5.displayName="FigJamOnboardingModal";var a3=a(259494);function a4(e){let t=(0,aJ.O)();(0,n.useEffect)(()=>(ae.Y5.triggerAction("set-tool-hand",null),()=>ae.Y5.triggerAction("set-tool-default",null)),[]),(0,n.useEffect)(()=>(t({eventName:"hand_tooltip_shown"}),()=>t({eventName:"pan_zoom_completed"})),[t]);let a=(0,aA.Un)();return n.createElement(aq,null,n.createElement(aY.Dv,{targetType:"dom",targetKey:a3.N,topPadding:-6,hasShadow:e.hasShadow},n.createElement(a5,{bodyText:n.createElement("span",null,(0,T.tx)("rcs.figjam_onboarding.use_the_hand_tool_and_drag_to_move_around_hold_space_to_activate_it_anytime",{spaceKey:n.createElement("b",null,(0,T.tx)("rcs.figjam_onboarding.space"))})),onNext:e.onClickPrimaryCta,steps:{current:2,total:a?2:3},onDismiss:()=>{e.dismissModal(),t({eventName:"hand_tooltip_dismissed"})},imgSrc:"https://static.figma.com/uploads/07ff49c75c8933ea70ff2e4776503291c31a35ef"})))}var a6=a(911738);function a7(e){let t=l.Ay.mac?(0,T.t)("rcs.figjam_onboarding.cmd"):(0,T.t)("rcs.figjam_onboarding.ctrl"),a=(0,a6.O)()?-10:-3,r=(0,aA.Un)(),i=(0,aJ.O)();return(0,n.useEffect)(()=>{i({eventName:"zoom_tooltip_shown"})},[i]),n.createElement(aq,null,n.createElement(aY.Dv,{targetType:"dom",topPadding:a,targetKey:a3.q,hasShadow:e.hasShadow},n.createElement(a5,{bodyText:n.createElement("span",null,(0,T.tx)("rcs.figjam_onboarding.pinch_to_zoom_on_a_trackpad_hold_command_while_scrolling_or_use",{commandKey:n.createElement("b",null,t),plusOrMinusKeys:n.createElement("b",null,(0,T.tx)("rcs.figjam_onboarding.plus_or_minus"))})),onNext:e.onClickPrimaryCta,steps:{current:1,total:r?2:3},onDismiss:()=>{e.dismissModal(),i({eventName:"zoom_tooltip_dismissed"})},imgSrc:"https://static.figma.com/uploads/4e36d3bbbf8633fef1b86238f66bb1bf54f54d2a"})))}function a8(e){return n.createElement(ez.h,{testId:e.testId?e.testId:"ZoomConnectorOverlay",modalType:eX.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Zoom",element:a7,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function a9(e){let t=(0,aA.Un)();return n.createElement(ez.h,{testId:e.testId?e.testId:"HandToolConnectorOverlay",modalType:eX.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Hand Tool",userFlagOnShow:t?"figjam_editor_onboarded":void 0,element:a4,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let ne=[a8,a9,function(e){return n.createElement(ez.h,{testId:e.testId?e.testId:"ShareConnectorOverlay",modalType:eX.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Share",userFlagOnShow:"figjam_editor_onboarded",element:e=>n.createElement(aq,null,n.createElement(aY.Dv,{targetType:"dom",targetKey:eY.v4,topPadding:-6},n.createElement(a5,{bodyText:n.createElement("span",null,(0,T.tx)("rcs.figjam_onboarding.invite_others_or_share_this_file_with_a_link_to_jam_with_your_team")),onNext:e.onClickPrimaryCta,steps:{current:3,total:3},onDismiss:e.dismissModal,imgSrc:"https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1"}))),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}];var nt=a(67085),na=a(220820),nn=a(578427),nr=a(915440),nl=a(391388),ni=a(809831),no=a(279453);function ns({skipAccountCreationDateCheck:e=!1}){let t=(0,eU.aV)(),a=(0,ni.lg)(),r=(0,ei.q5)(),l=(0,y.md)(ek.mp),i=(0,nr.Rs)(no.KMT,{currentOrgId:r?.parentOrgId||null});return n.useMemo(()=>nl.Qw.all([l,i]).transform(n=>{let[r,l]=n,i=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(r),o=!!l.org?.k12GoogleOrg||(0,nn.aA)(l.currentUser.profile?.jobTitle||"");return!t&&a===at._Y.WHITEBOARD&&(e||i)&&o}),[l,i,a,t,e])}function nc({isShowing:e,onPrimaryCtaClick:t,onClose:a}){return n.createElement(_.M,{isShowing:e},n.createElement(d.fu,{name:"Share to Google Classroom New User Onboarding"},n.createElement(aY.Dv,{targetType:"dom",targetKey:"share",isBold:!0,topPadding:-6,autoWidth:!0},n.createElement(a5,{isBold:!0,titleText:(0,T.tx)("whiteboard.google_classroom.onboarding.new_user.header"),bodyText:(0,T.tx)("whiteboard.google_classroom.onboarding.new_user.body"),buttonText:(0,T.tx)("whiteboard.google_classroom.onboarding.show_me"),onNext:t,onDismiss:a,imgSrc:"https://static.figma.com/uploads/db6976747d085e1350d443cd04b08e7ba979b86b",imgContainerWidth:105}))))}function nd({isShowing:e,onClose:t}){return n.createElement(eR.rq,{isShowing:e,zIndex:eL.R.MODAL,trackingContextName:"Share to Google Classroom Share Option Pointer",targetKey:nn.pb,arrowPosition:aC.F_.LEFT_TITLE,description:n.createElement("div",null,(0,T.tx)("whiteboard.google_classroom.pointer.body")),onClose:t,onTargetLost:t,emphasized:!0,disableHighlight:!0,clickOutsideToHide:!0})}let nu="seen_figjam_share_to_google_classroom_existing_user_onboarding",nm=(0,ex.r1)(nu),np="seen_figjam_share_to_google_classroom_new_user_onboarding",n_=(0,ex.r1)(np),nf=(0,ex.r1)("has_shared_to_google_classroom"),ng=(0,ex.r1)("figjam_editor_onboarded"),nh="start_share_to_classroom_new_user_onboarding";function nE(){let e=(0,s.wA)(),t=ns({skipAccountCreationDateCheck:!0}),a=(0,y.md)(nm),r=(0,y.md)(n_),l=(0,y.md)(nf),i=(0,y.md)(nn.Ij),{show:o,isShowing:d,complete:p,uniqueId:_}=(0,u.e)({overlay:f.DKg,priority:m.N.OVERRIDING_MODAL},[r,a,l,t]);(0,ew.E)(_,nh,()=>{o({onShow:()=>{e(c.b({[np]:!0}))},canShow:(e,t,a,n)=>!e&&!t&&!a&&n})}),n.useEffect(()=>{a.data&&p()},[a,p]);let{currentStep:g,next:h}=(0,eG.A)({numSteps:2,onComplete:p}),E=function({isShowing:e,next:t,complete:a}){let r=(0,s.wA)(),l=(0,ei.q5)();return[n.createElement(nc,{key:"share-to-google-classroom-new-user-callout",isShowing:e,onPrimaryCtaClick:()=>{if(!l){a();return}r((0,ev.to)({type:na.g_,data:{fileKey:l.key,source:nt.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:a}),n.createElement(nd,{key:"share-to-google-classroom-share-option-pointer",isShowing:e,onClose:a})]}({isShowing:d,next:h,complete:p});return n.useEffect(()=>{i&&d&&0===g&&h()},[g,d,i,h]),n.createElement(eK.U,{currentStep:g,isShowing:d,children:E})}function ny(e){let t=(0,s.wA)();return()=>{t(c.b({figjam_editor_onboarded:!0})),e()}}function nv({overlayUniqueId:e,afterReset:t}){let a=(0,s.wA)();(0,ew.E)(e,"Reset Onboarding",()=>{a(c.b({figjam_editor_onboarded:!1,figjam_browse_templates_modal_onboarded:!1,figjam_browse_templates_modal_onboarding_item_selected:!1})),t&&t()})}function nb({steps:e,onComplete:t,isShowing:a,overlayUniqueId:r}){let{currentStep:l,next:i,reset:o}=(0,eG.A)({numSteps:e.length,onComplete:t});return nv({overlayUniqueId:r,afterReset:o}),n.createElement(eK.U,{currentStep:l,isShowing:a,children:n.useMemo(()=>e.map(e=>n.createElement(e,{onClickPrimaryCta:i,onClose:t8.lQ,onManualDismiss:t,isShowing:a})),[i,t,a,e])})}var nC=a(888699),nw=a(358145),nk=a(271779),nx=a(738274),nT=a(119198),nN=a(777078),nS=a(114716),nI=a(102310),nA=a(820642),nL=a(106112),nO=a(555328),nM=a(945020),nP=a(342720),nR=a(27928),nD=a(766926),nF=a(79132),nB=a(746806),nU=a(479296),nG=a(900073),nH=a(297666),nV=a(819338);function nK({onClickPrimaryCta:e,useCase:t}){let a=(0,ei.q5)(),r=(0,s.wA)(),l=(0,aJ.O)();return{onNext:(0,n.useCallback)(()=>{a&&(r((0,ev.to)({type:na.g_,data:{fileKey:a.key,source:nt.nk.expFigJamOnboardingShareVariant}})),(0,aj.YQ)({id:"open share modal"}),l({eventName:"share_board_clicked",useCase:t})),e()},[a,r,e,l,t])}}let nz="make_something_assets--svg--hgXqn",nW="make_something_assets--svgHovered--3XZdi",nj="make_something_assets--transformable--Ku46s",nq="make_something_assets--transformLeftBrainstorm--To6dH",nY="make_something_assets--transformRightBrainstorm--DH4Yj",nX="make_something_assets--transformLeftUpdates--HVSJ5",nJ="make_something_assets--transformRightUpdates--jOJJ-",nZ="make_something_assets--transformLeftPlanning--6tBWf",nQ="make_something_assets--transformRightPlanning--H2U0C",n$="make_something_assets--transformRightDiagramming--2ff-F";function n0(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t7()(nz,{[nW]:e.hovered})},n.createElement("rect",{x:"27.1868",y:"27.8497",width:"141.626",height:"142.374",fill:"#E5F4FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("rect",{x:"27.1868",y:"3.18684",width:"141.626",height:"19.8053",fill:"#0D99FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("g",{filter:"url(#filter0_d_351_43460)"},n.createElement("rect",{x:"37.4653",y:"38.1284",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"37.6522",y:"38.3153",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("g",{filter:"url(#filter1_d_351_43460)"},n.createElement("rect",{x:"124.157",y:"81",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"124.344",y:"81.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("g",{filter:"url(#filter2_d_351_43460)"},n.createElement("rect",{x:"81",y:"38",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),n.createElement("rect",{x:"81.1868",y:"38.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("g",{filter:"url(#filter3_d_351_43460)"},n.createElement("rect",{x:"80.8096",y:"123.326",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),n.createElement("rect",{x:"80.9964",y:"123.513",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("rect",{x:"84.9214",y:"128.181",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"40.8262",y:"42.2361",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"129.021",y:"85.1079",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"129.021",y:"100.057",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"40.8262",y:"49.7126",width:"18.3105",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"129.021",y:"92.584",width:"20.9263",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("path",{d:"M87.4033 45.8193C88.2079 46.4289 88.9008 47.0959 89.6122 47.8073",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M97.5591 43.8335V48.0303",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M103.975 49.5765C106.065 48.776 108.231 47.9817 110.38 47.3677",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M103.748 57.5273H109.491",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M98.8926 62.6094V67.4688",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("path",{d:"M90.1268 58.5264C89.2081 59.2528 88.1169 59.8811 87.2876 60.7104",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),n.createElement("g",{filter:"url(#filter4_d_351_43460)"},n.createElement("rect",{x:"81",y:"80.7251",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"81.1868",y:"80.9119",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("path",{d:"M108.795 102.748L108.954 102.837L109.047 102.681L109.454 101.997C109.755 101.492 110.248 101.121 110.825 100.966C111.402 100.812 112.014 100.886 112.527 101.173C113.039 101.459 113.41 101.933 113.559 102.489C113.708 103.046 113.625 103.642 113.324 104.146L113.324 104.146L112.957 104.763L112.957 104.763L110.552 108.797L105.825 106.155C105.313 105.869 104.942 105.395 104.793 104.839C104.644 104.282 104.728 103.687 105.028 103.183C105.329 102.678 105.821 102.308 106.398 102.153C106.975 101.998 107.587 102.073 108.1 102.36L108.795 102.748Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),n.createElement("path",{d:"M116.865 94.0866L116.958 94.2427L117.116 94.154L117.811 93.7653C118.324 93.4788 118.936 93.4037 119.513 93.5582C120.09 93.7127 120.583 94.0836 120.884 94.5878C121.185 95.0918 121.269 95.6876 121.12 96.2442C120.971 96.8009 120.6 97.2749 120.088 97.5613L120.088 97.5614L119.461 97.9124L119.461 97.9125L115.362 100.203L112.589 95.5518C112.288 95.0478 112.204 94.4522 112.353 93.8958C112.502 93.3393 112.873 92.8655 113.385 92.5793C113.897 92.293 114.51 92.2181 115.087 92.3727C115.664 92.5273 116.156 92.8982 116.457 93.4024L116.865 94.0866Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),n.createElement("g",{filter:"url(#filter5_d_351_43460)",className:t7()(nj,nY)},n.createElement("rect",{x:"124",y:"37.761",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),n.createElement("rect",{x:"124.187",y:"37.9478",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("path",{d:"M131.262 57.6483C132.364 58.2951 133.535 59.063 134.814 59.2976C138.578 59.9876 139.728 56.6784 139.99 53.525C140.181 51.2338 140.49 47.2706 137.707 46.3822C135.469 45.668 135.63 48.5222 135.525 50.0614C135.198 54.8126 139.249 59.0839 144.177 57.7244C145.893 57.251 147.804 55.2775 148.694 53.7787C149.217 52.8971 149.432 51.8588 149.988 51.0257",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round",className:t7()(nj,nY)}),n.createElement("circle",{cx:"150.532",cy:"37.7597",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684",className:t7()(nj,nY)}),n.createElement("g",{filter:"url(#filter6_d_351_43460)",className:t7()(nj,nq)},n.createElement("rect",{x:"37",y:"81.208",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),n.createElement("rect",{x:"37.1868",y:"81.3948",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),n.createElement("rect",{className:t7()(nj,nq),x:"41.8633",y:"87.5618",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{className:t7()(nj,nq),cx:"70.6325",cy:"98.0258",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("circle",{className:t7()(nj,nq),cx:"61.2902",cy:"106.617",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_351_43460",x:"37.4653",y:"38.1284",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter1_d_351_43460",x:"124.157",y:"81",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter2_d_351_43460",x:"81",y:"38",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter3_d_351_43460",x:"80.8096",y:"123.326",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter4_d_351_43460",x:"81",y:"80.7251",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter5_d_351_43460",x:"124",y:"37.761",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),n.createElement("filter",{id:"filter6_d_351_43460",x:"37",y:"81.208",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"}))))}function n1(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t7()(nz,{[nW]:e.hovered})},n.createElement("rect",{width:"196",height:"121.761",fill:"white"}),n.createElement("rect",{x:"27.183",y:"49.6627",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"31.7598",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"58.6556",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"76.5885",y:"49.6627",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"80.7957",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"109.161",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"76.5888",y:"3.18299",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFCD29",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"80.7959",y:"12.8804",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"110.261",cy:"15.2623",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"125.631",y:"130.178",width:"43.0186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"27.183",y:"89.9188",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"33.5896",y:"99.6157",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"60.4899",cy:"101.998",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("g",{clipPath:"url(#clip0_351_43276)"},n.createElement("path",{d:"M61.0894 105.123C60.3396 105.1 59.722 104.946 59.1311 104.674C58.9431 104.588 58.7461 104.522 58.5542 104.448C58.3001 104.35 58.0777 104.2 57.9633 103.952C57.7015 103.384 57.427 102.818 57.2237 102.227C57.0344 101.676 57.1513 101.125 57.4918 100.655C57.7562 100.29 57.9163 99.8986 58.0319 99.4665C58.1742 98.9366 58.5669 98.643 59.1006 98.5287C59.3459 98.4766 59.5785 98.4931 59.8123 98.5833C60.0296 98.6672 60.2545 98.6812 60.482 98.6189C60.9039 98.5032 61.2889 98.6227 61.6663 98.8044C61.843 98.8883 62.0234 98.9772 62.2128 99.0192C62.8367 99.1564 63.157 99.5669 63.2421 100.164C63.284 100.46 63.2599 100.769 63.2383 101.07C63.2192 101.333 63.2472 101.582 63.331 101.83C63.5483 102.473 63.5153 103.102 63.2179 103.716C63.0362 104.092 62.7389 104.346 62.378 104.541C62.1251 104.677 61.8735 104.816 61.6282 104.966C61.43 105.087 61.2177 105.129 61.0894 105.123ZM61.083 104.886C61.2787 104.889 61.4274 104.827 61.6269 104.673C61.7616 104.57 61.9218 104.499 62.0704 104.415C62.2458 104.317 62.4517 104.251 62.594 104.118C63.1989 103.548 63.3361 102.819 63.1328 102.055C63.0019 101.562 62.9625 101.089 63.0197 100.591C63.0934 99.9405 62.7376 99.4512 62.1136 99.2784C61.8976 99.2187 61.6905 99.117 61.4872 99.0192C61.2266 98.8946 60.9585 98.7866 60.6713 98.8553C60.2977 98.9442 59.9419 98.9163 59.5835 98.7955C59.4666 98.7561 59.3345 98.7206 59.215 98.7345C58.7347 98.7904 58.3979 99.0738 58.2772 99.5237C58.1463 100.013 57.9264 100.439 57.6545 100.859C57.3724 101.296 57.2974 101.795 57.4982 102.297C57.6964 102.793 57.9125 103.284 58.126 103.774C58.2314 104.018 58.417 104.181 58.6673 104.274C58.9037 104.362 59.1426 104.444 59.3726 104.547C59.8796 104.772 60.4172 104.848 61.083 104.886Z",fill:"black"}),n.createElement("path",{d:"M60.5404 103.175C60.0016 103.198 59.5072 103.112 59.1222 102.711C59.0561 102.642 58.9938 102.566 58.9544 102.481C58.9354 102.441 58.9189 102.367 58.9926 102.326C59.0383 102.3 59.0968 102.327 59.1336 102.355C59.2264 102.424 59.3039 102.514 59.3979 102.583C59.8402 102.909 60.3294 103.011 60.8593 102.856C61.1275 102.778 61.3143 102.581 61.4795 102.365C61.5405 102.286 61.6078 102.167 61.7184 102.25C61.8289 102.333 61.7298 102.435 61.6726 102.511C61.3842 102.895 61.036 103.177 60.5404 103.175Z",fill:"black"}),n.createElement("path",{d:"M62.2294 101.088C62.2281 101.243 62.1099 101.367 61.9701 101.365C61.8253 101.362 61.7045 101.234 61.7083 101.088C61.7122 100.928 61.824 100.801 61.96 100.803C62.1124 100.805 62.2319 100.93 62.2294 101.088Z",fill:"black"}),n.createElement("path",{d:"M58.9061 101.294C58.9048 101.449 58.7867 101.573 58.6469 101.571C58.502 101.568 58.3813 101.44 58.3851 101.294C58.3889 101.134 58.5007 101.007 58.6367 101.009C58.7879 101.01 58.9074 101.136 58.9061 101.294Z",fill:"black"})),n.createElement("path",{d:"M96.5399 30.8149C96.5399 30.6128 96.7037 30.449 96.9058 30.449C97.108 30.449 97.2718 30.6128 97.2718 30.8149H96.5399ZM147.121 45.7131C146.978 45.856 146.747 45.856 146.604 45.7131L144.275 43.384C144.132 43.241 144.132 43.0093 144.275 42.8664C144.418 42.7234 144.649 42.7234 144.792 42.8664L146.863 44.9367L148.933 42.8664C149.076 42.7234 149.308 42.7234 149.45 42.8664C149.593 43.0093 149.593 43.241 149.45 43.384L147.121 45.7131ZM97.2718 30.8149V33.1938H96.5399V30.8149H97.2718ZM101.298 37.2196H142.471V37.9516H101.298V37.2196ZM147.229 41.9774V45.4543H146.497V41.9774H147.229ZM142.471 37.2196C145.098 37.2196 147.229 39.3498 147.229 41.9774H146.497C146.497 39.754 144.694 37.9516 142.471 37.9516V37.2196ZM97.2718 33.1938C97.2718 35.4172 99.0742 37.2196 101.298 37.2196V37.9516C98.67 37.9516 96.5399 35.8215 96.5399 33.1938H97.2718Z",fill:"black"}),n.createElement("path",{d:"M97.2684 30.8149C97.2684 30.6128 97.1045 30.449 96.9024 30.449C96.7002 30.449 96.5364 30.6128 96.5364 30.8149H97.2684ZM46.5039 45.7131C46.6468 45.856 46.8786 45.856 47.0215 45.7131L49.3506 43.384C49.4935 43.241 49.4935 43.0093 49.3506 42.8664C49.2077 42.7234 48.9759 42.7234 48.833 42.8664L46.7627 44.9367L44.6924 42.8664C44.5495 42.7234 44.3177 42.7234 44.1748 42.8664C44.0319 43.0093 44.0319 43.241 44.1748 43.384L46.5039 45.7131ZM96.5364 30.8149V33.1938H97.2684V30.8149H96.5364ZM92.5106 37.2196H51.1545V37.9516H92.5106V37.2196ZM46.3967 41.9774V45.4543H47.1287V41.9774H46.3967ZM51.1545 37.2196C48.5268 37.2196 46.3967 39.3498 46.3967 41.9774H47.1287C47.1287 39.754 48.9311 37.9516 51.1545 37.9516V37.2196ZM96.5364 33.1938C96.5364 35.4172 94.734 37.2196 92.5106 37.2196V37.9516C95.1382 37.9516 97.2684 35.8215 97.2684 33.1938H96.5364Z",fill:"black"}),n.createElement("path",{d:"M97.2686 30.6304C97.2686 30.4282 97.1047 30.2644 96.9026 30.2644C96.7005 30.2644 96.5366 30.4282 96.5366 30.6304H97.2686ZM96.6438 46.0775C96.7867 46.2204 97.0185 46.2204 97.1614 46.0775L99.4905 43.7484C99.6334 43.6054 99.6334 43.3737 99.4905 43.2308C99.3476 43.0879 99.1158 43.0879 98.9729 43.2308L96.9026 45.3011L94.8323 43.2308C94.6894 43.0879 94.4576 43.0879 94.3147 43.2308C94.1718 43.3737 94.1718 43.6054 94.3147 43.7484L96.6438 46.0775ZM96.5366 30.6304V45.8187H97.2686V30.6304H96.5366Z",fill:"black"}),n.createElement("g",{clipPath:"url(#clip1_351_43276)"},n.createElement("path",{d:"M58.8788 58.1369C59.7645 58.1496 60.4813 58.5105 61.1522 59.0925C62.5348 60.2921 62.6352 63.1971 60.4584 64.5085C58.9563 65.4133 56.9612 64.9838 55.998 63.3356C54.9331 61.5146 55.7781 59.0887 57.7364 58.3465C58.1036 58.2068 58.4836 58.133 58.8788 58.1369ZM61.8321 61.2731C61.8524 60.625 61.5258 59.874 60.9565 59.2831C60.2271 58.527 59.2867 58.2677 58.2511 58.5079C56.3449 58.9476 55.3105 61.1016 56.1263 62.9023C56.7032 64.1756 58.0592 64.8885 59.3554 64.6C60.8155 64.2747 61.8384 62.9874 61.8321 61.2731Z",fill:"black"}),n.createElement("path",{d:"M61.0418 62.2874C60.6491 63.2747 59.9489 63.8517 58.8903 63.8644C57.983 63.8746 57.3159 63.426 56.9105 62.5885C56.8851 62.6 56.8546 62.6152 56.8253 62.6254C56.7834 62.6406 56.7593 62.6508 56.7211 62.6025C56.7033 62.5796 56.6754 62.539 56.7275 62.497C56.8558 62.3916 56.9943 62.3001 57.1341 62.2124C57.1557 62.1984 57.2066 62.1971 57.2358 62.2416C57.2676 62.2912 57.2472 62.3229 57.2282 62.3484C57.1926 62.3954 57.1418 62.431 57.0909 62.4754C57.5764 63.2188 58.2232 63.6661 59.1483 63.5734C59.9641 63.492 60.5716 62.8872 60.794 62.1743C60.8041 62.1425 60.7685 62.1196 60.7342 62.0777C60.6771 62.0103 60.6377 61.9989 60.7025 61.8909C60.7495 61.8235 60.8219 61.8629 60.8639 61.8845C60.9973 61.9544 61.1294 62.0319 61.2464 62.126C61.2921 62.1628 61.376 62.2175 61.3213 62.3153C61.2705 62.4144 61.2006 62.3496 61.118 62.3255C61.0951 62.3153 61.0723 62.3013 61.0418 62.2874Z",fill:"black"}),n.createElement("path",{d:"M57.3933 60.2757C57.4657 60.1588 57.5445 60.066 57.6881 60.0953C57.8254 60.1232 57.8813 60.2427 57.8825 60.3532C57.8864 60.5718 57.8825 60.7967 57.8343 61.009C57.7847 61.2275 57.683 61.4359 57.5928 61.6431C57.5293 61.7892 57.4289 61.8184 57.3196 61.7117C56.9689 61.3661 56.7566 60.9518 56.7795 60.446C56.7859 60.3024 56.8634 60.1842 57.007 60.1359C57.162 60.0838 57.2815 60.155 57.3933 60.2757ZM57.6754 60.2999C57.6754 60.2999 57.6475 60.2592 57.6004 60.2732C57.5649 60.2706 57.5255 60.4219 57.5026 60.5019C57.481 60.5769 57.4848 60.6315 57.4314 60.6404C57.3463 60.6481 57.3526 60.5756 57.3171 60.54C57.3005 60.5223 57.2205 60.2961 57.1061 60.338C57.0324 60.3647 57.0286 60.4727 57.0324 60.5375C57.0502 60.8666 57.2001 61.1487 57.378 61.4512C57.5407 61.0611 57.7834 60.5375 57.6754 60.2999Z",fill:"black"}),n.createElement("path",{d:"M60.2957 60.1701C60.3885 60.118 60.4761 60.0736 60.5626 60.0914C60.6909 60.118 60.7163 60.2527 60.7278 60.3697C60.7646 60.742 60.6032 61.0571 60.4291 61.3672C60.3897 61.4371 60.3338 61.4981 60.297 61.5705C60.1915 61.7764 60.0098 61.7383 59.9094 61.5616C59.6997 61.1893 59.5802 60.7801 59.6184 60.3442C59.6323 60.1778 59.6946 60.0189 59.8789 59.9757C60.0644 59.93 60.2258 60.0469 60.2957 60.1701ZM60.067 61.3837C60.086 61.474 60.1051 61.4041 60.1229 61.3863C60.2499 61.1957 60.3783 61.005 60.4533 60.7954C60.5117 60.6314 60.6655 60.2159 60.5041 60.2578C60.4647 60.2604 60.424 60.3811 60.3897 60.4421C60.3618 60.4904 60.3046 60.5679 60.2804 60.5717C60.1877 60.5742 60.1991 60.4904 60.1813 60.4421C60.1394 60.3328 60.1432 60.1612 59.9869 60.1816C59.8319 60.2019 59.8497 60.3735 59.87 60.4853C59.9234 60.7865 59.9996 61.0851 60.067 61.3837Z",fill:"black"})),n.createElement("g",{clipPath:"url(#clip2_351_43276)"},n.createElement("path",{d:"M106.15 61.4002C106.19 60.3696 106.623 59.3517 107.641 58.6439C107.894 58.4685 108.194 58.3541 108.485 58.2436C110.078 57.6387 112.02 58.7328 112.438 60.7102C112.736 62.1156 112.387 63.3546 111.281 64.3014C109.773 65.5912 107.534 65.1172 106.591 63.3432C106.3 62.7917 106.153 62.2046 106.15 61.4002ZM109.218 64.6076C109.862 64.6089 110.388 64.4424 110.809 64.1489C112.465 62.9912 112.596 60.3836 111.064 59.062C110.367 58.4596 109.556 58.302 108.681 58.4965C108.409 58.5575 108.146 58.715 107.913 58.879C106.537 59.8511 106.176 61.8602 107.116 63.3127C107.638 64.1209 108.377 64.5784 109.218 64.6076Z",fill:"black"}),n.createElement("path",{d:"M108.781 63.6393C108.761 63.6736 108.735 63.708 108.716 63.7384C108.668 63.816 108.644 63.8439 108.552 63.8122C108.484 63.7728 108.498 63.6863 108.515 63.6393C108.564 63.5072 108.627 63.3801 108.701 63.2594C108.73 63.2111 108.787 63.1247 108.847 63.1526C108.893 63.1806 108.927 63.1971 108.888 63.3305C108.88 63.3559 108.871 63.3864 108.858 63.4271C109.174 63.586 109.496 63.6037 109.829 63.5237C110.313 63.4068 110.757 63.0421 111.012 62.5935C111.119 62.4054 111.164 62.225 111.222 61.9975C111.235 61.9505 111.269 61.8717 111.247 61.8577C111.218 61.8399 111.183 61.817 111.141 61.7992C111.059 61.7662 111.067 61.7052 111.084 61.6658C111.111 61.5972 111.165 61.5896 111.198 61.5985C111.387 61.6468 111.574 61.7078 111.758 61.7713C111.784 61.7802 111.818 61.8081 111.805 61.8691C111.791 61.9327 111.749 61.9441 111.713 61.9505C111.655 61.9606 111.593 61.9454 111.517 61.939C111.493 62.042 111.471 62.15 111.441 62.2542C111.208 63.0649 110.709 63.6139 109.876 63.8274C109.542 63.9125 109.203 63.8477 108.781 63.6393Z",fill:"black"}),n.createElement("path",{d:"M110.475 60.4918C110.475 60.3914 110.46 60.2859 110.481 60.1906C110.495 60.1296 110.527 60.0368 110.611 60.0381C110.692 60.0394 110.753 60.0991 110.772 60.1525C110.894 60.4994 110.944 60.859 110.894 61.2237C110.89 61.3216 110.795 61.38 110.752 61.38C110.674 61.38 110.597 61.3279 110.575 61.2377C110.517 60.9937 110.464 60.493 110.475 60.4918Z",fill:"black"}),n.createElement("path",{d:"M107.785 60.4853C107.791 60.4243 107.829 60.3175 107.921 60.2997C108.017 60.2743 108.052 60.39 108.063 60.4408C108.118 60.6848 108.104 60.639 108.132 60.9809C108.134 61.005 108.143 61.4129 108.133 61.5235C108.123 61.6404 108.059 61.6989 108.002 61.7014C107.894 61.7078 107.86 61.6353 107.836 61.5502C107.761 61.2909 107.725 61.0279 107.785 60.4853Z",fill:"black"})),n.createElement("g",{clipPath:"url(#clip3_351_43276)"},n.createElement("path",{d:"M111.595 18.3869C110.845 18.364 110.227 18.2102 109.637 17.9383C109.448 17.8519 109.251 17.7858 109.06 17.7121C108.805 17.6142 108.583 17.4643 108.469 17.2165C108.207 16.6485 107.932 16.0817 107.729 15.4908C107.54 14.9405 107.657 14.389 107.997 13.9188C108.262 13.5541 108.422 13.1627 108.537 12.7307C108.68 12.2007 109.072 11.9072 109.606 11.7928C109.851 11.7407 110.084 11.7572 110.318 11.8475C110.535 11.9313 110.76 11.9453 110.987 11.883C111.409 11.7674 111.794 11.8869 112.172 12.0686C112.348 12.1525 112.529 12.2414 112.718 12.2833C113.342 12.4206 113.662 12.831 113.747 13.4283C113.789 13.7244 113.765 14.0332 113.744 14.3344C113.725 14.5974 113.753 14.8465 113.836 15.0943C114.054 15.7373 114.021 16.3663 113.723 16.9801C113.542 17.3563 113.244 17.6104 112.883 17.8049C112.63 17.9408 112.379 18.0806 112.134 18.2306C111.935 18.3513 111.723 18.3932 111.595 18.3869ZM111.588 18.1505C111.784 18.1531 111.933 18.0908 112.132 17.937C112.267 17.8341 112.427 17.7629 112.576 17.6791C112.751 17.5812 112.957 17.5151 113.099 17.3817C113.704 16.8124 113.842 16.083 113.638 15.3192C113.507 14.8262 113.468 14.3534 113.525 13.8553C113.599 13.2047 113.243 12.7154 112.619 12.5426C112.403 12.4829 112.196 12.3812 111.993 12.2833C111.732 12.1588 111.464 12.0508 111.177 12.1194C110.803 12.2084 110.447 12.1804 110.089 12.0597C109.972 12.0203 109.84 11.9847 109.72 11.9987C109.24 12.0546 108.903 12.338 108.783 12.7878C108.652 13.2771 108.432 13.7028 108.16 14.1234C107.878 14.5606 107.803 15.0587 108.004 15.5607C108.202 16.0575 108.418 16.5481 108.631 17.0386C108.737 17.2826 108.922 17.4452 109.173 17.538C109.409 17.6257 109.648 17.7083 109.878 17.8112C110.385 18.0361 110.923 18.1124 111.588 18.1505Z",fill:"black"}),n.createElement("path",{d:"M111.046 16.4389C110.507 16.4618 110.013 16.3766 109.628 15.975C109.561 15.9064 109.499 15.8302 109.46 15.745C109.441 15.7056 109.424 15.6307 109.498 15.59C109.544 15.5646 109.602 15.5913 109.639 15.6192C109.732 15.6878 109.809 15.7781 109.903 15.8467C110.346 16.1733 110.835 16.2749 111.365 16.1199C111.633 16.0424 111.82 15.8454 111.985 15.6294C112.046 15.5506 112.113 15.4312 112.224 15.5138C112.334 15.5976 112.235 15.6993 112.178 15.7755C111.89 16.1593 111.541 16.4414 111.046 16.4389Z",fill:"black"}),n.createElement("path",{d:"M112.735 14.3521C112.733 14.5071 112.615 14.6316 112.475 14.6291C112.331 14.6266 112.21 14.4982 112.214 14.3521C112.218 14.192 112.329 14.0649 112.465 14.0674C112.618 14.0687 112.737 14.1945 112.735 14.3521Z",fill:"black"}),n.createElement("path",{d:"M109.411 14.5579C109.41 14.7129 109.292 14.8375 109.152 14.8349C109.007 14.8324 108.887 14.704 108.89 14.5579C108.894 14.3978 109.006 14.2707 109.142 14.2732C109.293 14.2745 109.413 14.4003 109.411 14.5579Z",fill:"black"})),n.createElement("path",{d:"M48.5913 77.6602C48.5913 77.458 48.4275 77.2942 48.2253 77.2942C48.0232 77.2942 47.8594 77.458 47.8594 77.6602H48.5913ZM47.9666 85.6046C48.1095 85.7475 48.3412 85.7475 48.4841 85.6046L50.8132 83.2755C50.9562 83.1326 50.9562 82.9008 50.8132 82.7579C50.6703 82.615 50.4386 82.615 50.2957 82.7579L48.2253 84.8282L46.155 82.7579C46.0121 82.615 45.7804 82.615 45.6375 82.7579C45.4945 82.9008 45.4945 83.1326 45.6375 83.2755L47.9666 85.6046ZM47.8594 77.6602V85.3458H48.5913V77.6602H47.8594Z",fill:"black"}),n.createElement("rect",{x:"125.264",y:"50.1747",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983",className:t7()(nj,n$)}),n.createElement("rect",{x:"131.664",y:"59.8726",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2",className:t7()(nj,n$)}),n.createElement("circle",{cx:"158.567",cy:"62.2545",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983",className:t7()(nj,n$)}),n.createElement("g",{clipPath:"url(#clip4_351_43276)",className:t7()(nj,n$)},n.createElement("path",{d:"M156.152 60.7639C156.525 60.325 156.935 59.9056 157.388 59.5486C157.703 59.3 157.811 59.2875 157.985 59.2403C158.032 59.2278 158.074 59.1986 158.114 59.1695C159.805 57.9764 161.959 58.8222 162.375 60.9278C162.652 62.325 161.939 63.7125 160.714 64.2792C160.695 64.2889 160.666 64.2917 160.656 64.307C160.413 64.6875 159.918 64.8347 159.617 64.9097C159.556 64.932 159.509 64.9958 159.453 65.0375C159.41 65.0695 159.367 65.1042 159.318 65.1264C157.725 65.8653 156.013 64.8764 155.638 63.2403C155.585 63.0097 155.353 61.6181 156.152 60.7639ZM159.47 64.1903C160.038 64.1875 160.409 64.0945 160.741 63.9125C162.338 63.0361 162.577 60.6556 161.171 59.4931C160.366 58.8278 159.335 58.7153 158.43 59.3528C157.353 60.1097 156.963 61.6611 157.566 62.8333C157.999 63.6764 158.686 64.1417 159.47 64.1903ZM160.013 64.55C160.082 64.525 160.092 64.507 160.081 64.4986C160.081 64.4986 160.052 64.4986 160.003 64.5C158.753 64.5945 157.813 64.0972 157.256 62.9764C156.711 61.882 156.843 60.807 157.486 59.7778C157.435 59.8028 157.393 59.8333 157.356 59.8681C156.489 60.6528 156.234 61.982 156.734 63.1181C157.195 64.1667 158.163 64.7889 159.252 64.7111C159.507 64.6931 159.759 64.6056 160.013 64.55ZM156.342 60.9472C156.343 60.907 156.306 60.957 156.3 60.9639C156.281 60.9903 156.261 61.0181 156.245 61.0458C156.016 61.432 155.873 61.85 155.853 62.2986C155.807 63.3208 156.166 64.1681 157.031 64.7458C157.606 65.1306 158.245 65.2097 158.913 65.0014C157.936 64.9028 157.175 64.45 156.661 63.6139C156.148 62.7806 156.066 61.8861 156.342 60.9472Z",fill:"black"}),n.createElement("path",{d:"M160.525 61.8376C160.717 61.8445 160.78 61.9445 160.717 62.1251C160.561 62.5695 160.124 62.7862 159.678 62.6307C159.414 62.5376 159.207 62.3682 159.064 62.1265C158.955 61.9404 159.003 61.8334 159.218 61.8195C159.443 61.8043 160.316 61.8293 160.525 61.8376ZM160.482 62.0543C160.099 62.0543 159.725 62.0543 159.348 62.0543C159.731 62.5001 160.298 62.5084 160.482 62.0543Z",fill:"black"}),n.createElement("path",{d:"M158.963 61.0499C158.964 61.2666 158.756 61.4638 158.528 61.4624C158.33 61.461 158.191 61.2819 158.189 61.0916C158.186 60.9013 158.381 60.7138 158.595 60.7082C158.8 60.7013 158.963 60.8513 158.963 61.0499ZM158.546 60.9124C158.443 60.9291 158.411 61.0263 158.42 61.0999C158.431 61.2069 158.511 61.2332 158.561 61.2346C158.609 61.236 158.702 61.1888 158.721 61.0971C158.746 61.0041 158.693 60.8777 158.546 60.9124Z",fill:"black"}),n.createElement("path",{d:"M161.617 61.1082C161.614 61.318 161.466 61.4721 161.267 61.4707C161.053 61.4694 160.899 61.2957 160.906 61.0638C160.912 60.8624 161.062 60.7069 161.248 60.711C161.441 60.7166 161.62 60.9082 161.617 61.1082ZM161.425 61.1027C161.425 60.9957 161.368 60.9235 161.28 60.9235C161.225 60.9235 161.134 60.9652 161.134 61.0791C161.134 61.2777 161.28 61.2666 161.28 61.2666C161.357 61.2638 161.425 61.2319 161.425 61.1027Z",fill:"black"})),n.createElement("rect",{x:"125.259",y:"90.4347",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),n.createElement("rect",{x:"131.662",y:"100.132",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),n.createElement("circle",{cx:"158.562",cy:"102.514",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),n.createElement("g",{clipPath:"url(#clip5_351_43276)"},n.createElement("path",{d:"M155.773 101.196C156.115 100.794 156.49 100.41 156.904 100.084C157.192 99.8563 157.291 99.8449 157.45 99.8017C157.493 99.7903 157.532 99.7636 157.568 99.7369C159.115 98.6453 161.086 99.4192 161.467 101.346C161.72 102.624 161.068 103.894 159.947 104.412C159.93 104.421 159.903 104.424 159.894 104.437C159.672 104.786 159.219 104.92 158.943 104.989C158.887 105.009 158.844 105.068 158.793 105.106C158.754 105.135 158.715 105.167 158.67 105.187C157.213 105.863 155.646 104.958 155.303 103.462C155.254 103.251 155.042 101.977 155.773 101.196ZM158.809 104.331C159.328 104.328 159.668 104.243 159.971 104.077C161.433 103.275 161.651 101.097 160.365 100.033C159.628 99.4243 158.685 99.3213 157.857 99.9046C156.872 100.597 156.515 102.017 157.066 103.089C157.463 103.861 158.092 104.286 158.809 104.331ZM159.306 104.66C159.369 104.637 159.378 104.62 159.368 104.613C159.368 104.613 159.341 104.613 159.297 104.614C158.153 104.701 157.293 104.246 156.783 103.22C156.285 102.219 156.406 101.235 156.994 100.293C156.947 100.316 156.909 100.344 156.875 100.376C156.082 101.094 155.848 102.31 156.305 103.35C156.727 104.309 157.613 104.878 158.609 104.807C158.843 104.791 159.073 104.711 159.306 104.66ZM155.947 101.363C155.948 101.327 155.914 101.372 155.909 101.379C155.891 101.403 155.873 101.428 155.858 101.454C155.648 101.807 155.517 102.189 155.5 102.6C155.458 103.535 155.786 104.31 156.577 104.839C157.103 105.191 157.688 105.263 158.299 105.073C157.406 104.983 156.709 104.568 156.239 103.803C155.769 103.041 155.694 102.223 155.947 101.363Z",fill:"black"}),n.createElement("path",{d:"M159.774 102.178C159.95 102.185 160.007 102.276 159.95 102.441C159.808 102.848 159.407 103.046 158.999 102.904C158.758 102.819 158.568 102.664 158.438 102.442C158.337 102.272 158.382 102.174 158.579 102.162C158.785 102.148 159.583 102.171 159.774 102.178ZM159.735 102.376C159.384 102.376 159.042 102.376 158.697 102.376C159.048 102.784 159.566 102.792 159.735 102.376Z",fill:"black"}),n.createElement("path",{d:"M158.345 101.458C158.346 101.656 158.155 101.836 157.947 101.835C157.765 101.834 157.638 101.67 157.637 101.496C157.634 101.322 157.812 101.15 158.008 101.145C158.196 101.139 158.345 101.276 158.345 101.458ZM157.964 101.332C157.87 101.347 157.84 101.436 157.848 101.503C157.858 101.601 157.932 101.625 157.978 101.627C158.021 101.628 158.106 101.585 158.124 101.501C158.147 101.416 158.098 101.3 157.964 101.332Z",fill:"black"}),n.createElement("path",{d:"M160.773 101.511C160.771 101.703 160.635 101.844 160.453 101.843C160.257 101.841 160.116 101.683 160.123 101.47C160.128 101.286 160.265 101.144 160.435 101.148C160.612 101.153 160.776 101.328 160.773 101.511ZM160.598 101.506C160.598 101.408 160.546 101.342 160.465 101.342C160.415 101.342 160.331 101.38 160.331 101.484C160.331 101.666 160.465 101.656 160.465 101.656C160.536 101.653 160.598 101.624 160.598 101.506Z",fill:"black"})),n.createElement("path",{className:t7()(nj,n$),d:"M147.77 78.1765C147.77 77.9744 147.606 77.8105 147.404 77.8105C147.202 77.8105 147.038 77.9744 147.038 78.1765H147.77ZM147.145 86.1209C147.288 86.2639 147.52 86.2639 147.663 86.1209L149.992 83.7918C150.135 83.6489 150.135 83.4172 149.992 83.2743C149.849 83.1313 149.617 83.1313 149.474 83.2743L147.404 85.3446L145.333 83.2743C145.191 83.1313 144.959 83.1313 144.816 83.2743C144.673 83.4172 144.673 83.6489 144.816 83.7918L147.145 86.1209ZM147.038 78.1765V85.8622H147.77V78.1765H147.038Z",fill:"black"}),n.createElement("path",{d:"M147.77 118.432C147.77 118.23 147.606 118.066 147.404 118.066C147.202 118.066 147.038 118.23 147.038 118.432H147.77ZM147.145 126.376C147.288 126.519 147.52 126.519 147.663 126.376L149.992 124.047C150.135 123.904 150.135 123.673 149.992 123.53C149.849 123.387 149.617 123.387 149.474 123.53L147.404 125.6L145.333 123.53C145.191 123.387 144.959 123.387 144.816 123.53C144.673 123.673 144.673 123.904 144.816 124.047L147.145 126.376ZM147.038 118.432V126.118H147.77V118.432H147.038Z",fill:"black"}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(56.6428 98.1511)"})),n.createElement("clipPath",{id:"clip1_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(55.1821 57.8955)"})),n.createElement("clipPath",{id:"clip2_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(105.685 57.8955)"})),n.createElement("clipPath",{id:"clip3_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(107.148 11.4153)"})),n.createElement("clipPath",{id:"clip4_351_43276"},n.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(155 58)"})),n.createElement("clipPath",{id:"clip5_351_43276"},n.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(154.719 98.6667)"}))))}function n2(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 122",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t7()(nz,{[nW]:e.hovered})},n.createElement("rect",{x:"27.1929",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"99.7337",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"99.7337",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"27.1929",y:"43.3228",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"27.1929",y:"103.518",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"76.5833",y:"63.3882",width:"92.2228",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),n.createElement("rect",{x:"83.3374",y:"68.5977",width:"25.8533",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"32.7886",y:"108.728",width:"32.0272",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"33.561",y:"48.5325",width:"31.2554",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"104.947",y:"28.4675",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2"}),n.createElement("path",{d:"M161.035 74.752C160.165 74.7255 159.449 74.5471 158.764 74.2317C158.546 74.1315 158.317 74.0549 158.095 73.9694C157.8 73.8559 157.542 73.682 157.409 73.3946C157.106 72.7358 156.787 72.0785 156.552 71.3932C156.332 70.755 156.468 70.1154 156.863 69.5701C157.169 69.1471 157.355 68.6932 157.489 68.1921C157.654 67.5775 158.109 67.237 158.728 67.1044C159.013 67.044 159.283 67.0631 159.554 67.1678C159.806 67.2651 160.067 67.2813 160.33 67.209C160.82 67.0749 161.266 67.2135 161.704 67.4242C161.909 67.5215 162.118 67.6247 162.338 67.6733C163.061 67.8325 163.433 68.3085 163.532 69.0012C163.58 69.3446 163.552 69.7027 163.527 70.052C163.505 70.3571 163.537 70.646 163.635 70.9334C163.887 71.6791 163.848 72.4086 163.504 73.1205C163.293 73.5567 162.948 73.8515 162.529 74.077C162.236 74.2347 161.944 74.3968 161.66 74.5707C161.43 74.7107 161.184 74.7594 161.035 74.752ZM161.028 74.4779C161.255 74.4808 161.427 74.4086 161.658 74.2303C161.815 74.1109 162 74.0284 162.173 73.9311C162.376 73.8176 162.615 73.741 162.78 73.5862C163.481 72.9259 163.641 72.08 163.405 71.1942C163.253 70.6224 163.207 70.0741 163.274 69.4964C163.359 68.7418 162.946 68.1744 162.223 67.974C161.972 67.9047 161.732 67.7868 161.496 67.6733C161.194 67.5289 160.883 67.4036 160.55 67.4832C160.117 67.5863 159.704 67.5539 159.288 67.4139C159.153 67.3682 159 67.327 158.861 67.3432C158.304 67.408 157.913 67.7367 157.773 68.2584C157.622 68.8258 157.367 69.3195 157.051 69.8074C156.724 70.3144 156.637 70.8921 156.87 71.4742C157.1 72.0505 157.35 72.6194 157.598 73.1883C157.72 73.4713 157.936 73.6599 158.226 73.7675C158.5 73.8692 158.777 73.965 159.044 74.0844C159.632 74.3452 160.255 74.4337 161.028 74.4779Z",fill:"black"}),n.createElement("path",{d:"M160.398 72.4923C159.773 72.5188 159.2 72.4201 158.753 71.9543C158.677 71.8747 158.605 71.7863 158.559 71.6876C158.537 71.6419 158.518 71.5549 158.603 71.5078C158.656 71.4783 158.724 71.5092 158.767 71.5417C158.874 71.6212 158.964 71.7259 159.073 71.8055C159.586 72.1842 160.154 72.3021 160.768 72.1223C161.079 72.0324 161.296 71.804 161.487 71.5535C161.558 71.4621 161.636 71.3235 161.764 71.4193C161.893 71.5166 161.778 71.6345 161.711 71.7229C161.377 72.168 160.973 72.4952 160.398 72.4923Z",fill:"black"}),n.createElement("path",{d:"M162.357 70.0724C162.355 70.2522 162.218 70.3966 162.056 70.3937C161.888 70.3907 161.748 70.2419 161.753 70.0724C161.757 69.8867 161.887 69.7393 162.044 69.7422C162.221 69.7437 162.36 69.8896 162.357 70.0724Z",fill:"black"}),n.createElement("path",{d:"M158.503 70.3111C158.501 70.4909 158.364 70.6354 158.202 70.6324C158.034 70.6295 157.894 70.4806 157.899 70.3111C157.903 70.1254 158.033 69.9781 158.19 69.981C158.366 69.9825 158.504 70.1284 158.503 70.3111Z",fill:"black"}),n.createElement("g",{clipPath:"url(#clip0_351_42930)"},n.createElement("path",{d:"M160.653 34.6219C159.783 34.5953 159.067 34.417 158.381 34.1016C158.163 34.0014 157.935 33.9248 157.712 33.8393C157.418 33.7258 157.16 33.5519 157.027 33.2645C156.723 32.6057 156.405 31.9484 156.169 31.2631C155.95 30.6249 156.085 29.9853 156.48 29.44C156.787 29.017 156.973 28.563 157.107 28.0619C157.272 27.4474 157.727 27.1069 158.346 26.9743C158.631 26.9139 158.9 26.933 159.171 27.0377C159.423 27.1349 159.684 27.1511 159.948 27.0789C160.437 26.9448 160.884 27.0833 161.322 27.2941C161.527 27.3914 161.736 27.4945 161.955 27.5432C162.679 27.7023 163.051 28.1784 163.149 28.8711C163.198 29.2145 163.17 29.5726 163.145 29.9219C163.123 30.227 163.155 30.5158 163.252 30.8032C163.504 31.549 163.466 32.2785 163.121 32.9904C162.91 33.4266 162.566 33.7214 162.147 33.9469C161.854 34.1046 161.562 34.2667 161.278 34.4406C161.048 34.5806 160.801 34.6292 160.653 34.6219ZM160.645 34.3477C160.872 34.3507 161.045 34.2785 161.276 34.1001C161.432 33.9808 161.618 33.8982 161.79 33.801C161.994 33.6875 162.233 33.6108 162.398 33.4561C163.099 32.7958 163.258 31.9499 163.023 31.0641C162.871 30.4923 162.825 29.944 162.891 29.3663C162.977 28.6117 162.564 28.0443 161.841 27.8438C161.59 27.7746 161.35 27.6567 161.114 27.5432C160.812 27.3987 160.501 27.2735 160.168 27.353C159.734 27.4562 159.322 27.4238 158.906 27.2838C158.771 27.2381 158.617 27.1968 158.479 27.213C157.922 27.2779 157.531 27.6065 157.391 28.1283C157.239 28.6957 156.984 29.1894 156.669 29.6772C156.342 30.1842 156.255 30.762 156.488 31.3441C156.718 31.9204 156.968 32.4893 157.216 33.0582C157.338 33.3411 157.553 33.5298 157.844 33.6374C158.118 33.7391 158.395 33.8349 158.662 33.9542C159.25 34.2151 159.873 34.3035 160.645 34.3477Z",fill:"black"}),n.createElement("path",{d:"M160.016 32.3624C159.391 32.3889 158.818 32.2902 158.371 31.8244C158.294 31.7449 158.222 31.6564 158.177 31.5577C158.154 31.512 158.135 31.425 158.221 31.3779C158.274 31.3484 158.342 31.3794 158.384 31.4118C158.492 31.4914 158.582 31.596 158.691 31.6756C159.204 32.0544 159.771 32.1723 160.386 31.9925C160.697 31.9026 160.913 31.6741 161.105 31.4236C161.176 31.3322 161.254 31.1937 161.382 31.2895C161.51 31.3867 161.395 31.5046 161.329 31.5931C160.994 32.0381 160.591 32.3653 160.016 32.3624Z",fill:"black"}),n.createElement("path",{d:"M161.974 29.9422C161.973 30.122 161.836 30.2665 161.674 30.2635C161.506 30.2606 161.366 30.1117 161.37 29.9422C161.375 29.7565 161.504 29.6092 161.662 29.6121C161.839 29.6136 161.977 29.7595 161.974 29.9422Z",fill:"black"}),n.createElement("path",{d:"M158.12 30.181C158.119 30.3608 157.982 30.5052 157.82 30.5023C157.652 30.4993 157.512 30.3505 157.516 30.181C157.521 29.9953 157.65 29.8479 157.808 29.8509C157.983 29.8523 158.122 29.9983 158.12 30.181Z",fill:"black"})),n.createElement("g",{clipPath:"url(#clip1_351_42930)"},n.createElement("path",{d:"M114.675 114.329C114.278 114.328 114.256 114.309 114.215 113.917C114.185 113.631 114.162 113.343 114.154 113.056C114.112 111.501 114.087 109.946 114.039 108.393C114.025 107.893 114.025 107.893 114.462 107.849C114.934 107.802 115.45 107.815 115.924 107.803C117.613 107.764 119.304 107.73 120.993 107.694C121.058 107.693 121.127 107.697 121.183 107.703C121.305 107.716 121.319 107.809 121.321 107.868C121.332 108.088 121.311 108.309 121.311 108.53C121.308 110.144 121.308 111.758 121.307 113.371C121.307 113.565 121.302 113.759 121.301 113.952C121.298 114.281 121.192 114.39 120.854 114.388C120.221 114.387 119.587 114.381 118.953 114.378C118.542 114.377 115.69 114.332 114.675 114.329ZM120.946 108.032L114.356 108.123C114.336 108.123 114.319 108.141 114.321 108.16C114.384 110.116 114.446 112.049 114.51 114.007C114.51 114.026 114.526 114.042 114.545 114.042H120.952C120.977 114.042 120.996 114.021 120.996 113.998V108.082C120.996 108.054 120.974 108.032 120.946 108.032Z",fill:"black"}),n.createElement("path",{d:"M117.683 112.39C117.071 112.373 116.501 112.219 116.016 111.83C115.935 111.765 115.826 111.613 115.852 111.563C115.929 111.42 116.057 111.56 116.151 111.608C117.205 112.155 118.252 112.161 119.295 111.585C119.361 111.548 119.432 111.519 119.504 111.499C119.535 111.492 119.577 111.488 119.607 111.536C119.628 111.567 119.616 111.617 119.599 111.645C119.568 111.692 119.522 111.734 119.476 111.769C118.953 112.188 118.358 112.403 117.683 112.39Z",fill:"black"}),n.createElement("path",{d:"M117.349 109.66C117.133 110.082 116.915 110.502 116.696 110.922C116.68 110.953 116.576 111.096 116.462 111.038C116.421 111.018 116.384 110.978 116.384 110.884C116.384 110.836 116.405 110.78 116.427 110.735C116.627 110.338 116.829 109.942 117.034 109.548C117.063 109.492 117.102 109.433 117.152 109.398C117.193 109.369 117.267 109.354 117.311 109.37C117.469 109.426 117.373 109.615 117.349 109.66Z",fill:"black"}),n.createElement("path",{d:"M119.47 109.498C119.606 109.477 119.652 109.594 119.618 109.695C119.59 109.784 119.551 109.871 119.507 109.952C119.342 110.248 119.174 110.543 119.003 110.835C118.953 110.922 118.885 111.016 118.766 110.959C118.632 110.894 118.682 110.776 118.73 110.686C118.915 110.341 119.103 109.998 119.299 109.659C119.339 109.589 119.401 109.498 119.47 109.498Z",fill:"black"})),n.createElement("path",{d:"M66.4764 69.1441C66.5074 69.1087 66.5118 69.0557 66.4853 69.0159C66.2111 68.6622 65.9414 68.3306 65.6894 67.9857C65.4064 67.5966 65.4816 67.2959 65.9459 67.2031C67.2679 66.9334 68.5899 66.646 69.9296 66.4912C70.8138 66.394 70.9819 66.4205 70.8802 67.464C70.7608 68.6975 70.6105 69.6924 70.4336 70.9171C70.1727 72.7033 70.1064 72.92 69.7704 72.7431C69.6908 72.6989 69.4653 72.5795 69.3017 72.4381C69.1072 72.27 68.8728 72.1064 68.7623 71.9871C68.0902 72.973 67.5597 73.5478 66.7771 74.2729C65.4241 75.8028 62.873 76.0327 60.9187 74.3393C60.2953 73.7999 59.694 73.2383 59.0838 72.6857C58.1067 71.8014 56.9704 71.6289 55.7987 72.1418C54.9675 72.5044 54.2026 73.0261 53.4332 73.5125C52.0626 74.3791 50.6168 74.8787 48.9809 74.5161C48.6271 74.4365 48.2823 74.2818 47.9507 74.1226C47.4466 73.8794 47.2123 73.4727 47.2079 72.8935C47.2034 71.6289 47.1239 70.36 47.146 69.0955C47.1636 68.1449 47.3847 67.9945 48.3265 68.1625C50.1967 68.4897 51.9565 68.136 53.6631 67.3623C54.8039 66.845 55.9844 66.478 57.2445 66.3365C59.0175 66.2039 61.1486 66.8715 62.5856 68.4499C63.178 69.0999 63.9651 69.5553 64.8361 69.6879C65.4595 69.7719 65.8972 69.7321 66.4764 69.1441ZM66.4013 67.8265C66.64 68.1714 66.9009 68.4853 67.0777 68.839C67.1706 69.0291 67.3209 69.206 67.1131 69.5155C66.5737 70.3114 65.3888 70.8552 64.4381 70.5545C63.912 70.3909 63.4035 70.1124 62.9525 69.794C62.1876 69.2635 61.5112 68.6003 60.7286 68.1095C60.1626 67.7513 59.5038 67.4816 58.8495 67.3446C57.4832 67.0572 56.148 67.3578 54.879 67.8751C52.6993 68.7683 50.5283 69.6437 47.986 68.9142C47.986 70.1124 47.9949 71.2399 47.9816 72.3629C47.9728 73.3666 47.8357 73.2472 48.8349 73.5611C48.9853 73.6097 49.14 73.6495 49.2948 73.6716C50.6831 73.8794 51.8813 73.4019 53.022 72.6635C53.756 72.186 54.4899 71.682 55.2814 71.315C56.9969 70.5192 58.5134 70.8685 59.8443 72.2037C60.4146 72.7741 61.0292 73.3091 61.6836 73.7822C62.8022 74.5913 64.0225 75.1617 65.5037 74.3304C66.7284 73.5169 67.6304 72.6812 68.2317 71.3504C68.4837 70.7933 68.5368 70.8198 68.9613 71.2708C69.0983 71.4167 69.0983 71.4167 69.3592 71.6643C69.5537 71.9031 69.5626 71.6687 69.5758 71.483C69.7925 70.0151 69.9517 68.6489 70.1772 67.1235C68.8773 67.3623 67.6702 67.5878 66.4013 67.8265Z",fill:"black"}),n.createElement("rect",{x:"27.1929",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587",className:t7()(nj,nZ)}),n.createElement("rect",{x:"33.561",y:"29.2361",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2",className:t7()(nj,nZ)}),n.createElement("g",{clipPath:"url(#clip2_351_42930)",className:t7()(nj,nZ)},n.createElement("path",{d:"M83.8767 30.6015C83.9224 29.4063 84.425 28.2258 85.6055 27.4048C85.8988 27.2015 86.2466 27.0688 86.5841 26.9406C88.4322 26.2391 90.6842 27.508 91.1691 29.8013C91.514 31.4313 91.1102 32.8682 89.8265 33.9662C88.0785 35.4621 85.4817 34.9124 84.3881 32.855C84.0506 32.2153 83.8797 31.5344 83.8767 30.6015ZM87.4345 34.3214C88.1817 34.3229 88.7919 34.1298 89.2797 33.7894C91.2001 32.4467 91.3519 29.4225 89.5759 27.8897C88.7668 27.1911 87.8265 27.0084 86.8111 27.2339C86.4957 27.3046 86.1906 27.4874 85.9209 27.6775C84.3247 28.805 83.9062 31.135 84.9968 32.8196C85.6025 33.7569 86.4588 34.2875 87.4345 34.3214Z",fill:"black"}),n.createElement("path",{d:"M86.9275 33.1983C86.9039 33.2381 86.8744 33.2779 86.8523 33.3133C86.7963 33.4032 86.7683 33.4356 86.6622 33.3987C86.5826 33.3531 86.5988 33.2528 86.6194 33.1983C86.6754 33.045 86.7491 32.8976 86.8346 32.7576C86.8685 32.7016 86.9348 32.6014 87.0041 32.6338C87.0572 32.6663 87.097 32.6854 87.0513 32.8402C87.0424 32.8696 87.0321 32.905 87.0174 32.9522C87.3829 33.1364 87.7572 33.157 88.1434 33.0642C88.7049 32.9286 89.2192 32.5056 89.5155 31.9854C89.6393 31.7672 89.6909 31.558 89.7586 31.2941C89.7734 31.2396 89.8132 31.1482 89.7881 31.132C89.7542 31.1114 89.713 31.0849 89.6643 31.0642C89.57 31.0259 89.5788 30.9552 89.598 30.9095C89.6304 30.8299 89.6923 30.8211 89.7306 30.8314C89.9502 30.8874 90.1669 30.9581 90.3806 31.0318C90.4101 31.0421 90.4499 31.0745 90.4351 31.1453C90.4189 31.219 90.3703 31.2322 90.3275 31.2396C90.2612 31.2514 90.189 31.2337 90.1006 31.2263C90.0726 31.3457 90.0475 31.471 90.0121 31.5919C89.7424 32.5321 89.1632 33.1688 88.1979 33.4164C87.8103 33.5152 87.4168 33.44 86.9275 33.1983Z",fill:"black"}),n.createElement("path",{d:"M88.892 29.5476C88.892 29.4312 88.8744 29.3089 88.8994 29.1984C88.9156 29.1276 88.9525 29.02 89.0497 29.0215C89.1441 29.023 89.2148 29.0922 89.2369 29.1541C89.3784 29.5565 89.4359 29.9736 89.3784 30.3966C89.374 30.51 89.2634 30.5778 89.2133 30.5778C89.1234 30.5778 89.0335 30.5174 89.0085 30.4128C88.9407 30.1298 88.8788 29.5491 88.892 29.5476Z",fill:"black"}),n.createElement("path",{d:"M85.772 29.5404C85.7793 29.4697 85.8235 29.3459 85.9296 29.3252C86.0417 29.2957 86.0815 29.4299 86.0947 29.4888C86.1581 29.7718 86.1419 29.7187 86.1743 30.1152C86.1772 30.1432 86.1876 30.6163 86.1758 30.7445C86.164 30.8801 86.0903 30.9479 86.024 30.9508C85.8987 30.9582 85.8589 30.8742 85.8309 30.7754C85.7439 30.4748 85.7027 30.1697 85.772 29.5404Z",fill:"black"})),n.createElement("rect",{x:"106.08",y:"83.0787",width:"62.5109",height:"15.0489",rx:"2.12228",fill:"#AFF4C6",stroke:"black",strokeWidth:"0.38587",className:t7()(nj,nQ)}),n.createElement("rect",{x:"112.062",y:"88.2883",width:"22.7663",height:"4.63043",fill:"black",fillOpacity:"0.2",className:t7()(nj,nQ)}),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_351_42930"},n.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(155.496 26.5366)"})),n.createElement("clipPath",{id:"clip1_351_42930"},n.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(113.435 106.797)"})),n.createElement("clipPath",{id:"clip2_351_42930"},n.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(83.3374 26.5366)"}))))}function n5(e){return n.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t7()(nz,{[nW]:e.hovered})},n.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",fill:"#E4CCFF"}),n.createElement("g",{filter:"url(#filter0_d_351_120552)"},n.createElement("rect",{x:"63.4768",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"63.6489",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"67.6057",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"67.6057",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter1_d_351_120552)"},n.createElement("rect",{x:"98.2268",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"98.3989",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"102.355",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"102.355",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter2_d_351_120552)"},n.createElement("rect",{x:"132.977",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"133.149",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"137.109",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"137.109",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),n.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",fill:"#BDE3FF"}),n.createElement("g",{filter:"url(#filter3_d_351_120552)"},n.createElement("rect",{x:"32.5081",y:"60.4646",width:"26.8391",height:"30.6241",fill:"white"}),n.createElement("rect",{x:"32.6801",y:"60.6366",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"35.4333",y:"63.0461",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),n.createElement("g",{filter:"url(#filter4_d_351_120552)"},n.createElement("rect",{x:"63.4768",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"63.6489",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"67.6057",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"67.6057",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter5_d_351_120552)"},n.createElement("rect",{x:"98.2268",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"98.3989",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"102.355",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"102.355",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{clipPath:"url(#clip0_351_120552)"},n.createElement("path",{d:"M52.4628 72.139C52.4653 75.5713 50.0667 78.5645 46.8075 79.1817C46.4186 79.2545 45.9344 79.3649 45.4652 79.3423C43.9397 79.2746 42.7856 78.9007 41.6465 77.9398C40.0834 76.6175 39.3433 74.8813 39.3884 72.8616C39.4461 70.2497 40.5727 68.1497 42.8057 66.7597C44.8831 65.4651 47.0785 65.3396 49.2663 66.5113C51.2635 67.5801 52.4603 69.7429 52.4628 72.139ZM51.8631 72.2494C51.8631 72.1992 51.8606 72.149 51.8556 72.0988C51.8105 71.7074 51.7804 71.3135 51.7101 70.9297C51.1732 67.9741 48.4785 65.9945 45.558 66.3959C41.215 66.993 38.6809 72.1214 40.816 75.9527C41.9451 77.9774 44.5018 79.0864 46.4563 78.705C49.5423 78.1029 51.7879 75.3906 51.8631 72.2494Z",fill:"black"}),n.createElement("path",{d:"M42.6576 74.7006C44.424 75.9777 47.5 76.2537 49.0179 74.3719C49.038 74.3468 49.0581 74.3268 49.0506 74.3217C48.9778 74.1812 48.7495 74.0081 48.9276 73.8551C49.1108 73.697 49.2563 73.8952 49.3767 74.0156C49.5524 74.1913 49.7305 74.3694 49.876 74.5701C49.9362 74.6554 50.0767 74.7934 49.9362 74.9139C49.8158 75.0318 49.7054 74.9716 49.5624 74.8637C49.5047 74.821 49.442 74.7658 49.4018 74.7332C49.2061 74.9139 49.033 75.0895 48.8448 75.2501C47.7384 76.196 46.4387 76.4067 45.0512 76.1884C44.0827 76.0354 43.1895 75.6741 42.4092 75.0594C42.3867 75.0418 42.3089 74.959 42.2738 74.9565C42.2035 74.9515 42.1859 74.9992 42.0931 75.0318C42.0279 75.0544 41.9902 75.1221 41.8598 74.9841C41.7519 74.8737 41.8272 74.7583 41.8773 74.7182C42.1408 74.5074 42.4193 74.3142 42.7053 74.1336C42.758 74.101 42.8784 74.0734 42.9386 74.1787C43.0039 74.2916 42.9437 74.3518 42.9035 74.4146C42.8433 74.5074 42.7505 74.5827 42.6551 74.6755C42.6526 74.6855 42.6526 74.6956 42.6576 74.7006Z",fill:"black"}),n.createElement("path",{d:"M49.5523 72.5779C49.5824 72.5804 49.6151 72.5729 49.6427 72.5603C49.8384 72.4575 49.8308 72.1639 49.8308 71.9858C49.8283 71.6094 49.7832 71.2958 49.7807 70.9345C49.7807 70.7865 49.7731 70.6284 49.8133 70.4904C49.8384 70.4051 49.9488 70.2972 50.0265 70.2922C50.1043 70.2872 50.2247 70.3223 50.2624 70.4603C50.4054 71.0549 50.4104 71.8403 50.3025 72.3496C50.2122 72.7786 49.8308 72.9894 49.5047 72.9919C49.1509 72.9944 48.762 72.7385 48.6566 72.3044C48.5437 71.8377 48.5362 71.3435 48.486 70.8617C48.4835 70.8341 48.4835 70.7438 48.486 70.7162C48.5061 70.5481 48.5663 70.4528 48.7821 70.4653C48.9401 70.4703 48.9853 70.6962 49.0154 70.8266C49.0681 71.0574 49.0505 71.3033 49.0907 71.5392C49.1534 71.898 49.191 72.5528 49.5523 72.5779Z",fill:"black"}),n.createElement("path",{d:"M42.7832 70.9848C42.7983 70.8819 42.7807 70.7339 42.989 70.7013C43.1721 70.6737 43.2549 70.8593 43.2625 70.9471C43.3051 71.4414 43.3528 71.9407 43.3126 72.4325C43.275 72.8891 42.866 73.273 42.4972 73.3181C42.0732 73.3708 41.604 73.1124 41.4635 72.6257C41.333 72.1765 41.2778 71.6396 41.2804 71.2206C41.2804 71.1504 41.3029 71.0174 41.4309 70.9973C41.594 70.9622 41.6316 71.1077 41.6542 71.1855C41.7495 71.4991 41.7972 71.8253 41.8951 72.1389C41.9528 72.3246 42.0456 72.5128 42.1685 72.6583C42.3693 72.8941 42.6327 72.849 42.713 72.5529C42.7908 72.2619 42.7506 71.198 42.7832 70.9848Z",fill:"black"})),n.createElement("path",{d:"M97.2147 88.2858L97.2147 88.2858L95.4155 90.1223L95.8404 92.7175C95.8404 92.7175 95.8404 92.7175 95.8404 92.7175C95.9069 93.1235 95.4922 93.4743 95.107 93.2618L92.891 92.0416L90.675 93.2618L90.6749 93.2619L97.2147 88.2858ZM97.2147 88.2858C97.5016 87.9928 97.3551 87.4674 96.9341 87.4033L97.2147 88.2858ZM90.3664 90.1223L89.9415 92.7175L92.4384 84.6696L92.4383 84.6698C92.4383 84.6698 92.4383 84.6698 92.4382 84.6699L91.3279 87.0259L88.8479 87.4033C88.8479 87.4033 88.8479 87.4033 88.8479 87.4033C88.4269 87.4674 88.2803 87.9928 88.5673 88.2858L88.5673 88.2858L90.3664 90.1223Z",fill:"#FFC700",stroke:"black",strokeWidth:"0.344091"}),n.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),n.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",fill:"#93E396"}),n.createElement("g",{filter:"url(#filter6_d_351_120552)"},n.createElement("rect",{x:"32.5081",y:"108.506",width:"26.8391",height:"30.6241",fill:"white"}),n.createElement("rect",{x:"32.6801",y:"108.678",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"35.4333",y:"111.088",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),n.createElement("g",{clipPath:"url(#clip1_351_120552)"},n.createElement("path",{d:"M45.5755 113.495C47.3906 113.521 48.8594 114.261 50.2344 115.453C53.0677 117.912 53.2735 123.865 48.8125 126.552C45.7344 128.406 41.6458 127.526 39.6719 124.149C37.4896 120.417 39.2214 115.445 43.2344 113.925C43.987 113.638 44.7656 113.487 45.5755 113.495ZM51.6276 119.922C51.6693 118.594 51 117.055 49.8333 115.844C48.3386 114.294 46.4115 113.763 44.2891 114.255C40.3828 115.156 38.263 119.57 39.9349 123.261C41.1172 125.87 43.8958 127.331 46.5521 126.74C49.5443 126.073 51.6406 123.435 51.6276 119.922Z",fill:"black"}),n.createElement("path",{d:"M50.0078 122C49.2031 124.023 47.7682 125.206 45.5989 125.232C43.7396 125.253 42.3724 124.333 41.5417 122.617C41.4896 122.641 41.4271 122.672 41.3672 122.693C41.2812 122.724 41.2318 122.745 41.1536 122.646C41.1172 122.599 41.0599 122.516 41.1667 122.43C41.4297 122.213 41.7135 122.026 42 121.846C42.0443 121.818 42.1484 121.815 42.2083 121.906C42.2734 122.008 42.2318 122.073 42.1927 122.125C42.1198 122.221 42.0156 122.294 41.9114 122.385C42.9062 123.909 44.2318 124.825 46.1276 124.635C47.7995 124.469 49.0443 123.229 49.5 121.768C49.5208 121.703 49.4479 121.656 49.3776 121.57C49.2604 121.432 49.1797 121.409 49.3125 121.187C49.4088 121.049 49.5573 121.13 49.6432 121.174C49.9167 121.318 50.1875 121.476 50.4271 121.669C50.5208 121.745 50.6927 121.857 50.5807 122.057C50.4766 122.26 50.3333 122.128 50.1641 122.078C50.1172 122.057 50.0703 122.029 50.0078 122Z",fill:"black"}),n.createElement("path",{d:"M42.5313 117.878C42.6797 117.638 42.8412 117.448 43.1354 117.508C43.4167 117.565 43.5313 117.81 43.5339 118.036C43.5417 118.484 43.5339 118.945 43.4349 119.38C43.3334 119.828 43.125 120.255 42.9401 120.68C42.8099 120.979 42.6042 121.039 42.3802 120.82C41.6615 120.112 41.2266 119.263 41.2735 118.226C41.2865 117.932 41.4453 117.69 41.7396 117.591C42.0573 117.484 42.3021 117.63 42.5313 117.878ZM43.1094 117.927C43.1094 117.927 43.0521 117.844 42.9558 117.872C42.8828 117.867 42.8021 118.177 42.7552 118.341C42.711 118.495 42.7188 118.607 42.6094 118.625C42.4349 118.641 42.4479 118.492 42.375 118.419C42.3412 118.383 42.1771 117.919 41.9427 118.005C41.7917 118.06 41.7839 118.281 41.7917 118.414C41.8282 119.088 42.1354 119.667 42.5 120.286C42.8334 119.487 43.3308 118.414 43.1094 117.927Z",fill:"black"}),n.createElement("path",{d:"M48.4791 117.661C48.6692 117.555 48.8489 117.463 49.026 117.5C49.289 117.555 49.3411 117.831 49.3645 118.07C49.44 118.833 49.1093 119.479 48.7525 120.115C48.6718 120.258 48.5572 120.383 48.4817 120.531C48.2656 120.953 47.8932 120.875 47.6874 120.513C47.2578 119.75 47.013 118.911 47.0911 118.018C47.1197 117.677 47.2473 117.352 47.6249 117.263C48.0052 117.169 48.3359 117.409 48.4791 117.661ZM48.0104 120.148C48.0494 120.333 48.0885 120.19 48.1249 120.154C48.3854 119.763 48.6484 119.372 48.802 118.943C48.9218 118.607 49.2369 117.755 48.9062 117.841C48.8255 117.846 48.7421 118.094 48.6718 118.219C48.6145 118.318 48.4973 118.476 48.4479 118.484C48.2578 118.49 48.2812 118.318 48.2447 118.219C48.1588 117.995 48.1666 117.643 47.8463 117.685C47.5286 117.726 47.565 118.078 47.6067 118.307C47.7161 118.924 47.8723 119.536 48.0104 120.148Z",fill:"black"})),n.createElement("g",{filter:"url(#filter7_d_351_120552)"},n.createElement("rect",{x:"63.4768",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"63.6489",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"67.6057",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"67.6057",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter8_d_351_120552)"},n.createElement("rect",{x:"98.2268",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"98.3989",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"102.355",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"102.355",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("g",{filter:"url(#filter9_d_351_120552)"},n.createElement("rect",{x:"134",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"134.172",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"138.129",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"138.129",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),n.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),n.createElement("path",{d:"M163.058 5.32444L163.144 5.46819L163.29 5.38648L163.93 5.02854C164.401 4.76472 164.965 4.6956 165.497 4.83787C166.028 4.98013 166.482 5.32166 166.759 5.78594C167.036 6.25002 167.113 6.7986 166.976 7.31116C166.839 7.82371 166.498 8.26021 166.026 8.52392L166.026 8.52399L165.449 8.84723L165.449 8.84732L161.674 10.9565L159.121 6.67356C158.844 6.20954 158.767 5.66108 158.904 5.1487C159.041 4.63631 159.382 4.20002 159.854 3.93649C160.326 3.67286 160.889 3.60389 161.421 3.74625C161.952 3.8886 162.406 4.23014 162.682 4.69436L163.058 5.32444Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.344091"}),n.createElement("g",{clipPath:"url(#clip2_351_120552)"},n.createElement("path",{d:"M50.4871 107.641C48.8069 109.488 47.7973 109.61 46.2305 108.164C44.1148 111.157 42.1849 111.774 39.8514 110.153C39.3857 111.079 38.7655 112.239 37.5921 112.305C36.4645 112.372 35.5675 111.561 35.5655 111.477C35.4727 112.106 34.6737 113.559 33.4639 113.686C32.2099 113.819 31.2714 113.252 30.5935 112.255C29.723 110.962 29.5512 109.451 29.3703 107.956C29.191 106.467 29.0468 104.962 28.982 103.463C28.9502 102.678 29.0635 101.875 29.1937 101.087C29.2925 100.431 29.6597 99.9338 30.3896 99.8121C31.1194 99.6905 31.6381 100.065 31.9285 100.641C32.3488 101.47 32.6502 102.369 32.9353 103.077C33.2923 102.692 33.636 101.824 34.3226 101.609C35.0214 101.392 35.4604 101.455 36.3429 102.413C36.466 102.004 36.5602 101.635 36.6897 101.277C36.8358 100.882 36.9849 100.473 37.1984 100.113C37.8619 99.0194 38.6917 99.0087 39.483 100.068C41.3417 97.8755 42.7542 97.6508 45.017 99.1989C45.1976 98.6844 45.3353 98.1548 45.5664 97.6599C45.9532 96.8325 46.466 96.1419 47.5332 96.2202C48.4276 96.284 49.1693 96.9204 49.4516 97.9734C49.6358 98.6678 49.71 99.3903 49.8425 100.137C50.3717 99.6633 50.906 99.2599 51.6015 99.843C51.9154 98.8326 52.1853 97.879 52.518 96.9418C52.6775 96.4977 52.9121 96.067 53.1866 95.691C53.8238 94.8256 54.8328 94.8797 55.2722 95.86C55.5988 96.6025 55.8035 97.4282 55.8874 98.2393C56.1186 100.567 56.1084 102.892 55.4407 105.164C55.1061 106.296 54.4433 107.24 53.5059 107.974C52.1712 109.011 51.4815 108.934 50.4871 107.641ZM39.1546 101.785C39.0891 101.528 38.9628 100.247 38.431 100.253C38.0747 100.207 37.9209 100.878 37.8281 101.226C37.5065 102.512 37.3242 103.834 36.9597 105.104C36.8457 105.497 36.6329 105.708 36.3764 105.748C36.1323 105.836 36.0697 105.286 36.0118 105.034C35.8691 104.375 35.8318 103.695 35.6418 103.054C35.5686 102.793 35.455 102.425 34.9767 102.437C34.7887 102.44 34.5019 102.539 34.3083 102.901C34.0965 103.293 33.9031 103.707 33.7862 104.14C33.5734 104.91 33.4662 105.712 33.2259 106.475C33.1403 106.751 33.0228 107.08 32.747 107.222C32.492 107.268 32.2728 107.149 32.1872 106.305C32.1341 105.818 32.0887 105.335 32.0157 104.847C31.8459 103.7 31.6608 102.544 31.3612 101.424C31.2831 101.119 31.078 100.495 30.4631 100.684C29.8482 100.874 29.9096 101.47 29.9595 101.945C29.9644 101.989 29.9784 102.044 29.9848 102.095C30.134 103.39 30.2893 104.683 30.4324 105.98C30.6126 107.625 30.698 109.282 30.9957 110.903C31.2384 112.233 32.1254 112.904 33.1276 112.829C34.0977 112.757 34.5588 112.118 34.7112 110.629C34.7807 109.935 34.8013 109.227 34.9106 108.536C34.9416 108.326 35.0266 107.947 35.3415 107.957C35.6613 108.012 35.7028 108.352 35.753 108.574C35.8707 109.136 35.8113 109.743 36.0098 110.264C36.1478 110.626 36.541 110.993 36.9117 111.146C37.3912 111.342 37.9451 111.194 38.2282 110.698C38.5189 110.182 38.8062 109.627 38.9192 109.052C39.3781 106.599 39.4945 104.13 39.1546 101.785ZM50.8522 100.321C50.6149 100.258 50.3557 100.923 50.2715 101.178C50.0578 101.792 49.9284 102.43 49.7147 103.044C49.647 103.237 49.5064 103.527 49.2543 103.533C48.9942 103.482 48.9645 103.366 48.8893 103.021C48.8485 102.837 48.8275 102.628 48.8218 102.427C48.7926 101.55 48.8153 100.673 48.7357 99.8021C48.6756 99.1606 48.5757 98.4902 48.3279 97.9031C48.1793 97.5509 47.7245 97.1208 47.3882 97.1028C47.0656 97.0877 46.6017 97.4861 46.4018 97.8234C46.0823 98.38 45.9086 99.0228 45.7102 99.6459C45.6547 99.8358 45.6715 100.105 45.7672 100.275C46.8416 102.238 46.9952 104.339 46.6722 106.483C46.563 107.2 46.9941 107.487 47.413 107.803C47.8581 108.144 48.4053 108.147 48.8005 107.76C49.2155 107.348 49.5459 106.834 49.8595 106.331C50.0246 106.061 50.0502 105.703 50.206 105.423C50.2847 105.273 50.5023 105.107 50.6476 105.115C50.7592 105.119 50.9256 105.362 50.9616 105.529C51.0227 105.793 50.986 106.082 51.0211 106.346C51.1198 107.062 51.2231 107.517 51.6431 107.735C51.8624 107.881 52.5903 107.395 52.9417 107.091C54.0901 106.088 54.7064 104.76 54.7639 103.255C54.8461 101.237 54.8412 99.2094 54.7797 97.1893C54.7667 96.7568 54.7833 95.881 54.1461 95.9074C53.7619 95.8041 53.4068 96.5518 53.3005 96.9498C52.8868 98.4345 52.594 99.9599 52.2232 101.46C52.1499 101.758 52.0432 102.358 51.7501 102.433C51.4493 102.477 51.3007 102.405 51.1703 101.488C51.1212 101.169 51.1439 100.292 50.8522 100.321ZM45.4285 102.079C45.2305 101.635 45.0085 100.996 44.6721 100.419C43.5398 98.484 41.2245 98.5104 40.1057 100.468C39.9544 100.741 39.8878 101.142 39.9537 101.45C40.4517 103.651 40.4271 105.869 40.2406 108.089C40.1474 109.225 40.646 109.852 41.8126 109.938C43.2636 110.041 44.5426 109.168 45.2218 107.602C45.9719 105.856 45.931 103.407 45.4285 102.079Z",fill:"black"}),n.createElement("path",{d:"M59.6396 92.9477C59.6565 93.5223 59.7124 95.0885 59.7076 96.163C59.6942 97.6363 59.661 99.1083 59.5957 100.582C59.5728 101.154 59.472 101.726 59.3543 102.283C59.2411 102.806 58.8621 103.105 58.3303 103.111C57.7603 103.12 57.3065 102.872 57.0987 102.313C57.001 102.059 56.917 101.781 56.9124 101.509C56.9306 98.9612 57.0382 96.5596 57.0869 94.004C57.0898 93.6845 57.1071 93.2183 57.1818 92.9C57.328 92.2512 57.6344 91.8216 58.4066 91.8907C59.0794 91.9528 59.6227 92.3732 59.6396 92.9477ZM58.2221 102.332C58.2955 102.339 58.3705 102.352 58.4373 102.283C58.5789 102.175 58.5611 102.004 58.5634 101.861C58.6363 98.9672 58.7107 96.0798 58.7514 93.1879C58.7564 92.9785 58.7327 92.5553 58.3965 92.5632C57.9562 92.5458 58.0021 93.3861 57.9966 93.7713C57.9589 96.3956 57.9427 99.0275 57.9433 101.649C57.9446 101.882 57.9833 102.263 58.2221 102.332Z",fill:"black"}),n.createElement("path",{d:"M59.9054 105.251C60.1529 106.345 59.539 107.276 58.6658 107.474C57.8782 107.649 57.0496 107.055 56.8431 106.171C56.6145 105.176 57.0259 104.394 57.9922 104.179C58.8348 103.99 59.7065 104.372 59.9054 105.251ZM57.6513 105.847C57.8325 106.555 58.3501 106.468 58.4661 106.438C58.8092 106.305 59.0463 106.062 58.7828 105.388C58.71 105.205 58.5347 105.003 58.249 105.031C57.696 105.081 57.5609 105.519 57.6513 105.847Z",fill:"black"}),n.createElement("path",{d:"M42.9659 102.547C42.9771 102.921 43.0739 105.537 43.0732 107.085C43.0759 107.299 42.9866 107.738 42.5969 107.74C42.2333 107.768 42.0919 107.343 42.0754 107.126C41.9862 105.607 41.9396 104.078 41.9404 102.555C41.9392 102.322 42.0882 101.913 42.4165 101.848C42.8885 101.812 42.9547 102.172 42.9659 102.547Z",fill:"black"})),n.createElement("g",{filter:"url(#filter10_d_351_120552)",className:t7()(nj,nJ)},n.createElement("rect",{x:"132.649",y:"60.1077",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),n.createElement("rect",{x:"132.821",y:"60.2797",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"136.782",y:"64.2385",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2",className:t7()(nj,nJ)}),n.createElement("rect",{x:"136.782",y:"70.0869",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2",className:t7()(nj,nJ)}),n.createElement("g",{filter:"url(#filter11_d_351_120552)",className:t7()(nj,nX)},n.createElement("rect",{x:"32.7107",y:"12.5178",width:"26.8391",height:"30.6241",fill:"white"}),n.createElement("rect",{x:"32.8827",y:"12.6899",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),n.createElement("rect",{x:"35.6359",y:"15.0993",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091",className:t7()(nj,nX)}),n.createElement("path",{className:t7()(nj,nX),d:"M40.2485 22.3512C41.0198 21.4451 41.8657 20.5791 42.8005 19.8422C43.4514 19.3289 43.6751 19.3031 44.0335 19.2056C44.131 19.1798 44.217 19.1196 44.3002 19.0594C47.7898 16.5963 52.2372 18.3425 53.0974 22.6896C53.668 25.5742 52.1971 28.4387 49.668 29.6086C49.6278 29.6287 49.5676 29.6345 49.5476 29.666C49.0458 30.4517 48.025 30.7556 47.4027 30.9105C47.2766 30.9563 47.1791 31.0882 47.0644 31.1743C46.9755 31.2402 46.8866 31.3119 46.7862 31.3578C43.4973 32.8832 39.9618 30.8416 39.1876 27.4638C39.0786 26.9878 38.5997 24.1147 40.2485 22.3512ZM47.0988 29.4251C48.2716 29.4194 49.0372 29.2273 49.7225 28.8516C53.02 27.0423 53.5132 22.1275 50.6114 19.7275C48.9483 18.354 46.8206 18.1217 44.9511 19.4379C42.7288 21.0006 41.9231 24.2036 43.1675 26.6237C44.0622 28.3642 45.4816 29.3248 47.0988 29.4251ZM48.2199 30.1678C48.3633 30.1162 48.3834 30.0789 48.3604 30.0617C48.3604 30.0617 48.3002 30.0617 48.1999 30.0646C45.6192 30.2596 43.6779 29.233 42.5281 26.919C41.4041 24.6595 41.6765 22.4401 43.0041 20.3153C42.898 20.3669 42.812 20.43 42.7346 20.5017C40.9453 22.1218 40.4177 24.8659 41.45 27.2115C42.4019 29.3764 44.4005 30.661 46.6486 30.5004C47.1762 30.4631 47.6952 30.2825 48.2199 30.1678ZM40.6413 22.7297C40.6442 22.6465 40.5668 22.7498 40.5553 22.7641C40.5152 22.8186 40.475 22.8759 40.4406 22.9333C39.9675 23.7304 39.6722 24.5935 39.632 25.5197C39.5374 27.6301 40.2772 29.3793 42.0636 30.5721C43.2507 31.3664 44.5697 31.5298 45.9489 31.0997C43.9331 30.8961 42.3618 29.9613 41.3009 28.2352C40.2399 26.5147 40.0707 24.6681 40.6413 22.7297Z",fill:"black"}),n.createElement("path",{className:t7()(nj,nX),d:"M49.2781 24.5675C49.6738 24.5819 49.8028 24.7883 49.6738 25.1611C49.3526 26.0787 48.4494 26.526 47.529 26.2048C46.9841 26.0127 46.5569 25.6629 46.2616 25.164C46.035 24.7797 46.1354 24.5589 46.5798 24.5303C47.0444 24.4987 48.8451 24.5503 49.2781 24.5675ZM49.1892 25.0149C48.3978 25.0149 47.6265 25.0149 46.8465 25.0149C47.6379 25.9353 48.8078 25.9525 49.1892 25.0149Z",fill:"black"}),n.createElement("path",{className:t7()(nj,nX),d:"M46.0523 22.9417C46.0552 23.389 45.625 23.7962 45.1548 23.7933C44.7447 23.7905 44.458 23.4206 44.4551 23.0277C44.4494 22.6349 44.8508 22.2478 45.2924 22.2363C45.7168 22.222 46.0523 22.5317 46.0523 22.9417ZM45.1921 22.6578C44.9799 22.6922 44.9139 22.893 44.9311 23.0449C44.9541 23.2657 45.1204 23.3202 45.2236 23.3231C45.3211 23.3259 45.5132 23.2284 45.5534 23.0392C45.605 22.8471 45.496 22.5861 45.1921 22.6578Z",fill:"black"}),n.createElement("path",{className:t7()(nj,nX),d:"M51.5318 23.0622C51.5261 23.4952 51.2193 23.8135 50.8092 23.8106C50.3676 23.8077 50.0494 23.4493 50.0637 22.9704C50.0752 22.5547 50.3848 22.2335 50.7691 22.2421C51.1677 22.2536 51.5376 22.6493 51.5318 23.0622ZM51.1361 23.0507C51.1361 22.8299 51.0185 22.6808 50.835 22.6808C50.7232 22.6808 50.534 22.7669 50.534 23.002C50.534 23.412 50.835 23.3891 50.835 23.3891C50.9956 23.3833 51.1361 23.3174 51.1361 23.0507Z",fill:"black"}),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_351_120552",x:"63.4768",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter1_d_351_120552",x:"98.2268",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter2_d_351_120552",x:"132.977",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter3_d_351_120552",x:"32.5081",y:"60.4646",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter4_d_351_120552",x:"63.4768",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter5_d_351_120552",x:"98.2268",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter6_d_351_120552",x:"32.5081",y:"108.506",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter7_d_351_120552",x:"63.4768",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter8_d_351_120552",x:"98.2268",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter9_d_351_120552",x:"134",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter10_d_351_120552",x:"132.649",y:"60.1077",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("filter",{id:"filter11_d_351_120552",x:"32.7107",y:"12.5178",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),n.createElement("clipPath",{id:"clip0_351_120552"},n.createElement("rect",{width:"14.4518",height:"14.4518",fill:"white",transform:"translate(38.6985 65.2793)"})),n.createElement("clipPath",{id:"clip1_351_120552"},n.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(38 113)"})),n.createElement("clipPath",{id:"clip2_351_120552"},n.createElement("rect",{width:"36.296",height:"36.296",fill:"white",transform:"translate(23 89.9951) rotate(-14.3491)"}))))}var n3=a(794321),n4=a(537240);let n6="browse_templates_make_something_onboarding--faded--UuXrP";var n7=a(764350),n8=a(325570),n9=a(518577),re=a(13303),rt=a(663364);let ra="loadingMakeSomethingTemplate",rn=e=>{let t=(0,v.Xr)(nC.w),{name:a}=(0,d.j6)(),r=(0,s.wA)(),[l,i]=(0,n.useState)(n3.fD.NONE),o=(0,n.useCallback)(e=>{r(nx.Ji({isActive:e}))},[r]);(0,n.useEffect)(()=>(o(!0),()=>{o(!1)}),[o]);let u=(0,nS.g)();(0,n.useEffect)(()=>(u&&E.gw5?.setFigjamStarterKitEnabled(!0),()=>{E.gw5?.setFigjamStarterKitEnabled(!1)}),[u]);let m=(0,v.Xr)(nG.Qs);(0,n.useEffect)(()=>{m({type:"CLOSE"})},[m]);let p=(0,aJ.O)(),_=(0,n.useRef)(Date.now()),f=e.onHideModal,g=(0,n.useCallback)(()=>{f(),(0,aj.YQ)({id:n3.Lz}),r(c.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),r(ev.Ce()),t(nC.tX.COMPLETED)},[f,r,t]),h=t=>{(!e.shouldAcceptClickUseCaseTile||e.shouldAcceptClickUseCaseTile())&&((0,e_.Cu)({trackingContext:a,text:`${t} tile clicked`},"CTA Clicked"),e.onClickUseCaseTile(t))};function y(t,n){(0,e_.Cu)({trackingContext:a,text:`${t} tile hovered`},"CTA Hovered"),i(t),e.onUseCasePreview?.(t,n)}let b=[{headerText:(0,T.t)("figjam_onboarding_make_something.templates_modal.button_title.brainstorm"),headerIcon:n7.A,previewSvg:e=>n.createElement(n0,{hovered:e}),useCase:n3.fD.BRAINSTORM,previewType:E.KpW.MAKE_SOMETHING_BRAINSTORM},{headerText:(0,T.t)("figjam_onboarding_make_something.templates_modal.button_title.team_updates"),headerIcon:re.A,previewSvg:e=>n.createElement(n5,{hovered:e}),useCase:n3.fD.UPDATES,previewType:E.KpW.MAKE_SOMETHING_TEAM_UPDATES},{headerText:(0,T.t)("figjam_onboarding_make_something.templates_modal.button_title.planning_ahead"),headerIcon:n8.A,previewSvg:e=>n.createElement(n2,{hovered:e}),useCase:n3.fD.PLAN,previewType:E.KpW.MAKE_SOMETHING_PLANNING},{headerText:(0,T.t)("figjam_onboarding_make_something.templates_modal.button_title.team_chart"),headerIcon:n9.A,previewSvg:e=>n.createElement(n1,{hovered:e}),useCase:n3.fD.TEAM,previewType:E.KpW.MAKE_SOMETHING_TEAM_CHART}];function C(e,t){let a=b.findIndex(t=>t.useCase===e)+t;return a>b.length-1?a=0:a<0&&(a=b.length-1),a}return{hoveredUseCase:l,setHoveredUseCase:i,onClickCloseButton:()=>{e.onHideModal(),(0,aj.YQ)({id:n3.Lz}),t(nC.tX.COMPLETED);let a=Math.round((Date.now()-_.current)/1e3);p({eventName:"msv2_dismissed",style:e.style,secondsAfterShown:a})},onClickMoreTemplatesButton:()=>{(0,nR.KF)(r,{templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:"makeSomething",onTemplateInsertedCurrentFile:g,onTemplateInsertedNewFile:g,hideModal:()=>{r(ev.Ce())}}),p({eventName:"more_templates_clicked",style:e.style})},onClickUseCaseTile:h,onUseCasePreview:y,useCaseTiles:b,onListBoxKeydown:function(e){let t;if("Enter"===e.key){l!==n3.fD.NONE&&b.find(({useCase:e})=>e===l)&&h(l);return}if("Home"===e.key)t=0;else if("End"===e.key)t=b.length-1;else if(["ArrowUp","ArrowLeft"].includes(e.key))t=C(l,-1);else{if(!["ArrowDown","ArrowRight"].includes(e.key))return;t=C(l,1)}let a=b[t];i(a.useCase),y(a.useCase,a.previewType)}}},rr={[n3.fD.BRAINSTORM]:n3.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,[n3.fD.PLAN]:n3.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,[n3.fD.UPDATES]:n3.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,[n3.fD.TEAM]:n3.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED},rl=(0,nU.n)(({onSuccess:e}={})=>{let t=(0,v.Xr)(nC.w),a=(0,s.wA)(),r=(0,eU.aV)(),l=(0,nS.g)(),i=(0,s.d4)(e=>e.mirror.appModel.multiplayerSessionState===E.kul.JOINED),{hubFiles:o,templates:d,categoryIds:u,isLoading:m}=(0,nF.bg)({templatesShelfType:nO.cS.FIGJAM_SIMPLE_TEMPLATES_PICKER,source:"make-something-v2"}),{insertTemplate:p}=(0,nN.Fz)(),_=(0,n.useMemo)(()=>{let e={};return Object.keys(o).filter(e=>u.some(t=>d[t].includes(e))).reduce((e,t)=>{let a=o[t];return e[(0,nA.a6)(a).name.toUpperCase()]=a,e},e),e},[o,d,u]),f=l&&!m&&!r&&i;return{insert:(0,n.useCallback)(n=>{if(!f)return;if(n===n3.fD.NONE){e?.();return}let r=_[n],l=rr[n];p({template:{template:r,type:nL.n.HubFile},onSuccess:()=>{e?.(),a(em.F.dequeue({matchType:ra})),(0,aj.YQ)({id:l}),a(c.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),t(nC.tX.USE_CASE_STEPS),n===n3.fD.PLAN?E.glU.setCanvasZoomScale(.8):n===n3.fD.TEAM&&E.glU.setCanvasZoomScale(1.2)},triggeredFrom:"browse-templates-make-something",selectTemplateAfterInsertion:!1}),a(em.F.enqueue({message:(0,T.t)("figjam_onboarding_make_something.visual_bell.loading_template"),icon:ep.zX.SPINNER,type:ra}))},[a,e,p,t,_,f]),canInsert:f}});function ri(e){let t=(0,s.d4)(e=>{let t=e?.mirror?.appModel?.currentPage,a=e?.mirror?.sceneGraph,n=a?.get(t);return!n||!n.childrenNodes.length||n.childrenAreAllGhosts}),a=(0,aA.Un)(),r=(0,aJ.O)(),l=!a||t,i=l?"banner":"popup",o=()=>{e.hideModal?.()},c=e=>{r({eventName:"use_case_hovered",useCase:e,style:i})},d=e=>{r({eventName:"use_case_clicked",useCase:e,style:i})};return function(e){let t=(0,aJ.O)(),a=(0,nw.ZC)(e);(0,n.useEffect)(()=>{if(!a){t({eventName:"msv2_shown",style:e});return}if(a!==e){t({eventName:"msv2_style_changed",style:e,prevStyle:a});return}},[a,e,t])}(i),l?n.createElement(ro,{onHideModal:o,trackUseCaseHover:c,trackUseCaseClick:d}):n.createElement(rs,{onHideModal:o,trackUseCaseHover:c,trackUseCaseClick:d})}function ro(e){let{onHideModal:t,trackUseCaseHover:a,trackUseCaseClick:r}=e,[l,i]=(0,n.useState)(!1),o=(0,n.useRef)(!1),{insert:s,canInsert:c}=rl({onSuccess:()=>{o.current=!1}}),{hoveredUseCase:d,setHoveredUseCase:u,onClickCloseButton:m,onClickMoreTemplatesButton:p,onClickUseCaseTile:_,onUseCasePreview:f,useCaseTiles:g,onListBoxKeydown:h}=rn({templateInsertionLocation:nA.RD.CURRENT_FILE,onHideModal:t,onClickUseCaseTile(e){o.current=!0,s(e),t(),r(e)},onUseCasePreview(e,t){E.gw5.clearFigjamStarterKitPreview(),E.gw5.rotateFigjamStarterKitStrings(),E.gw5.showFigjamStarterKitPreview(t),a(e)},shouldAcceptClickUseCaseTile:()=>!o.current,style:"banner"});function y(){i(!1),E.gw5.clearFigjamStarterKitPreview(),u(n3.fD.NONE)}let v=(0,aA.Un)();return c?n.createElement(tq.Nb,{size:"fitContent",className:"browse_templates_make_something_onboarding--modalContainer--tYRC4",backgroundClassName:v?"browse_templates_make_something_onboarding--modalBackgroundWithPassthroughClicks--Lrf3O browse_templates_make_something_onboarding--modalBackground--Cyb7O":"browse_templates_make_something_onboarding--modalBackground--Cyb7O",hide:t,tintedModalBackground:!1,disableClickOutsideToHide:!0,enableEscapeToClose:!0},n.createElement(nk.i,{displayAs:nk.C.Block},n.createElement("div",{className:t7()("browse_templates_make_something_onboarding--closeHeader--tGUaS",{[n6]:l})},n.createElement(C.Jn,{dataTestId:"MakeSomethingCloseButton",onClick:m,trackingEventName:"modal closed"})),n.createElement("div",{className:"browse_templates_make_something_onboarding--makeSomethingContainer--rxr6G"},n.createElement("div",{className:t7()("browse_templates_make_something_onboarding--titleContainer--41-OQ",{[n6]:l})},n.createElement("div",{className:"browse_templates_make_something_onboarding--title--OqmHP text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI"},(0,T.tx)("figjam_onboarding_make_something.templates_modal.main_title")),n.createElement("div",{className:"browse_templates_make_something_onboarding--subtitle--T-kBc text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,T.tx)("figjam_onboarding_make_something.templates_modal.main_subtitle")),n.createElement("div",{className:t7()("browse_templates_make_something_onboarding--templateButtonContainer--ey3hb",{[n6]:l})},n.createElement(tF.vd,{className:t7()({"browse_templates_make_something_onboarding--templateButtonParent--4zUAI text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0}),trackingEventName:"more templates click",onClick:p,onFocus:y,autoFocus:!1,tabIndex:0},n.createElement("div",{className:"browse_templates_make_something_onboarding--templateButton--gmFOn"},n.createElement("div",{className:"browse_templates_make_something_onboarding--templateButtonContent--Sl5TE text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},n.createElement(k.B,{svg:rt.A,className:"browse_templates_make_something_onboarding--templatesButtonIcon--m4jW4",useOriginalSrcFills_DEPRECATED:!0}),n.createElement("div",{className:"browse_templates_make_something_onboarding--templatesButtonText--CzC6F"},(0,T.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button"))))))),n.createElement("div",{"aria-activedescendant":d,"aria-label":(0,T.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",className:"browse_templates_make_something_onboarding--listItems--57vh3",onKeyDown:h,onMouseEnter:()=>i(!0),onMouseLeave:y,role:"listbox",tabIndex:0},g.map(({headerIcon:e,headerText:t,useCase:a,previewSvg:r,previewType:l})=>n.createElement("div",{tabIndex:-1,role:"option",className:t7()("browse_templates_make_something_onboarding--useCaseContainer--nnBm-",{[n6]:![n3.fD.NONE,a].includes(d)}),onFocus:()=>f(a,l),onMouseEnter:()=>f(a,l),onClick:()=>_(a),key:a,"aria-label":t,"aria-selected":d===a,id:`make-something-onboarding-${a}`},n.createElement("div",{className:"browse_templates_make_something_onboarding--useCaseHeader--0ad0i text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},n.createElement(k.B,{svg:e,height:"28px",width:"28px",autosize:!0,className:"browse_templates_make_something_onboarding--useCaseIcon--0Dqvb",useOriginalSrcFills_DEPRECATED:!0}),t),n.createElement("div",{className:"browse_templates_make_something_onboarding--previewContainer--lohmG"},r(d===a)))))))):null}function rs(e){let{onHideModal:t,trackUseCaseHover:a,trackUseCaseClick:r}=e,{shiftPopupUp:l,popupRef:i}=function(){let e=nV.C()?.dltContainerNode,t=(0,n.useRef)(null),[a,r]=(0,n.useState)(!1);return(0,n.useLayoutEffect)(()=>{let a=(0,nH.s)(()=>{let a=t.current?.getBoundingClientRect(),n=e?.getBoundingClientRect();a&&n&&r(n.left-a.right<24)},100);return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),{popupRef:t,shiftPopupUp:a}}(),o=(0,s.wA)(),c=(0,nI.B)(),{hoveredUseCase:u,setHoveredUseCase:m,onClickCloseButton:p,onClickMoreTemplatesButton:_,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:h,onListBoxKeydown:E}=rn({templateInsertionLocation:nA.RD.NEW_FILE,onHideModal:t,onClickUseCaseTile(e){o(nT.zE({state:c,from:nM.f6.FIGJAM_MAKE_SOMETHING_POPUP,editorType:at._Y.WHITEBOARD,team:void 0,openNewFileIn:nM.ai.NEW_TAB,figjamMakeSomethingUseCase:e})),r(e)},onUseCasePreview(e){a(e)},style:"popup"});return n.createElement(tq.Nb,{modalRef:i,className:"browse_templates_make_something_onboarding--popupModal--y2117",backgroundClassName:t7()("browse_templates_make_something_onboarding--popupBackground--qUE9z",{"browse_templates_make_something_onboarding--popupBackgroundAboveDlt--3VTFo":l}),size:"fitContent",hide:t,tintedModalBackground:!1,disableClickOutsideToHide:!0,enableEscapeToClose:!0,disableFocusTrap:!0},n.createElement(nk.i,{displayAs:nk.C.Block},n.createElement("div",{className:"browse_templates_make_something_onboarding--popupHeader--gqTTZ"},n.createElement("div",{className:"browse_templates_make_something_onboarding--popupTitle--qSiMo text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},(0,T.tx)("figjam_onboarding_make_something.popup.title")),n.createElement(C.Jn,{dataTestId:"MakeSomethingCloseButton",onClick:p,trackingEventName:"modal closed"})),n.createElement("div",{"aria-activedescendant":u,"aria-label":(0,T.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",onKeyDown:E,role:"listbox",tabIndex:0},h.map(({headerIcon:e,headerText:t,useCase:a})=>n.createElement("button",{className:t7()("browse_templates_make_something_onboarding--popupButton--r5tGZ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",{"browse_templates_make_something_onboarding--popupButtonActive--EbHMe":u===a}),tabIndex:-1,role:"option",onFocus:()=>g(a),onBlur:()=>m(n3.fD.NONE),onMouseEnter:()=>g(a),onMouseLeave:()=>m(n3.fD.NONE),onClick:()=>f(a),key:a,"aria-label":t,"aria-selected":u===a,id:`make-something-onboarding-${a}`},n.createElement(k.B,{className:t7()({"browse_templates_make_something_onboarding--brainstormIcon--O0mh5":a===n3.fD.BRAINSTORM}),svg:e,height:a===n3.fD.BRAINSTORM?"16px":"20px",width:a===n3.fD.BRAINSTORM?"16px":"20px",autosize:!0,useOriginalSrcFills_DEPRECATED:!0}),t)),n.createElement(d.Co,{className:"browse_templates_make_something_onboarding--popupTemplates--aTTD4 text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",trackingEventName:"more templates click",onFocus:()=>m(n3.fD.NONE),onMouseEnter:()=>m(n3.fD.NONE),onClick:_,tabIndex:0},(0,T.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button")))))}function rc(){let{insert:e,canInsert:t}=rl(),[a,r]=(0,y.fp)(nC.l5),l=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{t&&a!==n3.fD.NONE&&!l.current&&(e(a),l.current=!0)},[a,e,t]),(0,n.useEffect)(()=>()=>r(n3.fD.NONE),[r]),null}n3.Og,eX.q3.SELF_CONTAINED,e=>n.createElement(ri,{hideModal:e.dismissModal});let rd=`${n3.Og} Templates Toolbar Connector Tooltip`,ru=`${n3.Og} Templates Toolbar Onboarding Finished Connector Tooltip`;function rm(e){return n.createElement(aY.Dv,{targetType:"dom",targetKey:nD.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:nB.F_.BOTTOM},n.createElement(nP.mI,{bodyText:n.createElement("span",{className:t7()(n4.RL)},(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text_bold"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta}))}function rp(e){return n.createElement(aY.Dv,{targetType:"dom",targetKey:nD.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:nB.F_.BOTTOM},n.createElement(nP.mI,{titleText:n.createElement("span",{className:"browse_templates_make_something_onboarding--tooltipTitle--EmYZQ"},(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.title_want_to_try_something_else")),bodyText:n.createElement("span",{className:n4.$s},(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text_bold"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta}))}function r_(e){let t=(0,v.Xr)(nC.w);return(0,tg.h)(()=>{t(nC.tX.MODAL_SHOWING)}),n.createElement(ez.h,{testId:e.testId?e.testId:"MakeSomethingOnboardingOverlay",modalType:eX.q3.SELF_CONTAINED,trackingContextName:"Make Something Modal Onboarding",element:n.useCallback(e=>n.createElement(ri,{hideModal:e.dismissModal}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}eX.q3.SELF_CONTAINED,eX.q3.SELF_CONTAINED;let rf="figjam_unified_onboarding_product",rg="figjam_unified_onboarding_pz";function rh(e){(0,aj.YQ)({id:e===aA.jg.PRODUCT_THEN_PZ?rf:rg})}let rE=[a8,a9];function ry(){let e=(0,y.md)(aA.Am),{show:t,uniqueId:a,isShowing:r,complete:l}=(0,u.e)({overlay:f.wRI,priority:m.N.OVERRIDING_MODAL}),i=ny((0,n.useCallback)(()=>{l(),e===aA.jg.PZ_THEN_PRODUCT&&(0,aj.YQ)({id:rf}),e===aA.jg.PRODUCT_THEN_PZ&&(0,aj.YQ)({id:nh})},[l,e]));return(0,ew.E)(a,rg,()=>{t()}),n.createElement(nb,{steps:rE,onComplete:i,isShowing:r,overlayUniqueId:a})}function rv(){let e=(0,y.md)(aA.Am),t=(0,y.md)(nC.w),{show:a,uniqueId:r,isShowing:l,complete:i}=(0,u.e)({overlay:f.Kze,priority:m.N.OVERRIDING_MODAL}),o=ny(i);return(0,ew.E)(r,rf,()=>{a()}),(0,n.useEffect)(()=>{t===nC.tX.COMPLETED&&e===aA.jg.PRODUCT_THEN_PZ&&(0,aj.YQ)({id:rg}),t===nC.tX.COMPLETED&&e===aA.jg.PZ_THEN_PRODUCT&&(0,aj.YQ)({id:nh})},[t,e]),n.createElement(r_,{onClickPrimaryCta:o,onClose:t8.lQ,onManualDismiss:o,isShowing:l})}var rb=a(286640),rC=a(650769),rw=a(205548),rk=a(796823),rx=a(686063),rT=a(554905),rN=a(776621),rS=a(493323),rI=a(359999),rA=a(507877),rL=a(340159),rO=a(216158),rM=a(984968);let rP=(0,nU.D)((e,t)=>{t(rA.V3({url:e}))});function rR(e){let t=(0,s.wA)(),a=(0,rI.qm)(),r=rM.ol()?.id,[l]=(0,rO.IT)(rL.XZ({currentOrgId:a,currentTeamId:r,fileTags:["figjam_template"],shouldRecreate:!0})),{dismissModal:i}=e;return n.useEffect(()=>{"errors"===l.status&&(i(),rD("failure","curator"))},[l.status,i]),n.useEffect(()=>{let e=setTimeout(()=>{"loading"===l.status&&rD("timeout","curator")},5e3);return()=>clearTimeout(e)},[l.status]),n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalContainer--O1ld1"},n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalShadow--HF-Gb onboard_figjam_viewer--openTutorialModalBase--vDoVP"},n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModal--3j-H4 onboard_figjam_viewer--openTutorialModalBase--vDoVP"},n.createElement("div",{className:aZ},n.createElement("div",{className:aQ},n.createElement("img",{className:a$,src:"https://static.figma.com/uploads/964c3ddf18b0f2712b664efde991dfc4f2c58eb8",alt:""})),n.createElement("div",{className:t7()({[a0]:!0,[a1]:!0})},n.createElement("div",{className:"onboard_figjam_viewer--openTutorialModalText--9oABQ onboard_figjam_viewer--text--xkcTB"},(0,T.tx)("rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial")),n.createElement("div",{className:"onboard_figjam_viewer--openTutorialBottomContentRow--rVWqG onboard_figjam_viewer--bottomContentRow--PgTeU"},n.createElement("div",{className:"onboard_figjam_viewer--secondaryTextClickable--iF6eC onboard_figjam_viewer--secondaryText--THVcI",onClick:e.dismissModal},(0,T.tx)("rcs.figjam_onboarding.maybe_later")),n.createElement(tF.vd,{className:"loading"===l.status||null==l.data?"onboard_figjam_viewer--openTutorialButtonDisabled--EYffC onboard_figjam_viewer--openTutorialButton--4AqFo onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":"onboard_figjam_viewer--openTutorialButton--4AqFo onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",onClick:()=>{"loaded"!==l.status||null==l.data||l.data.length<1||(rP(l.data[0].url,t),e.dismissModal())},disabled:"loading"===l.status},"loading"===l.status||null==l.data?n.createElement(rS.kt,{"data-testid":"loading-spinner",className:"onboard_figjam_viewer--openTutorialSpinner--zV-nH publish_modal--spinner--7DaqW"}):(0,T.tx)("rcs.figjam_onboarding.open_tutorial"))))))))}function rD(e,t){(0,rN.kF)("type",e),(0,rN.kF)("source",t),(0,rN.us)("FigJam onboarding - failed to load open tutorial button")}async function rF(e){let t=(await e).data;if(!t)return!1;let a=(0,rw.kd)(t),n=(0,rw.mW)(a,"figjam_editor_onboarded");return!n&&!n&&!(()=>{let e=(0,rb.DN)();try{return!!e.get(rC.Xk)}catch(e){}return!1})()}function rB({openFile:e}){return!!(e&&e.trackTags?.isTemplate&&e.editorType===at._Y.WHITEBOARD)}function rU(e){return n.createElement(ez.h,{testId:e.testId?e.testId:"OpenFigJamTutorialOverlay",modalType:eX.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Open Tutorial",userFlagOnShow:"figjam_editor_onboarded",element:rR,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rG(){let e=(0,s.wA)(),t=(0,ei.MY)(),{show:a,uniqueId:r,complete:l,isShowing:i}=(0,u.e)({overlay:f.MJs,priority:m.N.OVERRIDING_MODAL},[t]),o=function(e,t){let a=(0,n.useRef)(),r=(0,n.useRef)(),l=(0,n.useRef)();return((0,n.useEffect)(()=>()=>{a.current?.()},[]),r.current)?r.current:null==a.current||null==l.current?(r.current=new Promise(n=>{a.current?.(),a.current=(0,rx.WB)().subscribe(e,t,e=>{("loaded"===e.status||e.errors)&&(l.current=e,n(l.current),r.current=void 0)})}),r.current):Promise.resolve(l.current)}(no.Tej,{}),d=(0,y.md)(ei.yV),p=(0,rT.Td)(),_=!rB({openFile:d}),g=(0,n.useRef)(!1);(0,n.useEffect)(()=>{rF(o).then(e=>{e&&!g.current&&a({canShow:e=>{let t=e?.editorType===at._Y.WHITEBOARD&&!e?.canEdit;return t&&(g.current=!0),t}})})},[a,o]);let{currentStep:h,next:E,reset:v}=(0,eG.A)({numSteps:_?4:3,onComplete:l});(0,ew.E)(r,"Reset Onboarding",()=>{e(c.b({figjam_editor_onboarded:!1})),p&&(v(),a())});let b=ny(l),C=n.useMemo(()=>{let e=ne.map(e=>n.createElement(e,{key:e.name,isShowing:i,onClickPrimaryCta:E,onClose:t8.lQ,onManualDismiss:b}));return _&&e.push(n.createElement(rU,{key:"OpenFigJamTutorialOverlay",isShowing:i,onClickPrimaryCta:E,onClose:t8.lQ,onManualDismiss:b,testId:"open_figjam_tutorial_overlay"})),e},[E,b,i,_]);return n.createElement(eK.U,{currentStep:h,isShowing:i,children:C})}var rH=a(583765),rV=a(315944);let rK="Browse Templates Modal";function rz(e){return n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.WELCOME,trackingContextName:rK,element:n.useCallback(e=>n.createElement(nR.N$,{editorType:at._Y.WHITEBOARD,templateInsertionLocation:nA.RD.CURRENT_FILE,triggeredFrom:"newFile",hideModal:e.dismissModal,hideTintedModalBackground:!0}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rW(e){return n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.WELCOME,trackingContextName:rK,element:n.useCallback(e=>n.createElement(nR.N$,{editorType:at._Y.WHITEBOARD,templateInsertionLocation:nA.RD.CURRENT_FILE,triggeredFrom:"newFile",hideModal:e.onClickPrimaryCta,hideTintedModalBackground:!0}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let rj=(0,nU.D)(()=>{let e=(0,rb.DN)();try{return!!e.get(rC.Xk)}catch(e){}return!1});function rq({userFlags:e,emailValidatedAt:t,userSpace:a,isTemplateFile:n,isTryFile:l,canvasEmpty:i,onboardedToFigJam:o,jobTitle:s,cameFromWhatsNew:c}){let d=(0,rw.mW)(e,"not_gen_0"),u=a===p.qo.ORG,m=(0,rk.d2)({emailValidatedAt:t,jobTitle:s});if((o||rj())&&(u||d||m))return[];if(!m&&(0,rw.of)(e)&&!u&&!c)return l?(0,r.kc)().nux_gen0_overlay_enabled?[l?rW:rz]:[rk.vm,l?rW:rz]:(0,r.kc)().nux_gen0_overlay_enabled?[r_]:[rk.vm,r_];let _=(0,aX.O)()?[]:ne;if(n)return _;let f=[..._,rU];return c||l||!i?f:[r_]}function rY({openFile:e}){let t=(0,y.md)(nC.l5),a=(0,y.md)(tk.zo),r=(0,y.md)(aA.Am);return t!==n3.fD.NONE?null:("loaded"!==a.status||a.data)&&!r?n.createElement(rZ,{openFile:e}):n.createElement(rJ,{openFile:e})}let rX=(e,t)=>{let a=(0,ei.MY)(),r=(0,v.Xr)(aA.Am),l=(0,v.Xr)(nC.w),i=(0,y.md)(tk.zo),o=(0,eU.aV)(),s=(0,y.md)(rH.dO).status===rV.c.LOADING;nv({overlayUniqueId:e,afterReset:()=>{r(null),l(nC.tX.NOT_STARTED)}});let c=(0,n.useRef)(!1);(0,n.useEffect)(()=>{!c.current&&"loaded"===i.status&&!o&&!s&&a.data?.canEdit&&a.data?.editorType==="whiteboard"&&(c.current=!0,t())},[t,i.status,o,s,a])};function rJ({openFile:e}){let t=(0,y.md)(ek.g5),a=(0,y.md)(ex.qG),l=(0,y.md)(ek.d2),i=(0,y.md)(ek.NT),o=(0,s.d4)(e=>e.mirror.appModel.currentPage),c=(0,tc.Fk)((e,t)=>(0,ts.zC)(e,t),o),d=(0,y.md)(tk.zo),_=(0,ex.Fu)("interacted_figjam_whats_new_v2_cta"),g=(0,y.md)(_),h=(0,v.Xr)(aA.Am),{getConfig:E}=(0,t4.XV)("exposed_exp_figjam_unified_onboarding","figjam_unified_onboarding"),b=(0,n.useCallback)(()=>{let e=E().get("sequence",aA.jg.DEFAULT);return h(e),e},[E,h]),[C,w]=(0,n.useState)(!1),[k,x]=(0,n.useState)(!1),[T,N]=(0,n.useState)([]),{show:S,uniqueId:I,isShowing:A,complete:L,experimentResult:O}=(0,u.e)({overlay:f.zoI,priority:m.N.OVERRIDING_MODAL,experiment:{check:b,predicate:e=>e!==aA.jg.DEFAULT,postCheck:(e,t,a,n,l)=>{let i=a===p.qo.ORG,o=!(0,rk.d2)({emailValidatedAt:t,jobTitle:l})&&(0,rw.of)(e),s=!(0,r.kc)().nux_gen0_overlay_enabled&&o&&!i;return x(s),n||rj()||w(!0),s}}},[a,t,l,d,i,g]),M=(0,n.useRef)(c);(0,n.useEffect)(()=>{M.current=c},[c]);let{show:P,isShowing:R,complete:D}=(0,u.e)({overlay:f.lLk,priority:m.N.OVERRIDING_MODAL,experiment:{check:b,predicate:e=>e===aA.jg.DEFAULT,postCheck:(t,a,n,r,l,i)=>{let o=rq({userFlags:t,emailValidatedAt:a,userSpace:n,isTemplateFile:rB({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:M.current,onboardedToFigJam:r,jobTitle:l,cameFromWhatsNew:(0,tA.SS)(i)}),s=o.length>0;return s&&N(o),s}}},[a,t,l,d,i,g]),F=O||aA.jg.DEFAULT,B=F===aA.jg.DEFAULT?R:A,U=F===aA.jg.DEFAULT?D:L,G=(0,n.useMemo)(()=>F===aA.jg.DEFAULT?T:k?[rk.vm]:[],[F,k,T]);rX(I,(0,n.useCallback)(()=>{S(),P()},[S,P]));let H=ny(U),V=(0,n.useCallback)(()=>{F===aA.jg.DEFAULT?H():C&&(U(),rh(F))},[H,U,C,F]);return((0,n.useEffect)(()=>{0===G.length&&C&&F!==aA.jg.DEFAULT&&rh(F)},[C,G,F]),O&&B&&0!==G.length)?n.createElement(nb,{steps:G,onComplete:V,isShowing:B,overlayUniqueId:I}):null}function rZ({openFile:e}){let t=(0,y.md)(ek.g5),a=(0,y.md)(ex.qG),r=(0,y.md)(ek.d2),l=(0,y.md)(ek.NT),i=(0,s.d4)(e=>e.mirror.appModel.currentPage),o=(0,tc.Fk)((e,t)=>(0,ts.zC)(e,t),i),c=(0,y.md)(tk.zo),d=(0,ex.Fu)("interacted_figjam_whats_new_v2_cta"),p=(0,y.md)(d),{show:_,uniqueId:g,isShowing:h,complete:E}=(0,u.e)({overlay:f.lLk,priority:m.N.OVERRIDING_MODAL},[a,t,r,c,l,p]),[v,b]=(0,n.useState)([]);rX(g,(0,n.useCallback)(()=>{_({canShow:(t,a,n,r,l,i)=>{let s=rq({userFlags:t,emailValidatedAt:a,userSpace:n,isTemplateFile:rB({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:o,onboardedToFigJam:r,jobTitle:l,cameFromWhatsNew:(0,tA.SS)(i)}),c=s.length>0;return c&&b(s),c}})},[_,b,o,e]));let C=ny(E);return h&&0!==v.length?n.createElement(nb,{steps:v,onComplete:C,isShowing:h,overlayUniqueId:g}):null}function rQ({openFile:e}){return n.createElement(rY,{openFile:e})}var r$=a(288706);let r0=(0,es.eU)(async()=>{if(document.fonts&&FontFace){let e=new FontFace("Whyte","url(https://static.figma.com/webfont/1/Whyte-Regular.woff)");document.fonts.add(e)}await document.fonts.ready}),r1=(0,r$.Rq)(r0);function r2(e){return n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:rd,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r5(e){return n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:ru,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r3(){let e=(0,ex.r1)("figjam_browse_templates_modal_onboarded"),t=(0,y.md)(e),a=(0,y.md)(r1),[r,l]=(0,n.useState)(!1),i=(0,aA.Un)(),{show:o,isShowing:s,uniqueId:c,complete:d}=(0,u.e)({overlay:f.kp0,priority:m.N.OVERRIDING_MODAL},[t,a]);return(0,ew.E)(c,n3.Lz,()=>{l(!0),o({canShow:e=>!e&&!i})}),(0,ew.E)(c,eY.P7,()=>{o({canShow:e=>!e&&!i})}),r?n.createElement(r2,{isShowing:s,onClickPrimaryCta:d,onClose:d,onManualDismiss:d}):n.createElement(r5,{isShowing:s,onClickPrimaryCta:d,onClose:d,onManualDismiss:d})}var r4=a(244673),r6=a(178498),r7=a(972283),r8=a(728406),r9=a(487392);function le(e){return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.BRAINSTORM},n.createElement(nP.wV,{bodyText:n.createElement("span",{className:n4.R9},(0,T.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming_prefix"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:n7.A}))}function lt(e){let{onClickPrimaryCta:t,dismissModal:a}=e;return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("createdSticky",e),()=>{ae.Y5.fromFullscreen.removeListener("createdSticky",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.BRAINSTORM},n.createElement(aY.Dv,{targetType:"dom",targetKey:r6.s,topPadding:-22,autoWidth:!0,isBold:!0},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above_bold_text"))}))})))}function la(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("createdSticky")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.BRAINSTORM},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function ln(e){let{onClickPrimaryCta:t,dismissModal:a}=e,{handleTargetLost:r}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("createdStamp",e),()=>{ae.Y5.fromFullscreen.removeListener("createdStamp",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.BRAINSTORM},n.createElement(aY.Dv,{targetType:"dom",targetKey:r7.E$,topPadding:-27,isBold:!0,autoWidth:!0,onTargetLost:r},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something_bold_text"))}))})))}function lr(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("createdStamp")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.BRAINSTORM},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.TOP,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function ll(e){let t=(0,s.wA)(),a=(0,r9.MR)(),r=(0,r9.qU)(),[l,i]=n.useState("invalid"),{handleTargetLost:o}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>(a({source:r9.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(r4.lu({state:"open",userInitiated:!1})),i(r8.Hm),()=>{r({source:r9.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(r4.lu({state:"closed",userInitiated:!1}))}),[r,t,a]),n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.BRAINSTORM},n.createElement(aY.Dv,{targetType:"dom",targetKey:l,topPadding:-4,isBold:!0,autoWidth:!0,onTargetLost:o},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function li(e){let{onNext:t}=nK({...e,useCase:n3.fD.BRAINSTORM});return n.createElement(aY.Dv,{targetType:"dom",targetKey:eY.v4,topPadding:-4,isBold:!0,hasShadow:!0},n.createElement(a5,{titleText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.start_a_brainstorm_by_inviting_a_few_people_here_that_s_it"),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nP.mN,isBold:!0}))}function lo(e){return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:le,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ls(e){return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Sticky Prompt",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Sticky Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:lt,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lc(e){return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Sticky Reaction",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Sticky Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:la,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ld(e){return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Stamp Prompt",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Stamp Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:ln,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lu(e){return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Stamp Reaction",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Stamp Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:lr,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lm(e){return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Timer",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Timer`,userFlagOnShow:"figjam_editor_onboarded",element:ll,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lp(e){let t=(0,aJ.O)();return(0,nP.rL)({useCase:n3.fD.BRAINSTORM,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Brainstorm - Share`,userFlagOnShow:"figjam_editor_onboarded",element:li,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n3.fD.BRAINSTORM}),e.onClose()},onManualDismiss:e.onManualDismiss})}var l_=a(202232);function lf(e){return n.useEffect(()=>{E.glU.populatePointerModalNodeTrackerForPlanningAhead()},[]),n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.PLAN},n.createElement(nP.wV,{bodyText:n.createElement("span",{className:n4.R9},(0,T.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:n8.A}))}function lg(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("planningAheadInitialNode")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.PLAN},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-7,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.planning_ahead.start_with_a_simple_timeline_with_a_row_for_each_member_of_your_team")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lh(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>E.glU.getPointerModalNodeId("planningAheadPerson")||""),{handleTargetLost:l}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("finishedEditingText",e),()=>{ae.Y5.fromFullscreen.removeListener("finishedEditingText",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.PLAN},n.createElement(aY.Dv,{targetType:"canvas",targetKey:r,topPadding:2,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:l},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top_bold_text"))}))})))}function lE(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>E.glU.getPointerModalNodeId("planningAheadProject")||""),{handleTargetLost:l}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{ae.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.PLAN},n.createElement(aY.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:l},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project_bold_text"))}))})))}function ly(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("planningAheadProject")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.PLAN},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:a},n.createElement(nP.mI,{bodyText:(0,T.tx)("figjam_onboarding_make_something.planning_ahead.you_can_resize_blocks_by_dragging_their_ends"),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lv(e){let{handleTargetLost:t}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.PLAN},n.createElement(aY.Dv,{targetType:"dom",targetKey:l_.BC,topPadding:-23,isBold:!0,autoWidth:!0,onTargetLost:t},n.createElement(nP.mI,{bodyText:(0,T.tx)("figjam_onboarding_make_something.planning_ahead.and_grab_more_shapes_as_needed_from_your_toolbar"),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lb(e){let{onNext:t}=nK({...e,useCase:n3.fD.PLAN});return n.createElement(aY.Dv,{targetType:"dom",targetKey:eY.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},n.createElement(a5,{titleText:(0,T.tx)("figjam_onboarding_make_something.planning_ahead.try_it_with_your_team"),bodyText:(0,T.tx)("figjam_onboarding_make_something.planning_ahead.share_this_board_and_your_whole_team_can_contribute"),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nP.mN,isBold:!0}))}function lC(e){return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lf,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lw(e){return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Section",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Section`,userFlagOnShow:"figjam_editor_onboarded",element:lg,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lk(e){return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Person",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Person`,userFlagOnShow:"figjam_editor_onboarded",element:lh,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lx(e){return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Project Name",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Project Name`,userFlagOnShow:"figjam_editor_onboarded",element:lE,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lT(e){return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Project Block",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Project Block`,userFlagOnShow:"figjam_editor_onboarded",element:ly,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lN(e){return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Shape",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:lv,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lS(e){let t=(0,aJ.O)();return(0,nP.rL)({useCase:n3.fD.PLAN,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Planning Ahead - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lb,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n3.fD.PLAN}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lI(e){return n.useEffect(()=>{E.glU.populatePointerModalNodeTrackerForTeamChart()},[]),n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.TEAM},n.createElement(nP.wV,{bodyText:n.createElement("span",{className:n4.R9},(0,T.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:n9.A}))}function lA(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>E.glU.getPointerModalNodeId("teamChartName")||""),{handleTargetLost:l}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{ae.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.TEAM},n.createElement(aY.Dv,{targetType:"canvas",targetKey:r,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:l},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it_bold_text"))}))})))}function lL(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("teamChartImage")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.TEAM},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.you_can_add_images_by_simply_dragging_them_into_fig_jam")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lO(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>E.glU.getPointerModalNodeId("teamChartQuickCreate")||""),{handleTargetLost:l}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("quickCreate",e),()=>{ae.Y5.fromFullscreen.removeListener("quickCreate",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.TEAM},n.createElement(aY.Dv,{targetType:"canvas",targetKey:r,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.RIGHT_TITLE,onTargetLost:l},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it_bold_text"))}))})))}function lM(e){let{handleTargetLost:t}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.TEAM},n.createElement(aY.Dv,{targetType:"dom",targetKey:l_.BC,topPadding:-23,isBold:!0,autoWidth:!0,onTargetLost:t},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.you_can_also_grab_more_shapes_from_here")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lP(e){let{handleTargetLost:t}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.TEAM},n.createElement(aY.Dv,{targetType:"dom",targetKey:l_.Nr,isBold:!0,autoWidth:!0,onTargetLost:t},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.and_use_the_connector_tool_to_connect_any_two_things_together")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lR(e){let{onNext:t}=nK({...e,useCase:n3.fD.TEAM});return n.createElement(aY.Dv,{targetType:"dom",targetKey:eY.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},n.createElement(a5,{titleText:(0,T.tx)("figjam_onboarding_make_something.team_chart.diagram_together"),bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_chart.share_this_board_and_your_whole_team_can_pitch_in")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nP.mN,isBold:!0}))}function lD(e){return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lF(e){return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Name",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Name`,userFlagOnShow:"figjam_editor_onboarded",element:lA,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lB(e){return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Image",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Image`,userFlagOnShow:"figjam_editor_onboarded",element:lL,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lU(e){return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Quick Create",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Quick Create`,userFlagOnShow:"figjam_editor_onboarded",element:lO,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lG(e){return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Shape",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:lM,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lH(e){return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Connector",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Connector`,userFlagOnShow:"figjam_editor_onboarded",element:lP,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lV(e){let t=(0,aJ.O)();return(0,nP.rL)({useCase:n3.fD.TEAM,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Chart - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lR,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n3.fD.TEAM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function lK(e){return n.useEffect(()=>{E.glU.populatePointerModalNodeTrackerForTeamUpdates()},[]),n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.UPDATES},n.createElement(nP.wV,{bodyText:n.createElement("span",{className:n4.R9},(0,T.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:re.A}))}function lz(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("teamUpdatesSection")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.UPDATES},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.each_person_gets_a_row_of_their_own_for_sharing_updates_and_priorities")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lW(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("teamUpdatesPhotoBooth")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.UPDATES},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot_bold_text"))})),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lj(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("teamUpdatesUpdates")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.UPDATES},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.your_whole_team_can_share_updates_here")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lq(e){let[t]=n.useState(()=>E.glU.getPointerModalNodeId("teamUpdatesImportantDates")||""),{handleTargetLost:a}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.createElement(nP.vX,{onSkipClick:e.dismissModal,useCase:n3.fD.UPDATES},n.createElement(aY.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:a},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.and_can_add_important_dates_to_the_calendar_over_here")),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})))}function lY(e){let{onClickPrimaryCta:t,dismissModal:a}=e,[r]=n.useState(()=>E.glU.getPointerModalNodeId("teamUpdatesSticky")||""),{handleTargetLost:l}=(0,aY.Du)({shouldSkipConnectorModalAtom:nC.aG,skipConnectorModal:e.onClickPrimaryCta});return n.useEffect(()=>{function e(){t()}return ae.Y5.fromFullscreen.on("finishedEditingSticky",e),()=>{ae.Y5.fromFullscreen.removeListener("finishedEditingSticky",e)}},[t]),n.createElement(nP.vX,{onSkipClick:a,useCase:n3.fD.UPDATES},n.createElement(aY.Dv,{targetType:"canvas",targetKey:r,topPadding:-16,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.TOP,onTargetLost:l},n.createElement(nP.mI,{bodyText:n.createElement("span",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note",{boldText:n.createElement("b",null,(0,T.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note_bold_text"))}))})))}function lX(e){let{onNext:t}=nK({...e,useCase:n3.fD.UPDATES});return n.createElement(aY.Dv,{targetType:"dom",targetKey:eY.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},n.createElement(a5,{titleText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,T.tx)("figjam_onboarding_make_something.team_updates.invite_your_teammates_and_run_a_quick_team_check_in"),buttonText:(0,T.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nP.mN,isBold:!0}))}function lJ(e){return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Intro",stepNum:1}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:lK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lZ(e){return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Section",stepNum:2}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Section`,userFlagOnShow:"figjam_editor_onboarded",element:lz,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function lQ(e){return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Photo Booth",stepNum:3}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Photo Booth`,userFlagOnShow:"figjam_editor_onboarded",element:lW,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l$(e){return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Updates",stepNum:4}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Updates`,userFlagOnShow:"figjam_editor_onboarded",element:lj,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l0(e){return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Important Dates",stepNum:5}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Important Dates`,userFlagOnShow:"figjam_editor_onboarded",element:lq,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l1(e){return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Sticky",stepNum:6}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Sticky`,userFlagOnShow:"figjam_editor_onboarded",element:lY,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function l2(e){let t=(0,aJ.O)();return(0,nP.rL)({useCase:n3.fD.UPDATES,stepName:"Share",stepNum:7}),n.createElement(ez.h,{testId:e.testId,modalType:eX.q3.SELF_CONTAINED,trackingContextName:`${nP.CM} - Team Updates - Share`,userFlagOnShow:"figjam_editor_onboarded",element:lX,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n3.fD.UPDATES}),e.onClose()},onManualDismiss:e.onManualDismiss})}function l5(e){switch(e){case n3.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED:return[lo,ls,lc,ld,lu,lm,lp,l3];case n3.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED:return[lJ,lZ,lQ,l$,l0,l1,l2,l3];case n3.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED:return[lC,lw,lk,lx,lT,lN,lS,l3];case n3.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED:return[lD,lF,lB,lU,lG,lH,lV,l3];default:return[]}}function l3({onClickPrimaryCta:e}){let t=(0,s.d4)(e=>e.modalShown),a=(0,n.useRef)(t);return(0,n.useEffect)(()=>{!t&&a.current&&(e(),(0,aj.YQ)({id:eY.P7}))},[e,t]),n.createElement(n.Fragment,null)}function l4(){let[e,t]=n.useState([]),a=(0,v.Xr)(nC.w),{complete:r,uniqueId:l,show:i,isShowing:o}=(0,u.e)({overlay:f.Njd,priority:m.N.OVERRIDING_MODAL}),s=n.useCallback(()=>{r(),a(nC.tX.COMPLETED)},[r,a]);return((0,ew.E)(l,n3.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,()=>{t(l5(n3.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED)),a(nC.tX.USE_CASE_STEPS),i()}),(0,ew.E)(l,n3.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,()=>{t(l5(n3.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED)),a(nC.tX.USE_CASE_STEPS),i()}),(0,ew.E)(l,n3.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,()=>{t(l5(n3.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED)),a(nC.tX.USE_CASE_STEPS),i()}),(0,ew.E)(l,n3.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED,()=>{t(l5(n3.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED)),a(nC.tX.USE_CASE_STEPS),i()}),nv({overlayUniqueId:l,afterReset:r}),0===e.length)?null:n.createElement(nb,{steps:e,onComplete:s,isShowing:o,overlayUniqueId:l})}var l6=a(992303),l7=a(835691),l8=a(784578),l9=a(317946);let ie="edit_action_experiment_dont_show_again";function it({dismissModal:e}){let t=(0,l9.E)(),a=(0,s.wA)(),r=(0,ei.q5)();return n.createElement(n.Fragment,null,n.createElement("div",{className:"edit_action_experiment_steps--header--kBYL2 onboarding--editorOnboardingHeader--Kk5Cb"},(0,T.tx)("pro_edit_action.heading")),n.createElement("div",{className:"edit_action_experiment_steps--content---HMhp"},(0,T.tx)("pro_edit_action.body_text")),n.createElement("div",{className:"edit_action_experiment_steps--cta--3U128"},n.createElement(tF.tM,{onClick:()=>{a(c.b({[ie]:!0})),e()},trackingProperties:{text:"Not now"}},(0,T.tx)("pro_edit_action.dismiss_button_text")),n.createElement(tF.vd,{className:"edit_action_experiment_steps--primaryButton--R2FKA",onClick:()=>{e(),r&&t(r,l8.$5)},trackingProperties:{text:"Start editing"}},(0,T.tx)("pro_edit_action.primary_button_text"))))}var ia=a(22774),ir=a(708277),il=a(217071);let ii=(0,ir.Op)({initial:"await_button_or_fullscreen",states:[{id:"await_button_or_fullscreen",transitions:[(0,ir.nr)("Context Viewed","check_in_drafts",{condition:({event:e})=>"Editor > Toolbar > File Edit Button"===e.properties.name||"Editor > Toolbelt > File Edit Button"===e.properties.name}),(0,ir.nr)(il.R,"check_show_button",{condition:({event:e})=>0!==e.properties.numSelected&&null!=e.properties.numSelected}),(0,ir.nr)(ia.cZ,"check_show_button")]},{id:"check_in_drafts",transitions:[(0,ir.MR)("static_checks_in_drafts","await_button_or_fullscreen",{condition:({event:e})=>!e.succeeded}),(0,ir.MR)("static_checks_in_drafts","show_overlay",{condition:({event:e})=>e.succeeded})]},{id:"check_show_button",transitions:[(0,ir.MR)("static_checks_show_button","await_button_or_fullscreen",{condition:({event:e})=>!e.succeeded}),(0,ir.MR)("static_checks_show_button","show_overlay",{condition:({event:e})=>e.succeeded})]},{id:"show_overlay",terminal:!0}]}),io="edit_action_experiment_shown_once",is="edit_action_experiment_shown_twice",ic=(0,ex.r1)("edit_action_experiment_dont_show_again"),id=(0,ex.r1)(io),iu=(0,ex.r1)(is);function im(){let e=(0,s.wA)(),t=(0,l7.eD)(ii),a=(0,y.md)(ic),r=(0,y.md)(tk.$q),l=(0,y.md)(id),i=(0,y.md)(iu),o=(0,y.md)(tk.aT),d=(0,u.e)({overlay:f.UGT,priority:m.N.HIGH_PRIORITY_MODAL},[a,l,i]),p=(0,n.useCallback)(()=>{d.show({canShow:e=>!e})},[d]),_=(0,n.useCallback)(()=>{"loaded"!==l.status||l.data||e(c.b({[io]:!0})),"loaded"===l.status&&l.data&&e(c.b({[is]:!0})),d.complete()},[e,d,l]);(0,l7.ST)(t,(0,n.useCallback)(({to:e})=>{"check_in_drafts"===e&&t.transition({id:"static_checks_in_drafts",succeeded:!r}),"check_show_button"===e&&t.transition({id:"static_checks_show_button",succeeded:o}),"show_overlay"===e&&(p(),t.reset())},[r,t,o,p]));let g=(0,n.useCallback)(({dismissModal:e})=>n.createElement(it,{dismissModal:e}),[]);return n.createElement(ez.h,{className:"edit_action_experiment_steps--modal--3KhyN pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",element:g,disableHighlight:!0,isShowing:d.isShowing,modalType:eX.q3.WALK_THROUGH,onboardingKey:l8.m7,onClickPrimaryCta:_,onClose:_,onManualDismiss:_,shouldCenterArrow:nB.EL.FALLBACK,shouldDismissWhenLostDOMTarget:!0,trackingContextName:"Edit Action Experiment Modal (no checkbox)",width:300-2*aY.uv,additionalOnExplicitDismiss:()=>{e(c.b({[ie]:!0}))}})}var ip=a(133537),i_=a(401352),ig=a(175290),ih=a(898211),iE=a(237870);function iy(){return n.createElement("svg",{width:"146",height:"191",viewBox:"0 0 146 191",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M35 153H3C1.34315 153 0 154.343 0 156V188C0 189.657 1.34315 191 3 191H35C36.6569 191 38 189.657 38 188V156C38 154.343 36.6569 153 35 153Z",fill:"#007BE5"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.875 166.25C22.4943 166.25 21.375 167.369 21.375 168.75C21.375 170.131 22.4943 171.25 23.875 171.25C25.2557 171.25 26.375 170.131 26.375 168.75C26.375 167.369 25.2557 166.25 23.875 166.25ZM19.875 168.75C19.875 166.541 21.6659 164.75 23.875 164.75C26.0841 164.75 27.875 166.541 27.875 168.75C27.875 170.3 26.9937 171.644 25.7049 172.308C28.337 173.03 30.3125 175.271 30.3125 178.012V179.312V180.062H29.5625H20.5625H19.8125H18.1875H8.4375H7.6875V179.312V178.012C7.6875 175.271 9.663 173.03 12.2951 172.308C11.0063 171.644 10.125 170.3 10.125 168.75C10.125 166.541 11.9159 164.75 14.125 164.75C16.3341 164.75 18.125 166.541 18.125 168.75C18.125 170.3 17.2437 171.644 15.9549 172.308C17.1449 172.634 18.2008 173.271 19.0005 174.125C19.7985 173.271 20.8514 172.633 22.0433 172.307C20.7555 171.642 19.875 170.299 19.875 168.75ZM9.1875 178.012C9.1875 175.617 11.3334 173.562 14.125 173.562C16.9166 173.562 19.0625 175.617 19.0625 178.012V178.562H18.1875H9.1875V178.012ZM20.5625 178.562H28.8125V178.012C28.8125 175.617 26.6666 173.562 23.875 173.562C22.2296 173.562 20.7911 174.286 19.8997 175.374C20.323 176.164 20.5625 177.058 20.5625 178.012V178.562ZM11.625 168.75C11.625 167.369 12.7443 166.25 14.125 166.25C15.5057 166.25 16.625 167.369 16.625 168.75C16.625 170.131 15.5057 171.25 14.125 171.25C12.7443 171.25 11.625 170.131 11.625 168.75Z",fill:"white"}),n.createElement("path",{d:"M89 153H57C55.3431 153 54 154.343 54 156V188C54 189.657 55.3431 191 57 191H89C90.6569 191 92 189.657 92 188V156C92 154.343 90.6569 153 89 153Z",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.875 166.25C76.4943 166.25 75.375 167.369 75.375 168.75C75.375 170.131 76.4943 171.25 77.875 171.25C79.2557 171.25 80.375 170.131 80.375 168.75C80.375 167.369 79.2557 166.25 77.875 166.25ZM73.875 168.75C73.875 166.541 75.6659 164.75 77.875 164.75C80.0841 164.75 81.875 166.541 81.875 168.75C81.875 170.3 80.9937 171.644 79.7049 172.308C82.337 173.03 84.3125 175.271 84.3125 178.012V179.312V180.062H83.5625H74.5625H73.8125H72.1875H62.4375H61.6875V179.312V178.012C61.6875 175.271 63.663 173.03 66.2951 172.308C65.0063 171.644 64.125 170.3 64.125 168.75C64.125 166.541 65.9159 164.75 68.125 164.75C70.3341 164.75 72.125 166.541 72.125 168.75C72.125 170.3 71.2437 171.644 69.9549 172.308C71.1449 172.634 72.2008 173.271 73.0005 174.125C73.7985 173.271 74.8514 172.633 76.0433 172.307C74.7555 171.642 73.875 170.299 73.875 168.75ZM63.1875 178.012C63.1875 175.617 65.3334 173.562 68.125 173.562C70.9166 173.562 73.0625 175.617 73.0625 178.012V178.562H72.1875H63.1875V178.012ZM74.5625 178.562H82.8125V178.012C82.8125 175.617 80.6666 173.562 77.875 173.562C76.2296 173.562 74.7911 174.286 73.8997 175.374C74.323 176.164 74.5625 177.058 74.5625 178.012V178.562ZM65.625 168.75C65.625 167.369 66.7443 166.25 68.125 166.25C69.5057 166.25 70.625 167.369 70.625 168.75C70.625 170.131 69.5057 171.25 68.125 171.25C66.7443 171.25 65.625 170.131 65.625 168.75Z",fill:"white"}),n.createElement("path",{d:"M143 153H111C109.343 153 108 154.343 108 156V188C108 189.657 109.343 191 111 191H143C144.657 191 146 189.657 146 188V156C146 154.343 144.657 153 143 153Z",fill:"#FFCD29"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.875 166.25C130.494 166.25 129.375 167.369 129.375 168.75C129.375 170.131 130.494 171.25 131.875 171.25C133.256 171.25 134.375 170.131 134.375 168.75C134.375 167.369 133.256 166.25 131.875 166.25ZM127.875 168.75C127.875 166.541 129.666 164.75 131.875 164.75C134.084 164.75 135.875 166.541 135.875 168.75C135.875 170.3 134.994 171.644 133.705 172.308C136.337 173.03 138.312 175.271 138.312 178.012V179.312V180.062H137.562H128.562H127.812H126.188H116.438H115.688V179.312V178.012C115.688 175.271 117.663 173.03 120.295 172.308C119.006 171.644 118.125 170.3 118.125 168.75C118.125 166.541 119.916 164.75 122.125 164.75C124.334 164.75 126.125 166.541 126.125 168.75C126.125 170.3 125.244 171.644 123.955 172.308C125.145 172.634 126.201 173.271 127 174.125C127.799 173.271 128.851 172.633 130.043 172.307C128.755 171.642 127.875 170.299 127.875 168.75ZM117.188 178.012C117.188 175.617 119.333 173.562 122.125 173.562C124.917 173.562 127.062 175.617 127.062 178.012V178.562H126.188H117.188V178.012ZM128.562 178.562H136.812V178.012C136.812 175.617 134.667 173.562 131.875 173.562C130.23 173.562 128.791 174.286 127.9 175.374C128.323 176.164 128.562 177.058 128.562 178.012V178.562ZM119.625 168.75C119.625 167.369 120.744 166.25 122.125 166.25C123.506 166.25 124.625 167.369 124.625 168.75C124.625 170.131 123.506 171.25 122.125 171.25C120.744 171.25 119.625 170.131 119.625 168.75Z",fill:"white"}),n.createElement("path",{d:"M112.581 1L125 13.7668V113H20V1H112.581Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.5H112.792L125.5 13.5637V113.5H19.5V0.5ZM20.5 1.5V112.5H124.5V14.2668H112.081V1.5H20.5ZM113.081 2.23108L123.816 13.2668H113.081V2.23108Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M38 71C41.866 71 45 67.866 45 64C45 60.134 41.866 57 38 57C34.134 57 31 60.134 31 64C31 67.866 34.134 71 38 71Z",fill:"#56CCF2",fillOpacity:"0.8"}),n.createElement("path",{d:"M60 71C63.866 71 67 67.866 67 64C67 60.134 63.866 57 60 57C56.134 57 53 60.134 53 64C53 67.866 56.134 71 60 71Z",fill:"#EB5757"}),n.createElement("path",{d:"M82 71C85.866 71 89 67.866 89 64C89 60.134 85.866 57 82 57C78.134 57 75 60.134 75 64C75 67.866 78.134 71 82 71Z",fill:"#F2994A"}),n.createElement("path",{d:"M104 71C107.866 71 111 67.866 111 64C111 60.134 107.866 57 104 57C100.134 57 97 60.134 97 64C97 67.866 100.134 71 104 71Z",fill:"#F2C94C"}),n.createElement("path",{d:"M38 49C41.866 49 45 45.866 45 42C45 38.134 41.866 35 38 35C34.134 35 31 38.134 31 42C31 45.866 34.134 49 38 49Z",fill:"#333333"}),n.createElement("path",{d:"M60 49C63.866 49 67 45.866 67 42C67 38.134 63.866 35 60 35C56.134 35 53 38.134 53 42C53 45.866 56.134 49 60 49Z",fill:"#4F4F4F"}),n.createElement("path",{d:"M82 49C85.866 49 89 45.866 89 42C89 38.134 85.866 35 82 35C78.134 35 75 38.134 75 42C75 45.866 78.134 49 82 49Z",fill:"#828282"}),n.createElement("path",{d:"M104 49C107.866 49 111 45.866 111 42C111 38.134 107.866 35 104 35C100.134 35 97 38.134 97 42C97 45.866 100.134 49 104 49Z",fill:"#E0E0E0"}),n.createElement("path",{d:"M36.66 20L36.1 18.36H33.26L32.68 20H31.05L33.72 13H35.69L38.34 20H36.66ZM33.7 17.1H35.67L35.15 15.58C34.99 15.11 34.97 14.59 34.96 13.85H34.42C34.41 14.59 34.4 15.11 34.23 15.59L33.7 17.1ZM39.9023 21.95C38.9523 21.95 38.6523 21.49 38.6523 21.01C38.6523 20.61 38.9823 20.32 39.3423 20.21V19.75C39.0223 19.66 38.7723 19.44 38.7723 19.08C38.7723 18.54 39.1623 18.28 39.5923 18.14V17.69C39.2423 17.44 39.0223 17.16 39.0223 16.65C39.0223 15.6 39.9323 14.85 41.1023 14.85C41.9223 14.85 42.6723 15.17 42.9323 15.9H43.3623C43.4423 15.17 43.6723 15 44.1523 15H44.4123V16.08H43.8623C43.5523 16.08 43.4723 16.15 43.4123 16.66L43.4023 16.75C43.2823 17.83 42.4123 18.49 41.2423 18.49C40.8723 18.49 40.5023 18.45 40.2023 18.32C39.9223 18.4 39.8223 18.51 39.8223 18.67C39.8223 18.89 40.0323 18.89 40.3223 18.89H42.4723C43.5423 18.89 44.2123 19.59 44.2123 20.4C44.2123 21.41 43.4523 21.95 42.4723 21.95H39.9023ZM41.2323 17.56C41.7623 17.56 42.1123 17.22 42.1123 16.71C42.1123 16.19 41.7623 15.81 41.2323 15.81C40.7023 15.81 40.3523 16.19 40.3523 16.71C40.3523 17.22 40.7023 17.56 41.2323 17.56ZM40.2423 20.92H42.1923C42.6623 20.92 42.8123 20.73 42.8123 20.45C42.8123 20.22 42.6623 20 42.1923 20H40.0023C39.8823 20.07 39.7423 20.25 39.7423 20.45C39.7423 20.77 39.9723 20.92 40.2423 20.92Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M54.62 20L53.97 18.15H50.89L50.23 20H49.15L51.78 13H53.16L55.74 20H54.62ZM51.22 17.23H53.64L52.97 15.33C52.77 14.75 52.66 14.35 52.65 13.7H52.23C52.21 14.35 52.11 14.76 51.9 15.33L51.22 17.23ZM57.4441 21.95C56.5441 21.95 56.2441 21.45 56.2441 21.05C56.2441 20.6 56.5041 20.27 56.9341 20.08V19.72C56.6641 19.63 56.4441 19.41 56.4441 19.11C56.4441 18.73 56.7041 18.43 57.1841 18.23V17.87C56.8741 17.62 56.6441 17.28 56.6441 16.64C56.6441 15.7 57.4141 14.9 58.5441 14.9C59.5941 14.9 60.0441 15.46 60.2141 15.87H60.5641C60.6041 15.4 60.8441 15.04 61.3241 15.04H61.6641V15.82H61.2541C60.8341 15.82 60.6741 15.92 60.6341 16.49L60.6141 16.73C60.5241 17.85 59.7541 18.57 58.6441 18.57C58.3041 18.57 57.9841 18.53 57.7041 18.38C57.4341 18.49 57.2641 18.67 57.2641 18.85C57.2641 19.02 57.3641 19.17 57.7041 19.17H59.8541C60.8241 19.17 61.4541 19.73 61.4541 20.56C61.4541 21.49 60.7341 21.95 59.8741 21.95H57.4441ZM58.6441 17.83C59.2941 17.83 59.7141 17.4 59.7141 16.74C59.7141 16.09 59.2941 15.64 58.6441 15.64C57.9941 15.64 57.5741 16.09 57.5741 16.74C57.5741 17.4 57.9941 17.83 58.6441 17.83ZM57.8241 21.15H59.7541C60.1541 21.15 60.5041 21.04 60.5041 20.57C60.5041 20.1 60.1541 20 59.7541 20H57.4341C57.2741 20.1 57.0741 20.32 57.0741 20.63C57.0741 21.03 57.3441 21.15 57.8241 21.15Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M67.4862 20H66.2205L68.5249 13.4545H69.9886L72.2962 20H71.0305L69.2823 14.7969H69.2312L67.4862 20ZM67.5277 17.4336H70.9794V18.386H67.5277V17.4336ZM75.1377 21.9432C74.7222 21.9432 74.3653 21.8867 74.067 21.7738C73.7687 21.663 73.529 21.5138 73.3479 21.3263C73.1668 21.1388 73.0411 20.9311 72.9708 20.7031L74.0127 20.4506C74.0596 20.5465 74.1277 20.6413 74.2172 20.7351C74.3067 20.831 74.4271 20.9098 74.5784 20.9716C74.7318 21.0355 74.9246 21.0675 75.1569 21.0675C75.485 21.0675 75.7566 20.9876 75.9718 20.8278C76.187 20.6701 76.2946 20.4102 76.2946 20.0479V19.1179H76.2371C76.1775 19.2372 76.0901 19.3597 75.975 19.4854C75.8621 19.6112 75.7119 19.7166 75.5244 19.8018C75.339 19.8871 75.1057 19.9297 74.8245 19.9297C74.4473 19.9297 74.1054 19.8413 73.7986 19.6644C73.4939 19.4854 73.251 19.2191 73.0699 18.8654C72.8909 18.5096 72.8014 18.0643 72.8014 17.5295C72.8014 16.9904 72.8909 16.5355 73.0699 16.1648C73.251 15.7919 73.4949 15.5096 73.8017 15.3178C74.1086 15.1239 74.4505 15.027 74.8277 15.027C75.1153 15.027 75.3518 15.076 75.5372 15.174C75.7247 15.2699 75.8738 15.386 75.9846 15.5224C76.0954 15.6566 76.1796 15.7834 76.2371 15.9027H76.301V15.0909H77.442V20.0799C77.442 20.4996 77.3419 20.8469 77.1416 21.1218C76.9413 21.3967 76.6675 21.6023 76.3202 21.7386C75.9729 21.875 75.5787 21.9432 75.1377 21.9432ZM75.1473 19.022C75.3923 19.022 75.6011 18.9624 75.7737 18.843C75.9463 18.7237 76.0773 18.5522 76.1668 18.3285C76.2563 18.1048 76.301 17.8363 76.301 17.5231C76.301 17.2141 76.2563 16.9435 76.1668 16.7113C76.0794 16.479 75.9495 16.299 75.7769 16.1712C75.6064 16.0412 75.3966 15.9762 75.1473 15.9762C74.8895 15.9762 74.6743 16.0433 74.5017 16.1776C74.3291 16.3118 74.1991 16.4961 74.1118 16.7305C74.0244 16.9627 73.9807 17.2269 73.9807 17.5231C73.9807 17.8235 74.0244 18.0866 74.1118 18.3125C74.2013 18.5362 74.3323 18.7109 74.5049 18.8366C74.6796 18.9602 74.8937 19.022 75.1473 19.022Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M84.0611 20H83.2301L85.6335 13.4545H86.4517L88.8551 20H88.0241L86.0682 14.4901H86.017L84.0611 20ZM84.3679 17.4432H87.7173V18.1463H84.3679V17.4432ZM91.7989 21.9432C91.4346 21.9432 91.1213 21.8963 90.8593 21.8026C90.5972 21.7109 90.3788 21.5895 90.2041 21.4382C90.0315 21.2891 89.8941 21.1293 89.7918 20.9588L90.3927 20.5369C90.4608 20.6264 90.5471 20.7287 90.6515 20.8438C90.7559 20.9609 90.8987 21.0621 91.0798 21.1474C91.263 21.2347 91.5027 21.2784 91.7989 21.2784C92.1952 21.2784 92.5223 21.1825 92.7801 20.9908C93.0379 20.799 93.1668 20.4986 93.1668 20.0895V19.0923H93.1029C93.0475 19.1818 92.9687 19.2926 92.8664 19.4247C92.7662 19.5547 92.6213 19.6708 92.4317 19.7731C92.2442 19.8732 91.9907 19.9233 91.6711 19.9233C91.2748 19.9233 90.9189 19.8295 90.6036 19.642C90.2904 19.4545 90.0422 19.1818 89.8589 18.8239C89.6778 18.4659 89.5873 18.0312 89.5873 17.5199C89.5873 17.017 89.6757 16.5792 89.8525 16.2063C90.0294 15.8313 90.2755 15.5415 90.5908 15.337C90.9062 15.1303 91.2705 15.027 91.6838 15.027C92.0035 15.027 92.257 15.0803 92.4445 15.1868C92.6341 15.2912 92.779 15.4105 92.8792 15.5447C92.9814 15.6768 93.0603 15.7855 93.1157 15.8707H93.1924V15.0909H93.9211V20.1406C93.9211 20.5625 93.8252 20.9055 93.6334 21.1697C93.4438 21.4361 93.1881 21.631 92.8664 21.7546C92.5468 21.8803 92.191 21.9432 91.7989 21.9432ZM91.7733 19.2457C92.0759 19.2457 92.3316 19.1765 92.5404 19.038C92.7492 18.8995 92.9079 18.7003 93.0166 18.4403C93.1253 18.1804 93.1796 17.8693 93.1796 17.5071C93.1796 17.1534 93.1263 16.8413 93.0198 16.5707C92.9133 16.3001 92.7556 16.0881 92.5468 15.9347C92.338 15.7812 92.0802 15.7045 91.7733 15.7045C91.4537 15.7045 91.1874 15.7855 90.9743 15.9474C90.7634 16.1094 90.6047 16.3267 90.4981 16.5994C90.3937 16.8722 90.3415 17.1747 90.3415 17.5071C90.3415 17.848 90.3948 18.1495 90.5013 18.4116C90.61 18.6715 90.7698 18.8761 90.9807 19.0252C91.1938 19.1722 91.458 19.2457 91.7733 19.2457Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M75.8419 93V88.6364H77.4399C77.7496 88.6364 78.006 88.6875 78.2091 88.7898C78.4122 88.8906 78.5642 89.0277 78.6651 89.201C78.7659 89.3729 78.8163 89.5668 78.8163 89.7827C78.8163 89.9645 78.783 90.1179 78.7162 90.2429C78.6494 90.3665 78.5599 90.4659 78.4477 90.5412C78.3369 90.6151 78.2148 90.669 78.0813 90.7031V90.7457C78.2261 90.7528 78.3675 90.7997 78.5053 90.8864C78.6445 90.9716 78.7595 91.093 78.8504 91.2507C78.9413 91.4084 78.9868 91.6001 78.9868 91.826C78.9868 92.049 78.9342 92.2493 78.8291 92.4268C78.7254 92.603 78.5649 92.7429 78.3476 92.8466C78.1303 92.9489 77.8526 93 77.5145 93H75.8419ZM76.5003 92.4354H77.4506C77.7659 92.4354 77.9918 92.3743 78.1281 92.2521C78.2645 92.13 78.3327 91.9773 78.3327 91.794C78.3327 91.6562 78.2979 91.5298 78.2283 91.4148C78.1587 91.2997 78.0592 91.2081 77.93 91.1399C77.8021 91.0717 77.6501 91.0376 77.474 91.0376H76.5003V92.4354ZM76.5003 90.5241H77.3824C77.5301 90.5241 77.6629 90.4957 77.7808 90.4389C77.9001 90.3821 77.9946 90.3026 78.0642 90.2003C78.1352 90.0966 78.1707 89.9744 78.1707 89.8338C78.1707 89.6534 78.1075 89.5021 77.9811 89.38C77.8547 89.2578 77.6608 89.1967 77.3994 89.1967H76.5003V90.5241ZM81.8197 91.6428V89.7273H82.4589V93H81.8325V92.4332H81.7984C81.7231 92.608 81.6024 92.7536 81.4362 92.87C81.2714 92.9851 81.0662 93.0426 80.8204 93.0426C80.6102 93.0426 80.4241 92.9964 80.2622 92.9041C80.1017 92.8104 79.9752 92.6719 79.8829 92.4886C79.792 92.3054 79.7465 92.0788 79.7465 91.8089V89.7273H80.3836V91.7322C80.3836 91.9553 80.4454 92.1328 80.569 92.2649C80.6926 92.397 80.8531 92.4631 81.0505 92.4631C81.1698 92.4631 81.2885 92.4332 81.4063 92.3736C81.5257 92.3139 81.6244 92.2237 81.7025 92.103C81.7821 91.9822 81.8211 91.8288 81.8197 91.6428ZM84.8726 89.7273V90.2386H83.085V89.7273H84.8726ZM83.5644 88.9432H84.2014V92.0391C84.2014 92.1626 84.2199 92.2557 84.2568 92.3182C84.2938 92.3793 84.3414 92.4212 84.3996 92.4439C84.4593 92.4652 84.5239 92.4759 84.5935 92.4759C84.6446 92.4759 84.6894 92.4723 84.7277 92.4652C84.7661 92.4581 84.7959 92.4524 84.8172 92.4482L84.9323 92.9744C84.8953 92.9886 84.8428 93.0028 84.7746 93.017C84.7064 93.0327 84.6212 93.0412 84.5189 93.0426C84.3513 93.0455 84.195 93.0156 84.0502 92.9531C83.9053 92.8906 83.7881 92.794 83.6986 92.6634C83.6091 92.5327 83.5644 92.3686 83.5644 92.1712V88.9432ZM87.135 89.7273V90.2386H85.3474V89.7273H87.135ZM85.8268 88.9432H86.4639V92.0391C86.4639 92.1626 86.4823 92.2557 86.5193 92.3182C86.5562 92.3793 86.6038 92.4212 86.662 92.4439C86.7217 92.4652 86.7863 92.4759 86.8559 92.4759C86.907 92.4759 86.9518 92.4723 86.9901 92.4652C87.0285 92.4581 87.0583 92.4524 87.0796 92.4482L87.1947 92.9744C87.1578 92.9886 87.1052 93.0028 87.037 93.017C86.9688 93.0327 86.8836 93.0412 86.7813 93.0426C86.6137 93.0455 86.4575 93.0156 86.3126 92.9531C86.1677 92.8906 86.0505 92.794 85.961 92.6634C85.8715 92.5327 85.8268 92.3686 85.8268 92.1712V88.9432ZM89.2131 93.0661C88.9063 93.0661 88.6386 92.9957 88.4099 92.8551C88.1812 92.7145 88.0036 92.5178 87.8772 92.2649C87.7508 92.0121 87.6876 91.7166 87.6876 91.3786C87.6876 91.0391 87.7508 90.7422 87.8772 90.4879C88.0036 90.2337 88.1812 90.0362 88.4099 89.8956C88.6386 89.755 88.9063 89.6847 89.2131 89.6847C89.52 89.6847 89.7877 89.755 90.0164 89.8956C90.2451 90.0362 90.4227 90.2337 90.5491 90.4879C90.6755 90.7422 90.7387 91.0391 90.7387 91.3786C90.7387 91.7166 90.6755 92.0121 90.5491 92.2649C90.4227 92.5178 90.2451 92.7145 90.0164 92.8551C89.7877 92.9957 89.52 93.0661 89.2131 93.0661ZM89.2153 92.5312C89.4141 92.5312 89.5789 92.4787 89.7096 92.3736C89.8403 92.2685 89.9369 92.1286 89.9994 91.9538C90.0633 91.7791 90.0952 91.5866 90.0952 91.3764C90.0952 91.1676 90.0633 90.9759 89.9994 90.8011C89.9369 90.625 89.8403 90.4837 89.7096 90.3771C89.5789 90.2706 89.4141 90.2173 89.2153 90.2173C89.015 90.2173 88.8488 90.2706 88.7167 90.3771C88.586 90.4837 88.4887 90.625 88.4248 90.8011C88.3623 90.9759 88.331 91.1676 88.331 91.3764C88.331 91.5866 88.3623 91.7791 88.4248 91.9538C88.4887 92.1286 88.586 92.2685 88.7167 92.3736C88.8488 92.4787 89.015 92.5312 89.2153 92.5312ZM92.1169 91.0568V93H91.4798V89.7273H92.0913V90.2599H92.1318C92.2071 90.0866 92.325 89.9474 92.4855 89.8423C92.6474 89.7372 92.8513 89.6847 93.097 89.6847C93.32 89.6847 93.5153 89.7315 93.683 89.8253C93.8506 89.9176 93.9805 90.0554 94.0729 90.2386C94.1652 90.4219 94.2114 90.6484 94.2114 90.9183V93H93.5743V90.995C93.5743 90.7578 93.5125 90.5724 93.3889 90.4389C93.2653 90.304 93.0956 90.2365 92.8797 90.2365C92.732 90.2365 92.6006 90.2685 92.4855 90.3324C92.3719 90.3963 92.2817 90.4901 92.2149 90.6136C92.1496 90.7358 92.1169 90.8835 92.1169 91.0568Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 83C71.8954 83 71 83.8954 71 85V97C71 98.1046 71.8954 99 73 99H97C98.1046 99 99 98.1046 99 97V85C99 83.8954 98.1046 83 97 83H73ZM70 85C70 83.3431 71.3431 82 73 82H97C98.6569 82 100 83.3431 100 85V97C100 98.6569 98.6569 100 97 100H73C71.3431 100 70 98.6569 70 97V85Z",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M58 82H34C32.3431 82 31 83.3431 31 85V97C31 98.6569 32.3431 100 34 100H58C59.6569 100 61 98.6569 61 97V85C61 83.3431 59.6569 82 58 82Z",fill:"#56CCF2",fillOpacity:"0.8"}),n.createElement("path",{d:"M36.7669 93V88.6364H38.3649C38.6746 88.6364 38.931 88.6875 39.1341 88.7898C39.3372 88.8906 39.4892 89.0277 39.5901 89.201C39.6909 89.3729 39.7413 89.5668 39.7413 89.7827C39.7413 89.9645 39.708 90.1179 39.6412 90.2429C39.5744 90.3665 39.4849 90.4659 39.3727 90.5412C39.2619 90.6151 39.1398 90.669 39.0063 90.7031V90.7457C39.1511 90.7528 39.2925 90.7997 39.4303 90.8864C39.5695 90.9716 39.6845 91.093 39.7754 91.2507C39.8663 91.4084 39.9118 91.6001 39.9118 91.826C39.9118 92.049 39.8592 92.2493 39.7541 92.4268C39.6504 92.603 39.4899 92.7429 39.2726 92.8466C39.0553 92.9489 38.7776 93 38.4395 93H36.7669ZM37.4253 92.4354H38.3756C38.6909 92.4354 38.9168 92.3743 39.0531 92.2521C39.1895 92.13 39.2577 91.9773 39.2577 91.794C39.2577 91.6562 39.2229 91.5298 39.1533 91.4148C39.0837 91.2997 38.9842 91.2081 38.855 91.1399C38.7271 91.0717 38.5751 91.0376 38.399 91.0376H37.4253V92.4354ZM37.4253 90.5241H38.3074C38.4551 90.5241 38.5879 90.4957 38.7058 90.4389C38.8251 90.3821 38.9196 90.3026 38.9892 90.2003C39.0602 90.0966 39.0957 89.9744 39.0957 89.8338C39.0957 89.6534 39.0325 89.5021 38.9061 89.38C38.7797 89.2578 38.5858 89.1967 38.3244 89.1967H37.4253V90.5241ZM42.7747 91.6428V89.7273H43.4139V93H42.7875V92.4332H42.7534C42.6781 92.608 42.5574 92.7536 42.3912 92.87C42.2264 92.9851 42.0212 93.0426 41.7754 93.0426C41.5652 93.0426 41.3791 92.9964 41.2172 92.9041C41.0567 92.8104 40.9302 92.6719 40.8379 92.4886C40.747 92.3054 40.7015 92.0788 40.7015 91.8089V89.7273H41.3386V91.7322C41.3386 91.9553 41.4004 92.1328 41.524 92.2649C41.6476 92.397 41.8081 92.4631 42.0055 92.4631C42.1248 92.4631 42.2435 92.4332 42.3613 92.3736C42.4807 92.3139 42.5794 92.2237 42.6575 92.103C42.7371 91.9822 42.7761 91.8288 42.7747 91.6428ZM45.8576 89.7273V90.2386H44.07V89.7273H45.8576ZM44.5494 88.9432H45.1864V92.0391C45.1864 92.1626 45.2049 92.2557 45.2418 92.3182C45.2788 92.3793 45.3264 92.4212 45.3846 92.4439C45.4443 92.4652 45.5089 92.4759 45.5785 92.4759C45.6296 92.4759 45.6744 92.4723 45.7127 92.4652C45.7511 92.4581 45.7809 92.4524 45.8022 92.4482L45.9173 92.9744C45.8803 92.9886 45.8278 93.0028 45.7596 93.017C45.6914 93.0327 45.6062 93.0412 45.5039 93.0426C45.3363 93.0455 45.18 93.0156 45.0352 92.9531C44.8903 92.8906 44.7731 92.794 44.6836 92.6634C44.5941 92.5327 44.5494 92.3686 44.5494 92.1712V88.9432ZM48.15 89.7273V90.2386H46.3624V89.7273H48.15ZM46.8418 88.9432H47.4789V92.0391C47.4789 92.1626 47.4973 92.2557 47.5343 92.3182C47.5712 92.3793 47.6188 92.4212 47.677 92.4439C47.7367 92.4652 47.8013 92.4759 47.8709 92.4759C47.922 92.4759 47.9668 92.4723 48.0051 92.4652C48.0435 92.4581 48.0733 92.4524 48.0946 92.4482L48.2097 92.9744C48.1728 92.9886 48.1202 93.0028 48.052 93.017C47.9838 93.0327 47.8986 93.0412 47.7963 93.0426C47.6287 93.0455 47.4725 93.0156 47.3276 92.9531C47.1827 92.8906 47.0655 92.794 46.976 92.6634C46.8865 92.5327 46.8418 92.3686 46.8418 92.1712V88.9432ZM50.2581 93.0661C49.9513 93.0661 49.6836 92.9957 49.4549 92.8551C49.2262 92.7145 49.0486 92.5178 48.9222 92.2649C48.7958 92.0121 48.7326 91.7166 48.7326 91.3786C48.7326 91.0391 48.7958 90.7422 48.9222 90.4879C49.0486 90.2337 49.2262 90.0362 49.4549 89.8956C49.6836 89.755 49.9513 89.6847 50.2581 89.6847C50.565 89.6847 50.8327 89.755 51.0614 89.8956C51.2901 90.0362 51.4677 90.2337 51.5941 90.4879C51.7205 90.7422 51.7837 91.0391 51.7837 91.3786C51.7837 91.7166 51.7205 92.0121 51.5941 92.2649C51.4677 92.5178 51.2901 92.7145 51.0614 92.8551C50.8327 92.9957 50.565 93.0661 50.2581 93.0661ZM50.2603 92.5312C50.4591 92.5312 50.6239 92.4787 50.7546 92.3736C50.8853 92.2685 50.9819 92.1286 51.0444 91.9538C51.1083 91.7791 51.1402 91.5866 51.1402 91.3764C51.1402 91.1676 51.1083 90.9759 51.0444 90.8011C50.9819 90.625 50.8853 90.4837 50.7546 90.3771C50.6239 90.2706 50.4591 90.2173 50.2603 90.2173C50.06 90.2173 49.8938 90.2706 49.7617 90.3771C49.631 90.4837 49.5337 90.625 49.4698 90.8011C49.4073 90.9759 49.376 91.1676 49.376 91.3764C49.376 91.5866 49.4073 91.7791 49.4698 91.9538C49.5337 92.1286 49.631 92.2685 49.7617 92.3736C49.8938 92.4787 50.06 92.5312 50.2603 92.5312ZM53.1919 91.0568V93H52.5548V89.7273H53.1663V90.2599H53.2068C53.2821 90.0866 53.4 89.9474 53.5605 89.8423C53.7224 89.7372 53.9263 89.6847 54.172 89.6847C54.395 89.6847 54.5903 89.7315 54.758 89.8253C54.9256 89.9176 55.0555 90.0554 55.1479 90.2386C55.2402 90.4219 55.2864 90.6484 55.2864 90.9183V93H54.6493V90.995C54.6493 90.7578 54.5875 90.5724 54.4639 90.4389C54.3403 90.304 54.1706 90.2365 53.9547 90.2365C53.807 90.2365 53.6756 90.2685 53.5605 90.3324C53.4469 90.3963 53.3567 90.4901 53.2899 90.6136C53.2246 90.7358 53.1919 90.8835 53.1919 91.0568Z",fill:"white"}),n.createElement("mask",{id:"mask0_1_30",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"20",y:"121",width:"107",height:"22"},n.createElement("path",{d:"M126.001 121H20.5566V143H126.001V121Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_1_30)",className:"oss_sales_upsell_modal--graphicLine--6Z-mU"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 143V121H74V143H73Z"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5566 121.477L20.5566 143L19.8759 142.267L39.8759 120.745L40.5566 121.477Z"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126 142.523L106 121L106.681 120.267L126.681 141.79L126 142.523Z"})))}let iv=[{key:1,elem:(0,T.tx)("oss_sales_upsell_overlay.feature1")},{key:2,elem:(0,T.tx)("oss_sales_upsell_overlay.feature2")},{key:3,elem:(0,T.tx)("oss_sales_upsell_overlay.feature3")}],ib=(0,iE.Ju)(function({onDismiss:e}){let t=(0,y.md)(ei.yV),a=(0,s.wA)();return n.createElement(tq.Rw,{isLoading:!t?.teamId,confirmationTitle:(0,T.tx)("oss_sales_upsell_overlay.title"),titleClass:"oss_sales_upsell_modal--title--wpaS5",confirmText:(0,T.tx)("oss_sales_upsell_overlay.primary_cta"),cancelText:(0,T.tx)("oss_sales_upsell_overlay.secondary_cta"),onConfirm:()=>{if(!t?.teamId)return;let e=eT.b.LIBRARY_DUPLICATE_OSS_SALES_UPSELL;a((0,ev.to)({type:ey.V,data:{upsellSource:e,teamId:t.teamId,isProCurrent:!0,overrideHighlightedPlan:"none",openCheckoutInNewTab:!0}}))},onCancel:()=>{a((0,ev.to)({type:ih.lk,data:{source:ih.B7.LIBRARY_DUPLICATE_OSS_SALES_UPSELL,overridePlaceholderText:(0,T.t)("oss_sales_upsell_overlay.contact_sales_form.text_placeholder")}}))},onCloseButtonClick:e,className:"oss_sales_upsell_modal--modal--fdI6U",overrideOnHide:e,hideOnConfirm:!1,hideOnCancel:!1,autoFocusCta:!1},n.createElement("div",{className:x.cx.lh24.font13.pt24.pr0.pb32.pl0.$},n.createElement(ig.Y,{spacing:"40px"},n.createElement(ig.Y,{direction:"vertical",spacing:"12px"},n.createElement("p",null,(0,T.tx)("oss_sales_upsell_overlay.body1")),n.createElement(ig.Y,{direction:"vertical",spacing:8},n.createElement("p",{className:x.cx.fontSemiBold.$},(0,T.tx)("oss_sales_upsell_overlay.body2")),n.createElement(ig.Y,{direction:"vertical",spacing:8},iv.map(e=>n.createElement(ig.Y,{key:e.key,spacing:8,horizontalAlignItems:"start"},n.createElement("p",null,"\u2713"),n.createElement("p",null,e.elem))))),n.createElement("p",{className:x.cx.pt4.$},(0,T.tx)("oss_sales_upsell_overlay.body3"))),n.createElement("div",{className:x.cx.mr16.$},n.createElement(iy,null)))),n.createElement("div",{className:x.cx.bt1.colorBorder.bSolid.$}))},"OssSalesUpsellModal");function iC(){let e=(0,y.md)(ei.As),t=(0,y.md)(ei.ze);return e&&t?n.createElement(iw,{teamId:e,fileKey:t}):null}function iw({teamId:e,fileKey:t}){let a=(0,s.wA)(),l=(0,y.md)(ek.M$),i=(0,nr.Rs)(no.TNJ,{id:e}),o=(0,u.e)({overlay:f.jRE,priority:m.N.DEFAULT_MODAL},[l,i]),c=r.tl().user_data,d=c?.email,p=(0,ip.HS)(d);return(0,tg.h)(()=>{o.show({canShow:(e,a)=>!!(p&&(0,i_.nN)(t)&&!e&&a.team?.hasPermission)})}),(0,n.useEffect)(()=>{o.isShowing&&(0,i_.wj)()},[p,o.isShowing]),n.createElement(ez.h,{isShowing:o.isShowing,modalType:eX.q3.FEATURE_UPDATE,element:function(e){return(0,tg.h)(()=>{a((0,ev.to)({type:ib,data:{onDismiss:e.dismissModal}}))}),n.createElement("div",null)},trackingContextName:"oss_sales_upsell_overlay",onClickPrimaryCta:t8.lQ,onClose:o.complete,onManualDismiss:o.complete,testId:"oss_sales_upsell_overlay_test_id"})}var ik=a(862442),ix=a(433861);function iT(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.Q8d,priority:m.N.DEFAULT_MODAL}),l=!!(0,ed.f)("seen_pinned_comments_education_callout"),i=!!(0,ed.f)("has_toggled_comment_pin"),o=(0,ei.q5)(),s=(0,tT.TA)(),c=n.useContext(ix.kw),d=(0,ik.Z)();return((0,ew.E)(r,"Context Viewed",t=>{t.properties?.name==="Editor > Pin comment icon"&&e({canShow:()=>!l&&o?.creatorId===s&&!i,onShow:()=>{let{offsetX:e,offsetY:t,zoomScale:a}=c.getViewportInfo();d({centerX:e,centerY:t-72/a,scale:a})}})}),t)?n.createElement("div",{onClick:()=>{a()},role:"button",tabIndex:0},n.createElement(eR.rq,{userFlagOnShow:"seen_pinned_comments_education_callout",description:n.createElement("div",{className:x.cx.alignCenter.$},(0,T.tx)("comments.pinning.pinned_comments_always_show_up_first_great_for_a_project_intro_or_important_info")),onClose:()=>a(),trackingContextName:"Pinned Comments Creator Education Callout",targetKey:"pin-comment-icon",isShowing:t,arrowPosition:aC.F_.BOTTOM,width:320,disableHighlight:!0,emphasized:!0,hideCloseButton:!0,pointerOffsetOverride:196,zIndex:eL.R.UNSET,onTargetLost:()=>a()})):null}function iN(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.S$N,priority:m.N.DEFAULT_MODAL}),l=(0,s.wA)(),i=!!(0,ed.f)("seen_pinned_comments_navigation_callout"),o=(0,ei.q5)(),d=(0,tT.TA)(),p=t&&!i;n.useEffect(()=>{p&&l(c.b({seen_pinned_comments_navigation_callout:!0}))},[l,p]);let _=n.useContext(ix.kw),g=(0,ik.Z)();return((0,ew.E)(r,"Context Viewed",n=>{n.properties?.name==="Editor > Pin comment icon"&&(t&&i&&n.properties?.isPinned&&a(),e({canShow:()=>!i&&o?.creatorId!==d&&!!n.properties?.isPinned,onShow:()=>{let{offsetX:e,offsetY:t,zoomScale:a}=_.getViewportInfo();g({centerX:e,centerY:t-72/a,scale:a})}}))}),t)?n.createElement("div",{onClick:()=>{a()},role:"button",tabIndex:0},n.createElement(eR.rq,{userFlagOnShow:"seen_pinned_comments_education_callout",description:n.createElement("div",{className:x.cx.justifyCenter.alignCenter.$},(0,T.tx)("comments.pinning.feedback_giver_callout")),onClose:()=>a(),trackingContextName:"Pinned Comments Feedback Giver Education Callout",targetKey:"thread-header-left-section",isShowing:t,arrowPosition:aC.F_.BOTTOM,width:320,disableHighlight:!0,emphasized:!0,hideCloseButton:!0,pointToLeftEdge:!0,pointerOffsetOverride:20,zIndex:eL.R.UNSET,onTargetLost:()=>a()})):null}var iS=a(384303),iI=a(963067),iA=a(212957),iL=a(507956),iO=a(258751),iM=a(787523),iP=a(428467),iR=a(338400),iD=a(442617),iF=a(611047),iB=a(66154);let iU=iF.qv.AUDIO,iG=iF.qQ.getOnboardingStepTriggerEventId(iU),iH=iF.qQ.getOnboardingStepUserFlag(iU),iV=(0,ex.r1)(iH);function iK(e){let t=(0,y.md)(iV),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.U3h,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,s.d4)(e=>e.openFile?.key&&!!e.voice.activeCall[e.openFile.key]),g=(0,s.d4)(e=>{let{allUsers:t,deviceNameFilter:a}=e.multiplayer;return new Set(t.filter(e=>e.deviceName===a).map(e=>e.userID)).size}),h=(0,n.useCallback)(()=>o(c.b({[iH]:!0})),[o]);return(0,ew.E)(i,[nM.M8],(0,n.useCallback)(()=>{g<2||p||a({canShow:e=>!e,onShow:h})},[a,h,p,g])),(0,ew.E)(i,[iG],(0,n.useCallback)(()=>{a({onBlocked:e=>iF.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,iU)})},[a])),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext(iU),properties:iA.S.getTrackingProperties()},n.createElement(iB.Mi,{dismissModal:l})))}let iz=iF.qv.COMPONENT_PUBLISHING,iW=iF.qQ.getOnboardingStepTriggerEventId(iz),ij=iF.qQ.getOnboardingStepUserFlag(iz),iq=(0,ex.r1)(ij);function iY(e){let t=(0,y.md)(iq),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.K_4,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,n.useCallback)(()=>o(c.b({[ij]:!0})),[o]);return(0,ew.E)(i,["action_create_symbol"],(0,n.useCallback)(()=>{a({onShow:p,canShow:e=>!e})},[a,p])),(0,ew.E)(i,[iW],(0,n.useCallback)(()=>{a({onBlocked:e=>iF.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,iz)})},[a])),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext(iz),properties:iA.S.getTrackingProperties()},n.createElement(iB.Ec,{dismissModal:l})))}var iX=a(707465);let iJ=iF.qv.OPEN_SESSIONS,iZ=iF.qQ.getOnboardingStepTriggerEventId(iJ),iQ=iF.qQ.getOnboardingStepUserFlag(iJ),i$=(0,ex.r1)(iQ);function i0(e){let t=(0,y.md)(i$),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.bJw,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,s.d4)(e=>(0,iX.zg)(e.selectedView)),g=(0,s.d4)(e=>e.modalShown?.type===na.g_.type),h=(0,nw.ZC)(g),E=(0,n.useCallback)(()=>o(c.b({[iQ]:!0})),[o]);return(0,ew.E)(i,["multiplayer_toolbar_share_button"],(0,n.useCallback)(()=>{p||a({onShow:E,canShow:e=>!e})},[a,E,p])),(0,ew.E)(i,[iZ],(0,n.useCallback)(()=>{a({onShow:()=>o((0,ev.to)({type:na.g_,data:{source:nt.nk.expProTrialsV3CardStackWidget}})),onBlocked:e=>iF.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,iJ)})},[a,o])),n.useEffect(()=>{!g&&h&&l()},[l,g,h]),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext(iJ),properties:iA.S.getTrackingProperties()},n.createElement(iB.Nm,{dismissModal:l})))}let i1=iF.qv.PASSWORD_PROTECTION,i2=iF.qQ.getOnboardingStepTriggerEventId(i1),i5=iF.qQ.getOnboardingStepUserFlag(i1),i3=iF.qQ.getOnboardingStepUserFlag(iF.qv.OPEN_SESSIONS),i4=(0,ex.r1)(i5),i6=(0,ex.r1)(i3);function i7(e){let t=(0,y.md)(i4),a=(0,y.md)(i6),{show:r,isShowing:l,complete:i,uniqueId:o}=(0,u.e)({overlay:f.GUu,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t,a]),p=(0,s.wA)(),g=(0,s.d4)(e=>(0,ni.XE)(e.selectedView)===aa.nT.Whiteboard),h=(0,s.d4)(e=>(0,iX.zg)(e.selectedView)),E=(0,s.d4)(e=>e.modalShown?.type===na.g_.type),v=(0,nw.ZC)(E),b=(0,n.useCallback)(()=>p(c.b({[i5]:!0})),[p]);return(0,ew.E)(o,["multiplayer_toolbar_share_button"],(0,n.useCallback)(()=>{h||r({onShow:b,canShow:(e,t)=>!e&&(!g||!!t)})},[r,b,g,h])),(0,ew.E)(o,[i2],(0,n.useCallback)(()=>{r({onShow:()=>p((0,ev.to)({type:na.g_,data:{source:nt.nk.expProTrialsV3CardStackWidget}})),onBlocked:e=>iF.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,i1)})},[r,p])),n.useEffect(()=>{!E&&v&&i()},[i,E,v]),n.createElement(_.M,{isShowing:l},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext(i1),properties:iA.S.getTrackingProperties()},n.createElement(iB._G,{dismissModal:i})))}let i8=iF.qv.UNLIMITED_PAGES,i9=iF.qQ.getOnboardingStepTriggerEventId(i8),oe=iF.qQ.getOnboardingStepUserFlag(i8),ot=(0,ex.r1)(oe);function oa(e){let t=(0,y.md)(ot),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.fR0,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,n.useCallback)(()=>o(c.b({[oe]:!0})),[o]);return(0,tg.h)(()=>{a({onShow:p,canShow:e=>!e})}),(0,ew.E)(i,[i9],(0,n.useCallback)(()=>{a({onBlocked:e=>iF.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,i8)})},[a])),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext(i8),properties:iA.S.getTrackingProperties()},n.createElement(iB.BI,{dismissModal:l})))}var on=a(738269),or=a(157147),ol=a(485861);let oi=iF.qv.VIDEO,oo=iF.qQ.getOnboardingStepTriggerEventId(oi),os=iF.qQ.getOnboardingStepUserFlag(oi),oc=(0,ex.r1)(os);function od(e){let t=(0,y.md)(oc),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.juT,priority:m.N.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),o=(0,s.wA)(),p=(0,s.d4)(e=>e.dropdownShown?.type==="flyout-dropdown-shape-flyout"),g=(0,nw.ZC)(p),h=(0,n.useCallback)(()=>o(c.b({[os]:!0})),[o]);return(0,n.useEffect)(()=>{p&&a({onShow:h,canShow:e=>!e})},[a,h,p]),(0,ew.E)(i,[oo],(0,n.useCallback)(()=>{let e=(0,ol.xT)("shape-flyout");e&&a({onShow:()=>o(on.j7({type:"flyout-dropdown-shape-flyout",data:{items:or.yY.children,targetRect:e.getBoundingClientRect()}})),onBlocked:e=>iF.qQ.trackActivelyTriggeredOnboardingStepBlocked(e,oi)})},[a,o])),n.useEffect(()=>{g&&!p&&r&&l()},[g,p,l,r]),n.createElement(_.M,{isShowing:r},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext(oi),properties:iA.S.getTrackingProperties()},n.createElement(iB.Lz,{dismissModal:l})))}let ou="seen_pro_onboarding_variables_overlay",om=(0,ex.r1)(ou);function op(){let e=(0,y.md)(om),t=(0,eb.kO)(),{show:a,isShowing:r,complete:l}=(0,u.e)({overlay:f.wwW,priority:m.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:e=>!e}},[e]);return(0,tg.h)(()=>{a()}),n.createElement(_.M,{isShowing:r,userFlagOnShow:ou},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext("Variables"),properties:iA.S.getTrackingProperties()},n.createElement(iB.rQ,{dismissModal:l})))}let o_="seen_pro_onboarding_voting_overlay",of=(0,ex.r1)(o_);function og(){let e=(0,y.md)(of),t=(0,eb.kO)(),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,u.e)({overlay:f.oyU,priority:m.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:e=>!e}},[e]),o=(0,s.d4)(e=>!!e.modalShown),c=(0,s.d4)(e=>{let{allUsers:t,deviceNameFilter:a}=e.multiplayer;return new Set(t.filter(e=>e.deviceName===a).map(e=>e.userID)).size});return(0,ew.E)(i,[nM.M8],(0,n.useCallback)(()=>{o||c<2||a()},[a,o,c])),n.createElement(_.M,{isShowing:r,userFlagOnShow:o_},n.createElement(d.fu,{name:iA.S.getTooltipTrackingContext("Voting"),properties:iA.S.getTrackingProperties()},n.createElement(iB.lj,{dismissModal:l})))}function oh(e){let{teamId:t,isDesignEditor:a,isFigJamEditor:r}=e,l=function(){let e=(0,y.md)(iO.P),t=(0,iL.ks)(),a=(0,eU.p8)("showUi"),n=(0,eU.aV)(),r=(0,s.d4)(e=>e.openFile),l=(0,s.d4)(e=>e.selectedView),i=(0,s.d4)(e=>e.userFlags),o=(0,s.d4)(e=>e.notifications.length>0);return!!r&&!!r.editorType&&!!r.canEdit&&iA.S.canSeeOnboardingInFile({editorType:r.editorType,selectedView:l,showStarterKit:e!==iM.iH.FALSE,userFlags:i,hasNotifications:o,isDevHandoffView:t,isAppUiShown:a,isLoading:n})}(),i=(0,ei.q5)(),o=(0,s.d4)(e=>e.teams[t])||null,c=(0,iI.yy)()||null,d=i?.editorType||null,u=(0,s.d4)(e=>(0,iP.canEditTeam)(t,e)),m=(0,iR.Lk)(),p=(0,iD.M_)({team:o,org:c,editorType:d}),_=(0,eb.kO)();return l&&o&&o.pro_team&&u?n.createElement("div",{"data-testid":"proOnboardingOverlayWrapper"},n.createElement(i7,{experimentCheck:_}),m&&n.createElement(iK,{experimentCheck:_}),a&&n.createElement(iY,{experimentCheck:_}),a&&n.createElement(oa,{experimentCheck:_}),a&&n.createElement(od,{experimentCheck:_}),r&&p&&n.createElement(i0,{experimentCheck:_}),r&&n.createElement(og,null),a&&n.createElement(op,null)):null}var oE=a(498270);function oy(e){let{teamId:t,isDesignEditor:a,isFigJamEditor:r}=e,l=(0,oE.i)(t),i=(0,ei.q5)(),o=(0,s.d4)(e=>e.teams[t])||null,c=(0,iI.yy)()||null,d=i?.editorType||null,u=(0,iR.Lk)(),m=(0,iD.M_)({team:o,org:c,editorType:d});return l?n.createElement("div",{"data-testid":"proTrialsV3EditorOverlayWrapper"},n.createElement(i7,null),u&&n.createElement(iK,null),a&&n.createElement(iY,null),a&&n.createElement(oa,null),a&&n.createElement(od,null),r&&m&&n.createElement(i0,null)):null}var ov=a(373119),ob=a(279994),oC=a(520177),ow=a(5231),ok=a(983238);let ox="seen_figjam_section_preset_picker_callout",oT=(0,ex.Fu)(ox),oN=e=>(0,s.d4)(t=>{if(!e)return!1;let a=Object.keys(t.mirror.sceneGraphSelection);return 1===a.length&&a[0]===e});function oS({sectionNodeId:e,isShowing:t,complete:a}){let r=(0,O._X)({subscribeToUpdates_expensive:!0}),l=U.q.instance.get(e);if(!l)return null;let i=l.sectionPresetPickerCalloutPosition;if(isNaN(i.x)||isNaN(i.y))return null;let o=(0,O.Z0)(r,i,!0),s=parseFloat(ok._1),c={top:o.y+r.y+s+2,left:o.x+r.x-150,pointerOffset:150-s,pointerPosition:aC.F_.TOP};return n.createElement(eR.rq,{isShowing:t,userFlagOnShow:ox,fixedPosition:!0,location:c,onClose:a,clickOutsideToHide:!0,trackingContextName:"section_preset_picker_callout",title:(0,T.tx)("whiteboard.section_presets_onboarding.picker_callout.title"),description:(0,T.tx)("whiteboard.section_presets_onboarding.picker_callout.description"),primaryCta:{label:(0,T.tx)("rcs.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:eC.c.GOT_IT},width:300})}function oI(){let e=(0,ov.q)(),t=(0,y.md)(oC.w),a=(0,y.md)(ow.m5),r=(0,y.md)(oT),l=(0,n.useRef)({numShown:0,hasLoggedToSentry:!1}),[i,o]=(0,n.useState)(null),s=oN(i),{show:c,isShowing:d,complete:p}=(0,u.e)({overlay:f.Byv,priority:m.N.DEFAULT_MODAL},[a,r]);return((0,n.useEffect)(()=>{t&&i&&s&&e&&c({canShow:(e,t)=>!!e&&!t})},[c,e,t,i,s]),(0,n.useEffect)(()=>{if("loaded"===r.status&&!r.data&&"loaded"===a.status&&a.data)return(0,ob.H)(function(e){o(e)})},[r,a]),(0,n.useEffect)(()=>{d&&l.current.numShown++,l.current.numShown>1&&!l.current.hasLoggedToSentry&&(l.current.hasLoggedToSentry=!0,(0,rN.x1)("SectionPresetPickerCallout","Callout shown more than once, this should not happen. Please investigate.",void 0,{reportAsSentryError:!0}))},[d]),d&&i)?n.createElement(oS,{sectionNodeId:i,isShowing:d,complete:p}):null}function oA({isShowing:e,onPrimaryCtaClick:t,onClose:a}){return n.createElement(eR.rq,{testId:"share-to-google-classroom-onboarding",isShowing:e,trackingContextName:"Share to Google Classroom Onboarding",targetKey:"share",title:(0,T.tx)("whiteboard.google_classroom.onboarding.header"),description:(0,T.tx)("whiteboard.google_classroom.onboarding.body"),media:n.createElement(eI.y,{src:"https://static.figma.com/uploads/90c10991400b728428a200de3b347bba3f6d1d1e",alt:(0,T.t)("whiteboard.google_classroom.onboarding.image_alt"),aspectRatio:300/169}),primaryCta:{label:(0,T.tx)("whiteboard.google_classroom.onboarding.show_me"),type:"button",onClick:t,ctaTrackingDescriptor:eC.c.SHOW_ME},onClose:a})}function oL(){let e=(0,s.wA)(),t=ns({}),a=(0,y.md)(nm),r=(0,y.md)(n_),l=(0,y.md)(nf),i=(0,y.md)(ng),o=(0,y.md)(nn.Ij),{show:d,isShowing:p,complete:_}=(0,u.e)({overlay:f.Y2_,priority:m.N.DEFAULT_MODAL},[r,a,l,i,t]);n.useEffect(()=>{d({onShow:()=>{e(c.b({[nu]:!0}))},canShow:(e,t,a,n,r)=>!e&&!t&&!a&&n&&r})},[t,e,d]),n.useEffect(()=>{r.data&&_()},[r,_]);let{currentStep:g,next:h}=(0,eG.A)({numSteps:2,onComplete:_}),E=function({isShowing:e,next:t,complete:a}){let r=(0,s.wA)(),l=(0,ei.q5)();return[n.createElement(oA,{key:"share-to-google-classroom-existing-user-callout",onPrimaryCtaClick:()=>{if(!l){a();return}r((0,ev.to)({type:na.g_,data:{fileKey:l.key,source:nt.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:a,isShowing:e}),n.createElement(nd,{key:"share-to-google-classroom-share-option-pointer",isShowing:e,onClose:a})]}({isShowing:p,next:h,complete:_});return n.useEffect(()=>{o&&p&&0===g&&h()},[g,p,o,h]),n.createElement(eK.U,{currentStep:g,isShowing:p,children:E})}var oO=a(147723);let oM=240/135,oP=m.N.HIGH_PRIORITY_MODAL+3,oR="seen_exit_ui3_ai_help_callout";function oD(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.Pke,priority:oP}),l=!!(0,ed.f)(oR);return(0,ew.E)(r,oO.p,()=>{e({canShow:()=>!l})}),n.createElement(eR.rq,{userFlagOnShow:oR,description:n.createElement("div",{className:x.cx.pr8.$},n.createElement("div",{className:x.cx.colorTextTooltip.textBodyMediumStrong.$},(0,T.tx)("ui3_and_ai_callouts.exit_ui3_ai.title")),n.createElement("div",{className:x.cx.colorTextTooltipSecondary.$},(0,T.tx)("ui3_and_ai_callouts.exit_ui3_ai.description"))),onClose:()=>a(),trackingContextName:"Exit UI3 AI Help Callout",targetKey:eY.J_,isShowing:t,arrowPosition:aC.F_.BOTTOM,disableHighlight:!0,hideCloseButton:!0,onTargetLost:()=>a(),testId:"exitUi3HelpCallout",isTooltip:!0})}let oF="seen_exit_ui3_help_callout";function oB(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,u.e)({overlay:f.$lu,priority:oP}),l=!!(0,ed.f)(oF);return(0,ew.E)(r,oO.e7,()=>{e({canShow:()=>!l})}),n.createElement(eR.rq,{userFlagOnShow:oF,description:n.createElement("div",{className:x.cx.pr8.$},n.createElement("div",{className:x.cx.colorTextTooltip.textBodyMediumStrong.$},(0,T.tx)("ui3_and_ai_callouts.exit_ui3.title")),n.createElement("div",{className:x.cx.colorTextTooltipSecondary.$},(0,T.tx)("ui3_and_ai_callouts.exit_ui3.description",{back_to_old_design_option:n.createElement("div",{className:x.cx.textBodyMediumStrong.$},(0,T.tx)("ui3_and_ai_callouts.exit_ui3.back_to_old_design_option"))}))),onClose:()=>a(),trackingContextName:"Exit UI3 Help Callout",targetKey:eY.J_,isShowing:t,arrowPosition:aC.F_.BOTTOM,disableHighlight:!0,hideCloseButton:!0,onTargetLost:()=>a(),testId:"exitUi3HelpCallout",isTooltip:!0})}var oU=a(256975),oG=a(964881),oH=a(69961),oV=a(86719),oK=a(239737),oz=a(321961),oW=a(74487);let oj="has_onboarded_ui3",oq="has_onboarded_ai",oY="did_sign_up_as_ui3_user";function oX(){let e=!!(0,r.kc)().ui3_and_ai_welcome_modal,t=(0,oW.$)(),a=(0,oW.Q)(),n=t&&a,l=(0,ni.E3)(),i=l===aa.nT.Design,s=(0,oz.q)(),c=l===aa.nT.DevHandoff&&!s,d=(0,o.Mq)(),u=(0,I.GS)();return e&&(i||c)&&u?{shouldShowUI3AndAIModal:n&&d,shouldShowUI3OnlyModal:a&&(!t||!d),shouldShowAIOnlyModal:n&&d}:{shouldShowUI3AndAIModal:!1,shouldShowUI3OnlyModal:!1,shouldShowAIOnlyModal:!1}}var oJ=a(520607),oZ=a(384775);function oQ(e,t){(0,tg.h)(()=>{e(c.b({[t]:!0}))})}let o$=n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/acb6a1c0e3ac6be7b238b37570ad0496ff594610",aspectRatio:oM,width:240});function o0({onClose:e,isShowing:t,onTargetLost:a}){return oQ((0,s.wA)(),oO.jx),n.createElement(eR.rq,{isShowing:t,targetKey:oO.Ij,trackingContextName:"UI3/AI Onboarding > AI",onClose:e,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_tour.ai_callout.title"),description:(0,T.tx)("ui3_and_ai_tour.ai_callout.description"),media:o$,primaryCta:{type:"button",label:(0,T.tx)("ui3_and_ai_tour.ai_callout.show_me"),onClick:()=>{(0,oZ.$I)({trackingData:{source:"onboarding_ai_callout_component"}}),e()},ctaTrackingDescriptor:eC.c.SHOW_ME},secondaryCta:{type:"link",label:(0,T.tx)("ui3_and_ai_tour.ai_callout.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:eC.c.AI_PLAYGROUND},testId:oO.T4,highlightBlue:!0,onTargetLost:a})}var o1=a(260906),o2=a(511617),o5=a(1049),o3=a(556261),o4=a(56099),o6=a(36816),o7=a(279145);let o8=n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/acb6a1c0e3ac6be7b238b37570ad0496ff594610",aspectRatio:oM,width:240});function o9({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){let o=(0,s.wA)();return oQ(o,oO.jx),oQ(o,oO.pN),n.createElement(eR.rq,{isShowing:a,testId:oO.T2,targetKey:oO.Ij,trackingContextName:"UI3/AI Onboarding > Toolbar with AI",onClose:t,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_tour.toolbar_with_ai.title"),description:n.createElement("span",{className:x.cx.preWrap.$},(0,T.tx)("ui3_and_ai_tour.toolbar_with_ai.description",{actions:n.createElement("strong",null,(0,T.tx)("ui3_and_ai_tour.actions"))})),media:o8,stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{type:"link",label:(0,T.tx)("ui3_and_ai_tour.toolbar_with_ai.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:eC.c.AI_PLAYGROUND},highlightBlue:!0,onTargetLost:i})}let se=n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/1530d9f6ebfd38448a0c74c5b5077a5f2b9a271e",aspectRatio:oM,width:240});function st({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),oO.pN),n.createElement(eR.rq,{isShowing:a,testId:oO.hM,targetKey:oO.Ij,trackingContextName:"UI3/AI Onboarding > Toolbar without AI",onClose:t,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_tour.toolbar_without_ai.title"),description:n.createElement("span",{className:x.cx.preWrap.$},(0,T.tx)("ui3_and_ai_tour.toolbar_without_ai.description",{actions:n.createElement("strong",null,(0,T.tx)("ui3_and_ai_tour.actions"))})),media:se,stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{type:"link",label:(0,T.tx)("general.learn_more"),href:"https://help.figma.com/hc/en-us/articles/360041064174-Access-design-tools-from-the-toolbar",ctaTrackingDescriptor:eC.c.LEARN_MORE},highlightBlue:!0,onTargetLost:i})}let sa=n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/48302e800da0dcfe895346a2e008912fbe371b26",aspectRatio:oM,width:240});function sn({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),oO.pN),n.createElement(eR.rq,{isShowing:a,targetKey:oO.hH,testId:oO.W_,trackingContextName:"UI3/AI Onboarding > Toolbar view only",onClose:t,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_tour.toolbar_view_only.title"),description:(0,T.tx)("ui3_and_ai_tour.toolbar_view_only.description"),media:sa,stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,disableHighlight:!0,onTargetLost:i})}let sr=n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/5aec067cec384a36a40e18c66ea26d3f87908092",aspectRatio:oM,width:240});function sl({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){let o=(0,s.wA)(),d=(0,y.md)(tk.wg),u=(0,o3.wy)({migrationGroup:o4.L.GROUP_1,component:"DevModeCallout",attribute:"paidStatus",legacy:(e,t)=>t?.design_paid_status===at.El.FULL||e?.design_paid_status===o6.Zf.FULL,migrated:e=>e?.designPaidStatus===at.dQ.FULL}),m=1===l,p=(0,eU.p8)("keyboardShortcuts"),_=n.createElement(ak.S,{shortcut:(0,o7.c1)(p,"enter-inspect-mode")}),f=m&&(d||u)?(0,T.tx)("ui3_and_ai_tour.dev_mode_toggle_editor_callout.description",{toggleDevModeKeyCommand:_}):(0,T.tx)("ui3_and_ai_tour.dev_mode_toggle_callout.description",{toggleDevModeKeyCommand:_}),g=(0,ed.f)(oO.pN);return(0,tg.h)(()=>{m?o(c.b({[oO.TT]:!0})):g||o(c.b({[oO.pN]:!0}))}),n.createElement(eR.rq,{isShowing:a,testId:oO.e0,targetKey:eY.ON,trackingContextName:m?"Dev mode callout":"UI3/AI Onboarding > Dev Mode",onClose:t,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_tour.dev_mode_callout.title"),description:n.createElement("span",null,f),media:sr,stepCounter:m?void 0:{stepNum:r,totalNumSteps:l},primaryCta:e,highlightBlue:!0,onTargetLost:i})}function si({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),oO.pN),n.createElement(eR.rq,{isShowing:a,testId:oO.zW,targetKey:oO.ue,trackingContextName:"UI3/AI Onboarding > Resize or Minimize",onClose:t,arrowPosition:aC.F_.LEFT_TITLE,title:(0,T.tx)("ui3_and_ai_callouts.resize_or_minimize.title"),description:n.createElement("span",null,(0,T.tx)("ui3_and_ai_callouts.resize_or_minimize.description",{minimizeUI:n.createElement("span",{className:x.cx.inlineFlex.itemsCenter.$},n.createElement("div",{className:"design_steps--minimizeUIIcon--EFBdo"},n.createElement(o1.O,null)),n.createElement("strong",{className:x.cx.pl24.$},(0,T.tx)("ui3_and_ai_callouts.resize_or_minimize.minimize_ui")))})),media:n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/153732307961af828ec166c51c12e01ad44cbe2f",aspectRatio:oM,width:240}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:void 0,highlightBlue:!0,onTargetLost:i})}function so({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),oO.pN),n.createElement(eR.rq,{isShowing:a,testId:oO.U7,targetKey:oO.D9,trackingContextName:"UI3/AI Onboarding > Refreshed properties",onClose:t,arrowPosition:aC.F_.RIGHT_BODY,title:(0,T.tx)("ui3_and_ai_callouts.refreshed_properties.title"),description:(0,T.tx)("ui3_and_ai_callouts.refreshed_properties.description"),media:n.createElement(oJ.Jm,{src:"https://static.figma.com/uploads/d0a1b9bbdccdd25601052b98f6d5ff0f72e91bff",aspectRatio:oM,width:240}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{label:(0,T.tx)("general.learn_more"),type:"button",ctaTrackingDescriptor:eC.c.LEARN_MORE,onClick:()=>(0,o2.FJ)("https://help.figma.com/hc/en-us/articles/360039832014-Design-prototype-and-explore-layer-properties-in-the-right-sidebar","_blank")},highlightBlue:!0,onTargetLost:i})}function ss({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),oO.pN),n.createElement(eR.rq,{isShowing:a,testId:oO.EB,targetKey:oO.hH,trackingContextName:"UI3/AI Onboarding > Ask to edit",onClose:t,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_callouts.ask_to_edit.title"),description:(0,T.tx)("ui3_and_ai_callouts.ask_to_edit.description"),media:n.createElement(eI.y,{src:"https://static.figma.com/uploads/6629092993720542f2e7befaccf593e6e604551b",alt:"Ask to edit in toolbar",aspectRatio:oM}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,highlightBlue:!0,onTargetLost:i})}function sc({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),(0,iL.ks)()?oO.qM:oO.pN),n.createElement(eR.rq,{isShowing:a,testId:oO.DX,targetKey:o5.Z8,trackingContextName:"UI3/AI Onboarding > Help resources",onClose:t,arrowPosition:aC.F_.RIGHT_BODY,title:(0,T.tx)("ui3_and_ai_callouts.help.title"),description:n.createElement("span",{className:x.cx.preWrap.$},(0,T.tx)("ui3_and_ai_callouts.help.description")),media:n.createElement(eI.y,{src:"https://static.figma.com/uploads/bda3ec9e88a20e645af9aa542d2f13c8fe04c4db",alt:"image of the help widget with the menu expanded",aspectRatio:oM}),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:void 0,highlightBlue:!0,onTargetLost:i})}function sd({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){let o=(0,s.wA)();return oQ(o,oO.Ih),oQ(o,oO.qM),n.createElement(eR.rq,{isShowing:a,testId:oO.xd,targetKey:oO.o5,trackingContextName:"UI3/AI Onboarding > Ready for Dev",onClose:t,arrowPosition:aC.F_.LEFT_TITLE,title:(0,T.tx)("ui3_and_ai_tour.ready_for_dev.title"),description:(0,T.tx)("ui3_and_ai_tour.ready_for_dev.description"),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,secondaryCta:{type:"link",label:(0,T.tx)("general.learn_more"),href:"https://help.figma.com/hc/en-us/articles/23918228264855",ctaTrackingDescriptor:eC.c.LEARN_MORE},disableHighlight:!0,onTargetLost:i})}function su({primaryCta:e,onClose:t,isShowing:a,stepNum:r,totalNumSteps:l,onTargetLost:i}){return oQ((0,s.wA)(),oO.qM),n.createElement(eR.rq,{isShowing:a,testId:oO.j1,targetKey:oO.aE,trackingContextName:"UI3/AI Onboarding > Toolbar in Dev Mode",onClose:t,arrowPosition:aC.F_.BOTTOM,title:(0,T.tx)("ui3_and_ai_tour.toolbar_dev_mode.title"),description:(0,T.tx)("ui3_and_ai_tour.toolbar_dev_mode.description"),stepCounter:{stepNum:r,totalNumSteps:l},primaryCta:e,disableHighlight:!0,onTargetLost:i})}var sm=a(233387);function sp({onClose:e,isShowing:t,onTargetLost:a}){return oQ((0,s.wA)(),oO.af),n.createElement(eR.rq,{title:(0,T.tx)("ui3_and_ai_callouts.fragment_search.title"),description:(0,T.tx)("ui3_and_ai_callouts.fragment_search.description"),primaryCta:{type:"button",label:(0,T.tx)("ui3_and_ai_callouts.fragment_search.cta"),onClick:()=>{(0,sm.Bd)(),e()},ctaTrackingDescriptor:eC.c.TRY_IT_OUT},onClose:()=>e(),trackingContextName:"Fragment Search Callout",targetKey:oO.Ij,isShowing:t,arrowPosition:aC.F_.BOTTOM,highlightBlue:!0,testId:"fragmentSearchCallout",onTargetLost:a})}var s_=a(634832),sf=a(168039),sg=a(694687);let sh="https://static.figma.com/uploads/7d9b7756fe36b9026b905b376304df5075524455",sE="https://static.figma.com/uploads/3204fbc71d9f4e689987acfb4166d88b7107273d",sy="https://static.figma.com/uploads/d9343cbdcd73dbbc6573e25e38b6b74682f31107";var sv=(e=>(e.UI3_ONLY="UI3_ONLY",e.AI_ONLY="AI_ONLY",e.UI3_AND_AI="UI3_AND_AI",e))(sv||{});function sb(e,t){e(c.b({has_onboarded_ai:t}))}function sC(e,t){e(c.b({has_onboarded_ui3:t}))}function sw({label:e,href:t}){return n.createElement("a",{href:t,className:x.cx.colorTextBrand.cursorPointer.$,target:"_blank"},e)}function sk({variant:e,onClose:t,onStartTour:a}){let r=(0,s.wA)(),l=(0,sg.sL)(),i=(0,n.useMemo)(()=>n.createElement(sw,{label:(0,T.tx)("ui3_and_ai_welcome.learn_more_ai_link"),href:"https://help.figma.com/hc/en-us/articles/24039793359767"}),[]),o="dark"===(0,sf.DP)(),{title:c,imgSrc:d,body:u,betaDisclaimer:m,ctaLabel:p}=(0,n.useMemo)(()=>{switch(e){case"UI3_AND_AI":return{title:(0,T.tx)("ui3_and_ai_welcome.ui3_and_ai.title"),imgSrc:o?sE:sh,body:(0,T.tx)("ui3_and_ai_welcome.ui3_and_ai.body"),betaDisclaimer:(0,T.tx)("ui3_and_ai_welcome.ui3_and_ai.beta_disclaimer",{learnMore:i}),ctaLabel:(0,T.tx)("ui3_and_ai_welcome.ui3_and_ai.cta")};case"UI3_ONLY":return{title:(0,T.tx)("ui3_and_ai_welcome.ui3_only.title"),imgSrc:o?"https://static.figma.com/uploads/0a7b90ceb5dd62bb538f1220ba12c0cf1f0be4f0":sy,body:(0,T.tx)("ui3_and_ai_welcome.ui3_only.body"),betaDisclaimer:null,ctaLabel:(0,T.tx)("ui3_and_ai_welcome.ui3_only.cta")};case"AI_ONLY":return{title:(0,T.tx)("ui3_and_ai_welcome.ai_only.title"),imgSrc:o?sE:sh,body:(0,T.tx)("ui3_and_ai_welcome.ai_only.body"),betaDisclaimer:(0,T.tx)("ui3_and_ai_welcome.ai_only.beta_disclaimer",{learnMore:i}),ctaLabel:(0,T.tx)("ui3_and_ai_welcome.ai_only.cta")};default:(0,s_.assertNever)(e)}},[e,i,o]);function _(){switch(e){case"UI3_AND_AI":sC(r,!0),sb(r,!0);break;case"UI3_ONLY":sC(r,!0);break;case"AI_ONLY":sb(r,!0);break;default:(0,s_.assertNever)(e)}}let f=(0,n.useMemo)(()=>n.createElement(sw,{label:(0,T.tx)("ui3_and_ai_welcome.ai_legal_consent.ai_subprocessors_link"),href:"https://www.figma.com/sub-processors/"}),[]),g=(0,n.useMemo)(()=>n.createElement(sw,{label:(0,T.tx)("ui3_and_ai_welcome.ai_legal_consent.software_services_agreement_link"),href:"https://www.figma.com/ssa/"}),[]),h="UI3_AND_AI"===e||"AI_ONLY"===e,E=l.length>0,y=(0,n.useMemo)(()=>h&&E?(0,T.tx)("ui3_and_ai_welcome.ai_legal_consent.subprocessors_and_ssa",{subprocessorsLink:f,softwareServicesAgreementLink:g}):h?(0,T.tx)("ui3_and_ai_welcome.ai_legal_consent.subprocessors_only",{subprocessorsLink:f}):E?(0,T.tx)("ui3_and_ai_welcome.ai_legal_consent.ssa_only",{softwareServicesAgreementLink:g}):void 0,[h,E,f,g]);return(0,tg.h)(()=>{(0,tp.sx)(oO.LK,{variant:e})}),n.createElement("div",{"data-testid":oO.Hl,"data-variant":e},n.createElement(oJ._l,{isShowing:!0,onClose:function(){switch(t(),_(),e){case"UI3_AND_AI":(0,tp.sx)(oO.p);break;case"UI3_ONLY":(0,tp.sx)(oO.e7);break;case"AI_ONLY":break;default:(0,s_.assertNever)(e)}},description:n.createElement("div",{className:x.cx.flex.flexColumn.gap8.$},n.createElement("p",null,u),m&&n.createElement("p",null,m)),trackingContextName:"UI3 And AI Welcome Modal",title:n.createElement("div",{className:"welcome_modal--title--N2oxD"},n.createElement(tF.Kz,{multiple:4}),c,n.createElement(tF.Kz,{multiple:1})),primaryCta:{label:p,onClick:function(){a(),_()},ctaTrackingDescriptor:eC.c.UI3_AND_AI_WELCOME,type:"button"},disclaimerFooter:y,orientation:"portrait",media:n.createElement("img",{width:332,src:d,alt:"An illustration showcasing the new Figma"}),closeButtonColor:d===sy?"dark":"light"}))}function sx({primaryCta:e,onClose:t}){return n.createElement(sk,{variant:"UI3_AND_AI",onClose:t,onStartTour:e.onClick})}function sT({primaryCta:e,onClose:t}){return n.createElement(sk,{variant:"UI3_ONLY",onClose:t,onStartTour:e.onClick})}function sN({primaryCta:e,onClose:t}){return n.createElement(sk,{variant:"AI_ONLY",onClose:t,onStartTour:e.onClick})}function sS({openFile:e}){var t;let a=(0,I.GS)(),l=function({openFile:e}){let t=function(){let e=oX(),t=(0,ed.f)(oj),a=(0,ed.f)(oq),r=(0,eU.p8)("showUi"),l=(0,n.useMemo)(()=>t,[r]),i=(0,n.useMemo)(()=>a,[r]),o=(0,iL.ks)(),s=(0,ni.Em)();return!e.shouldShowUI3AndAIModal||l||i?e.shouldShowUI3OnlyModal&&!l?sT:e.shouldShowAIOnlyModal&&!i&&!o&&s?sN:null:sx}(),a=function({openFile:e}){let t=oX(),a=(0,eU.p8)("topLevelMode")===E.lyf.LAYOUT,r=(0,oU.U4)(),l=(0,iL.ks)(),i=(0,y.md)(tk.wg),o=(0,eU.aV)(),c=(0,tT.iZ)(),d=(0,s.d4)(t=>o&&e?e.canEdit:t.mirror?.appModel?.isReadOnly),u=!!c&&!!e&&!!d,m=(0,l8.kU)({file:e,viewOnly:u}),p=!i&&m&&m?.type!==l8.Kw.VIEW_ONLY;return(0,n.useMemo)(()=>{let e=[];return a?t.shouldShowAIOnlyModal||t.shouldShowUI3AndAIModal?e.push(o9):e.push(st):e.push(sn),(!l||r)&&e.push(sl),e.push(si),a&&e.push(so),p&&e.push(ss),e.push(sc),e},[r,a,l,t.shouldShowAIOnlyModal,t.shouldShowUI3AndAIModal,p])}({openFile:e}),r=function(){let e=(0,oG.ZI)();return(0,n.useMemo)(()=>{let t=[];return e>0&&t.push(sd),t.push(su),t.push(sc),t},[e])}(),l=(0,oH.o3)(oH.nt.ui3DevModeCallout),i=(0,ed.f)(oO.pN),o=(0,ed.f)(oO.qM),c=(0,ed.f)(oO.$9),d=(0,ed.f)(oO.af),u=(0,ed.f)(oO.TT),m=(0,eU.p8)("showUi"),p=(0,n.useMemo)(()=>i,[m]),_=(0,n.useMemo)(()=>o,[m]),f=(0,n.useMemo)(()=>c,[m]),g=(0,n.useMemo)(()=>d,[m]),h=(0,n.useMemo)(()=>u,[m]),v=(0,iL.ks)(),b=(0,ni.Em)(),C=(0,oK.vh)(),w=function(){let e=(0,I.GS)(),t=(0,oK.LC)();return e&&(0,aT.C7)()&&t}(),k=(0,oU._I)(),x=(0,oU.U4)(),T=[];return t&&T.push(t),v&&k&&!_?T.push(...r):v||p||T.push(...a),(0===T.length||1===T.length&&T[0]===sN)&&!v&&b&&C&&!f&&T.push(o0),0===T.length&&!v&&b&&x&&!_&&!h&&l&&T.push(sl),0===T.length&&!v&&b&&w&&!g&&T.push(sp),T}({openFile:e}),i=(t=l[0])===sT||t===sN||t===sx,o=oX(),c=(0,ex.r1)(oj),d=(0,y.md)(c),m=(0,ex.r1)(oq),p=(0,y.md)(m),_=(0,ed.f)(oY),g=(0,ex.r1)(oY),h=(0,y.md)(g),v=(0,ex.r1)(oO.pN),b=(0,y.md)(v),C=(0,ex.r1)(oO.qM),w=(0,y.md)(C),k=(0,ex.r1)(oO.$9),x=(0,y.md)(k),N=(0,ex.r1)(oO.af),S=(0,y.md)(N),A=(0,ni.Em)(),L=(0,oG.l7)(),O=(0,oG.hA)(),M=!!(0,r.kc)().ui3_and_ai_welcome_modal,P=(0,oH.o3)(oH.nt.ui3DevModeCallout),R=(0,eU.aV)(),{uniqueId:D,show:F,isShowing:B,complete:U}=(0,u.e)({overlay:f.S$7,priority:oP},[d,p,b,w,x,h,S]),{currentStep:G,next:H}=(0,eG.A)({numSteps:0===l.length?1:l.length,onComplete:()=>U});(0,ew.E)(D,[(0,oV.w)("dev"),(0,oV.w)("design")],()=>{V()});let V=(0,n.useCallback)(()=>{M&&A&&a&&(P?!R&&0!==l.length&&!_&&F():R||F({canShow:(e,t,a,n,r,l,i)=>(!e||!t||!a||!n||!r||!i)&&!l}))},[M,A,a,P,R,l.length,_,F]);(0,n.useEffect)(()=>{R||V()},[R,V]),(0,ew.E)(D,"CTA Clicked",e=>{l[G]===sc&&e.properties?.text==="HelpWidget"&&U()});let K=(0,n.useCallback)(()=>{U(),o.shouldShowUI3AndAIModal?(0,tp.sx)(oO.p):o.shouldShowUI3OnlyModal&&(0,tp.sx)(oO.e7)},[U,o]),z=n.useMemo(()=>{let e={type:"button",label:(0,T.tx)("general.next"),onClick:H,ctaTrackingDescriptor:eC.c.NEXT},t={type:"button",label:(0,T.tx)("general.done"),onClick:U,ctaTrackingDescriptor:eC.c.DONE};return l.map((a,r)=>n.createElement(a,{primaryCta:r===l.length-1?t:e,onClose:r===l.length-1?U:K,stepNum:i?r:r+1,totalNumSteps:i?l.length-1:l.length,isShowing:B,onTargetLost:r===l.length-1?U:H}))},[H,U,l,K,i,B]);return((0,n.useEffect)(()=>{(!z||0===l.length||!a||L||O)&&U()},[z,l.length,a,L,O,U]),B)?n.createElement(eK.U,{currentStep:G,isShowing:B,children:z}):null}var sI=a(424863),sA=a(984032),sL=a(593788),sO=(e=>(e.AwaitIsShowing="AwaitIsShowing",e.AwaitPastedElementsSelected="AwaitPastedElementsSelected",e.AwaitOtherElementsSelected="AwaitOtherElementsSelected",e.Completed="Completed",e))(sO||{}),sM=(e=>(e.OnShow="OnShowUpsellLibariesConsecutivePaste",e[e.SelectionChanged=il.R]="SelectionChanged",e))(sM||{});let sP=(0,ir.Op)({initial:"AwaitIsShowing",states:[{id:"AwaitIsShowing",transitions:[(0,ir.nr)("OnShowUpsellLibariesConsecutivePaste","AwaitPastedElementsSelected")]},{id:"AwaitPastedElementsSelected",transitions:[(0,ir.nr)(sM.SelectionChanged,"AwaitOtherElementsSelected",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"AwaitOtherElementsSelected",transitions:[(0,ir.nr)(sM.SelectionChanged,"Completed",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"Completed",terminal:!0}]}),sR=(0,sL.rn)("paste_deselected_machine",sP),sD=(0,ex.r1)("explicitly_dismissed_create_component_pointer"),sF=(0,ek.tH)("first_component_created_date");function sB(){let e=(0,s.wA)(),t=(0,y.md)(ek.t),a=(0,y.md)(tk.NZ),r=(0,y.md)(tk.pQ),l=(0,t$.jO)(),i=(0,y.md)(sF),o=(0,y.md)(sD),d=(0,l7.zl)(sR),p=(0,u.e)({overlay:f.g4U,priority:m.N.SECONDARY_MODAL},[t,r,o]);return(0,ew.E)(p.uniqueId,sI.zb,()=>{null===i&&p.show({canShow:(e,t,n)=>e&&(t||a)&&l&&!n,onShow:()=>{(0,aj.YQ)({id:sM.OnShow})}})}),(0,ew.E)(p.uniqueId,"action_create_symbol",()=>{p.isShowing&&(e(c.b({explicitly_dismissed_create_component_pointer:!0})),p.complete())}),(0,l7.ST)(d,({to:e})=>{e===sO.Completed&&(p.complete(),d.reset())}),n.createElement(sU,{isShowing:p.isShowing,onAbort:p.complete},n.createElement(ez.h,{isShowing:p.isShowing,modalType:eX.q3.SELF_CONTAINED,trackingContextName:"Consecutive Paste Create Component Pointer",element:sA.gL,onClickPrimaryCta:p.complete,onClose:p.complete,onManualDismiss:p.complete,testId:"upsell_libraries_consecutive_paste_overlay"}))}function sU(e){let[t,a]=n.useState(!1),l=r.Ay().user_data?.id,{isShowing:i,onAbort:o}=e;return n.useEffect(()=>{!t&&i&&((0,aA.Hz)(l)?a(!0):o())},[a,t,i,o,l]),t?e.children:null}var sG=a(70964),sH=a(972045);let sV="seen_chrome_version_warning",sK=["Chrome/77.0.3865.75","Chrome/77.0.3865.90","Chrome/77.0.3865.105"];function sz(e){let t=navigator&&navigator.userAgent&&navigator.userAgent.match(/CrOS/),a=(0,T.tx)("rcs.chrome_version.please_update_your_browser_to_avoid_losing_work"),l=n.createElement("p",null,(0,T.tx)("rcs.chrome_version.the_version_of_chrome_you_are_using_has_a_networking_issue_which_may_prevent_you_from_saving_your_work_please_upgrade_your_browser_to_version_77_0_3865_120_or_greater_to_avoid_any_issues",{upgradeYourBrowser:n.createElement(tF.Us,{target:"_blank",href:"https://help.figma.com/hc/articles/360040035734",trusted:!0},(0,T.tx)("rcs.chrome_version.upgrade_your_browser"))}));return t&&(a=(0,T.tx)("rcs.chrome_version.please_update_chrome_os_to_avoid_losing_work"),l=n.createElement("p",null,(0,T.tx)("rcs.chrome_version.the_version_of_chrome_os_you_are_using_has_a_networking_issue_which_may_prevent_you_from_saving_your_work_a_patch_has_been_released_with_version_77_0_3865_120_starting_november_4_2019_make_sure_to_allow_chrome_os_to_update_automatically",{updateAutomatically:n.createElement(tF.Us,{target:"_blank",href:"https://support.google.com/chromebook/answer/177889",trusted:!0},(0,T.tx)("rcs.chrome_version.update_automatically"))}))),n.createElement(sG.mS,null,n.createElement("h1",null,a),n.createElement("br",null),l,n.createElement("br",null),n.createElement(function(){return n.createElement("p",null,(0,T.tx)("rcs.chrome_version.if_you_have_any_questions_please_email_us_at",{figmaSupportEmail:n.createElement(tF.Us,{href:`mailto:${(0,r.W4)()}`,trusted:!0},(0,r.W4)())}))},null),n.createElement(C.Jn,{className:sH.b,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"}))}let sW=(0,ex.r1)(sV);function sj(){let e=(0,ei.q5)(),t=e?.canEdit,a=(0,y.md)(sW),r=(0,u.e)({overlay:f.ZTu,priority:m.N.URGENT_ALERT},[a]);return(0,tg.h)(()=>{let e=(0,o2.n5)()||"";t&&sK.includes(e)&&r.show({canShow:e=>!e})}),n.createElement(ez.h,{modalType:eX.q3.DRAGGABLE,trackingContextName:"Chrome Version Warning Redalert 10-16-19",disableFooter:!0,userFlagOnShow:sV,element:sz,onClickPrimaryCta:r.complete,onClose:r.complete,onManualDismiss:r.complete,isShowing:r.isShowing,currentStepIndex:0,totalNumSteps:1})}var sq=a(410424),sY=a(944682),sX=a(116135),sJ=a(867795),sZ=a(178911);let sQ="seen_workflow_interop_diagram_onboarding",s$=(0,ex.r1)(sQ),s0="FigJam Diagram Onboarding (Workflow Interop Experiment)",s1={connectors:`${s0} - Connectors`,shapes:`${s0} - Shapes`,templates:`${s0} - Templates`};function s2(){!function(){let e=(0,eU.p8)("pagesList");(0,n.useMemo)(()=>{let t=(0,tP.QL)("preservePageIndex");if(t&&e.length>0){(0,tP.EM)("preservePageIndex");let a=parseInt(t);if(isNaN(a)||a<0||a>=e.length)return;e.forEach((e,t)=>{t!==a&&ae.Y5.triggerAction("page-delete",{args:{nodeId:e.nodeId,skipVisualBell:!0}})})}},[e])}(),function(){let{insertTemplate:e}=(0,nN.Fz)(),t=(0,s.wA)();(0,tg.h)(()=>{let a=(0,tP.QL)("templateId");null!=a&&((0,tP.EM)("templateId"),t(sq.ts({hubFileId:a,callback:t=>{e({template:{template:t,type:nL.n.HubFile},userTriggered:!1,templateInsertionDirection:E.hKj.ABOVE,triggeredFrom:"workflow-interop"})}})))})}();let e=(0,y.md)(s$),t=(0,u.e)({overlay:f.uPw,priority:m.N.OVERRIDING_MODAL},[e]),a=function(e){let t=(0,s.wA)();return n.useMemo(()=>[{title:(0,T.tx)("rcs.figjam_diagram_onboarding.connectors_title"),trackingContextName:s1.connectors,arrowPosition:aC.F_.BOTTOM,media:n.createElement(eI.y,{src:"https://static.figma.com/uploads/2655e9f0e4247dff3d5a46cf59f788473bffe0c6",aspectRatio:900/508,alt:(0,T.t)("rcs.figjam_diagram_onboarding.connectors_title")}),description:(0,T.tx)("rcs.figjam_diagram_onboarding.connectors"),targetKey:l_.BC,onClose:t8.lQ},{title:(0,T.tx)("rcs.figjam_diagram_onboarding.shapes_title"),trackingContextName:s1.shapes,arrowPosition:aC.F_.BOTTOM,media:n.createElement(eI.y,{aspectRatio:900/507,src:"https://static.figma.com/uploads/0c9201d8164c2390cdcf3fb8d316b6bacdddb438",alt:(0,T.t)("rcs.figjam_diagram_onboarding.shapes_title")}),description:(0,T.tx)("rcs.figjam_diagram_onboarding.shapes"),targetKey:l_.BC,onClose:t8.lQ},{title:(0,T.tx)("rcs.figjam_diagram_onboarding.templates_title"),trackingContextName:s1.templates,arrowPosition:aC.F_.BOTTOM,media:n.createElement(eI.y,{aspectRatio:900/505,src:"https://static.figma.com/uploads/b8b42ba263794abd20364c3da0f3f4993fd4ed86",alt:(0,T.t)("rcs.figjam_diagram_onboarding.templates_title")}),description:(0,T.tx)("rcs.figjam_diagram_onboarding.templates"),targetKey:sZ.yl,secondaryCta:{type:"button",label:(0,T.tx)("rcs.figjam_diagram_onboarding.see_templates"),onClick:()=>{t(tw.En({initialX:0,initialY:0,initialTab:sJ.p.TEMPLATES})),e.complete()}},onClose:t8.lQ}],[t,e])}(t);return(0,tg.h)(()=>{(0,tP.QL)(sY.tX.key)===sY.tX.value&&t.show({canShow:e=>!e})}),n.createElement(sX.WZ,{testId:"workflow-interop-machine-overlay",userFlagOnShow:sQ,isShowing:t.isShowing,onComplete:t.complete,steps:a})}let s5="seen_figjam_workshop_onboarding",s3=(0,ex.r1)(s5);function s4(e){let t=(0,y.md)(tk.J1),a=(0,y.md)(s3),r=(0,y.md)(tk.zo),l=(0,y.md)(tk.PD),i=(0,u.e)({overlay:f.Fq3,priority:m.N.SECONDARY_MODAL},[t,a,r,l]);return(0,tg.h)(()=>{i.show({canShow:(e,t,a,n)=>e&&!t&&a&&!n})}),n.createElement(ez.h,{onboardingKey:eY.v4,modalType:eX.q3.DRAGGABLE,trackingContextName:"Fig Jam Workshop Onboarding",title:()=>(0,T.t)("rcs.figjam_workshop.invite_the_world_to_your_workshop"),disableFooter:!0,width:301,element:s6,isShowing:i.isShowing,onClickPrimaryCta:i.complete,onClose:i.complete,onManualDismiss:i.complete,currentStepIndex:0,totalNumSteps:1,userFlagOnShow:s5})}function s6(e){return n.createElement(n.Fragment,null,n.createElement(sG.Gv,{width:301,src:"https://static.figma.com/uploads/a97e76df2b43ae8b408127c1c63ea0b8485ba8ac"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.figjam_workshop.open_sessions_let_you_jam_with_anyone_even_people_who_don_t_have_a_figma_account")))}var s7=a(666258),s8=a(396021),s9=a(173101),ce=a(600907),ct=a(469572),ca=a(752795),cn=a(627776),cr=a(787133),cl=a(256320);function ci(){let e=(0,s.wA)(),t=(0,cr.C)();return n.useEffect(()=>{if(t)return;let a=(0,ej.Es)(),n=document.querySelector(`[data-tooltip=${a}]`);return n&&e(on.j7({type:o7.pi,data:{targetRect:n.getBoundingClientRect()}})),()=>{e(on.oB())}},[t,e]),n.createElement(n.Fragment,null,n.createElement(sG.Gv,{width:350,src:"https://static.figma.com/uploads/30b3da35c8e26b773e6fc4b88528ff8077543ad8"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.back_to_file_browser.the_file_browser_allows_you_to"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.back_to_file_browser.you_can_head_there_by_clicking_on_option_in_the_main_menu",{optionName:n.createElement("span",{className:sH.Cr},(0,T.tx)("rcs.back_to_file_browser.back_to_files"))})))}function co(e){return n.createElement(ez.h,{testId:"BackToFileBrowserOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Back to File Browser Modal",element:ci,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.back_to_file_browser.file_browser"),onboardingKey:"back-to-files",pointDirection:eX._L.LEFT_TITLE,currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,userFlagOnShow:"back_to_file_browser_onboarded",UNSAFE_disableFocus:!0})}function cs(){return n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/app/onboarding/page-3.gif"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.comments.leave_notes_right_in_your_design_files"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.comments.get_feedback_requests_and_copy_updates_where_you_ll_use_them_not_in_your_inbox")))}function cc(e){return n.createElement(d.fu,{name:"Community Hub Duplicate Onboarding Modal"},n.createElement(_.M,{userFlagOnShow:"editor_community_duplicate_onboarded",isShowing:e.isShowing},n.createElement(tq.Nb,{className:sH.W8,hide:e.onManualDismiss,size:eX.pN,disableClickOutsideToHide:!0},n.createElement("div",{className:sH.SI},n.createElement("h1",null,(0,T.tx)("rcs.community_hub_file_duplicate.welcome_to_figma")),n.createElement(tF.Kz,{multiple:4}),n.createElement("p",null,(0,T.tx)("rcs.community_hub_file_duplicate.you_just_duplicated_this_file_from_the_community_to_get_started_let_us_show_you_some_of_the_things_that_make_figma_special_and_different_from_other_design_tools")),n.createElement(tF.Kz,{multiple:4}),n.createElement(tB.Go,{fullWidth:!1,onClick:e.onClickPrimaryCta},(0,T.tx)("rcs.community_hub_file_duplicate.show_me_around")),n.createElement(tF.Kz,{multiple:3}),n.createElement(tF.Ph,{className:sH.X8,onClick:e.onManualDismiss,trusted:!0},(0,T.tx)("rcs.community_hub_file_duplicate.no_thanks"))))))}function cd(){return n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/app/onboarding/export.png",width:350}),n.createElement(sG.ak,null,(0,T.tx)("rcs.export.export_your_designs_for_use_in_production_or_to_share_with_your_team"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.export.figma_can_export_to_png_jpeg_svg_and_pdf")))}function cu(){return n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/app/onboarding/livepreview.gif"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.live_device_preview.to_view_your_frames_live_on_your_device_just_download_figma_mirror",{linkToIOS:n.createElement(sG.lp,{href:"https://itunes.apple.com/app/figma-mirror/id1152747299"},(0,T.tx)("rcs.live_device_preview.i_os")),linkToAndroid:n.createElement(sG.lp,{href:"https://play.google.com/store/apps/details?id=com.figma.mirror&hl=en"},(0,T.tx)("rcs.live_device_preview.android"))}),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.live_device_preview.they_ll_update_instantly_no_matter_what_network_you_re_on_and_with_no_need_to_connect_via_usb")))}function cm(){return n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/app/onboarding/multiplayer.gif"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.multiplayer.collaborate_in_real_time_with_your_team_and_never_worry_about_your_files"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.multiplayer.no_syncing_no_waiting_no_merge_conflicts")))}function cp(){return n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/app/onboarding/sharing.gif"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.sharing.share_your_projects_with_teammates_clients_and_stakeholders"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.sharing.control_their_access_with_granular_permissions_and_manage_their_access_in_one_simple_place")))}function c_(){let e=(0,s.wA)(),t=(0,s.Pj)();return n.useEffect(()=>{let a=t.getState().leftPanel.activeTab;return e(ab.FP({tab:E.xae.ASSETS})),()=>{e(ab.FP({tab:a}))}},[e,t]),n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/app/onboarding/library.gif"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.team_library.share_components_and_styles_across_your_team_by_publishing_them"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.team_library.enable_quick_access_to_other_libraries_in_this_file")))}function cf(){return n.createElement("div",null,n.createElement(sG.Gv,{src:"https://static.figma.com/uploads/238ff8ea8ab49de9355932f62342f3f859ad8f4a"}),n.createElement(sG.ak,null,(0,T.tx)("rcs.universal_inserts.insert_components_from_your_libraries")))}let cg=["editor_community_duplicate_onboarded","editor_onboarded","shared_component_library_onboarded","shared_component_publish_onboarded","library_modal_onboarded","styles_onboarded","pdf_onboarded","coco_onboarded","line_height_update_onboarded","gifs_onboarded","opentype_onboarded","seen_community_hub_landing_editor_onboarding","variants_onboarded","multiple_starting_points_onboarded"],ch=[function(e){return n.createElement(eA.X,{emphasized:!0,testId:"LaunchNuxModalViewOverlay",trackingContextName:"LaunchNux",isShowing:e.isShowing,position:eL.Q.BOTTOM_RIGHT,title:(0,T.tx)("rcs.launch_nux_modal.take_a_quick_tour_of_figma"),description:(0,T.tx)("rcs.launch_nux_modal.walk_through_figma_s_unique_editor_and_collaboration_features"),primaryCta:{type:"button",label:(0,T.tx)("rcs.launch_nux_modal.show_me_around"),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:eC.c.SHOW_ME_AROUND},secondaryCta:{type:"button",label:(0,T.tx)("rcs.launch_nux_modal.no_thanks"),onClick:e.onManualDismiss,ctaTrackingDescriptor:eC.c.NO_THANKS},onClose:e.onManualDismiss})},function(e){return n.createElement(eR.rq,{testId:"ConstraintsOverlay",trackingContextName:"Constraints Onboarding Modal",title:(0,T.tx)("rcs.constraints.constraints"),media:n.createElement(eI.y,{src:"https://static.figma.com/app/onboarding/page-2.gif",alt:"An animation showing how constraints works in Figma.",aspectRatio:1280/720}),description:n.createElement(n.Fragment,null,(0,T.tx)("rcs.constraints.setting_precise_constraints_lets_you_build_fluid_layouts_to_support_multiple_device_sizes_and_breakpoints_within_the_same_group"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.constraints.all_of_your_layers_adjust_the_way_you_expect_no_magic_you_get_full_control")),isShowing:e.isShowing,primaryCta:{type:"button",label:(0,T.tx)("rcs.rcs_shared.next"),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:eC.c.NEXT},onClose:e.onManualDismiss,targetKey:"frame",secondaryCta:{type:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360039957734",ctaTrackingDescriptor:eC.c.LEARN_MORE},stepCounter:{stepNum:e.currentStepIndex+1,totalNumSteps:e.totalNumSteps}})},function(e){return n.createElement(eR.rq,{testId:"VectorNetworksOverlay",trackingContextName:"Vector Networks Onboarding Modal",title:(0,T.tx)("rcs.vector_networks.vector_networks"),media:n.createElement(eI.y,{src:"https://static.figma.com/app/onboarding/page-1.gif",alt:"An animation showing how to use the pen tool",aspectRatio:1280/720}),description:n.createElement(n.Fragment,null,(0,T.tx)("rcs.vector_networks.pen_tools_have_always_been_scary_to_use"),n.createElement("br",null),n.createElement("br",null),(0,T.tx)("rcs.vector_networks.now_they_re_both_simpler_and_more_powerful_paths_finally_work_the_way_they_should")),isShowing:e.isShowing,primaryCta:{type:"button",label:(0,T.tx)("rcs.rcs_shared.next"),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:eC.c.NEXT},onClose:e.onManualDismiss,targetKey:"pen",secondaryCta:{type:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360040450213",ctaTrackingDescriptor:eC.c.LEARN_MORE},stepCounter:{stepNum:e.currentStepIndex+1,totalNumSteps:e.totalNumSteps}})},function(e){return n.createElement(ez.h,{testId:"UniversalInsertsOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Universal Inserts Onboarding Modal",element:cf,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.universal_inserts.find_components_plugins_and_widgets"),onboardingKey:"insert",additionalButton:{onClickBehavior:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360038510693-Guide-to-Figma-Community"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"CommentsOverlayOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Comments Onboarding Modal",element:cs,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.comments.comments"),onboardingKey:"comment",additionalButton:{onClickBehavior:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360039825314"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"SharingOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Sharing Onboarding Modal",element:cp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.sharing.sharing_and_permissions"),onboardingKey:eY.v4,additionalButton:{onClickBehavior:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360039485514"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"MultiplayerOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Multiplayer Onboarding Modal",element:cm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.multiplayer.multiplayer"),onboardingKey:eY.v4,additionalButton:{onClickBehavior:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://blog.figma.com/multiplayer-editing-in-figma-8f8076c6c3a6"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"TeamLibraryOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Team Library Onboarding Modal",element:c_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.team_library.team_library"),onboardingKey:"library",additionalButton:{onClickBehavior:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360041051154"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,userFlagOnShow:"library_modal_onboarded",UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"ExportOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Export Onboarding Modal",element:cd,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.export.export"),additionalButton:{onClickBehavior:"link",label:(0,T.tx)("rcs.rcs_shared.learn_more"),href:"https://help.figma.com/hc/articles/360040028114"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return n.createElement(ez.h,{testId:"LiveDevicePreviewOverlay",modalType:eX.q3.DRAGGABLE,trackingContextName:"Live Device Preview Onboarding Modal",element:cu,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:sH.Yl,footerClassName:cl.ay,title:(0,T.tx)("rcs.live_device_preview.live_device_preview"),currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})}];function cE(){return t_.eD||(0,cn.ce)()?ch:[...ch,co]}function cy(){let e=(0,s.wA)(),t=(0,y.md)(ex.qG),a=(0,y.md)(ek.d2),r=(0,y.md)(ek.g5),l=(0,y.md)(ek.NT),i=(0,ei.q5)(),o=(0,ca.isNotNullish)(i)&&(0,e_.pi)({editorType:i.editorType})===at._Y.DESIGN,d=(0,ca.isNotNullish)(i)&&i.canEdit,_=(0,u.e)({overlay:f.LiP,priority:m.N.OVERRIDING_MODAL},[t,r,a,l]),[g,h]=n.useState([]),E=n.useCallback(e=>{_.show({canShow:(t,a,n,r)=>{let l=(function({userFlags:e,emailValidatedAt:t,userSpace:a,isReset:n,jobTitle:r}){let l=(0,t$._q)(e),i=(0,rw.mW)(e,"editor_community_duplicate_onboarded"),o=(0,rk.d2)({emailValidatedAt:t,jobTitle:r}),s=(0,rw.mW)(e,"claimed_invite_with_pending_user_mention"),c=(0,rw.mW)(e,"has_closed_comment"),d=!!tf.Ay.location.hash,u=a===p.qo.ORG,m=(0,aA.XX)(e),_=(0,tP.QL)(nA.pt.KEY)===nA.pt.VALUE;return l&&!n||s&&!c&&d?[]:_||m?i||o?[]:u?m?[]:[cc,...cE()]:m||l&&!n?[]:[cc,...cE()]:cE()})({userFlags:t,emailValidatedAt:a,userSpace:n,isReset:e,jobTitle:r}).filter(e=>!!e);return l.length>0&&(h(l),!0)}})},[_]);n.useEffect(()=>{d&&o&&E(!1)},[E,d,o]),(0,ew.E)(_.uniqueId,"Reset Onboarding",()=>E(!0));let v=n.useCallback(()=>{let t={};for(let e of cg)t[e]=!0;e(c.b(t)),_.complete()},[e,_]);return _.isShowing&&0!==g.length?n.createElement(cv,{steps:g,onComplete:v}):null}function cv(e){let{steps:t,onComplete:a}=e,r=(0,eG.A)({numSteps:t.length,onComplete:a});return n.createElement(eK.U,{currentStep:r.currentStep,isShowing:!0,children:t.map((e,l)=>n.createElement(e,{onClickPrimaryCta:r.next,onClose:t8.lQ,onManualDismiss:a,isShowing:!0,currentStepIndex:l,totalNumSteps:t.length}))})}var cb=a(239349),cC=a(168289),cw=a(165195),ck=a(721047),cx=a(425037),cT=a(354537);function cN(){let{uniqueId:e,show:t,isShowing:a,complete:r}=(0,u.e)({overlay:f.a9B,priority:m.N.OVERRIDING_MODAL}),l=(0,s.wA)(),i=(0,ed.f)("cursor_bot_v2__no_basics_file__played_frame_formatting"),o=(0,ed.f)("design_panel_step_shown"),d=(0,ed.f)("cursor_bot_v2__basics_file__started_flow"),p=(0,t$.Ai)(["exp_cursor_bot_onboarding"]),_=(0,ck.b)();(0,ew.E)(e,"create_frame",n.useCallback(()=>{!i||o||d||p||a||t()},[o,d,a,i,t,p]));let g=(0,y.md)(s7.a8),h=!!(0,ed.f)((0,s8.Of)(cC.wn.FORMAT_FRAME,!1).tutorialPlayedUserFlag),E=n.useMemo(()=>(0,cx.p)(h,!1),[h]);if(!a)return null;if(g===cC.h0.PLAYING)return n.createElement(cw.a,{cursorBotStateManager:_,currentTutorial:E});let v=()=>{l(c.b({design_panel_step_shown:!0})),r()};return n.createElement(E.TooltipElement,{onClickNext:v,onClickShowMe:()=>{_.runTutorial(E)},onClickClose:v,skip:v,isFollowUp:!0})}function cS(){let{uniqueId:e,show:t,isShowing:a,complete:r}=(0,u.e)({overlay:f.ENg,priority:m.N.OVERRIDING_MODAL}),l=(0,s.wA)(),i=(0,ed.f)("cursor_bot_v2__no_basics_file__played_text_formatting"),o=(0,ed.f)("format_text_step_shown"),d=(0,ed.f)("cursor_bot_v2__basics_file__started_flow"),p=(0,ck.b)(),_=(0,t$.Ai)(["exp_cursor_bot_onboarding"]),[g,h]=n.useState(!1),v=(0,cb.VW)(),b=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);(0,ew.E)(e,"create_text",()=>{h(!0)}),n.useEffect(()=>{!i||o||d||_||a||!g||v?.type!=="TEXT"||b!==E.m1T.DESIGN_LAYOUT||a||t()},[v,g,a,t,b,i,o,d,_]);let C=!!(0,ed.f)((0,s8.Of)(cC.wn.FORMAT_TEXT,!1).tutorialPlayedUserFlag),w=n.useMemo(()=>(0,cT.Z)(C,!1),[C]),k=(0,y.md)(s7.a8);if(!a)return null;if(k===cC.h0.PLAYING)return n.createElement(cw.a,{cursorBotStateManager:p,currentTutorial:w});let x=()=>{l(c.b({format_text_step_shown:!0})),r()};return n.createElement(w.TooltipElement,{onClickNext:x,onClickShowMe:()=>{p.runTutorial(w)},onClickClose:x,skip:x,isFollowUp:!0})}var cI=a(460528),cA=a(258525);function cL(){let e=(0,u.e)({overlay:f.CVA,priority:m.N.OVERRIDING_MODAL}),t=(0,ed.f)("no_figma_basics_tooltips_design_panel_step"),a=(0,ed.f)("design_panel_step_shown"),r=(0,ed.f)("started_figma_basics_onboarding"),l=(0,s.wA)(),i=t&&!a&&!r;if((0,ew.E)(e.uniqueId,"create_frame",n.useCallback(()=>{i&&!e.isShowing&&e.show()},[e,i])),!e.isShowing)return null;let o=()=>{e.complete(),l(c.b({design_panel_step_shown:!0}))};return n.createElement(eR.rq,{onClose:o,title:(0,T.tx)("tooltips_plus_onboarding.change_properties_in_the_design_panel"),description:(0,T.tx)("tooltips_plus_onboarding.design_panel.description"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Frame Formatting",isShowing:e.isShowing,targetKey:cI.W,arrowPosition:aC.F_.RIGHT_BODY,onTargetLost:o,emphasized:!0,disableHighlight:!0})}function cO(){let e=(0,u.e)({overlay:f.IQ,priority:m.N.OVERRIDING_MODAL}),t=(0,ed.f)("no_figma_basics_tooltips_format_text_step"),a=(0,ed.f)("format_text_step_shown"),r=(0,ed.f)("started_figma_basics_onboarding"),l=(0,s.wA)(),i=!a&&t&&!r;if((0,ew.E)(e.uniqueId,"create_text",n.useCallback(()=>{i&&!e.isShowing&&e.show()},[e,i])),!e.isShowing)return null;let o=()=>{e.complete(),l(c.b({format_text_step_shown:!0}))};return n.createElement(eR.rq,{onClose:o,title:(0,T.tx)("tooltips_plus_onboarding.text_formatting.title"),description:(0,T.tx)("tooltips_plus_onboarding.text_formatting.description"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Text Formatting",isShowing:e.isShowing,targetKey:cA.B,arrowPosition:aC.F_.RIGHT_BODY,onTargetLost:o,emphasized:!0,disableHighlight:!0})}var cM=a(502601),cP=a(841563),cR=a.n(cP),cD=a(877645),cF=a(529928),cB=a(717156),cU=a(971646);function cG(e){let t;let{file:a,org:r,overlay:l}=e,i=(0,cD.B)(a,r.id),o=(0,n.useRef)(void 0),s=l.complete;if((0,n.useEffect)(()=>{i&&o.current&&!cR()(i.filePermissionsData,o.current?.filePermissionsData)&&s(),o.current=i},[i,s]),!i)return null;let c=i.isBranch,d=i.branchMatchesRepo,u=i.linkExpiresAt,m=(0,nt.Ch)(i.filePermissionsData,e.org),p=(0,cU.M3)((0,eo.A)(u)),_=!d&&c?(0,T.tx)("link_expired_overlay.different_branch_permissions_header"):(0,T.tx)("link_expired_overlay.header");return t=d?(0,T.tx)("link_expired_overlay.same_branch_permissions_body",{formattedTimestamp:p,audience:m}):c?(0,T.tx)("link_expired_overlay.different_branch_permissions_body",{formattedTimestamp:p,audience:m}):(0,T.tx)("link_expired_overlay.body",{formattedTimestamp:p,audience:m}),n.createElement(eR.rq,{isShowing:l.isShowing,trackingContextName:"Link Expired Overlay",title:_,description:t,targetKey:eY.v4,onClose:l.complete})}let cH=(0,cF.bt)(e=>e.modalShown);function cV(e){let t=(0,n.useRef)(null),a=(0,u.e)({overlay:f.K_h,priority:m.N.SECONDARY_MODAL}),r=(0,sg.sZ)(),l=(0,y.md)(ei.yV),i=y.md(cH)?.type===na.jS;return((0,ew.E)(a.uniqueId,[cB.q2],()=>{r&&l&&!a.isShowing&&!i&&a.show()}),(0,n.useEffect)(()=>(a.isShowing?t.current=setTimeout(()=>{t.current=null,a.complete()},45e3):t.current&&clearTimeout(t.current),()=>{t.current&&clearTimeout(t.current)}),[a]),r&&l)?n.createElement(cG,{overlay:a,org:r,file:l}):null}var cK=a(144119),cz=a(621925),cW=a(924430);function cj(){let e=(0,s.wA)(),t=(0,oK.vh)(),a=(0,ex.r1)(cW.Kt),r=(0,y.md)(a),l=(0,ex.r1)(cW.wl),i=(0,y.md)(l),o=(0,cK.sO)(),d=(0,eU.aV)(),{show:m,isShowing:p,complete:_}=(0,u.e)({overlay:f.Fff,priority:oP},[r,i]),g=(0,n.useCallback)(()=>{o&&t&&(d||m({canShow:(e,t)=>e&&!t}))},[t,d,o,m]);return(0,n.useEffect)(()=>g(),[g]),(0,cz.i)({onClickPrimaryCta:_,onClickSecondaryCta:()=>{e(c.b({agreed_to_slides_ai_terms:!1}))},isShowing:p,isOnboarding:!1,totalSteps:1})}let cq=(0,ex.r1)(cW.CH);function cY(){let e=(0,v.md)(cq),t=(0,cK.sO)(),a=(0,eU.aV)(),l=(0,cK.jY)(),{isShowing:i,show:o,complete:s}=(0,u.e)({overlay:f.c8r,priority:m.N.SECONDARY_MODAL},[e]),c=(0,n.useCallback)(()=>{t&&(0,r.kc)().piper_skip_slides&&!a&&l&&o({canShow:e=>!e})},[a,t,o,l]);return(0,n.useEffect)(()=>c(),[c]),n.createElement(eA.X,{isShowing:i,title:(0,T.tx)("slides.onboarding.ten_release.title"),description:(0,T.tx)("slides.onboarding.ten_release.description"),media:n.createElement(eI.y,{aspectRatio:1.75,src:"https://static.figma.com/uploads/5db17040a81ca137260f760a965e8d74806ed092",alt:"A graphic showing the skip slide functionality"}),primaryCta:{label:(0,T.tx)("slides.onboarding.ten_release.see_whats_new"),type:"button",onClick:()=>{(0,o2.FJ)("https://www.figma.com/release-notes/","_blank","noopener"),s()},ctaTrackingDescriptor:eC.c.SEE_WHATS_NEW},trackingContextName:"Slides Ten Release Announcement Popup",userFlagOnShow:cW.CH,position:eL.Q.BOTTOM_RIGHT,onClose:s})}var cX=a(211041),cJ=a(402609);let cZ=n.memo(function({isFigjamEditor:e,isDesignEditor:t,openFile:a}){let r=n.useRef(!t);n.useEffect(()=>{r.current=!t},[t]),function(e){let t=(0,y.md)(s7.a8),a=(0,s.d4)(e=>e.user?.created_at),r=!!a&&(0,eo.A)("2023-05-01").isBefore(a);n.useEffect(()=>{if(!r){e.current=!0;return}e.current=e.current||(0,s8.XC)(t)},[e,t,r]);let l=(0,s.wA)();(0,ct.yE)("x",e),(0,ct.yE)("y",e),(0,ct.yE)("width",e),(0,ct.yE)("height",e),(0,ct.yE)("angle",e),(0,ct.yE)("cornerRadius",e),(0,ct.yE)("strokePaints",e),(0,ct.yE)("fillPaints",e),(0,ct.yE)("effects",e),(0,ct.yE)("fontSize",e),(0,ct.yE)("fontFamily",e),(0,ct.yE)("fontStyle",e),(0,ce.g)("has_zoomed_in_design_file",e),(0,s9.U)("has_panned_in_design_file",e);let i=(0,ed.f)("has_created_text"),o=(0,ed.f)("has_created_frame"),d=(0,ed.f)("has_selected_frame_tool"),m=(0,u.e)({overlay:f._5$,priority:0});(0,ew.E)(m.uniqueId,"action_set_tool_frame",n.useCallback(()=>{e&&e.current||d||l(c.b({has_selected_frame_tool:!0}))},[e,l,d])),(0,ew.E)(m.uniqueId,"create_frame",n.useCallback(()=>{e&&e.current||o||l(c.b({has_created_frame:!0}))},[e,l,o])),(0,ew.E)(m.uniqueId,"create_text",n.useCallback(()=>{e&&e.current||i||l(c.b({has_created_text:!0}))},[e,l,i])),e.current}(r),function(e){let t=(0,s.wA)(),a=(0,y.md)(ec.mp),r=null!=a&&(0,eo.A)("2023-10-31").isBefore(a),l=!!(0,ed.f)("has_opened_design_editor"),[i,o]=(0,y.fp)(eu);(0,n.useEffect)(()=>{r&&!l&&e&&(o(!0),t(c.b({has_opened_design_editor:!0})))},[t,l,e,o,r]),(0,n.useEffect)(()=>{i&&!e&&o(!1)},[i,e,o])}(t);let i=(0,ei.MY)();return el.z4.getIsExtension()||"loaded"!==i.status||er.pb.isGoogleClassroomIntegration()?null:n.createElement(n.Fragment,null,n.createElement(cQ,{isFigjamEditor:e,isDesignEditor:t,openFile:a}),!l.Ay.isIpadNative&&n.createElement(c$,{isFigjamEditor:e,isDesignEditor:t,openFile:a}))});function cQ({isFigjamEditor:e}){return n.createElement(n.Fragment,null,e&&n.createElement(cJ.p,null,n.createElement(tW,null),n.createElement(tX,null)))}function c$({isFigjamEditor:e,isDesignEditor:t,openFile:a}){let s=(0,cX.tG)(),c=(0,o.q8)();return n.createElement(n.Fragment,null,t&&!(0,i.nl)()&&n.createElement(cJ.p,null,n.createElement(tl,null)),e&&!t&&n.createElement(cM.Q,null,n.createElement(cJ.p,null,n.createElement(tm,null))),a?.teamId&&n.createElement(cM.Q,null,n.createElement(cJ.p,{featureFlag:"pro_trials_v3_ux"},n.createElement(oy,{teamId:a.teamId,isDesignEditor:t,isFigJamEditor:e}))),a?.teamId&&n.createElement(cM.Q,null,n.createElement(cJ.p,null,n.createElement(oh,{teamId:a.teamId,isDesignEditor:t,isFigJamEditor:e}))),t&&n.createElement(cJ.p,null,n.createElement(aR,null)),n.createElement(cJ.p,null,n.createElement(aG.A,null)),n.createElement(cJ.p,null,n.createElement(aH.F,null)),n.createElement(cJ.p,null,n.createElement(aV.w,null)),!l.Xb&&n.createElement(n.Fragment,null,n.createElement(cJ.p,null,n.createElement(aW.$l,null)),n.createElement(cJ.p,null,n.createElement(av.P,null))),a?.canEditCanvas&&e&&!t&&n.createElement(cJ.p,null,n.createElement(rQ,{openFile:a}),n.createElement(l4,null),n.createElement(rc,null),n.createElement(r3,null),n.createElement(ry,null),n.createElement(rv,null)),e&&!t&&n.createElement(n.Fragment,null,n.createElement(cJ.p,{featureFlag:"nux_gen0_overlay_enabled"},n.createElement(az.L,null)),n.createElement(cJ.p,null,n.createElement(rG,null))),n.createElement(cJ.p,null,n.createElement(l6.KX,null)),e&&n.createElement(cJ.p,null,n.createElement(s4,null)),n.createElement(cJ.p,null,n.createElement(im,null)),n.createElement(cJ.p,null,n.createElement(iS.Wk,null)),t&&n.createElement(cJ.p,null,n.createElement(sj,null)),t&&n.createElement(cJ.p,null,n.createElement(cy,null)),t&&n.createElement(cJ.p,null,n.createElement(ay,null)),e&&n.createElement(cJ.p,null,n.createElement(s2,null)),n.createElement(cJ.p,null,n.createElement(cV,null)),n.createElement(cJ.p,null,n.createElement(eB,null)),e&&n.createElement(n.Fragment,null,n.createElement(cJ.p,null,n.createElement(tO,null))),t&&a?.canEdit&&n.createElement(cJ.p,null,n.createElement(sB,null)),t&&a?.canEdit&&n.createElement(cJ.p,null,n.createElement(aw,null)),t&&n.createElement(cJ.p,null,n.createElement(t3,null)),n.createElement(cJ.p,null,n.createElement(tv,null)),!l.Xb&&n.createElement(cJ.p,null,n.createElement(aU,null)),n.createElement(cJ.p,null,n.createElement(aK.b,null)),t&&n.createElement(cJ.p,null,n.createElement(iC,null)),t&&n.createElement(cJ.p,null,n.createElement(cL,null),n.createElement(cO,null)),t&&n.createElement(cJ.p,{featureFlag:"cursor_bot"},n.createElement(cN,null),n.createElement(cS,null)),e&&!c&&!(0,r.kc)().figjam_synthesize_handbrake&&n.createElement(cJ.p,null,e&&n.createElement(en,null)),e&&!c&&!(0,r.kc)().figjam_synthesize_handbrake&&n.createElement(cJ.p,null,e&&n.createElement(D.Cw,null)),e&&n.createElement(cJ.p,{featureFlag:"figjam_pages_in_figjam"},e&&n.createElement(tC.$8,null)),e&&n.createElement(cJ.p,null,n.createElement(tZ.PC,null)),s&&n.createElement(cJ.p,null,e&&n.createElement(tb.vi,null)),t&&n.createElement(cJ.p,null,n.createElement(eM,null)),e&&n.createElement(cJ.p,null,n.createElement(ow.rj,null),n.createElement(oI,null)),t&&n.createElement(cJ.p,{featureFlag:"rollout_pinned_comments_ff"},n.createElement(iT,null),n.createElement(iN,null)),n.createElement(cJ.p,{featureFlag:"qa_v2"},n.createElement(aI,null)),e&&n.createElement(cJ.p,null,n.createElement(oL,null),n.createElement(nE,null)),n.createElement(cJ.p,{featureFlag:"config_24_feature_carousel"},n.createElement(ti.M,null)),a&&n.createElement(cJ.p,{featureFlag:"ui3_and_ai_welcome_modal"},n.createElement(sS,{openFile:a}),n.createElement(oB,null),n.createElement(oD,null)),n.createElement(cJ.p,null,n.createElement(cj,null)),n.createElement(cJ.p,null,n.createElement(cY,null)),n.createElement(cJ.p,null,n.createElement(eE,null)))}},56207:(e,t,a)=>{a.d(t,{AI:()=>b,bX:()=>v,i1:()=>I,vi:()=>S});var n=a(411855),r=a(320063),l=a(374626),i=a(288706),o=a(646240),s=a(939863),c=a(101505),d=a(456104),u=a(683694),m=a(582947),p=a(397065),_=a(143678),f=a(324611),g=a(340514),h=a(493364),E=a(463546),y=a(583765);let v="ai_generate_onboarding_key",b="ai_new_file_modal_v2_onboarding_key",C="has_seen_figjam_ai_modal_overlay",w="has_seen_figjam_ai_toolbar_tooltip",k=(0,m.r1)(y.W1),x=(0,m.r1)(C),T=(0,m.r1)(w),N=(0,m.r1)("figjam_editor_onboarded");function S(){let e=(0,l.md)(T),t=(0,l.md)(y.qe),a=(0,l.md)(y.rM),r=(0,d.e)({overlay:E.QLv,priority:p.N.HIGH_PRIORITY_MODAL},[e]);return(0,n.useEffect)(()=>{let e=setTimeout(()=>{r.show({canShow:e=>!e&&a&&t})},1e3);return()=>clearTimeout(e)},[t,a,r]),n.createElement(g.rq,{isShowing:r.isShowing,userFlagOnShow:w,targetKey:v,onClose:r.complete,trackingContextName:_.e0.AI_TOPBAR_TOOLTIP,title:(0,s.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.title"),description:(0,s.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.description"),emphasized:!0})}function I({targetKey:e}){let t=(0,l.md)((0,i.Rq)(u.Sb)),a=(0,l.md)(k),m=(0,l.md)(x),v=(0,l.md)(N),b=(0,o.Xr)(y.RC),w=(0,d.e)({overlay:E.xiH,priority:p.N.HIGH_PRIORITY_MODAL},[a,m,t,v]);(0,r.h)(()=>{w.show({canShow:(e,t,a,n)=>!e&&!t&&!a&&n})});let T=()=>{w.complete(),b(!0)};return(0,r.h)(()=>()=>{T()}),n.createElement(g.rq,{isShowing:w.isShowing,userFlagOnShow:C,targetKey:e,onClose:T,onTargetLost:T,trackingContextName:_.e0.AI_MODAL_ONBOARDING_TOOLTIP,arrowPosition:h.F_.LEFT_TITLE,title:(0,s.tx)("whiteboard.ai_onboarding.new_file_modal.title"),media:n.createElement(f.y,{src:"https://static.figma.com/uploads/b306123ab827a626d46db70bcc5a74e9e76feacf",alt:"",aspectRatio:301/154}),description:(0,s.tx)("whiteboard.ai_onboarding.new_file_modal.footer"),primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:T,ctaTrackingDescriptor:c.c.GOT_IT}})}},957379:(e,t,a)=>{a.d(t,{$8:()=>x,gh:()=>C,jn:()=>b});var n=a(411855),r=a(374626),l=a(913016),i=a(939863),o=a(226055),s=a(456104),c=a(683694),d=a(723239),u=a(582947),m=a(29680),p=a(335682),_=a(694687),f=a(243987),g=a(984968),h=a(397065),E=a(340514),y=a(463546);let v="seen_figjam_pages_launch_tooltip",b="used_figjam_pages",C="figjam-pages-onboarding-key",w=(0,u.r1)(v),k=(0,u.r1)(b);function x(){let e=(0,r.md)(w),t=(0,r.md)(k),a=(0,r.md)(c.zo),u=(0,r.md)(d.Fy),b=(0,o.GS)(),x=(0,m.aV)(),T=(0,p.q5)(),N=!!(T&&(0,f.dT)(T)),S=Date.now()<=l.rn.getTime()+2592e6,I=(0,g.ol)(),A=(0,_.sZ)(),L=!!(I?.student_team||A?.k12_google_org),{show:O,isShowing:M,complete:P}=(0,s.e)({overlay:y.$8i,priority:h.N.SECONDARY_MODAL},[e,a,u,t]);return n.useEffect(()=>{O({canShow:(e,t,a,n)=>!e&&N&&t&&a&&!n&&S&&!b&&!x&&!L})},[O,e,N,a,u,t,S,b,x,L]),n.createElement(E.rq,{isShowing:M,userFlagOnShow:v,emphasized:!0,title:(0,i.tx)("pages_panel.toolbar.rcs_title"),description:n.createElement("p",null,(0,i.tx)("pages_panel.toolbar.rcs_desc")),targetKey:C,onClose:P,trackingContextName:"figjam_pages_onboarding_pointer"})}},339690:(e,t,a)=>{a.d(t,{AV:()=>f,Lj:()=>g,PC:()=>b,sW:()=>E});var n=a(411855),r=a(374626),l=a(939863),i=a(226055),o=a(456104),s=a(683694),c=a(723239),d=a(582947),u=a(29680),m=a(397065),p=a(116135),_=a(463546);let f="figjam-ui3-left-panel-onboarding-key",g="figjam-ui3-right-rpanel-onboarding-key",h="seen_figjam_ui3_launch_tooltip",E="used_figjam_ui3",y=(0,d.r1)(h),v=(0,d.r1)(E);function b(){let e=(0,r.md)(y),t=(0,r.md)(v),a=(0,r.md)(s.zo),d=(0,r.md)(c.Fy),E=(0,i.GS)(),b=(0,u.aV)(),{show:C,isShowing:w,complete:k}=(0,o.e)({overlay:_.PCP,priority:m.N.SECONDARY_MODAL},[e,a,d,t]);n.useEffect(()=>{C({canShow:(e,t,a,n)=>!e&&t&&a&&!n&&E&&!b})},[C,e,a,d,t,E,b]);let x=[{title:(0,l.tx)("whiteboard.ui3_panels.rcs_title"),description:(0,l.tx)("whiteboard.ui3_left_panel.rcs_description"),trackingContextName:"figjam_ui3_left_panel_onboarding_pointer",targetKey:f,emphasized:!0,disableHighlight:!0},{title:(0,l.tx)("whiteboard.ui3_panels.rcs_title"),description:(0,l.tx)("whiteboard.ui3_right_panel.rcs_description"),trackingContextName:"figjam_ui3_right_panel_onboarding_pointer",targetKey:g,emphasized:!0,disableHighlight:!0}];return n.createElement(p.WZ,{isShowing:w,steps:x,onComplete:k,userFlagOnShow:h})}},698380:(e,t,a)=>{a.d(t,{O:()=>l});var n=a(411855),r=a(939683);function l(){let e=(0,r.U)();return(0,n.useCallback)(t=>{e("figjam_onboarding_event",t,{batchRequest:!1})},[e])}},342720:(e,t,a)=>{a.d(t,{CM:()=>h,mI:()=>E,wV:()=>b,mN:()=>y,vX:()=>v,rL:()=>C});var n=a(411855),r=a(629019),l=a.n(r),i=a(946689),o=a(511443),s=a(574176),c=a(47506),d=a(939863);function u({onClick:e,autoFocus:t,children:a,trackingEventName:r,large:o}){return n.createElement(i.vd,{className:l()({"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":o}),onClick:e,autoFocus:t,trackingEventName:r},a)}var m=a(698380),p=a(601538),_=a(979686),f=a(537240),g=a(874529);let h="FigJam Editor Onboarding";function E(e){return n.createElement("div",{className:f.hQ},e.svg&&n.createElement("div",{className:f.ZS},n.createElement(s.B,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:f.IP},e.titleText?e.titleText:"",e.bodyText),e.buttonText&&e.onButtonClick&&n.createElement("div",{className:f.UD},n.createElement(u,{onClick:e.onButtonClick,autoFocus:!0},e.buttonText)))}let y="https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1";function v(e){let t=(0,m.O)(),a=(0,_.hO)()<o.lc+110;return n.createElement(n.Fragment,null,e.children,n.createElement(i.vd,{className:l()(f.SZ,{[f.x1]:a}),onClick:()=>{e.onSkipClick(),(0,c.YQ)({id:p.P7}),t({eventName:"msv2_skipped",useCase:e.useCase})},autoFocus:!0,trackingProperties:{text:"Skip intro"}},(0,d.tx)("figjam_onboarding_make_something.all.skip_intro"),n.createElement(s.B,{svg:g.A})))}function b(e){return n.createElement("div",{className:l()({[f.xn]:!0})},n.createElement(E,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg}))}function C(e){let{useCase:t,stepName:a,stepNum:r}=e,l=(0,m.O)();(0,n.useEffect)(()=>{l({eventName:"msv2_step_shown",useCase:t,stepName:a,stepNum:r})},[a,r,l,t])}},5231:(e,t,a)=>{a.d(t,{m5:()=>L,pN:()=>I,rj:()=>O});var n=a(411855),r=a(188507),l=a(587670),i=a(374626),o=a(288706),s=a(939863),c=a(101505),d=a(456104),u=a(683694),m=a(723239),p=a(582947),_=a(373119),f=a(177505),g=a(601607),h=a(397065),E=a(324611),y=a(340514),v=a(493364),b=a(463546),C=a(583765),w=a(315944),k=a(979686),x=a(520177),T=a(258751),N=a(787523),S=a(526518);let I="section_presets_announcement_key",A="seen_figjam_section_presets_announcement",L=(0,p.Fu)(A);function O(){let e=(0,i.md)(T.P)===N.iH.TRUE,t=(0,r.d4)(e=>e.mirror.appModel.currentPage),a=(0,g.Fk)((t,a)=>(0,f.zC)(t,a)||e&&(0,f.re)(t,a),t),p=(0,_.q)(),O=(0,i.md)((0,o.Rq)(u.Sb)),M=(0,i.md)(L),P=(0,i.md)(x.w),R=(0,k.FF)(),D=function(){let[e,t]=(0,n.useState)(!1),a=(0,r.d4)(e=>e.isMakeSomethingV2Active),l=(0,i.md)(C.rM);return(0,n.useEffect)(()=>{(a||l)&&t(!0)},[l,a]),e}(),F=(0,i.md)(C.dO),B=(0,i.md)(m.mp),U=F.status!==w.c.NONE,[G,H]=(0,n.useState)(!1),{show:V,isShowing:K,complete:z}=(0,d.e)({overlay:b.pjo,priority:h.N.SECONDARY_MODAL},[M,O,B]),W=1e3*parseFloat(S.H)+1e3;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{H(!0)},W);return()=>{clearTimeout(e)}},[W]),(0,n.useEffect)(()=>{P&&!D&&!U&&a&&p&&R&&G&&V({canShow:(e,t,a)=>{let n=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a);return!e&&!t&&n}})},[V,a,p,P,R,G,U,D]),n.createElement(y.rq,{isShowing:K,userFlagOnShow:A,targetKey:I,onClose:z,trackingContextName:"section_preset_picker_dlt_announcement",title:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.title"),description:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.description"),media:n.createElement(E.w,{src:"https://static.figma.com/uploads/0ccb9b0b677f719939bd9bacd937201dfea4e8c9",aspectRatio:4/3}),primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:z,ctaTrackingDescriptor:c.c.GOT_IT},secondaryCta:{label:(0,s.tx)("whiteboard.section_presets_onboarding.feature_announcement.secondary"),type:"button",onClick:()=>{e&&l.gw5.setFigjamStarterKitEnabled(!1),l.T4N.createSectionForOnboarding(),z()},ctaTrackingDescriptor:c.c.SECTION_PRESET_PICKER_SHOW_ME},arrowPosition:v.F_.BOTTOM})}},311350:(e,t,a)=>{a.d(t,{T:()=>ea,G:()=>$});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(395096),s=a(121913),c=a(966712),d=a(563706),u=a(96328),m=a(192437),p=a(939863),_=a(392592),f=a(37943),g=a(529906),h=a(516398),E=a(617453),y=a(630331),v=a(457630),b=a(100197),C=a(239671),w=a(325621),k=a(554905),x=a(448211),T=a(587670),N=a(862442),S=a(601607),I=a(730371),A=a(842164);class L{constructor(e){this.store=e}get graph(){return this.store.getState().mirror.sceneGraph}id(e){return e.guid}isRoot(e){let t=this.parent(e);return!t||"DOCUMENT"===t.type}parent(e){let t=e.parentNode;return t&&"DOCUMENT"!==t.type?t:void 0}interpret(e){if(!e||"SECTION_OVERLAY"===e.type)return{inclusion:A.v.OMIT};if("CANVAS"===e.type)return{inclusion:A.v.INCLUDE};if(e.resizeToFit)return{inclusion:A.v.CHILDREN};let t=(0,x.xR)(T.Egt.getNodeTransformProperties(e.guid)),a=(0,x.U3)(e),n=(0,x.sh)({type:e.type,name:e.name}),r=(0,x.q4)(e),l=(0,x.q4)(e.textSublayer),i=T.Egt.getStickableFrequencies(e.guid)||{},o=e.accessibleLabel,s="TABLE"===e.type?(0,x.qJ)(this.graph,e):null,c="SECTION"===e.type&&e.sectionContentsHidden;return{guid:e.guid,inclusion:A.v.INCLUDE,type:e.type,author:e.authorVisible&&e.authorName?e.authorName:null,directTextContent:r,innerTextContent:l,tableCells:s,transformProperties:t,ariaRole:a,name:e.name,headerLabel:n,shapeType:"SHAPE_WITH_TEXT"===e.type?e.shapeWithTextType:null,stampFrequencies:i,accessibleLabel:o,contentsHidden:c,absoluteTransform:e.absoluteTransform,dimensions:e.size}}comparePayloads(e,t){if(O(e)&&O(t))return(0,r.bN)(e.inclusion,t.inclusion);if(O(e)||O(t))return!1;{let{transformProperties:a,directTextContent:n,innerTextContent:l,stampFrequencies:i,accessibleLabel:o,dimensions:s,absoluteTransform:c,...d}=e,{transformProperties:u,directTextContent:m,innerTextContent:p,stampFrequencies:_,accessibleLabel:f,dimensions:g,absoluteTransform:h,...E}=t;return(0,r.bN)(d,E)&&(0,r.bN)(s,g)&&(0,r.bN)(c,h)&&(0,r.bN)(a,u)&&(0,r.bN)(i,_)&&(0,r.bN)(o,f)&&(0,I.deepEquals)(n,m)&&(0,I.deepEquals)(l,p)}}}function O(e){return void 0!==e&&"inclusion"in e&&1===Object.keys(e).length}class M extends L{children(e){return e.childrenNodes}}var P=a(681816),R=a(237395),D=a(752795),F=a(126049),B=a(234945);function U({logAction:e,nodeMapping:t,currentPage:a,extractorCtor:l}){let i=(0,r.Pj)(),o=(0,n.useMemo)(()=>new l(i),[i,l]),s=(0,R._)(o,e),c=(0,r.d4)(B.dK);(0,r.d4)(B.Xt);let d=(0,F.A)(()=>{if(!a)return;let e=T.AlE.getActiveDocument(),t=T.yGz.flushChangedNodes(e);if(t.length){let e=t.map(e=>c.get(e)).filter(D.isNotNullish);s.updateDirtyNodes(e)}},500,{leading:!0,trailing:!0,maxWait:1e3});(0,n.useEffect)(d);let u=a?T.AlE.getActiveDocument():void 0;return(0,n.useEffect)(()=>{if(void 0!==u)return T.yGz.setMapping(u,t),()=>{T.yGz.flushChangedNodes(u),T.yGz.setMapping(u,T.Zbk.NONE)}},[u,t]),(0,n.useEffect)(()=>{if(!a)return;let e=i.getState().mirror.sceneGraph.get(a);e&&s.updateDirtyNodes([e])},[a,i,s]),s}let G=(0,n.memo)(function(e){let t=(0,S.Fk)(e=>e.getCurrentPage()?.guid),a=(0,N.Z)("design_navigate"),l=(0,b.J2)((0,E.UK)().accessibilityDomDebug),i=U({currentPage:t,extractorCtor:M,logAction:s.h.DESIGN_UPDATE_NODE,nodeMapping:T.Zbk.DESIGN}),{self:o,parent:c,child:d,next:u,prev:m,siblingCount:p,positionAmongSiblings:_}=function(e,t){let{parentId:a,childId:n,prevId:r,nextId:l,selfId:i,siblingCount:o,positionAmongSiblings:s}=(0,S.wA)((e,t,a)=>{let n,r,l;let i=e.get(t),o=i?function(e,t){let a=e?.parentNode??null;for(;a&&t.adjacencies.get(a.guid)?.inclusion!==A.v.INCLUDE;)a=a.parentNode;return a}(i,a):null,s=o?a.adjacencies.get(o.guid)?.childIds:[];s?.length&&((l=s.indexOf(t))>0&&(n=s[l-1]),l<s.length-1&&(r=s[l+1]));let c=a.adjacencies.get(t)?.childIds?.[0];return{selfId:i?.guid,parentId:o?.type==="CANVAS"?void 0:o?.guid,prevId:n,nextId:r,childId:c,siblingCount:s?.length,positionAmongSiblings:l}},e,t);return{parent:(0,R.A)(a,t),child:(0,R.A)(n,t),next:(0,R.A)(l,t),prev:(0,R.A)(r,t),self:(0,R.A)(i,t),siblingCount:o,positionAmongSiblings:s}}((0,r.d4)(e=>{let t=e.mirror.appModel.currentPage;return Object.keys(e.mirror.sceneGraphSelection)[0]||t||"-1:-1"}),i);if(!H(o))return null;let f=H(c)?c:void 0,g=n.createElement(n.Fragment,null,H(m)&&n.createElement(P.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...m,size:m.childIds.length||0,nodeId:m.guid,setSize:p??1,headingLevel:0,setPosition:void 0!==_?_-1:0,parent:f}),n.createElement(P.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...o,size:o.childIds.length||0,nodeId:o.guid,setSize:p??1,headingLevel:0,setPosition:_??0,parent:f},H(d)&&n.createElement(P.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...d,size:d.childIds.length||0,nodeId:d.guid,setSize:1,headingLevel:0,setPosition:0,parent:o})),H(u)&&n.createElement(P.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...u,size:u.childIds.length||0,nodeId:u.guid,setSize:p??1,headingLevel:0,setPosition:void 0!==_?_+1:0,parent:f}));return f?.transformProperties?n.createElement(P.cH,{isDebugMode:l,navigate:a,accessibilityScope:i,...f,size:f.childIds.length,nodeId:f.guid,setSize:1,headingLevel:0,setPosition:0,parent:void 0},g):g});function H(e){return!!(e&&"transformProperties"in e&&e.transformProperties)}class V extends L{children(e){return(0,x.dl)(this.graph,e)?[]:T.glU.getSortedChildGuids(e.guid).map(e=>this.graph.get(e)).filter(D.isNotNullish)}}let K=(0,n.memo)(function(e){let t=(0,S.Fk)(e=>e.getCurrentPage()?.guid),a=(0,N.Z)("figjam_navigate"),r=(0,b.J2)((0,E.UK)().accessibilityDomDebug),l=U({currentPage:t,extractorCtor:V,logAction:s.h.FIGJAM_UPDATE_NODE,nodeMapping:T.Zbk.FIGJAM});return n.createElement(P.cU,{nodeId:t||"",accessibilityScope:l,navigate:a,isDebugMode:r,parent:void 0})}),z=n.createContext({getLastEventWasTab:()=>!1});function W({children:e}){let t=(0,n.useRef)(!1);(0,n.useEffect)(()=>{let e=()=>{t.current=!1},a=({key:e})=>{t.current="Tab"===e};return document.addEventListener("pointerdown",e),document.addEventListener("pointermove",e),document.addEventListener("keydown",a),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointermove",e),document.removeEventListener("keydown",a)}},[]);let a=(0,n.useCallback)(()=>t.current,[]),r=(0,n.useMemo)(()=>({getLastEventWasTab:a}),[a]);return n.createElement(z.Provider,{value:r},e)}var j=a(274071),q=a(157663),Y=a(794272),X=a(356390),J=a(913964);let Z="textInputRegistered";var Q=a(420711);let $=n.createContext({loggerEventName:"uninit_navigate"}),ee=new Map([[C.nT.Whiteboard,{loadAction:s.h.FIGJAM_INITIAL_TREE_LOAD,RootComponent:K}]]),et=new Map([...ee,[C.nT.Design,{loadAction:s.h.DESIGN_INITIAL_TREE_LOAD,RootComponent:G}]]),ea=(0,n.memo)(function(){return n.createElement(W,null,n.createElement(en,null))});function en(){let e=(0,r.d4)(e=>e.selectedView.editorType),{loggerEventName:t}=n.useContext($);!function({loggerEvent:e}){let t=(0,N.Z)(e),{getLastEventWasTab:a}=(0,n.useContext)(z),l=(0,r.d4)(e=>1===Object.keys(e.mirror.sceneGraphSelection).length?Object.keys(e.mirror.sceneGraphSelection)[0]:null),i=n.useMemo(()=>T.CUU&&T.CUU.exists(T.Sie.REDUX)?T.CUU.getSelectedTextRange(T.Sie.REDUX)?.textNodeId:null,[]),o=l||i;n.useEffect(()=>{o&&a()&&t((0,v.QZ)({nodeId:o,...P.B5}),P.tp)},[t,a,o])}({loggerEvent:t});let a=(0,g.e)();(0,j.of)(e);let l=(0,r.wA)(),i=(0,r.d4)(e=>!!e.modalShown);(0,n.useEffect)(()=>{a&&d.Xb&&(i||l(_.F.enqueue({message:(0,p.t)("fullscreen.accessibility.platform_error"),role:"alert",type:"accessibility-dom-react-error"})),l((0,f.mC)({errorType:"platform_error"})))},[l,i,a]);let o=n.useRef(null);(0,h.k4)(o);let s=!d.Xb,u=n.useMemo(()=>(0,c.u4)("a11y_design_dom_mirror",et,ee).get(e),[e]);if(!s)return null;if(!(u&&a))return n.createElement(w.K,null);{let{loadAction:e,RootComponent:t}=u;return n.createElement(m.tH,{onError:()=>{i||l(_.F.enqueue({message:(0,p.t)("fullscreen.accessibility.dom_error"),role:"alert",type:"accessibility-dom-react-error"})),l((0,f.mC)({errorType:"render_error"}))},fallback:n.createElement("div",null),boundaryKey:"FigjamAccessibilityTreeInnerWithViewport"},n.createElement(er,{loadAction:e,accessibleAreaRef:o},n.createElement(t,null)))}}function er({children:e,accessibleAreaRef:t,loadAction:a}){let l=(0,v._X)({subscribeToUpdates_expensive:!0});!function(){let e=(0,n.useRef)(),t=(0,n.useRef)(!1),a=(0,n.useRef)({value:null}),l=X.Y5&&X.Y5.isReady()&&T.VDs.getFocusElementsRegistered(),i=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),o=(0,r.d4)(e=>e.mirror.sceneGraphSelection),s=(0,r.d4)(e=>e.mirror.sceneGraph),{textValue:c,selectionRange:d}=(0,Y.R)(e=>{let t=e.mirror.appModel.activeCanvasEditModeType,a=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(t!==T.m1T.TEXT)return{textValue:null,selectionRange:null};let r=Object.keys(n);if(0===r.length)return{textValue:null,selectionRange:null};let l=a.get(r[r.length-1]);if(null==l)return{textValue:null,selectionRange:null};let i=null!=l.containingCanvas?a.get(l.containingCanvas):null,o=i?.getSelectedTextRange();return{textValue:l?.textContent,selectionRange:o}});a.current.value=c,a.current.selectionStart=d?.start,a.current.selectionEnd=d?.end;let u=(0,n.useCallback)((a,n,r)=>{t.current||null==e.current||null==a||(e.current.value=a),t.current||null==e.current||null==n||null==r||e.current.setSelectionRange(n,r)},[]);(0,n.useEffect)(()=>{u(c,d?.start,d?.end)},[c,d?.end,d?.start,d?.textNodeId,u]);let m=()=>{t.current=!1},_=()=>{t.current=!0},f=(0,n.useCallback)(()=>{u(a.current.value,a.current.selectionStart,a.current.selectionEnd),t.current=!1},[u]);(0,n.useEffect)(()=>{if(l){if(e.current=function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target"),t=null==e?null:Array.from(e).filter(e=>"textarea"===e.tagName.toLowerCase()&&!e.hasAttribute("readonly")).map(e=>e);return t?.length===1?t[0]:null}(),e.current?.hasAttribute(Z)){q.k.error("Input mirror hook registered multiple times");return}return e.current?.setAttribute(Z,"true"),e.current?.addEventListener("compositionend",m),e.current?.addEventListener("compositionstart",_),e.current?.addEventListener("focus",f),e.current?.addEventListener("input",m),()=>{e.current?.removeAttribute(Z),e.current?.removeEventListener("compositionend",m),e.current?.removeEventListener("compositionstart",_),e.current?.removeEventListener("focus",f),e.current?.removeEventListener("input",m)}}},[l,f]);let g=i===T.m1T.TEXT?function(e,t){let a=Object.keys(t),n=a.length>0?e.get(a[0]):null,{guid:r,type:l,shapeWithTextType:i}=n??{guid:void 0,type:void 0,shapeWithTextType:void 0};if(null==r)return"";if("SHAPE_WITH_TEXT"===l)return(0,x.ZG)(i);if("TABLE"===l){let t=e.get(a[a.length-1]);if(null==t)return(0,J.r)(l);{let{tableCellRowIndex:e,tableCellColumnIndex:a}=t;return(0,p.t)("fullscreen.accessibility_dom.node_name_table_cell",{r:e,c:a})}}return n?.isSymbolSublayer||n?.isInstanceSublayer?(0,p.t)("fullscreen.accessibility_dom.node_name_instance"):(0,J.r)(l)}(s,o):"";(0,n.useEffect)(()=>{e.current&&(e.current.ariaLabel=g)},[g])}();let[c]=(0,o.A)(l,500,{trailing:!0}),d=(0,b.J2)((0,E.UK)().accessibilityDomDebug),m=(0,k.Td)();(0,y.gf)();let _=(0,r.wA)();(0,n.useEffect)(()=>{_((0,f.mC)({errorType:null}))},[_]),(0,n.useEffect)(()=>{(0,s.f)(a)},[a]);let g=(0,n.useMemo)(()=>m?(0,u.Yx)([(0,p.t)("fullscreen.accessibility.main_region"),(0,p.t)("fullscreen.filename_view.view-only")],"unit"):(0,p.t)("fullscreen.accessibility.main_region"),[m]),h=(0,n.useMemo)(()=>(0,x.it)(c),[c]),C=i()(Q.kL,{[Q.Qg]:!d});return n.createElement("div",{className:C,ref:e=>{t.current=e},id:j.Gl,"aria-label":g,role:"main",tabIndex:0,"data-fullscreen-intercept-dangerously-include-tab":!0,onFocusCapture:()=>{t.current?.setAttribute("aria-hidden","false")}},n.createElement("div",{style:h},e))}},433195:(e,t,a)=>{a.d(t,{V1:()=>r,WX:()=>n,b6:()=>l});let n="dev_handoff_seen_annotation_introduction_overlay",r="dev_handoff_seen_annotation_tools_overlay",l="dev_handoff_seen_annotation_upsell_overlay"},170399:(e,t,a)=>{a.d(t,{wc:()=>I,QU:()=>L});var n=a(411855),r=a(188507),l=a(587670),i=a(776250),o=a(737947),s=a(179479),c=a(38580),d=a(374626),u=a(799569),m=a(946689),p=a(574176),_=a(939863),f=a(738269),g=a(809831),h=a(678340),E=a(940596),y=a(100197),v=a(239671),b=a(447402);let C="memory_warning--memoryUsageContainer--CWdMy";var w=a(450147),k=a(967063),x=a(586599),T=a(890666),N=a(612325);function S(e){let t,a,i,o,s;let c=(0,r.d4)(e=>!e.openFile?.canEdit),d=(0,y.ut)(l.Ez5?.uiState().isRecovery,!1),u=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===l.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),f=e.warningLevel,g=(f===h.Wy.WARNING?(s=(0,_.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),d?s=(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):c&&!u?s=(0,_.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):c&&u?s=(0,_.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!c&&u&&(s=(0,_.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):f===h.Wy.ERROR?(s=(0,_.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),d?s=(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):c&&!u?s=(0,_.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):c&&u?s=(0,_.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!c&&u&&(s=(0,_.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):f===h.Wy.SAFE&&e.hasHadUnsafeWarningLevel&&(s=(0,_.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),d&&(s=(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),s);if(f===h.Wy.WARNING)t="memory_warning--warningMemoryContentContainerWarning--SUOy5 memory_warning--warningMemoryContentContainer--xajq3",a="memory_warning--memoryWarningContentIconWarning--7lQhY",i=d?T.A:k.A,o=d?(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,_.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(f===h.Wy.ERROR)t="memory_warning--warningMemoryContentContainerError---AmhI memory_warning--warningMemoryContentContainer--xajq3",a="memory_warning--memoryWarningContentIconError--iWcmQ",i=d?T.A:N.A,o=d?(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,_.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(f!==h.Wy.SAFE||!e.hasHadUnsafeWarningLevel)return null;t="memory_warning--warningMemoryContentContainerSafe--KUmYN memory_warning--warningMemoryContentContainer--xajq3",a="memory_warning--memoryWarningContentIconSafe--BHw5o",i=w.A,o=d?(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,_.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return n.createElement("div",{className:"memory_warning--memoryWarningContentBetaContainer--xcDgj"},n.createElement("div",{className:t},n.createElement("div",{className:"memory_warning--memoryWarningContentIconContainer--CeqsI"},n.createElement(p.B,{className:a,svg:i})),n.createElement("div",{className:"memory_warning--memoryWarningContentBodyHeader--HRmSt"},n.createElement("div",{className:"memory_warning--memoryWarningContentHeader--b9El-"},o),n.createElement("p",null,g,(f===h.Wy.ERROR||f===h.Wy.WARNING)&&n.createElement(m.Us,{className:f===h.Wy.ERROR?"memory_warning--learnMoreLinkError--JsmPQ":"memory_warning--learnMoreLinkWarning--AHB-S",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",target:"_blank",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked"}," ",(0,_.tx)("fullscreen.pages_panel.memory_usage_learn_more"))))))}function I(e){let t=e.showSidePercentage,a=e.warningLevel&&e.warningLevel>=h.Wy.ERROR;return n.createElement(n.Fragment,null,n.createElement("div",{className:"memory_warning--usageBarContainer--F67OB"},n.createElement(p.B,{style:{left:`${h.xk}%`},className:"memory_warning--icon--HcqCK",svg:x.A}),n.createElement("div",{className:t&&a?"memory_warning--usageBarBorderDanger--3tbol memory_warning--usageBarBorder--RmhaH":"memory_warning--usageBarBorder--RmhaH"},n.createElement("div",{className:t&&a?"memory_warning--usageBarFillDanger--Ew9Tl memory_warning--usageBarFill--ximmI":"memory_warning--usageBarFill--ximmI",style:{width:`${e.memoryUsagePercent}%`}}))),t&&n.createElement("div",{className:a?"memory_warning--usageBarTextDanger--d9-gr memory_warning--usageBarText--6Z1O9":"memory_warning--usageBarText--6Z1O9"},`${Math.trunc(e.memoryUsagePercent).toString()}%`))}let A=(0,E.Wh)(()=>(0,c.eU)(h.Wy.SAFE));function L(e){let t=(0,r.wA)(),a=(0,d.md)(h.Tm),i=(0,d.md)(h.Vu),o=(0,d.md)(h.eE),c=function({warningLevel:e}){let t=e!==h.Wy.SAFE,[a,r]=(0,n.useState)(t);return(0,n.useEffect)(()=>{t&&r(!0)},[t]),a}({warningLevel:o}),u=(0,g.E3)(),m=(0,y.ut)(l.Ez5?.uiState().isRecovery,!1),[p,_]=(0,n.useState)(m);!function({warningLevel:e,usingTestMemory:t,memoryUsedPercent:a,fileKey:l}){let[i,o]=(0,d.fp)(A),c=(0,r.Pj)(),u=(0,s.F)(()=>{var t,n;let r=c.getState(),i=!r.openFile?.canEdit,o=r.mirror.appModel.topLevelMode;t={warningEvent:"BANNER_LEVEL_CHANGE",fileKey:l},n={warningLevel:h.Wy[e],memoryUsedPercent:a,topLevelMode:o,isReadOnly:i},(0,b.$w)(t,{warningOnPct:h.xk,errorOnPct:h.pl,...n})}),m=e!==i&&!t;(0,n.useEffect)(()=>{m&&(o(e),u.current())},[e,m,o,u])}({warningLevel:o,usingTestMemory:i,memoryUsedPercent:a,fileKey:e.fileKey}),function({warningLevel:e,hasHadUnsafeWarningLevel:t}){let a=e===h.Wy.SAFE&&t;(0,n.useEffect)(()=>{if(a){let e=()=>{"hidden"===document.visibilityState&&(l.Ez5.uiState().showMemoryUsage.set(!1),document.removeEventListener("visibilitychange",e))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[a])}({warningLevel:o,hasHadUnsafeWarningLevel:c}),function({warningLevel:e}){(0,n.useEffect)(()=>{let t=e!==h.Wy.SAFE;l.Ez5.uiState().showInFileMemoryPercentage.set(t),t&&l.Ez5.uiState().showMemoryUsage.set(!0)},[e])}({warningLevel:o});let f=(0,y.ut)(l.Ez5?.uiState().showMemoryUsage,!1);return f||m?n.createElement(O,{fileKey:e.fileKey,warningLevel:o,hasHadUnsafeWarningLevel:c,memoryUsedPct:a,showMemoryUsage:f,dispatch:t,closeManageMemoryModal:e.closeManageMemoryModal,toggleManageMemoryModal:e.toggleManageMemoryModal,editorType:u,recoveryMemDisplay:p,setRecoveryMemDisplay:_}):null}function O(e){let t=t=>{let a={view:"fullscreen",editorType:t===v.nT.Design?v.nT.Design:v.nT.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1};(0,i.sx)("exit_recovery_mode",{currentAllocatedBytes:l.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(f.$T(a)),o.Ay.reload("Memory warning panel")},{warningLevel:a,hasHadUnsafeWarningLevel:r,memoryUsedPct:s,showMemoryUsage:c,editorType:d,recoveryMemDisplay:p}=e,g=a===h.Wy.ERROR,E=(0,y.ut)(l.Ez5?.uiState().isRecovery,!1);return n.createElement(n.Fragment,null,(c||p)&&n.createElement("div",{className:C,id:C},n.createElement("div",{className:"memory_warning--memoryUsageHeader--WNS5R"},n.createElement("div",{className:"memory_warning--memoryUsageHeaderTitle--65Nsp"},(0,_.tx)("fullscreen.pages_panel.memory_usage")),n.createElement("div",{className:"memory_warning--memoryUsageCloseIcon--6rw0p"},n.createElement(u.Jn,{onClick:()=>{(0,i.sx)("manage_memory_modal_closed",{currentAllocatedBytes:l.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),l.Ez5.uiState().showMemoryUsage.set(!1),l.Ez5.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},disabled:g,className:g?"memory_warning--memoryUsageCloseButtonError--m6jl7":""}))),n.createElement("div",{className:g?"memory_warning--memoryUsageBodyContainerError--6oxZX":"memory_warning--memoryUsageBodyContainer--NE4lJ"},n.createElement(I,{memoryUsagePercent:s,showSidePercentage:!0,warningLevel:a})),n.createElement(S,{warningLevel:a,hasHadUnsafeWarningLevel:r}),(()=>{let t=(0,_.t)("manage_memory_modal.manage_memory_button"),a=()=>{e.toggleManageMemoryModal()};return n.createElement("div",{className:"memory_warning--memoryWarningButtonContainer--GkcGB"},n.createElement(m.tM,{onClick:()=>a(),trackingProperties:{buttonContext:t}},t))})(),E&&s<h.im&&n.createElement("div",{className:c?"memory_warning--recoveryModeBannerExitButtonContainer--7A1pw":"memory_warning--recoveryModeExitButtonContainer--Y21eB"},n.createElement(m.vd,{onClick:()=>t(d)},(0,_.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")))))}},590843:(e,t,a)=>{a.d(t,{P:()=>o,X:()=>i});var n=a(411855),r=a(335682),l=a(377747);let i=(0,n.createContext)(null);function o({children:e}){let t=(0,r.q5)(),a=t?.fileRepoId,o=(0,l.Yj)(a??null),s=(0,n.useMemo)(()=>o&&"loaded"===o.status?o.data.activeBranches.length:null,[o]);return n.createElement(i.Provider,{value:s},e)}},100303:(e,t,a)=>{a.d(t,{A5:()=>P,CT:()=>R,EA:()=>O,II:()=>H,L4:()=>D,SK:()=>G,SQ:()=>F,WB:()=>U,ih:()=>M});var n=a(411855),r=a(188507),l=a(587670),i=a(534611),o=a(707458),s=a(126049),c=a(344780),d=a(173292),u=a(939683),m=a(374626),p=a(498750),_=a(316082),f=a(96328),g=a(456363),h=a(939863),E=a(772167),y=a(809831),v=a(478556),b=a(283942),C=a(435061),w=a(862442),k=a(843495),x=a(29680),T=a(479118),N=a(100197),S=a(776726),I=a(179536),A=a(326127),L=a(81804);let O=n.createContext(!1);function M({onChange:e,query:t,focusedByButtons:a,innerRef:r,onKeyDown:l,onKeyUp:i,onPasteCapture:o,onFocus:s,editorType:c}){return n.createElement(A.H,{innerRef:r,value:t,placeholder:(0,h.t)("canvas_search.search_placeholder"),onFocus:e=>{s&&s(e),!a.current&&e.target&&e.target.select(),a.current=!1},onPasteCapture:o,onKeyDown:e=>{e.keyCode===p.Uz.F?(0,p.Te)(e)?(e.currentTarget.select(),e.preventDefault()):(0,b.jr)(e,b.W0.NO,b.VA.NO)&&e.stopPropagation():l(e)},onKeyUp:i,onChange:e,dataTestId:"canvas-search-input",recordingKey:`${c}.canvas_search.search`})}function P(e,t,a){let r=(0,n.useCallback)(({direction:n,shouldSelectInput:r})=>{if(e&&!e.current?.matches(":focus")){let t=new IntersectionObserver(n=>{let[l]=n;r?e.current?.select():(a.current=!0,e.current?.focus()),l.isIntersecting&&t.disconnect()});return e.current&&t.observe(e.current),()=>t.disconnect()}n&&t(n,"keyboard")},[a,e,t]);(0,d.p)(v.r.FocusEvent,r)}function R(){let e=(0,n.useRef)(!1),[t,a]=(0,n.useState)(!0),{query:l}=(0,r.d4)(e=>e.canvasSearch),{total:i}=(0,m.md)(g.Fk);return{focusedByButtons:e,hidden:t,setHidden:a,inputRef:n.useRef(null),navDisabled:!l||i<=1,showUi:(0,x.p8)("showUi")}}function D(){let e=(0,w.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope);return(0,n.useCallback)((a,n)=>{e(l.YEY.setActiveResultAndGetViewportSettings(a,n),{additionalTrackEventParams:{searchScope:l.Lov[t]}})},[e,t])}function F(){let e=(0,w.Z)("canvas_search_navigate"),{query:t,scope:a,filters:o,mode:d}=(0,r.d4)(e=>e.canvasSearch),m=(0,r.wA)(),p=(0,n.useRef)(!1),g=(0,x.p8)("currentPage"),h=(0,N.J2)(l.Ez5.uiState().showCanvasSearch),y=(0,x.p8)("pagesList"),[v,b]=(0,n.useState)(!1),[S,I]=(0,n.useState)(l.Ez5.uiState().isRecovery.getCopy()),[A,L]=(0,n.useState)(!1),O=B(),M=(0,u.am)(),P=(0,_.y)(),R=(0,n.useMemo)(()=>P&&(0,T.lH)(y),[P,y])||P&&l.h3O?.isValidatingIncremental(),D=(0,n.useMemo)(()=>!P&&(0,T.lH)(y),[P,y]);(0,n.useLayoutEffect)(()=>{a!==l.Lov.ALL_PAGES||A||!R&&S?l.YEY.setSearchScope(a):(L(!0),scheduler.postTask(async()=>{R&&await (0,C.q)(l._em.FIND_AND_REPLACE),l.YEY.setSearchScope(a),I(!0)},{priority:"user-blocking"}))},[S,y,a,A,R]);let F=(0,n.useCallback)(async(t,n=!0)=>{c.sn.start("canvas_search_time_to_results"),L(!0);let{nav:r,resultsByPage:o}=await O(t,n);Object.keys(o).filter(e=>e!==g&&e!==i.Xy).length?b(!0):b(!1),L(!1),n&&e(r,{additionalTrackEventParams:{searchScope:l.Lov[a]}});let s=c.sn.tryStop("canvas_search_time_to_results");s&&M("canvas_search_time_to_results",{timeElapsedMs:s,searchScope:l.Lov[a],resultCount:Object.values(o).reduce((e,t)=>e+=t.length,0)})},[g,e,a,O,M]),U=(0,s.A)(F,300),G=(0,n.useCallback)((e,t=!0)=>{m(E.NY(e)),L(!!e&&!(0,f.jN)(e)),U(e,t)},[m,U]);return(0,n.useEffect)(()=>{h&&t&&(a!==l.Lov.ALL_PAGES||!R&&S)&&F(t,!1)},[o,d,a,h,y,S,R]),{query:t,showSearch:h,resultsOnOtherPages:v,search:G,next:(0,n.useCallback)((t,a)=>{(0,k.Uc)(""),l.YEY.setHoveredResult(i.AD,-1);let n=!p.current;p.current=!1,e(l.YEY.setNextSearchResultAndGetViewportSettings(t,n),{additionalTrackEventParams:{source:a}})},[e]),exit:(0,n.useCallback)(()=>{l.YEY?.exitSearchMode(l.dNx.NONE)},[]),setNavigateNearestOnce:function(){p.current=!0},mode:d,isLoading:A,allInstancesExpanded:S,missingResultsOnSomePages:D}}function B(){let{scope:e,filters:t,mode:a}=(0,r.d4)(e=>e.canvasSearch),o=(0,x.p8)("currentPage"),s=(0,u.am)(),c=(0,y.lg)(),d=(0,r.d4)(e=>e.mirror.appModel.pagesList);return(0,n.useCallback)(async(n,r=!0,u)=>{let m=u??o;if(!n||(0,f.jN)(n)){let{nav:e}=l.YEY.setSearchResultsAndGetViewportSettings([],m,"",{categories:[],mode:a});return{nav:e,resultsByPage:{}}}let p=!!t[I.kM.MatchCase],_=!!t[I.kM.WholeWords],{resultsByPage:g,metrics:h}=await S.H1.search(n,{searchLayerNames:"design"===c,matchCase:p,wholeWords:_}),E=(0,L.kH)(t),y=e===l.Lov.ACTIVE_PAGE?g[m]?[{pageId:m,results:g[m]}]:[]:Object.keys(g).map(e=>({pageId:e,results:g[e]}));if(e===l.Lov.ACTIVE_PAGE&&g[i.Xy]){let e=g[i.Xy];e.length&&y.push({pageId:i.Xy,results:e})}if(1===n.length){let e=0,t=[],a=y.findIndex(e=>e.pageId===i.Xy);for(let n of(a>-1&&t.push(y[a]),d)){let a=y.findIndex(e=>e.pageId===n.nodeId);if(-1===a)continue;let r=y[a];if(r.results.length>1e3-e){t.push({results:r.results.slice(0,1e3-e),pageId:r.pageId});break}e+=r.results.length,t.push(r)}y=t}let{nav:v,...b}=l.YEY.setSearchResultsAndGetViewportSettings(y,m,n,{categories:E,mode:a}),C=E.map(e=>I.kM[e]);return s("canvas_search_results",{...h,...b,nodeTypes:C,searchScope:l.Lov[e],matchCase:p,wholeWords:_}),{nav:v,resultsByPage:g}},[o,c,t,a,d,e,s])}function U(){let e=(0,N.J2)(l.Ez5.uiState().showCanvasSearch),t=l.YEY.hasDirtyPrimaryInstances(),a=(0,m.md)(g.Fk),r=(0,n.useRef)([]),i=t&&r.current.length,s=(0,n.useMemo)(()=>{if(!e||!a.total||i)return[];let t=l.YEY.getSearchResults(),n=[];return t.forEach(e=>{let t=e.results.map(e=>{let t=o.q.instance.get(e.guid);return t?{...e,textContent:t.textContent,name:t.name}:e});n.push({results:t,pageId:e.pageId})}),r.current=n,n},[a,e,i]);return i?r.current:s}function G(e){return!e.clientX&&!e.clientY}function H(){let{query:e,scope:t}=(0,r.d4)(e=>e.canvasSearch),a=B();return(0,n.useCallback)(n=>{let r=l.YEY.getActiveResult(),i=r.type===l.Z6A.CANVAS,s=n||i&&r.guid;return!!s&&(o.q.instance.setCurrentPageAsync(s).then(()=>{t===l.Lov.ACTIVE_PAGE?a(e,!1,s):l.YEY.setActiveResultAndGetViewportSettings(s,0)}),!0)},[e,t,a])}},332721:(e,t,a)=>{a.d(t,{_:()=>p});var n=a(411855),r=a(767129),l=a(782683),i=a(243742),o=a(574176),s=a(939863),c=a(498606),d=a(227795),u=a(976726),m=a(130715);function p({onClick:e}){return"ui3"===(0,i.DP)().version?n.createElement(r.K,{onClick:e,recordingKey:"canvas_search.search_icon_button","aria-label":(0,s.t)("fullscreen_actions.find"),htmlAttributes:{"data-onboarding-key":"canvas-search","data-tooltip":"canvas-search","data-tooltip-type":c.Ib.LOOKUP}},n.createElement(l.h,null)):n.createElement(d.K0,{"data-onboarding-key":"canvas-search","data-tooltip-type":c.Ib.LOOKUP,"data-tooltip":"canvas-search",onClick:e,recordingKey:"canvas_search.search_icon_button",isBackgroundTransparent:!0,className:u.gV},n.createElement(o.B,{svg:m.A,className:u.v9}))}},326127:(e,t,a)=>{a.d(t,{H:()=>u});var n=a(411855),r=a(629019),l=a.n(r),i=a(498750),o=a(860601),s=a(563706),c=a(91271),d=a(976726);function u({innerRef:e,value:t,placeholder:a,onChange:r,onFocus:u,onKeyDown:m,onKeyUp:p,shiftEnterInsertsNewline:_,dataTestId:f,recordingKey:g,onPasteCapture:h}){let E=(0,n.useCallback)(t=>{e&&(e.current=t?.textarea??null)},[e]),y=t.includes("\n");return n.createElement(c.v,{className:l()(d.Rt,{[d.tI]:!y}),ref:E,focusOnMount:!0,placeholder:a,value:t,spellCheck:!1,recordingKey:g,dataTestId:f,onEscape:o.lQ,disableBorderStyles:!0,onFocus:u,onPasteCapture:h,onKeyDown:e=>{switch(e.keyCode){case i.Uz.ENTER:if(e.preventDefault(),_&&(e.shiftKey||s.Ay.mac&&e.ctrlKey)){let{selectionStart:t,selectionEnd:a}=e.currentTarget;e.currentTarget.setRangeText("\n",t,a,"end"),e.currentTarget.scrollLeft=0,e.stopPropagation(),r(e.currentTarget.value);return}break;case i.Uz.UP_ARROW:case i.Uz.DOWN_ARROW:if(y)return}m(e)},onKeyUp:p,onChange:e=>r(e.currentTarget.value)})}},796825:(e,t,a)=>{a.d(t,{a:()=>k});var n=a(411855),r=a(188507),l=a(587670),i=a(344780),o=a(939683),s=a(374626),c=a(498750),d=a(153234),u=a(456363),m=a(574176),p=a(939863),_=a(392592),f=a(553015),g=a(809831),h=a(662531),E=a(283942),y=a(862442),v=a(193212),b=a(326127),C=a(976726),w=a(969893);function k({query:e,value:t,onChange:a,onFocus:k,recordingKey:x,hasMultipleSelections:T}){let N=(0,r.wA)(),S=(0,v.aq)(),I=(0,y.Z)("canvas_search_navigate"),A=(0,r.d4)(e=>e.canvasSearch.scope),{total:L}=(0,s.md)(u.Fk),O="whiteboard"===(0,g.lg)(),[M,P]=(0,n.useState)(!1),R=e.toLocaleLowerCase()!==t.toLocaleLowerCase(),D=(0,o.am)(),F=!e||!L,B=h.nc.user("canvas-search-replace",a=>{if(T){let{numReplaced:n,timeMs:r}=l.YEY.replaceInMultipleResults(t,{preserveCase:R},l.rpt.ONLY_ACTIVE);D("canvas_search_multi_replace",{source:a,timeMs:r,numReplaced:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),P(!0);return}let n=l.YEY.replaceInActiveResult(t,{preserveCase:R});P(!0),D("canvas_search_replace",{source:a,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),I(n,{delay:300,additionalTrackEventParams:{searchScope:l.Lov[A]}})});return n.createElement("div",null,n.createElement("div",{className:C.N6},!O&&n.createElement("div",{className:C.v9},n.createElement(m.B,{svg:w.A})),n.createElement(b.H,{value:t,placeholder:(0,p.t)("canvas_search.replace_placeholder"),recordingKey:d.Pt(x,"replace_input"),onChange:a,onFocus:e=>{k?.(e,!S())},onKeyDown:e=>{e.keyCode===c.Uz.ENTER?(B("enter"),e.stopPropagation()):M&&(0,c.Fo)(e)&&(0,E.jr)(e,E.W0.YES)&&e.stopPropagation()},shiftEnterInsertsNewline:!0})),n.createElement("div",{className:C._E},n.createElement(f.$,{disabled:F,onClick:()=>B("button"),recordingKey:d.Pt(x,"replace_one")},(0,p.tx)("canvas_search.replace_one")),n.createElement(f.$,{disabled:F,onClick:h.nc.user("canvas-search-replace-all",()=>{i.sn.start("canvas_search_replace_all");let{numReplaced:a,timeMs:n}=l.YEY.replaceInMultipleResults(t,{preserveCase:R},l.rpt.ALL);a>0&&(P(!0),N(_.F.enqueue({type:"canvas-search-replace-all",message:(0,p.t)(O?"canvas_search.replace_all_message_figjam":A===l.Lov.ACTIVE_PAGE?"canvas_search.replace_all_message":"canvas_search.replace_all_message_all_pages",{count:a})}))),D("canvas_search_replace_all",{source:"button",timeMs:n,numReplaced:a,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),i.sn.tryStop("canvas_search_replace_all")}),recordingKey:d.Pt(x,"replace_all")},(0,p.tx)("canvas_search.replace_all"))))}},687351:(e,t,a)=>{a.d(t,{g:()=>G,F:()=>K});var n=a(411855),r=a(188507),l=a(459401),i=a(535904),o=a(538082),s=a(587670),c=a(629019),d=a.n(c),u=a(966712),m=a(374626),p=a(563706),_=a(153234),f=a(456363),g=a(268537),h=a(574176),E=a(46481),y=a(939863),v=a(772167),b=a(798099),C=a(809831),w=a(318812),k=a(29680),x=a(179536),T=a(498606),N=a(720488),S=a(227795),I=a(81804),A=a(77499),L=a(968109),O=a(170379),M=a(313888),P=a(638496),R=a(142284),D=a(999918),F=a(931493),B=a(970823),U=a(785496);function G({lean:e,minWidth:t,recordingKey:a}){let l=(0,r.wA)(),c=(0,w.BK)("CANVAS_SEARCH_FILTER_DROPDOWN"),d=n.useRef(null),h=(0,k.p8)("isReadOnly"),I=(0,m.md)(f.yo),A=(0,r.d4)(e=>e.canvasSearch.filters),L=(0,r.d4)(e=>e.canvasSearch.mode),M="whiteboard"===(0,C.lg)(),P=n.useMemo(()=>{let e=h?[]:[n.createElement(g.y0,{key:"find",primaryText:(0,y.t)("canvas_search.search"),checked:L===s.EW4.FIND,onClick:()=>{l(v.sV(s.EW4.FIND)),c.hide()},recordingKey:_.Pt(a,"settings.find")}),n.createElement(g.y0,{key:"replace",primaryText:(0,y.t)("canvas_search.replace"),checked:L===s.EW4.REPLACE,onClick:()=>{l(v.sV(s.EW4.REPLACE)),c.hide()},recordingKey:_.Pt(a,"settings","replace")}),n.createElement(g.wv,{key:"sep1"})],t=(t,r=!1)=>{let i=!!A[t];e.push(n.createElement(H,{key:t,option:t,checked:i,counts:I,onClick:e=>{r||e.ctrlKey||p.Ay.mac&&e.metaKey?(l(v.DI(t)),r&&c.hide()):(l(v.zx(t)),c.hide())},recordingKey:a}))};if(L===s.EW4.FIND&&!M){let r=!x.b4.some(e=>!!A[e]),i=Object.values(I).reduce((e,t)=>e+t,0);e.push(n.createElement(V,{checked:r,icon:O.A,label:(0,y.t)("canvas_search.filter.all"),count:i,onClick:()=>{l(v.dY()),c.hide()},recordingKey:_.Pt(a,"settings","All")})),x.b4.forEach(e=>t(e)),e.push(n.createElement(g.wv,{key:"sep2"}))}return x._V.forEach(e=>t(e,!0)),e},[l,c,A,M,h,L,I,a]);return(0,n.useEffect)(()=>{h&&L===s.EW4.REPLACE&&l(v.sV(s.EW4.FIND))},[l,h,L]),n.createElement("div",{role:"none",onClick:b.dG,onMouseUp:b.dG},n.createElement("div",{ref:d},(0,u.kc)().ce_tv_fpl_dialog_trigger_button?n.createElement(i.d,{toggled:c.showing,onClick:()=>c.toggle(),actionOnPointerDown:!0,"aria-label":(0,y.t)("canvas_search.settings"),recordingKey:_.Pt(a,"settings"),htmlAttributes:{"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,y.t)("canvas_search.settings")}},n.createElement(E.U,{svg:D.A},n.createElement(o.P,null))):n.createElement(S.YW,{svg:D.A,selected:c.showing,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,y.t)("canvas_search.settings"),onClick:e=>c.showing&&e.stopPropagation(),onMouseDown:c.toggle,recordingKey:_.Pt(a,"settings")})),c.showing&&d.current&&n.createElement(N.Jz,{showPoint:!0,targetRect:d.current.getBoundingClientRect(),options:P,hideDropdown:c.hide,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,lean:e,minWidth:t,recordingKey:_.Pt(a,"settings"),propagateCloseClick:!0}))}function H(e){let t=e.counts[e.option],a=function(e){switch(e){case x.kM.Text:return R.A;case x.kM.FrameOrGroup:return A.A;case x.kM.Component:return M.A;case x.kM.Instance:return L.A;case x.kM.Image:return B.A;case x.kM.Shape:return P.A;case x.kM.Other:return F.A;case x.kM.MatchCase:case x.kM.WholeWords:return null}}(e.option),r=W(e.option);return n.createElement(V,{checked:e.checked,icon:a,label:r,count:t,onClick:e.onClick,buttonRef:e.buttonRef,recordingKey:_.Pt(e,"settings",x.kM[e.option])})}function V({checked:e,icon:t,label:a,count:r,onClick:l,buttonRef:i,recordingKey:o}){return n.createElement(g.MM,{checked:e,onClick:l,recordingKey:o,buttonRef:i},n.createElement("div",{className:"canvas_search_settings--optionRow--KS01b"},t&&n.createElement(h.B,{className:"canvas_search_settings--optionIcon---0QYX",svg:t}),n.createElement("span",{className:"canvas_search_settings--optionLabel--Ygpmi"},a),!!r&&n.createElement("span",{className:"canvas_search_settings--optionCount--BzzTP"},r)))}function K({short:e,mode:t,recordingKey:a}){let i=(0,r.wA)(),o=(0,r.d4)(e=>e.canvasSearch.filters),c=t===s.EW4.FIND?I.D4:I.IM,u=(0,l.mapAndFilterNullish)(c,e=>o[e]?n.createElement(z,{key:e,option:e,onClose:()=>{i(v.DI(e))},recordingKey:a}):null);return 0===u.length?null:n.createElement("div",{className:d()("canvas_search_settings--filterPills--tbdih",{"canvas_search_settings--filterPillsShort--GX-Rn":e})},u)}function z({option:e,onClose:t,recordingKey:a}){return n.createElement("div",{className:"canvas_search_settings--filterPill--hjIaF"},W(e),n.createElement(S.K0,{className:"canvas_search_settings--pillRemove--Om1tg",svg:U.A,onClick:t,isBackgroundTransparent:!0,"data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,y.t)("canvas_search.filter.remove"),tooltipForScreenReadersOnly:!0,recordingKey:_.Pt(a,x.kM[e],"remove")}))}function W(e){switch(e){case x.kM.Text:return(0,y.t)("canvas_search.filter.text");case x.kM.FrameOrGroup:return(0,y.t)("canvas_search.filter.frame_or_group");case x.kM.Component:return(0,y.t)("canvas_search.filter.component");case x.kM.Instance:return(0,y.t)("canvas_search.filter.instance");case x.kM.Image:return(0,y.t)("canvas_search.filter.image");case x.kM.Shape:return(0,y.t)("canvas_search.filter.shape");case x.kM.Other:return(0,y.t)("canvas_search.filter.other");case x.kM.MatchCase:return(0,y.t)("canvas_search.filter.match_case");case x.kM.WholeWords:return(0,y.t)("canvas_search.filter.whole_words")}}},137345:(e,t,a)=>{a.d(t,{Y:()=>eE,f:()=>ey});var n=a(411855),r=a(188507),l=a(729064),i=a(782683),o=a(243742),s=a(587670),c=a(534611),d=a(629019),u=a.n(d),m=a(939683),p=a(622422),_=a(966712),f=a(38580),g=a(374626),h=a(646240),E=a(498750),y=a(860601),v=a(316082),b=a(563706),C=a(153234),w=a(522739),k=a(735536),x=a(96328),T=a(456363),N=a(268537),S=a(80161),I=a(659838),A=a(493323),L=a(827586),O=a(574176),M=a(46481),P=a(271779),R=a(939863),D=a(392592),F=a(772167),B=a(356390),U=a(478556),G=a(541524),H=a(283942),V=a(862442),K=a(843495),z=a(318812),W=a(29680),j=a(479118),q=a(967409),Y=a(498606),X=a(798558),J=a(720488),Z=a(227795),Q=a(144119),$=a(100303),ee=a(332721),et=a(796825),ea=a(687351),en=a(81804),er=a(976726),el=a(949207),ei=a(432023),eo=a(247245),es=a(370903),ec=a(995382),ed=a(761070),eu=a(593701),em=a(289298),ep=a(130715),e_=a(630834),ef=(e=>(e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULTI=2]="MULTI",e))(ef||{}),eg=(e=>(e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.MIDDLE=2]="MIDDLE",e[e.BOTTOM=3]="BOTTOM",e[e.ALL=4]="ALL",e))(eg||{});let eh=(0,f.eU)(!1),eE=n.memo(function(e){let{onFocus:t}=e;return n.createElement("div",{className:er.i$},n.createElement("div",{className:er.PP},n.createElement("div",{className:er.JA},n.createElement(ee._,{onClick:e.onFocus}),n.createElement(I.L,{className:er.Rt,onFocus:t,placeholder:(0,R.t)("canvas_search.search_placeholder")}))))}),ey=n.memo(function({showFilter:e}){let{query:t,resultsOnOtherPages:a,next:r,exit:l,setNavigateNearestOnce:d,search:m,showSearch:p,mode:_,isLoading:f,allInstancesExpanded:h,missingResultsOnSomePages:y}=(0,$.SQ)(),[v,b]=(0,n.useState)(""),{focusedByButtons:C,inputRef:w}=(0,$.CT)(),k=(0,n.useRef)(null),N=(0,V.Z)("canvas_search_navigate"),S=(0,g.md)(T.Wy),I=(0,g.md)(T.ml),L=(0,n.useContext)($.EA),O=(0,g.md)(eh),[D,F]=(0,n.useState)(null),[U,H]=(0,n.useState)(0),[K,z]=(0,n.useState)(!1);(0,n.useLayoutEffect)(()=>{if(L){if(I.size>1||S.size>1){z(!0);return}for(let e of S.values())e.size>1&&z(!0)}},[S,L,I]);let W=(e,t)=>{z(!1),r(e,t)},j=function(e,t,a){if(!a)return!1;if(t.size>1||e.size>1)return!0;for(let t of e.values())return t.size>1;return!1}(S,I,L),X=function(e,t,a,r,l){let i=eS(e,a,e=>{let a=(e.keyCode===E.Uz.D||e.keyCode===E.Uz.F)&&(0,E.Fo)(e)&&e.shiftKey;eA(e)&&!a&&t.current?.focus()},l);return(0,n.useCallback)(e=>{let n=eL(e);switch(e.keyCode){case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:(0,E.Te)(e)||i(e);break;case E.Uz.C:case E.Uz.X:(0,E.Te)(e)&&window.getSelection&&!window.getSelection().toString()&&(B.Y5.triggerAction(e.keyCode===E.Uz.C?"copy":"cut"),e.preventDefault(),e.stopPropagation(),e.keyCode===E.Uz.X&&t.current?.focus());break;case E.Uz.V:case E.Uz.Z:break;default:i(e)}a||n===c.AD||r(s.YEY.setActiveResultAndGetViewportSettings(n,0),{delay:300})},[a,i,t,r])}(W,k,j,N,H),J=eI(H);(0,$.A5)(w,r,C);let Q="ui3"===(0,o.DP)().version;if(!p)return null;let ee=n.createElement(n.Fragment,null,n.createElement("div",{className:u()(er.v9,{[er.ei]:Q&&""===t})},n.createElement(M.U,{svg:ep.A},n.createElement(i.h,null))),n.createElement($.ih,{onChange:e=>{z(!1),m(e)},query:t,focusedByButtons:C,onKeyDown:X,onKeyUp:J,innerRef:w,onPasteCapture:e=>{(0,G.gk)(e)&&(B.Y5.triggerActionInUserEditScope("paste"),e.preventDefault(),k.current?.focus())},editorType:q._Y.DESIGN}));return n.createElement(P.i,null,n.createElement("div",{className:er.G$,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(s.YEY.setOverlayVisible(!1),d(),H(0))}},n.createElement("div",{className:er.PP},n.createElement("div",{className:er.Wv},Q?n.createElement("div",{className:er.Z9},ee):ee,e&&n.createElement(ea.g,{lean:"right",recordingKey:"figma_design_search"}),n.createElement(Z.K0,{svg:e_.default,onClick:l,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,R.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"figma_design_search.close"})),n.createElement(ea.F,{mode:_,short:_===s.EW4.REPLACE,recordingKey:"figma_design_search.filterPills"}),_===s.EW4.REPLACE&&n.createElement(et.a,{query:t,value:v,onChange:b,onFocus:(e,a)=>{!t&&a&&w.current?.focus()},hasMultipleSelections:j,recordingKey:"figma_design_search"})),f||O?n.createElement("div",{className:u()(er.S,er.dz)},n.createElement(A.dW,{size:"medium",testId:"canvas-search-loading-spinner"})):t&&!(0,x.jN)(t)&&n.createElement(ev,{onNext:W,navigate:N,replacement:_===s.EW4.REPLACE?v:void 0,resultsOnOtherPages:a,allInstancesExpanded:h,resultInputHandlerRef:k,hoveredResult:D,hasMultipleSelections:j,isInMultiselectMode:K,hoverSelectMode:U,missingResultsOnSomePages:y,setIsInMultiselectMode:z,setHoverSelectMode:H,setHoveredResult:F})))});function ev({onNext:e,navigate:t,replacement:a,resultsOnOtherPages:i,resultInputHandlerRef:o,hoveredResult:d,hasMultipleSelections:_,isInMultiselectMode:f,missingResultsOnSomePages:h,hoverSelectMode:v,setIsInMultiselectMode:b,setHoverSelectMode:C,setHoveredResult:k,allInstancesExpanded:x}){let N=(0,r.wA)(),S=(0,$.WB)(),I=(0,$.II)(),O=(0,W.p8)("currentPage"),M=(0,n.useRef)(null),P=(0,r.d4)(e=>e.canvasSearch.scope),D=s.YEY.hasDirtyPrimaryInstances(),U=(0,g.md)(T.Fk),G=(0,g.md)(T.Ch),H=(0,g.md)(T.Wy),K=(0,g.md)(T.ml),z=(0,g.md)(T.hw),j=(0,n.useContext)($.EA),q=!f,X=null==a,J=(0,$.L4)(),Q=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),i=(0,m.am)(),o=(0,n.useContext)($.EA),c=(0,n.useCallback)((n,r,o)=>{let{nav:c,numNewNodes:d,numNewTextMatches:u}=s.YEY.addActiveResultAndGetViewportSettings(n,r,o);e&&i("canvas_search_enter_multi_select",{numberOfNodes:d,numberOfTextMatches:u,source:"cmd/ctrl+click",mode:t?"find":"replace"}),a(c,{additionalTrackEventParams:{searchScope:s.Lov[l]}})},[t,a,l,i,e]);return o?c:y.lQ}(q,X),ee=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),i=(0,m.am)(),o=(0,n.useContext)($.EA),c=(0,n.useCallback)(n=>{let{nav:r,numNewNodes:o,numNewTextMatches:c}=s.YEY.addActiveResultsAndGetViewportSettings(n);e&&i("canvas_search_enter_multi_select",{numberOfNodes:o,numberOfTextMatches:c,source:"shift+click",mode:t?"find":"replace"}),a(r,{additionalTrackEventParams:{searchScope:s.Lov[l]}})},[t,a,l,i,e]);return o?c:y.lQ}(q,X),et=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,n.useContext)($.EA),l=(0,n.useCallback)((a,n,r)=>{e(s.YEY.removeActiveResultAndGetViewportSettings(a,n,r),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t]);return a?l:y.lQ}(),[ea,el]=function(...e){let[t,a]=(0,n.useState)(()=>e.reduce((e,t)=>(e[t]=!0,e),{}));return[t,(0,n.useCallback)((e,t=!0)=>{a(a=>a[e]!==t?{...a,[e]:t}:a)},[])]}(c.Xy,O),ei=(0,n.useRef)({}),eo=(0,n.useMemo)(()=>{let e=[],t=S.find(e=>e.pageId===c.Xy),a=P===s.Lov.ALL_PAGES||!!t,n=S.find(e=>e.pageId===O),r=S;P===s.Lov.ACTIVE_PAGE&&(r=[],t&&r.push(t),n&&r.push(n));let l=0;for(let{pageId:t,results:n}of(ei.current={},r)){if(0===n.length)continue;let r=!!ea[t];if(a&&(e.push({type:"header",data:{pageId:t,open:r,numResults:n.reduce((e,t)=>e+=t.textMatches.length,0)}}),++l),a&&!r)continue;ei.current[t]=l;let i=0;for(let a of n){let{textMatches:n,...r}=a;n.forEach((a,n)=>{e.push({type:"result",data:{...r,matchIndex:n,textMatch:a,index:i,pageId:t}}),++i,++l})}}return e},[O,ea,P,S]);(0,n.useEffect)(()=>{null!=G&&el(G.pageId)},[G,el]);let ed=(0,l.z)({size:eo.length,parentRef:M,overscan:10}),eu=e=>{if(null==G||null==G.index)return[];let t=ei.current[G.pageId];if(null==t)return[];let a=t+G.index;if(a===e)return[];let n=[],r=Math.min(a,e),l=Math.max(a,e);if("header"===eo[e].type)return n;for(let e=r;e<=l;e++)"result"===eo[e].type&&n.push(eo[e].data);return n},em=(0,n.useCallback)(e=>!!j&&"header"!==e.type&&(!!f||0!==v)&&(e.data.textMatch.matchType===s.Ifi.TEXT_MATCH&&K.has(e.data.resultGuid)&&!H.has(e.data.resultGuid)||z.has(e.data.resultGuid)),[H,j,K,v,z,f]),ep=(0,n.useCallback)(e=>"header"!==e.type&&(j?e.data.textMatch.matchType===s.Ifi.PAGE_MATCH?e.data.index===G?.index&&e.data.pageId===G?.pageId:e.data.textMatch.matchType===s.Ifi.LAYER_MATCH?K.has(e.data.resultGuid)&&!H.get(e.data.resultGuid):H.get(e.data.resultGuid)?.has(e.data.matchIndex)??!1:e.data.index===G?.index&&e.data.pageId===G?.pageId),[G?.index,G?.pageId,H,j,K]),e_=(0,n.useCallback)((e,t,a)=>{let n=e+a,r=t+a,l=e=>"result"===e.type&&(ep(e)||em(e));for(;n>0&&n<=eo.length&&l(eo[n-1]);)n-=1;for(;r<eo.length&&l(eo[r]);)r+=1;return[n-a,r-a]},[em,ep,eo]),ef=(0,n.useCallback)((e,t)=>{if(e+t>=eo.length)return!1;let a=eo[e+t];return!ep(a)&&!em(a)},[em,ep,eo]),eg=(0,n.useCallback)((e,t,a)=>{let n=!1;for(let r=e;r<=t&&!(r+a>=eo.length);r+=1){let e=eo[r+a];if(!ep(e)&&!em(e)){n=!0;break}}return n},[em,ep,eo]),[eh,eE]=(0,n.useMemo)(()=>{let e=d?.nodeGuid??c.AD,t=G?.pageId!=null?ei.current[G.pageId]:null;if(j&&0!==v&&d&&e!==c.AD&&d.pageId===G?.pageId&&null!=t){let a=d.index,n=d.matchIndex;if((1===v||G?.index==null)&&ef(a,t))return[a,s.YEY.getSingleHoveredSelectionEndIndex(e,n)];if(2===v&&G?.index!=null&&G.index!==d.index){let r=a>G.index?G.index:a;return eg(r,a>G.index?a:G.index,t)?e_(r,s.YEY.getMultiHoveredSelectionEndIndex(e,n),t):[null,null]}}return[null,null]},[G?.index,G?.pageId,j,e_,v,d,eg,ef]),ey=(0,n.useCallback)(e=>!j||null==eh||null==eE||e<eh||e>=eE?0:e===eh&&e===eE-1?4:e===eh?1:e===eE-1?3:2,[j,eh,eE]),ev=(0,p.$)(G);(0,n.useEffect)(()=>{if(f||0!==v||null==G||null==G.index||0===eo.length||!ev)return;let e=ei.current[G.pageId];if(null==e)return;let t=e+G.index,a=t>=ed.virtualItems[0].index&&t<=ed.virtualItems[ed.virtualItems.length-1].index,n=!1;if(a){let e=ed.virtualItems.find(e=>e.index===t);if(e){let{start:t,size:a}=e;n=function(e,t){if(!t)return!0;let a=t.scrollTop,n=a+t.clientHeight;return e.top>=a&&e.bottom<=n}({top:t,bottom:t+a},M.current)}}n||D||ed.scrollToIndex(t,{align:"center"})},[G,ev,o,f,eo,D,ed,v]);let eb=(e,t,a,n)=>{let r=()=>{n?et(t.resultGuid,t.matchIndex,t.textMatch.matchType):Q(t.resultGuid,t.matchIndex,t.textMatch.matchType)};t.pageId===c.Xy?(I(t.guid),el(t.guid),b(!1)):j&&t.pageId===G?.pageId?e.shiftKey&&G?.index==null?(n||r(),b(!0)):e.shiftKey?((()=>{let e=eu(a),t=[];e.forEach(e=>{let a=t.length?t[t.length-1]:void 0;a?.nodeId===e.resultGuid&&a?.searchResultType===s.Ifi.TEXT_MATCH?a.matchIndices.push(e.matchIndex):t.push({nodeId:e.resultGuid,matchIndices:[e.matchIndex],searchResultType:e.textMatch.matchType})}),ee(t)})(),b(!0)):(0,E.Fo)(e)&&t.textMatch.matchType!==s.Ifi.PAGE_MATCH?(r(),b(!0)):(J(t.resultGuid,t.matchIndex),b(!1)):(J(t.resultGuid,t.matchIndex),b(!1))},ex=function(e,t,a,l,i,o,d){let u=function(e,t){let a=(0,V.Z)("canvas_search_navigate"),l=(0,r.d4)(e=>e.canvasSearch.scope),i=(0,m.am)(),o=(0,n.useContext)($.EA),c=(0,n.useCallback)(()=>{let{nav:n,numNewNodes:r,numNewTextMatches:o}=s.YEY.setAllResultsAsActiveAndGetViewportSettings();e&&i("canvas_search_enter_multi_select",{numberOfNodes:r,numberOfTextMatches:o,source:"cmd/ctrl+A",mode:t?"find":"replace"}),a(n,{additionalTrackEventParams:{searchScope:s.Lov[l]}})},[t,a,l,i,e]);return o?c:y.lQ}(a,l),p=(0,n.useContext)($.EA),_=eS(e,i,eA,o);return(0,n.useCallback)(e=>{let a=eL(e);switch(e.keyCode){case E.Uz.UP_ARROW:case E.Uz.DOWN_ARROW:case E.Uz.RIGHT_ARROW:case E.Uz.LEFT_ARROW:i?(function(){let e=document.getElementById("fullscreen-root")?.getElementsByClassName("focus-target");if(null!=e&&0!==e.length){for(let t of e)if(t.hasAttribute("readonly")&&"application"===t.getAttribute("role")){t?.focus();break}}}(),eA(e,!0)):_(e);break;case E.Uz.A:if(p&&(0,E.Te)(e)){u(),d(!0),e.stopPropagation(),e.preventDefault();break}eA(e);break;case E.Uz.C:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("copy"),e.stopPropagation()):eA(e);break;case E.Uz.V:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("paste"),e.stopPropagation()):eA(e);break;case E.Uz.X:(0,E.Te)(e)?(B.Y5.triggerActionInUserEditScope("cut"),e.stopPropagation()):eA(e);break;case E.Uz.DELETE:case E.Uz.BACKSPACE:eA(e,!0);break;default:_(e)}i||a===c.AD||t(s.YEY.setActiveResultAndGetViewportSettings(a,0),{delay:300})},[i,p,_,u,d,t])}(e,t,q,X,_,C,b),eT=eI(C);return n.createElement("div",{className:er.sb},n.createElement("div",{className:er.Jo},n.createElement(eC,{totalOnActivePage:U.total,resultsOnOtherPages:i,allInstancesExpanded:x}),0!==eo.length&&n.createElement(n.Fragment,null,n.createElement(Z.K0,{svg:ec.A,onClick:t=>{e(en.OP.PREV,"button")},"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,R.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"figma_design_search.previous",disabled:U.total<=1}),n.createElement(Z.K0,{svg:es.A,onClick:t=>{e(en.OP.NEXT,"button")},"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,R.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"figma_design_search.next",disabled:U.total<=1}))),n.createElement(L.P,{className:er.bB,scrollContainerRef:M},n.createElement(w.D8,{style:{height:ed.totalSize,position:"relative"},tabIndex:0,role:"listbox",recordingKey:"figma_design_search.results_list",onKeyDown:ex,onKeyUp:eT,forwardedRef:o},ed.virtualItems.map(e=>{let t=eo[e.index];if(!t)return null;let r=ep(t),l="result"===t.type&&t.data.pageId===G?.pageId?ey(t.data.index):0;return n.createElement("div",{key:"header"===t.type?t.data.pageId:`${t.data.pageId}#${t.data.index}`,ref:e.measureRef,className:u()({[er.T]:1===l,[er.fz]:2===l,[er.Nf]:3===l,[er.HR]:(1===v||G?.index==null)&&d?.isPurple}),style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${e.start}px)`}},"header"===t.type?n.createElement(ew,{...t.data,setOpen:e=>el(t.data.pageId,e)}):n.createElement(ek,{activePageId:G?.pageId,onSelect:a=>eb(a,t.data,e.index,r),onDoubleClick:()=>{s.YEY.exitSearchMode(s.dNx.SELECT_ACTIVE)},resultInputHandlerRef:o,result:t.data,replacement:a,selected:r,indirectlySelected:em(t),singletonHoverSelected:4===l,isInMultiselectMode:f,isInHoveredSelectMode:0!==v&&!!d,hasMultipleSelections:_,setHoveredResult:k}))})),D&&n.createElement("div",{className:er.S},n.createElement(A.dW,{size:"medium"})),i&&P===s.Lov.ACTIVE_PAGE&&n.createElement(w.GG,{recordingKey:"figma_design_search.other_pages_button",className:u()(er.fp,er.AX),onClick:()=>{N(F.V2(s.Lov.ALL_PAGES))}},(0,R.tx)("canvas_search.results_other_pages")),h&&P===s.Lov.ALL_PAGES&&n.createElement("div",{className:er.du},(0,R.tx)("canvas_search.results_unavailable_offline"))))}let eb={[s.Lov.ACTIVE_PAGE]:()=>(0,R.tx)("canvas_search.this_page"),[s.Lov.ALL_PAGES]:()=>(0,R.tx)("canvas_search.all_pages")};function eC({totalOnActivePage:e,resultsOnOtherPages:t,allInstancesExpanded:a}){let l=(0,r.wA)(),i=(0,Q.sO)(),o=(0,z.BK)("CANVAS_SEARCH_PAGE_SCOPE_DROPDOWN"),c=(0,n.useRef)(null),d=(0,r.d4)(e=>e.canvasSearch.scope),u=(0,r.d4)(e=>e.mirror.appModel.pagesList),m=(0,h.Xr)(eh),p="";p=0===e?(0,j.lH)(u)||!a?i?(0,R.t)("canvas_search.no_results_in_this_deck"):(0,R.t)("canvas_search.no_results_on_page"):t?(0,R.t)("canvas_search.no_results"):(0,R.t)("canvas_search.no_results_in_file"):(0,R.t)("canvas_search.results_count",{total:e});let f=(!i||(0,_.kc)().interop_pages)&&(e>0||t||(0,j.lH)(u)||!a);return n.createElement("div",{className:er._M},n.createElement("span",{"data-testid":"canvas-search-info",className:er.qp},p),f&&n.createElement(n.Fragment,null,n.createElement("span",{className:er.hY},"\xb7"),n.createElement("div",{role:"none",onClick:e=>e.stopPropagation()},n.createElement(w.GG,{forwardedRef:c,recordingKey:"figma_design_search_page_scope_dropdown",className:er.Vz,"data-testid":"figma-design-search-scope-dropdown",onClick:e=>o.showing&&e.stopPropagation(),onMouseDown:()=>o.toggle(),onKeyDown:e=>{(e.keyCode===E.Uz.ENTER||e.keyCode===E.Uz.SPACE)&&(e.preventDefault(),o.toggle())}},n.createElement(n.Fragment,null,eb[d](),n.createElement(O.B,{svg:em.A}))),c.current&&o.showing&&n.createElement(J.Jz,{showPoint:!1,maxWidth:160,minWidth:160,className:er.NB,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,lean:"right",leanPadding:0,targetRect:c.current.getBoundingClientRect(),hideDropdown:o.hide,recordingKey:"figma_design_search_page_scope",propagateCloseClick:!0,options:[s.Lov.ACTIVE_PAGE,s.Lov.ALL_PAGES].map(e=>n.createElement(N.MM,{recordingKey:`figma_design_search_page_scope.${e}`,key:e,checked:e===d,onClick:()=>{o.hide(),e===s.Lov.ALL_PAGES&&((0,j.lH)(u)||!a)?(m(!0),requestAnimationFrame(()=>{l(F.V2(e)),m(!1)})):l(F.V2(e))}},n.createElement("div",{className:er.VM},eb[e]())))}))))}function ew({pageId:e,open:t,setOpen:a,numResults:r}){let l=(0,W.eY)().get(e),i=e===c.Xy?(0,R.t)("fullscreen.canvas_search.pages"):l.name;return n.createElement(w.GG,{className:er.kQ,onClick:()=>a(!t)},n.createElement(O.B,{className:er.eO,svg:t?el.A:ei.A}),n.createElement("span",{className:er.rB},i),n.createElement("span",{className:er.hs},r))}function ek({result:e,replacement:t,activePageId:a,resultInputHandlerRef:l,selected:i,indirectlySelected:o,singletonHoverSelected:d,onSelect:m,onDoubleClick:p,isInMultiselectMode:_,isInHoveredSelectMode:f,hasMultipleSelections:g,setHoveredResult:h}){let E=(0,W.eY)(),k=(0,W.p8)("currentPage"),x=e.textMatch.matchType===s.Ifi.TEXT_MATCH,T=null!=t&&x&&(E.get(e.guid)?.hasMissingFont||!1),N=!(0,v.y)(),S=(0,r.d4)(e=>e.mirror.appModel.pagesList),I=N&&e.textMatch.matchType===s.Ifi.PAGE_MATCH&&s.h3O.isIncrementalSession()&&(0,j.Fy)(S,e.resultGuid)!==s.xal.LOADED,A=(0,r.wA)(),L=u()(er.V3,{[er.HR]:e.isPurple,[er.wH]:i,[er.r9]:I}),M=n.createElement(X.Bf,{className:L,guid:e.guid});return T?M=n.createElement("div",{className:er.v9+" "+L},n.createElement(O.B,{svg:eu.A})):e.guid===k&&(M=n.createElement("div",{className:er.v9+" "+L},n.createElement(O.B,{svg:eo.A}))),n.createElement(w.GG,{className:u()({[er.AX]:!0,[er.wH]:i,[er.Xt]:!i&&o,[er.rX]:d,[er.Dw]:f,[er.HR]:e.isPurple,[er.r9]:I}),onMouseDown:e=>{e.preventDefault()},onClick:t=>{I?A(D.F.enqueue({type:"offline-page-switch",message:(0,R.t)("fullscreen.pages_panel.unavailable_offline")})):(l.current?.focus(),_||!i||(b.Ay.mac?t.metaKey:t.ctrlKey)||e.textMatch.matchType===s.Ifi.PAGE_MATCH?m(t):g||s.YEY.setOverlayVisible(!0)),t.preventDefault(),t.stopPropagation()},onDoubleClick:_||I?y.lQ:p,onMouseEnter:()=>{e.pageId===c.Xy||e.pageId!==a?h(null):h({nodeGuid:e.resultGuid,pageId:e.pageId,index:e.index,matchIndex:e.matchIndex,isPurple:e.isPurple}),x?s.YEY.setHoveredResult(e.resultGuid,e.matchIndex):e.textMatch.matchType===s.Ifi.LAYER_MATCH&&(0,K.Uc)(e.resultGuid)},onMouseLeave:()=>{(0,K.Uc)(""),h(null),s.YEY.setHoveredResult(c.AD,-1)},recordingKey:C.Pt("figma_design_search","result",e.pageId,e.index)},n.createElement("div",{className:er._P},M),n.createElement("div",{className:u()(er.D6,{[er.c1]:x})},e.textContent&&x?n.createElement(eT,{text:e.textContent,match:e.textMatch,replacement:T?void 0:t,multiline:!0}):n.createElement(ex,{result:e})),I&&n.createElement("div",{className:er.QF,"data-tooltip-type":Y.Ib.TEXT,"data-tooltip":(0,R.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"},n.createElement(O.B,{className:er.VQ,svg:ed.A})))}function ex({result:e}){let{query:t}=(0,r.d4)(e=>e.canvasSearch),a=e.name&&e.stateGroupName?(0,k.w)(e.name):e.name;if(!a)return null;let l=e.stateGroupName||e.containerName,i=-1;e.textContent&&(a=e.textContent,i=e.name?.toLowerCase().indexOf(t)??-1,l=e.name);let o=a.toLowerCase().indexOf(t)??-1;return n.createElement("div",null,a&&o>-1?n.createElement(eT,{text:a,match:{start:o,end:o+t.length,matchType:s.Ifi.LAYER_MATCH},multiline:!0}):n.createElement(S.ph,{text:a}),l&&n.createElement("div",{className:er.Gu},i>-1?n.createElement(eT,{text:l,match:{start:i,end:i+t.length,matchType:s.Ifi.LAYER_MATCH}}):n.createElement(S.ph,{text:l})))}function eT({text:e,match:t,replacement:a,multiline:r}){let[l,i]=(0,n.useState)(e),[o,s]=(0,n.useState)(!1);(0,n.useEffect)(()=>{i(e)},[e]),(0,n.useEffect)(()=>{if(!o||l!==e)return;let a=t.start,n=0;for(let t=a-1;t>=0;--t)if(/\s/.test(e[t])&&n++,3===n){a=t;break}n<3&&(a=0),i(e.slice(a))},[o,l,e,t.start]);let c=(0,n.useMemo)(()=>n.createElement(eN,{text:l,replacement:a,fullString:e,match:t}),[l,t,a,e]);return n.createElement(S.ph,{className:r?er.c1:"",text:c,multiline:r,onTruncationChange:s})}function eN({text:e,replacement:t,fullString:a,match:r}){let l=0;a&&e!==a&&(l=a.length-e.length);let i=r.start-l,o=r.end-l,s=e.substring(0,i),c=e.substring(i,o),d=e.substring(o);if(t&&c.toLocaleLowerCase()!==t.toLocaleLowerCase()){let e=U.r.detectTextTransform(c);t=U.r.applyTextTransform(t,e)}return n.createElement(n.Fragment,null,l?"\u2026":"",s,t?n.createElement(n.Fragment,null,n.createElement("span",{className:er.of},c),n.createElement("b",null,t)):n.createElement("b",null,c),d)}function eS(e,t,a,l){let i=(0,$.II)(),o=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,m.am)(),l=(0,n.useContext)($.EA),i=(0,n.useCallback)(()=>{a("canvas_search_multi_hierarchy",{order:"down"}),e(s.YEY.moveActiveResultsDownOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t,a]);return l?i:y.lQ}(),c=function(){let e=(0,V.Z)("canvas_search_navigate"),t=(0,r.d4)(e=>e.canvasSearch.scope),a=(0,m.am)(),l=(0,n.useContext)($.EA),i=(0,n.useCallback)(()=>{a("canvas_search_multi_hierarchy",{order:"up"}),e(s.YEY.moveActiveResultsUpOneLevelAndGetViewportSettings(),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t,a]);return l?i:y.lQ}(),d=(0,n.useContext)($.EA);return(0,n.useCallback)(n=>{switch(d?(0,E.Fo)(n)&&!n.shiftKey?l(1):n.shiftKey?l(2):l(0):l(0),n.keyCode){case E.Uz.P:case E.Uz.UP_ARROW:(n.keyCode!==E.Uz.P||b.Ay.mac&&(0,E.vN)(n,E.xH.CONTROL))&&(e(en.OP.PREV,"keyboard"),n.stopPropagation(),n.preventDefault());break;case E.Uz.N:case E.Uz.DOWN_ARROW:(n.keyCode!==E.Uz.N||b.Ay.mac&&(0,E.vN)(n,E.xH.CONTROL))&&(e(en.OP.NEXT,"keyboard"),n.stopPropagation(),n.preventDefault());break;case E.Uz.ENTER:if((0,E.Fo)(n)){s.YEY.exitSearchMode(s.dNx.SELECT_ACTIVE);break}if(i())break;n.shiftKey?t?c():e(en.OP.PREV,"keyboard"):t?o():e(en.OP.NEXT,"keyboard"),n.stopPropagation(),n.preventDefault();break;case E.Uz.ESCAPE:s.YEY.exitSearchMode(s.dNx.NONE),n.preventDefault(),n.stopPropagation();break;default:a(n)}},[d,l,i,a,e,t,c,o])}function eI(e){return(0,n.useCallback)(t=>{if(t.keyCode===E.Uz.SHIFT){(!b.Ay.mac||t.metaKey)&&(b.Ay.mac||t.ctrlKey)||e(0);return}let a=b.Ay.mac&&"Meta"===t.key,n=!b.Ay.mac&&t.keyCode===E.Uz.CTRL;(a||n)&&!t.shiftKey&&e(0)},[e])}function eA(e,t=!1){if(t||(0,H.U5)(e,H.W0.YES)){let t=(0,H.f7)(e);return t&&e.stopPropagation(),t}return!1}function eL(e){switch(e.keyCode){case E.Uz.DELETE:case E.Uz.BACKSPACE:return s.YEY.getNextResultForActiveResultRemoval();case E.Uz.X:if((0,E.Te)(e))return s.YEY.getNextResultForActiveResultRemoval();break;case E.Uz.H:case E.Uz.R:if((0,E.Fo)(e)&&e.shiftKey)return s.YEY.getNextResultForActiveResultRemoval()}return c.AD}},372252:(e,t,a)=>{a.d(t,{Yz:()=>x,Z7:()=>w});var n=a(411855),r=a(188507),l=a(587670),i=a(534611),o=a(707458),s=a(91408),c=a(966712),d=a(38580),u=a(646240),m=a(939863),p=a(103907),_=a(617453),f=a(100197),g=a(433861),h=a(514736),E=a(531461),y=a(187882),v=a(366501),b=a(448879),C=a(860168);let w=(0,d.eU)(new Map),k=(0,s.jz)(C.LdP);function x({children:e}){let t=(0,f.ut)(l.Ez5?.singleSlideView().isInSingleSlideView,!1),a=(0,f.J2)(l.Ez5.slideDeck().slideGrid),s=(0,v.rY)(a),d=n.useMemo(()=>s.reduce((e,t,a)=>(e.set(t,a),e),new Map),[s]),C=function(){let e=(0,p.wq)(),t=(0,u.Xr)(w),[a,r]=n.useState(new Map),[l,s]=n.useState(new Map);return n.useEffect(()=>{let n=new Set,c=new Map;"loaded"===e.status&&e.data.forEach(e=>{let t=e.canvasPosition,a=l.get(e.id),r={commentCount:e.comments.filter(e=>!e.resolved_at).length,threadIds:[],hasUnread:e.comments.some(e=>!e.resolved_at&&e.isUnread)};c.set(e.id,r),t&&(!a||t.x!==a.x&&t.y!==a.y)&&n.add(e)}),n.forEach(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t||!e.canvasPosition)return;let a=o.q.instance.get(t),n=a?a.findContainingSlideOrSelf():i.AD;n!==i.AD&&e.canvasPosition&&(s(t=>new Map(t.set(e.id,e.canvasPosition))),r(t=>new Map(t.set(e.id,n))))});let d=new Map;a.forEach((e,t)=>{let a=c.get(t);if(!a)return;let{commentCount:n,hasUnread:r}=a,l=d.get(e),i={commentCount:(l?.commentCount??0)+n,threadIds:[...l?.threadIds??[],t],hasUnread:l?.hasUnread||r};d.set(e,i)}),t(d)},[t,l,a,e.data,e.status]),a}(),x=(0,r.d4)(e=>e.mirror?.appModel.showUi),T=(0,_.qw)(),N=!(0,y.Ye)(),S=(0,_.dP)(),I=n.useCallback(e=>{let t=C.get(e.id);if(t)return t;let a=e.comments[0]?.client_meta?.node_id;if(!a)return i.AD;let n=o.q.instance.get(a);return n?n.findContainingSlideOrSelf():i.AD},[C]),{xDelta:A,yDelta:L}=(0,b.m)(),O=n.useMemo(()=>({xDelta:A,yDelta:L}),[A,L]),M=n.useMemo(()=>{let e=[E.mW.RESOLVED,E.mW.YOURS];return t&&e.push(E.mW.CURRENT_SLIDE),e},[t]),P=n.useMemo(()=>[E.qN.CREATION_DATE,E.qN.UNREAD,E.qN.SLIDE],[]),R=(0,r.d4)(e=>e.mirror.appModel.currentPage),D=n.useContext(g.kw),F=(0,f.ut)(l.Ez5?.singleSlideView().focusedSlideId,""),B=(0,v.po)(),U=n.useCallback(e=>{let t=e&&R?D.getCommentDestinationForCanvasPosition(e,R)?.nodeId:void 0;if(!t)return!1;let a=o.q.instance.get(t),n=a?a.findContainingSlideOrSelf():i.AD;return F&&F!==i.AD?n!==F:n===i.AD},[R,F,D]),G=n.useCallback((e,t)=>{let a=t?o.q.instance.get(t):void 0,n=a?a.findContainingSlideOrSelf():i.AD,r=n&&n!==i.AD?n:l.glU.getSlideAtPosition(e.x,e.y);return r?l.Egt.getBoundsForNode(r):null},[]),H=n.useCallback(e=>{let t=I(e),a=d.get(t);return void 0===a||t===i.AD?(0,m.t)("comments.slide"):(0,m.t)("comments.slide_number",{orderNum:a+1})},[I,d]),V=n.useMemo(()=>!!t,[t]),K=n.useCallback(e=>{if(!t)return()=>{};let a=I(e);return a!==i.AD?()=>{B(a)}:()=>{}},[I,B,t]),z=n.useMemo(()=>({slide:(e,t)=>{let a=1/0,n=I(e),r=I(t),l=d.get(n)??a,i=d.get(r)??a;return l!==i?l-i:Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at)}}),[I,d]),W=(0,f.J2)(l.Ez5.editorPreferences().speakerNotesHeight),j=n.useMemo(()=>{let e=0,a=0,n=0;return x&&(e+=k,a+=T,t&&(e+=W+l.Ez5.singleSlideView().dragHandleTotalHeight()),N&&(n+=S)),{maxHeightDelta:-e,minBottomMarginDelta:e,minLeftMarginDelta:n,minRightMarginDelta:a}},[t,T,N,S,x,W]),q=n.useMemo(()=>{if(x)return{paddingRight:T}},[T,x]),Y=n.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:V,clusterBy:(0,c.kc)().comments_corner_cluster?"slide":"page",orphanedBy:"non_slide_anchors",filterBy:"non_slide_anchors",sidebarFilters:M,sidebarSorts:P,sidebarModesDisabled:!0,dockPositionAdjustment:O,isCommentingDisabledAtPosition:U,commentDisabledPositionBellMessage:(0,m.t)("comments.comments_can_only_be_placed_on_slides"),calculateSelectionCommentContainerBounds:G,getParentName:H,getOnCommentSelect:K,sortComparatorOverrides:z,commentPositionPaddingAdjustment:q,draggableModalBoundsAdjustment:j}),[V,M,P,O,U,G,H,K,z,q,j]);return n.createElement(h.a.Provider,{value:Y},e)}},363668:(e,t,a)=>{a.d(t,{J:()=>f});var n=a(411855),r=a(587670),l=a(776250),i=a(374626),o=a(809831),s=a(662531),c=a(326069),d=a(457630),u=a(874560),m=a(57289),p=a(883211);let _=a(194792).zS;function f(){let[e,t]=(0,i.fp)(p.ph),a=(0,i.md)(p.KG),f=(0,i.md)(p.kh),g=(0,d._X)({subscribeToUpdates_expensive:!0}),[h,E]=(0,n.useState)(null),y="whiteboard"===(0,o.lg)(),v=n.useCallback(()=>{if(e){let{emojis:t,index:a}=e;if(t&&a>=0&&a<t.length){let e=(0,c._Q)(t[a]);e&&s.l7.user("insert-emoji",()=>{(0,l.sx)("inserted_editor_emoji",{emoji:e}),r.SmY.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),b=n.useCallback(()=>{t(null)},[t]);if(!f||!e||null===a)return null;let C=(0,d.Yb)(g,f);if(!(0,d.ZT)(C,g))return null;let w={top:C.y+g.y-8,bottom:C.y+g.y+C.height+8,left:C.x+g.x,right:C.x+g.x+C.width,height:C.height,width:C.width},k=h&&w.height>0&&w.bottom>g.height-h&&w.top>g.height-w.bottom?{positionFromBottom:{left:w.left,bottom:g.height+g.y-w.top},direction:m.ri.UPWARDS}:{targetRect:w,direction:m.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(u.j,{dispatchTypeahead:t,typeahead:e,onInsert:v,onClear:b,width:168,...k,setMaxTypeaheadHeight:E,zIndex:_,isFigJam:y,recordingKey:"emojiTypeaheadView",emojiImageSet:a}))}},690463:(e,t,a)=>{a.d(t,{G:()=>cg});var n=a(411855),r=a(188507),l=a(730371),i=a(675678),o=a(587670),s=a(517333),c=a(358145),d=a(966712),u=a(374626),m=a(30637),p=a(192437),_=a(695763),f=a(824189),g=a(384252),h=a(987067),E=a(205904),y=a(332034),v=a(256975),b=a(17604),C=a(809831),w=a(441088),k=a(507956),x=a(699857),T=a(964881),N=a(380620),S=a(767129),I=a(755020),A=a(222903),L=a(666309),O=a(782683),M=a(13583),P=a(769335),R=a(935829),D=a(841368),F=a(538649),B=a(629019),U=a.n(B),G=a(203264),H=a(776250),V=a(91408),K=a(737947),z=a(939683),W=a(320063),j=a(38580),q=a(522739),Y=a(438741),X=a(330654),J=a(268537),Z=a(946689),Q=a(564577),$=a(659838),ee=a(493323),et=a(827586),ea=a(574176),en=a(762638),er=a(939863),el=a(40987),ei=a(849262),eo=a(331972),es=a(465904),ec=a(738269),ed=a(428654),eu=a(818),em=a(226055),ep=a(774191),e_=a(617453),ef=a(543841),eg=a(843495),eh=a(318812),eE=a(29680),ey=a(335682),ev=a(754209),eb=a(161325),eC=a(611978),ew=a(860178),ek=a(792675),ex=a(940596),eT=a(100197),eN=a(601607),eS=a(707465),eI=a(498606),eA=a(563814),eL=a(187882),eO=a(607672),eM=a(720488),eP=a(32067),eR=a(538697),eD=a(549166),eF=a(734354),eB=a(540828),eU=a(421757),eG=a(137035),eH=a(139689),eV=a(511617),eK=a(931828),ez=a(672517),eW=a(309798),ej=a(999394);function eq(){let e=(0,r.wA)();return(0,eW.f)("dismissed_dev_mode_overview_banner")?null:n.createElement(ez.fu,{name:"Dev Mode Overview Banner",properties:{severity:ej.c.EVENT}},n.createElement("div",{className:"overview_banner--banner--9cAw3"},n.createElement(eG.b,{className:"overview_banner--icon--NQ9zx"}),n.createElement("div",{className:"overview_banner--bannerContent--Toai2 text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("div",{className:"overview_banner--title--JuiVK ellipsis--ellipsis--Tjyfa"},(0,er.tx)("dev_handoff.workflows.overview.banner.title")),n.createElement("div",{className:"overview_banner--subTitle--BEeYg ellipsis--ellipsis--Tjyfa"},(0,er.tx)("dev_handoff.workflows.overview.banner.subtitle"))),n.createElement("div",{className:"overview_banner--rightItems--T2QEG"},n.createElement(eU.$n,{variant:"secondary",onClick:()=>{(0,eV.FJ)("https://help.figma.com/hc/en-us/articles/23918228264855","_blank")}},(0,er.tx)("dev_handoff.workflows.overview.banner.learn_more")),n.createElement(N.E,{className:"overview_banner--dismissButton--cMyLN",onClick:()=>{e(eK.b({dismissed_dev_mode_overview_banner:!0}))}},n.createElement(eH.A,null)))))}function eY(e){return n.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.18 11.384a.5.5 0 0 0 .704-.064l2.5-3a.5.5 0 0 0 0-.64l-2.5-3a.5.5 0 1 0-.768.64L13.349 8l-2.233 2.68a.5.5 0 0 0 .064.704M4.82 4.616a.5.5 0 0 0-.704.064l-2.5 3a.5.5 0 0 0 0 .64l2.5 3a.5.5 0 1 0 .768-.64L2.651 8l2.233-2.68a.5.5 0 0 0-.064-.704m4.654.542a.5.5 0 1 0-.948-.316l-2 6a.5.5 0 0 0 .948.316z",clipRule:"evenodd"}))}var eX=a(902008),eJ=a(130097),eZ=a(976999),eQ=a(67294),e$=a(99506),e0=a(279453),e1=a(118335),e2=a(165514);let e5="overview--background--LdDDC",e3="overview--overviewBase--8lImP",e4="overview--focusViewLink--PFEvh",e6="overview--overviewRecentActivityRow--uTKSo",e7="overview--overviewRecentActivity--JwGnv",e8="overview--editInfo--PHbLh",e9="overview--timestamp--EH-pe",te="overview--avatarIcon--c711v",tt="overview--editedIcon--MhN1N";function ta({showDescription:e,previewUrl:t,onClick:a}){return n.createElement("a",{className:U()(e7,e4),href:t,onClick:a},n.createElement("div",{className:e8},n.createElement(eZ.Qp,{className:"overview--avatarLoading--jMjJk",animationType:eZ.JR.NO_SHIMMER}),n.createElement(eZ.Qp,{className:"overview--editInfoRecentActivityLoading--w-QoB overview--editInfoRecentActivity---jsVr",animationType:eZ.JR.NO_SHIMMER})),e&&n.createElement(eZ.Qp,{className:"overview--editDescriptionLoading--hrI6B",animationType:eZ.JR.NO_SHIMMER}))}function tn({user:e,icon:t,editedString:a}){return n.createElement("div",{className:e8},n.createElement("div",{className:"overview--avatarContainer--OD44p"},n.createElement(eQ.H8,{user:e,size:24}),t),n.createElement("div",{className:"overview--editInfoRecentActivity---jsVr"},n.createElement("span",{className:"overview--editInfoUser--P4GkS"},a)))}function tr(e,t,a){if(!e||a)return null;switch(e.status){case o.zIx.BUILD:return n.createElement(eY,{className:U()(t?tt:"overview--readyIcon--A94uc",te)});case o.zIx.COMPLETED:return n.createElement(eX.l,{className:U()(t?tt:"overview--completedIcon--9Nbjl",te)})}return null}function tl({nodeId:e,user:t,previewUrl:a,isFallbackForLegacyStatus:r,onClick:l}){let i=(0,eN.Fk)(t=>t.get(e)?.getStatusInfo(),e),o=(0,G.ei)(e),s=(0,Q.Ak)(o?.lastEditedAt);return t?n.createElement("div",{className:e6},n.createElement("a",{className:U()(e7,e4),href:a,onClick:l},n.createElement(tn,{user:t,icon:tr(i,!0,r),editedString:(0,er.tx)("dev_handoff.workflows.edit_info.edited",{user:t.handle,dateFromNow:n.createElement("span",{className:e9},s)})})),(0,d.kc)().dt_workflows_cc_overview&&n.createElement(to,{nodeId:e,isEdited:!0})):n.createElement(ta,{previewUrl:a,onClick:l})}function ti({nodeId:e,user:t,description:a,previewUrl:r,isFallbackForLegacyStatus:l,onClick:i}){let s=(0,eN.Fk)(t=>t.get(e)?.getStatusInfo(),e),c=s?.lastUpdateUnixTimestamp?1e3*s.lastUpdateUnixTimestamp:null,u=(0,Q.Ak)(c);if(!c)return n.createElement(tl,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:l,onClick:i});if(!s||!t)return n.createElement(ta,{showDescription:!!a,previewUrl:r,onClick:i});let m=e2.TR(s.status,s.prevStatus)?.toLowerCase();if(!m)return n.createElement(tl,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:l,onClick:i});let p=s.status===o.zIx.BUILD&&(s.status===s.prevStatus||!!s.description),_=p?(0,er.tx)("dev_handoff.workflows.edit_info.updated_design",{user:t.handle,dateFromNow:n.createElement("span",{className:e9},u)}):(0,er.tx)("dev_handoff.workflows.edit_info.marked",{user:t.handle,status:m,dateFromNow:n.createElement("span",{className:e9},u)});return n.createElement("div",{className:e6},n.createElement("a",{className:U()(e7,e4),href:r,onClick:i},n.createElement(tn,{user:t,icon:tr(s,!1,l),editedString:_}),!!a&&n.createElement("div",{className:"overview--editDescription--rb1Qn"},a)),p&&(0,d.kc)().dt_workflows_cc_overview&&n.createElement(to,{nodeId:e,isEdited:!1}))}function to({nodeId:e,isEdited:t}){let a=(0,r.wA)(),l=ey.q5()?.key,i=(0,z.U)(),o=(0,em.GS)(),s=async()=>{if(!l)return;i("Dev Mode Activity Compare Changes",{source:"compare_previous_overview"});let n=await (0,eJ.Ek)(e0.WND,{fileKey:l,nodeId:e});if("loaded"===n.file.status&&n.file.data){let r=n.file.data.devModeActivity.filter(e=>e.activityType===e$.o6.STATUS_CHANGE).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()),l=t||1===r.length?r[0]:r[1];l?.version?.id&&(0,e1.L$)(l.version?.id,a,!0,e)}};return n.createElement(eU.$n,{variant:o?"secondary":"link",onClick:s},(0,er.tx)("inspect_panel.history.compare_changes"))}var ts=a(493414),tc=a(126049),td=a(36867);let tu=(0,ex.Wh)(()=>(0,j.eU)(""),{preserveValue:!1});var tm=a(395900);let tp="performance.dev_mode.workflows.overview.time_to_first_thumbnail",t_=new tm.jk(tp,{}),tf=(0,ex.rt)(void 0),tg=(0,ex.rt)(!1);var th=a(282741),tE=a(24973),ty=a(860168),tv=a(768067),tb=a(191278),tC=a(420584);let tw=2*(0,V.jz)(ty.Evg),tk=tw/ty.RtY,tx=tw/8,tT=tk/8;function tN(e){return n.createElement("div",{className:tE.vR},e.tabs.map(t=>{let a=t.key===e.selected;return n.createElement("button",{className:U()(a?"overview--selectedTab--LPpAj overview--tab--djrt7 tab_group--tab--j43X- tab_group--selectedTab--dwZ1b tab_group--tab--j43X- utilities--bodyMediumStrong--1R5cZ":"overview--tab--djrt7 tab_group--tab--j43X-",void 0!==t.count&&"overview--tabWithBadge--f0pPx"),key:t.key,onClick:()=>e.onTabSelected(t.key),"data-label":`${t.label}${void 0!==t.count?t.count:""}`},n.createElement("span",null,t.label),void 0!==t.count&&n.createElement(ts.s,{count:t.count,isInTab:!0,isActive:a}))}))}let tS=(0,ex.Wh)(()=>(0,j.eU)(!1),{preserveValue:!1});function tI(){let e=(0,ey.q5)(),t=(0,r.wA)(),a=(0,ew.iZ)(),l=(0,eh.Um)(),i=(0,r.d4)(e=>e.multiplayer),o=n.useMemo(()=>i.allUsers.find(e=>e.sessionID===i.sessionID)||null,[i.allUsers,i.sessionID]),s=(0,ev.dR)(),c=(0,Y.B4)(),d=n.useCallback(e=>{(0,eD.Lx)(e,o?.sessionID,t,!1,i,s,c)},[o?.sessionID,t,i,s,c]);return n.createElement("div",{className:"overview--toolbarRightItems--tjF72"},i&&e&&o&&n.createElement(eD.v7,{dropdownShown:l,multiplayer:i,currentUser:o,onUserClick:d}),e&&n.createElement(eF.w,{user:a,editingFile:e,isFileInWorkshop:!1,appendedClassname:"overview--shareButton--5BlrF"}))}let tA=(0,u.E2)("workflows_summary_tab",th.oz.ALL,X.nativeEnum(th.oz)),tL=(0,ex.Wh)(()=>(0,j.eU)({}),{preserveValue:!0}),tO=(0,u.E2)("workflows_overview_sorted_by",th._6.RECENT,X.nativeEnum(th._6));function tM(){let e=(0,r.d4)(e=>e.selectedView.overviewBackButtonTargetNodeId),t=(0,r.d4)(e=>e.mirror.appModel.pagesList[0]),a=function(){let e=(0,r.d4)(e=>e.mirror.appModel.pagesList),t=(0,eT.J2)(o.Ez5.currentSceneState().numReadyNodesByPage),a=(0,eT.J2)(o.Ez5.currentSceneState().numCompletedNodesByPage);return n.useMemo(()=>e.filter(e=>{let n=e.nodeId,r=t.has(n)?t.get(n)>0:o.glU.nodeStatusesOnPage(n).includes(o.zIx.BUILD),l=a.has(n)?a.get(n)>0:o.glU.nodeStatusesOnPage(n).includes(o.zIx.COMPLETED);return r||l}),[e,t,a])}()[0],l=e||a?.nodeId||t?.nodeId,i=(0,eB.ZJ)(),s=(0,eB.TP)(void 0,l),c=(0,r.d4)(e=>(0,eS.Np)(e,s)),d=(0,eL.n0)(),u=(0,eO.VS)({pagesList:d,isComparingChanges:!1});return l?n.createElement(q.lt,{className:"overview--backLink--vAo8c",onClick:function(e){e.preventDefault(),l?u(l).then(()=>{i("overview_back_clicked")}):i("overview_back_clicked")},href:c,"data-testid":"dev_handoff.workflows.overview.back_button",recordingKey:"dev_handoff.workflows.overview.back_button","aria-label":(0,er.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip":(0,er.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip-type":eI.Ib.TEXT},n.createElement(I.C,null)):null}function tP(){let e=(0,v._I)(),t=ey.q5()?.key,a=(0,e_.dP)(),l=(0,em.GS)(),i=(0,eu.b)(),s=(0,z.U)(),c=function(){let[e,t]=(0,u.fp)(tf);return n.useCallback(a=>{e||(t({source:a}),t_.start())},[e,t])}(),m=(0,eC._6)(),p=(0,r.wA)();(0,eA.O)();let _=(0,eT.J2)(o.Ez5.currentSceneState().nodesWithStatusForFile),f=(0,n.useRef)(null),[g,h]=(0,u.fp)(el.gk),[E,y]=(0,u.fp)(tO),b=n.useCallback(e=>{s("Dev Mode Overview Sort Changed",{sort:e}),y(e)},[y,s]),C=e?E:th._6.PAGE,[w,k]=(0,u.fp)(tA),x=(0,es.n9)(t),{setSearchString:N,searchString:S,searchFilter:I,searchActive:L}=function(){let[e,t]=(0,u.fp)(tu),a=(0,z.U)(),r=(0,n.useMemo)(()=>(function(e){let t=e?new td.A(e.toLowerCase()):null;return{filter:e=>{let a=t?t.matchAgainst(e):null;return!a||!!a.find(e=>e.score>0)}}})(e),[e]),l=(0,n.useCallback)(e=>r.filter([e.nodeName,e.pageName,e.description]),[r]),i=(0,tc.A)(()=>{a("Dev Mode Overview Search",{})},1e3);return{setSearchString:(0,n.useCallback)(e=>{t(e),i()},[t,i]),searchString:e,searchFilter:l,searchActive:e.length>0}}(),O=n.useMemo(()=>_.filter(e=>e.status===o.zIx.BUILD&&I(e)),[_,I]),M=n.useMemo(()=>_.filter(e=>e.status===o.zIx.COMPLETED&&I(e)),[_,I]),P=n.useMemo(()=>{switch(w){case th.oz.ALL:return _.filter(I);case th.oz.RECENTLY_VIEWED:if(!x)return[];return Object.entries(x).reduce((e,[t,a])=>{let n=_.find(e=>e.nodeId===t&&I(e));return n&&e.push({...n,lastViewedTimestamp:a}),e},[]);case th.oz.BUILD:return O;case th.oz.COMPLETED:return M}},[_,w,x,I,O,M]),R=n.useMemo(()=>[{key:th.oz.ALL,label:(0,er.t)("dev_handoff.workflows.overview.tab_all")},...(0,d.kc)().dt_workflows_recently_viewed?[{key:th.oz.RECENTLY_VIEWED,label:(0,er.t)("dev_handoff.workflows.overview.tab_recent")}]:[],{key:th.oz.BUILD,count:O.length,label:(0,er.t)("dev_handoff.workflows.overview.tab_ready")},{key:th.oz.COMPLETED,count:M.length,label:(0,er.t)("dev_handoff.workflows.overview.tab_completed")}],[O.length,M.length]),D=n.useMemo(()=>{if(0===P.length)return[];if(w===th.oz.RECENTLY_VIEWED)return[{key:"recent",sortedNodesWithStatusForFile:P.slice().sort(es.YA)}];switch(C){case th._6.PAGE:let e={};return P.slice().sort((e,t)=>e.visualOrder-t.visualOrder).forEach(t=>{e[t.pageId]||(e[t.pageId]={key:t.pageId,pageId:t.pageId,pageName:t.pageName,sortedNodesWithStatusForFile:[]}),e[t.pageId].sortedNodesWithStatusForFile.push(t)}),Object.values(e);case th._6.RECENT:return[{key:"recent",sortedNodesWithStatusForFile:P.slice().sort((e,t)=>t.updatedAt-e.updatedAt)}];case th._6.ALPHABETICAL:return[{key:"alphabetical",sortedNodesWithStatusForFile:P.slice().sort((e,t)=>e.nodeName.localeCompare(t.nodeName))}]}},[w,P,C]),[F,B]=(0,u.fp)(tL);n.useEffect(()=>{B(e=>{let t={...e};return D.forEach(({pageId:e})=>{e&&void 0===t[e]&&(t[e]=!0)}),t})},[B,D]);let G=n.useCallback(e=>{B(t=>{let a={...t};return a[e]=!a[e],a})},[B]),{numSections:V,numFrames:K,numPages:j}=n.useMemo(()=>({numSections:_.filter(e=>e.isSection).length,numFrames:_.filter(e=>!e.isSection).length,numPages:new Set(_.map(e=>e.pageId)).size}),[_]),q=(0,T.US)();!function({nodesWithStatusForFile:e,enabled:t}){let[a,r]=(0,u.fp)(tS),l=n.useRef(),i=(0,eE.eY)();n.useEffect(()=>{if(!t)return;let n=0,o=0,s=performance.now();if(void 0===l.current&&(l.current=new Set),e.forEach(e=>{if(!l.current.has(e.nodeId)){n++;let t=performance.now();i.get(e.nodeId)?.materializeDescendants();let a=performance.now()-t;a>o&&(o=a),l.current.add(e.nodeId)}}),!a){let e=performance.now()-s;(0,H.sx)("performance.dev_mode.workflows.overview.materialize_nodes",{nodeCount:n,worstNodeMs:o,elapsedMs:e},{forwardToDatadog:!0}),r(!0)}},[e,l,i,a,r,t])}({enabled:q,nodesWithStatusForFile:_});let[Y,X]=n.useState(!1),J=n.useCallback(()=>{X(!0),h(f.current?.scrollTop)},[h]),[Q]=(0,u.fp)(th._o);(0,W.h)(()=>{let t=Q||"init";s("Dev Mode Overview Shown",{type:e?"full":"lite",source:t},{forwardToDatadog:!0}),c(t),eg.wr()});let $=[...new Set(P.map(e=>e.userId).filter(e=>e))],ea=(0,eb.zy)($);(0,th.c7)(P,w,C),(0,th.zz)($,ea,P);let ei=n.useCallback(e=>{s("Dev Mode Overview Tab Clicked",{tab:e}),k(e)},[k,s]);if(n.useEffect(()=>{"fullscreen"===m.view&&m.commentThreadId&&(0,eo._)(p,m,"overview_open_notification")},[p,m]),!q||Y)return n.createElement("div",{className:e5},n.createElement("div",{className:U()(e3,"overview--overviewSpinner--zv-dq"),style:{left:a}},n.createElement(ee.kt,{size:"large"})));let ec="";V>0&&(ec+=(0,er.t)("dev_handoff.workflows.overview.sections_count",{count:V})),K>0&&(V>0&&(ec+=", "),ec+=(0,er.t)("dev_handoff.workflows.overview.frames_count",{count:K})),V+K>0&&(ec+=" "+(0,er.t)("dev_handoff.workflows.overview.pages_count",{count:j}));let ed=0===D.length;return n.createElement("div",{className:e5},n.createElement("div",{className:U()(e3,{"overview--withInsetEditorEnabled--ktYXp":i}),style:{left:a}},n.createElement("div",{className:"overview--overviewHeader--BBr9p"},n.createElement(tM,null),n.createElement("div",{className:"overview--overviewTitle--gEd5D text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement("div",{className:"overview--overviewTitleIcon--NvF-4"},n.createElement(A.O,null)),n.createElement("h1",null,(0,er.tx)("dev_handoff.workflows.overview.title"))),n.createElement("div",{className:"overview--overviewTitleInfo--3e2oX text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("span",null,ec)),n.createElement(tz,null),n.createElement("div",{className:"overview--overviewHeaderSpacer--oRKTg"}),e&&n.createElement(tD,{value:S,onChange:N}),l&&n.createElement(tI,null)),n.createElement("div",{className:"overview--bannerWrapper--D8N5z"},n.createElement(eq,null)),n.createElement("div",{className:"overview--scrollAndEmptyMessage--3hOyM"},ed&&n.createElement("span",{className:"overview--emptyMessage--lyEC8"},L?(0,er.tx)("dev_handoff.workflows.overview.empty_message_search"):n.createElement("div",{className:en.cx.preWrap.$},(0,er.tx)("dev_handoff.workflows.overview.no_designs",{status:function(e){switch(e){case th.oz.BUILD:return(0,er.tx)("dev_handoff.workflows.overview.no_designs_ready");case th.oz.COMPLETED:return(0,er.tx)("dev_handoff.workflows.overview.no_designs_completed");default:return(0,er.tx)("dev_handoff.workflows.overview.no_designs_ready")}}(w),link:n.createElement(Z.CY,{href:"https://help.figma.com/hc/en-us/articles/23918228264855",trusted:!0,target:"_blank",className:"overview--learnMoreLink--Yrujk"},(0,er.tx)("dev_handoff.workflows.overview.learn_more"))}))),n.createElement(et.P,{className:"overview--overviewNodesScrollContainer--uc1ey",scrollContainerRef:f,initialScrollTop:g},n.createElement("div",{className:"overview--overviewNodesScrollContainerContents--fTO-e"},e&&n.createElement("div",{className:"overview--overviewTabsContainer--sjuS-"},n.createElement(tN,{tabs:R,selected:w,onTabSelected:ei}),w!==th.oz.RECENTLY_VIEWED&&n.createElement(tK,{sortedBy:C,setSortedBy:b})),!ed&&n.createElement("div",{className:"overview--overviewNodesContainer--P3anz"},n.createElement("div",{className:"overview--overviewSections--2H4Qw"},D.map(({key:e,pageId:t,pageName:a,sortedNodesWithStatusForFile:r})=>{let l=!t||F[e];return n.createElement(tF,{isExpanded:l,key:e,pageId:t,pageName:a,overviewNodes:r,users:ea,onExpandCollapseClicked:t?()=>G(t):void 0,onPreviewClick:J})}))))))))}function tR({pageName:e,isExpanded:t,onExpandCollapseClicked:a}){return n.createElement(N.E,{className:"overview--pageHeader--dubsT",onClick:a,"aria-label":t?(0,er.t)("dev_handoff.workflows.overview.collapse_page",{pageName:e}):(0,er.t)("dev_handoff.workflows.overview.expand_page",{pageName:e})},n.createElement("div",{className:"overview--pageHeaderContent--Bq-Ol text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(ea.B,{svg:t?tb.A:tC.A,className:"overview--caretIcon--gssmY"}),n.createElement(L.A,{className:"overview--pageIcon--w9-M7"}),n.createElement("span",null,e)))}function tD({value:e,onChange:t}){return n.createElement("div",{className:"overview--searchBar--NX8cb",role:"presentation","data-editor-theme":"dev-handoff"},n.createElement(O.h,null),n.createElement($.L,{placeholder:(0,er.t)("dev_handoff.workflows.overview.search_placeholder"),value:e,onChange:e=>{t(e.target.value)},className:"overview--searchInput--3X9vp text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&n.createElement("div",{className:"overview--searchInputClose--lNMFC"},n.createElement(S.K,{onClick:()=>t(""),"aria-label":(0,er.t)("dev_handoff.workflows.overview.clear_search"),htmlAttributes:{"data-tooltip":(0,er.t)("dev_handoff.workflows.overview.clear_search"),"data-tooltip-type":eI.Ib.TEXT}},n.createElement(M.L,null))))}function tF({pageName:e,overviewNodes:t,users:a,isExpanded:r,onExpandCollapseClicked:l,onPreviewClick:i}){return n.createElement(n.Fragment,null,e&&n.createElement(tR,{pageName:e,isExpanded:r,onExpandCollapseClicked:l}),r&&n.createElement("div",{className:"overview--overviewNodesList--ipsOp"},t.map(r=>n.createElement(tG,{key:r.nodeId,overviewNode:r,onPreviewClick:i,renderPageName:!e,users:a,nodeCount:t.length}))))}function tB({overviewNode:e,onClick:t,renderPageName:a,showLastUpdated:l}){let{nodeId:i,isSection:s,updatedAt:c,pageName:d,nodeName:u,pageId:m}=e,p=(0,eB.VW)(i,m),_=(0,r.d4)(e=>(0,eS.Np)(e,p)),f=(0,r.d4)(e=>(0,eS.xS)(e,p)),g=(0,eP.Cj)(f),h=(0,eB.TQ)(),E=n.useRef(null),y=(0,eh.BK)(`DEV_HANDOFF_OVERVIEW_OPTIONS_DROPDOWN_${i}`),v=function(e,t){let a=(0,eN.Fk)(t=>t.get(e)?.getStatusInfo(),e),n=a?.lastUpdateUnixTimestamp?1e3*a.lastUpdateUnixTimestamp:null,r=(0,G.ei)(e),l=t?r?.lastEditedAt:n,i=(0,Q.Ak)(l);return l?i:null}(i,e.hasBeenEditedSinceLastStatusChange),b=n.useMemo(()=>e.hasBeenEditedSinceLastStatusChange?(0,er.tx)("dev_handoff.workflows.edit_info.changed"):e.status===o.zIx.COMPLETED?(0,er.tx)("dev_handoff.status.completed"):e.status===o.zIx.BUILD?e.description?(0,er.tx)("dev_handoff.workflows.edit_info.new version"):(0,er.tx)("dev_handoff.status.ready_for_dev"):(0,er.tx)("dev_handoff.workflows.edit_info.changed"),[e.description,e.hasBeenEditedSinceLastStatusChange,e.status]);return n.createElement("div",{className:"overview--overviewNodeCardHeader--C-KTf"},n.createElement(q.lt,{className:U()("overview--overviewNodeCardHeaderLeft--jYCXL",e4),onClick:t,href:_,recordingKey:"dev_handoff.workflows.overview.card"},a&&d&&n.createElement("div",{className:"overview--pageNameAndChevron--5v8px"},n.createElement("span",{className:"overview--pageName--TURV8"},d),n.createElement("span",{className:"overview--breadCrumbSeparator--zcd8z"},"/")),n.createElement("div",{className:"overview--nodeNameAndIcon--Tl3e-"},n.createElement("div",null,s?n.createElement(P.e,null):n.createElement(R.q,null)),n.createElement("span",{className:"overview--nodeName--20NeF"},u)),l&&c>1&&n.createElement("div",{className:"overview--updatedAtText--z05FL text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,er.tx)("dev_handoff.overview_mode.design_status",{fromNow:v,status:b}))),n.createElement("div",{className:"overview--overviewNodeCardHeaderRight--wRNMN"},n.createElement(S.K,{"aria-label":(0,er.t)("dev_handoff.workflows.more_actions_tooltip"),ref:E,onClick:()=>y.toggle(),htmlAttributes:{"data-tooltip":(0,er.t)("dev_handoff.workflows.more_actions_tooltip"),"data-tooltip-type":eI.Ib.TEXT}},n.createElement(D.J,null)),y.showing&&E.current&&n.createElement(eM.Cf,{targetRect:E.current.getBoundingClientRect(),minWidth:180,lean:"left"},n.createElement(J.c$,{onClick:()=>h("Dev Mode Overview Card Go To Canvas Clicked",i,m)},(0,er.tx)("dev_handoff.workflows.overview.show_on_page_action")),n.createElement(J.c$,{onClick:g},(0,er.tx)("dev_handoff.status.copy_focus_link"))),n.createElement(ei.v,{nodeId:i,isMinimal:!0,sourceForLogging:"overview"})))}function tU({overviewNode:e,onClick:t,user:a}){let{description:l,nodeId:i,hasBeenEditedSinceLastStatusChange:o}=e,s=(0,eB.VW)(e.nodeId),c=(0,r.d4)(e=>(0,eS.Np)(e,s));return n.createElement(n.Fragment,null,n.createElement("div",{className:"overview--overviewAvatarRowMediaQueryHeader--nigbr"},n.createElement("div",{className:"overview--overviewRecentActivityHeader--sPkSZ"},o?n.createElement(tl,{nodeId:i,user:a,previewUrl:c,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}):n.createElement(ti,{nodeId:i,user:a,description:l,previewUrl:c,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}))))}function tG({overviewNode:e,onPreviewClick:t,renderPageName:a,users:l,nodeCount:i}){let o=(0,r.wA)(),s=(0,z.U)(),{nodeId:c,pageId:d,updatedAt:m}=e,p=(0,eB.VW)(c),_=(0,r.d4)(e=>(0,eS.Np)(e,p)),[f]=(0,u.fp)(tO),g=f===th._6.RECENT&&m>1,[,h]=(0,u.fp)(th.wz),E=l.usersById?.[e.userId],y=g&&(l.loading||E);function v(e){e.preventDefault(),s("Dev Mode Overview Card Clicked",{nodeId:c}),h("overview"),t(),o(ec.$T(p))}return n.createElement("div",{className:"overview--overviewNodeCard--NsmYU"},y&&n.createElement(tU,{overviewNode:e,onClick:v,user:E}),n.createElement("div",{className:"overview--previewContainer--5NeGg"},n.createElement(tB,{overviewNode:e,onClick:v,renderPageName:a,showLastUpdated:!y}),n.createElement(tH,{nodeId:c,pageId:d,updatedAt:m,previewUrl:_,onClick:v,nodeCount:i})))}function tH({nodeId:e,pageId:t,updatedAt:a,previewUrl:r,onClick:l,nodeCount:i}){let s=function(e,t){let a=function(e){let t=(0,eN.Fk)(t=>t.get(e)?.backgroundColor);return t?ed.F.format(t):"var(--color-bg)"}(t),n=o.w3z.backgroundColorOverride(e);return n?ed.F.format((0,ep.aH)(n)):a}(e,t),c=(0,eN.Fk)(t=>t.get(e)?.size),d=1+(5-5*Math.pow(Math.min(1,Math.max(0,Math.max(c?1-(tx-c.x)/tx:1,c?1-(tT-c.y)/tT:1))),.5)),m=c?{width:c.x*d,height:c.y*d}:{width:tw,height:tk},p=Math.min(1,Math.min(tw/m.width,tk/m.height)),_={width:Math.round(m.width*p),height:Math.round(m.height*p)},f=n.useRef(null),g=(0,ek.x)(f,"100%"),h=(0,ef.yh)({nodeId:e,width:_.width,height:_.height,shouldSkip:!g,version:a,reason:"workflows.overview.thumbnail",regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:o.w3z.canBeBlendedSection(e)}),E=function(){let[e,t]=(0,u.fp)(tg),[a]=(0,u.fp)(tf),r=(0,z.U)();return n.useCallback(n=>{if(!e&&a){t(!0);let e=t_.stop();r(tp,{nodeCount:n,source:a.source,elapsedMs:e},{forwardToDatadog:!0})}},[e,t,a,r])}();return n.useEffect(()=>{h&&E(i)},[h,E,i]),n.createElement("a",{ref:f,className:U()("overview--previewThumbnail--zofC5",e4),style:{background:s},onClick:l,href:r},h&&n.createElement("img",{src:h.src,style:{maxWidth:h.displaySize.x,maxHeight:h.displaySize.y},alt:(0,er.t)("dev_handoff.nodes_panel.thumbnail_alt_text")}),n.createElement("div",{className:"overview--previewExpandIcon--nqhxn","data-preferred-theme":"dark","data-tooltip":(0,er.t)("dev_handoff.workflows.overview.card_hover_expand_tooltip"),"data-tooltip-type":"text"},n.createElement(F.O,null)))}let tV=new class{format(e){switch(e){case th._6.PAGE:return(0,er.t)("dev_handoff.workflows.overview.sort_pages");case th._6.RECENT:return(0,er.t)("dev_handoff.workflows.overview.sort_recent");case th._6.ALPHABETICAL:return(0,er.t)("dev_handoff.workflows.overview.sort_alphabetical")}}};function tK({sortedBy:e,setSortedBy:t}){let a=(0,r.wA)(),l=(0,eh.Um)();return n.createElement(eR.l6,{dispatch:a,property:e,id:"DEV_MODE_OVERVIEW_SORT_DROPDOWN",onChange:t,formatter:tV,dropdownShown:l,className:"overview--sortDropdownButtonContainer--rL8cS",inputClassName:"overview--sortDropdownButton--Doetn text--fontPos11--2LvXf text--_fontBase--QdLsd",dropdownWidth:180,dropdownAlignment:"right",neverConstrain:!0},n.createElement(eR.c$,{formattedValue:(0,er.t)("dev_handoff.workflows.overview.sort_by"),additionalStylesClassName:"overview--sortByOption--rjLiK",isHeader:!0,ignoreCheck:!0}),Object.values(th._6).map(t=>n.createElement(eR.c$,{key:t,value:t,selected:e===t,fullWidth:!0})))}function tz(){return n.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>K.Ay.unsafeRedirect("https://form.asana.com/?k=dyYqSpHdZqetESFQzNb8hQ&d=10497086658021","_blank"),className:"overview--betaFeedbackBadge--PUv9s text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,er.tx)("dev_handoff.workflows.overview.feedback"),n.createElement(ea.B,{className:"overview--badgeIcon--rKOUQ",svg:tv.A}))}var tW=a(521033),tj=a(592096),tq=a(506599),tY=a(243742),tX=a(988022),tJ=a(974105),tZ=a(356390),tQ=a(373119),t$=a(369870),t0=a(396697),t1=a(213190),t2=a(678379),t5=a(601978),t3=a(760640),t4=a(488983),t6=a(737499),t7=a(770333),t8=a(85098),t9=a(698993),ae=a(69961),at=a(336599),aa=a(428467),an=a(939562),ar=a(776615),al=a(400466),ai=a(402609),ao=a(720750),as=a(293017),ac=a(101505),ad=a(456104),au=a(696673),am=a(833629),ap=a(397065),a_=a(740280),af=a(864114),ag=a(756159),ah=a(463546),aE=a(455263);function ay(){let e=(0,em.GS)(),{isShowing:t,complete:a,show:l}=(0,ad.e)({overlay:ah.N5c,priority:ap.N.SECONDARY_MODAL}),i=(0,r.wA)(),s=(0,eE.aV)(),c=!!(0,eW.f)("ui_kits_intro_tooltip"),d=!!(0,eW.f)("seen_explore_ui_kits_blue_tooltip"),{hasAnyUiKit:m}=(0,au.I7)(),p=(0,u.md)(ag.Cl),_=(0,am.jO)(),f=(0,aE.t)(),g=ey.q5()?.canEdit,h=(0,r.d4)(e=>e.leftPanel.activeTab===o.xae.LAYERS);return(n.useEffect(()=>{!g||!m||p||c||d||!_||s||f||!h||t||l()},[l,g,m,c,d,_,s,f,t,p,h]),n.useEffect(()=>{!h&&t&&a()},[h,t,a]),t)?n.createElement(a_.X,{isShowing:t,title:(0,er.tx)("rcs.ui_kits.jump_start_your_designs_with_ui_kits"),description:(0,er.tx)("rcs.ui_kits.grab_pre_built_ui",{strongAssets:n.createElement("strong",{style:{display:"contents"}},(0,er.tx)("design_systems.assets_panel.assets"))}),primaryCta:{label:(0,er.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{i(as.FP({tab:o.xae.ASSETS})),a()},ctaTrackingDescriptor:ac.c.PRESETS_TRY_IT},position:e?af.Q.UI3_EDITOR_TOP_LEFT:af.Q.EDITOR_TOP_LEFT,trackingContextName:"UI Kits Intro Tooltip",userFlagOnShow:"ui_kits_intro_tooltip",onClose:()=>{i(eK.b({seen_explore_ui_kits_blue_tooltip:!0})),a()}}):null}var av=a(129318),ab=a(895123),aC=a(601538),aw=a(864089),ak=a(799569),ax=a(135876),aT=a(47506),aN=a(410424),aS=a(777078),aI=a(106112),aA=a(788256);let aL="starting_points_templates_modal--templateOption--qYXkm",aO="starting_points_templates_modal--templateOptionTitle--DmVPR",aM="starting_points_templates_modal--verticalTemplateImage--kAzQz";var aP=a(630834);function aR({onClose:e}){let{insertTemplate:t}=(0,aS.Fz)(),a=(0,r.wA)(),[l,i]=n.useState(!1),s=(0,tQ.q)(),c=(0,r.d4)(e=>e.mirror.sceneGraph),u=s&&(0,aA.Qf)(c),m=!!u&&0===u.childrenGuids.length;if(n.useEffect(()=>{s&&u&&!m&&e()},[s,u,m,e]),!(0,d.kc)().starting_points_modal)return null;let p=(0,d.Ay)().starting_points,_=n=>{i(!0);let r=null;switch(n){case"basics":r=p?.figma_basics_hub_file_id;break;case"desktop":r=p?.desktop_templates_hub_file_id;break;case"mobile":r=p?.mobile_templates_hub_file_id;break;case"website":r=p?.website_templates_hub_file_id}r&&a(aN.ts({hubFileId:r,callback:async a=>{await t({template:{template:a,type:aI.n.HubFile},userTriggered:!1,editScopeType:o.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:o.hKj.RIGHT}),(0,aT.YQ)({id:"starting_points_template_inserted"}),e(),i(!1)}}))},f=n.createElement(ez.$z,{onClick:()=>_("basics"),trackingProperties:{trackingDescriptor:ac.c.LEARN_THE_BASICS}},(0,er.tx)("starting_points.learn_the_basics"));return n.createElement(ez.fu,{name:"Starting Points Modal"},n.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--R8g3u"},n.createElement(ax.x,{isLoading:l,className:"starting_points_templates_modal--loadingSpinner--UOrjg"},()=>n.createElement("div",{className:"starting_points_templates_modal--startingPointsTemplatesModal--dUQte"},n.createElement("div",{className:"starting_points_templates_modal--modalInstructions--ZtdTL"},n.createElement("div",{className:"starting_points_templates_modal--modalTitle--HT3eZ"},(0,er.t)("starting_points.what_do_you_want_to_make_today")),n.createElement("div",{className:"starting_points_templates_modal--modalLearnMore--g-GWo"},(0,er.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:f}))),n.createElement("div",{className:"starting_points_templates_modal--optionContainer--mYEsG"},n.createElement(ez.$z,{className:aL,onClick:()=>_("website"),trackingProperties:{trackingDescriptor:ac.c.WEBSITE_TEMPLATES}},n.createElement("div",{className:aO},(0,er.t)("starting_points.website")),n.createElement(aw.oW,{className:aM,src:"https://static.figma.com/uploads/9b8475fdab7c1ed3cd1c0d16b957d65a80840b74",alt:"Website template"})),n.createElement(ez.$z,{className:aL,onClick:()=>_("mobile"),trackingProperties:{trackingDescriptor:ac.c.MOBILE_APP_TEMPLATES}},n.createElement("div",{className:aO},(0,er.t)("starting_points.mobile_app")),n.createElement(aw.oW,{className:aM,src:"https://static.figma.com/uploads/b262e57bed515b9f0da45ae54fa43824d9704c14",alt:"Mobile app template"})),n.createElement(ez.$z,{className:aL,onClick:()=>_("desktop"),trackingProperties:{trackingDescriptor:ac.c.DESKTOP_APP_TEMPLATES}},n.createElement("div",{className:aO},(0,er.t)("starting_points.desktop_app")),n.createElement(aw.oW,{className:"starting_points_templates_modal--desktopTemplateImage--3kplg",src:"https://static.figma.com/uploads/cb2f715253dacb4e7d3fb211ff2792fc28a38832",alt:"Desktop app template"}))),n.createElement("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--pSvfX"},(0,er.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:f})),n.createElement(ak.Jn,{className:"starting_points_templates_modal--closeButton--io-14",onClick:e,innerText:"close",svg:aP.default})))))}function aD(){let e=(0,r.wA)(),t=!(0,eW.f)("not_gen_0"),a=(0,em.GS)(),l=(0,eW.f)("dismissed_starting_points_templates_modal"),i=(0,u.md)(ab.z),o=(0,d.Ay)().starting_points,{show:s,isShowing:c,complete:m}=(0,ad.e)({overlay:ah.EYw,priority:ap.N.OVERRIDING_MODAL+1});return(n.useEffect(()=>{let e=!!(0,d.kc)().starting_points_modal,n=(0,av.QL)(aC.E_.key)===aC.E_.value;c||s({canShow:()=>e&&!!t&&!!a&&!l&&(i||n)&&!!o})},[c,s,t,a,i,l,o]),c)?n.createElement(aR,{onClose:()=>{e(eK.b({dismissed_starting_points_templates_modal:!0})),m()}}):null}var aF=a(219728),aB=a(215122),aU=a(593779),aG=a(937036),aH=a(153234),aV=a(768137),aK=a(154483),az=a(175290),aW=a(173454),aj=a(184027),aq=a(983092),aY=a(761334),aX=a(746806),aJ=a(927990),aZ=a(984031);function aQ({initialPosition:e,initialVariableValue:t,initialView:a,inheritStyleKeyField:r,initialStyleCreationPaint:l,resolvedType:i,recordingKey:o,onCreateStyleSubmit:s,onCreateVariableSubmit:c,onClose:d,disableStyleModal:u}){let[m,p]=aF.tU.useTabs({createVariable:!0,createStyle:!0},{recordingKey:aH.Pt(o,"viewTabs"),defaultActive:()=>(function(e){let t=["createVariable","createStyle"];return e&&t.includes(e)?e:t[0]})(a)});return n.createElement(aX.vx,{title:n.createElement(aF.tU.TabStrip,{manager:p},!u&&n.createElement(aF.tU.Tab,{...m.createStyle},(0,er.tx)("design_systems.create_style.style")),n.createElement(aF.tU.Tab,{...m.createVariable},(0,er.tx)("variables.create_modal.title"))),initialPosition:e,initialWidth:aq.iG,onClose:d},n.createElement(aF.tU.TabPanel,{...m.createVariable},n.createElement(aq.Ty,{resolvedType:i,initialValue:t,recordingKey:aH.Pt(o,"createVariableForm"),onSubmit:c})),n.createElement(aF.tU.TabPanel,{...m.createStyle},n.createElement(a$,{inheritStyleKeyField:r,initialStyleCreationPaint:l,recordingKey:"createStyleModal",onSubmit:s})))}function a$({inheritStyleKeyField:e,initialStyleCreationPaint:t,recordingKey:a,onSubmit:l}){let i=(0,r.d4)(e=>e.mirror.selectedStyleProperties),o=(0,r.d4)(e=>e.mirror.sceneGraphSelection),s=n.useRef(Object.keys(o).length>0),c=(0,aG.sg)(e),{styleRef:d,createStyle:u}=(0,aJ.u)({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:s.current,trackingOptions:{styleType:c}}),m=aH.of(a,"submit",()=>{u(),l(d)});return i.styleType?n.createElement(n.Fragment,null,n.createElement(aj.zK.Provider,{value:aj.zM.CREATE_VARIABLE_STYLE},n.createElement(aZ.O8,{type:i.styleType,recordingKey:a,isInspectPanel:!1,selectedStyleProperties:i,showProperties:!0,onEnterPressed:m}),n.createElement(az.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},n.createElement(aV.$$,{style:{justifySelf:"right"},onClick:m,disabled:!d},(0,er.tx)("design_systems.create_style.create_style"))))):null}var a0=a(716253),a1=a(634832),a2=a(621945),a5=a(228739),a3=a(302717),a4=a(707458),a6=a(572206),a7=a(46481),a8=a(545164),a9=a(992271),ne=a(862442),nt=a(457630),na=a(155300),nn=a(94500),nr=a(206074),nl=a(7959),ni=a(816660),no=a(765165),ns=a(914205);let nc="hit-target-resize";function nd(e){let t=a9.hY[e.devicePresetIdentifier].inlinePreviewInfo?.hitTargetSvgUrl,[a,r]=n.useState(null);(0,n.useEffect)(()=>{fetch(t).then(e=>e.text()).then(e=>r(e)).catch(()=>console.warn("Failed to fetch hit target SVG. Falling back to rectangular resize boundary."))},[t]);let l=n.useMemo(()=>a?(0,ea.V)(a):null,[a]);return null!==l?n.createElement(nu,{...e,hitTargetSvg:l}):n.createElement(no.K,{...e})}function nu({resizeTo:e,getCurrentContainerBounds:t,lockAspectRatio:a,isResizing:r,setIsResizing:l,onResizeEnd:i,setResizeDirections:o,devicePresetIdentifier:s,isDeviceRotatedCCW:c,hitTargetSvg:d,hidden:u,recordingKey:m}){let p=n.useCallback(()=>{let e=t(),a=(16/((c?e.bottom-e.top:e.right-e.left)/a9.hY[s].imageSize.x)).toFixed(2);document.querySelectorAll(`[id^=${nc}]`).forEach(e=>e.setAttribute("stroke-width",`${a}`))},[s,c,t]);(0,n.useEffect)(()=>{p()},[p]);let _=n.useCallback(()=>{p(),i?.()},[i,p]),{startResizing:f}=(0,no.Q)({resizeTo:e,getCurrentContainerBounds:t,isResizing:r,setIsResizing:l,setResizeDirections:o,onResizeEnd:_,lockAspectRatio:a,hidden:u,recordingKey:m}),g=n.useRef(null),h=n.useRef(null),E=n.useMemo(()=>(0,a9.qt)(s)===a9.bq.WATCH,[s]),y=n.useCallback(e=>{let t=e.currentTarget.getBoundingClientRect(),a=e.clientX-t.left,n=e.clientY-t.top;return E?np({x:a,y:n},t):nm({x:a,y:n},t)},[E]),v=aH.rf(m,"mousedown",n.useCallback(e=>{e.stopPropagation(),e.preventDefault(),f(y(e),{x:e.clientX,y:e.clientY})},[y,f]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),b=aH.rf(aH.Pt(m,"deviceFrameResizeTarget"),"mousemove",n.useCallback(e=>{if(r)return aH.aH;e.stopPropagation(),e.preventDefault();let t=y(e),a=e.currentTarget;h.current&&a.classList.remove(h.current);let n=(0,ni.as)(t);n&&a.classList.add(n),h.current=n},[y,r]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),C=n.useCallback(e=>{e.onmousemove=b,e.onmousedown=v},[v,b]);return((0,n.useEffect)(()=>{document.querySelectorAll(`[id^=${nc}]`).forEach(e=>C(e))},[s,C]),u)?null:c?(()=>{let e=a9.hY[s].imageSize,t=e.x/e.y;return n.createElement("div",null,n.createElement(ea.B,{svg:d,svgClassName:U()(ns.Q0,ns._d,ns.iZ),svgWidth:`${100*t}%`,ref:g,useOriginalSrcFills_DEPRECATED:!0}))})():n.createElement("div",null,n.createElement(ea.B,{svg:d,svgClassName:ns.iZ,ref:g,useOriginalSrcFills_DEPRECATED:!0}))}let nm=(e,t)=>{let{x:a,y:n}=e,r=.1*Math.min(t.width,t.height),l=[];return n<r?l.push(ni.OP.TOP):n>t.height-r&&l.push(ni.OP.BOTTOM),a<r?l.push(ni.OP.LEFT):a>t.width-r&&l.push(ni.OP.RIGHT),l},np=(e,t)=>{let{x:a,y:n}=e,r=.1*t.width;if(n<r)return[ni.OP.TOP];if(n>t.height-r)return[ni.OP.BOTTOM];if(a<r)return[ni.OP.LEFT];if(a>t.width-r)return[ni.OP.RIGHT];let l=[];return n<t.height/2?l.push(ni.OP.TOP):l.push(ni.OP.BOTTOM),a<t.width/2?l.push(ni.OP.LEFT):l.push(ni.OP.RIGHT),l};var n_=a(144119),nf=a(223556),ng=a(705940),nh=a(371435),nE=a(744108),ny=a(523931),nv=a(999918),nb=a(39004),nC=a(717682),nw=a(885722),nk=a(323322),nx=a(479991),nT=a(503618),nN=a(844076),nS=a(122975);let nI={x:600,y:600},nA="inlinePreviewModal",nL=e=>{let t=(0,nt.MG)({subscribeToUpdates_expensive:!0}),a=(0,nt.TZ)({subscribeToUpdates_expensive:!0}),r=(0,eL.GQ)()+a0.gN;return(0,n.useMemo)(()=>e?new a6.Mi(t+r+a0.wR,a+a0.gN):new a6.Mi(t+a0.wR,a+a0.wR),[e,t,a,r])},nO=n.memo(function({pageId:e,viewerControl:t}){let[{previewKeyForErrorBoundary:a},r]=(0,u.fp)(t.stateAtom);return n.createElement(p.tH,{key:a,boundaryKey:"InlinePreviewModal",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{if((0,H.sx)("inline_preview_crashed",{},{forwardToDatadog:!0}),r({type:"HANDLE_PREVIEW_CRASHED"}),(0,m.Lg)()||(0,m.nl)()||(0,d.b5)())throw Error("Inline preview crashed")}},n.createElement(nM,{pageId:e,viewerControl:t}))}),nM=n.memo(function({pageId:e,viewerControl:t}){let a=n.useRef(null),l=(0,em.GS)(),i=(0,r.d4)(e=>e.openFile?.key),s=(0,n.useRef)(!1),[{currentPresentedNode:d,navigateBackwardEnabled:m,navigateForwardEnabled:p,modalStatus:_,sizeInfo:f,showDeviceFrameEnabled:g,scalingInfo:h},E]=(0,u.fp)(t.stateAtom),y=(0,r.wA)(),v=(0,eE.eY)(),b=(0,n.useMemo)(()=>_===nh.b.OPEN,[_]),C=f?.initialViewerSize??nI,w=(0,c.ZC)(C),k=nL(l),[x,T]=n.useState(k),[N,S]=n.useState(C.x),[I,A]=n.useState(C.y+ni.uF),L=a4.q.instance.getCurrentPage()?.prototypeDevice||null,O=L?.presetIdentifier,M=!!O&&(0,a9.L_)(O),P=b&&M&&g,{showing:R}=(0,eh.BK)(t.overflowDropdownType),D=(0,ne.Z)(),F=(0,eT.J2)(o.Ez5.singleSlideView().isInSingleSlideView),[B,G]=n.useState(!1),H=n.useCallback(()=>{G(!0),tZ.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!0})},[G]),K=(0,n_.sO)(),z=B||R?ny.cD:ny.Xt,W=n.useCallback(e=>{y((0,nn.Zh)({name:"prototype.close_inline_viewer",params:{source:e}})),E({type:"CLOSE_INLINE_PREVIEW"})},[y,E]),j=n.useCallback(()=>((0,a1.assert)(!!I),(0,a1.assert)(!!N),{x:N,y:I-ni.uF}),[I,N]),q=n.useCallback(e=>{S(e.x),A(e.y+ni.uF)},[S,A]),Y=n.useCallback(()=>{let e=j();if(!P)return e;(0,a1.assertNotNullish)(O,"devicePresetIdentifier must be set");let t=L.rotation,{framePresetSize:a,idealDeviceSize:n}=(0,nf.is)(O,t);return(0,nf.BX)(e,a,n)},[O,j,P,L?.rotation]);n.useEffect(()=>{s.current||T(k)},[k]),n.useEffect(()=>{E({type:"SET_CURRENT_VIEWER_SIZE_CALLBACK",payload:Y})},[E,Y]);let X=n.useMemo(()=>f?.breakpoint?.type!==a0.l5.DEVICE,[f]),J=n.useCallback(e=>{if(!X)return;let t=Y();(0,a1.assert)(!!d,"currentPresentedNode must be set");let a=v.get(d);(0,a1.assert)(!!a,"expected selectedNode to exist");let n=(0,a0.HS)(v,a),r=(0,a0.hX)(t,a,n,v);(0,a1.assert)(r.breakpoint.type!==a0.l5.DEVICE,"fit to aspect ratio not allowed for device"),q(r.initialViewerSize),y((0,nn.Zh)({name:"prototype.resize_to_fit_aspect_ratio",params:{source:e}}))},[X,Y,d,v,q,y]),Z=()=>{if(!d)return!1;let e=!1;if(P){let{idealDeviceSize:t}=(0,nf.is)(O,L.rotation);e=t.x>=a0.Fe&&t.y>=a0.Sq}else{let t=v.get(d);if(!t)return!1;let a=(0,a0.HS)(v,t),n=(0,a0.nw)(a,t);e=n.x>=a0.Fe&&n.y>=a0.Sq}return e},Q=n.useCallback(e=>{E({type:"SET_PREVIEW_IS_RESPONSIVE",payload:e})},[E]),$=n.useCallback(()=>{E({type:"RESIZE_MODAL",payload:{sceneGraph:v}})},[E,v]),ee=n.useCallback(e=>{if(e){let t=(0,nt.QZ)({nodeId:e,alwaysPan:!0,maxScale:.6});K?_===nh.b.OPEN&&(D(t),F&&o.Ez5.singleSlideView().focusSlideInSingleSlideView(e,!0)):D(t)}},[D,K,F,_]);n.useEffect(()=>{E({type:"SET_SCROLL_CALLBACK",payload:ee})},[E,ee]);let et=n.useCallback(e=>{q({x:e.x,y:e.y+(0,V.jz)(ty.m8f)})},[q]),ea=n.useMemo(()=>{if(P&&a9.hY[O].inlinePreviewInfo?.hitTargetSvgUrl)return function(e){let t=L.rotation===o.xOL.CCW_90;return n.createElement(nd,{...e,mirrorResizeHorizontally:!1,devicePresetIdentifier:O,isDeviceRotatedCCW:t})}},[P,O,L?.rotation]),en=n.useCallback(e=>{(0,a1.assert)(f?.breakpoint.type===a0.l5.DEVICE,"device must be set to toggle device frame"),(0,a1.assert)(!!L,"prototypeDevice must be set to toggle device frame");let t=Y();if(e){let e=L.presetIdentifier,{idealDeviceSize:a,framePresetSize:n}=(0,nf.is)(e,L.rotation);et((0,nf.Ho)(t,n,a))}else q(t)},[f?.breakpoint.type,L,Y,q,et]);(0,a1.assert)(!b||null!==f,"sizeInfo should always be set when open"),n.useLayoutEffect(()=>{if(w!==C){if(P){let{idealDeviceSize:e,framePresetSize:t}=(0,nf.is)(O,L.rotation);et((0,nf.Ho)(C,t,e))}else q(C)}},[C,w,O,P,L,et,q]),n.useEffect(()=>{O&&(0,a9.L_)(O)&&(0,a9.Gn)(O)},[O]);let er=n.useCallback(()=>{let e=j(),{width:t,height:a}=tZ.Y5.getViewportInfo(),n=e.x/t,r=e.y/a;y((0,nn.Zh)({name:"prototype.inline_preview_manually_resized",params:{isDeviceFrameShown:P,horizontalCoverage:n,verticalCoverage:r}}))},[y,j,P]),el=(0,n.useMemo)(()=>{let e={height:"100%"};return l&&!P?{...e,borderBottomLeftRadius:"var(--radius-small)",borderBottomRightRadius:"var(--radius-small)"}:e},[P,l]);if(_===nh.b.NOT_LOADED)return null;let ei=U()(K?ny.CN:ny.aq,P?null:z),eo=U()(P?[z,ns.k9]:null,{[ny.FO]:K}),{x:es,y:ec}=(0,a0.ut)(a4.q.instance,!0),ed=!b||!f?.initialViewerSize;return n.createElement(aX.BL,{position:x,setPosition:T,width:N,setWidth:S,height:I,setHeight:A,recordingKey:nA,ignoreCloseShortcut:!b,title:n.createElement(nR,{navigateBackwardEnabled:m,navigateForwardEnabled:p,width:N,onBack:t.onBack,onForward:t.onForward,onRestart:t.onRestart}),tabIndex:0,onFocus:()=>{t.onFocus()||H()},onEdgeDoubleClick:()=>J("double_click"),onResize:$,onResizeEnd:er,onClose:()=>{W("modal")},onDragStart:()=>s.current=!0,hidden:ed,frameStyle:el,transparentContentBackground:P,containerClassName:ei,containerFillsPage:K,headerClassName:eo,minHeight:ec,minWidth:es,preventKeyboardFocus:!0,allowResizeHeight:B&&!K,allowResizeWidth:B&&!K,disableDragging:K,alwaysEnsureHeaderModalOnScreen:!0,allowPartialHeaderOnScreen:!0,makeContentPixelPerfect:!0,dragHeaderOnly:!0,lockAspectRatio:f?.breakpoint?.type===a0.l5.DEVICE,customButton:n.createElement(nP,{viewerControl:t,allowSizeReset:X,allowActualSizeReset:Z(),isPrototypeDeviceSet:!!L&&L.type!==o.XQq.NONE,isPreviewFittedToAspectRatio:()=>{if(!d||!X)return!1;let e=v.get(d);if(!e)return!1;let t=Y(),a=(0,a0.HS)(v,e),n=(0,a0.hX)(t,e,a,v),r=t.x/t.y,l=n.initialViewerSize.x/n.initialViewerSize.y;return(0,na.o)(r,l)},isDeviceSupportedForPreview:M,openFileKey:i,showOverflow:!K,showFullscreenButton:K,iframeRef:a,resizeToFitAspectRatio:()=>J("overflow_menu"),scrollToNode:ee,resizeToActualSize:()=>{if(!Z())return;(0,a1.assert)(!!d),(0,a1.assert)(!!f);let e=v.get(d);(0,a1.assert)(!!e),y((0,nn.Zh)({name:"prototype.resize_to_actual_size"}));let t=P?(0,nf.is)(O,L.rotation).idealDeviceSize:(0,a0.nw)(f.breakpoint,e),a=(e,t)=>{q(e),T(new a6.Mi(t.x,t.y))},n=j();(0,a0.UB)(t,y,()=>a(n,x)),q(t)},isPreviewShownAtActualSize:()=>{if(!d||!a.current)return!1;let e=v.get(d);if(!e||!f?.breakpoint)return!1;let t=P?(0,nf.is)(O,L.rotation).framePresetSize:(0,a0.nw)(f.breakpoint,e),n=Y();return(0,na.o)(t.x,n.x,1e-4)&&(0,na.o)(t.y,n.y,1e-4)},setPreviewIsResponsive:Q,isPreviewResponsive:"responsive"===h.contentScalingMode,closeInlinePreview:W,onToggleShowDeviceFrame:en,width:N}),ResizeTargetComponent:ea},(()=>{let r=t.ViewerComponent;return n.createElement(ng.H,{initialViewerSize:C,isDeviceFrameShown:P},n.createElement(r,{ref:a,key:e,pageId:e,openFileKey:i,closeInlinePreview:W,isOpen:b,iframeFocused:B,setIframeFocused:G,onIframeFocus:H}))})())});function nP({allowSizeReset:e,allowActualSizeReset:t,isPrototypeDeviceSet:a,isDeviceSupportedForPreview:l,openFileKey:i,resizeToFitAspectRatio:s,scrollToNode:c,showOverflow:d,showFullscreenButton:m,iframeRef:p,resizeToActualSize:_,isPreviewShownAtActualSize:f,setPreviewIsResponsive:g,isPreviewResponsive:h,closeInlinePreview:E,onToggleShowDeviceFrame:y,width:v,isPreviewFittedToAspectRatio:b,viewerControl:C}){let w=(0,r.wA)(),k=n.useRef(null),[{currentPresentedNode:x,targetFrameFollowingEnabled:T,showDeviceFrameEnabled:N},S]=(0,u.fp)(C.stateAtom),{showing:I,toggle:A}=(0,eh.BK)(C.overflowDropdownType),L=n.useCallback(()=>{if(!i)throw Error("Expected openFileKey to exist");if(!x)throw Error("openPrototypeInNewTab called without currentPresentedNode");w(a8.F({fileKey:i,nodeId:x,startingPointNodeId:o.X3B.getActivePrototypeStartingPointNodeIdOnCurrentPage(),source:"inline_viewer",scalingInfo:h?a?{contentScalingMode:"responsive",viewportScalingMode:"scale-down"}:{contentScalingMode:"responsive",viewportScalingMode:"contain"}:void 0})),E("open_in_new_tab")},[i,x,w,h,a,E]),O=n.useCallback(()=>{let e=!T;w((0,nn.Zh)({name:"prototype.toggle_follow_previewed_frame",params:{enabled:e}})),S({type:"TOGGLE_TARGET_FRAME_FOLLOWING"}),c(x)},[w,S,T,c,x]),M=n.useCallback(()=>{let e=!N;w((0,nn.Zh)({name:"prototype.toggle_show_device_frame",params:{enabled:e,location:"preview"}})),S({type:"TOGGLE_SHOW_DEVICE_FRAME"}),y(e)},[w,N,y,S]),P=n.useCallback(()=>{let r={displayText:(0,er.t)("inline_preview.overflow_menu.responsive"),name:"responsive",recordingKey:"responsiveButton",callback:()=>{g(!0)},isChecked:h,icon:n.createElement(a7.U,{svg:nN.A,className:nE.Fp},n.createElement(a2.V,null)),unsetStrokeOnActiveOption:!0},i={displayText:l?(0,er.t)("inline_preview.overflow_menu.fixed"):(0,er.t)("inline_preview.overflow_menu.fit_width"),name:l?"fixed":"fit-width",isChecked:!h,recordingKey:"fixedButton",icon:l?n.createElement(a7.U,{svg:nx.A,className:nE.Fp},n.createElement(a5.O,null)):n.createElement(a7.U,{svg:nT.A,className:nE.Fp},n.createElement(a3.v,null)),callback:()=>{g(!1)},unsetStrokeOnActiveOption:!0},o={displayText:(0,er.t)("inline_preview.overflow_menu.follow_prototype"),name:"follow-active-frame",recordingKey:"followActiveFrame",callback:O,isChecked:T},c={displayText:l?(0,er.t)("inline_preview.overflow_menu.resize_device_100_percent"):(0,er.t)("inline_preview.overflow_menu.resize_window_100_percent"),name:"actual-size",recordingKey:"actualSizeButton",callback:_,disabled:!t,isChecked:f(),"data-onboarding-key":"resize-to-actual-size"},d={displayText:(0,er.t)("inline_preview.overflow_menu.reset_aspect_ratio"),name:"reset-size",recordingKey:"resetSizeButton",callback:s,isChecked:b(),disabled:!e,hidden:a},u={displayText:(0,er.t)("inline_preview.overflow_menu.show_device_frame"),name:"show-device-frame",recordingKey:"showDeviceFrame",callback:M,isChecked:N&&l,disabled:!l,hidden:!a};return[l?r:i,l?i:r,{separator:!0,displayText:""},o,c,d,u,{displayText:(0,er.t)("inline_preview.new_tab"),recordingKey:"openInNewTabButton",name:"open-in-new-tab",callback:L,hidden:v>a0.kl}]},[h,l,O,T,_,t,f,s,b,e,a,M,N,L,v,g]),R=n.useCallback(()=>{p.current&&p.current.requestFullscreen()},[p]);return n.createElement(n.Fragment,null,d&&n.createElement("div",{ref:k},n.createElement(nl.K0,{svg:nv.A,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("inline_preview.overflow_menu"),onMouseDown:e=>{e.stopPropagation(),A(e)},recordingKey:(0,aH.Pt)(nA,"overflowMenuButton")})),v>a0.kl&&n.createElement(nl.K0,{svg:nb.A,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("inline_preview.new_tab"),onClick:L,recordingKey:(0,aH.Pt)(nA,"openInNewTabButton"),dataTestId:"preview-open-in-presentation-view"}),m&&n.createElement(nl.K0,{svg:nS.A,onClick:R,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("inline_preview.open_fullscreen")}),I&&k.current&&n.createElement(nr.j,{dispatch:w,parentRect:k.current.getBoundingClientRect(),onFocus:e=>{e.stopPropagation()},onDismissMenu:C.onDismissOverflow,onDropdownHidden:C.onDismissOverflow,showPoint:!0,lean:"center",onSelectItem:e=>{e.callback&&e.callback()},recordingKey:(0,aH.Pt)(nA,"overflowMenu"),items:P()}))}function nR({navigateForwardEnabled:e,navigateBackwardEnabled:t,onRestart:a,width:l,onBack:i,onForward:o}){let s=(0,r.wA)();return n.createElement("div",{className:ny.KW},l<=a0.Ah?null:n.createElement(n.Fragment,null,n.createElement(nl.K0,{svg:nk.A,tooltipForScreenReadersOnly:!0,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("viewer.footer.previous_frame"),onClick:i,disabled:!t,recordingKey:(0,aH.Pt)(nA,"navigateBackwardButton"),dataTestId:"preview-navigate-backward"}),n.createElement(nl.K0,{svg:nw.A,tooltipForScreenReadersOnly:!0,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("viewer.footer.next_frame"),onClick:o,disabled:!e,recordingKey:(0,aH.Pt)(nA,"navigateForwardButton"),dataTestId:"preview-navigate-forward"})),l<=a0.kl?null:n.createElement(nl.K0,{svg:nC.A,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("inline_preview.restart"),onClick:()=>{s((0,nn.Zh)({name:"prototype.replay_clicked",params:{source:"inline viewer"}})),a()},recordingKey:(0,aH.Pt)(nA,"restartButton"),dataTestId:"preview-restart-prototype"}))}var nD=a(701750),nF=a(646240),nB=a(132135),nU=a(241437),nG=a(274071),nH=a(711490),nV=a(127775);let nK=n.forwardRef(function({pageId:e,openFileKey:t,closeInlinePreview:a,isOpen:r,iframeFocused:l,setIframeFocused:i,onIframeFocus:s},c){let d=(0,nF.Xr)(nh.h),[p,_]=n.useState(!1),f=(0,u.md)(nU.yw),{isResizing:g,isDragging:h}=n.useContext(nH.O),E=n.useMemo(()=>g||h||!l,[g,h,l]),y=n.useMemo(()=>g||h,[g,h]);n.useEffect(()=>{nD.A.setDisableCloseWithShortcut(y)},[y]),n.useEffect(()=>{c.current&&(r?c.current.focus():(0,nG.$z)())},[c,r]),n.useEffect(()=>{let e=c.current;if(!e||p)return;let t=e=>{let t=e.shiftKey&&"Space"===e.code,n="Escape"===e.code;(t||n)&&!y&&a("keyboard")};return e.contentWindow?.addEventListener("keydown",t),()=>{e&&e.contentWindow?.removeEventListener("keydown",t)}},[c,p,y,a]);let v=t?function(e,t){let a=encodeURIComponent((0,nB.Kw)({base:"proto",file:{key:e},nodeId:t}));return`${location.origin}/embed?embed_host=inline-viewer&url=${a}&hide-ui=1&inline-viewer=1`}(t,e):"";return(n.useEffect(()=>{if(!c.current)return;let e=nD.A.initialize(c.current,{closeInlinePreview:a,dispatch:d,onLoad:()=>{_(!0)}});return()=>{d({type:"RESET_INLINE_PREVIEW"}),e(),_(!1)}},[a,d,e,c]),n.useEffect(()=>{},[v,e,f]),n.useEffect(()=>{let e=c.current;if(!e)return;let t=()=>{i(!1),tZ.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!1})};return e.contentWindow?.addEventListener("focus",s),e.contentWindow?.addEventListener("blur",t),()=>{e&&(e.contentWindow?.removeEventListener("focus",s),e.contentWindow?.removeEventListener("blur",t))}},[c,i,s]),n.useEffect(()=>()=>(0,nU.Bm)("inline_prototype_viewer"),[]),t)?n.createElement("div",{className:ny.Wc},n.createElement("iframe",{ref:c,title:"Inline Preview",src:(0,m.PN)()?"/test/interactions/proto?secondary=1&inline-viewer=1":v,className:U()(ny.VR,E?ny.dS:null)}),!p&&n.createElement(nV.z2,{shouldNotOverflow:!0,isViewer:!0,editorType:e$._Y.DESIGN,progressBarMode:o.Oin.HIDE_UI})):null}),nz={overflowDropdownType:"INLINE_PREVIEW_OVERFLOW_DROPDOWN",stateAtom:nh.h,ViewerComponent:nK,onBack:()=>{nD.A.navigateBackward()},onForward:()=>{nD.A.navigateForward()},onRestart:()=>{nD.A.restartPrototype()},onFocus:()=>!!nD.A.isIframeInitialized()&&(nD.A.focus(),!0),onDismissOverflow:()=>{nD.A.focus()}};var nW=a(347240);function nj(){let e=(0,t6.m0)(),t=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return n.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{o.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===o.m1T.TEXT&&o.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{o.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{o.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{o.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{o.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}var nq=a(324666),nY=a(508226),nX=a(872429),nJ=a(38329),nZ=a(286640),nQ=a(177505),n$=a(92566),n0=a(648836),n1=a(75888),n2=a(677859),n5=a(835510),n3=a(94958);function n4({nodeIDs:e}){let t=(0,eT.J2)(o.Ez5.slideDeck().isDraggingSlides),a=(0,r.d4)(e=>e.mirror.selectionProperties.pasteSources),l=(0,eN.ew)(e);if(t||0===l.length)return null;if("INTERACTIVE_SLIDE_ELEMENT"===(l.every(e=>e.type===l[0].type)?l[0].type:null))for(let e of l){let{InlineControl:t}=(0,n5.Z)(e.interactiveSlideElementType);if(t)return n.createElement(t,{nodeId:e.guid})}return a&&a.length===e.length?n.createElement(n3.p,{pasteSources:a,recordingKey:"slides-inline-menu"}):null}let n6=n.memo(function(){let e=Object.keys((0,r.d4)(e=>e.mirror.sceneGraphSelection));return e?n.createElement(n0.k,{isShown:!0},n.createElement(n1.IA,null,n.createElement(n2.W1,null,n.createElement(n4,{nodeIDs:e})))):null});var n7=a(366501),n8=a(302442),n9=a.n(n8),re=a(395096),rt=a(195601);function ra(){let e=(0,eT.J2)(o.Ez5.slideDeck().slideGrid),t=(0,eT.J2)(o.Ez5.slideThumbnailEdits()),a=(0,u.md)(n$.uY);return n.createElement(rn,{ids:e.flat(),thumbnailEdits:t,idsInViewport:a})}function rn({ids:e,thumbnailEdits:t,idsInViewport:a}){let r=(0,n7.Jj)(),l=(0,ey.tS)(),[i,o]=(0,n.useState)([]),[s]=(0,re.A)(i,100,{equalityFn:rl});(0,n.useEffect)(()=>{if((!a||0!==a.length)&&s.length){let e=[...s];e.sort((e,t)=>e===r?-1:t===r?1:a?.includes(e)&&!a?.includes(t)?-1:a?.includes(t)&&!a?.includes(e)?1:0),n9()(e,a?a.length:5).forEach((e,t)=>{e.forEach(e=>{let n=e===r||!!a?.includes(e);setTimeout(()=>(0,rt.I)(e,n,l||""),40*t)})}),o([])}},[s,r,a,l]);let c=(0,n.useCallback)(e=>{o(t=>t.includes(e)?t:[...t,e])},[]);return n.createElement(n.Fragment,null,e.map(e=>n.createElement(rr,{key:e,guid:e,editCount:t.get(e)||0,requestThumbnailGeneration:c})))}function rr({guid:e,editCount:t,requestThumbnailGeneration:a}){let[r]=(0,re.A)(t,400);return(0,n.useEffect)(()=>{a(e)},[e,r,a]),n.createElement(n.Fragment,null)}function rl(e,t){return e.length===t.length&&e.every((e,a)=>e===t[a])}var ri=a(621925);function ro(){let e=(0,e_.qw)();return n.createElement("div",{style:{paddingRight:`calc(${e}px + var(--spacer-2))`}})}var rs=a(455850),rc=a(953289),rd=a(179243),ru=a(452883),rm=a(266294),rp=a(342753);function r_(){let[e,t]=(0,u.fp)(nh.h),a=(0,nQ.dh)(),r=(0,nF.Xr)(rc.bY),l=(0,ru.$)();(0,rm.TG)();let[i,s]=(0,nZ.Vc)("last-used-variable-set-bottoms-up",null);(0,n.useEffect)(()=>{let e=nJ.D.getState().selectedView,t=o.Ez5.slideDeck().slideGrid.getCopy()[0]?.[0];if(e.nodeId&&e.nodeId!==a){let n=e.nodeId,r=a4.q.instance.get(n);r?.type==="SLIDE"&&r?.containingCanvas===a&&(t=n)}t&&(0,n7.Lk)(t)},[a]),(0,n.useEffect)(()=>{(0,d.kc)().piper_inline_preview&&e.modalStatus===nh.b.NOT_LOADED&&t({type:"OPEN_SLIDES_INLINE_PREVIEW"})},[e.modalStatus,t]),(0,n.useEffect)(()=>{let e=(0,rd.Dh)(l);e&&s(e.variableSetID)},[l,s]),(0,n.useEffect)(()=>()=>{r({type:rc.Vf.ALL})},[r]);let c=(0,rp.A)(),m=(0,nF.Xr)(n$.I3);return(0,n.useEffect)(()=>{m(c),o.Ez5?.canEnterSlidesDesignMode().set(c)},[c,m]),n.createElement(n.Fragment,null,n.createElement(n6,null),n.createElement("div",{className:en.cx.flex.hFull.itemsEnd.$},n.createElement(ro,null)),n.createElement(rs.g,null),n.createElement(rs.h,null),n.createElement(ra,null),n.createElement(ri._,null))}var rf=a(976404),rg=a(259927),rh=a(74930),rE=a(338400),ry=a(590695),rv=a(498750),rb=a(563706),rC=a(456363),rw=a(271779),rk=a(283942),rx=a(967409),rT=a(227795),rN=a(100303),rS=a(796825),rI=a(687351),rA=a(81804),rL=a(976726),rO=a(370903),rM=a(995382);let rP="figjam_search";function rR(){return(0,eT.J2)(o.Ez5.uiState().showCanvasSearch)?n.createElement(rD,null):null}function rD(){let{query:e,next:t,exit:a,setNavigateNearestOnce:r,search:l,isLoading:i,mode:s}=(0,rN.SQ)(),{focusedByButtons:c,hidden:d,setHidden:u,inputRef:m,navDisabled:p}=(0,rN.CT)(),_=(0,t6.BI)();(0,W.h)(()=>{u(!1)}),(0,rN.A5)(m,t,c);let[f,g]=(0,n.useState)(""),h=(0,n.useCallback)(e=>{e.keyCode===rv.Uz.ESCAPE?(e.target?.blur?.(),u(!0)):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(0,rk.jr)(e,rk.W0.YES,rk.VA.NO)&&e.stopPropagation()},[u]),E=(0,n.useCallback)(e=>{switch(e.keyCode){case rv.Uz.P:case rv.Uz.UP_ARROW:(e.keyCode!==rv.Uz.P||rb.Ay.mac&&(0,rv.vN)(e,rv.xH.CONTROL))&&(t(rA.OP.PREV,"keyboard"),e.stopPropagation(),e.preventDefault());break;case rv.Uz.N:case rv.Uz.DOWN_ARROW:(e.keyCode!==rv.Uz.N||rb.Ay.mac&&(0,rv.vN)(e,rv.xH.CONTROL))&&(t(rA.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault());break;case rv.Uz.ENTER:if((0,rv.Fo)(e)){o.YEY.exitSearchMode(o.dNx.SELECT_ACTIVE);break}t(e.shiftKey?rA.OP.PREV:rA.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault()}},[t]),y=(0,rf.U1)(),v=!_?.shouldOptimizeForIpadApp;return n.createElement(rw.i,{displayAs:rw.C.Block},n.createElement("div",{ref:y,role:"none",className:U()(rg.Dm,"figjam_search--container--p-leE",{"figjam_search--hidden--FjJ1m":d}),onTransitionEnd:()=>{d&&a()},onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(o.YEY.setOverlayVisible(!1),r())},onKeyDown:h},n.createElement("div",{className:"figjam_search--searchBarRow--sTc8s"},n.createElement(rN.ih,{onChange:e=>l(e),query:e,focusedByButtons:c,innerRef:m,onKeyDown:E,editorType:rx._Y.FIGJAM}),i?n.createElement("div",{className:rL.dz},n.createElement(ee.kt,{testId:"canvas-search-loading-spinner"})):n.createElement(n.Fragment,null,!!e&&n.createElement(rF,null),!p&&n.createElement(n.Fragment,null,n.createElement(rT.K0,{svg:rM.A,disabled:p,onClick:e=>{t(rA.OP.PREV,"button"),!(0,rN.SK)(e)&&v&&(c.current=!0,m.current.focus())},"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"canvas_search.previous"}),n.createElement(rT.K0,{svg:rO.A,disabled:p,onClick:e=>{t(rA.OP.NEXT,"button"),!(0,rN.SK)(e)&&v&&(c.current=!0,m.current.focus())},"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"canvas_search.next"}))),n.createElement(rI.g,{lean:"left",minWidth:160,recordingKey:rP}),n.createElement(rT.K0,{svg:aP.default,onClick:()=>{u(!0)},"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"canvas_search.close"})),s===o.EW4.REPLACE&&n.createElement(rS.a,{query:e,value:f,onChange:g,recordingKey:rP,onFocus:(t,a)=>{!e&&a&&m.current?.focus()},hasMultipleSelections:!1})))}function rF(){let{total:e}=(0,u.md)(rC.Fk),t=(0,u.md)(rC.Ch),a=t?.index==null?"?":`${t.index+1}`,r=0===e?(0,er.t)("canvas_search.no_results"):(0,er.t)("canvas_search.results_index_count",{index:a,total:e});return n.createElement("span",{className:"figjam_search--resultsCount--VfQrc","data-testid":"canvas-search-info"},r)}var rB=a(457749),rU=a(236192),rG=a(830111),rH=a(868912),rV=a(10706),rK=a(583765),rz=a(983382);let rW=n.forwardRef(function(e,t){return n.createElement("div",{ref:t,style:e.style,className:U()("whiteboard_sidebar_modal--WhiteboardSidebarModal--PALf6",e.className)},e.children)});var rj=a(525040),rq=a(728406),rY=a(392592),rX=a(244673),rJ=a(649958),rZ=a(318137);let rQ=()=>{let[e,t]=n.useState({}),a=(0,r.d4)(e=>e.music.music);return n.useEffect(()=>{if(!a||a?.isPaused||a?.isStopped)return;let e=setTimeout(()=>t({}),500);return()=>{clearTimeout(e)}},[e,a,a?.isPaused]),e};var r$=a(348425),r0=a(487392),r1=a(587467),r2=a(411189),r5=a(688477);let r3={song_id:"fake track for no selection",title:"",album_art:"",playback_url:"",start_at_ms:0,cuesheet:{tracks:[]}};function r4({selectedSong:e,activeSongs:t,isLoading:a,withRightMargin:l,withBorder:i,withHeavyFont:o}){let s=(0,r.d4)(e=>e.dropdownShown?.type==="song-dropdown"?e.dropdownShown:null),c=(0,r.Pj)(),d=(0,r.wA)(),u=(0,r.d4)(e=>e.music.playerInstance),m=e||r3,p=(0,r0.$3)(),_=[n.createElement(eR.c$,{fullWidth:!0,ignoreCheck:!0,key:"loading-music-options"},n.createElement("div",{className:"music_dropdown--loadingSpinner--0IUIG"},n.createElement(ee.kt,null)))];n.useEffect(()=>{let n=t.length&&!a,r=!e;n&&r&&d(rX.Dx({selectedSongID:t[0].song_id}))},[a,e,d,t]),a||(_=t.map(e=>n.createElement(eR.c$,{key:e.song_id,value:e,icon:n.createElement("img",{src:e.album_art,alt:`album art for ${e.title}`,className:"music_dropdown--inDropdownAlbumArt---OmqE"}),formattedValue:r6.format(e),height:48})));let f=async t=>{t.song_id===r3.song_id?e&&((0,r1.$B)(c.getState(),e.song_id),d(rX.L({selectedSongID:"",musicStartTimeMs:0}))):await (0,r2._s)({songID:t.song_id,onSuccess:()=>{let e=u?.isPlaying();(0,r1.tU)(c.getState(),t.song_id,e||!1);let a=t.song_id;d(rX.Dx({selectedSongID:a,dontTransmitWhenPaused:!0}))},onNotFound:()=>{d(rX.qV()),d(rY.F.enqueue({message:(0,er.t)("whiteboard.timer.song_not_available_error"),error:!0,type:rX.lm}))}})},g=m===r3?(0,er.t)("whiteboard.music.loading"):void 0;return n.createElement(eR.l6,{id:"song-dropdown",ariaLabel:(0,er.t)("whiteboard.music_player_select.aria_label"),"data-testid":"music-dropdown-button",className:"music_dropdown--songDropdownClosed--PEWeP",property:m,willShowDropdown:()=>new Promise(e=>{(0,r1.eT)(c.getState()),e()}),onChange:f,dropdownWidth:224,formatter:r6,dispatch:d,dropdownShown:s,dropdownOverride:g,inputClassName:U()("music_dropdown--songDropdownInput--VQjWF",{"music_dropdown--songInputTextSongSelected--4mWzH":!!e,"music_dropdown--songInputTextNoSongSelected--AW4Zi":!e,"music_dropdown--songDropdownRightMargin--SiuxZ":l,"music_dropdown--songDropdownHeavyFont--fIlJd":o,"music_dropdown--border--8RslA":i,"music_dropdown--withHover--5STIo":i&&!p}),chevronClassName:"music_dropdown--songDropdownChevronStandalone--0F6eP music_dropdown--songDropdownChevronStandalone--0F6eP",icon:m===r3?n.createElement(r$.t,{className:"music_dropdown--musicIcon--rYDUF",svg:r5.A}):void 0,neverConstrain:!0,hideDropdownWhenContainerMoves:!0,targetDomNode:document.body},_)}let r6={format:e=>e?.title||(0,er.t)("whiteboard.timer.none")};var r7=a(669074),r8=a(151166),r9=a(198371);function le(){let e=(0,r9.nF)(!0),t=!(0,r8.N)()&&e.enabled,a=(0,r.d4)(e=>e.userFlags.dismissed_figjam_music_volume_hint),l=(0,r.d4)(e=>e.music.music?.selectedSongID&&e.music.music?.selectedSongID!==""),i=(0,r.d4)(e=>e.music.music?.isPaused===!1&&e.music.music?.isStopped===!1),o=(0,r.wA)();return t||a||!i||!l?null:n.createElement("div",{className:U()("volume_hint--hintContainer--A9gj2",rg.Dm),"data-testid":"volume-hint"},n.createElement("div",null,(0,er.tx)("whiteboard.timer.music_volume_hint_prompt_cta_v2",{promptQuestion:n.createElement("span",{className:"volume_hint--bold--vS77N"},(0,er.t)("whiteboard.timer.music_volume_hint_prompt_question"))})),n.createElement(ak.Jn,{className:"volume_hint--hintCloseButton--Rubtd",onClick:()=>{o(eK.b({dismissed_figjam_music_volume_hint:!0}))}}))}var lt=a(893606);let la="buttons--secondaryButton--Y7X0E",ln="buttons--withHover--csWRq",lr="buttons--primaryButton--cOfBR",ll="buttons--flexGrow--Qu8-s";function li(e){let{flexGrow:t,...a}=e,r=(0,r0.$3)();return(0,lt.R)()?n.createElement("div",{className:U()(la,{[ll]:e.flexGrow})},n.createElement(eU.IK,{...a,variant:"secondary"},e.children)):n.createElement(Z.nR,{className:U()(la,{[ll]:e.flexGrow,[ln]:!r}),...a},e.children)}function lo(e){let{flexGrow:t,...a}=e,r=(0,r0.$3)();return(0,lt.R)()?n.createElement("div",{className:U()(lr,{[ll]:e.flexGrow})},n.createElement(eU.IK,{...a,variant:"primary"},e.children)):n.createElement(Z.$$,{className:U()(lr,{[ll]:e.flexGrow,[ln]:!r}),...a},e.children)}function ls(e){let{titleText:t,bodyText:a,cancelButtonText:r,confirmButtonText:l,onCancel:i,onConfirm:o,onCancelDisabled:s,onConfirmDisabled:c,recordingKey:d}=e;return n.createElement("div",{className:"meeting_tool_cancel_view--cancelViewContainer--W8dpk"},n.createElement("div",{className:"meeting_tool_cancel_view--headerTitleV2--KRaEU text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),n.createElement("div",{className:"meeting_tool_cancel_view--descriptionSectionV2--fAYp- text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),n.createElement("div",{className:en.cx.flex.gap10.$},n.createElement(li,{flexGrow:!0,onClick:i,disabled:s,recordingKey:aH.Pt(d,"cancel")},r),n.createElement(lo,{flexGrow:!0,onClick:o,disabled:c,recordingKey:aH.Pt(d,"confirm")},l)))}var lc=a(921211),ld=a(622405);function lu(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6z",clipRule:"evenodd"}))}let lm="playback_control_button--mediaControlButton--Wp3H1",lp="playback_control_button--withHover--9DG-T";var l_=a(814239),lf=a(351731),lg=a(674321),lh=(e=>(e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e))(lh||{});function lE(e){let t=(0,r0.$3)(),{buttonState:a,onClick:r,disabled:l,dataTooltip:i,dataOnboardingKey:o}=e;switch(a){case"play":return n.createElement("button",{className:U()("playback_control_button--playButton--a1I8c playback_control_button--mediaControlButton--Wp3H1",{[lp]:!t}),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":i,"data-onboarding-key":o,disabled:l,onClick:r},n.createElement(a7.U,{svg:lf.A},n.createElement(lc.K,null)));case"pause":return n.createElement("button",{className:U()(lm,{[lp]:!t}),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":i,"data-onboarding-key":o,disabled:l,onClick:r},n.createElement(a7.U,{svg:l_.A},n.createElement(ld.p,null)));case"stop":return n.createElement("button",{className:U()(lm,{[lp]:!t}),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":i,disabled:l,onClick:r,"data-onboarding-key":o},n.createElement(a7.U,{svg:lg.A},n.createElement(lu,null)))}}function ly(){let[e,t]=n.useState(!1),a=(0,r.d4)(e=>e.music.music),l=(0,r.d4)(e=>e.music.playerInstance),i=a?.selectedSongID||"",o=(0,rZ.N)(i),s=o?.start_at_ms,c=(0,r.d4)(e=>e.multiplayer.allUsers.length),[d,u]=n.useState(!1),m=(0,r.d4)(e=>e.music.activeSongs,r2.b2),p=(0,rJ.fk)(),_=(0,r.wA)();n.useEffect(()=>{m.length&&u(!1)},[m.length]);let f=(0,r.Pj)(),g=n.useCallback(()=>{i&&(0,r1.xf)(f.getState(),i),_(rX.mF({musicStartTimeMs:s}))},[_,s,i,f]),h=n.useCallback(()=>{i&&(0,r1.fx)(f.getState(),i),_(rX.g_())},[_,i,f]),E=n.useCallback(()=>{g()},[g]),y=n.useCallback(()=>{let e=l?.lastPlayedTimestamp?l.lastPlayedTimestamp:0;(0,r2.nz)(e,c)?t(!0):h()},[h,l,c]),v=n.useCallback(()=>g(),[g]);return e?n.createElement(ls,{titleText:(0,er.t)("whiteboard.music.stop_music_confirmation_prompt"),bodyText:(0,er.t)("whiteboard.music.stop_music_confirmation_subtext"),cancelButtonText:(0,er.t)("whiteboard.music.stop_music_cancel_button"),confirmButtonText:(0,er.t)("whiteboard.timer.stop_timer_confirmation_button"),onCancel:()=>t(!1),onConfirm:()=>{t(!1),h()}}):n.createElement(n.Fragment,null,n.createElement("div",{id:"musicModal",className:"music_view--musicView--XegVa","data-testid":"music-modal"},n.createElement(r7.U,{handlePause:h,handleTonearmResume:E,size:"large",grayCoverArtWhenPaused:!0,withoutBorder:!0}),n.createElement("div",{className:"music_view--controlContainer--GYIKD"},n.createElement("div",{className:"music_view--selectSongContainer--qoUiA"},n.createElement(r4,{selectedSong:o,activeSongs:m,isLoading:d,withBorder:!0,withHeavyFont:!0})),n.createElement(lE,{buttonState:p?lh.STOP:lh.PLAY,onClick:p?y:v,dataTooltip:p?(0,er.t)("whiteboard.music.end_music_tooltip"):(0,er.t)("whiteboard.music.play_music_tooltip")}))),n.createElement(le,null))}var lv=a(397863),lb=a(322907),lC=a(68517),lw=a(802174),lk=a(890297);function lx(){(0,lw.rJ)(),(0,lw.OI)();let[e,t]=(0,lw.Jg)(),{startTimer:a,stopTimer:l,addMinutes:i,pauseTimer:o,resumeTimer:s}=t,c=(0,u.md)(lC.jo),d=(0,r.d4)(e=>e.multiplayer.allUsers.length),[m,p]=n.useState(!1),_=c.time,f=(0,rq.RE)(e),g=(0,rq.G8)(_),h=(0,rq.CM)(_),E=(0,rq.IQ)(_),y=(0,rq.$V)(_,e)&&!E;n.useEffect(()=>{E&&p(!1)},[E]);let v=n.useCallback(()=>{o()},[o]),b=n.useCallback(()=>{a()},[a]),C=n.useCallback(()=>{s()},[s]),w=n.useCallback(()=>{l()},[l]);if(m&&!E)return n.createElement(ls,{titleText:(0,er.t)("whiteboard.timer.end_timer_confirmation_new"),bodyText:(0,er.t)("whiteboard.timer.end_timer_confirmation_subtext_new"),cancelButtonText:(0,er.t)("whiteboard.timer.end_timer_go_back_new"),confirmButtonText:(0,er.t)("whiteboard.timer.end_timer_button_new"),onCancel:()=>p(!1),onConfirm:()=>{p(!1),w()}});let k=g?(0,er.t)("whiteboard.timer.start_timer_tooltip"):_?.isPaused?(0,er.t)("whiteboard.timer.resume_timer_tooltip"):(0,er.t)("whiteboard.timer.pause_timer_tooltip"),x=g&&f<=0,T=_?.isPaused||g;return n.createElement("div",{className:"timer_view--timerContainer--kRcU1","data-testid":"timer-modal"},n.createElement("div",{className:en.cx.flex.flexColumn.p16.gap12.$},n.createElement("div",{className:"timer_view--timerBackground--NUQ4g"},n.createElement(lb.qT,{timerActions:t,timerState:e,isStopped:g,size:lb.ZP.XLARGE,withoutUnderline:!0,isInUI3Toolbar:!1})),n.createElement("div",{className:en.cx.flex.justifyBetween.itemsCenter.$},n.createElement(li,{onClick:e=>{i(rq.AC),e.preventDefault()},disabled:!y},n.createElement("div",{className:"timer_view--addTimeButton--tKy9r"},n.createElement(a7.U,{className:U()("timer_view--plusIcon--NOOSc",{"timer_view--disabled--iHZ7I":!y}),svg:lk.A},n.createElement(lv.x,null)),(0,er.tx)("whiteboard.timer.min",{timeIncrement:rq.AC}))),n.createElement("div",{className:en.cx.flex.gap12.$},!g&&n.createElement(lE,{buttonState:lh.STOP,onClick:()=>{_&&((0,rq.fQ)(_,d)?p(!0):w())},dataTooltip:(0,er.t)("whiteboard.timer.end_timer_tooltip"),disabled:g||E}),n.createElement(lE,{buttonState:T?lh.PLAY:lh.PAUSE,onClick:T?()=>{h?C():b()}:v,dataTooltip:k,disabled:T?x:E,dataOnboardingKey:rq.Hm})))))}var lT=a(625651),lN=a(140871);function lS({onCancel:e}){let t=(0,lN.C3)(),a=(0,r.wA)(),l=(0,ey.tS)(),i=(0,at.oh)(lT.wQ(l||"")),o=n.useCallback(()=>{a(lT.PK({uiSurface:"MeetingsPanel"})),(0,H.sx)("confirm_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:l})},[a,t,l]),s=n.useCallback(()=>{e(),(0,H.sx)("cancel_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:l})},[e,t,l]);return n.createElement(ls,{titleText:(0,er.t)("voting.modal.end_voting_session_modal_header"),bodyText:(0,er.t)("voting.modal.end_voting_session_modal_description"),cancelButtonText:(0,er.t)("meetings_panel.voting.go_back"),confirmButtonText:(0,er.t)("voting.modal.end_voting_session_modal_confirm_button"),onCancel:s,onConfirm:o,onCancelDisabled:i||!t,onConfirmDisabled:i||!t,recordingKey:"endVotingModal"})}var lI=a(507877),lA=a(266023);let lL="face_pile--facePileAvatarPositioner--pWI9a",lO="face_pile--active--5AAUF";var lM=a(95779);function lP({userId:e,isActive:t}){let{user:a,loading:r}=(0,eb.wW)(e),l=(0,lt.R)();return n.createElement(lA.v,{userId:e,size:l?16:24,user:a,loading:r,defaultClassName:U()("face_pile--facePileAvatar--pZDZe",t&&lO),loadingClassName:U()("face_pile--facePileAvatarLoading--uhhTa face_pile--facePileAvatar--pZDZe",t&&lO)})}function lR({overflowUserIds:e,isActive:t}){return n.createElement(n.Fragment,null,n.createElement("div",{className:lL},n.createElement("div",{className:U()({"face_pile--facePileOverflowIcon--qL11N":!0,[lO]:t})},n.createElement(ea.B,{className:"face_pile--overflowIcon--q-7wp",svg:lM.A}))))}function lD({userIds:e,maxHeadsBeforeOverflow:t,isActive:a}){let r=e.length>t,l=r?e.slice(0,t-1):e,i=r?e.slice(t-1):[];return n.createElement("div",{className:"face_pile--facePileContainer--DzqrO"},i.length?n.createElement(lR,{overflowUserIds:i,isActive:a}):null,[...l].reverse().map(e=>n.createElement("div",{className:lL,key:e},n.createElement(lP,{userId:e,isActive:a}))))}var lF=a(189430),lB=a(726864);function lU({userId:e}){let{user:t,loading:a}=(0,eb.wW)(e);return n.createElement(n.Fragment,null,n.createElement(lA.v,{userId:e,user:t,loading:a,size:24,loadingClassName:"voting_user_overflow_dropdown--loadingAvatar---1jYn"}),n.createElement(lA.m,{userId:e,user:t,loading:a,defaultClassName:"voting_user_overflow_dropdown--userName--huz8P text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa",loadingClassName:"voting_user_overflow_dropdown--loadingUserName--pC-X-"}))}let lG=e=>{let{windowInnerHeight:t}=(0,lF.l)(),a=(0,lB.Yk)();return t-(e.y+e.height)-a-22};function lH({userIds:e,targetRect:t}){let a=lG(t),r=(0,lt.R)(),l=0===e.length;return n.createElement(eM.Cf,{className:"voting_user_overflow_dropdown--pointingDropdown--equm6",targetRect:t,lean:"center",disableDropdownScrollContainer:!0,propagateCloseClick:!0},n.createElement(et.P,{maxHeight:a,width:r?192:240},n.createElement("ol",{className:"voting_user_overflow_dropdown--dropdownPadding---VKEq"},l?n.createElement("div",{className:"voting_user_overflow_dropdown--noVotesText--T2dVF text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},(0,er.tx)("voting.modal.during_voting_no_votes_dropdown")):e.map(e=>n.createElement("li",{key:e,className:"voting_user_overflow_dropdown--listItem--d7eTA"},n.createElement(lU,{userId:e}))))))}var lV=a(522322);let lK="users_voted--rootSelected--y6VPJ";var lz=a(783423);function lW({votingSessionInfo:e}){return(0,n.useMemo)(()=>e.votedNodes.reduce((e,t)=>(Object.entries(t.userIdToNodeVotes).forEach(([t,a])=>{e[t]=(e[t]||0)+a.length}),e),{}),[e.votedNodes])}let lj=e=>{let t=(0,r.wA)();return{isDropdownOpen:(0,r.d4)(e=>e.dropdownShown?.type===lY),handleTargetClick:()=>{t(lI.gR({type:lY}))}}};function lq({votingSessionInfo:e,userVoteLimit:t}){let[a,r]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),o=(0,ew.TA)(),s=lW({votingSessionInfo:e}),c=(0,lt.R)(),d=(0,n.useMemo)(()=>Object.entries(s).filter(([e,a])=>a&&a>=t).map(([e])=>e).sort((0,lV.zi)(o)),[s,t,o]),{isDropdownOpen:u,handleTargetClick:m}=lj(d);return n.createElement(n.Fragment,null,n.createElement("button",{className:U()({"users_voted--duringSessionRoot--XC-59 users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[lK]:u}),onMouseDown:e=>e.stopPropagation(),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:m,ref:e=>r(e)},c&&n.createElement(lD,{userIds:d,maxHeadsBeforeOverflow:4,isActive:l||u}),n.createElement("p",{className:"users_voted--duringSessionText--glncG"},d.length>0?(0,er.tx)("voting.modal.voted",{numVotes:d.length}):(0,er.tx)("voting.modal.during_voting_no_ones_voted")),!c&&n.createElement(lD,{userIds:d,maxHeadsBeforeOverflow:4,isActive:l||u}),n.createElement(ea.B,{className:U()({"users_voted--chevronDown--LWnXw":!0,"users_voted--chevronDownActive---IB9j":u}),svg:lz.A})),u&&a&&n.createElement(lH,{targetRect:a.getBoundingClientRect(),userIds:d}))}let lY="USERS_VOTED_DROPDOWN";function lX({votingSessionInfo:e}){let[t,a]=(0,n.useState)(null),r=(0,ew.TA)(),l=lW({votingSessionInfo:e}),i=(0,n.useMemo)(()=>Object.keys(l).sort((0,lV.zi)(r)),[l,r]),{isDropdownOpen:o,handleTargetClick:s}=lj(i);return n.createElement(n.Fragment,null,n.createElement("button",{className:U()({"users_voted--resultsDetailRoot--K2wEg users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[lK]:o}),onMouseDown:e=>e.stopPropagation(),onClick:s,ref:e=>a(e)},n.createElement("p",null,i.length>0?(0,er.tx)("voting.modal.voted",{numVotes:i.length}):(0,er.tx)("voting.modal.after_voting_no_one_voted"))),o&&t&&n.createElement(lH,{targetRect:t.getBoundingClientRect(),userIds:i}))}function lJ({title:e,useSmallerText:t}){let[a,r]=(0,n.useState)(!1),l=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=l.current;e?r(e.scrollHeight>e.clientHeight):r(!1)},[e,l]),n.createElement("div",{ref:l,className:U()("voting_components--votingSessionTitle--KDhQJ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",{"voting_components--smallerText--rtDFU text--fontPos11--2LvXf text--_fontBase--QdLsd":t}),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":a?e:void 0},e)}function lZ({votingSessionInfo:e,onEndClick:t,recordingKey:a}){let l=(0,lN.C3)(),i=(0,r.d4)(e=>!e.user),o=(0,ey.tS)(),s=(0,lt.R)();return l?n.createElement("div",{className:"joined_vote_view--joinedVoteViewContainer--2w8-v"},n.createElement("div",{className:"joined_vote_view--votingSessionTitleContainer--Yj49f"},n.createElement(lJ,{title:(0,lV.DG)(l),useSmallerText:s})),n.createElement("div",{className:"joined_vote_view--usersVotedContainer--nEFTt"},n.createElement(lq,{votingSessionInfo:e,userVoteLimit:l.userVoteLimit})),!rb.Ay.isMeetDevice&&n.createElement("div",{className:en.cx.flex.$},n.createElement(li,{flexGrow:!0,onClick:()=>{t(),(0,H.sx)("click_end_voting_session",{source:"voting_modal",votingSessionId:l.id,fileKey:o})},disabled:i,"data-tooltip-type":i?eI.Ib.TEXT:void 0,"data-tooltip":i?(0,er.t)("voting.modal.end_disabled_logged_out_tooltip"):void 0,recordingKey:aH.Pt(a,"endVotingSession")},n.createElement("span",null,(0,er.tx)("voting.modal.end_for_all"))))):null}function lQ({votingSessionInfo:e,recordingKey:t}){let[a,r]=n.useState(!1),l=n.useCallback(()=>{r(!1)},[r]),i=n.useCallback(()=>{r(!0)},[r]);return n.createElement(n.Fragment,null,a?n.createElement(lS,{onCancel:l}):n.createElement(lZ,{votingSessionInfo:e,onEndClick:i,recordingKey:t}))}function l$(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"142",height:"115",viewBox:"0 0 142 115",fill:"none"},n.createElement("g",{filter:"url(#filter0_d_536_1194)"},n.createElement("mask",{id:"mask0_536_1194",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"9",y:"7",width:"112",height:"121"},n.createElement("path",{d:"M30.3749 27.8343C32.0497 25.2359 34.6296 23.3518 37.6144 22.5472L95.2853 7.00006L120.973 102.285L25.6874 127.973L9.4772 67.8424C8.5589 64.4361 9.1256 60.8001 11.037 57.8348L30.3749 27.8343Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_536_1194)"},n.createElement("path",{d:"M95.2854 7.00012L120.973 102.285L25.6875 127.973L0 32.6875L95.2854 7.00012Z",fill:"#FFD966"}),n.createElement("g",{filter:"url(#filter1_f_536_1194)"},n.createElement("rect",{x:"-9.06198",y:"72.871",width:"80.2756",height:"13.9108",transform:"rotate(-57 -9.06198 72.871)",fill:"black",fillOpacity:"0.3"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"#FFD966"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"url(#paint0_linear_536_1194)"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_536_1194",x:"-20.5598",y:"-13.5598",width:"162.092",height:"162.092",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"10.2799"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_536_1194"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_536_1194",result:"shape"})),n.createElement("filter",{id:"filter1_f_536_1194",x:"-35.6799",y:"-21.0717",width:"108.624",height:"128.137",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"13.3089",result:"effect1_foregroundBlur_536_1194"})),n.createElement("linearGradient",{id:"paint0_linear_536_1194",x1:"20.32",y1:"42.4426",x2:"29.6252",y2:"49.517",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),n.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"}))))}function l0(){return n.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_d_1904_66844)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6975 43.3947V28.2216C17.2146 28.9246 15.5806 29.3745 13.8194 29.4818L9.75977 29.729L9.75977 13.542L13.3208 13.2938C16.2911 13.0869 18.6537 11.8389 19.8608 8.79489L20.819 6.37863H34.6307V43.3947H18.6975ZM18.6975 23.7911C20.2723 22.6622 21.5839 21.1021 22.5245 19.3196V39.5677H30.8037V10.2056H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C14.9507 25.5788 16.2382 25.1962 17.4138 24.5825C17.8583 24.3505 18.2869 24.0855 18.6975 23.7911Z",fill:"white"}),n.createElement("path",{d:"M22.5245 39.5677H30.8037V10.2057H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C17.4441 25.427 20.6899 22.7961 22.5245 19.3196V39.5677Z",fill:"#9747FF"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64916 24.2332H9.86288L17 28L20.5 28.0597V39.5527H19.1422V43.3803H7.64916V39.5527L3.82166 39.5527L3.82166 28.0597L7.64916 28.0597V24.2332ZM11.4822 35.7197H7.65466V31.8927L11.4822 31.8927V28.0662H15.3092L15.3092 31.8867M15.3092 31.8927H19.1357ZM15.3092 35.7197H15.3152ZM19.1357 35.7197V31.8927ZM15.3092 35.7257V39.5473ZM11.4822 39.5473H15.3092ZM11.4822 35.7197V39.5473ZM15.3152 35.7197L19.1357 35.7197Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3092 28.0662H11.4822V31.8927L7.65466 31.8927V35.7197L11.4822 35.7197V39.5473H15.3092V35.7197L19.1357 35.7197V31.8927L15.3092 31.8927V28.0662Z",fill:"#9747FF"}),n.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"#EFBA00"}),n.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"url(#paint0_linear_1904_66844)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3739 28.313C37.4969 28.2595 37.5912 28.1537 37.6324 28.023L39.0624 23.4807C39.1998 23.0443 39.8002 23.0443 39.9376 23.4807L41.3676 28.023C41.4088 28.1537 41.5031 28.2595 41.6261 28.313L45.6529 30.0643C46.0273 30.2272 46.0273 30.7728 45.6529 30.9357L41.6261 32.687C41.5031 32.7405 41.4088 32.8463 41.3676 32.977L39.9376 37.5193C39.8002 37.9557 39.1998 37.9557 39.0624 37.5193L37.6324 32.977C37.5912 32.8463 37.4969 32.7405 37.3739 32.687L33.3471 30.9357C32.9727 30.7728 32.9727 30.2272 33.3471 30.0643L37.3739 28.313ZM42.8548 22.5094L43.9178 25.8859L46.8472 27.1599C49.7176 28.4083 49.7176 32.5917 46.8472 33.8401L43.9178 35.1141L42.8548 38.4906C41.8014 41.8365 37.1986 41.8364 36.1452 38.4906L35.0822 35.1141L32.1528 33.8401C32.1009 33.8175 32.05 33.794 32 33.7696L32 27.2304C32.05 27.206 32.1009 27.1825 32.1528 27.1599L35.0822 25.8859L36.1452 22.5094C37.1986 19.1635 41.8014 19.1636 42.8548 22.5094Z",fill:"white"}),n.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint1_linear_1904_66844)"}),n.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint2_linear_1904_66844)"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_1904_66844",x:"-1.91351",y:"-1.27567",width:"54.8539",height:"54.8539",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.637836"}),n.createElement("feGaussianBlur",{stdDeviation:"0.956754"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66844"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66844",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_1904_66844",x1:"46.6528",y1:"37.3139",x2:"29.2026",y2:"24.1295",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.33271",stopColor:"white",stopOpacity:"0.11"}),n.createElement("stop",{offset:"0.449925",stopColor:"white",stopOpacity:"0.5"}),n.createElement("stop",{offset:"0.562473",stopColor:"white",stopOpacity:"0.11"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint1_linear_1904_66844",x1:"31.8916",y1:"21.6864",x2:"47.5581",y2:"39.2257",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint2_linear_1904_66844",x1:"47.1997",y1:"39.5458",x2:"31.5331",y2:"22.0066",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function l1(){return n.createElement("svg",{width:"46",height:"45",viewBox:"0 0 46 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_d_1904_66832)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.6036 25.0556C1.12383 20.6128 1.12383 13.3775 5.6036 8.93478C7.76292 6.7933 10.6465 5.61081 13.6925 5.61081C16.5194 5.61081 19.209 6.62902 21.3102 8.49271C23.4103 6.62969 26.0996 5.60886 28.9298 5.60886C31.9764 5.60886 34.8598 6.79177 37.0207 8.93478C39.1809 11.0772 40.3839 13.9501 40.3839 16.9962C40.3839 20.038 39.1847 22.91 37.0234 25.0548C37.0232 25.055 37.0236 25.0547 37.0234 25.0548C37.0226 25.0556 37.0214 25.0568 37.0207 25.0575L35.3114 26.7566L21.3162 40.6361L5.6036 25.0556ZM21.3102 13.2071L19.4117 11.3243C17.8838 9.80902 15.8532 8.97612 13.6925 8.97612C11.5298 8.97612 9.49924 9.81097 7.97334 11.3243C4.821 14.4506 4.821 19.5398 7.97334 22.6661L21.3161 35.8966L32.9417 24.3671L34.6509 22.6681C36.1788 21.1528 37.0186 19.139 37.0186 16.9962C37.0186 14.8514 36.1768 12.8376 34.6509 11.3243C33.1231 9.80902 31.0925 8.97416 28.9298 8.97416C26.7671 8.97416 24.7365 9.80902 23.2087 11.3243L21.3102 13.2071Z",fill:"white"}),n.createElement("path",{d:"M7.97332 22.6661C4.82098 19.5398 4.82098 14.4506 7.97332 11.3243C9.49922 9.81098 11.5298 8.97612 13.6925 8.97612C15.8532 8.97612 17.8838 9.80902 19.4116 11.3243L21.3101 13.2071L23.2087 11.3243C24.7365 9.80902 26.7671 8.97417 28.9298 8.97417C31.0924 8.97417 33.123 9.80902 34.6509 11.3243C36.1768 12.8376 37.0186 14.8514 37.0186 16.9962C37.0186 19.139 36.1788 21.1528 34.6509 22.6681L32.9417 24.3671L21.3161 35.8966L7.97332 22.6661Z",fill:"#FF8577"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.0424 27.6444C30.9973 27.7838 30.8938 27.8968 30.7588 27.9538L26.3392 29.8229C25.9283 29.9966 25.9283 30.579 26.3392 30.7527L30.7588 32.6217C30.8938 32.6788 30.9973 32.7918 31.0424 32.9312L32.6119 37.7787C32.7627 38.2444 33.4216 38.2444 33.5724 37.7787L35.142 32.9312C35.1871 32.7918 35.2906 32.6788 35.4256 32.6217L39.8452 30.7527C40.2561 30.579 40.2561 29.9966 39.8452 29.8229L35.4256 27.9538C35.2906 27.8968 35.1871 27.7838 35.142 27.6444L33.5724 22.7969C33.4216 22.3312 32.7627 22.3312 32.6119 22.7969L31.0424 27.6444ZM37.9408 25.3637L36.7741 21.7603C35.618 18.1897 30.5664 18.1896 29.4103 21.7603L28.2436 25.3637L25.0284 26.7233C21.8781 28.0556 21.8781 32.52 25.0284 33.8523L28.2436 35.2119L29.4103 38.8153C30.5664 42.3859 35.618 42.386 36.7741 38.8153L37.9408 35.2119L41.156 33.8523C44.3062 32.52 44.3062 28.0556 41.156 26.7233L37.9408 25.3637Z",fill:"white"}),n.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint0_linear_1904_66832)"}),n.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint1_linear_1904_66832)"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_1904_66832",x:"-1.68265",y:"-1.12177",width:"48.2361",height:"48.2361",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.560885"}),n.createElement("feGaussianBlur",{stdDeviation:"0.841327"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66832"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66832",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_1904_66832",x1:"25.2398",y1:"21.3136",x2:"40.9446",y2:"39.2619",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint1_linear_1904_66832",x1:"40.9446",y1:"39.2619",x2:"25.2398",y2:"21.3136",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function l2(){return n.createElement("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_d_1972_66634)"},n.createElement("path",{d:"M25.0742 24.5505V24.5597H25.7273C26.0169 24.5611 26.3027 24.6243 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7807 26.6774 27.7219 27.0545 27.5612 27.3935C27.4006 27.7324 27.1448 28.0191 26.824 28.2198C26.5033 28.4204 26.1309 28.5267 25.7508 28.526H25.0068V28.5368C25.2967 28.5379 25.5827 28.6012 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9114 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.6787 31.7064 26.4232 31.9929 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C11.16 13.1555 14.6305 11.3018 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86334 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.5467 17.6406 27.7025 17.9893 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.5255 20.4703 26.1538 20.5767 25.7742 20.5765H25.1478H26.479C26.7688 20.5775 27.0549 20.6408 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.5326 22.6931 28.4738 23.0697 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.2572 24.4348 26.8853 24.5414 26.5056 24.5412L25.0742 24.5505Z",fill:"#0FA958"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0742 24.5505V24.5597H25.7273C25.9951 24.561 26.2598 24.6152 26.5056 24.7189C26.506 24.719 26.5064 24.7192 26.5068 24.7194C26.5263 24.7276 26.5457 24.7362 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7326 26.3206 27.7343 26.3346 27.7359 26.3485C27.7761 26.7057 27.7158 27.0672 27.5612 27.3935C27.5549 27.4069 27.5484 27.4202 27.5417 27.4334C27.3802 27.7549 27.1321 28.027 26.824 28.2198C26.5566 28.387 26.2533 28.4887 25.9396 28.5175C25.8794 28.5231 25.8187 28.5259 25.7579 28.526C25.7555 28.526 25.7531 28.526 25.7508 28.526H25.0069L25.0068 28.5368C25.2622 28.5378 25.5146 28.587 25.7505 28.6815C25.7504 28.6815 25.7506 28.6816 25.7505 28.6815C25.7822 28.6943 25.814 28.7079 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9113 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.8322 31.3827 26.825 31.3975 26.8175 31.4123C26.6561 31.7315 26.409 32.0018 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C10.1339 15.6911 11.4689 14.0047 12.5748 12.6076C13.727 11.152 14.6305 10.0106 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86333 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.3916 17.4587 27.4687 17.5711 27.5333 17.6899C27.646 17.8974 27.7205 18.1241 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.7297 20.3424 26.6069 20.4027 26.4794 20.45C26.4793 20.4501 26.4796 20.45 26.4794 20.45C26.2558 20.5331 26.0174 20.5764 25.7761 20.5765H26.479C26.6908 20.5772 26.9005 20.6112 27.1005 20.6767C27.1742 20.7008 27.2466 20.7292 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.486 22.3465 28.4888 22.3703 28.4911 22.3941C28.5035 22.5228 28.5029 22.6519 28.4896 22.7795C28.4671 22.9963 28.4078 23.2089 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.3012 24.4072 26.9866 24.5103 26.6617 24.5353C26.6099 24.5393 26.5578 24.5413 26.5056 24.5412L25.7273 24.5463L25.0742 24.5505ZM30.6292 19.7802C31.0668 20.4164 31.3522 21.1496 31.4561 21.9234C31.5833 22.8701 31.4325 23.8314 31.0246 24.6926C30.9059 24.9431 30.7671 25.1818 30.6102 25.4067C30.6498 25.5708 30.6811 25.7375 30.7039 25.9061C30.8315 26.8538 30.6807 27.8162 30.2721 28.6783C30.1597 28.9155 30.0293 29.142 29.8825 29.3563C29.9252 29.5293 29.9587 29.7051 29.9825 29.8831C30.1095 30.8302 29.9584 31.7918 29.55 32.6531C29.1418 33.514 28.4957 34.2349 27.6943 34.7365C26.8943 35.2372 25.9703 35.5004 25.0303 35.5C25.0299 35.5 25.0295 35.5 25.0291 35.5C25.0284 35.5 25.0277 35.5 25.027 35.5L8.91864 35.5C8.91819 35.5 8.91774 35.5 8.91728 35.5C8.08167 35.5002 7.25308 35.3386 6.4784 35.0231C5.70321 34.7075 4.99568 34.2435 4.39746 33.6552C3.79913 33.0667 3.32186 32.3655 2.99533 31.5901C2.66875 30.8146 2.5 29.9817 2.5 29.1393V16.8199H6.44186C7.5825 14.0786 9.10204 12.1602 10.1873 10.7901C10.2224 10.7458 10.2571 10.702 10.2913 10.6587C10.8805 9.91414 11.2289 9.45761 11.4543 9.0645C11.5547 8.8895 11.5982 8.78019 11.6169 8.72094C11.6258 8.69274 11.6288 8.67673 11.6298 8.67077L11.6305 8.66562L11.6305 7.81567L11.6306 7.80272C11.6401 6.70885 12.0887 5.67306 12.8628 4.91793C13.6352 4.1644 14.6688 3.74999 15.7362 3.75M30.6292 19.7802C30.773 19.1888 30.807 18.5728 30.7255 17.9626C30.6037 17.0498 30.2293 16.1933 29.6503 15.4855L29.6042 15.425L29.5489 15.3604C29.0789 14.8114 28.4963 14.3728 27.8434 14.0722C27.1906 13.7716 26.4815 13.6151 25.7646 13.6118L21.0159 13.6118C21.382 12.5311 21.5702 11.3969 21.5709 10.2528L21.5709 10.2489C21.5703 9.43548 21.4743 8.62505 21.2847 7.8339L21.2823 7.82375C20.9966 6.64915 20.3191 5.61336 19.3707 4.87796C18.424 4.14383 17.2605 3.74951 16.0682 3.75C16.0679 3.75 16.0685 3.75 16.0682 3.75H15.7362",fill:"white"}),n.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint0_linear_1972_66634)"}),n.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint1_linear_1972_66634)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6727 23.6435C27.6325 23.7678 27.5402 23.8685 27.4199 23.9194L23.48 25.5855C23.1137 25.7404 23.1137 26.2595 23.48 26.4145L27.4199 28.0806C27.5402 28.1315 27.6325 28.2321 27.6727 28.3564L29.0719 32.6777C29.2063 33.0929 29.7937 33.0929 29.9281 32.6777L31.3273 28.3564C31.3675 28.2321 31.4598 28.1315 31.5801 28.0806L35.5199 26.4145C35.8862 26.2595 35.8862 25.7404 35.5199 25.5855L31.5801 23.9194C31.4598 23.8685 31.3675 23.7678 31.3273 23.6435L29.9281 19.3222C29.7937 18.9071 29.2063 18.9071 29.0719 19.3222L27.6727 23.6435ZM33.8223 21.6104L32.7822 18.3981C31.7516 15.2151 27.2484 15.2151 26.2177 18.3981L25.1777 21.6104L22.3116 22.8224C19.5033 24.0101 19.5032 27.9899 22.3116 29.1775L25.1777 30.3896L26.2177 33.6018C27.2483 36.7849 31.7516 36.7849 32.7822 33.6018L33.8223 30.3896L36.6884 29.1775C39.4967 27.9899 39.4968 24.0101 36.6884 22.8225L33.8223 21.6104Z",fill:"white"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_1972_66634",x:"-1.5",y:"-1",width:"43",height:"43",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.5"}),n.createElement("feGaussianBlur",{stdDeviation:"0.75"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1972_66634"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1972_66634",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_1972_66634",x1:"23.2053",y1:"19.0109",x2:"35.3845",y2:"33.3378",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint1_linear_1972_66634",x1:"35.7947",y1:"32.9891",x2:"23.6155",y2:"18.6622",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function l5(){return n.createElement("div",{className:"vote_graphic--stampContainer--Gg9nN"},n.createElement("div",{className:"vote_graphic--sticky--5vnwr"},n.createElement(l$,null)),n.createElement("div",{className:"vote_graphic--plusOneStamp--lqNsf vote_graphic--stamp---bJ3m"},n.createElement(l0,null)),n.createElement("div",{className:"vote_graphic--heartStamp--EhTYO vote_graphic--stamp---bJ3m"},n.createElement(l1,null)),n.createElement("div",{className:"vote_graphic--thumbsUpStamp--d1jHf vote_graphic--stamp---bJ3m"},n.createElement(l2,null)))}function l3({recordingKey:e}){let t=(0,r.wA)(),a=(0,lV.Pd)(n.useCallback(()=>{t(lT.H1({votingStage:o.W8Y.JOINED}))},[t]));return n.createElement("div",{className:en.cx.flex.flexColumn.p16.$},n.createElement("div",{className:en.cx.flex.gap8.itemsCenter.mb8.$},n.createElement(l5,null)),n.createElement("div",{className:en.cx.flex.justifyCenter.$},n.createElement(lo,{onClick:a,recordingKey:aH.Pt(e,"joinVotingSession")},(0,er.tx)("meetings_panel.voting.join_vote"))))}var l4=a(404095);let l6="create_new_vote_view--stepperButtonWrapper--MA6-g";var l7=a(349307),l8=a(98285);let l9=e=>{let t=null;try{t=parseInt(e,10)}catch(e){}return t};function ie(){let e=(0,r.wA)(),t=(0,ey.tS)(),{title:a,userVoteLimit:l}=(0,r.d4)(e=>e.voting.votingParams),i=(0,r.d4)(e=>!e.user),o=(0,at.oh)(lT.$c(t||"")),[s,c]=n.useState(l.toString());(0,n.useEffect)(()=>{let t=l9(s);t&&e(lT.hL(t))},[s,e]);let d=i||o;return n.createElement("div",{className:en.cx.flex.flexColumn.p16.gap12.$},n.createElement(l5,null),n.createElement(it,{userVoteLimitInput:s,setUserVoteLimitInput:c,title:a,isTitleDisabled:d,isLimitDisabled:d,userVoteLimit:l,setTitle:n.useCallback(t=>e(lT.D6(t)),[e])}))}function it(e){let t=n.useRef(null),a=(0,r.wA)(),l=(0,ey.tS)(),i=(0,r.d4)(e=>!e.user),o=(0,at.oh)(lT.$c(l||"")),s=(0,r.d4)(e=>e.multiplayer.allUsers.length),c=(0,eN.Fk)(e=>e.getCurrentPage()?.guid),d=lN.NE()?.id,u=i||o||!c,{userVoteLimitInput:m,userVoteLimit:p,title:_,setTitle:f,isLimitDisabled:g,isTitleDisabled:h,setUserVoteLimitInput:E}=e,y=n.useCallback(e=>{let t=parseInt(m);(t+=e)<1||t>99||E(t.toString())},[E,m]),v=n.useCallback(e=>{"ArrowUp"===e.key||"ArrowDown"===e.key?(y("ArrowUp"===e.key?1:-1),e.preventDefault()):("Enter"===e.key||"Escape"===e.key)&&t.current?.blur()},[y]),b=n.useCallback(()=>{t.current?.select()},[t]),C=n.useCallback(e=>{if(!e.currentTarget.value.match(/^(\s*|\d+)$/)){e.preventDefault();return}E(e.currentTarget.value)},[E]),w=n.useCallback(e=>{let a=t.current.value,n=l9(m);(""===a||!n||isNaN(n)||n<1)&&E("1")},[m,E]),k=(0,er.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:p}),x=(0,lV.Pd)(n.useCallback(()=>{if(!c)throw Error("Cannot start a voting session since currentPageNodeId is null");a(lT.vt({source:"voting_modal",usedCustomTitle:""!==_,requestBody:{title:_,in_progress:!0,user_vote_limit:p,num_people_in_file:s,page_node_id:c,voting_session_id_to_end:d},uiSurface:"MeetingsPanel"}))},[a,_,p,s,c,d])),T=(0,lt.R)();return n.createElement("div",{className:"create_new_vote_view--container--mzVZ7"},n.createElement($.L,{autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1,placeholder:k,value:_,onChange:e=>f(e.target.value),disabled:h,"aria-label":(0,er.t)("voting.modal.voting_setup_prompt_input_field_aria_label")}),n.createElement("div",{className:"create_new_vote_view--voteLimitContainer--ga1AC"},n.createElement("div",{className:"create_new_vote_view--voteLimitControls--7D-Fi"},T?n.createElement("div",{className:l6},n.createElement(S.K,{onClick:()=>{g||y(-1)},"aria-label":(0,er.t)("voting.modal.reduce_limit_tooltip_aria_label"),htmlAttributes:{"aria-disabled":g}},n.createElement(a7.U,{svg:l7.A},n.createElement(l4.f,null)))):n.createElement(ea.B,{svg:l7.A,className:l6,onClick:()=>{g||y(-1)},role:"button","aria-label":(0,er.t)("voting.modal.reduce_limit_tooltip_aria_label"),"aria-disabled":g}),n.createElement("input",{className:"create_new_vote_view--limitInput--1dzSR create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",maxLength:2,type:"text",inputMode:"numeric",ref:t,value:m,onKeyDown:v,onFocus:b,onChange:C,onBlur:w,disabled:g,"aria-label":(0,er.t)("voting.modal.voting_limit_input_field_aria_label")}),T?n.createElement("div",{className:l6},n.createElement(S.K,{onClick:()=>{g||y(1)},"aria-label":(0,er.t)("voting.modal.increase_limit_tooltip_aria_label"),htmlAttributes:{"aria-disabled":g}},n.createElement(a7.U,{svg:l8.A},n.createElement(lv.x,null)))):n.createElement(ea.B,{svg:l8.A,className:l6,onClick:()=>{g||y(1)},role:"button","aria-label":(0,er.t)("voting.modal.increase_limit_tooltip_aria_label"),"aria-disabled":g})),n.createElement(lo,{flexGrow:!0,onClick:x,disabled:u,"data-tooltip-type":i?eI.Ib.TEXT:void 0,"data-tooltip":i?(0,er.t)("voting.modal.start_disabled_logged_out_tooltip"):void 0,recordingKey:"votingModalStartVotingSession"},n.createElement("span",null,(0,er.tx)("voting.modal.start_voting_session")))))}var ia=a(900073);function ir(e){let{setOnPastVotesClick:t,setOnNewSessionClick:a,recordingKey:r}=e,l=(0,ey.tS)(),i=void 0!==t;return n.createElement("div",{className:en.cx.flex.flexColumn.p16.$},n.createElement("div",{className:en.cx.flex.gap8.itemsCenter.mb12.$},n.createElement(l5,null)),n.createElement("div",{className:en.cx.flex.gap6.justifyCenter.$},i&&n.createElement(li,{flexGrow:i,onClick:()=>{(0,H.sx)("view_past_voting_sessions",{source:"meetings_panel",fileKey:l}),t()},recordingKey:aH.Pt(r,"viewPastVotingSessions")},(0,er.tx)("meetings_panel.voting.view_past_results_prompt")),!rb.Ay.isMeetDevice&&n.createElement(lo,{flexGrow:i,onClick:()=>{(0,H.sx)("creating_new_vote_start",{source:"meetings_panel",fileKey:l}),a()},recordingKey:aH.Pt(r,"newVote")},n.createElement("div",{className:en.cx.px4.$},(0,er.tx)("meetings_panel.voting.new_vote")))))}function il({recordingKey:e}){let[t,a]=n.useState(!1),r=(0,lV.Ld)(),l=(0,nF.Xr)(ia.Qs),i=(0,lV.Pd)(n.useCallback(()=>{a(!0)},[])),o=(0,lV.Pd)(n.useCallback(()=>{l({type:"SET_VIEW",payload:ia.iN.PAST_VOTES})},[l]));return t?n.createElement(ie,null):n.createElement(ir,{setOnPastVotesClick:r?o:void 0,setOnNewSessionClick:i,recordingKey:e})}function ii(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),t=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),a="meetingsPanel";switch(t.votingStage){case o.W8Y.JOINED:return n.createElement(lQ,{votingSessionInfo:e,recordingKey:a});case o.W8Y.NOT_JOINED:return n.createElement(l3,{recordingKey:a});case o.W8Y.NO_SESSION:case o.W8Y.ENDED:return n.createElement(il,{recordingKey:a})}}var io=a(662275),is=a(237870),ic=a(488578);let id="meetings_panel",iu=(0,is.Ju)(function({votingSessionId:e}){let t=(0,r.wA)(),a=(0,ey.tS)(),l=()=>{(0,H.sx)("cancel_delete_voting_session",{source:id,votingSessionId:e,fileKey:a})};return n.createElement(ic.Rw,{confirmationTitle:(0,er.t)("voting.modal.delete_voting_session_modal_header"),content:(0,er.t)("voting.modal.delete_voting_session_modal_description"),onConfirm:()=>{t(lT.$l({votingSessionId:e})),t(lT.H1({votingStage:o.W8Y.NO_SESSION})),(0,H.sx)("confirm_delete_voting_session",{source:id,votingSessionId:e,fileKey:a})},confirmText:(0,er.t)("voting.modal.delete_voting_session_modal_confirm_button"),size:"small",destructive:!0,disableClickOutsideToHide:!0,hideOnConfirm:!0,cancelText:(0,er.t)("voting.modal.delete_voting_session_modal_cancel_button"),onCancel:l,onCloseButtonClick:l,hideCancel:!1,popStack:!0,recordingKey:"deleteVotingSessionModal"})},"DeleteVotingSessionModal",is.ZU.YES);function im({recordingKey:e}){let t=(0,lN.jz)(),[a,r]=(0,n.useState)(null);return n.createElement(n.Fragment,null,t&&t.length>0?n.createElement(et.P,{className:"previous_votes_view--scrollContainer--Jb0sL"},n.createElement("ol",{className:"previous_votes_view--resultsList--IWpfo"},t.map((t,l,i)=>{let o=i[l+1]?.id,s=t.id!==a&&(!o||o!==a)&&!!o;return n.createElement(ip,{key:t.id,title:(0,lV.DG)(t),id:t.id,userId:t.userId,createdAt:t.createdAt,shouldShowSeparator:s,setAsHovered:()=>r(t.id),setAsNotHovered:()=>r(e=>e===t.id?null:e),recordingKey:e})}))):n.createElement("div",{className:"previous_votes_view--nullResultsList--xAcum"},n.createElement("p",{className:"previous_votes_view--nullResultsListTextHeader--vWsPe previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,er.tx)("voting.modal.previous_votes_null_text_title")),n.createElement("p",{className:"previous_votes_view--nullResultsListTextDescription--CNedi previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,er.tx)("voting.modal.after_you_vote_results_will_show_up_right_here"))))}function ip({title:e,id:t,userId:a,createdAt:l,shouldShowSeparator:i,setAsHovered:s,setAsNotHovered:c,recordingKey:d}){let u=(0,r.wA)(),m=(0,ey.tS)();return n.createElement("li",null,n.createElement(q.GG,{recordingKey:aH.Pt(d,"viewPastVotingSession"),className:U()("previous_votes_view--previousVotesListItem--77yUn",i&&"previous_votes_view--showSeparator--nHjDd"),onClick:()=>{(0,H.sx)("view_past_voting_session",{votingSessionId:t,source:"meetings_panel",fileKey:m}),u(lT.H1({sessionId:t,votingStage:o.W8Y.ENDED}))},onMouseEnter:()=>s(),onMouseLeave:()=>c()},n.createElement("div",{className:"previous_votes_view--title--ndUJI text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},e),n.createElement("div",{className:"previous_votes_view--previousVotesListItemMetadata--BDnIc"},n.createElement(i_,{userId:a}),n.createElement("div",{className:"previous_votes_view--timestamp--A1VKx"},n.createElement(Q.h1,{date:l})))))}function i_({userId:e}){let{user:t,loading:a}=(0,eb.wW)(e);return n.createElement(n.Fragment,null,n.createElement(lA.v,{userId:e,user:t,loading:a,size:24,loadingClassName:"previous_votes_view--loadingAvatar--JzmIH",defaultClassName:"previous_votes_view--userAvatarPadding---Zhpj"}),n.createElement(lA.m,{userId:e,user:t,loading:a,defaultClassName:"previous_votes_view--username--l6MHn text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",loadingClassName:"previous_votes_view--loadingUsername--VL2uA"}))}var ig=a(776621),ih=a(433861),iE=a(240416),iy=a(599486);function iv(){return n.createElement("div",{className:"figjam_panel_separator--separator--D-ffn"})}var ib=a(42173),iC=a(781779);let iw=new Map([["STICKY",iy.BV],["TEXT",iy.N$],["FRAME",iy.H0],["SYMBOL",iy.yc],["ROUNDED_RECTANGLE",iy.xf],["CODE_BLOCK",iy.I5]]),ik=["ROUNDED_RECTANGLE","SYMBOL","FRAME"],ix=n.memo(({votingSessionInfo:e})=>{let t=(0,lN.jz)(),a=t?.find(t=>t.id===e.sessionId),r=(0,n.useMemo)(()=>[...e.votedNodes].sort((e,t)=>{let a=(0,lV.oC)(e),n=(0,lV.oC)(t);return a!==n?n-a:e.guid.localeCompare(t.guid)}),[e]),l=(0,n.useMemo)(()=>(0,lV.yn)(e.votedNodes),[e.votedNodes]);if(!a)return null;let i=!!r.length;return n.createElement("div",{className:en.cx.flex.flexColumn.minH0.flexGrow1.$},n.createElement("div",{className:"voting_results_detail_view--titleContainer--gt1pA"},n.createElement(lJ,{title:(0,lV.DG)(a)})),n.createElement("div",{className:"voting_results_detail_view--byline--Fye6w"},n.createElement(lX,{votingSessionInfo:e}),n.createElement("p",{className:"voting_results_detail_view--bylineTimestamp--3Ugv4 text--fontPos12--YsUAh text--_fontBase--QdLsd"},n.createElement(Q.h1,{date:a.createdAt}))),i&&n.createElement(iv,null),i&&n.createElement(et.P,null,n.createElement("ol",{className:"voting_results_detail_view--resultsList---owZd"},r.map((e,t)=>{let a=1===l.size&&l.has(e.guid);return n.createElement(iT,{isMostVoted:a,nodeVoteInfo:e,nextNodeId:r[t+1]?.guid??null,key:e.guid})}))))});function iT({nodeVoteInfo:e,nextNodeId:t,isMostVoted:a}){let l=e.guid,i=(0,eN.Jk)(l),o=(0,ne.Z)("figjam_voting"),s=(0,r.wA)(),c=(0,r.d4)(e=>e.voting.selectedVotePinId===l),d=(0,r.d4)(e=>!!t&&e.voting.selectedVotePinId===t),u=(0,r.d4)(e=>e.voting.hoveredInModalVotePinId===l),m=(0,r.d4)(e=>!!t&&e.voting.hoveredInModalVotePinId===t),p=n.useContext(ih.kw);(0,n.useEffect)(()=>{if(u)return()=>{s(lT.gA({votePinId:l}))}},[u,s,l]);let _=function(e){if(!e)return iC.xr;let t=e.whiteboardColor,a=(0,ib.BV)(t,"STICKY"===e.type?"sticky":"base");return a?ed.F.format(a):iC.xr}(i),f=i?"SHAPE_WITH_TEXT"===i.type?function(e){switch(e){case"SQUARE":return iy.dH;case"ELLIPSE":return iy.Yl;case"ROUNDED_RECTANGLE":return iy.EW;case"TRIANGLE_UP":return iy.D5;case"TRIANGLE_DOWN":return iy.kj;case"PARALLELOGRAM_RIGHT":return iy.h9;case"PARALLELOGRAM_LEFT":return iy._K;case"ENG_DATABASE":return iy.rQ;case"ENG_QUEUE":return iy.pt;case"ENG_FILE":return iy.ak;case"ENG_FOLDER":return iy.Mi;case"TRAPEZOID":return iy.qn;case"PREDEFINED_PROCESS":return iy.dA;case"SHIELD":return iy.lm;case"PENTAGON":return iy.Un;case"OCTAGON":return iy.JK;case"HEXAGON":return iy.CB;case"PLUS":return iy.c1;case"STAR":return iy.Gg;case"MANUAL_INPUT":return iy.Cu;case"DOCUMENT_SINGLE":return iy.R8;case"DOCUMENT_MULTIPLE":return iy.H$;case"CHEVRON":return iy.zp;case"ARROW_LEFT":case"ARROW_RIGHT":return iy.HK;case"SUMMING_JUNCTION":return iy.QZ;case"OR":return iy.Vq;case"SPEECH_BUBBLE":return iy.QD;case"INTERNAL_STORAGE":return iy.sJ;default:return(0,ig.x1)("voting","error unhandled shape type for shapeTypeToSvg",{shapeType:e}),iy._K}}(i.shapeWithTextType):iw.get(i.type)||iy.BV:iy.BV,g=!!i&&ik.includes(i.type),h=(()=>{if(!i)return{width:0,height:0};let e=i.absoluteBoundingBox,t=e.w,a=e.h,n=Math.min(t/72,a/72);return{width:t/n,height:a/n}})(),E=(0,ef.ai)({nodeId:l,width:h.width,height:h.height,shouldSkip:!g}),y=(0,n.useMemo)(()=>{if(i){if(i.textSublayer)return i.textSublayer.textContent;if(i.textContent)return i.textContent;if(i.name)return i.name}return""},[i]),v=(0,lV.oC)(e);return n.createElement("li",null,n.createElement("button",{className:U()("voting_results_detail_view--resultsListItemButton--4llQi",{"voting_results_detail_view--resultsListItemButtonWinner--6bIhk":a,"voting_results_detail_view--resultsListItemButtonSelected--Z3vdm":c,"voting_results_detail_view--showSeparator--6aQOA":!c&&!d&&!u&&!m&&!!t}),onClick:function(){s(lT.w9({votePinId:e.guid})),i&&o((0,iE.e)(i,p,"vote"))},onMouseEnter:function(){(0,rb.aJ)()&&s(lT.Vw({votePinId:l}))},onMouseLeave:function(){(0,rb.aJ)()&&s(lT.gA({votePinId:l}))}},n.createElement("div",{className:"voting_results_detail_view--resultsListItemCountContainer--1fD-h"},n.createElement("div",{className:"voting_results_detail_view--resultsListItemCountText--m6rWN text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,er.tx)("voting.modal.votes",{numVotes:v,numVotesElem:n.createElement("p",{className:"voting_results_detail_view--resultsListItemCount--DLrXt text--fontPos13--xW8hS text--_fontBase--QdLsd"},v)}))),n.createElement("p",{className:"voting_results_detail_view--resultsListItemDetails--hz7gX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},y),n.createElement("div",{className:"voting_results_detail_view--resultsListItemThumbnail--Qjux6"},E&&g?n.createElement("img",{className:"voting_results_detail_view--nodePreviewImage--fugfT",src:E.src,width:E.displaySize.x,height:E.displaySize.y,alt:(0,er.t)("voting.modal.voting_results_image_preview_alt")}):n.createElement(f,{color:_}),a&&n.createElement("img",{src:iy.G7,className:"voting_results_detail_view--medal--JzOBO",alt:(0,er.t)("voting.modal.medal_img_alt")}))))}var iN=a(60088),iS=a(647173);function iI(e){let{headerText:t,goBack:a,options:r,onMinimize:l,onOptionsMenuClick:i,recordingKey:o}=e;return n.createElement("div",{className:"meetings_panel_header--meetingsPanelPageContainer--TK5qd"},n.createElement(iA,{headerText:t,goBack:a,options:r,onMinimize:l,onOptionsMenuClick:i,recordingKey:o}),n.createElement(iv,null),e.children)}let iA=n.memo(e=>{let{headerText:t,goBack:a,options:r,onMinimize:l,onOptionsMenuClick:i,recordingKey:o}=e,{Dropdown:s,toggleDropdown:c,dropdownTargetRef:d,isDropdownShown:u}=(0,iN.B)("MEETINGS_PANEL_HEADER_OVERFLOW_MENU"),m=n.useCallback(e=>{i?.(),c()},[c,i]),p=n.useMemo(()=>r&&r.length>0?r.map(e=>({displayText:e.text,isChecked:!1,callback:e.callback,recordingKey:e.recordingKey})):null,[r]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"meetings_panel_header--meetingsPanelHeader--6cBGV"},n.createElement(ea.B,{svg:iS.A,className:"meetings_panel_header--panelHeaderBackButton--03dhC",onClick:rb.Ay.isIpad?void 0:a,onPointerDown:rb.Ay.isIpad?a:void 0,recordingKey:aH.Pt(o,"backButton")}),t&&n.createElement("span",{className:"meetings_panel_header--meetingsPanelHeaderText--KW2Jw text--fontPos11--2LvXf text--_fontBase--QdLsd"},t),n.createElement("div",{className:en.cx.mlAuto.$,ref:d},p&&n.createElement(rT.YW,{svg:lM.A,label:"dots",className:"meetings_panel_header--panelHeaderOverflowMenuIcon--zCGI4",onClick:m,"aria-label":(0,er.t)("meetings_panel.header.overflow_menu_aria_label"),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("meetings_panel.header.overflow_menu_aria_label"),selected:u,recordingKey:aH.Pt(o,"expandMenuItems")})),n.createElement("div",null,p&&n.createElement(s,{items:p,showPoint:!0,minWidth:135,recordingKey:aH.Pt(o,"expandMenuItems")}),l&&n.createElement(ak.Jn,{onClick:l}))))}),iL="meetings_panel";function iO(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),t=n.useMemo(()=>e&&e.sessionId.length>0,[e]),a=(0,r.wA)(),l=(0,nF.Xr)(ia.Qs),i=(0,r0.qU)(),s=(0,r.Pj)(),c=(0,z.am)(),d="pastVotingSessions",u=n.useCallback(()=>{t?a(lT.H1({votingStage:o.W8Y.NO_SESSION})):l({type:"SET_VIEW",payload:ia.iN.DEFAULT})},[t,a,l]),m=n.useCallback(()=>{i({source:r0.OO.MEETINGS_PANEL})},[i]),p=n.useCallback(()=>{c("click_voting_results_more_options",{votingSessionId:e.sessionId,source:iL})},[c,e]),_=n.useCallback(()=>{a(io.$O({type:iu.type,showModalsBeneath:!0,data:{votingSessionId:e.sessionId}})),c("click_delete_voting_session",{votingSessionId:e.sessionId,source:iL})},[a,e,c]),f=n.useCallback(()=>{c("click_export_voting_session_as_csv",{votingSessionId:e.sessionId,source:iL}),lT.Ev(s.getState(),e.sessionId)},[s,e,c]),g=n.useMemo(()=>{if(t){let e=[{text:(0,er.t)("voting.modal.actions.delete_voting_session"),callback:_,recordingKey:"votingModalDeleteVotingSession"}];return rb.Ay.isIpadNative||e.unshift({text:(0,er.t)("voting.modal.actions.export_as_csv"),callback:f,recordingKey:"votingModalExportAsCsv"}),e}},[t,f,_]);return n.createElement(iI,{headerText:(0,er.t)("meetings_panel.voting.results"),goBack:u,onMinimize:m,onOptionsMenuClick:p,options:g,recordingKey:d},t?n.createElement(ix,{votingSessionInfo:e}):n.createElement(im,{recordingKey:d}))}var iM=a(2342),iP=a(136068),iR=a(304298);function iD(){let e=(0,r0.$3)();return n.createElement("div",{className:"volume_view--volumeView--XbP1r"},n.createElement(iP.aY,{volumeJustification:iR.Z.INLINE,sliderVisibilitySetting:e?iP.s1.NEVER:iP.s1.ALWAYS,sliderFullWidth:!0,buttonGap:5,iconColor:iP.J.DEFAULT,withDarkHoverBg:!0,muteOnTouch:e}))}function iF(){let[e,t]=(0,lw.Jg)(),a=(0,r.d4)(e=>e.mirror.appModel.showUi);return((0,lw.ey)(t.playStartChime),(0,lw.YO)(),!function(){rQ();let e=(0,rJ.oc)({musicSource:"StandaloneMusic",loadingPlaybackUrl:"https://static.figma.com/uploads/f4e48159672101a168b296a94e39ef02f032e171",previousPlayerInstance:(0,r.d4)(e=>e.music.playerInstance)||void 0,timeUpdateListener:(0,d.kc)().figjam_more_tracks_listen?e=>{e.currentTime>e.duration-.3&&(e.currentTime=0,e.play())}:void 0}),t=(0,r.d4)(e=>e.music.music),a=t?.selectedSongID,l=rZ.N(a||"")?.playback_url,i=(0,r.d4)(e=>e.music.volume),o=(0,r.d4)(e=>e.music.isMuted),s=(0,r.wA)();n.useEffect(()=>{s(rX.qV())},[s]),n.useEffect(()=>{(0,d.kc)().figjam_more_tracks_listen&&s(rX.jt())},[s]),n.useEffect(()=>{s(rX.wk(e))},[s,e]),n.useEffect(()=>()=>{e.stop()},[e]),n.useEffect(()=>{s(rX.tk({isMuted:0===i,userInitiated:!1}))},[s,i]);let c=n.useCallback(()=>{s(rX.tk({isMuted:!0,userInitiated:!1})),s(rY.F.enqueue({message:(0,er.t)("whiteboard.timer.unmute_music_message"),button:{text:(0,er.t)("whiteboard.timer.unmute_music_button"),action:()=>{s(rX.tk({isMuted:!1,userInitiated:!0}))}},type:rJ.XZ,onDismiss:()=>{}}))},[s]);n.useEffect(()=>{if(l!==e.audio.currentSrc&&e.setSource(l||""),!l){e.stop();return}if(t?.isPaused){e.pause();return}if(!t?.isPaused){if(!e.isPaused()||!l)return;e.playAtTimestamp({src:l,timestamp:(0,rX.UQ)(t),onFailure:c})}},[l,t,e,c,o])}(),(0,lV.YR)(),(0,lV.FJ)(),(0,lw.OI)(),(0,lw.rJ)(),(0,u.md)(ia.Qs).isOpen&&a)?n.createElement(iB,null):null}function iB(){let e=(0,u.md)(ia.Qs),t=(0,r0.$3)(),a=(0,r0.qU)(),r=(0,lV.Av)(),l=(0,rf.U1)();return n.createElement("div",{className:"meetings_panel--meetingsPanelModal--2NL5Z",ref:l},e.view!==ia.iN.PAST_VOTES||t?n.createElement("div",{className:"meetings_panel--meetingsPanelContents--nnSLj"},n.createElement(iM.w,{title:r?(0,er.t)("meetings_panel.toolbar_tooltip"):(0,er.t)("meetings_panel.toolbar_tooltip.no_voting"),onClose:()=>a({source:r0.OO.MEETINGS_PANEL})}),n.createElement(et.P,{className:"meetings_panel--meetingToolsScrollWrapper--D5CUY"},n.createElement(iU,null))):n.createElement(iO,null))}function iU(){let e=(0,lV.Av)(),t=(0,lV.Ld)(),a=e&&rb.Ay.isMeetDevice&&t,r=rb.Ay.isMeetDevice?a:e;return n.createElement("div",{className:en.cx.colorBg.$},n.createElement(iD,null),n.createElement(iv,null),n.createElement(lx,null),n.createElement(iv,null),n.createElement(ly,null),r&&n.createElement(n.Fragment,null,n.createElement(iv,null),n.createElement(ii,null)))}var iG=a(655515),iH=a(665194),iV=a(653671),iK=a(412371),iz=a(448169),iW=a(547841);function ij(e){let t=(0,nF.Xr)(iG.Cx),[a,r]=(0,n.useState)(!1),l=(0,iH.hs)();return n.createElement("div",null,n.createElement(iz.V,null,n.createElement(iM.w,{title:(0,er.t)("fullscreen.pages_panel.pages"),onClose:t,showBottomBorder:a}),n.createElement(iq,{width:e.width,pagesList:e.pagesList,setIsScrolled:r},n.createElement(eO.bU,{isReadOnly:e.isReadOnly,pages:e.pagesList,shouldHighlightActivePage:!0,isComparingChanges:!1,onContextMenu:e.onPageContextMenu})),l&&n.createElement(iY,{recordingKey:"figjamPagesPanel"})))}function iq({width:e,pagesList:t,setIsScrolled:a,children:r}){let l=(0,iH.hs)(),i=(0,n.useRef)(null);(0,iW.a)({pagesList:t,scrollContainerRef:i});let o=(0,n.useCallback)(e=>{a(e>0)},[a]);return n.createElement(et.P,{horizontalScrollingDisabled:!0,width:e,onScroll:o,ref:i,innerClassName:U()("pages_panel_ui2--scrollContainerInner---lutT",{"pages_panel_ui2--withBottomPadding--b4Z0j":!l})},r)}function iY({recordingKey:e}){return n.createElement("div",{className:"pages_panel_ui2--footerContainer--4Nk4z"},n.createElement(iX,{recordingKey:(0,aH.Pt)(e,"addPage")}))}function iX({recordingKey:e}){let t=(0,nQ.rE)(),a=aH.rf(e,"click",()=>{t(null)});return n.createElement(aV.tM,{className:U()("pages_panel_ui2--secondaryButton--xllEl","pages_panel_ui2--flexGrow--22c55","pages_panel_ui2--withHover--iwz0G"),onClick:a},(0,er.tx)("fullscreen_actions.new_page"))}function iJ(){let e=(0,eL.cT)(),t=(0,eL.n0)(),a=(0,nF.Xr)(iV.aN);(0,n.useEffect)(()=>{a(!0)},[a]);let r=(0,iH.sv)(),l=(0,iK.g)({pagesList:t,shouldShowDuplicateOption:r});return n.createElement(n.Fragment,null,n.createElement(ij,{isReadOnly:e,width:200,pagesList:t,onPageContextMenu:l}))}function iZ(){let e=(0,r.d4)(e=>e.mirror.appModel.showUi),t=(0,u.md)(iG.ET),a=(0,nF.Xr)(iG.Cx);return(0,n.useEffect)(()=>a,[a]),t&&e?n.createElement("div",{key:"figjam-pages-sidebar",className:U()("pages_sidebar_ui2--positioner--MStQb",rg.Dm)},n.createElement("div",{className:"pages_sidebar_ui2--panel--ZLyMB"},n.createElement(iJ,null))):null}var iQ=a(877723);function i$({children:e,hasHoverableBackground:t,onboardingKey:a}){return n.createElement("div",{className:U()("floating_panel--container--3qp3k",{"floating_panel--hoverableBackground--h8B5i":t}),"data-onboarding-key":a},e)}var i0=a(339690),i1=a(27947),i2=a(135298),i5=a(368702),i3=a(861717),i4=a(932037);function i6(){let[e,t]=(0,u.fp)(oh),a=n.useCallback(()=>{e?t(!1):((0,i5.W)("right",()=>t(!1)),t(!0))},[e,t]);return(0,d.kc)().async_spotlight?n.createElement(i3.Z,{onClick:a,tooltip:{type:eI.Ib.TEXT,text:(0,er.t)("recordings.recordings")},isActive:e},n.createElement(ea.B,{svg:i4.A})):null}var i7=a(334290),i8=a(766926),i9=a(435898),oe=a(535688),ot=a(194092);let oa="figjam_right_panel--container--z4q5E",on="figjam_right_panel--controls--1DAKo",or="figjam_right_panel--leftSection--wZTVw",ol="figjam_right_panel--middleSection--xMAsd";function oi(){let e=(0,r.wA)(),t=(0,ey.q5)(),a=(0,eh.Um)(),l=(0,r.d4)(e=>e.multiplayer),i=(0,ev.dR)(),s=(0,ew.iZ)(),c=n.useMemo(()=>l.allUsers.find(e=>e.sessionID===l.sessionID)||null,[l.allUsers,l.sessionID]),u=(0,Y.B4)(),m=(0,eE.aV)(),p=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===o.lyf.HISTORY),_=!(0,iQ.q8)()&&(0,i9.Uy)(),f=rb.Ay.isMeetDevice,g=(0,d.kc)().async_spotlight&&!f,h=(0,r9.DG)(t?.key||"").enabled,E=n.useCallback(t=>{(0,eD.Lx)(t,c?.sessionID,e,!1,l,i,u)},[c?.sessionID,e,l,i,u]),y=(0,rf.U1)();return m?n.createElement("div",{className:oa},n.createElement(i$,{hasHoverableBackground:!1},n.createElement("div",{className:on},n.createElement("div",{className:or},n.createElement(os,null)),n.createElement("div",{className:ol},n.createElement(oc,null),n.createElement(oc,null),n.createElement(oc,null),n.createElement(od,null),!g&&n.createElement(oc,null)),n.createElement(ou,null)))):n.createElement(iz.V,{ref:y,className:U()(oa,rg.Dm),"data-cancel-insertable-resource-drag-and-drop":!0},n.createElement(i$,{hasHoverableBackground:!1,onboardingKey:i0.Lj},n.createElement("div",{className:on},n.createElement("div",{className:or},n.createElement(i1.sK,{isUI3:!0}),l&&t&&c&&n.createElement(eD.v7,{dropdownShown:a,multiplayer:l,currentUser:c,onUserClick:E})),!p&&n.createElement("div",{className:ol},_&&n.createElement(oe.V,null),n.createElement(i8.y,null),!f&&n.createElement(i2.j,null),n.createElement(ot.J,null),g&&n.createElement(i6,null)),t&&n.createElement(eF.w,{user:s,editingFile:t,isFileInWorkshop:h}),!s&&!f&&n.createElement(i7.tO,null))))}function oo({width:e,borderRadius:t="medium"}){return n.createElement("div",{className:"figjam_right_panel--loadingPlaceholder--Z4Q63",style:{width:e,borderRadius:"full"===t?"var(--radius-full)":"var(--radius-medium)",visibility:"hidden"}},n.createElement(eZ._b,null))}function os(){return n.createElement("div",{className:"figjam_right_panel--multiplayerPlaceholderContainer--ZLhPf"},n.createElement(oo,{width:40,borderRadius:"full"}))}function oc(){return n.createElement(oo,{width:32})}function od(){return n.createElement(oo,{width:90})}function ou(){return n.createElement(oo,{width:55})}var om=a(59779);let op="whiteboard_ui--leftSidebar--WE2SD whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",o_="whiteboard_ui--uiHidden--Hsyad",of="whiteboard_ui--stackedContainer--2mtV9",og="whiteboard_ui--rightSidebarUI3--9Xzv3",oh=(0,j.eU)(!1),oE=(0,V.jz)(ty.uj0),oy=n.memo(function(){let e=(0,rj.Vi)(),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===o.lyf.HISTORY),a=(0,eE.p8)("showUi"),l=(0,em.GS)();(function(){let e=(0,t6.Kx)(),t=(0,r.d4)(e=>e.timer.modalState),a=(0,u.md)(ia.Qs);n.useEffect(()=>{e?.updateTimerModalState&&e.updateTimerModalState(a.isOpen?"open":"closed")},[e,t,a.isOpen]);let l=(0,r.d4)(e=>e.timer.time);n.useEffect(()=>{e?.updateTimerTime&&l&&e.updateTimerTime(l)},[e,l])})(),(0,rh.M)(),function(){let e=(0,nF.Xr)(ia.Qs);n.useEffect(()=>()=>{e({type:"CLOSE"})},[e])}();let i=(0,t6.Kx)(),s=a&&!i?.shouldOptimizeForIpadApp&&e;return n.createElement(l?oC:ob,{showUi:a,inVersionHistory:t,isCommentsPanelOpen:s})});function ov(){return n.createElement("div",{className:"whiteboard_ui--commentsContainer--HLR1i"},n.createElement(rH.L,{showSidebar:!0,scrollable:!1},n.createElement(rB.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>o.glU.triggerActionInUserEditScope("set-tool-default",null)})))}function ob({showUi:e,inVersionHistory:t,isCommentsPanelOpen:a}){let r=(0,rz.WQ)(),l=(0,rE.Lk)(),i=(0,d.kc)().figjam_pages_in_figjam,o=(0,rq.FR)(),s=(0,u.md)(ia.Qs).isOpen,c=(0,ry.S)();if(t$.pb.isGoogleClassroomIntegration())return n.createElement(n.Fragment,null,a&&n.createElement(ov,null));if(t)return n.createElement(n.Fragment,null,e&&n.createElement(n.Fragment,null,n.createElement("div",{className:U()(op,rg.Dm),style:{bottom:r}},i&&n.createElement(iZ,null)),n.createElement(rW,{className:"whiteboard_ui--versionHistoryRightSidebar--7wtYE whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",style:{bottom:r}},n.createElement(rU.yU,null))),n.createElement(oT,{isTopToolbarShowing:e,isRightSidebarShowing:e},n.createElement(rR,null)));let m=!!e&&(!!a||!o&&!!s||!!c);return n.createElement(n.Fragment,null,n.createElement("div",{className:U()(op,rg.Dm,{[o_]:!e}),style:{bottom:r}},i&&n.createElement(iZ,null),o&&n.createElement(iF,null)),n.createElement("div",{className:U()("whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",{[o_]:!e}),style:{bottom:r,right:a?oE+16:16}},n.createElement("div",{className:U()(of,rg.Dm)},l&&n.createElement(rV.s,null),!o&&n.createElement(iF,null))),a&&n.createElement(ov,null),n.createElement(oT,{isTopToolbarShowing:e,isRightSidebarShowing:m},n.createElement(rR,null)))}function oC({showUi:e,inVersionHistory:t,isCommentsPanelOpen:a}){let r=(0,u.md)(ia.Qs).isOpen,l=(0,u.md)(rK.zS)===rK.Wl.TOP_BAR,i=(0,u.md)(oh),s=(0,ry.S)(),c=(0,rE.Lk)(),d=(0,eT.J2)(o.Ez5.uiState().showCanvasSearch),m=(0,n.useRef)(null),[p,_]=n.useState(null),f=(0,rz.$9)(p);n.useLayoutEffect(()=>{_(m.current?.lastElementChild)},[m,a,r,l,i,s,t,d]);let g=t?e?n.createElement(ox,null):null:n.createElement(ok,{isCommentsPanelOpen:a});return t$.pb.isGoogleClassroomIntegration()?n.createElement("div",{className:og,style:{bottom:f}},n.createElement("div",{ref:m,className:U()(of,rg.Dm)},a&&n.createElement(ow,null))):n.createElement("div",{className:og,style:{bottom:f}},n.createElement("div",{ref:m,className:U()(of,rg.Dm)},e&&n.createElement(oi,null),n.createElement(rR,null),c&&n.createElement(rV.s,null),g))}function ow(){return n.createElement("div",{className:"whiteboard_ui--commentsContainerUI3--0VMH4"},n.createElement(rW,null,n.createElement(rB.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>o.glU.triggerActionInUserEditScope("set-tool-default",null)})))}function ok({isCommentsPanelOpen:e}){let[t,a]=(0,u.fp)(oh);return n.createElement(n.Fragment,null,n.createElement(iF,null),(0,d.kc)().async_spotlight&&t&&n.createElement(rG.h,{onClose:()=>a(!1)}),n.createElement(om.fh,null),e&&n.createElement(ow,null))}function ox(){let e=(0,rf.U1)();return n.createElement(rW,{ref:e},n.createElement(rU.yU,{isUI3:!0}))}function oT({isTopToolbarShowing:e,isRightSidebarShowing:t,children:a}){return n.createElement("div",{className:U()("whiteboard_ui--searchContainerUI2--OYScK",{"whiteboard_ui--withTopToolbar---Orkn":e,"whiteboard_ui--withRightSidebar--6yF6U":t})},a)}var oN=a(251960),oS=a(683694),oI=a(723239),oA=a(582947),oL=a(324611),oO=a(340514),oM=a(86719),oP=a(433195);let oR=(0,oA.r1)(oP.WX),oD=(0,oA.r1)(oP.b6),oF=!1;function oB(){let e=(0,r.wA)(),t=(0,u.md)(oS.wg),a=(0,eE.aV)(),l=(0,u.md)(oI.mp),i=(0,v._I)(),o=(0,em.GS)(),s=(0,u.md)(oD),c=(0,u.md)(oR),{uniqueId:d,show:m,complete:p,isShowing:_}=(0,ad.e)({overlay:ah.kc4,priority:ap.N.SECONDARY_MODAL},[c,s,l]),f=(0,x.U)("modal"),g=n.useCallback(()=>{!a&&!oF&&t&&i&&(0!==(a4.q.instance.getCurrentPage()?.childrenGuids.length||0)&&m({canShow:(e,t,a)=>!e&&!t&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a)}),oF=!0)},[m,i,t,a]);function h(){e(eK.b({[oP.WX]:!0})),p()}n.useEffect(()=>{o||g()},[g,o]),(0,oN.E)(d,(0,oM.w)("design"),()=>{g()}),n.useEffect(()=>{"loaded"===c.status&&c.data&&p()},[c,p]),(0,oN.E)(d,"Enter Inspect Mode",()=>{_&&h()});let E=(0,em.GS)()?aC.ON:y.e;return n.createElement(oO.rq,{isShowing:_,trackingContextName:oP.WX,onClose:h,targetKey:E,title:(0,er.tx)("dev_handoff.annotations_introduction_overlay.title"),media:n.createElement(oL.y,{src:"https://static.figma.com/uploads/5b9addc96424c11577a1ec91e1bbadcd786fe343",alt:(0,er.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:(0,er.tx)("dev_handoff.annotations_introduction_overlay.description"),primaryCta:{label:(0,er.tx)("dev_handoff.annotations_introduction_overlay.primary_cta"),type:"button",onClick:function(){f("handoff")},ctaTrackingDescriptor:ac.c.SHOW_ME}})}var oU=a(502665);let oG=(0,oA.r1)(oP.b6),oH=(0,oA.r1)(oP.WX),oV=!1,oK=!1;function oz(){let e=(0,r.wA)(),t=(0,eE.aV)(),a=(0,u.md)(oI.mp),l=(0,u.md)(oU.N),i=(0,eT.J2)(o.Ez5.annotationObserver().annotationInfoByTlf),s=u.md(ey.yV)?.creatorId,c=(0,u.md)(oG),d=(0,u.md)(oH),{uniqueId:m,show:p,complete:_,isShowing:f}=(0,ad.e)({overlay:ah.kc4,priority:ap.N.SECONDARY_MODAL},[c,d,a,l]),g=(0,x.U)("modal"),h=i.size>0;function E(){e(eK.b({[oP.b6]:!0})),_()}n.useEffect(()=>{t&&(oK=!0),!t&&!oV&&oK&&h&&(p({canShow:(e,t,a,n)=>!e&&!t&&s!==n&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(a)}),oV=!0)},[h,t,s,p]),n.useEffect(()=>{"loaded"===c.status&&c.data&&_()},[c,_]),(0,oN.E)(m,"Enter Inspect Mode",()=>{f&&E()});let v=(0,em.GS)()?aC.ON:y.e;return n.createElement(oO.rq,{isShowing:f,trackingContextName:oP.b6,onClose:E,targetKey:v,title:(0,er.tx)("dev_handoff.annotations_upsell_overlay.title"),media:n.createElement(oL.y,{src:"https://static.figma.com/uploads/e84a2faeb510847abd7bfb9c15a74ef974bb4c13",alt:(0,er.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:(0,er.tx)("dev_handoff.annotations_upsell_overlay.description"),primaryCta:{label:(0,er.tx)("dev_handoff.annotations_upsell_overlay.primary_cta"),type:"button",onClick:function(){g("handoff")},ctaTrackingDescriptor:ac.c.OPEN_DEV_MODE},secondaryCta:{label:(0,er.tx)("dev_handoff.annotations_upsell_overlay.secondary_cta"),type:"button",onClick:_,ctaTrackingDescriptor:ac.c.NOT_NOW}})}var oW=a(7860),oj=a(297666);function oq(){return n.createElement("button",{className:en.cx.flex.justifyCenter.itemsCenter.absolute.bottom0.left0.wFull.h40.colorBg.b1.colorBorder.font11.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},(0,er.t)("help_widget.menu.contact_support"))}var oY=a(716622);function oX(){let{hideInProductHelpView:e}=(0,oY.A5)();return n.createElement("div",{className:en.cx.flex.flexRow.justifyBetween.itemsCenter.$},n.createElement("p",{className:en.cx.font16.colorText.fpl__textHeadingLargeFontWeight.$},(0,er.t)("in_product_help_and_learning.first_level_header.title")),n.createElement(S.K,{onClick:()=>{e()},"aria-label":(0,er.t)("general.close")},n.createElement(eH.A,null)))}var oJ=a(32863);function oZ(){return n.createElement(oJ.IW,{focusOnMount:!0,hasTransparentBackground:!0,query:"",clearSearch:function(){throw Error("Function not implemented.")},onChange:function(){throw Error("Function not implemented.")},iconClassName:en.cx.colorIconSecondary.$,className:en.cx.h32.wFull.colorBgSecondary.bRadius8.$})}function oQ({sectionName:e,sectionOptions:t}){return n.createElement("div",{className:en.cx.flex.flexColumn.gap10.font11.fpl__textBodyMediumStrongFontWeight.mt8.$},n.createElement("p",{className:en.cx.mb2.$},e),t)}var o$=a(696849);function o0(){function e({resource:e}){return n.createElement("a",{href:e.href,target:"_blank",className:en.cx.flex.gap8.colorTextBrand.cursorPointer.$},n.createElement(ea.B,{svg:o$.A,width:"16px",className:en.cx.colorIconBrand.$}),e.label)}let t=[{label:(0,er.t)("help_widget.menu.help_center"),href:"https://help.figma.com/"},{label:(0,er.t)("help_widget.menu.support_forum"),href:"https://forum.figma.com/"},{label:(0,er.t)("help_widget.menu.release_notes"),href:"https://releases.figma.com/"},{label:(0,er.t)("help_widget.menu.legal_summary"),href:"/legal"},{label:(0,er.t)("help_widget.menu.submit_feedback"),href:"https://a.sprig.com/WVd3eUN5R3lxZ35zaWQ6OTllM2VkMDUtY2UxYS00NjUxLTg0YzItNTdjYTZmZGZkNjhj"},{label:(0,er.t)("help_widget.menu.ask_the_community"),href:"https://forum.figma.com/ask-community"},{label:(0,er.t)("help_widget.menu.navigating_figmas_redesign"),href:"https://help.figma.com/hc/en-us/articles/23954856027159-Navigating-Figma-s-redesign"}].map(t=>n.createElement(e,{key:t.label,resource:t})),a=(0,er.t)("in_product_help_and_learning.more_help_resources.section_title");return n.createElement(oQ,{sectionName:a,sectionOptions:t})}var o1=a(278733);function o2({resource:e}){let t=(0,nF.Xr)(oY.J9),a=(0,nF.Xr)(oY.Y);return n.createElement("button",{key:e.title,style:o1.sx.radiusMedium.b1.colorBorder.flex.flexRow.wFull.add({height:"74px"}).$,onClick:()=>{t(2),a(e.title)}},n.createElement("div",null,n.createElement(aw.oW,{src:e.image,alt:"",style:o1.sx.m0.add({width:"108px",height:"74px"}).$})),n.createElement("div",{className:en.cx.flex.flexColumn.gap2.m12.wFull.font11.ellipsis.alignLeft.$},n.createElement("p",{className:en.cx.colorText.fpl__textBodyMediumStrongFontWeight.$},e.title),n.createElement("p",{className:en.cx.colorTextSecondary.$},e.description)))}function o5(){let e=[{title:(0,er.t)("in_product_help_and_learning.popular_resources.new_to_figma.title"),description:(0,er.t)("in_product_help_and_learning.popular_resources.new_to_figma.description"),image:"https://static.figma.com/uploads/a657c232671f190106d0943282bf1a970f036718"},{title:(0,er.t)("in_product_help_and_learning.popular_resources.explore_more_features.title"),description:(0,er.t)("in_product_help_and_learning.popular_resources.explore_more_features.description"),image:"https://static.figma.com/uploads/033919a9d852c5a37b60923805a0e11f625cd9b1"},{title:(0,er.t)("in_product_help_and_learning.popular_resources.create_components.title"),description:(0,er.t)("in_product_help_and_learning.popular_resources.create_components.description"),image:"https://static.figma.com/uploads/4f93c71141e5989d9f4d8259d2e2751dc3b3d7ab"},{title:(0,er.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title"),description:(0,er.t)("in_product_help_and_learning.popular_resources.design_your_first_button.description"),image:"https://static.figma.com/uploads/13d91474245b8e3949763a713a12805283cfe2a2"},{title:(0,er.t)("in_product_help_and_learning.popular_resources.video_tutorials.title"),description:(0,er.t)("in_product_help_and_learning.popular_resources.video_tutorials.description"),image:"https://static.figma.com/uploads/02377d4618e4b063422da13c18efd5debece9591"}];return n.createElement("div",{className:en.cx.flex.flexColumn.rowGap8.$},n.createElement("p",{className:en.cx.font13.colorText.fpl__textBodyMediumStrongFontWeight.$},(0,er.t)("in_product_help_and_learning.popular_resources.section_title")),e.map(e=>n.createElement(o2,{key:e.title,resource:e})))}var o3=a(22774),o4=a(738456);function o6({option:e}){return n.createElement("button",{className:en.cx.flex.colorTextBrand.cursorPointer.$,onClick:e.onClick},e.label)}function o7(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.user),a=[{label:(0,er.t)("lab.ui3_disable"),onClick:()=>{ae.nt.ui3.toggleValue(t,e,"in_product_help_menu")}},{label:(0,er.t)("help_widget.menu.change_keyboard_layout"),onClick:function(){tZ.Y5.isReady()&&(e(o3.FU({tab:"layout"})),tZ.Y5.triggerAction("toggle-keyboard-shortcuts"))}},{label:(0,er.t)("help_widget.menu.change_languages"),onClick:function(){e((0,io.to)({type:o4.kA,data:{source:o4.IO.HELP}}))}},{label:(0,er.t)("help_widget.menu.keyboard_shortcuts"),onClick:()=>{tZ.Y5.isReady()&&tZ.Y5.triggerAction("toggle-keyboard-shortcuts")}}].map(e=>n.createElement(o6,{key:e.label,option:e})),l=(0,er.t)("in_product_help_and_learning.settings.section_title");return n.createElement(oQ,{sectionName:l,sectionOptions:a})}function o8({isFloatingModal:e}){return n.createElement("div",null,n.createElement("div",{className:en.cx.flex.flexColumn.gap16.p16.pb8.$},n.createElement(oX,null),n.createElement(oZ,null)),n.createElement(et.P,{className:e?"first_level_resources--floatingModalScrollContainer--i7yEe":"first_level_resources--scrollContainer--t1Gzz"},n.createElement("div",{className:en.cx.flex.flexColumn.gap16.$},n.createElement(o5,null),n.createElement(o0,null),n.createElement(o7,null))),n.createElement(oq,null))}function o9({propertiesPanelWidth:e,isInsetEditorEnabled:t,view:a}){let[r,l]=(0,n.useState)((0,oY.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t})),i=(0,n.useCallback)(()=>{l((0,oY.iM)({propertiesPanelWidth:e,isInsetEditorEnabled:t}))},[t,e]);return(0,n.useEffect)(()=>{let e=(0,oj.s)(()=>{i()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i]),(0,n.useEffect)(()=>{i()},[e,i,t]),n.createElement(aX.vx,{initialWidth:oY.yx,initialHeight:.8*window.innerHeight,initialPosition:new a6.Mi(r.x,r.y),maxHeight:.8*window.innerHeight},n.createElement("div",{"data-testid":"in-product-help-floating-modal",className:"dynamic_panel--floatingModalContainer--S9bdj"},a))}function se(){let{hideInProductHelpView:e}=(0,oY.A5)(),t=(0,nF.Xr)(oY.J9),a=(0,u.md)(oY.Y);if(!a)return null;let r={[(0,er.t)("in_product_help_and_learning.popular_resources.new_to_figma.title")]:{description:"Start your learning journey with beginner-friendly resources that will have you creating in no time.",webm:"https://static.figma.com/uploads/6db4a35b80ddb5910781af9bc60c66bf902dff3a",mp4:"https://static.figma.com/uploads/88dea447c3d80062d168b864c9c01aa5645790e5",articleDisplayLabels:["Get started with layers","Create and edit text","Browse and apply fonts","Apply paints with the color picker","Apply images and videos to design files","Export from Figma","Figma favorites"]},[(0,er.t)("in_product_help_and_learning.popular_resources.explore_more_features.title")]:{description:"Discover more ways to bring your ideas to life with features like auto layout, styles, and prototyping.",webm:"https://static.figma.com/uploads/23c86354e978f77d1ca96b6cc52dfdc216f5a99d",mp4:"https://static.figma.com/uploads/fd204bb233c3be09b2e29f8621d93342c24b07af",articleDisplayLabels:["Frames in Figma","Add auto layout to a design","Explore auto layout properties","Create color, text, effect and layout grid styles","Create interactions","Prototype triggers","Prototype actions","Prototype animations","Parent, child and sibling relationships"]},[(0,er.t)("in_product_help_and_learning.popular_resources.create_components.title")]:{description:"Level up your workflow with reusable components so you never have to start from scratch again.",webm:"https://static.figma.com/uploads/0f0aad5b442ba063078c23b06010aab77ecf0c07",mp4:"https://static.figma.com/uploads/34285a0d04fb97f14cc2611ddc825950aec93300",articleDisplayLabels:["Create components to reuse in designs","Create and insert component instances","Create and use variants","Create interactive components with variants","Create and manage component properties"]},[(0,er.t)("in_product_help_and_learning.popular_resources.design_your_first_button.title")]:{description:"Placeholder subheader text explaining a bit more about this category/topic.",webm:"https://static.figma.com/uploads/ae096bb87fa381ce351df677153beba9abba9823",mp4:"https://static.figma.com/uploads/88dea447c3d80062d168b864c9c01aa5645790e5",articleDisplayLabels:["test 1"]},[(0,er.t)("in_product_help_and_learning.popular_resources.video_tutorials.title")]:{description:"Explore tools and features by watching and following along with these expert-led video tutorials. ",webm:"https://static.figma.com/uploads/ae096bb87fa381ce351df677153beba9abba9823",mp4:"https://static.figma.com/uploads/88dea447c3d80062d168b864c9c01aa5645790e5",articleDisplayLabels:["test 1"]}};return n.createElement("div",null,n.createElement("div",{className:en.cx.flex.flexRow.justifyBetween.p16.$},n.createElement("div",{onClick:()=>{t(1)},"aria-label":(0,er.t)("general.back"),role:"button",tabIndex:0,className:en.cx.flex.flexRow.itemsCenter.justifyCenter.font11.colorText.fpl__textBodyMediumStrongFontWeight.cursorPointer.$},n.createElement(I.C,null),(0,er.t)("general.back")),n.createElement(S.K,{onClick:()=>{e()},"aria-label":(0,er.t)("general.close")},n.createElement(eH.A,null))),n.createElement("div",{className:en.cx.flex.flexColumn.gap8.p16.pt8.pb0.$},n.createElement("p",{className:en.cx.font16.colorText.fpl__textHeadingLargeFontWeight.$},a),n.createElement("p",null,r[a].description)),n.createElement("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:en.cx.wFull.hAuto.p16.borderBox.$},n.createElement("source",{type:"video/webm",src:r[a].webm}),n.createElement("source",{type:"video/mp4",src:r[a].mp4})),n.createElement("div",{className:en.cx.flex.flexColumn.gap16.p16.$},r[a].articleDisplayLabels.map(e=>n.createElement("button",{key:e,className:en.cx.colorTextBrand.cursorPointer.alignLeft.fpl__textBodyMediumStrongFontWeight.$},e))))}var st=a(346124),sa=a(544403),sn=a(96225);function sr({view:e}){let{inProductHelpViewType:t}=(0,oY.A5)(),a=(0,eT.J2)(o.Ez5.uiState().inProductHelpSidePanelWidth);return"side_panel"!==t?null:n.createElement(iz.V,null,n.createElement(sn.X,null,n.createElement(sa.l,{className:U()("dynamic_panel--sidePanelPosition--YOgLo",rg.Dm),size:a,onResize:e=>{!function(e){let t=(0,st.clamp)(e,oY.Jm,oY.tL);o.Ez5?.uiState().inProductHelpSidePanelWidth.set(t)}(e)},side:"left","data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{className:"dynamic_panel--sidePanelContainer--4KgPk",style:{width:`${a}px`},"data-testid":"in-product-help-side-panel"},e))))}function sl({propertiesPanelWidth:e,isInsetEditorEnabled:t}){let a;let{inProductHelpViewType:r,updateInProductHelpViewOnWindowWidthResize:l}=(0,oY.A5)(),i=(0,u.md)(oY.J9);return(1===i?a=n.createElement(o8,{isFloatingModal:"floating_modal"===r}):2===i&&(a=n.createElement(se,null)),n.useEffect(()=>{let e=(0,oj.s)(()=>{"hidden"!==r&&l()});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[r,t,e,l]),"side_panel"===r)?n.createElement(sr,{view:a}):"floating_modal"===r?n.createElement(o9,{propertiesPanelWidth:e,isInsetEditorEnabled:t,view:a}):null}var si=a(27087),so=a(553015),ss=a(809840),sc=a(218997),sd=a(15839),su=a(233286);function sm(){let e=(0,ad.e)({overlay:ah.Dqt,priority:ap.N.DEFAULT_MODAL});(0,oN.E)(e.uniqueId,"commentThreadMobileAnnouncementClicked",()=>{(0,H.sx)("sidebar_announcement_mobile_app_download_prompt_modal_shown"),e.show({})});let t=(0,n.useCallback)(async()=>{(0,H.sx)("sidebar_announcement_mobile_app_download_prompt_email_me_cta_clicked"),await si.Ay.post("/api/send_mobile_download_email"),e.complete()},[e]);return n.createElement(sc.h,{isShowing:e.isShowing,modalType:sd.q3.FEATURE_UPDATE,closeButtonStyle:sd.M_.ON_DARK,element:()=>n.createElement(sp,{onEmailClick:t}),trackingContextName:"mobile_comment_announcement",onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}function sp(e){return n.createElement("div",{className:"modal_comment_sidebar_announcement--container--5oh-p"},n.createElement("div",{className:"modal_comment_sidebar_announcement--imageContainer--Vuo-V"},n.createElement("img",{alt:"Background",src:"https://static.figma.com/uploads/e19f2f58bc09414847ad59ff9228e07032e8842c",className:"modal_comment_sidebar_announcement--image--lyA61"}),n.createElement("div",{className:"modal_comment_sidebar_announcement--spacer--m02YT"}),n.createElement(su.T,null)),n.createElement("div",{className:"modal_comment_sidebar_announcement--textContainer--btaTy"},n.createElement("div",{className:"modal_comment_sidebar_announcement--title--eiyLq"},n.createElement(ss.E,{fontSize:24,fontWeight:"semi-bold"},(0,er.t)("rcs.mobile_comment_announcement.title"))),n.createElement("div",{className:"modal_comment_sidebar_announcement--description--Y8AJE"},n.createElement(ss.E,{fontSize:14},(0,er.t)("rcs.mobile_comment_announcement.description")))),n.createElement("div",{className:"modal_comment_sidebar_announcement--buttonsContainer--UTcgc"},n.createElement(so.$,{variant:"secondary",icon:"envelope-32",onClick:e.onEmailClick},(0,er.t)("rcs.mobile_comment_announcement.email_download_link")),n.createElement(so.$,{variant:"primary",onClick:()=>{(0,H.sx)("sidebar_announcement_mobile_app_download_prompt_learn_more_cta_clicked"),K.Ay.unsafeRedirect("https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app#download","_blank")},icon:"info-32"},(0,er.t)("rcs.rcs_shared.learn_more"))))}var s_=a(546962),sf=a(844519),sg=a(228997),sh=a.n(sg),sE=a(915440),sy=a(711525),sv=a(99380),sb=a(881388),sC=a(896474),sw=a(975350),sk=a(694517),sx=a(493536),sT=a(597642),sN=a(746830),sS=a(965626),sI=a(721047),sA=a(7760),sL=a(147755),sO=a(717037),sM=a(188276),sP=a(321112);let sR=(0,is.Ju)(function(e){let t=(0,r.wA)(),a=sA.a.useModal(e),[l,o]=n.useState(""),s=n.useCallback(e=>{o(e.currentTarget.value)},[]),c=(0,sL.X)(),[d,u]=n.useState(!1),m=async()=>{u(!0);let a=await sN.F.getUploadUrls(e.fileKey),n=e.recordedPositions.arrayBuffer().then(e=>{let t=new Uint8Array(e);return(0,sO.E)(i.FigmaTeam.WAYFINDING,"uploadWalkthroughPositionRecording",a.data.meta.position.url,a.data.meta.position.fields,t,"application/json")}),r=e.userMediaRecording.arrayBuffer().then(e=>{let t=new Uint8Array(e);return(0,sO.E)(i.FigmaTeam.WAYFINDING,"uploadWalkthroughMediaRecording",a.data.meta.media.url,a.data.meta.media.fields,t,"video/webm")}),[o,s]=await Promise.all([n,r]);t(sM.D({fileKey:e.fileKey,savepointID:e.fileVersionId,label:l,description:"async walkthrough"})),await sN.F.saveWalkthroughMedia(e.fileKey,e.fileVersionId,o,s,l,e.currentPage,e.firstPosition.x,e.firstPosition.y,e.isAudioOnly,e.lengthMs),t(rY.F.enqueue({message:(0,er.t)("recordings.recording_saved")})),t(io.Lo()),e.onRecordingSaved()};return n.createElement(sA.a.Root,{manager:a,width:"md"},n.createElement(sA.a.Contents,null,n.createElement(sA.a.Header,null,n.createElement(sA.a.Title,null,(0,er.tx)("recordings.save_recording"))),n.createElement(sA.a.Body,null,n.createElement(Z.ks,{ref:c,name:"title",type:"text",className:sP._Z,placeholder:(0,er.t)("recordings.title_field_placeholder"),value:l,onChange:s})),n.createElement(sA.a.Footer,null,n.createElement(sA.a.ActionStrip,null,n.createElement(Z.$$,{type:"submit",className:sP.pL,disabled:0===l.length,onClick:m},d?n.createElement(ee.kt,{shouldMatchTextColor:!0}):(0,er.tx)("general.save"))))))},"SAVE_ASYNC_WALKTHROUGH_MODAL",is.ZU.YES);var sD=a(683472),sF=a(335650),sB=a(548091),sU=a(752256),sG=a(434228);function sH(e){return(0,sG.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5h2.5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1M4 6a2 2 0 0 1 2-2h2.5a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm11.5-1H18a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2.5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1m-2 1a2 2 0 0 1 2-2H18a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2.5a2 2 0 0 1-2-2z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 5h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1M5 6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2zm10-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1m-2 1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z",clipRule:"evenodd"}))}function sV(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m9 16 3 3 1 1V4l-1 1-3 3H4.5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5zm3.293-12.707L8.586 7H4.5A1.5 1.5 0 0 0 3 8.5v7A1.5 1.5 0 0 0 4.5 17h4.086l3.707 3.707A1 1 0 0 0 14 20v-1h.06H14V4a1 1 0 0 0-1.707-.707M21 12a7 7 0 0 1-5.5 6.839v-1.028a6.003 6.003 0 0 0 0-11.622V5.161a7 7 0 0 1 5.5 6.84m-2 0a5 5 0 0 1-3.5 4.771V15.71a4.001 4.001 0 0 0 0-7.418V7.229A5 5 0 0 1 19 12m-2 0a3 3 0 0 1-1.5 2.599v-1.276c.311-.353.5-.816.5-1.323s-.189-.97-.5-1.323V9.401a3 3 0 0 1 1.5 2.6",clipRule:"evenodd"}))}var sK=a(973149);function sz(e){let{onPlay:t,onPause:a,onTimeUpdate:r}=e,l=n.useCallback(()=>{e.video&&e.video.pause(),a()},[e.video,a]),i=n.useCallback(()=>{e.video&&e.video.play(),t()},[e.video,t]),o=n.useCallback(t=>{e.video&&(e.video.currentTime=t),r()},[e.video,r]),s=n.useMemo(()=>e.isPlaying?n.createElement(S.K,{onClick:l,"aria-label":(0,er.t)("fullscreen.properties_panel.pause")},n.createElement(sH,null)):n.createElement(S.K,{onClick:i,"aria-label":(0,er.t)("fullscreen.properties_panel.pause")},n.createElement(lc.K,null)),[i,l,e.isPlaying]),c=e.video&&!isNaN(e.video.duration)?e.video.duration:e.lengthMs/1e3,d=n.useMemo(()=>new sK.f0(Number.POSITIVE_INFINITY,!1,!1),[]),[u,m]=n.useState(!1),[p,_]=n.useState(1),f=n.useCallback(t=>{if(!e.video)return;let a=parseFloat(t.target.value);_(a),e.video.volume=a},[e.video]);return n.createElement(n.Fragment,null,n.createElement("div",{className:"recording_video_controls--iconGroup--b52pU"},s,n.createElement(S.K,{onClick:()=>m(!u),"aria-label":(0,er.t)("fullscreen.properties_panel.volume")},n.createElement(sV,null)),u&&(()=>{let e=100*p+-16*p+8;return n.createElement("div",{className:"recording_video_controls--volumeSliderContainer--0oq-n"},n.createElement("input",{className:U()("recording_video_controls--volumeSlider--1xB-5",rg.Dm),type:"range",min:"0",max:"1",value:p,onInput:f,onChange:f,step:.02,style:{background:`linear-gradient(to top, var(--color-bg-brand) 0%, var(--color-bg-brand) ${e}%, var(--color-bg) ${e}%, var(--color-bg) 100%)`}}))})()),e.video?n.createElement(sU.A,{"aria-label":(0,er.t)("fullscreen.properties_panel.video_time"),value:e.currentVideoTime,min:0,max:e.video.duration,step:.01,bigStep:.1,onChange:o}):null,e.video?n.createElement("div",{className:"recording_video_controls--timestampContainer--eEV8y"},n.createElement("div",{className:"recording_video_controls--currentTime--IZSk-"},d.format(e.currentVideoTime)),n.createElement("div",{className:"recording_video_controls--timeSlash--oc9n4"},"/"),n.createElement("div",{className:"recording_video_controls--totalTime--rSunR"},d.format(c))):null)}let sW="recording_replay_focus_ui--horizontalBorder--zGACo",sj="recording_replay_focus_ui--verticalBorder--S7hWd",sq="recording_replay_focus_ui--invertedCorner--o-B-F";var sY=a(234024),sX=a(622711);let sJ=(0,j.eU)([]);function sZ(e){let[t,a]=n.useState(void 0),[l,i]=n.useState(void 0),[o,s]=n.useState(!1),[c,d]=n.useState(!1),[m,p]=n.useState(!1),[_,f]=n.useState(!0),[g,h]=n.useState(0),E=n.useRef(null),y=n.useRef(void 0),v=n.useRef(nJ.D.getState().mirror.appModel.showUi),b=n.useRef(!nJ.D.getState().mirror.appModel.hideMultiplayerCursors),C=(0,eC._6)(),w=(0,r.wA)(),k=n.useContext(sv.q5),x=e.recording.id===sx.xP,[T,N]=(0,u.fp)(sJ),S=(0,ey.q5)();n.useEffect(()=>{v.current&&tZ.Y5.triggerAction("toggle-ui"),b.current&&tZ.Y5.triggerAction("toggle-multiplayer-cursors"),x?p(!0):(w((0,sk._b)({type:sk.wk.Recording})),d(!0))},[w,x]),n.useEffect(()=>{if(e.recording&&c){if(e.recording.fileVersionId.status===sy.tT.Loaded){let t=e.recording.fileVersionId.data,a=T.find(e=>e.id===t);a?(w((0,sk.Nb)({id:t,versions:[a]})),p(!0)):sT.W.getVersion({fileKey:e.recording.fileKey,versionId:e.recording.fileVersionId.data}).then(e=>{N(T.concat(e.data.meta.version))}).catch(()=>{w(sb.s.error((0,er.t)("recordings.replay_ui_canvas_loading_error")))})}else p(!0)}},[c,e.recording,w,T,N]),n.useEffect(()=>()=>{p(!1),a(void 0),i(void 0),s(!0),f(!0),h(0),y.current&&(clearInterval(y.current),y.current=void 0)},[e.recording.id,S]),n.useEffect(()=>{e.recording&&fetch(e.recording.positionInfoSignedUrl).then(e=>e.arrayBuffer()).then(e=>{let t=new Uint8Array(e);a(JSON.parse(new TextDecoder().decode(t)))})},[e.recording]);let I=n.useCallback(()=>{if(!E.current||!t)return;let e=1e3*E.current.currentTime,a=sh()(t,{...sx.rv,msSinceRecordingStart:e},e=>e.msSinceRecordingStart);a>=t.length&&(a=t.length-1),i(t[a])},[t]),A=n.useCallback(()=>{y.current=setInterval(I,sx.c6),s(!0)},[I]),L=n.useCallback(()=>{clearInterval(y.current),y.current=void 0,s(!1)},[]),O=n.useCallback(()=>{E.current&&(h(E.current.currentTime),I())},[I]),M=n.useCallback(()=>{x?k.abortRecording():(w((0,sk.Eg)()),v.current&&tZ.Y5.triggerAction("toggle-ui"),b.current&&tZ.Y5.triggerAction("toggle-multiplayer-cursors"),w(sw.UU()));let e={...C,walkthroughRecordingId:void 0};w((0,ec.$T)(e))},[w,C,k,x]),P=n.useCallback(()=>{x||(sN.F.deleteWalkthroughMedia(e.recording.id).then(()=>{w(rY.F.enqueue({message:(0,er.t)("recordings.recording_deleted")}))}),(0,sF.$F)(S,sF.ed.DELETED,e.recording.id)),M()},[w,x,e.recording.id,M,S]),R=n.useCallback(()=>{w((0,io.to)({type:sD.p,data:{onConfirm:P}}))},[w,P]),D=n.useCallback(()=>{x?R():M()},[M,R,x]),F=n.useRef(null);return t&&m?n.createElement(n.Fragment,null,n.createElement("div",{className:"recording_replay_focus_ui--container--mnVy4"},n.createElement("div",{className:sW}),n.createElement(aX.vx,{initialPosition:new a6.Mi(26,76),initialConstraints:{x:"left",y:"bottom"}},n.createElement("div",{className:e.recording.meta.audioOnly?"recording_replay_focus_ui--audioOnlyContainer--WUXCP":"recording_replay_focus_ui--videoContainer--IQLLd"},n.createElement("video",{className:e.recording.meta.audioOnly?"recording_replay_focus_ui--audio--Z5Gby":"recording_replay_focus_ui--video--sHfm6",src:e.recording.userMediaSignedUrl,autoPlay:!0,controls:!1,onPlay:A,onPause:L,onTimeUpdate:O,ref:E}))),n.createElement(s3,{recording:e.recording,onClose:D,openDeleteConfirmationModal:R}),n.createElement("div",{className:"recording_replay_focus_ui--centerContainer--lOLAW"},n.createElement("div",{className:sj}),n.createElement("div",{className:"recording_replay_focus_ui--viewportContainer--EYq-7",ref:F},n.createElement("div",{className:"recording_replay_focus_ui--centerInfoBox--ukCZp"},n.createElement(ea.B,{svg:sY.A,className:sq}),n.createElement("div",{className:"recording_replay_focus_ui--followingInfoBox--NPeez"},n.createElement("div",{className:"recording_replay_focus_ui--followingInfoBorderOffset--5fEDC"},n.createElement("div",{className:"recording_replay_focus_ui--followingUserText--bGWg7"},(0,er.tx)(_?"recordings.following_name":"recordings.not_following_name",{name:e.recording.creator.handle})),n.createElement("button",{onClick:()=>f(!_),className:"recording_replay_focus_ui--followingButton--irarm"},(0,er.tx)(_?"recordings.stop_following":"recordings.follow")))),n.createElement(ea.B,{svg:sX.A,className:sq}))),n.createElement("div",{className:sj})),n.createElement("div",{className:"recording_replay_focus_ui--bottomBar--bt2XX"},n.createElement("div",{className:sj}),n.createElement("div",{className:"recording_replay_focus_ui--recordingControls--EuG0k"},n.createElement(sz,{onPause:L,onPlay:A,onTimeUpdate:O,video:E.current,isPlaying:o,currentVideoTime:g,lengthMs:e.recording.meta.lengthMs.status===sy.tT.Loaded?e.recording.meta.lengthMs.data:0}),e.recording.id===sx.xP&&n.createElement(s1,{openDeleteConfirmationModal:R,onCloseConfirmed:M})),n.createElement("div",{className:sj})),n.createElement("div",{className:sW})),n.createElement(s2,{replayPosition:l,isFollowingViewport:_,setIsFollowingViewport:f,viewportDivRef:F}),n.createElement(s5,{recording:e.recording,replayPosition:l,isReplayPlaying:o})):null}function sQ(e){return e.recordingId===sx.xP?n.createElement(s$,null):n.createElement(s0,{recordingId:e.recordingId})}function s$(){let e=n.useContext(sv.q5),t=(0,ew.iZ)(),a=e.getRecordingDataForSinatraCreate(),r=n.useMemo(()=>a&&t?{fileKey:a.fileKey,positionInfoSignedUrl:URL.createObjectURL(a.recordedPositions),userMediaSignedUrl:URL.createObjectURL(a.userMediaRecording),id:sx.xP,fileVersionId:{status:sy.tT.Loaded,data:a.fileVersionId},creator:{id:t.id,handle:t.handle,imgUrl:t.img_url},meta:{title:"",audioOnly:a.isAudioOnly,lengthMs:{status:sy.tT.Loaded,data:a.lengthMs}}}:null,[a,t]);return r?n.createElement(sZ,{recording:r}):null}function s0(e){let t=(0,sE.Rs)(e0.hzQ,{id:e.recordingId}),a="loaded"===t.status&&t.data.walkthroughMedia;return a?n.createElement(sZ,{recording:a}):null}function s1(e){let t=(0,r.wA)(),a=n.useContext(sv.q5).getRecordingDataForSinatraCreate(),l=(0,ey.q5)(),i=()=>{(0,sF.Q3)(l,sF.ZP.RECORDING_SAVED),e.onCloseConfirmed()};return a?n.createElement("div",{className:"recording_replay_focus_ui--newRecordingBottomControls--28MRy"},n.createElement(S.K,{onClick:e.openDeleteConfirmationModal,"aria-label":(0,er.t)("recordings.delete_recording_title")},n.createElement(sf.i,{className:"recording_replay_focus_ui--icon---MLcx"})),n.createElement(eU.$n,{onClick:()=>{a&&t((0,io.to)({type:sR,data:{...a,onRecordingSaved:i}}))}},(0,er.tx)("recordings.save_recording"))):null}function s2(e){let t=n.useContext(ih.kw),a=n.useRef(!1),{setIsFollowingViewport:r}=e;return n.useEffect(()=>{let t=()=>{r(!1)},n=t=>{if(!e.viewportDivRef.current)return;let n={x:t.clientX,y:t.clientY},r=e.viewportDivRef.current.getBoundingClientRect();(0,a6.gR)(r,n)&&(a.current=!0)},l=()=>{a.current=!1},i=()=>{a.current&&(r(!1),a.current=!1)},o=e.isFollowingViewport;return o&&(document.addEventListener("wheel",t),document.addEventListener("mousedown",n),document.addEventListener("mouseup",l),document.addEventListener("mousemove",i)),()=>{o&&(document.removeEventListener("wheel",t),document.removeEventListener("mousedown",n),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",i))}},[e.isFollowingViewport,r,e.viewportDivRef]),n.useEffect(()=>{!e.replayPosition||!e.isFollowingViewport||(0,sx.s0)(t.getViewportInfo(),e.replayPosition.viewportPath,1)||t.navigateTo({x:e.replayPosition.viewportPath.offsetX,y:e.replayPosition.viewportPath.offsetY},e.replayPosition.viewportPath.zoomScale,{duration:0,delay:0})},[e.replayPosition,e.isFollowingViewport,t]),null}function s5(e){let t=(0,sI.b)(),a=n.useCallback(e=>{t.moveCursorBot({x:e.x,y:e.y,coordinateType:"canvas",animationDuration:0})},[t]);n.useEffect(()=>{e.replayPosition&&a({x:e.replayPosition.mousePositionPath.x,y:e.replayPosition.mousePositionPath.y})},[a,e.replayPosition]);let r=n.useCallback(()=>{e.replayPosition&&a({x:e.replayPosition.mousePositionPath.x,y:e.replayPosition.mousePositionPath.y})},[a,e.replayPosition]);return(0,nt.D6)({subscribeToUpdates_expensive:!e.isReplayPlaying},r),n.createElement(sS.Yh,{manualControl:!0,name:e.recording.creator.handle})}function s3(e){let t=(0,ew.iZ)(),a=(0,sB.aW)(),r=n.useRef(null),l="context"+e.recording.id,i=(0,eh.BK)(l),o=(0,ey.q5)(),{onClose:s,openDeleteConfirmationModal:c}=e,d=e.recording.id===sx.xP,u=n.useMemo(()=>{let a=[];return t&&e.recording.creator.id===t.id&&e.recording.id!==sx.xP&&a.push(n.createElement(J.c$,{key:"delete",onClick:c},(0,er.tx)("recordings.delete_recording_title"))),a},[t,e.recording.creator,c,e.recording.id]),m=n.useCallback(()=>{a(e.recording.id),(0,sF.$F)(o,sF.ed.LINK_COPIED,e.recording.id)},[a,e.recording.id,o]);return n.createElement("div",{className:"recording_replay_focus_ui--headerRow--Q62zp"},n.createElement("div",{className:sj}),n.createElement("div",{className:"recording_replay_focus_ui--header--zTtko"},n.createElement("div",null,e.recording.meta.title),n.createElement("div",{className:"recording_replay_focus_ui--headerButtonGroup--Jn6a-"},u.length>0&&n.createElement("div",null,n.createElement(rT.YW,{style:i.showing?{backgroundColor:"var(--color-bg-hover)"}:void 0,selected:i.showing,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("fig_feed.more_actions"),onClick:i.toggle,ref:r},n.createElement(sC.In,{icon:"dots-32"})),r.current&&i.showing&&n.createElement(eM.Jz,{showPoint:!1,targetRect:r.current.getBoundingClientRect(),options:u,closeDropdown:i.hide,hideDropdown:i.hide})),!d&&n.createElement(S.K,{onClick:m,"aria-label":(0,er.t)("recordings.copy_link")},n.createElement(sC.In,{icon:"hyperlink-32"})),n.createElement(S.K,{onClick:s,"aria-label":(0,er.t)("general.close")},n.createElement(sC.In,{icon:"x-32"})))),n.createElement("div",{className:sj}))}var s4=a(52354),s6=a(794272),s7=a(877953),s8=a(361365),s9=a(224690),ce=a(894742),ct=a(282263),ca=a(533573),cn=a(15270),cr=a(656963),cl=a(315072),ci=a(424148);let co=2*(0,V.jz)(ty.dGl);var cs=(e=>(e.COMPONENT_PROP="Property",e.VARIABLE="Variable",e))(cs||{});function cc({initialPosition:e,initialVariableValue:t,resolvedType:a,refField:r,recordingKey:l,onCreateComponentPropSubmit:i,onCreateVariableSubmit:s,onClose:c}){let u=(0,n.useRef)(null);(0,aq.oN)(u);let m=(0,s7.C)("fpl_variables_button_migration"),[p,_]=(0,n.useState)("Property"),f=(0,n.useCallback)(()=>"Property"===p,[p]),g=(0,ca.WB)(a),h=(0,s6.R)(e=>(0,s9.vS)(e,g,r)),E=t??(0,cn.WI)(a),[y,v]=(0,n.useState)({propName:h,varValue:E}),[b,C]=(0,n.useState)({varName:f()?h:"",varValue:E,varSetID:null}),w=n.useMemo(()=>f()&&y?y.propName.length>0:!!b.varName&&o.CWU.isValidVariableName(b.varName,b.varSetID??null),[y,f,b.varName,b.varSetID]),k=aH.of(l,"submit",()=>{f()&&y?i(y):b&&s({varName:b.varName,varValue:b.varValue,varSetID:b.varSetID??null})});return(0,d.kc)().ds_variable_props_unified_ui?n.createElement(aX.vx,{title:n.createElement("div",{className:cl.h$},(0,er.tx)("variables.create_modal.component_property_or_variable_title")),initialPosition:e,initialWidth:aq.iG,onClose:c},n.createElement("form",{onSubmit:k,autoComplete:"no"},n.createElement(az.Y,{direction:"vertical",spacing:0,height:"hug-contents",ref:u},n.createElement(az.Y,{direction:"vertical",spacing:`${(0,V.jz)(ty.dGl)}px`,padding:{top:co},height:"hug-contents"},n.createElement(aq.$p,{label:(0,er.tx)("variables.create.title"),input:n.createElement("div",{className:cl.hF},n.createElement(cu,{selectedType:p,onChange:_}))}),f()?n.createElement(cd,{recordingKey:"createComponentPropForm",setComponentPropSubmitData:v,componentPropSubmitData:y,resolvedType:a}):n.createElement(aq.hG,{recordingKey:l??"",initialVarValue:t,resolvedType:a,setVariableFormSubmitData:C,variableFormSubmitData:b}))),n.createElement(az.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},m?n.createElement(eU.$n,{type:"submit",disabled:!w,recordingKey:aH.Pt(l,"createButton"),htmlAttributes:{"data-tooltip":(0,er.t)("variables.create_modal.invalid_variable_name"),"data-tooltip-type":w?void 0:eI.Ib.TEXT}},f()?(0,er.tx)("variables.create_modal.create_component_property"):(0,er.tx)("variables.create_modal.create_file_variable")):n.createElement(Z.$$,{style:{justifySelf:"right"},tabIndex:0,type:"submit",disabled:!w,recordingKey:aH.Pt(l,"createButton"),"data-tooltip-type":w?void 0:eI.Ib.TEXT,"data-tooltip":(0,er.t)("variables.create_modal.invalid_variable_name")},n.createElement("span",null,f()?(0,er.tx)("variables.create_modal.create_component_property"):(0,er.tx)("variables.create_modal.create_file_variable")))))):null}function cd({recordingKey:e,setComponentPropSubmitData:t,componentPropSubmitData:a,resolvedType:r}){let l=(0,n.useRef)(null);(0,W.h)(()=>{l.current?.select()});let i=e=>{e.type===o.Z_n.ALIAS&&e.resolvedType===o.rXF.STRING&&(e.resolvedType=o.rXF.TEXT_DATA),t({propName:a.propName,varValue:e})},s=(0,aq.J7)(a.varValue,r,i),c=(0,aq.Fr)(a.varValue);return n.createElement(n.Fragment,null,n.createElement(aq.$p,{label:(0,er.tx)("variables.create_modal.name_label"),input:n.createElement($.L,{className:cl._Z,name:"propName",value:a.propName,onChange:e=>{t({propName:e.target.value,varValue:a.varValue})},ref:l,recordingKey:aH.Pt(e,"componentPropNameInput"),delay:50,"data-1p-ignore":!0,autoFocus:!0})}),n.createElement(aq.$p,{label:(0,er.tx)("variables.create_modal.value_label"),input:(0,d.kc)().ds_variable_props_binding?n.createElement("div",{className:cl.hF},n.createElement(ct.Cr,{resolvedType:r,variableValue:a.varValue,onVariableValueChange:i,onVariableSelected:s},n.createElement(cr.g,{variableValue:a.varValue,contextType:ce.$.FORM,onChange:i,recordingKey:aH.Pt(e,"variableValueInput")}),c&&n.createElement(nl.K0,{svg:ci.A,type:"button","data-tooltip-type":eI.Ib.TEXT,"data-tooltip":(0,er.t)("variables.authoring_modal.table.detach_alias"),onClick:()=>i(c),recordingKey:aH.Pt(e,"detachVariableButton")}))):n.createElement(cr.g,{variableValue:a.varValue,contextType:ce.$.FORM,onChange:i,recordingKey:aH.Pt(e,"variableValueInput"),innerContainerClassName:cl._Z})}))}function cu({selectedType:e,onChange:t}){let a=(0,r.wA)(),l=(0,eh.Um)();return n.createElement(eR.l6,{id:"variable-and-component-prop-create-modal-select",property:e,formatter:{format:e=>e},dispatch:a,chevronClassName:cl.mL,inputClassName:cl.NI,dropdownShown:l,onChange:e=>t(e)},n.createElement(eR.c$,{value:"Property"}),n.createElement(eR.c$,{value:"Variable"}))}var cm=a(29808);let cp={VariableCreateModalRoot:aq.IU,VariableAndStyleCreateModalRoot:function({initialPosition:e,initialVariableValue:t,inheritStyleKeyField:a,initialStyleCreationPaint:l,initialView:i,resolvedType:s,onCreateVariable:c,onCreateStyle:d,onClose:u,disableStyleModal:m}){(0,aY.NF)({resolvedType:s});let{onCreateVariableSubmit:p,onCreateStyleSubmit:_}=function({onCreateVariable:e,onCreateStyle:t,onClose:a}){let{onCreateVariableSubmit:n}=(0,aq.C_)({onCreateVariable:e,onClose:a}),l=(0,ey.tS)(),i=(0,ey._G)(),s=(0,r.d4)(e=>e.mirror.sceneGraph);return{onCreateVariableSubmit:n,onCreateStyleSubmit:function(e){let n=function(e){let t=o.glU.getStyleNodeId(e.key,e.version),a=s.get(t);return a?{type:aW.PW.STYLE,name:a.name,file_key:l??"",file_key_source:aK.Ps.LOCAL_FILE,library_key:i??(0,aU.l)(""),key:a.styleKey,thumbnail_url:"",canvas_url:"",content_hash:a.styleVersionHash??void 0,userFacingVersion:(0,aB.IA)(a.userFacingVersion),node_id:a.guid,isLocal:!0,style_type:a.styleType}:null}(e);n&&(t(n),a())}}}({onCreateVariable:c,onCreateStyle:d,onClose:u});return n.createElement(aQ,{initialPosition:e,initialVariableValue:t,inheritStyleKeyField:a,initialStyleCreationPaint:l,initialView:i,resolvedType:s,onCreateStyleSubmit:_,onCreateVariableSubmit:p,onClose:u,recordingKey:"createVariableAndStyleModal",disableStyleModal:m})},VariableAndComponentPropCreateModalRoot:function({initialPosition:e,initialVariableValue:t,refField:a,resolvedType:r,onCreateVariable:l,onClose:i}){(0,aY.NF)({resolvedType:r});let{onCreateVariableSubmit:o,onCreateComponentPropSubmit:s}=function({onCreateVariable:e,onClose:t,resolvedType:a,refField:n}){let{onCreateVariableSubmit:r}=(0,aq.C_)({onCreateVariable:e,onClose:t}),{onCreateComponentPropSubmit:l}=function(e,t,a){let n=(0,ca.WB)(t),r=(0,s8.DD)({propType:n,refField:a});return{onCreateComponentPropSubmit:t=>{r(t.propName,t.varValue.value,t.varValue),e()}}}(t,a,n);return{onCreateVariableSubmit:r,onCreateComponentPropSubmit:l}}({onCreateVariable:l,onClose:i,resolvedType:r,refField:a});return n.createElement(cc,{initialPosition:e,initialVariableValue:t,resolvedType:r,refField:a,onCreateVariableSubmit:o,onCreateComponentPropSubmit:s,onClose:i,recordingKey:"createVariableAndComponentPropModal"})},VARIABLE_CREATE_MODAL_WIDTH_PX:aq.iG};function c_(){let e=(0,r.d4)(e=>e.selectedView),t=(0,r.d4)(e=>e.openFile?.key),a=(0,r.d4)(e=>e.progressBarState.mode),i=(0,r.d4)(e=>(0,tX.pi)({editorType:tJ.d1(e)?.editor_type})),u=a!==o.Oin.HIDE_UI&&a!==o.Oin.ON_AND_LOCKED,m=(0,ey.q5)(),p=(0,n_.jY)(),_=(0,t6.BI)(),f=(0,eT.ut)(o.Ez5?.slidesToolMode(),o.EMA.SLIDES);(0,n.useEffect)(()=>(document.body.dataset.editorTheme=(0,ar.ju)(e,f),()=>{delete document.body.dataset.editorTheme}),[e,f]),(0,em.Ou)(),(0,em.fq)(),(0,tW.c)(),function(){let e="ui3"===(0,tY.DP)().version,{isPropertiesPanelCollapsed:t,setPropertiesPanelCollapsed:a}=(0,tq.iT)(),l=(0,eL.Ye)(),i=(0,eE.ax)(),s=(0,eE.dH)(),c=s===o.NLJ.FRAME||s===o.NLJ.COMMENTS||s===o.NLJ.VECTOR_PENCIL,d=(0,r.d4)(e=>e.mirror.appModel.activeUserAction===o.QOV.DEFAULT),u=(0,tq.ys)();(0,n.useEffect)(()=>{e&&d&&t&&(c||i)&&a(!1)},[i,d,s,e,a,t,l,c]),(0,n.useEffect)(()=>{u&&a(!0)},[u,a,t])}(),(0,eu.V)(),(0,n.useEffect)(()=>{u&&t&&p&&(tZ.Y5.onReady().then(()=>{o.h3O.sendSignal("client-rendered","")}),window.requestAnimationFrame(()=>{s.eD?.addTabAnalyticsMetadata({reactFullscreenViewRenderTime:window.performance.now()}),t3.xK.reactFullscreenViewIsRendered(),t3.xK.report(t,i),function(){let e=(0,t5.dX)("fullscreen");if(!e)return;let t=(0,t2.ap)()?e.getContext("webgl2"):e.getContext("webgl");if(!t||!window.expectedWebGLContextAttributes)return;let a=t.getContextAttributes();if(!a)return;let n=o.CeL?.getDeviceInfo()??{vendor:"",renderer:"",version:""},r={};for(let e of Object.keys(a))r[`actual_${e}`]=a[e];let l={},i=!0;for(let e of Object.keys(window.expectedWebGLContextAttributes))a[e]!==window.expectedWebGLContextAttributes[e]&&(i=!1),l[`expected_${e}`]=window.expectedWebGLContextAttributes[e];let s={...r,...l,...n,are_context_attributes_correct:i};(0,H.sx)("fullscreen_load_gpu_parameters",s)}()}))},[u,t,i,p]);let g=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);(0,n.useEffect)(()=>{_?.handleCompleteInitialLoad&&g&&_.handleCompleteInitialLoad()},[_,g]);let[h,E]=(0,n.useState)(!1),y=(0,r.d4)(e=>e.mirror.appModel.isReadOnly);(0,n.useEffect)(()=>{_?.updateReadOnly&&g&&!h&&(E(!0),_.updateReadOnly(y))},[_,g,h,E,y]);let T=(0,c.ZC)(m),N=(0,r.d4)(e=>e.mirror.appModel.pagesList),S=(0,n.useMemo)(()=>N.map(e=>({id:e.nodeId,name:e.name})),[N]),I=(0,c.ZC)(S),A=(0,r.d4)(e=>e.mirror.appModel.currentPage),L=(0,c.ZC)(A);(0,n.useEffect)(()=>{_?.updatePages&&m&&(!T||m.key!==T.key||m.name!==T.name||m.editorType!==T.editorType||m.isTryFile!==T.isTryFile||!(0,l.deepEquals)(S,I)||A!==L)&&_.updatePages({fileKey:m.key,fileName:m.name,editorType:m.editorType,isTryFile:m.isTryFile,pages:S.length>0?S:[{id:A,name:"Page 1"}],currentPageId:A})},[_,m,T,S,I,A,L]);let O=(0,t7.WC)();(0,n.useEffect)(()=>{_?.updateWebOverlaysShown&&_.updateWebOverlaysShown(O)},[_,O]);let M=(0,ae.o3)(ae.nt.customKeyboardShortcuts);(0,n.useEffect)(()=>{(0,d.kc)().ce_custom_keyboard_shortcuts&&o.glU.reloadKeyboardShortcuts()},[M]);let P=(0,r.d4)(e=>e.multiplayer.allUsers),R=(0,r.d4)(e=>e.multiplayer.observingSessionID),D=(0,r.d4)(e=>e.multiplayer.presenterSessionID),F=(0,r.d4)(e=>e.multiplayer.deviceNameFilter),B=(0,r.d4)(e=>e.multiplayer.sessionID),U=(0,n.useMemo)(()=>{let{users:e}=(0,t8.Yp)(P,null,!1,1048576,{sessionID:B,observingSessionID:R,presenterSessionID:D,deviceNameFilter:F});return{sessionID:B,observingSessionID:-1!==R?R:null,presenterSessionID:-1!==D&&D||null,users:e}},[P,F,R,D,B]),G=(0,c.ZC)(U);return(0,n.useEffect)(()=>{_?.updateMultiplayerUserInfo&&!(0,l.deepEquals)(G,U)&&_.updateMultiplayerUserInfo(U)},[_,U,G]),(0,al.iA)(),!function(){let e=(0,v.U4)(),t=(0,v._I)(),a=(0,b.D)(),r=(0,k.ks)(),l=(0,C.ow)(),i=(0,x.U)("permission",!0),s=r&&!t&&!e&&!(0,w.T)();(0,n.useEffect)(()=>{l||(o.w3z.setCanAccessDevMode(t),o.w3z.setCanEnterDevMode(e),o.w3z.setShowWorkflowsControls(a))},[t,e,a,l]),(0,n.useEffect)(()=>{s&&i("design")},[i,s])}(),null}function cf(){let e=(0,C.ow)(),t=(0,n_.sO)(),a=(0,nX.cJ)(),l=(0,f.g)(),i=(0,t6.BI)(),o=(0,r.d4)(e=>e.selectedView);return(0,r.d4)(e=>e.isFullscreenDocumentLoaded)&&(0,d.kc)().async_spotlight&&"fullscreen"===o.view&&o.walkthroughRecordingId?n.createElement(sQ,{recordingId:o.walkthroughRecordingId}):e?n.createElement(n.Fragment,null,n.createElement(oy,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nW.K,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nj,null)):t?n.createElement(n.Fragment,null,n.createElement(r_,null),n.createElement(cE,null)):a?n.createElement(n.Fragment,null,n.createElement(nq.H5,null),n.createElement(cE,null)):l?n.createElement(n.Fragment,null,n.createElement(_.N8,null),n.createElement(cE,null)):(0,k.$A)(o)?n.createElement(E.w,null):(0,T.Wl)(o)||(0,h.K2)(o)?null:n.createElement(n.Fragment,null,n.createElement(ch,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nW.K,null),!!i?.shouldOptimizeForIpadApp&&n.createElement(nj,null))}function cg(){let e=(0,r.d4)(a0.xY),t=(0,r.d4)(e=>e.mirror.appModel.currentPage),a=(0,T.l7)(),l=(0,h.HQ)();return n.createElement(n.Fragment,null,n.createElement(cf,null),n.createElement(c_,null),e&&n.createElement(nO,{viewerControl:nz,pageId:t}),(0,d.kc)().livefish&&(0,d.kc)().sites&&n.createElement(nY.S,null),a&&n.createElement(p.tH,{boundaryKey:"DevModeOverview",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:i.FigmaTeam.DEVELOPER_TOOLS},hasCustomWASMBuild:t4.y4},n.createElement(tP,null)),l&&n.createElement(p.tH,{boundaryKey:"Dakota",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:i.FigmaTeam.CMS},hasCustomWASMBuild:t4.y4},n.createElement(g.e4,null)))}let ch=n.memo(function(){let e=(0,r.d4)(e=>e.mirror.appModel),t=(0,eE.ax)(),{topLevelMode:a}=e,l=(0,eE.dH)();return(0,t9.z)({topLevelMode:o.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),n.useEffect(()=>{t&&a===o.lyf.PREVIEW&&l!==o.NLJ.COMMENTS&&(0,eg.NT)(o.FAf.INSPECT)},[t,a,l]),n.createElement(n.Fragment,null,n.createElement(cE,null),n.createElement(cy,null))}),cE=n.memo(function(){let e=(0,r.wA)(),t=(0,r.d4)(e=>(0,aa.getPermissionsState)(e)),a=(0,eE.aV)(),l=(0,tQ.q)(),i=(0,r.d4)(e=>e.loadingState),s=(0,r.d4)(e=>e.mirror.appModel),c=(0,u.md)(an.wm),d=(0,r.d4)(e=>e.mirror.sceneGraphSelection),_=(0,r.d4)(e=>e.mirror.selectionPaints),g=(0,r.d4)(e=>e.mirror.selectionProperties),h=(0,r.d4)(e=>e.mirror.selectedStyleProperties),E=(0,r.d4)(e=>e.currentUserOrgId),y=(0,r.d4)(e=>e.dropdownShown),v=(0,r.d4)(e=>e.fonts),b=(0,r.d4)(e=>e.fileVersion),C=(0,r.d4)(e=>e.installedPluginVersions),w=(0,r.d4)(e=>e.library),k=(0,r.d4)(e=>e.localPlugins),x=(0,r.d4)(e=>e.modalShown),T=(0,r.d4)(e=>e.multiplayer),N=(0,r.d4)(e=>e.openFile),S=(0,r.d4)(e=>e.pickerShown),I=(0,r.d4)(e=>e.pickerInStyleCreationShown),A=(0,r.d4)(e=>e.publishedPlugins),L=(0,r.d4)(e=>e.saveAsState),O=(0,r.d4)(e=>e.selectedView),M=(0,r.d4)(e=>e.voice.showWidget),P=(0,r.d4)(e=>e.stylePickerListLayout),R=(0,r.d4)(e=>e.stylePickerShown),D=(0,r.d4)(e=>e.stylePreviewShown),F=(0,r.d4)(e=>e.styleSets),B=(0,r.d4)(e=>e.usedKeyboardShortcuts),U=(0,r.d4)(e=>e.user),G=(0,r.d4)(e=>e.userFlags),H=(0,r.d4)(e=>e.userStateLoaded),V=(0,r.d4)(e=>e.repos),K=(0,r.d4)(e=>e.folders),z=(0,r.d4)(e=>e.teams),W=(0,r.d4)(e=>e.orgById),j=(0,r.d4)(e=>e.orgDraftsOwners),q=(0,r.d4)(e=>e.orgUsersByOrgId),Y=(0,r.d4)(e=>e.userEduGracePeriods),X=(0,r.d4)(e=>e.licenseGroups),{topLevelMode:J}=s,Z=a?t0.R.topLevelMode:J,Q=(0,eT.ut)(o.Ez5?.uiState().isRecovery,!1),$=(0,lt.R)(),ee=(0,eT.ut)(o.Ez5?.slidesToolMode(),o.EMA.SLIDES),et=(0,eT.ut)(o.Ez5?.cooperToolMode(),o.iN$.COOPER),ea=(0,n_.sO)(),en=(0,nX.cJ)(),er=(0,f.g)(),el=Z===o.lyf.LAYOUT||Z===o.lyf.BRANCHING||Q||!!U&&Z===o.lyf.PREVIEW||$&&Z===o.lyf.HISTORY,ei=(0,at.VP)(i,"edit_button_upgrading_to_edit"),eo=a||ei,es=(0,eT.ut)((0,eg.aY)(),o.FAf.DESIGN),ec=(0,eT.J2)(o.Ez5.propertiesPanelState().shownPropertiesPanels),ed=(0,eT.J2)(o.Ez5.propertiesPanelState().strokePanelMode),em=(0,eT.J2)(o.Ez5.propertiesPanelState().strokePanelTerminalPointCount),ep=(0,eT.J2)((0,e_.UK)().expandedFramePresetType),ef=(0,e_.Ku)(),eh=(0,e_.qw)(),ey=(0,eu.b)(),ev=(0,eT.J2)(o.Ez5.uiState().showPropertiesPanel);(0,tq.tt)();let eb=!(0,tj.Oo)()&&$&&ev,eC=(0,eT.J2)((0,e_.UK)().renderRulers),{isRightPanelCollapsed:ew}=(0,n.useContext)(oW.t),{inProductHelpViewType:ek}=(0,oY.A5)(),ex=(0,eT.J2)(o.Ez5.uiState().inProductHelpSidePanelWidth),eN=(0,t1.Tn)(),eS=(0,t1.qM)(),eI=(0,n.useMemo)(()=>en?es===o.FAf.DESIGN||es===o.FAf.SITE?o.FAf.SITE:es:ea?es===o.FAf.DESIGN||es===o.FAf.SLIDE?ee===o.EMA.SLIDES?o.FAf.SLIDE:o.FAf.DESIGN:es:er&&(es===o.FAf.DESIGN||es===o.FAf.COOPER)?et===o.iN$.COOPER?o.FAf.COOPER:o.FAf.DESIGN:es,[en,ea,er,es,ee,et]);return(0,n.useEffect)(()=>{eI!==es&&eg.aY()?.set(eI)},[eI,es]),n.createElement(p.tH,{boundaryKey:"PropertiesPanel",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING},el&&l&&n.createElement(cm.l.Provider,{value:cp},n.createElement(s_.Q,{recordingKey:"propertiesPanel",isCollapsed:ew,propertiesPanelTab:eI,strokePanelMode:ed,strokePanelTerminalPointCount:em,commentsPanel:cv,dispatch:e,isLoading:eo,shouldAnimateLoadingState:a,shouldShowBackgroundGradient:eb,shownPanels:ec,rulersVisible:eC,isInsetEditorEnabled:ey,expandedFramePresetType:ep,colorFormat:ef,propertiesPanelSplitPosition:eh,permissionsState:t,key:(0,m.tw)()??void 0,appModel:s,sceneGraph:c,sceneGraphSelection:d,selectionPaints:_,selectionProperties:g,selectedStyleProperties:h,currentUserOrgId:E,dropdownShown:y,fonts:v,fileVersion:b,allSavedPlugins:C,library:w,localPlugins:k,modalShown:x,multiplayer:T,openFile:N,pickerShown:S,pickerInStyleCreationShown:I,publishedPlugins:A,saveAsState:L,selectedView:O,stylePickerListLayout:P,stylePickerShown:R,stylePreviewShown:D,styleSets:F,usedKeyboardShortcuts:B,user:U,userFlags:G,userStateLoaded:H,repos:V,folders:K,teams:z,orgById:W,orgDraftsOwners:j,orgUsersByOrgId:q,userEduGracePeriods:Y,licenseGroups:X,isUI3:$,showVoiceWidget:M,hasMergedDimensionsAndAutolayout:$,inProductHelpViewType:ek,inProductHelpSidePanelWidth:ex,justChangedMinimizeUIValue:eN,isUIMinimized:eS}),"hidden"!==ek&&n.createElement(sl,{propertiesPanelWidth:eh,isInsetEditorEnabled:ey}),n.createElement(ct.tZ,null)))}),cy=n.memo(function(){let e=o.Ez5.uiState().isRecovery?.getCopy(),t=ey.q5()?.canEdit,a=!(0,t$.ck)()&&t&&(0,d.kc)().dt_dev_mode_discovery_rcs&&!e;return n.createElement(n.Fragment,null,n.createElement(ai.p,null,n.createElement(ao.L,null)),n.createElement(ai.p,{featureFlag:"starting_points_modal"},n.createElement(aD,null)),n.createElement(ai.p,null,n.createElement(s4.e,null)),n.createElement(ai.p,null,a&&n.createElement(y.Q,null)),n.createElement(ai.p,null,n.createElement(oB,null)),n.createElement(ai.p,null,n.createElement(oz,null)),n.createElement(ai.p,{featureFlag:"mobile_prompt_sidebar_modal"},n.createElement(sm,null)),n.createElement(ai.p,null,n.createElement(ay,null)))}),cv=n.memo(function(){let e=(0,eT.ut)((0,eg.aY)(),o.FAf.DESIGN),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),a=!(0,em.GS)()&&(t!==o.lyf.PREVIEW&&e!==o.FAf.COMMENT||t===o.lyf.PREVIEW);return n.createElement(rB.B,{stackHeader:a,hideResolve:!1})})},4051:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(587670);let r=(0,a(288706).um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return n.glU.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},690003:(e,t,a)=>{a.d(t,{GR:()=>I,bu:()=>S});var n=a(411855),r=a(188507),l=a(587670),i=a(534611),o=a(91408),s=a(323762),c=a(966712),d=a(374626),u=a(646240),m=a(939863),p=a(145519),_=a(74505),f=a(457630),g=a(100197),h=a(498606),E=a(4051),y=a(488578),v=a(519048),b=a(677859),C=a(774658);function w(){let e=(0,u.Xr)(E.n),t=n.useCallback(()=>{e({type:"MINIMIZE"})},[e]);return n.createElement(b.K0,{svg:C.A,active:"NONE",tooltip:(0,m.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl"})}var k=a(929021),x=a(860168);function T(e){let t=e.mirror.sceneGraph,a=e.mirror.sceneGraphSelection;if(1!==Object.keys(a).length)return null;let n=t.get(Object.keys(a)[0]);return n&&"WIDGET"===n.type?n:null}function N(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let S=n.memo(function(){let e=(0,r.d4)(N),t=e?.guid,[a,o]=n.useState(null),s=n.useMemo(()=>t&&t!==i.AD?l.glU.getEmbedTypeOfTooltipIcon(t):null,[t]);n.useEffect(()=>{if(!s||!t){o(null);return}let e=(0,_.EE)("embed-tooltip",[t],e=>{o(e?.position||null)});return o(e.currentNodePosition&&e.currentNodePosition[t]?.position||null),()=>{(0,_.lB)("embed-tooltip")}},[t,s]);let c=!!s&&!!a,d=(0,f._X)({subscribeToUpdates_expensive:c}),u=n.useMemo(()=>{if(!a)return{};let e=(0,f.Yb)(d,a),t=e.x+d.x,n=e.y+d.y;return{height:a.height,width:a.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${n}px) rotate(${a.angle}deg) scale(${d.zoomScale})`}},[d,a]);return c?n.createElement("div",{"data-tooltip-type":h.Ib.TEXT,"data-tooltip":"video"===s||"autoplayable_video"===s?(0,m.t)("whiteboard.embeds.tooltip_help_text.video"):"audio"===s||"autoplayable_audio"===s?(0,m.t)("whiteboard.embeds.tooltip_help_text.audio"):"file"===s||"figma"===s?(0,m.t)("whiteboard.embeds.tooltip_help_text.file"):(0,m.t)("whiteboard.embeds.tooltip_help_text.generic"),"data-tooltip-show-above":!0,"data-tooltip-max-width":160,"data-tooltip-timeout-delay":50,"data-tooltip-show-immediately":!0,style:u}):null}),I=n.memo(function(){let e=(0,g.J2)(l.Ez5.embedUiState().activeEmbedData),t=(0,r.d4)(e=>e.mirror.appModel.currentPage?e.mirror.appModel.currentPage:void 0),a=(0,r.d4)(T),i=(0,d.md)(E.n),o=!!e&&a?.guid===e.embedNodeId;return e&&e.embedNodeId&&e.embedThumbnailNodeId&&e.srcUrl&&e.containingCanvasId&&e.containingCanvasId===t?(0,c.kc)().figjam_embeds_allowlist&&!(0,s.Cy)(e.srcUrl)?(console.error("Could not play embed; domain not on allow-list:",e.srcUrl),null):n.createElement(A,{isEmbedMaximized:i,nodeSelected:o,embedThumbnailNodeId:e.embedThumbnailNodeId,srcUrl:e.srcUrl}):null}),A=n.memo(function(e){let{embedThumbnailNodeId:t,nodeSelected:a,srcUrl:r,isEmbedMaximized:i}=e,o=n.useRef(null),s=n.useRef(null),c=n.useRef(null),d=n.useRef(null),u=(0,f._X)({subscribeToUpdates_expensive:!0}),m=function(e,t){let[a,r]=n.useState(!1),[l,i]=n.useState(!1);return n.useEffect(()=>{!e&&l&&i(!1)},[e,l]),n.useEffect(()=>{function e(e){if(t.current){let a=t.current.getBoundingClientRect();e.clientX>a.left&&e.clientX<a.right&&e.clientY>a.top&&e.clientY<a.bottom&&r(!0)}}function n(e){if(t.current&&a){r(!1);let a=t.current.getBoundingClientRect();e.clientX>a.left&&e.clientX<a.right&&e.clientY>a.top&&e.clientY<a.bottom&&i(!0)}}return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",n),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",n)}},[a,t]),l||!a&&e}(a,s);return n.useEffect(()=>{let e=(0,_.EE)("active-embed",[t],e=>{if(!e.position){l.glU.setActiveEmbed("");return}d.current=e.position,M(s,u,d,c,i,m)}),a=e.currentNodePosition[t]?.position;return a?(d.current=a,M(s,u,d,c,i,m)):l.glU.setActiveEmbed(""),()=>{(0,_.lB)("active-embed")}},[t,i,m,u]),n.createElement(n.Fragment,null,n.createElement("div",{className:i?"embed_overlay--maximizedIframePositioner--BvF7x":void 0,ref:s},n.createElement(O,{ref:o,key:t+r,srcUrl:r,autofocus:m})),i&&n.createElement(L,{modalTargetRef:c}))});function L(e){let t=(0,u.Xr)(E.n),{modalTargetRef:a}=e,r=()=>{t({type:"MINIMIZE"})};return n.createElement(y.Nb,{className:"embed_overlay--embedModal--NmRO5",hide:r,disableClickOutsideToHide:!1,disableKeyboardEventPropagation:!0},n.createElement("div",{className:"embed_overlay--embedModalMenuBackground--xwJaH",onMouseDown:r},n.createElement("div",{className:"embed_overlay--embedModalMenuContainer--03E8r",onMouseDown:e=>e.stopPropagation()},n.createElement(b.W1,{testID:"embedMenu"},n.createElement(k.e,{inModal:!0}),n.createElement(w,null),n.createElement(b.wv,null),n.createElement(v.S,{inModal:!0})))),n.createElement("div",{className:"embed_overlay--embedModalContentContainer--jP-31"},n.createElement("div",{ref:a,className:"embed_overlay--embedModalTarget--hxGi-"})))}let O=n.forwardRef(function(e,t){let a=(0,r.wA)(),[i,o]=n.useState(!1),s=n.useRef(null),{srcUrl:c,autofocus:d}=e;return n.createElement("div",{className:"embed_overlay--loadingIFrameContainer--FIfGE"},!i&&n.createElement("div",{className:"embed_overlay--iframeLoadingPlaceholder--uAVFk"}),n.createElement("iframe",{key:c,ref:t||s,"data-embed-iframe":!0,className:`embed_overlay--iframe--FcmB0${i?"":" embed_overlay--iframeHidden--xwbj9"}`,src:c,onLoad:()=>{let e=t&&t.current||s.current;e&&d&&e.focus(),o(!0)},onMouseOver:()=>{l.h3O?.sendChatMessage("",""),a(p.Ho())},frameBorder:"0",allowFullScreen:!0,title:(0,m.t)("whiteboard.embeds.embed_overlay_iframe_title")}))});function M(e,t,a,n,r,l){if(!e.current||!t||!a.current)return;let i=e.current,o=a.current;if(r){if(!n.current)return;let e=n.current.getBoundingClientRect();i.style.position="fixed",i.style.height=`${e.height}px`,i.style.width=`${e.width}px`,i.style.transform=`translate(${e.x}px, ${e.y}px)`,i.style.pointerEvents="all"}else{let e=(0,f.Yb)(t,o);i.style.position="fixed",i.style.height=`${o.height}px`,i.style.width=`${o.width}px`,i.style.transform=`translate(${e.x+t.x}px, ${e.y+t.y}px) rotate(${o.angle}deg) scale(${t.zoomScale})`,i.style.transformOrigin="top left",l?i.style.pointerEvents="all":i.style.pointerEvents="none"}}(0,o.hG)(x.tui)},933484:(e,t,a)=>{a.d(t,{_:()=>d});var n=a(411855),r=a(587670),l=a(574176),i=a(396719),o=a(74505),s=a(457630),c=a(60815);let d=n.memo(function(e){let{nodeId:t}=e,a=n.useRef(null),l=n.useRef(null),i=(0,s._X)({subscribeToUpdates_expensive:!0});return n.useEffect(()=>{let e=(0,o.EE)(`loading-embed-${t}`,[t],e=>{if(!e.position){r.glU.removeLoadingEmbed(t);return}l.current=e.position,m(a,i,l)}),n=e.currentNodePosition[t]?.position;return n?(l.current=n,m(a,i,l)):r.glU.removeLoadingEmbed(t),()=>{(0,o.lB)(`loading-embed-${t}`)}},[t,i]),n.createElement("div",{ref:a},n.createElement(u,null))});function u(){return n.createElement("span",{className:"loading_embed_overlay--root--UKqJ8"},n.createElement(l.B,{svg:c.A,className:"loading_embed_overlay--spinner--bw3Cv",autosize:!0}))}function m(e,t,a){if(!e.current||!t||!a.current)return;let n=e.current,r=a.current,l=(0,s.Yb)(t,r),o=28*t.zoomScale;n.style.transform=`translate(${l.x+(l.width-o)/2+t.x}px, ${l.y+(l.height*i.Ao/i.RN-o)/2+t.y}px) rotate(${r.angle}deg) scale(${t.zoomScale})`,n.style.transformOrigin="top left",n.style.position="absolute"}},682761:(e,t,a)=>{a.d(t,{sk:()=>hZ}),a(137592);var n=a(411855),r=a(188507),l=a(587670),i=a(794272),o=a(966712),s=a(915440),c=a(711525),d=a(453418),u=a(860601),m=a(563706),p=a(192437),_=a(939863),f=a(392592),g=a(987067),h=a(964881),E=a(632430),y=a(625651),v=a(103907),b=a(259927),C=a(356390),w=a(776621),k=a(678379),x=a(604978),T=a(198868),N=a(601978);class S{static getCanvasColorSpace(e={}){let t=(0,N.dX)("fullscreen"),a=t?.getContext(k.ap()?"webgl2":"webgl")?.drawingBufferColorSpace;if("srgb"===a);else if("display-p3"===a)return e.returnString?l.RYP[l.RYP.DISPLAY_P3]:l.RYP.DISPLAY_P3;return e.returnString?l.RYP[l.RYP.SRGB]:l.RYP.SRGB}static setCanvasColorSpace(e){let t=(0,N.dX)("fullscreen"),a=t?.getContext(k.ap()?"webgl2":"webgl");"drawingBufferColorSpace"in a&&(a.drawingBufferColorSpace=e)}static getDocumentColorProfile(e={}){if(void 0===l.H4l)throw Error("ColorManagementStateJs is not defined");return e.returnString?l.ywP[l.H4l.documentColorProfile().getCopy()]:l.H4l.documentColorProfile().getCopy()}static async debugImagesFromSelection(){async function e(e){for(let t of["image/png","image/jpeg","image/heic"])try{return await x.EC.decodeAsync(e,t,0,0,!0)}catch(e){}return null}let t=(0,T.D)();for(let a of t.currentPage.selection){for(let n=0;n<a.fills.length;n++){let r=a.fills[n];if("IMAGE"===r.type){let i=t.getImageByHash(r.imageHash);if(!i)continue;let o=await i.getBytesAsync(),s=await e(o);if(s){let e={id:a.id,type:"fill",index:n,imageHash:r.imageHash,colorProfile:l.RYP[s.colorProfile],bytes:o};(0,w.ED)("ColorManagementDebug","images",e,{logToConsole:l.NUh.ALWAYS})}}}for(let n=0;n<a.strokes.length;n++){let r=a.strokes[n];if("IMAGE"===r.type){let i=t.getImageByHash(r.imageHash);if(!i)continue;let o=await i.getBytesAsync(),s=await e(o);if(s){let e={id:a.id,type:"stroke",index:n,imageHash:r.imageHash,colorProfile:l.RYP[s.colorProfile],bytes:o};(0,w.ED)("ColorManagementDebug","images",e,{logToConsole:l.NUh.ALWAYS})}}}}}}function I(){return n.useEffect(()=>((0,o.kc)().ee_color_management_debug&&(window.colorManagementDebug=S),()=>{"colorManagementDebug"in window&&delete window.colorManagementDebug}),[]),null}var A=a(860178),L=a(99506),O=a(279453),M=a(336599),P=a(100197),R=a(601607),D=a(374626),F=a(966981),B=a(743905),U=a(54025),G=a(706966),H=a(30075),V=a(719624);function K(){let{Sprig:e}=(0,F.A)(),t=(0,D.md)(V.Lk),a=(0,G.I)(),{loaded:r,query:l,sessionId:i}=function(){let[e,t]=(0,n.useState)(!1),{currentSearch:a}=(0,D.md)(U.WP),r=(0,D.md)(B.hO.currentSearchAtom),l=(0,D.md)(V.dd);(0,n.useEffect)(()=>{let e=a?.result.status==="loaded",n=r?.result.status==="loaded";e&&n&&t(!0)},[a?.result.status,r?.result.status]);let i="";return a?.input.type==="input-text"&&(i=a.input.query),{loaded:e,query:i,sessionId:l}}(),s=(0,n.useRef)(null),c=(0,n.useRef)(!1),d=(0,n.useCallback)(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),u=(0,n.useCallback)(()=>{e("track","quick_actions_assets_tab_search",{query:l,sessionId:i}),c.current=!0},[e,l,i]);return(0,n.useEffect)(()=>{if((0,o.kc)().assets_tab_sprig_tracking&&!c.current)return t===H.Jc.ASSETS&&r&&(a?s.current=setTimeout(()=>{u()},3e4):(u(),d())),d},[t,d,r,a,u]),null}var z=a(239671),W=a(279145),j=a(335682),q=a(507956),Y=a(201140),X=a(138020),J=a(776250),Z=a(181912),Q=a(517333),$=a(323653),ee=a(737947),et=a(910522),ea=a(650322),en=a(946689),er=a(278733),el=a(822998),ei=a(206144),eo=a(654923),es=a(838e3),ec=a(738269),ed=a(293017),eu=a(662275),em=a(995852),ep=a(931828),e_=a(760824),ef=a(107877),eg=a(349410),eh=a(101505),eE=a(672517),ey=a(809831),ev=a(198371),eb=a(875847),eC=a(29680),ew=a(694687),ek=a(594901),ex=a(309798),eT=a(106472),eN=a(643067),eS=a(243987),eI=a(147206),eA=a(428467),eL=a(746869),eO=a(984968),eM=a(668526),eP=a(851363),eR=a(170399),eD=a(828702),eF=a(127987),eB=a(407844),eU=a(164795);function eG({shouldDisplay:e,registerAsActive:t,bannerId:a,bannerContent:r,additionalTrackingProperties:l,dataTestId:i,location:o}){let s=(0,eC.p8)("showUi"),[c,d]=(0,n.useState)(!1),u=(0,ey.E3)();if((0,n.useEffect)(()=>t(a),[t,a]),(0,n.useEffect)(()=>{e&&d(!1)},[e]),!e||c||!s)return null;let m={id:a,...r},p={bannerId:eU.om[a],bannerType:m.bannerType,bannerLocation:o,...l};return n.createElement(eE.fu,{name:"TopBanner",properties:p},n.createElement(eB.C,{content:m,onDismiss:()=>d(!0),editorType:u,dataTestId:i}))}let eH=JSON.parse('{"safari":"16","firefox":"101","chrome":"88","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}');var eV=a(478398),eK=a(315457),ez=a(10388),eW=a(87171);let ej={bannerId:eU.om.TestWarningBanner,Banner:function(e){let t=(0,j.q5)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:eU.x1.WARN,icon:eW.A,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return n.createElement(eG,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},eq={bannerId:eU.om.TestOOMBanner,Banner:function(e){let t=(0,j.q5)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:eU.x1.WARN,icon:eW.A,mainText:"80% of memory used",customElem:n.createElement("div",{className:eV.DB},n.createElement(eR.wc,{memoryUsagePercent:80})),description:n.createElement(n.Fragment,null,n.createElement("b",{style:er.sx.fontSemiBold.$},"This file is almost out of browser memory.")," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return n.createElement(eG,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},eY={bannerId:eU.om.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...a}=eH,r=(0,et.R)("day"),l=new Date(t);if(l>new Date(r.getTime()+24192e5)||!m.Ay.isUnsupportedBrowser(a))return null;let i=l>r?(0,_.t)("banner.browser_deprecation.description",{deprecationDate:l}):(0,_.t)("banner.browser_deprecation.description_now"),o={dismissible:!0,bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,_.t)("banner.browser_deprecation.learn_more"),onClick:()=>ee.Ay.redirect("https://help.figma.com/hc/en-us/articles/360039827194-Figma-browser-requirements","_blank")}};return n.createElement(eG,{...e,bannerContent:o})},dataTestId:"browser-deprecation-banner"},eX={bannerId:eU.om.DesktopDeprecationBanner,Banner:function(e){let t=(0,Q.GN)();if(null==t||D.zl.get($.Pi))return null;let a=(0,_.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),r={dismissible:!0,bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.desktop_app_deprecation.title"),description:a,button:{buttonText:(0,_.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>ee.Ay.unsafeRedirect("https://figma.com/downloads","_blank")},dismissedAtom:$.Pi};return n.createElement(eG,{...e,bannerContent:r})},dataTestId:"desktop-deprecation-banner"},eJ={bannerId:eU.om.TestInfoBanner,Banner:function(e){let t=(0,j.q5)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:eU.x1.INFO,icon:eK.A,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>ee.Ay.redirect("/education/apply",m.Ay.isIpadNative?void 0:"_blank")}};return n.createElement(eG,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},eZ={bannerId:eU.om.ProTeamPastDue,Banner:function(e){let t=(0,r.wA)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,ek.FC)(),o=a&&(0,eA.canAdminTeam)(a,i);if(l&&l.subscription===L.Qh.PAST_DUE){let r={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.pro_team_past_due.locked"),description:o?(0,_.t)("banner.pro_team_past_due.update_payment_source.can_admin",{teamName:l.name}):(0,_.t)("banner.pro_team_past_due.update_payment_source.no_admin",{teamName:l.name}),button:o?{buttonText:(0,_.t)("banner.pro_team_past_due.update_payment"),onClick:()=>{t?.(ec.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:eM.I.SETTINGS}))}}:void 0};return n.createElement(eG,{...e,bannerContent:r})}return null},dataTestId:"pro-team-past-due-banner"},eQ={bannerId:eU.om.ExternalContentControlBanner,Banner:function(e){let t=(0,r.wA)(),a=(0,j.q5)(),l=(0,A.iZ)(),i=(0,ew.dq)(),o=(0,eI.R$)(l,i),s=(0,r.d4)(e=>{if(!o)return null;let t=e.orgById[l.external_restricted_org_id];return t?t.name:null});if(o&&s){let r=!!a&&a.viewerExportRestricted,l={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.tx)("external_collaboration_restricted.banner.title"),description:(0,_.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:s}),button:r?void 0:{buttonText:(0,_.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{a?.editorType==="design"?t(ed.u1({id:b.C9})):t(ed.TB({selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}))}},dismissible:!1};return n.createElement(eG,{...e,bannerContent:l})}return null},dataTestId:"external-content-control-banner"},e$={bannerId:eU.om.DesktopDownloadBanner,Banner:function(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>"fullscreen"===e.selectedView.view),l=(0,ex.f)("dismissed_desktop_download_banner_prompt");if(a&&!l&&!Q.eD&&(0,o.kc)().desktop_download_banner_prompt){let a={bannerType:eU.x1.INFO,icon:ez.A,mainText:(0,_.t)("banner.desktop_download_title"),description:(0,_.t)("banner.desktop_download_description"),button:{buttonText:(0,_.t)("banner.desktop_download_button"),onClick:()=>{ee.Ay.redirect(`/download/desktop/${m.Ay.mac?"mac":"win"}`,"_blank")}},dismissible:!0,onDismiss:()=>t?.(ep.b({dismissed_desktop_download_banner_prompt:!0}))};return n.createElement(eG,{...e,bannerContent:a})}return null},dataTestId:"download-desktop-banner"},e0={bannerId:eU.om.ProTeamChargeFailed,Banner:function(e){let t=(0,r.wA)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,ek.FC)(),o=a&&(0,eA.canAdminTeam)(a,i);if(l&&l.subscription===L.Qh.GRACE_PERIOD){let r={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.pro_team_charge_failed.payment_failed"),description:o?(0,_.t)("banner.pro_team_charge_failed.unsuccessful_team_charge.can_admin",{teamName:l.name}):(0,_.t)("banner.pro_team_charge_failed.unsuccessful_team_charge.no_admin",{teamName:l.name}),button:o?{buttonText:(0,_.t)("banner.pro_team_charge_failed.update_payment"),onClick:()=>{t?.(ec.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:eM.I.SETTINGS}))}}:void 0,dismissible:!0};return n.createElement(eG,{...e,bannerContent:r})}return null},dataTestId:"pro-team-charge-failed-banner"},e1={bannerId:eU.om.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,r.wA)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,ek.FC)(),s=a&&(0,eA.canAdminTeam)(a,i);if(l&&l.subscription===L.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let r=s?n.createElement("span",null,(0,_.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:n.createElement("a",{href:`mailto:${(0,o.W4)()}`},(0,_.tx)("banner.pro_team_no_monthly_sub.contact_support"))})):n.createElement("span",null,(0,_.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:l.name})),i={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.pro_team_no_monthly_sub.locked"),description:r,button:s?{buttonText:(0,_.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(ec.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:eM.I.SETTINGS}))}}:void 0};return n.createElement(eG,{...e,bannerContent:i})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},e2={bannerId:eU.om.ProTrialsExpiryBanner,Banner:function(e){let t=(0,r.wA)(),a=(0,j.q5)(),l=(0,eO.cD)(),i=(0,r.d4)(e=>l?e.teams[l]:null),o=(0,ek.FC)(),s=(0,r.d4)(e=>e.userTeamFlags),c=(0,r.Pj)(),d=(0,eT.q)({teamId:l,flag:eL.lg});if(!i||!a)return null;let u=(0,eA.canEditTeam)(i.id,o),m=(0,eS.oc)(i.id,o);if(eL.ng.canSeeExpiredProTrialBanner(s,i,o)&&(m||u&&!d)){let r,l,o;m?(o=eU.x1.WARN_SOFT,r=u?(0,_.tx)("banner.pro_trial_expiry.locked_description",{lowerUsageLink:n.createElement("button",{onClick:e=>{e.preventDefault(),t?.(eu.to({type:eF.v,data:{teamId:i.id}}))}},(0,_.tx)("banner.pro_trial_expiry.lower_usage")),upgradeLink:n.createElement(eE.$z,{onClick:e=>{e.preventDefault();let a=c.getState();t(em.WX({teamId:i.id,selectedView:a.selectedView}))}},(0,_.tx)("banner.pro_trial_expiry.upgrade"))}):(0,_.tx)("banner.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),l={buttonText:(0,_.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,el.hd)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}):(o=eU.x1.INFO,r=(0,_.tx)("banner.pro_trial_expiry.expiry_description",{teamName:i.name}),l={buttonText:(0,_.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>{let e=c.getState();t(em.WX({teamId:i.id,selectedView:e.selectedView}))}});let s={bannerType:o,icon:eW.A,mainText:(0,_.t)("banner.pro_trial_expiry.title"),dismissible:!m,onDismiss:m?void 0:()=>{t(e_.bE({all_team_flags:[{team_id:i.id,flags:{[eL.lg]:!0}}]}))},description:r,button:u?l:void 0};return n.createElement(eG,{...e,bannerContent:s})}return null},dataTestId:"pro-trials-expiry-banner"},e5={bannerId:eU.om.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,r.wA)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,ek.FC)(),o=(0,q.ks)(),s=(0,ey.ow)(),c=(0,eg.Yz)(),d=(0,r.Pj)(),u=(0,r.d4)(e=>e.openFile?.canEdit),m=a&&(0,eA.canEditTeam)(a,i),p=l&&!(0,eS.n0)(l)&&!l.student_team&&(0,eS.oc)(l.id,i);if(p){let r=l.student_team_state===eP.kU.STUDENT_TEAM_CURRENT||l.student_team_state===eP.kU.STUDENT_TEAM_EXPIRED,i=c(p&&!r);if(i&&!u){let r=!!l.stripe_customer_id,i=s?(0,_.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,_.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),c=n.createElement("div",{style:er.sx.add({marginLeft:"-32px"}).$},(0,_.tx)(o?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:m?n.createElement(n.Fragment,null,n.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(eu.to({type:eD.t,data:{teamId:a,canEditTeam:!0}}))}},(0,_.tx)("locked_team.banner.learn_more"))):n.createElement(n.Fragment,null)})),u=r?(0,_.t)("locked_team.banner.reactivate_professional"):(0,_.t)("locked_team.banner.upgrade_to_professional"),p={bannerType:eU.x1.WARN_SOFT,icon:n.createElement(Y.s,null),mainText:i,description:c,button:m?{buttonText:u,onClick:()=>{let e=d.getState();t(em.WX({teamId:a,selectedView:e.selectedView}))},className:eV.Vg}:void 0};return n.createElement(eG,{...e,bannerContent:p})}if(!i&&!o){let r;r=m?n.createElement("span",null,n.createElement("b",{style:er.sx.fontSemiBold.$},(0,_.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:l.name})," "),(0,_.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:l.name,learnMoreLink:n.createElement(n.Fragment,null,n.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(eu.to({type:eF.v,data:{teamId:a}}))}},(0,_.tx)("banner.free_limit_locked.learn_more")))})):n.createElement("span",null,n.createElement("b",{style:er.sx.fontSemiBold.$},(0,_.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:l.name}))," ",(0,_.tx)("banner.free_limit_locked.ask_your_team_admin_for_details"));let i={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.free_limit_locked.locked"),description:r,button:m?{buttonText:(0,_.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=d.getState();t(em.WX({teamId:a,selectedView:e.selectedView}))},className:eV.n3}:void 0};return n.createElement(eG,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},e3={bannerId:eU.om.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,r.wA)(),a=(0,j.q5)(),l=(0,ew.dq)(),i=(0,r.d4)(eN.wA),s=null,c=null;if((0,o.kc)().abandoned_drafts_editor_improvement?(s=l&&(0,X.oA)(a?.isAbandonedDraftFile),c=(0,X.oA)(a?.canMove)?(0,_.t)("banner.orphaned_projects.move_to_project"):(0,_.t)("banner.orphaned_projects.move_to_project.member",{orgName:i?.name??""})):(s=l&&a?.project&&(0,eb.n3)(a.project),c=(0,_.t)("banner.orphaned_projects.move_to_project")),s&&a){let r={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:c,button:(0,X.oA)(a?.canMove)?{buttonText:(0,_.t)("drafts_move_banner.move_file"),onClick:()=>(0,el.hd)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}:{buttonText:(0,_.t)("banner.orphaned_projects.back_to_files"),onClick:()=>t?.(ec.$T({view:"recentFiles"}))}};return n.createElement(eG,{...e,bannerContent:r})}return null},dataTestId:"orphaned-org-drafts-file-banner"},e4={bannerId:eU.om.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,j.q5)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,ew.dq)(),o=(0,r.wA)(),s=(0,ek.FC)();if(!(i&&t?.project&&(0,eb.n3)(t.project))&&!l&&t&&(0,eS.f4)(t.folderId,t.teamId,s)){let t={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.personal_projects.locked"),description:n.createElement(n.Fragment,null,(0,_.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:n.createElement("a",{href:"/pricing-faq#what-changes-for-me"},(0,_.tx)("banner.personal_projects.learn_more"))})),button:{buttonText:(0,_.t)("banner.personal_projects.back_to_files"),onClick:()=>o?.(ec.$T({view:"recentFiles"}))}};return n.createElement(eG,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},e6={bannerId:eU.om.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,j.q5)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,A.iZ)(),o=(0,ev.nF)(),s=(0,r.d4)(e=>e.userEduGracePeriods);if(!a||!i)return null;if(l&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&l&&(0,ea.GU)(s,(0,ea.cn)(i),a,!!l.student_team).showAccessRestricted){let t={bannerType:eU.x1.WARN,icon:eW.A,mainText:(0,_.t)("banner.edu_grace_period.verification_required"),description:(0,_.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:l.name}),button:{buttonText:(0,_.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>ee.Ay.redirect("/education/apply",m.Ay.isIpadNative?void 0:"_blank")}};return n.createElement(eG,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},e7={bannerId:eU.om.EduGracePeriodShowReminder,Banner:function(e){let t=(0,j.q5)(),a=(0,eO.cD)(),l=(0,r.d4)(e=>a?e.teams[a]:null),i=(0,A.iZ)(),o=(0,ev.nF)(),s=(0,r.d4)(e=>e.userEduGracePeriods);if(a&&i){let r=l&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&l&&(0,ea.GU)(s,(0,ea.cn)(i),a,!!l.student_team).showReminder,c=(0,ea.zR)(s,a);if(r){let t={bannerType:eU.x1.INFO,icon:eK.A,mainText:(0,_.t)("banner.edu_grace_period.verification_required"),description:(0,_.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:l.name,endDate:c}),dismissible:!0,button:{buttonText:(0,_.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>ee.Ay.redirect("/education/apply",m.Ay.isIpadNative?void 0:"_blank")}};return n.createElement(eG,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"},e8={bannerId:eU.om.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,eC.p8)("multiplayerSessionState")!==l.kul.UNJOINED,a=!(0,eC.p8)("isReadOnly");if((0,r.d4)(e=>e.showingUpgradeBanner)){let r={bannerType:eU.x1.INFO,icon:eW.A,mainText:(0,_.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:t?(0,_.t)("banner.multiplayer_session_upgrade.out_of_date.connected"):(0,_.t)("banner.multiplayer_session_upgrade.out_of_date.not_connected"),button:{buttonText:a?(0,_.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,_.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,J.sx)("Upgrade Banner Clicked"),l.h3O.startUpgrade()}}};return n.createElement(eG,{...e,bannerContent:r})}return null},dataTestId:"multiplayer-session-upgrade-banner"},e9={bannerId:eU.om.FigJamTryDraftsBanner,Banner:function(e){let t=(0,r.wA)(),a=(0,j.q5)(),l=(0,ev.nF)(),i=(0,A.iZ)(),o=(0,ex.f)("dismissed_figjam_try_drafts_banner"),s=(0,et.R)("minute");if(!l?.enabled||!a||!i)return null;if(!a.isTryFile&&!a.parentOrgId&&a.folderId===i.drafts_folder_id&&!o){let r=(0,Z.A)(s),i=Math.ceil((0,Z.A)(l.until).diff(r,"hours",!0)),o={bannerType:eU.x1.INFO,icon:eK.A,mainText:i>1?(0,_.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,_.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,_.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(ep.b({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,_.t)("figjam_try.move_file"),onClick:()=>(0,el.hd)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}};return n.createElement(eG,{...e,bannerContent:o})}return null},dataTestId:"figjam-try-drafts-banner"},te={bannerId:eU.om.FigJamTryClaimBanner,Banner:function(e){let t=(0,r.wA)(),a=(0,j.q5)(),l=(0,ev.nF)(),i=(0,A.iZ)(),o=(0,ex.f)("dismissed_figjam_try_claim_banner"),s=(0,et.R)("minute"),c=a?.key;if(!a?.isTryFile||m.Ay.isMeetDevice||!i||!l?.enabled||!c||o)return null;let d=(0,Z.A)(s),u=Math.ceil((0,Z.A)(l.until).diff(d,"hours",!0)),p=()=>{t(es.Q({file_key:c}))},f={bannerType:eU.x1.INFO,icon:eK.A,mainText:u>1?(0,_.t)("figjam_try_v2.timer_hours_left",{hoursLeft:u}):(0,_.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,_.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>t?.(ep.b({dismissed_figjam_try_claim_banner:!0})),dismissible:!0,button:{buttonText:(0,_.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>p()}};return n.createElement(eG,{...e,bannerContent:f})},dataTestId:"figjam-try-claim-banner"};function tt({hubFile:e}){return(0,eo._)(e)?(0,_.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,_.tx)("banner.freemium_preview.get_the_full_file_on_community")}function ta({hubFile:e}){return(0,eo._)(e)?(0,_.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,_.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function tn({hubFile:e}){let t=(0,eo._)(e),a=t?"":`?${ef.Tb}`;return n.createElement(ei.A6,{to:`/community/file/${e.id}${a}`},n.createElement(en.tM,{trackingProperties:{trackingDescriptor:t?eh.c.OPEN_IN_COMMUNITY:eh.c.BUY_THE_RESOURCE}},t?(0,_.tx)("banner.freemium_preview.open_in_community"):(0,_.tx)("banner.freemium_preview.buy_the_resource")))}let tr={bannerId:eU.om.FreemiumPreviewBanner,Banner:function(e){let t=(0,j.tS)(),a=(0,r.d4)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),l=(0,r.d4)(e=>a?e.hubFiles[a.hubFileId]:null);return a&&a.isPreview&&l&&l.monetized_resource_metadata?n.createElement(eG,{...e,bannerContent:{bannerType:eU.x1.INFO,icon:eK.A,dismissible:!1,mainText:n.createElement(tt,{hubFile:l}),description:n.createElement(ta,{hubFile:l}),button:{type:eU.MA.CUSTOM,element:n.createElement(tn,{hubFile:l})}}}):null},dataTestId:"freemium-preview-banner"},tl={bannerId:eU.om.FileCreationFailureBanner,Banner:function(e){if((0,r.d4)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:eU.x1.WARN,dismissible:!1,mainText:(0,_.tx)("banner.file_creation_failure.title"),description:(0,_.tx)("banner.file_creation_failure.description")};return n.createElement(eG,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},ti=[eY,eX,e8,eZ,e0,e1,e2,e5,eQ,e3,e4,e6,e7,e9,te,tr,e$,...(0,o.b5)()?[ej,eq,eJ]:[]],to=[eX,e8],ts=[tl],tc=[],td=n.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:a,registerActiveBanner:r}=function({prioritizedBanners:e}){let[t,a]=(0,n.useState)(new Set);return{registerActiveBanner:(0,n.useCallback)(e=>(a(t=>{if(t.has(e))return t;let a=new Set(t);return a.add(e),a}),()=>{a(t=>{if(t.has(e)){let a=new Set(t);return a.delete(e),a}return t})}),[]),bannerIdToShow:function(e,t=[]){let a=(0,n.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,a)=>(e.set(t,a),e),new Map),[t]),r=(0,n.useMemo)(()=>[...e].reduce((e,t)=>{let n=a.get(t)??1/0;return n<e?n:e},1/0),[e,a]);return t[r]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return n.createElement(n.Fragment,null,e.map(({bannerId:e,Banner:l,dataTestId:i})=>n.createElement(l,{key:e,bannerId:e,shouldDisplay:e===a,registerAsActive:r,location:t,dataTestId:i})))});function tu(){let e=function(){let e=(0,j.q5)(),t=(0,q.ks)(),a=e?.teamId,n=(0,r.d4)(e=>a?e.teams[a]:null);return e?a&&!n?tc:t?to:ti:ts}();return n.createElement(td,{prioritizedBanners:e,location:"editor"})}var tm=a(603478),tp=a(78584),t_=a(311350),tf=a(629019),tg=a.n(tf),th=a(638889),tE=a(126911);function ty(){let e=Array.from((0,P.ut)(l.Ez5?.uiState().autoLayoutShortcutHints,new Map).values()),t=(0,D.md)(V.Bu),a=tE.y.isApple(),r=e=>{switch(e){case l.oeV.IGNORE_AUTOLAYOUT:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.ignore_auto_layout"),shortcutText:a?"\u2303 Ctrl":"S"};case l.oeV.PREVENT_NESTING:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.prevent_nesting"),shortcutText:(0,_.t)("fullscreen.auto_layout_hints.space_key")};case l.oeV.FORCE_INSERTION:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.force_insertion"),shortcutText:a?"\u2318":"Ctrl"}}},i=e=>e.isValid?e.isActive?"auto_layout_hints--activeShortcutWithTextContainer--dkT1S auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--invalidShortcutWithTextContainer--gvHLT auto_layout_hints--shortcutWithTextContainer--uEquz";return e?n.createElement("div",{className:tg()("auto_layout_hints--root--MJKU2",{"auto_layout_hints--rootAdjustedForQA--YZlbt":t})},n.createElement("div",{className:"auto_layout_hints--hintsBarContainer--3DyGD"},e.sort((e,t)=>e.shortcut-t.shortcut).map((e,t)=>{let a=r(e.shortcut);return n.createElement("div",{className:i(e),key:t},n.createElement("div",{className:e.isActive&&e.isValid?"auto_layout_hints--activeShortcutContainer--bj0CD auto_layout_hints--shortcutContainer--mIecl":"auto_layout_hints--shortcutContainer--mIecl"},a.shortcutText.length>0?n.createElement("div",{className:"auto_layout_hints--smallShortcutText--lHZ8Q utilities--bodySmall--JyKR1"},a.shortcutText):n.createElement(th.S,{shortcut:a.shortcutText})),n.createElement("p",null,a.displayName))}))):null}var tv=a(762638),tb=a(965480),tC=a(777078),tw=a(809073),tk=a(554905),tx=a(908225),tT=a(144119),tN=a(915914),tS=a(407909);let tI=(0,n.memo)(function(){let e=(0,r.wA)(),t=(0,eC.aV)(),a=(0,tb.kD)(),l=(0,tC.b4)(),i=(0,j.q5)(),o=(0,tb.tS)(),s=(0,tb.ac)(),c=(0,tk.Td)(),d=(0,ey.lg)(),m=(0,tT.sO)(),p=(0,A.iZ)(),f=p?.id&&a&&a.publishedByUserId===p.id,g=(0,tb.J3)();if(!o||t||!a||c||null===s)return null;let h=s&&g===tb.kN.CAN_PUBLISH,E={type:eU.MA.STRUCTURED,onClick:()=>{a&&i&&l({templateIdentifier:{type:tw.vt.TeamTemplate,file_key:a.fileKey},templateName:a.name})},trackingDescriptor:eh.c.USE_IN_NEW_FILE,buttonText:m?(0,_.t)("slides.templates.banner.new_deck_button"):(0,_.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button")};if(h){if(!f)return n.createElement(eB.C,{onDismiss:u.lQ,editorType:(0,z.wN)(d),content:{id:eU.om.FileIsTeamTemplate,bannerType:eU.x1.INFO,icon:tS.A,mainText:(0,_.t)("templates.banner.republish.primary_text"),description:(0,_.t)("templates.banner.republish.secondary_text_not_owner"),button:E}});let t={type:eU.MA.STRUCTURED,onClick:()=>{(0,tx.Y)(e,a.fileKey,d,"editor-republish-banner")},trackingDescriptor:eh.c.PUBLISH_CHANGES,buttonText:(0,_.t)("templates.banner.republish.republish_action")};return n.createElement(eB.C,{onDismiss:u.lQ,editorType:(0,z.wN)(d),content:{id:eU.om.FileIsTeamTemplate,bannerType:eU.x1.INFO,icon:tS.A,mainText:(0,_.t)("templates.banner.republish.primary_text"),description:(0,_.t)("templates.banner.republish.secondary_text"),button:t}})}let y=a.publishedByUser?.handle?(0,_.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:n.createElement("span",{className:tv.cx.fontNormal.$},f?(0,_.tx)("templates.banner.made_by_you"):(0,_.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:a.publishedByUser.handle}))}):(0,_.t)("templates.banner.republish.you_re_viewing_a_template");return n.createElement(eB.C,{onDismiss:u.lQ,editorType:(0,z.wN)(d),content:{id:eU.om.FileIsTeamTemplate,bannerType:eU.x1.INFO,icon:tN.A,mainText:y,button:E}})});var tA=a(747396),tL=a(514736),tO=a(448879),tM=a(91408),tP=a(506599),tR=a(213190),tD=a(818),tF=a(226055);function tB(){let e=(0,tF.GS)(),t=(0,r.d4)(e=>e.mirror?.appModel.showUi),a=(0,tD.b)(),n=(0,tR.qM)();return e&&t&&!(a&&!n)}var tU=a(617453),tG=a(231472),tH=a(531461),tV=a(760445),tK=a(860168);function tz({children:e}){let t=(0,r.d4)(e=>e.universalInsertModal?.pinned===tG.t.PINNED_AND_DOCKED_LEFT),a=tB(),{isPropertiesPanelCollapsed:l}=(0,tP.iT)(),i=(0,tU.qw)();i=l?0:i;let o=n.useMemo(()=>[tH.mW.RESOLVED,tH.mW.YOURS,tH.mW.CURRENT_PAGE],[]),s=n.useMemo(()=>[tH.qN.CREATION_DATE,tH.qN.UNREAD],[]),{xDelta:c,yDelta:d}=(0,tO.m)(),u=n.useMemo(()=>{let e=(0,tM.hG)(tK.PXB),a=c;return t&&(a+=tV.AN+e),{xDelta:a,yDelta:d}},[t,d,c]),m=n.useMemo(()=>{let e=(0,tM.jz)(tK.LdP),t=0,n=0;return a&&(t+=e,n+=i),{maxHeightDelta:0,minBottomMarginDelta:t,minLeftMarginDelta:0,minRightMarginDelta:n}},[i,a]),p=n.useMemo(()=>{if(a)return{paddingRight:i}},[i,a]),_=n.useMemo(()=>({...tO.y,sidebarFilters:o,sidebarSorts:s,dockPositionAdjustment:u,draggableModalBoundsAdjustment:m,commentPositionPaddingAdjustment:p}),[o,s,p,u,m]);return n.createElement(tL.a.Provider,{value:_},e)}var tW=a(707458),tj=a(497306),tq=a(433861);let tY={isDevHandoff:!0};function tX({children:e}){let t=tB(),a=(0,h.hA)(),l=(0,r.d4)(e=>e.mirror.appModel.currentPage),i=n.useContext(tq.kw),{isPropertiesPanelCollapsed:o}=(0,tP.iT)(),s=(0,tU.UX)();s=o?0:s;let c=(0,tM.jz)(tK.ZB$),d=n.useMemo(()=>[tH.mW.RESOLVED,tH.mW.YOURS,tH.mW.CURRENT_PAGE],[]),u=n.useMemo(()=>[tH.qN.CREATION_DATE,tH.qN.UNREAD],[]),m=(0,tO.m)(),p=n.useMemo(()=>{let e=0,a=0;return t&&(e+=c,a+=s),{maxHeightDelta:0,minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:a}},[c,s,t]),f=n.useMemo(()=>{if(t)return{paddingRight:s}},[s,t]),g=n.useCallback(e=>{if(!a)return!1;let t=e&&l?i.getCommentDestinationForCanvasPosition(e,l)?.nodeId:void 0;return!t||!(0,tj.rV)(tW.q.instance,a,t)},[l,i,a]),E=n.useMemo(()=>{let e={...tO.y,sidebarFilters:d,sidebarSorts:u,dockPositionAdjustment:m,draggableModalBoundsAdjustment:p,commentPositionPaddingAdjustment:f,linkGenerationParams:tY,isCommentingDisabledAtPosition:g,commentDisabledPositionBellMessage:(0,_.t)("dev_handoff.workflows.focus_view.comments")};return a&&(e.filterBy="non_dev_mode_focus"),e},[d,u,m,p,f,g,a]);return n.createElement(tL.a.Provider,{value:E},e)}var tJ=a(568214),tZ=a(813648),tQ=a(228131),t$=a(525040),t0=a(368702),t1=a(301280);let t2={isFigJam:!0};function t5({children:e}){let t=(0,t$.Vi)(),a=(0,tF.GS)(),l=(0,r.d4)(e=>e.universalInsertModal?.pinned===tG.t.PINNED_AND_DOCKED_LEFT),i=n.useMemo(()=>[tH.mW.RESOLVED,tH.mW.YOURS],[]),o=n.useMemo(()=>[tH.qN.CREATION_DATE,tH.qN.UNREAD],[]),s=(0,tO.m)(),{xDelta:c,yDelta:d}=n.useMemo(()=>{if(a)return s;let e=(0,tM.jz)(tK.PXB),t=0;return l&&(t+=tZ.gR+e),{xDelta:t,yDelta:0}},[l,a,s]),u=n.useMemo(()=>({xDelta:c,yDelta:d}),[c,d]),m=n.useMemo(()=>208,[]),p=n.useMemo(()=>{let e=new Map;return e.set(tQ.b.DOCK_STYLE,t1._V),e.set(tQ.b.ATTACHMENT_MODAL_BACKGROUND_COLOR,(0,tJ.Bx)("light")),e},[]),_=n.useMemo(()=>{let e;let n=a?(0,tM.jz)(tK.LQy):(0,tM.jz)(tK.IuL),r=(0,tM.jz)(tK.rY4),l=0,i=0;return e=0-n,l+=n,t&&(i+=r),{maxHeightDelta:e,minBottomMarginDelta:l,minLeftMarginDelta:0,minRightMarginDelta:i}},[t,a]),f=n.useCallback(()=>{(0,t0.W)("left",()=>{})},[]),g=n.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,clusterBy:"page",orphanedBy:"deleted_pages",filterBy:"hidden_sections",sidebarFilters:i,sidebarSorts:o,dockPositionAdjustment:u,draggableModalBoundsAdjustment:_,onDockSideEffect:f,sidebarBottomPaddingAdjustment:m,styleOverrideMap:p,linkGenerationParams:t2}),[u,_,f,m,i,o,p]);return n.createElement(tL.a.Provider,{value:g},e)}var t3=a(372252);function t4({children:e}){let t=(0,r.d4)(e=>e.selectedView.editorType),a=n.useMemo(()=>{if(window.FigmaMobile)return t===z.nT.Whiteboard?function({children:e}){return n.createElement(tL.a.Provider,{value:tA.Wo},e)}:function({children:e}){return n.createElement(tL.a.Provider,{value:tA.In},e)};switch(t){case z.nT.Design:return tz;case z.nT.Whiteboard:return t5;case z.nT.Slides:return t3.Yz;case z.nT.DevHandoff:return tX;default:return function({children:e}){return n.createElement(tL.a.Provider,{value:tO.y},e)}}},[t]);return n.createElement(a,null,e)}var t6=a(71825),t7=a(485463),t8=a(256296),t9=a(554322),ae=a(572206),at=a(827586),aa=a(574176),an=a(46415),ar=a(402603),al=a(973149);let ai=0;class ao{constructor(){this.work=()=>{let e=this.jobs.shift();if(e)try{let t=e.callback();e.resolve(t)}catch(t){e.reject(t)}},this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(t=>-1===e.indexOf(t.jobId))}queueJob(e){let t,a;let n=new Promise((e,n)=>{t=e,a=n}),r=++ai;return this.jobs.push({jobId:r,resolve:t,reject:a,callback:e}),{promise:n,jobId:r}}}let as={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let t=Date.now();return e(),Date.now()-t}},ac=new class{constructor(e={}){this.tick=()=>{if(!this.isTickScheduled)throw Error("wat, how did tick() get called if we're not ticking?");let e=0,t=0;for(;t<this.msPerTick&&!this.queuedWorker.isDone();)t+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${t} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()},this.requestTick=()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))},this.numJobs=()=>this.queuedWorker.numJobs(),this.queueJob=e=>{let{promise:t,jobId:a}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:t,jobId:a}},this.queuedWorker=new ao,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||as,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}({debug:!1});var ad=a(162620),au=a(288536),am=a(968783),ap=a(895083),a_=a(71596),af=a(15859),ag=a(848661),ah=a(931770),aE=a(471224),ay=a(498606),av=a(222478),ab=a(709731),aC=a(946465),aw=a(232309),ak=a(999140),ax=a(746806);let aT="export_picker--header--Wz6np",aN="export_picker--labelWithoutCheckbox--3zcNc export_picker--label--43URE",aS="export_picker--button--PiGDo";var aI=a(957412);let aA=(0,tM.hG)(tK.zK5);function aL(){let e=(0,j.q5)(),t=(0,r.d4)(e=>e.exportableItems),a=(0,r.d4)(e=>e.dropdownShown),l=!!e&&(0,eI.Pe)(e),i=(0,t9.Av)(),o=(0,r.d4)(e=>e.saveAsState),s=(0,r.d4)(e=>e.mirror.appModel.currentPage),c=(0,r.wA)(),d=new ae.Mi(window.innerWidth-aA,i+12);return n.useEffect(()=>{c((0,am.HR)())},[c]),n.createElement(ax.vx,{title:(0,_.t)("fullscreen.properties_panel.export"),headerSize:"small",initialPosition:d,onClose:()=>{c(ed.XE())},dragHeaderOnly:!0,headerClassName:"export_picker--modalHeader--f3fKx"},n.createElement("div",{className:"export_picker--exportModalContainer---vmI7"},n.createElement(aP,{exports:t,isCopyExportRestricted:l,width:aA,dispatch:c,dropdownShown:a,saveAsState:o,currentPage:s})))}let aO=new al.mz;function aM({nodeID:e,title:t,filename:a,exportSetting:r,colorProfile:i=l.RYP.SRGB,isBeingRenamed:s,...c}){let[d,u]=(0,n.useState)({size:"",warning:"",warningTooltip:""}),[m,p]=(0,n.useState)("");(0,n.useEffect)(()=>{let n={guid:e,title:t,filename:a,exportSetting:r},o=l.glU.getExportWarningAndSize(n);if(o){let{size:e,warning:t,warningTooltip:a}=o;u({size:e,warning:t,warningTooltip:a})}else console.error("Failed to export",n);let s=!!r.contentsOnly,c=(0,ag.gl)(r)?i:(0,ad.A)([r],i),{jobId:d}=ac.queueJob(()=>{let t=ah._G(new ae.Mi(32,32),e,s),a="";t&&t.pixels&&t.pixelSize&&t.displaySize&&(a=ah.Pv(t.pixels,t.pixelSize,c)),p(a)});return()=>ac.cancelJobs([d])},[i,r,a,e,t]);let{onToggleChecked:_,isChecked:f,isDisabled:g}=c,{imageType:h}=r,E=c.warning??d.warning,y=c.warningTooltip??d.warningTooltip,v=(0,n.useId)(),b=`${v}-input`,C=`${v}-desc`;return n.createElement("div",{className:"export_picker--row--lVRtp"},n.createElement("label",{htmlFor:b,className:"export_picker--label--43URE"},n.createElement(t6.W,{id:b,checked:f,onChange:_,disabled:g,htmlAttributes:{"aria-describedby":C}}),n.createElement("div",{className:"export_picker--thumbContainer--xwXyl",onClick:t=>{t.preventDefault(),l.glU.panToNode(e)},"aria-hidden":"true"},!!m&&n.createElement("img",{src:m,className:"export_picker--thumb--pKbcx","data-tooltip-type":ay.Ib.TEXT,"data-tooltip":a,alt:""})),n.createElement("div",{className:"export_picker--nameInfo--03piR export_picker--twoRows--PAHTA"},n.createElement("div",{className:tg()("export_picker--name--HuhHU ellipsis--ellipsis--Tjyfa",{"export_picker--nameRenaming--jTYjh":(0,o.kc)().ai_prod_rename_layers_moments&&s})},t),E&&n.createElement("div",{className:"export_picker--warningRow--PMwtO"},n.createElement(aa.B,{className:"export_picker--warningIcon--fgSRz",svg:aI.A,"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":y}),n.createElement("span",{className:"export_picker--warning--qpraF ellipsis--ellipsis--Tjyfa"},E)))),n.createElement("div",{className:"export_picker--settingsInfo--H9DJ1 export_picker--twoRows--PAHTA",id:C},n.createElement("div",null,aO.format(r.constraint)," ",h),n.createElement("div",null,d.size)))}class aP extends n.PureComponent{constructor(){super(...arguments),this.state={renamingLayersRunning:!1,downloadStarted:!1,exportingStarted:!1,exportingProgress:0,exportingTotal:0,exportingJobIds:[]},this.onCancel=()=>{this.props.dispatch(ed.XE())},this.autoRenameFrameAndFileOnExport=async e=>{let t=e.map(e=>e.nodeID),{detectedUnnamedLayers:a,exceedingLayerLimit:n,renamableNodeGuids:r}=(0,a_.M)(t,!0);a&&!n&&(this.setState({renamingLayersRunning:!0}),this.props.exports.items.forEach(e=>{r.includes(e.nodeID)&&(e.isBeingRenamed=!0)}),D.zl.set(ak.zF,ap.uQ.EXPORT_PICKER),(0,ab.B3)(av.JT.AUTO_RENAME_LAYERS),await (0,ab.Ag)(av.JT.AUTO_RENAME_LAYERS,ap.Ay,{source:ap.uQ.EXPORT_PICKER,overwriteNames:!1,nodeGuidsToRename:r}),(0,ab.pP)(av.JT.AUTO_RENAME_LAYERS).state===ab.qy.DONE&&this.props.exports.items.forEach(e=>{if(!r.includes(e.nodeID))return;let t=tW.q.instance.get(e.nodeID)?.name;e.filename=e.filename.replace(e.title,t||e.title),e.title=t||e.title,e.isBeingRenamed=!1}),this.setState({renamingLayersRunning:!1}))},this.cancelAutoRename=()=>{let{aiTrackingContext:e}=(0,ab.pP)(av.JT.AUTO_RENAME_LAYERS),t={...e,...(0,aC.LU)({shortcut:null,target:null}),interaction:aw.Ek.STOP};(0,ab.cT)(av.JT.AUTO_RENAME_LAYERS),(0,aC.nP)(t),this.setState({renamingLayersRunning:!1}),this.setState({downloadStarted:!0})},this.onExport=async()=>{if(this.props.isCopyExportRestricted||((0,J.sx)("Export Picker Exported"),this.state.downloadStarted||this.state.exportingStarted||this.isExporting()))return;let e=this.props.exports.items.filter(e=>this.props.exports.checked[e.itemID]);if(0===e.length)return;(0,o.kc)().ai_prod_rename_layers_moments&&await this.autoRenameFrameAndFileOnExport(e);let t=[this.props.currentPage];af.xY.includeOutsideContents(e.map(e=>e.exportSetting))||(t=e.map(e=>e.nodeID)),this.setState({downloadStarted:!0}),(0,aE.Dc)(aE.hV.Export,this.props.saveAsState,this.props.dispatch,()=>{this.setState({exportingStarted:!0,downloadStarted:!1}),this.exportItemsWithFullscreen(e)},t,"export-picker")},this.exportItemsWithFullscreen=e=>{let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),a=0;l.glU.clearExportedItems();let n=t.map(e=>ac.queueJob(()=>l.glU.exportItem(e))),r=n.map(e=>e.promise);r.forEach(e=>e.then(()=>this.setState({exportingProgress:++a}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:n.map(e=>e.jobId)}),Promise.all(r).then(()=>{this.setState({exportingJobIds:[]}),l.glU.saveExportedItems(),this.props.dispatch(ed.XE()),this.props.dispatch(an.rg())})},this.setAllChecked=e=>{this.props.exports.items.forEach((t,a)=>{this.props.dispatch(ar.G({itemID:t.itemID,checked:e}))})},this.setChecked=(e,t)=>{this.props.dispatch(ar.G({itemID:e.itemID,checked:t}))},this.isChecked=e=>this.props.exports.checked[e.itemID]}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&ac.cancelJobs(this.state.exportingJobIds)}renderHeader(){if((0,o.kc)().ai_prod_rename_layers_moments&&this.state.renamingLayersRunning)return n.createElement("div",{className:aT},n.createElement("label",{className:aN},(0,_.tx)("fullscreen.export.renaming_layers")),n.createElement(en.nR,{className:aS,onClick:this.cancelAutoRename},(0,_.tx)("fullscreen.export.skip_rename")));if(this.isExporting())return n.createElement("div",{className:aT},n.createElement("label",{className:aN},(0,_.tx)("fullscreen.export.preparing_exporting_progress_of_exporting_total",{exportingProgress:this.state.exportingProgress,exportingTotal:this.state.exportingTotal})),n.createElement(en.nR,{className:aS,onClick:this.onCancel},(0,_.tx)("fullscreen.export.cancel")));if(this.state.exportingStarted||!this.props.saveAsState.startTime&&this.state.downloadStarted)return n.createElement("div",{className:aT},n.createElement("label",{className:aN},(0,_.tx)("fullscreen.export.exporting")));if(this.state.downloadStarted){if(!(this.props.saveAsState.totalImagesToDownload>0))return n.createElement("div",{className:aT},n.createElement("label",{className:aN},(0,_.tx)("fullscreen.export.downloading")));{let e=Math.min(this.props.saveAsState.totalImagesToDownload,this.props.saveAsState.totalImagesToDownload-this.props.saveAsState.remainingImagesToDownload);return n.createElement("div",{className:aT},n.createElement("label",{className:aN},(0,_.tx)("fullscreen.export.downloading_progress",{downloadingProgress:e,downloadingTotal:this.props.saveAsState.totalImagesToDownload})),n.createElement(en.nR,{className:aS,onClick:this.onCancel},(0,_.tx)("fullscreen.export.cancel")))}}{let e=this.props.exports.items||[],t=e.filter(this.isChecked).length,a=e.length,r=a===t;return n.createElement("div",{className:aT},n.createElement(t7.S,{checked:r,mixed:!r&&t>0,onChange:()=>this.setAllChecked(!r),label:n.createElement(t8.J,null,(0,_.tx)("fullscreen.export.num_selected_of_total_selected",{numSelected:t,total:a}))}),n.createElement(en.nR,{className:tg()(aS,"export_picker--flexRight--PFS7g"),disabled:!t,onClick:this.onExport,autoFocus:!0},(0,_.tx)("fullscreen.export.export")))}}render(){let e=this.props.exports.items&&this.props.exports.items.length>0;return n.createElement("div",null,n.createElement("div",{className:"export_picker--modal--FoIpV"},this.renderHeader(),n.createElement(at.P,{width:this.props.width,className:"export_picker--scrollContainer--F9sI6"},!e&&n.createElement("div",{className:"export_picker--emptyModal--x2aqt"},(0,_.tx)("fullscreen.export.no_selected_layers_with_export")),n.createElement(au.ZH,null,({documentExportColorProfile:t})=>e&&this.props.exports.items.map((e,a)=>n.createElement(aM,{key:a,colorProfile:t,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e)),isBeingRenamed:(0,o.kc)().ai_prod_rename_layers_moments&&e.isBeingRenamed,...e}))))))}}aP.displayName="ExportPicker";var aR=a(566418),aD=a(603689),aF=a(416095),aB=a(173454),aU=a(859703),aG=a(350730),aH=a(592096),aV=a(457630),aK=a(187882),az=a(750029),aW=a(428877),aj=a(991443);let aq="eyedropper_v2--text--dOiTx",aY="eyedropper_v2--rowContents--dv3nr",aX="eyedropper_v2--chit--1D1ND",aJ=(0,tM.jz)(tK.k22),aZ=(0,tM.jz)(tK.ZAq),aQ=n.createElement("div",{className:tg()(aq,"eyedropper_v2--keyTextBadge--ERRPy eyedropper_v2--keyBadge--9GITk")},n.createElement(th.S,{shortcut:"shift"}));function a$({eyedropper:e,canvasRef:t,underlyingStyle:a,underlyingVariable:r}){let i,s;let[c,d]=n.useState(!1),u=n.useRef(null),m=(0,aV._X)({subscribeToUpdates_expensive:!0}),p=(0,aK.Ye)(),f=(0,t9.Pg)(),g=(0,eB._)(),{left:h,right:E}=(0,aH.LO)(),y=(0,aW.Ig)(),v=(0,tU.Ku)(),b=(0,tJ.H0)(e.color)??tJ.UE,C=(0,tJ.H0)(e.resolvedVariableColor)??tJ.UE,w=y(b,{eyedropperFormat:!0}),k="";a?(k=a.name,i=n.createElement("div",null,n.createElement("div",{className:"eyedropper_v2--styleCircle--rLPqT"}),n.createElement(aj.zi,{dsStyle:a,disableOutline:!0,disableTooltip:!0})),s="eyedropper-v2-style"):r?(k=r.name,i=n.createElement(az.J,{className:aX,color:C,hideBorderShadow:!0}),s="eyedropper-v2-variable"):(0,o.kc)().ds_eyedropper_creation_flow&&(e.creationFlow===l._4o.STYLES?(k=(0,_.t)("eyedropper.create_style"),i=n.createElement(aG.J,null),s="eyedropper-v2-style-creation"):e.creationFlow===l._4o.VARIABLES&&(k=(0,_.t)("eyedropper.create_variable"),i=n.createElement(aG.J,null),s="eyedropper-v2-variable-creation"));let x=a||r?[aQ]:[],T=n.useCallback(()=>{let e=Object.keys(l.NVY).length/2,t=(v+1)%(e-1),a=[l.NVY.CSS,l.NVY.UIColor];for(;a.includes(t);)t=(t+1)%(e-1);(0,tU.UK)().colorFormat.set(t)},[v]),N=n.useCallback(e=>{"Tab"===e.key&&(e.preventDefault(),T()),e.shiftKey&&d(!0)},[T]),S=n.useCallback(e=>{e.shiftKey||"Shift"!==e.key||d(!1)},[]);return n.useEffect(()=>{let e=()=>{u.current&&(u.current.style.visibility="hidden")};return window.addEventListener("keydown",N),window.addEventListener("keyup",S),window.addEventListener("pointerout",e),()=>{window.removeEventListener("keydown",N),window.removeEventListener("keyup",S),window.removeEventListener("pointerout",e)}}),n.useEffect(()=>{if(!u.current)return;let t=((e,t)=>{let a={top:g,left:p?0:h,right:m.width-Math.max(E,aJ+26),bottom:m.height-f-aZ-8},n=e+13;e<a.left?n=a.left+13:e>a.right&&(n=e-aJ-4);let r=t+14;return t>a.bottom&&(r=Math.min(a.bottom,t-f-24)),{x:n,y:r}})(e.cursorPosition.x,e.cursorPosition.y);u.current.style.transform=`translate(${t.x}px, ${t.y}px)`,u.current.style.visibility="visible"},[g,e.cursorPosition,p,h,E,f,m.height,m.width,S,N]),n.createElement("div",{className:tg()("eyedropper_v2--eyedropperv2----W5m"),ref:u},n.createElement("div",{className:tg()("eyedropper_v2--loupeSamplingSquare--mt9xT")}),n.createElement("canvas",{ref:t}),n.createElement("div",null,n.createElement(a0,{icon:n.createElement(az.J,{className:aX,color:b,hideBorderShadow:!0}),text:w,keyBadges:[],isSelected:!c}),n.createElement(a0,{icon:i,text:k,keyBadges:x,isSelected:c,dataTestId:s})))}function a0({icon:e,text:t,keyBadges:a,isSelected:r,dataTestId:l}){return n.createElement("div",{className:tg()("eyedropper_v2--menuRow--IGEss",r&&"eyedropper_v2--selectedRow--GlyoK",b.Dm),"data-testid":l},n.createElement("div",{className:aY},n.createElement("div",{className:"eyedropper_v2--iconContainer--TVZ5N"},e),n.createElement("div",{className:tg()("eyedropper_v2--menuOption--WK4oh",aq)},t)),n.createElement("div",{className:aY},a&&a.map((e,t)=>n.createElement("div",{key:t},e))))}let a1="eyedropper_view--label--PsjGr",a2="rgba(0, 0, 0, 0.1)";function a5(){let e=(0,r.d4)(e=>e.eyedropper),t=(0,r.d4)(e=>e.library.local.styles),a=(0,D.md)(aU.Cg),i=(0,r.d4)(e=>e.library.used__LIVEGRAPH.styles),s=(0,eC.p8)("showUi"),c=(0,aD.lz)(),d=(0,q.ks)(),u=(0,ey.ow)(),m=(0,tF.GS)(),p=(0,o.kc)().ds_library_eye_dropper&&m,_=(0,tU.qw)(),f=document.createElement("canvas"),g=f.getContext("2d"),h=n.useRef(null),E={},y=p?7:17,v=p?7:10,b=p?48:y*v,C=b/2;if(n.useLayoutEffect(()=>{h.current&&N(h.current)}),!e)return null;let w=((0,o.kc)().ds_style_eye_dropper||p)&&(()=>{let n=e.assetId,r=e.variableSetModeId;if(""===n)return null;let o=null,s=null;if(aR.PK.isValid(n)?!(o=aR.PK.toGuidStrIfLocal(n))&&(s=aR.PK.toRefIfSubscribed(n))&&(o=aR.PK.fromRef(s)):aR.sD.isValid(n)&&(o=aR.sD.toString(n)),!o)return null;if(o in E)return E[o];if(o in t){let e={style:t[o]};return E[o]=e,e}if(o in a){let e={variable:a[o],variableModeId:r};return E[o]=e,e}if(s){let e=(0,aF.yh)(s.key,i,{}),t=null;return e&&(t={style:e},E[o]=t),t}let c=l.CWU.getSubscribedVariableInfo(o);if(c){let e={variable:(0,aB.ZI)(c),variableModeId:r};return E[o]=e,e}return null})(),k=t=>{t.save();{p?t.roundRect(0,0,48,48,5):t.arc(C,C,C-2,0,2*Math.PI,!1),t.clip();let{width:a,height:n,rgba:r,grid:l}=e;if(g){let e=g.createImageData(a,n);e.data.set(r),f.width=a,f.height=n,g.putImageData(e,0,0),t.imageSmoothingEnabled=!1,t.drawImage(f,0,0,b,b)}if(l){t.beginPath();let e=p?1:0,a=p?-.5:.5;for(let n=1;n<y;n++)a+=v,t.moveTo(a,e),t.lineTo(a,b-e),t.moveTo(e,a),t.lineTo(b-e,a);t.strokeStyle=p?a2:"rgba(51, 51, 51, 0.2)",t.stroke()}}t.restore()},x=e=>{p||(e.strokeStyle="white",e.strokeRect(C-v/2-.5,C-v/2-.5,v+2,v+2),e.strokeStyle="black",e.strokeRect(C-v/2+.5,C-v/2+.5,v,v))},T=e=>{if(p){e.beginPath(),e.roundRect(.5,.5,47,47,5),e.strokeStyle=a2,e.stroke();return}e.beginPath(),e.arc(C,C,C-1,0,2*Math.PI,!1),e.strokeStyle="white",e.stroke(),e.beginPath(),e.arc(C,C,C-2,0,2*Math.PI,!1),e.strokeStyle="black",e.stroke()},N=e=>{let t=e.getContext("2d");if(!t)return;let a=devicePixelRatio;e.width=b*a,e.height=b*a,t.scale(a,a),k(t),x(t),T(t)},S=s&&!u?m?d?c+(0,tM.jz)(tK.ms_):_+(0,tM.jz)(tK.ms_):d?c:(0,tM.jz)(tK.uj0):0;return p?n.createElement(a$,{eyedropper:e,canvasRef:h,underlyingStyle:w&&w?.style?w.style:void 0,underlyingVariable:w&&w?.variable?w.variable:void 0}):n.createElement("div",{className:tg()({"eyedropper_view--container--Qpjgx":!0,"eyedropper_view--topToolbarShown--Aoby4":s,"eyedropper_view--topToolbarHidden--Auk7e":!s}),style:{width:b,height:b,right:(0,tM.jz)(tK.ms_)+S}},n.createElement("canvas",{ref:h}),(0,o.kc)().ds_style_eye_dropper?n.createElement("div",{className:a1,style:{left:3*v,right:3*v,top:2*C+v,lineHeight:1.5*v+"px",borderRadius:v/2,padding:v/2+"px"}},(()=>{if(w){if(w.style)return w.style.name;if(w.variable)return w.variable.name}return e.color})()):n.createElement("div",{className:a1,style:{left:3*v,right:3*v,top:C+4*v,lineHeight:2*v+"px",borderRadius:v}},e.color))}var a3=a(153234),a4=a(773058),a6=a(28928),a7=a(959232),a8=a(318812),a9=a(541878),ne=a(179447),nt=a(7959),na=a(538697),nn=a(585878);let nr="figjam_export_pickers--selectRow--aTA0S figjam_export_pickers--row--iT7Hm",nl="figjam_export_pickers--label--a71ES",ni="figjam_export_pickers--dropdownPlaceholderText--JNOu2 ellipsis--ellipsis--Tjyfa",no="figjam_export_pickers--backgroundTypeIcon--s-7IZ",ns="figjam_export_pickers--option--WG1Jy";var nc=a(967063);class nd extends na.l6{}class nu extends na.c${}class nm extends na.l6{}class np extends na.c${}class n_ extends na.l6{}class nf extends na.c${}class ng extends na.l6{}class nh extends na.c${}let nE={PNG:l.v8u.PNG,JPG:l.v8u.JPEG,CSV:l.v8u.CSV,PDF:l.v8u.PDF},ny=e=>{switch(e){case l.v8u.PNG:return"PNG";case l.v8u.JPEG:return"JPG";case l.v8u.CSV:return"CSV";case l.v8u.PDF:return"PDF"}},nv=e=>{switch(e){case l.ZRE.SOLID:return(0,_.t)("whiteboard.figjam_export.solid");case l.ZRE.TRANSPARENT:return(0,_.t)("whiteboard.figjam_export.transparent");case l.ZRE.GRID:return(0,_.t)("whiteboard.figjam_export.grid")}},nb=e=>{switch(e){case l.EUU.TABLE:return(0,_.t)("whiteboard.figjam_export.table");case l.EUU.STICKY:return(0,_.t)("whiteboard.figjam_export.sticky")}},nC={format:e=>nv(e)},nw={format:e=>nb(e)},nk=e=>{switch(e){case"selection":return(0,_.t)("whiteboard.figjam_export.selection_only");case"file":return(0,_.t)("whiteboard.figjam_export.entire_file")}},nx={format:e=>nk(e)},nT=e=>{switch(e){case l.v8u.CSV:return[];case l.v8u.JPEG:return[l.ZRE.SOLID,l.ZRE.GRID];case l.v8u.PNG:return[l.ZRE.TRANSPARENT,l.ZRE.SOLID,l.ZRE.GRID];case l.v8u.PDF:return[l.ZRE.SOLID]}};function nN(e,t){return nT(t).includes(e)}function nS(e){switch(e.background){case l.ZRE.TRANSPARENT:return n.createElement("div",{className:no,style:{background:`url(${(0,a7.A)()})`,backgroundSize:"5px 5px"}});case l.ZRE.GRID:return n.createElement("div",{className:`figjam_export_pickers--gridIcon--mPS09 thumbnail_DEPRECATED--lightModeDotGrid--ZUhXy thumbnail_DEPRECATED--thumbnailContainer--xPcsg ${no}`});case l.ZRE.SOLID:return n.createElement("div",{className:`${no} figjam_export_pickers--solidIcon--Gt-95`})}}let nI=n.memo(function(){let e=(0,r.wA)(),t=()=>{e(ed._O())};return n.createElement(nn.XV,{title:(0,_.t)("whiteboard.figjam_export.export"),headerClassName:"figjam_export_pickers--modalHeader--E6NRM",headerSize:"small",closeOnEsc:!0,onClose:t,minWidth:364,maxWidth:364},n.createElement(nA,{onCancel:t,recordingKey:"exportSettingsPicker",dispatch:e}))});function nA(e){let t=(0,a8.Um)(),a=(0,P.J2)(l.Ez5.editorPreferences().exportSelectionSettings),i=(0,r.d4)(e=>e.exportSettingsPickerShown.pickerInfo??{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}),[s,c]=n.useState(a.fileType),[d,u]=n.useState(a.contentType),[p,f]=n.useState(a.backgroundType),g=e=>{switch(e){case l.v8u.JPEG:return a9.Ho;case l.v8u.PDF:return a9.JI;default:return a9.GU}},[h,E]=n.useState(()=>0===a.quality?g(a.fileType):a.quality),y=(0,r.d4)(e=>!!e.mirror.selectionProperties.numSelected),[v,b]=n.useState(y?"selection":"file"),[C,w]=n.useState(!1),k=e=>{c(e),nN(p,e)||f(l.ZRE.SOLID),E(g(e))},x=(e,t)=>{E((0,a9.t_)(e,t))},T=nT(s).length>1,N=nv(nT(s)[0])||(0,_.t)("whiteboard.figjam_export.no_background"),S=ny(s),I=i.nodeCounts.selectionStickyCount>0||i.nodeCounts.canvasStickyCount>0,A=i.nodeCounts.selectionTableCount>0||i.nodeCounts.canvasTableCount>0,L=I||A,O=(0,a9.dB)(h,s);return n.createElement("div",{className:"figjam_export_pickers--modalContainer--ecxGT"},n.createElement("div",{className:"figjam_export_pickers--row--iT7Hm"},n.createElement(nt.JU,{className:nl},(0,_.tx)("whiteboard.figjam_export.file_type")),n.createElement(a4.z,{className:"figjam_export_pickers--radioGroup--UXiC-",value:S,onChange:e=>k(nE[e]),recordingKey:a3.Pt(e,"exportFileTypeRadioGroup")},(m.Ay.isIpadNative?[l.v8u.PNG,l.v8u.JPEG,l.v8u.PDF]:[l.v8u.PNG,l.v8u.JPEG,l.v8u.PDF,l.v8u.CSV]).map(t=>{let a=t===l.v8u.CSV&&!L;return n.createElement(a4.Z,{value:ny(t),key:t,labelClassName:"figjam_export_pickers--radioLabel--zw-U-",recordingKey:a3.Pt(e,`exportFileTypeRadioGroup.${ny(t)}`),disabled:a,"data-tooltip-type":a&&ay.Ib.TEXT,"data-tooltip":a&&(0,_.t)("whiteboard.figjam_export.csv_disabled")},ny(t))}))),s===l.v8u.CSV&&n.createElement("div",{className:nr},n.createElement(nt.JU,{className:nl},(0,_.tx)("whiteboard.figjam_export.content_type")),n.createElement(n_,{id:"exportSettingsPickerContentTypeControl",className:"figjam_export_pickers--contentTypeSelect--Ioh5g",inputClassName:"figjam_export_pickers--contentTypeInput--3duA- figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:d,onChange:u,formatter:nw,recordingKey:a3.Pt(e,"contentTypeSelect"),dropdownShown:t,blurOnChange:!0},[l.EUU.TABLE,l.EUU.STICKY].map(t=>{let a=t===l.EUU.STICKY&&!I||t===l.EUU.TABLE&&!A;return n.createElement(nf,{value:t,key:t,disabled:a,additionalStylesClassName:ns,recordingKey:a3.Pt(e,`contentTypeSelect.${nb(t)}`)},nb(t))}))),(0,o.kc)().ce_fj_export_quality_selector&&(0,o.kc)().ce_jpeg_export_quality_selector&&(0,o.kc)().ce_pdf_export_quality_selector&&(s===l.v8u.PDF||s===l.v8u.JPEG)&&n.createElement("div",{className:nr},n.createElement(nt.JU,{className:nl},(0,_.tx)("fullscreen.properties_panel.export_settings_quality")),n.createElement(nm,{className:"figjam_export_pickers--qualitySelect--PT7cb",id:"exportSettingsPickerQualityControl",inputClassName:"figjam_export_pickers--qualityInput--GbL5K figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:void 0!==O?O:a9.Kj.HIGH,onChange:e=>{x(e,s)},formatter:(0,ne.Q)(),recordingKey:a3.Pt(e,"qualitySelect"),dropdownShown:t,dropdownAlignment:"right"},n.createElement(np,{value:a9.Kj.HIGH,recordingKey:a3.Pt(e,"exportQuality","high")}),n.createElement(np,{value:a9.Kj.MEDIUM,recordingKey:a3.Pt(e,"exportQuality","medium")}),n.createElement(np,{value:a9.Kj.LOW,recordingKey:a3.Pt(e,"exportQuality","low")}))),n.createElement("div",{className:nr},n.createElement(nt.JU,{className:nl},(0,_.tx)("whiteboard.figjam_export.background")),!T&&n.createElement(nt.JU,{className:ni},N),T&&n.createElement(nd,{id:"exportSettingsPickerBackgroundTypeControl",className:"figjam_export_pickers--backgroundTypeSelect--eexDx",inputClassName:"figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:p,onChange:f,formatter:nC,recordingKey:a3.Pt(e,"backgroundTypeSelect"),dropdownShown:t,dropdownAlignment:"right",blurOnChange:!0,icon:n.createElement(nS,{background:p,disabled:!1}),iconClassName:"figjam_export_pickers--svgStyles--G9Vof"},[l.ZRE.GRID,l.ZRE.TRANSPARENT,l.ZRE.SOLID].map(t=>{let a=!nN(t,s);return n.createElement(nu,{value:t,key:t,disabled:a,additionalStylesClassName:ns,recordingKey:a3.Pt(e,`backgroundTypeSelect.${nv(t)}`),height:32},n.createElement("div",{className:"figjam_export_pickers--backgroundOptionWrapper--DkFx1"},n.createElement(nS,{background:t,disabled:a}),n.createElement("span",{className:"figjam_export_pickers--backgroundTypeLabel--b--Px ellipsis--ellipsis--Tjyfa"},nv(t))))}))),n.createElement("div",{className:y?nr:"figjam_export_pickers--exportAreaPlaceholderRow--G7H-m figjam_export_pickers--selectRow--aTA0S figjam_export_pickers--row--iT7Hm"},n.createElement(nt.JU,{className:nl},(0,_.tx)("whiteboard.figjam_export.export_area")),!y&&n.createElement(nt.JU,{className:ni},nk("file")),y&&n.createElement(ng,{id:"exportSettingsPickerExportAreaTypeControl",className:"figjam_export_pickers--exportAreaSelect--GP6S-",inputClassName:"figjam_export_pickers--exportAreaInput--AbQMJ figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:v,onChange:b,formatter:nx,recordingKey:a3.Pt(e,"exportAreaTypeSelect"),dropdownShown:t,blurOnChange:!0},["selection","file"].map(t=>n.createElement(nh,{key:t,value:t,additionalStylesClassName:ns,recordingKey:a3.Pt(e,`exportAreaTypeOption.${nk(t)}`)},nk(t))))),n.createElement("div",{className:"figjam_export_pickers--buttonContainer---c6mP"},(()=>{if(!i)return!1;switch(s){case l.v8u.PNG:case l.v8u.JPEG:return("selection"===v?i.selectionArea:i.canvasArea)>=15e7;case l.v8u.PDF:return("selection"===v?i.nodeCounts.selectionNodeCount:i.nodeCounts.canvasNodeCount)>=300;case l.v8u.CSV:return!1}})()&&n.createElement("div",{className:"figjam_export_pickers--exportWarning--KzT0q text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(aa.B,{className:"figjam_export_pickers--infoIcon--H0pOt",svg:nc.A}),(0,_.tx)("whiteboard.figjam_export.exporting_may_take_a_minute_or_two")),n.createElement(en.$$,{onClick:()=>{w(!0),e.dispatch(a6.n.set({message:(0,_.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{l.Ez5.editorPreferences().exportSelectionSettings.set({contentType:d,fileType:s,backgroundType:p,quality:h}),"selection"===v?l.glU.exportSelectionOrCurrentPage(!0,i.selectionArea,i.nodeCounts.selectionNodeCount):l.glU.exportSelectionOrCurrentPage(!1,i.canvasArea,i.nodeCounts.canvasNodeCount),e.dispatch(an.rg()),e.dispatch(ed._O())}}))},recordingKey:a3.Pt(e,"exportButton"),disabled:C,className:"figjam_export_pickers--exportButtonStyles--KYDuq"},(0,_.tx)("whiteboard.figjam_export.export"))))}var nL=a(384252),nO=a(756085),nM=a(675678),nP=a(934533),nR=a(887326);function nD(e){return{attachmentId:e.id,attachmentUploadedAt:e.uploadedAt.toString(),imageUrlPrefix:function(e){if(-1!==e.search("blob"))return"blob";let t=e.search("/images/");if(-1!==t)return e.substring(0,t)}(e.imageUrl)}}function nF(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.mirror.appModel),l=e.clientX,i=e.clientY,o=async t=>{let a=await fetch(e.attachment.imageUrl,{mode:"cors"}),n=await a.blob();if(!t)return n;if("image/jpeg"===n.type||"image/gif"===n.type){let e=await createImageBitmap(n),t=document.createElement("canvas");t.width=e.width,t.height=e.height;let a=t.getContext("2d");return a?.drawImage(e,0,0),new Promise(e=>{t.toBlob(t=>{e(t)},"image/png")})}return n},s=[{name:"download-attachment",callback:async()=>{try{await o(!1).then(a=>{let n=URL.createObjectURL(a),r=document.createElement("a");r.href=n,r.download=(0,_.t)("comments.attachment_default_name",{fileExtension:a.type.split("/")[1]}),r.click(),URL.revokeObjectURL(n),(0,J.sx)("Comment Attachment Download Success",nD(e.attachment)),t(f.F.enqueue({message:(0,_.t)("comments.download_attachment_success"),type:"attachment-download"}))})}catch(a){(0,J.sx)("Comment Attachment Download Failure",nD(e.attachment)),(0,w.$D)(nM.FigmaTeam.FEEDBACK,a),t(f.F.enqueue({message:(0,_.t)("comments.download_attachment_error"),type:"attachment-download",error:!0}))}}},{name:"copy-attachment",callback:async()=>{t(f.F.enqueue({message:(0,_.t)("comments.copying_attachment"),type:"copy-attachment",icon:nP.zX.SPINNER}));try{await o(!0).then(async a=>{let n=new ClipboardItem({[a.type]:a});await navigator.clipboard.write([n]).then(()=>{(0,J.sx)("Comment Attachment Copy Success",nD(e.attachment)),t(f.F.enqueue({message:(0,_.t)("comments.copy_attachment_success"),type:"copy-attachment"}))})})}catch(a){(0,J.sx)("Comment Attachment Copy Failure",nD(e.attachment)),(0,w.$D)(nM.FigmaTeam.FEEDBACK,a),t(f.F.enqueue({message:(0,_.t)("comments.copy_attachment_error"),type:"copy-attachment",error:!0}))}}}];return n.createElement(nR.Q,{appModel:a,menuItems:s,targetRect:{width:10,height:10,left:l+100,top:i,right:l+110,bottom:i-10},showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var nB=a(91425),nU=a(728268),nG=a(256975),nH=a(939683),nV=a(911826),nK=a(699857),nz=a(416393);function nW({children:e,entryPoint:t}){let a=(0,j.tS)(),r=(0,A.iZ)(),l=(0,eO.ol)(),i=(0,nV.O)(),o=(0,nH.U)(),s=(0,nK.U)("upsell"),c=(0,n.useCallback)(()=>{o("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:t},{forwardToDatadog:!0}),s("handoff")},[t,s,o]);return n.createElement(eE.fu,{name:"Dev Mode Upsell In Design Mode",properties:{currentPlan:i,teamId:l?.id,userId:r?.id,fileKey:a,upsell:t}},n.createElement("div",{className:"context_menus_upsells--upsellItem--lBYll",onClick:c,tabIndex:0,role:"button"},n.createElement(aa.B,{svg:nz.A}),n.createElement("span",null,e)))}function nj(){return n.createElement(nW,{entryPoint:"design_section_status"},(0,_.tx)("dev_handoff.paywall.ready_for_dev.upsell"))}function nq(){return n.createElement(nW,{entryPoint:"design_copy_as_code"},(0,_.tx)("dev_handoff.paywall.codegen.upsell"))}function nY(){return n.createElement(nW,{entryPoint:"design_annotations"},(0,_.tx)("dev_handoff.paywall.annotations.upsell"))}function nX({targetInViewport:e,annotationsCount:t,selectedView:a}){var l;let i=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),s=(0,r.d4)(e=>e.mirror.sceneGraph),c=(0,nK.U)("annotations_button"),d=(0,aV.ni)(),u=(0,nG._I)(),m=(0,nG.U4)(),p=(l=()=>c("handoff"),u?[{name:"view-annotations",callback:l,flags:["design"]}]:m?[{header:!0,name:(0,_.t)("dev_handoff.annotation.number_annotations",{count:t})},{separator:!0},{render:()=>n.createElement(nY,null),optionHeight:32,flags:["design"]}]:[{header:!0,name:(0,_.t)("dev_handoff.annotation.number_annotations",{count:t})}]),f=e.origin.x+d.x,g=e.origin.y+d.y,h={left:f,top:g,right:f+e.size.x,bottom:g+e.size.y,width:e.size.x,height:e.size.y};return n.createElement("div",{className:b.Dm},n.createElement(nR.Q,{appModel:o,sceneGraph:s,selectedView:a,menuItems:p,dispatch:i,showPoint:!0,targetRect:h,removeDisabledItems:m,recordingKey:"annotationsButtonMenu",minWidth:50,allowDisabledOnly:!m}))}var nJ=a(975350),nZ=a(707465),nQ=a(440535);function n$(e){let t=(0,r.wA)(),a=(0,v.I_)(),l=(0,r.d4)(e=>e.mirror.appModel);if(!(0,r.d4)(e=>(0,nZ.U2)(e.selectedView)))return null;let{thread:i}=e,o=!!i.comments.find(e=>e.isUnread),s=!!i.isPendingFromSinatra,c=null,d=a.commentReceipts;d&&(c=o?{name:"mark-as-read",callback:()=>{t(nJ.AY({receiptsAPI:d,thread:i}))}}:{name:"mark-as-unread",callback:()=>{t(nJ.QY({receiptsAPI:d,comment:i.comments[0]}))}});let u=[];s||((0,nQ.m)(i.sidebarItemType)?u.push({name:"resolve",callback:()=>{t(nJ.hx({thread:i,resolved:!0}))},disabled:null!=i.commentPin},c,{name:"copy-link",callback:()=>{e.copyLink(i.comments[0])}},{separator:!0}):u.push({name:"copy-link",callback:()=>{e.copyLink(i.comments[0])}},{separator:!0})),u.push({action:"toggle-show-comments",displayText:(0,_.t)("fullscreen.context_menu.hide_comments")});let m=u.filter(e=>e).map(e=>e),p={width:224,height:129,left:e.pinClientRect.x,top:e.pinClientRect.y,right:e.pinClientRect.x+e.pinClientRect.width,bottom:e.pinClientRect.y+e.pinClientRect.height};return n.createElement(nR.Q,{appModel:l,menuItems:m,targetRect:p,showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var n0=a(459401),n1=a(593779),n2=a(157663),n5=a(27087),n3=a(413145),n4=a(113853),n6=a(941381),n7=a(297281);async function n8({paint:e,fileKey:t,dispatch:a}){if(!t||"VIDEO"!==e.type||!e.video||!e.video?.hash)return re("Incorrect asset type"),null;a(a6.n.set({message:(0,_.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{}}));let n=await (0,n7.tW)({paint:e,fileKey:t});if(null===n)return re("Error getting download url for asset"),null;n9(n)}let n9=e=>{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},re=e=>{(0,w.$D)(nM.FigmaTeam.FIGJAM,Error(`Error exporting video: ${e}`))};var rt=a(944682),ra=a(145519),rn=a(640262),rr=a(465201),rl=a(529529),ri=a(325680),ro=a(886119),rs=a(988022),rc=a(697551),rd=a(27703),ru=a(662531),rm=a(686759),rp=a(450225),r_=a(128803);function rf(e){return new URL(e).hostname.split(".").slice(-2).join(".")}var rg=a(248639),rh=a(843495),rE=a(990922),ry=a(850168),rv=a(460289),rb=a(132135),rC=a(892542),rw=a(288641),rk=a(215822),rx=a(384792),rT=a(772192),rN=a(496470),rS=a(555328),rI=a(376485),rA=a(779086),rL=a(319882),rO=a(301922),rM=a(987850),rP=a(239737),rR=a(132572),rD=a(384775),rF=a(610043),rB=a(606432),rU=a(41398),rG=a(872429),rH=a(983724),rV=a(326186),rK=a(656147),rz=a(565831);function rW(e,t){return{action:"slides-rewrite-text",flags:["slides"],featureFlags:["figjam_ai_piper_text_manipulation","slides_10_launch_tone_dial_update"],callback:()=>(0,rV.mD)(e,{source:"context_menu"}),disabled:!t}}function rj(e){let t=D.zl.get(rV.Tm),a=!!(0,o.kc)().slides_10_launch_tone_dial_update;return!t&&a&&e}var rq=a(828736);let rY=(0,tM.hG)(tK.tui);class rX extends n.PureComponent{items(){var e,t,a,n;let r=this.props.isPrototypeCanvasEditUiVisible&&!this.props.hasSelection?[{separator:!0},{action:"remove-interactions-on-page",flags:["edit"]}]:[],i=window.FigmaMobile,o=r6(this.props.appModel.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,i?.requestToAddDraftCommentPin),s=this.props.selectedView.editorType===z.nT.Whiteboard,c=this.props.selectedView.editorType===z.nT.Slides,d=(0,q.$A)(this.props.selectedView),u=m.Ay.windows?"Ctrl+":"\u2318",p={action:"paste-here",flags:["edit"],displayText:s?(0,_.t)("fullscreen_actions.paste"):void 0,shortcutText:s?`${u}V`:void 0},f={action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:(0,_.t)("fullscreen_actions.paste-as-live-object")},g=!m.Ay.safari||i?.readClipboardData?[p,f,s?{separator:!0}:null]:[],h={name:"start-chat",disabled:this.props.isJoinedToActiveVotingSession||this.props.isCursorChatDisabled,callback:(e,t,a,n)=>{l.glU.triggerAction("set-tool-default",null),this.props.dispatch(ra.F6({position:{x:n.clientX||this.props.clientX,y:(n.clientY||this.props.clientY)-rY},source:"canvas_context_menu"}))}},E=(e=this.props.hasSlidesAiTextEnabled,t={x:this.props.clientX,y:this.props.clientY},a=this.props.slideId,n=this.props.viewportInfo,!!(a&&n&&(0,rz.ih)(a,t,n))&&rj(e)),y=rW(this.props.dispatch,E),v=this.props.openFile,b=this.props.canPublishOrgTemplate&&v?(0,rq.w)({dispatch:this.props.dispatch,file:{key:v.key,name:v.name,folder_id:v.folderId,team_id:v.teamId,editor_type:v.editorType,parent_org_id:v.parentOrgId},fileNeedsMovingBeforePublish:this.props.fileNeedsMovingBeforePublish,isPublished:this.props.isFilePublishedTemplate,source:"fullscreen-context-menu"}):null,C=[{action:"toggle-ui"},{action:"toggle-show-comments",displayText:(0,_.t)("fullscreen.context_menu.show_hide_comments")},...s?[]:[{separator:!0},h],s?null:{action:"toggle-menu",displayText:(0,rD.gn)()?(0,_.t)("fullscreen_actions.toggle-actions-menu"):(0,_.t)("fullscreen_actions.toggle-menu")},!this.props.userCanRunPlugins||c?null:(0,rl.qz)({...this.props,isReadOnly:this.props.appModel.isReadOnly},"contextmenu"),this.props.appModel.isReadOnly||d||c?null:(0,ri.Vd)(this.props,"contextmenu"),b,...r];return[...o,...g,{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},...s?[h,{separator:!0}]:[],...c?[{separator:!0},y]:[],...C]}render(){let e=this.props.clientX,t=this.props.clientY;return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:this.props.appModel,menuItems:(0,n0.removeNullish)(this.items()),selectedView:this.props.selectedView,dispatch:this.props.dispatch,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,recordingKey:"canvasMenu",allowCodegenOptions:this.props.selectedView.editorType===z.nT.Design,isLimitedDevMode:this.props.isLimitedDevMode,"aria-labelledby":this.props.ariaLabelledBy}))}}rX.displayName="CanvasContextMenu";let rJ=(0,r.Ng)((e,t)=>({...t,appModel:e.mirror.appModel,openFile:e.openFile,editorType:e.selectedView.editorType,orgEntity:(0,rc.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,isJoinedToActiveVotingSession:(0,rv.gR)(e),hasSelection:Object.keys(e.mirror.sceneGraphSelection).length>0,isDevHandoff:(0,q.$A)(e.selectedView)}))(rX);function rZ(e){let t=(0,nO.op)(),a=(0,nO.$1)(),l=(0,nO.cW)(),i=(0,nO.Be)(),o=i.orgPlugins,s=i.orgWidgets,c=(0,ro.h)("plugin"),d=(0,ro.h)("widget"),u=(0,nO.NU)(),m=(0,nO.qr)(),p=(0,nO.ZT)(),_=(0,rO.S)(),f=(0,nH.am)();n.useEffect(()=>{f("Canvas Right Click")},[f]);let g=(0,aV._X)({subscribeToUpdates_expensive:!0}),h=(0,tb.J3)(),E=(0,tb.JU)(h),y=h===tb.kN.FILE_IN_DRAFTS,v=!!(0,tb.kD)(),b=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),C=r8(),w=(0,rV.Ne)(),k=(0,rH.Jb)();return n.createElement(rJ,{...e,isPrototypeCanvasEditUiVisible:C,allSavedPlugins:i.plugins,recentlyUsedPlugins:t,localExtensions:a,publishedPlugins:l,viewportInfo:g,activeTextReviewPlugin:b,canPublishOrgTemplate:E,isFilePublishedTemplate:v,fileNeedsMovingBeforePublish:y,savedWidgetVersions:u,recentlyUsedWidgets:m,publishedWidgets:p,orgSavedPlugins:o,orgSavedWidgets:s,orgPrivatePlugins:c,orgPrivateWidgets:d,isCursorChatDisabled:_,hasSlidesAiTextEnabled:w,slideId:k})}class rQ extends n.PureComponent{constructor(){super(...arguments),this.savepointMenuItems=(e,t)=>{let a=this.props.version,n=(0,rA.pW)(a),r={name:this.props.editName||"savepoint-edit",args:{version:a,checkpointKey:e},callback:t},l={name:"savepoint-restore",args:{version:a,checkpointKey:e},callback:t},i={name:"savepoint-duplicate",args:{version:a,checkpointKey:e},callback:t,disabled:this.props.disableDuplicate},s={name:"savepoint-clear",args:{version:a,checkpointKey:e},callback:t,disabled:!this.props.enableClear},c={name:"savepoint-link",args:{version:a,checkpointKey:e},callback:t},d=[];if(this.props.userCanEditFile?n?"branch_child_merge"===a.view?d.push(r,l,i,c):d.push(l,i,c):d.push(r,l,i,s,c):d.push(i,c),(0,o.kc)().version_diffing&&this.props.selectedView.editorType!==z.nT.Whiteboard&&!(0,q.$A)(this.props.selectedView)&&d.push({name:"savepoint-compare",args:{version:a,checkpointKey:e},callback:t}),(0,q.$A)(this.props.selectedView)){let e=["savepoint-restore","savepoint-clear"];return d.filter(t=>!e.includes(t.name))}return d}}render(){let e=this.props.clientX,t=this.props.clientY,a=this.savepointMenuItems(this.props.checkpointKey,this.props.callback);return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:this.props.appModel,menuItems:a,dispatch:this.props.dispatch,selectedView:this.props.selectedView,showPoint:!0,targetRect:{width:10,height:10,left:e-5,top:t+7,right:e+5,bottom:t+17},removeDisabledItems:!1,recordingKey:"savepointMenu"}))}}rQ.displayName="SavepointContextMenu";let r$=(0,r.Ng)((e,t)=>({...t,appModel:e.mirror.appModel}))(rQ),r0=(e,t)=>l.glU.getObjectsListUnderCursor(e,t),r1=class e extends n.PureComponent{constructor(e){super(e),this.objectsListMouseEnter=e=>{rh.Uc(e)},this.objectsListMouseExit=()=>{rh.Uc("")},this.getSelectionGuid=()=>Object.keys(this.props.sceneGraphSelection)[0],this.getObjectsListMenu=(e,t)=>{let a=r0(e,t);if(null==a)return[];let n=[];for(let e of a){let t=e.nodeId;n.push({nodeId:t,args:{nodeId:t,name:e.name},action:"select-node",displayText:(0,_.t)("fullscreen_actions.select-node",{name:e.name??""}),onMouseEnter:()=>this.objectsListMouseEnter(t),onMouseExit:this.objectsListMouseExit})}return n},this.getNodeType=()=>{let e=this.getSelectionGuid();return l.glU.getNodeType(e)},this.getPageListForMoveToMenu=()=>{let e=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==e||e.length<2)return[];let t=[];for(let a of e)a.nodeId!==this.props.appModel.currentPage&&(a.isDivider?t.push({separator:!0}):t.push({name:a.name,args:{nodeId:a.nodeId,name:a.name},action:"page-move-to",displayText:(0,_.t)("fullscreen_actions.page-move-to",{name:a.name??""})}));return t},this.state={pageItems:this.getPageListForMoveToMenu(),relatedComponentMenu:this.getRelatedComponentMenu(l.iCO.NONE),relatedStateMenu:this.getRelatedComponentMenu(l.iCO.STATE_INSTANCE),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY),nodeType:this.isFigjam()?this.getNodeType():null,hyperlink:this.isFigjam()?this.getHyperlinkUnderCursor():null}}getRelatedComponentMenu(e){let t;if(e!==l.iCO.NONE&&e!==l.iCO.STATE_INSTANCE)return null;let a={userId:this.props.user?.id,fileKey:this.props.openFile?.key,orgId:this.props.openFile?.parentOrgId??void 0,teamId:this.props.openFile?.teamId??void 0},n=(0,rN.SY)(this.props.masterSymbolGUID,this.props.dispatch,this.props.openFile?.key||"",(0,n1.l)(this.props.openFile?.libraryKey??""),this.props.fileByKey,this.props.library,this.props.sceneGraph,this.props.sceneGraphSelection,this.props.fileVersion,e,a,this.props.stateGroupSelectionInfo);if(0===n.length)return null;t=e===l.iCO.STATE_INSTANCE?"relatedComponentMenuSwapVariants":"relatedComponentMenu";let r=this.props.clientX,i=this.props.clientY;return{items:n,showPoint:!1,parentRect:{width:10,height:10,left:r+100,top:i,right:r+110,bottom:i-10},recordingKey:t,dispatch:this.props.dispatch,depth:0,onSelectItem:()=>{}}}getHyperlinkUnderCursor(){return l.glU.getHyperlinkUnderCursor(this.props.clientX,this.props.clientY)}selectLayerMenu(){return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>1?this.state.objectItems:[]}textEditModeMenu(){let e=this.getCopyPasteMenu(),t=this.getCopyExportMenu(),a=this.props.spellCheckPreference,n=this.props.appModel.spellCheckSuggestions,r=n||!a?[{name:"spell-check-menu",flags:["design","whiteboard","slides"],children:[(0,ry.x)(),{separator:!0},...(0,ry.A)()]},...this.props.userCanRunPlugins?(0,rl.dL)(this.props,"contextmenu"):[]]:[];return[...a||this.props.appModel.activeTextReviewPlugin?r7(n,this.props.editorType):[],...r,{separator:!0},...this.getTableCellMenu(),{separator:!0},...e,{separator:!0},...this.isFigjam()?t:[]]}getFaviconMenu(e){return{name:e?"clear-favicon":"set-favicon",args:{label:e?(0,_.t)("fullscreen_actions.clear_favicon"):(0,_.t)("fullscreen_actions.set_as_favicon")},flags:["edit","!slides","sites"],featureFlags:["sites","sts_document_settings"],callback:()=>{let t=tW.q.instance.getCurrentPage()?.guid;void 0!==t&&ru.l7.user("set-responsive-set-settings",()=>{l.glU.setResponsiveSetSettings({faviconID:e?"":this.getSelectionGuid()},[t]),C.Y5.commit()})}}}getThumbnailMenu(e){return{name:C.Y5.getFileThumbnailMenuItemName(),args:{label:e?(0,_.t)("fullscreen_actions.restore_default_thumbnail"):(0,_.t)("fullscreen_actions.set_as_thumbnail")},flags:["edit","!slides"],callback:()=>{this.props.openFile&&this.props.dispatch(rt.$m({file_key:this.props.openFile.key,thumbnail_guid:e?null:this.getSelectionGuid()}))}}}selectedEmbedOrLinkPreviewHasValidUrl(){return this.props.widgetSelectionInfo?.pluginID===rg.k.EMBED_WIDGET&&this.props.embedData&&(this.props.embedData.url||this.props.embedData.srcUrl)||this.props.widgetSelectionInfo?.pluginID===rg.k.LINK_PREVIEW_WIDGET&&this.props.linkPreviewData&&this.props.linkPreviewData.url}isFigjam(){return"fullscreen"===this.props.selectedView.view&&this.props.selectedView.editorType===z.nT.Whiteboard}getCopyLinkMenu(){let e=this.selectedEmbedOrLinkPreviewHasValidUrl()?"FigJam":"";return{name:"copy-link",args:{label:(0,_.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:e})},displayText:this.isFigjam()&&this.state.nodeType?function(e){switch(e){case l.Z6A.STICKY:return(0,_.t)("fullscreen_actions.copy-link-to-sticky");case l.Z6A.CONNECTOR:return(0,_.t)("fullscreen_actions.copy-link-to-connector");case l.Z6A.WIDGET:return(0,_.t)("fullscreen_actions.copy-link-to-widget");case l.Z6A.STAMP:return(0,_.t)("fullscreen_actions.copy-link-to-stamp");case l.Z6A.SECTION:return(0,_.t)("fullscreen_actions.copy-link-to-section");case l.Z6A.TEXT:return(0,_.t)("fullscreen_actions.copy-link-to-text");case l.Z6A.TABLE:return(0,_.t)("fullscreen_actions.copy-link-to-table");case l.Z6A.WASHI_TAPE:return(0,_.t)("fullscreen_actions.copy-link-to-washi-tape");case l.Z6A.SHAPE_WITH_TEXT:return(0,_.t)("fullscreen_actions.copy-link-to-shape");case l.Z6A.INSTANCE:return(0,_.t)("fullscreen_actions.copy-link-to-instance");default:return(0,_.t)("fullscreen_actions.copy-link-to-this")}}(this.state.nodeType):void 0,callback:()=>{let e;if(!this.props.openFile)return;let t=!(0,q.$A)(this.props.selectedView)&&this.props.attributionContextKey,a=(0,h.Wl)(this.props.selectedView),n=(0,h.s4)(this.props.selectedView),r=(0,rK.P)(this.props.selectedView),i=(0,rb.jN)({file:this.props.openFile,nodeId:this.getSelectionGuid(),isDevHandoff:(0,q.$A)(this.props.selectedView),isReadOnly:this.props.appModel.isReadOnly,isFigJam:this.isFigjam(),isDevModeOverview:a,devModeFocusId:n,attributionContext:t?(0,rC.b)(this.props.attributionContextKey,rC.d.FULLSCREEN_CONTEXT_MENU):null});if((0,o.kc)().ce_copy_labelled_links){let t=tW.q.instance.get(this.getSelectionGuid());e=t?t.name:this.props.openFile.name}this.props.dispatch(rt.S({fileKey:this.props.openFile.key,url:i,label:e,source:rC.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:(()=>{if(this.isFigjam()&&this.state.nodeType)return function(e){switch(e){case l.Z6A.STICKY:return(0,_.t)("visual_bell.copy_link_to_sticky");case l.Z6A.CONNECTOR:return(0,_.t)("visual_bell.copy_link_to_connector");case l.Z6A.WIDGET:return(0,_.t)("visual_bell.copy_link_to_widget");case l.Z6A.STAMP:return(0,_.t)("visual_bell.copy_link_to_stamp");case l.Z6A.SECTION:return(0,_.t)("visual_bell.copy_link_to_section");case l.Z6A.TEXT:return(0,_.t)("visual_bell.copy_link_to_text");case l.Z6A.TABLE:return(0,_.t)("visual_bell.copy_link_to_table");case l.Z6A.WASHI_TAPE:return(0,_.t)("visual_bell.copy_link_to_washi_tape");case l.Z6A.SHAPE_WITH_TEXT:return(0,_.t)("visual_bell.copy_link_to_shape");case l.Z6A.INSTANCE:return(0,_.t)("visual_bell.copy_link_to_instance");default:return(0,_.t)("visual_bell.copy_link")}}(this.state.nodeType);if(r){let e=tW.q.instance.get(this.getSelectionGuid());if(e)return(0,_.t)("copy_to_clipboard.slides.link_to_slide_copied_to_clipboard",{name:e.name})}})()}))}}}getCopyHyperlinkMenu(){let e=(()=>{let e=this.state.hyperlink;if(!e||""===e)return null;if(e.startsWith("mailto:")){let t=e.substring(7);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-email",{email:t}),linkToCopy:t,visualBellText:(0,_.t)("visual_bell.copy_email",{email:t})}}else if(e.startsWith("tel:")){let t=e.substring(4);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-phone",{number:t}),linkToCopy:t,visualBellText:(0,_.t)("visual_bell.copy_phone",{number:t})}}else{let t=rf(e);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t}),linkToCopy:e,visualBellText:(0,_.t)("visual_bell.copy_hyperlink",{hyperlink:t})}}})();return e?{name:"copy-hyperlink",displayText:e.displayText,callback:()=>(0,rw.UA)(this.props.dispatch,e.linkToCopy,"ContextMenu",e.visualBellText)}:null}getImageToProfilePicture(){if(!this.props.user||!this.props.fillPaints||(0,ag.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.findIndex(e=>"IMAGE"===e.type);if(e<0)return null;let t=this.props.fillPaints[e];return{name:"set-image-as-profile-picture",args:{label:"Set image as profile picture"},flags:["view_restricted","whiteboard"],featureFlags:["figjam_canvas_image_to_avatar"],callback:()=>{(0,n4.V8)(t,this.props.user,this.props.dispatch)}}}getMaybeEmbedOrLinkPreviewWidgetMenu(){if(!this.selectedEmbedOrLinkPreviewHasValidUrl())return null;let e=this.props.embedData?.url||this.props.embedData?.srcUrl||this.props.linkPreviewData?.url,t=rf(decodeURIComponent(e));return{name:"labeled-menu-item",args:{label:(0,_.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t})},callback:()=>{!function(e,t){let a=decodeURIComponent(t);(0,rm.Dk)(a),(0,r_.Rm)(rp.yc.COPY_LINK,a),e(f.F.enqueue({type:"copy-preview",message:(0,_.t)("visual_bell.copy_hyperlink",{hyperlink:rf(a)}),error:!1}))}(this.props.dispatch,e)}}}getMaybeEmbedDeactivateMenu(){return this.props.widgetSelectionInfo?.pluginID!==rg.k.EMBED_WIDGET||this.props.widgetSelectionInfo.widgetID!==l.Ez5.embedUiState().activeEmbedData.getCopy().embedNodeId?null:{name:"labeled-menu-item",args:{label:"Deactivate preview"},callback:()=>{l.glU.deactivateEmbed()}}}getExportVideo(){if(!this.props.fillPaints||(0,ag.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.find(e=>"VIDEO"===e.type);if(!e)return null;let t=this.props.openFile?.key;return{action:"export-selected-video",flags:["view_restricted","whiteboard"],platforms:["!ipad"],displayText:(0,_.t)("fullscreen.context_menu.export_selected_video"),callback:(a,n,r)=>{n8({paint:e,fileKey:t,dispatch:r})}}}selectedDefaultLibraryComponents(){let e=Object.keys(this.props.sceneGraphSelection);if(0===e.length)return!1;let t=this.props.sceneGraph.get(e[0])?.symbolId;if(!t)return!1;let a=(0,aF.yW)(this.props.sceneGraph.get(t));return!!a&&(0,aF.td)(this.props.library,a)}getMoveToMenu(){return this.state.pageItems.length>=1?{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems,name:"page-move-to-menu"}:null}getFigJamRemovePluginActionsMenu(){if(this.props.selectedView.editorType===z.nT.Design)return null;let t=e=>this.props.dispatch(n6.af({id:e,resourceType:rS.bD.PLUGIN})),a=(0,rk.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localExtensions,this.props.orgEntity,this.props.numSelected||0,(a,n)=>e.refreshCache.debounceRefresh(a,()=>t(a),n),rI.FW.FIGJAM),n=[],r=new Set;for(let e of a)r.has(e.pluginTypeAndID)||(n.push({name:e.plugin.name,plugin_id:e.plugin.plugin_id}),r.add(e.pluginTypeAndID));return 0===n.length?null:{name:"remove-plugin-actions",children:[...n.map(({name:e,plugin_id:t})=>({name:"plugins-menu-item",callback:()=>l.NfO.removeRelaunchDataFromSelection(t),args:{extensionName:e}})),{separator:!0},{name:"remove-all-plugin-actions",callback:()=>n.map(({plugin_id:e})=>l.NfO.removeRelaunchDataFromSelection(e))}]}}getMainComponentActionsMenu(){if(this.props.isLimitedDevMode)return null;let e=(0,W.Yh)(this.props.appModel,"find-symbol")&&!this.selectedDefaultLibraryComponents(),t=(0,W.Yh)(this.props.appModel,"push-changes-to-main"),a=(0,W.Yh)(this.props.appModel,"restore-symbol-or-state-group"),n=(0,W.Yh)(this.props.appModel,"add-variant"),r=(0,W.Yh)(this.props.appModel,"publish-selection"),l=[e,t,a,n,r].filter(Boolean).length;if(0===l)return null;if(1===l){if(e)return{action:"find-symbol"};if(n)return{action:"add-variant",flags:["edit"]};if(r)return{action:"publish-selection",flags:["edit"]}}return{action:"main-component",children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]},{action:"publish-selection",flags:["edit"]},{action:"add-variant",flags:["edit"]}]}}getTableCellMenu(){let e=(0,W.Yh)(this.props.appModel,"delete-table-contents"),t=(0,W.Yh)(this.props.appModel,"delete-current-table-row")||(0,W.Yh)(this.props.appModel,"delete-current-table-column");return[{action:"move-table-row-up",flags:["edit"]},{action:"move-table-row-down",flags:["edit"]},{action:"move-table-column-left",flags:["edit"]},{action:"move-table-column-right",flags:["edit"]},{separator:!0},{action:"add-table-column-before",flags:["edit"]},{action:"add-table-column-after",flags:["edit"]},{separator:!0},{action:"add-table-row-above",flags:["edit"]},{action:"add-table-row-below",flags:["edit"]},{separator:!0},{action:"delete-table-contents",flags:["edit"],shortcutText:e&&!t?"\u232B":void 0},{action:"delete-current-table-column",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0},{action:"delete-current-table-row",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0}]}getCopyPasteMenu(){let e;let t=window.FigmaMobile,a=!m.Ay.safari||!!t?.readClipboardData,r=!this.props.isObjectsPanelMenu&&!this.props.isSingleSlideViewCarousel&&a,l=this.props.isTextEditModeMenu,i=(0,rR.C7)()&&this.props.hasFragmentSearchPermission&&this.props.isUI3,s=[{action:"copy-text"},{action:"copy-as-code",children:[{action:"copy-as-css"},{action:"copy-as-css-recursive"},{action:"copy-as-ios"},{action:"copy-as-android"},...!this.props.canAccessDevMode&&this.props.canAccessDevModeEntryPoint?[{separator:!0},{render:()=>n.createElement(nq,null),optionHeight:40}]:[]]},{action:"copy-as-svg"},{action:"copy-as-png"},...this.props.canCopyLink?[this.getCopyLinkMenu()]:[],{separator:!0},{action:"copy-properties",flags:["view_restricted"]},{action:"paste-properties",flags:["edit"]}],c=m.Ay.windows?"Ctrl+":"\u2318";switch(this.props.selectedView.editorType){case z.nT.Design:case z.nT.Sites:case z.nT.Slides:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${c}C`}:null,r?{action:"paste-here",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste-here"),shortcutText:l?`${c}V`:void 0}:this.props.isSingleSlideViewCarousel?{action:"paste",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste"),shortcutText:`${c}V`}:null,a?{action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:l?(0,_.t)("fullscreen_actions.paste-as-live-object"):void 0}:null,a?{action:"paste-to-replace",flags:["edit"],displayText:l?(0,_.t)("fullscreen_actions.paste-and-match-style"):void 0,shortcutText:l?`${c}\u21E7V`:void 0}:null,{action:"copy-paste-menu",flags:["edit"],children:s},{action:"copy-as-menu",flags:["!edit"],children:s},{action:"duplicate-in-place",flags:["edit","slides"],displayText:(0,_.t)("fullscreen_actions.duplicate-in-place"),shortcutText:`${c}D`},i?{action:"find-inspiration",flags:["edit","!slides"]}:null,(0,o.kc)().asset_suggestions_inspect_fragment?{action:"inspect-fragment",flags:["!slides"]}:null,...(0,rn.x)({isOrgMember:this.props.isOrgMember})];break;case z.nT.DevHandoff:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${c}C`}:null,this.props.isLimitedDevMode?null:{action:"copy-text"},this.props.isLimitedDevMode?null:{action:"copy-as-svg"},this.props.isLimitedDevMode?null:{action:"copy-as-png"},this.props.isLimitedDevMode?null:{action:"copy-layer-name"},this.props.canCopyLink?this.getCopyLinkMenu():null];break;default:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${c}C`}:null,r?{action:"paste",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste"),shortcutText:`${c}V`}:null,r?{action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:l?(0,_.t)("fullscreen_actions.paste-as-live-object"):void 0}:null,a?{action:"paste-to-replace",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste-to-replace")}:null,...(0,rn.x)({isOrgMember:this.props.isOrgMember})]}return e}getCopyExportMenu(){return[...this.props.canCopyLink?[this.getCopyLinkMenu(),this.getCopyHyperlinkMenu()]:[],this.getMaybeEmbedOrLinkPreviewWidgetMenu(),this.getMaybeEmbedDeactivateMenu(),{action:"copy-as-png"},{action:"export-selection-or-current-page",flags:["view_restricted","whiteboard"],displayText:(0,_.t)("fullscreen.context_menu.export_selection")},this.getExportVideo()]}rulerGuideMenu(e,t){let a="toggle-rulers",n=[e===l._0v.Y?{action:"remove-vertical-guides"}:{action:"remove-horizontal-guides"},{separator:!0},{action:a,displayText:(0,_.t)("fullscreen.ruler_guide_context_menu.hide_rulers"),shortcutText:(0,W.c1)(this.props.appModel.keyboardShortcuts,a)}],r=[{action:"remove-guide"}];switch(t){case l.bQY.RULER:return n;case l.bQY.GUIDE:return r;case l.bQY.BOTH:return r.concat(...n);default:return[]}}singleSlideViewCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["slides"]},{separator:!0},{action:"create-slide",flags:["slides"]},{action:"select-all-slides",flags:["slides"]},...this.skipSlidesMenu()]}skipSlidesMenu(){let e=(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=tW.q.instance.get(e);if(!t?.isSlide())return!1}return!0})(),t=Object.keys(this.props.sceneGraphSelection).length>1;return e?[{separator:!0},(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=tW.q.instance.get(e);if(!t?.isSlide()||!t?.isSkippedSlide)return!1}return!0})()?{action:t?"unskip-slides":"unskip-slide",flags:["slides"],featureFlags:["piper_skip_slides"]}:{action:t?"skip-slides":"skip-slide",flags:["slides"],featureFlags:["piper_skip_slides"]}]:[]}contextMenu(){let{objectItems:e,relatedComponentMenu:t,relatedStateMenu:a}=this.state,r=this.props.appModel,i=this.props.selectedView.editorType===z.nT.Design,s=this.props.selectedView.editorType===z.nT.Slides,c=(0,rG.Vj)(this.props.selectedView),d=(i||c)&&(0,W.Yh)(this.props.appModel,"select-node-menu")&&!this.props.isObjectsPanelMenu&&e.length>1,u=this.props.isObjectsPanelMenu,{withinMeter:m}=(0,rM.X)(av.JT.AUTO_RENAME_LAYERS),p=u&&this.props.hasAIPermission&&(0,rR.AL)()&&(0,rR.Ii)()&&m&&this.props.isUI3,f=window.FigmaMobile,g=r6(r.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,f?.requestToAddDraftCommentPin),h=(0,W.Yh)(this.props.appModel,"swap-to-related-symbol"),E=(0,W.Yh)(this.props.appModel,"swap-to-related-state"),y=this.props.isPrototypeCanvasEditUiVisible?[{separator:!0},{action:"remove-interactions-on-selection",flags:["edit"]},{action:"add-prototype-starting-point",flags:["edit"]},{action:"delete-prototype-starting-point",flags:["edit"]}]:[],v=this.getCopyPasteMenu(),b=this.getCopyExportMenu(),C=[d?{action:"select-node-menu",children:e,name:"select-node-menu"}:null,this.getMoveToMenu(),{action:"move-to-file",flags:["edit"]}],w=!i,k=s?[]:[w?{separator:!0}:null,this.props.userCanRunPlugins?(0,rl.qz)(this.props,"contextmenu"):null,this.props.appModel.isReadOnly?null:(0,ri.Vd)(this.props,"contextmenu")],x=(0,o.kc)().internal_only_debug_tools,T=x&&1===this.props.numSelected,N=(0,o.kc)().convert_to_thumbnail_frame,S=this.props.spellCheckPreference,I=this.props.appModel.spellCheckSuggestions,A=rj(this.props.hasSlidesAiTextEnabled),L=rW(this.props.dispatch,A);return[...S||this.props.appModel.activeTextReviewPlugin?r7(I,this.props.editorType):[],{separator:!0},...this.getTableCellMenu(),{separator:!0},...g,...v,{separator:!0},{action:"delete-selection",flags:["whiteboard","slides"]},{separator:!0},L,{separator:!0},...this.isFigjam()?b:[],{separator:!0},...C,{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit","slides"]},{action:"send-backward",flags:["edit","slides"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"create-responsive-set",flags:["edit","sites"]},{action:"set-as-default-responsive-set",flags:["edit","sites"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{action:"group-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"ungroup-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.ungroup")},u?{action:"rename-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.rename")}:null,p?{name:"auto-rename-layers",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.auto_rename_layers"),rightIcon:n.createElement(rB.W,{variant:rF.x.ON_MENU}),callback:()=>{(0,rD.$I)({moduleToOpen:{type:"custom",module:n.createElement(rU.A,{source:ap.uQ.CONTEXT_MENU}),beforeModuleOpen:()=>{(0,ab.B3)(av.JT.AUTO_RENAME_LAYERS),(0,ab.Ag)(av.JT.AUTO_RENAME_LAYERS,ap.Ay,{source:ap.uQ.CONTEXT_MENU,overwriteNames:!1})},name:H.Sn.RENAME_LAYERS_TOAST},trackingData:{source:"selection_context_menu_rename_layers"}})}}:null,{action:"flatten-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.flatten")},{action:"outline-stroke",flags:["edit"],shortcutText:(0,W.c1)(this.props.appModel.keyboardShortcuts,"outline-stroke")},{action:"mask-selection",flags:["edit"],get displayText(){switch(l.Ez5.editorState().selectionIsMask.getCopy()){case l.F84.OFF:case l.F84.MIXED:return(0,_.t)("fullscreen_actions.mask-selection");case l.F84.ON:return(0,_.t)("fullscreen.menu.remove_mask")}}},this.props.canSetAsFavicon&&!this.props.appModel.isReadOnly?this.getFaviconMenu(this.getSelectionGuid()===this.props.sceneGraph.getCurrentPage()?.responsiveSetSettings?.faviconID):null,this.props.canSetAsFileThumbnail&&!this.props.appModel.isReadOnly?this.getThumbnailMenu(this.getSelectionGuid()===this.props.openFile?.thumbnailGuid):null,{separator:!0},{action:this.props.propertiesPanelShouldShowRemoveAutoLayout?"unstack-selection":"stack-selection",flags:["design","edit"]},(0,rr.r)({msalEnabled:(0,W.Yh)(this.props.appModel,"run-multi-stack-auto-layout")&&!this.props.propertiesPanelShouldShowRemoveAutoLayout,destroyAllALEnabled:(0,W.Yh)(this.props.appModel,"destroy-all-auto-layout"),resizeToFitEnabled:(0,W.Yh)(this.props.appModel,"resize-to-fit")}),{action:"create-symbol",flags:["edit"]},{action:"create-template",flags:["edit"],featureFlags:["dse_templates_proto"]},{action:"create-module",flags:["edit"],featureFlags:["dse_editor_templates_v1"]},h&&t?{name:"swap-to-related-symbol",flags:["edit"],childDropdown:t}:null,E&&a?{name:"swap-to-related-state",flags:["edit"],childDropdown:a}:null,{action:"reset-symbol",flags:["edit"]},{action:"detach-instance",flags:["edit"]},this.getMainComponentActionsMenu(),{action:"link-to-component",flags:["edit"]},...w?[]:k,this.getFigJamRemovePluginActionsMenu(),{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.show_hide")},{action:"toggle-locked-for-selected-nodes",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.lock_unlock")},{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"remove-annotations",flags:["dev_handoff"]},{separator:!0},...w?k:[],{separator:!0},this.getImageToProfilePicture(),...y,...s?this.skipSlidesMenu():[],T?{separator:!0}:null,T?{action:"debug-inspect-layer-figma-scope"}:null,N?{action:"convert-to-thumbnail-frame"}:null,x?{action:"debug-print-as-test-code"}:null]}render(){let e=this.props.clientX,t=this.props.clientY,a=(0,n0.removeNullish)(this.props.isTextEditModeMenu?this.textEditModeMenu():this.props.isSelectLayerMenu?this.selectLayerMenu():this.props.isRulerGuideMenu?this.rulerGuideMenu(this.props.axis,this.props.rulerGuideContextMenuType):this.props.isSingleSlideViewCarousel?this.singleSlideViewCarouselMenu():this.contextMenu());return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,selectedView:this.props.selectedView,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:a,dispatch:this.props.dispatch,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,isLimitedDevMode:this.props.isLimitedDevMode,recordingKey:"layerMenu"}))}};function r2(e){let t=(0,r.d4)(j.tB),a=(0,nO.Tg)(),l=(0,aV._X)({subscribeToUpdates_expensive:!0}),o=(0,rd.ud)(),s=(0,nG._I)(),c=(0,nG.U4)(),d=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=r8(),m=(0,r.wA)(),p=(0,nO.Be)(),_=p.orgPlugins,f=(0,ro.h)("plugin"),g=(0,P.J2)((0,tU.UK)().spellCheckPreference),h=(0,i.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),a=1===t.length?tW.q.instance.get(t[0]):null,n=null!=a&&("FRAME"===a.type&&!a.resizeToFit||"SYMBOL"===a.type||"SECTION"===a.type),r=null!=a&&"FRAME"===a.type&&a.isTopLevelFrame(),l=e.selectedView.editorType;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanRunPlugins:(0,eI.GP)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,rc.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:r,canSetAsFileThumbnail:n&&!a?.isInstanceSublayer,canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:l,isOrgMember:(0,eA.canMemberOrg)(e.currentUserOrgId,e),isDevHandoff:l===z.nT.DevHandoff,isLimitedDevMode:(0,q.$A)(e.selectedView)&&!(0,nG.tn)(e)}}),E=(0,rP.vh)(),y=(0,rV.Ne)(),v=(0,rP.LC)(),b=(0,tF.GS)();return n.createElement(r1,{...e,...h,dispatch:m,spellCheckPreference:g,isPrototypeCanvasEditUiVisible:u,openFile:t,fileByKey:o,allSavedPlugins:p.plugins,recentlyUsedPlugins:a,viewportInfo:l,activeTextReviewPlugin:d,editorType:h.editorType,orgSavedPlugins:_,orgPrivatePlugins:f,canAccessDevMode:s,canAccessDevModeEntryPoint:c,hasAIPermission:E,hasSlidesAiTextEnabled:y,hasFragmentSearchPermission:v,isUI3:b})}function r5(e){let t=(0,r.d4)(j.tB),a=(0,nO.Tg)(),l=(0,aV._X)({subscribeToUpdates_expensive:!0}),o=(0,rd.ud)(),s=(0,nG._I)(),c=(0,nG.U4)(),d=(0,r.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=r8(),m=(0,r.wA)(),p=(0,nO.Be)(),_=p.orgPlugins,f=(0,ro.h)("plugin"),g=(0,P.J2)((0,tU.UK)().spellCheckPreference),h=(0,i.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),a=1===t.length?tW.q.instance.get(t[0]):null,n=null!=a&&("FRAME"===a.type&&!a.resizeToFit||"SYMBOL"===a.type||"SECTION"===a.type),r=e.selectedView.editorType;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanRunPlugins:(0,eI.GP)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,rc.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:!1,canSetAsFileThumbnail:n&&!a?.isInstanceSublayer,canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isOrgMember:(0,eA.canMemberOrg)(e.currentUserOrgId,e),isDevHandoff:r===z.nT.DevHandoff,isLimitedDevMode:(0,q.$A)(e.selectedView)&&!(0,nG.tn)(e)}}),E=(0,rP.vh)(),y=(0,rV.Ne)(),v=(0,rP.LC)(),b=(0,tF.GS)();return n.createElement(r1,{...e,...h,dispatch:m,spellCheckPreference:g,isPrototypeCanvasEditUiVisible:u,openFile:t,fileByKey:o,allSavedPlugins:p.plugins,recentlyUsedPlugins:a,viewportInfo:l,activeTextReviewPlugin:d,editorType:h.editorType,orgSavedPlugins:_,orgPrivatePlugins:f,canAccessDevMode:s,canAccessDevModeEntryPoint:c,isSingleSlideViewCarousel:!0,hasAIPermission:E,hasSlidesAiTextEnabled:y,hasFragmentSearchPermission:v,isUI3:b})}function r3({expandElement:e,guid:t,...a}){let l=(0,r.d4)(e=>e.mirror.sceneGraphSelection),i=(0,r.d4)(e=>e.mirror.appModel),o=(0,r.d4)(e=>e.mirror.sceneGraph),s=(0,h.hA)()??void 0,c=(0,r.d4)(e=>e.openFile),d=(0,r.d4)(e=>e.mirror.selectionProperties.canCopyLinkToSelection),u=(0,R.Fk)((e,t)=>{let a=e.get(t);return a?a.canHaveAnnotation:null},t),p=(0,R.Fk)((e,t)=>{let a=e.get(t);return!!a&&a.annotations.length>0},t),f=(0,r.wA)(),g=m.Ay.windows?"Ctrl+":"\u2318",E=[e?{name:"expand-element",callback:e}:null,{separator:!0},u?{name:p?"edit-annotation":"add-annotation",callback:()=>{D.zl.set(rL.J,!0)}}:null,{separator:!0},navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${g}C`}:null,{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"},d?{name:"copy-link",args:{label:(0,_.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:""})},callback:()=>{if(!c)return;let e=(0,rb.jN)({file:c,nodeId:t,isDevHandoff:!0,devModeFocusId:s,isReadOnly:!0,isFigJam:!1,attributionContext:null});f(rt.S({fileKey:c.key,url:e,source:rC.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:void 0}))}}:null],y=a.clientX,v=a.clientY;return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:i,sceneGraph:o,selectedView:a.selectedView,sceneGraphSelection:l,menuItems:E.filter(n3.t),dispatch:f,showPoint:!1,targetRect:{width:10,height:10,left:y+100,top:v,right:y+110,bottom:v-10},removeDisabledItems:!0,recordingKey:"codeMenu"}))}function r4({...e}){let t=(0,r.d4)(e=>e.mirror.sceneGraphSelection),a=(0,r.d4)(e=>e.mirror.appModel),l=(0,r.d4)(e=>e.mirror.sceneGraph),i=(0,r.wA)(),o=m.Ay.windows?"Ctrl+":"\u2318",s=[];navigator.clipboard&&navigator.clipboard.write&&s.push({name:"copy",shortcutText:`${o}C`,callback:()=>{e.onCopyText()}});let c=e.clientX,d=e.clientY;return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:a,sceneGraph:l,selectedView:e.selectedView,sceneGraphSelection:t,menuItems:s,dispatch:i,showPoint:!1,targetRect:{width:10,height:10,left:c+100,top:d,right:c+110,bottom:d-10},removeDisabledItems:!0,recordingKey:"codeMenu"}))}function r6(e,t,a,n,r,l,i){return e&&a&&t.commentsEnabled&&m.Ay.isIpadNative?[{name:"add-comment",callback:()=>{!function(e,t,a,n,r){if(!e)return;let l={x:t,y:a-rY};if(r)r({x:l.x,y:l.y,width:36.8,height:36.8});else{let t=(0,aV.$$)(e,l);n(nJ.vV({anchorPosition:t})),n(nJ.CX())}}(a,n,r,l,i)}},{separator:!0}]:[]}function r7(e,t){var a;if(!e)return[];let n=!!e?.figma;return[...function(e,t){let{figma:a,textReviewPlugin:n}=e,r=e=>{if(!e)return[];let a=[],n=e?.suggestions||[],r=e?.rangeStart||0,l=e?.rangeEnd||0;for(let e of n.slice(0,3))a.push({action:"replace-selected-text",flags:["design","whiteboard","slides"],displayText:e,recordingKey:`replace-selected-text-${a.length}`,args:{replacementText:e,rangeStart:r,rangeEnd:l},callback(){let e=(0,rs.pi)({editorType:(0,z.oD)(t)});(0,J.sx)("Spell Check Suggestion Clicked",{productType:e})}});return a},l=r(a),i=r(n);return l.length||i.length?!l.length&&i.length?[{header:!0,name:rx.SH()?.plugin.name||"Plugin"},...i]:l.length&&!i.length?l:[...l,{name:"replace-selected-text",displayText:rx.SH()?.plugin.name||"Plugin",children:i}]:[{header:!0,flags:["design","whiteboard"],name:(0,_.t)("spell_check.no_suggestions_found")}]}(e,t),{separator:!0},...n&&e?.figma?.rangeText?[(a=e?.figma?.rangeText,{name:"spell-check-menu-add-word",flags:["design","whiteboard","slides"],callback:async(e,t,n)=>{try{let e=await n5.Ay.post("/api/spell-check-words",{word:a});if(200===e.status){let e=await (0,rE.Xw)();await e.addWords([a]),C.Y5.triggerAction("redo-spell-checking")}else(0,w.x1)("spell_check_add_word_error","spell check add word failed http request",{responseStatus:e.status,responseData:e.data},{reportAsSentryError:!0})}catch(e){e.message.includes("The word provided already exists in your dictionary")||(n2.k.error(e),(0,w.x1)("spell_check_add_word_error","spell check add word error",{err:e},{reportAsSentryError:!0}))}}})]:[]]}function r8(){return(0,P.ut)((0,rh.aY)(),l.FAf.DESIGN)===l.FAf.PROTOTYPE}r1.displayName="SelectionContextMenu",r1.refreshCache=new rT.O(Z.A.duration(1,"day"));var r9=a(970516);function le({clientX:e,clientY:t,selectedView:a}){let l=(0,r.wA)(),i=(0,r.d4)(e=>e.mirror.appModel),o=(0,j.q5)(),s=n.useCallback(()=>{l(r9.lW({stringToCopy:(0,rb.jN)({file:o,isDevHandoff:!0,isDevModeOverview:!0,isReadOnly:!0,isFigJam:!1,attributionContext:null}),successText:(0,_.t)("permissions.copy_link_button.visual_bell.copy_summary_link")}))},[l,o]),c=[{name:"page-copy-link",displayText:(0,_.t)("dev_handoff.status.copy_summary_link"),callback:s}];return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:i,menuItems:c,dispatch:l,selectedView:a,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,recordingKey:"overviewMenu"}))}function lt({pageId:e,clientX:t,clientY:a,selectedView:l}){let i=(0,r.wA)(),o=(0,r.d4)(e=>e.mirror.appModel),s=(0,R.Fk)((e,t)=>e.get(t)?.isPageDivider,e),c=[{action:"page-copy-link",args:{nodeId:e},disabled:s}];return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:o,menuItems:c,dispatch:i,selectedView:l,showPoint:!1,targetRect:{width:10,height:10,left:t+100,top:a,right:t+110,bottom:a-10},removeDisabledItems:!1,recordingKey:"pageMenu"}))}var la=a(815549),ln=a(802915),lr=a(780700),ll=a(206074);function li(){let e=(0,a8.Um)(),t=(0,r.wA)(),a=(0,lr.Gt)(e?.data.pluginId,e?.data.triggeredFrom),l=(0,lr.dR)(e?.data.pluginId,e?.data.triggeredFrom),i=(0,ln.t)(e?.data.pluginId,a,l);if(!e)return null;let o=e.data.target.height+e.data.target.width>0;return n.createElement(ll.j,{showPoint:o,items:i,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:e.data.target,dispatch:t,lean:o?"left":"right"})}var lo=a(17604),ls=a(239349),lc=a(282741),ld=a(779709),lu=a(177505),lm=a(421757),lp=a(38580),l_=a(498750);let lf=(0,lp.eU)(""),lg=(0,eE.tf)(lm.IK);function lh({onResult:e}){let[t,a]=(0,D.fp)(lf),l=n.useRef(null),i=(0,n.useCallback)(e=>{a(e.target.value)},[a]),o=(0,r.d4)(e=>(0,q.$A)(e.selectedView)),s=(0,n.useCallback)(()=>{e(t),a("")},[t,e,a]),c=n.useCallback(e=>{switch(e.keyCode){case l_.Uz.SPACE:case l_.Uz.ENTER:s(),e.stopPropagation();return}},[s]);return(0,n.useEffect)(()=>{let e=l.current;if(e)return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}},[c]),n.createElement("div",{className:"ready_status_menu_item--menuItemContainer--Uy01z","data-preferred-theme":"dark","data-editor-theme":o?"dev-handoff":"design"},n.createElement(en.ks,{placeholder:(0,_.t)("dev_handoff.status.menu_note_placeholder"),type:"textarea",value:t,onChange:i,maxLength:1e3,className:"ready_status_menu_item--textInput--iqTJf",onKeyDown:e=>{e.stopPropagation(),"Enter"!==e.key||e.shiftKey||s()},autoFocus:!0,"data-preferred-theme":o?void 0:"dark"}),n.createElement(lg,{ref:l,variant:"primary",onClick:s,recordingKey:"markReady"},(0,_.tx)("dev_handoff.status.menu_note_button")))}let lE="status_context_menu--headerStrong--9G-Jb";function ly({targetInViewport:e,nodeId:t,selectedView:a}){let o=(0,r.wA)(),s=(0,r.d4)(e=>e.mirror.appModel),c=new tW.q,d=(0,ls.mJ)(t),u=!!d?.hasReadyStatus,m=!!d?.hasCompletedStatus,p=u||m,f=(0,lo.D)()&&!!d?.hasBeenEditedSinceLastStatusChange,g=(0,j.q5)(),h=(0,nK.U)("status_label_menu"),E=(0,aV.ni)(),y=(0,nG._I)(),v=(0,nG.U4)(),C=(0,lo.D)(),w=y&&C,k=(0,W.Yh)(s,"set-selection-completed-status"),x=(0,W.Yh)(s,"mark-incomplete"),T=(0,nH.U)(),N=(0,ey.E3)(),[,S]=(0,D.fp)(lc.wz),I=(0,lu.dh)(),A=(0,n.useMemo)(()=>l.w3z.isReadOnly(l.SES.NODE_STATUS),[]),L=l.w3z.canEditNodeStatus(),O=v&&A&&!y,M=(0,i.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,editorType:z.nT.DevHandoff,focusViewBackNavigation:{toEditorType:e.selectedView.editorType,toOverview:!1},devModeFocusId:t,overviewBackButtonTargetNodeId:I}:e.selectedView),P=(0,n.useMemo)(()=>{if(!g)return[];let e=x?{name:"status-mark-as-ready",callback:()=>{ld.z4.setNodesReady(!0,[t],"canvas",null),(0,a_.R)([t])},flags:["dev_handoff","design"]}:null,r=k?{name:"status-mark-as-completed",callback:()=>{ld.z4.setNodesCompleted([t],"canvas")},flags:["dev_handoff","design"]}:null,l=u?r:e,i={name:"ready-status-copy-dev-link",callback:()=>{let e=(0,rb.jN)({file:g,nodeId:t,isDevHandoff:!0});o(rt.S({fileKey:g.key,url:e,source:rC.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"]},s=v?[{name:"ready-status-open-in-dev-mode",callback:()=>{h("handoff")},flags:["design"]},i]:[i],c={separator:!0,flags:["design","dev_handoff"]},d=[c,{render:()=>n.createElement(nj,null),optionHeight:32,flags:["design"]}],E=[{name:"enter-dev-mode-focus-view",callback:()=>{T("Dev Mode Canvas Focus Entry Clicked",{nodeId:"devModeFocusId"in M?M.devModeFocusId:""}),h("handoff"),S(N===z.nT.DevHandoff?"dev_mode_canvas":"design_canvas"),o(ec.$T(M))},flags:["design","dev_handoff"]},{name:"status-copy-focus-link",callback:()=>{let e=(0,rb.jN)({file:g,nodeId:I,isDevHandoff:!0,devModeFocusId:a?.devModeFocusId??t});o(rt.S({fileKey:g.key,url:e,source:rC.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1}],y=w&&!ld.z4.getIsExtension()?E:s;if(!L)return[...y,...O?d:[]];let b=[...y,...l?[c,l]:[],c,{name:"status-remove",callback:()=>{ld.z4.setNodesReady(!1,[t],"canvas",null)},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1},...O?d:[]];return p?f?[{name:"completed-status-remark-as-ready",displayText:m?(0,_.t)("dev_handoff.status.menu_title_design_changed_since_completed"):(0,_.t)("dev_handoff.status.menu_title_design_changed_since_ready"),displayTextClassName:lE,children:b,showDotDotDotButton:!0},{render:()=>n.createElement(lh,{onResult:e=>{ld.z4.setNodesReady(!0,[t],"canvas",e??null),(0,a_.R)([t]),o(ec.oB())}}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,allowClickThrough:!0,flags:["design","dev_handoff"]}]:b:[{header:!0,name:(0,_.t)("dev_handoff.status.menu_title_start_handoff_title"),displayTextClassName:lE},{render:()=>n.createElement(lh,{onResult:e=>{ld.z4.setNodesReady(!0,[t],"canvas",e??null),(0,a_.R)([t]),o(ec.oB())}}),flags:["design","dev_handoff"]}]},[g,k,x,I,u,v,L,O,t,h,o,w,p,f,M,a?.devModeFocusId,m,N,S,T]),R=e.origin.x+E.x,F=e.origin.y+E.y,B={left:R,top:F,right:R+e.size.x,bottom:F+e.size.y,width:e.size.x,height:e.size.y};return n.createElement("div",{className:`${b.Dm}`},n.createElement(nR.Q,{appModel:s,sceneGraph:c,selectedView:a,menuItems:P,dispatch:o,showPoint:!0,targetRect:B,removeDisabledItems:!0,recordingKey:"readyStatusMenu",minWidth:176}))}var lv=a(324666),lb=a(279702),lC=a(559681),lw=a(742934);function lk({clientX:e,clientY:t,selectedView:a,targetItem:o,paint:s,onPaintChange:c}){let d=(0,r.wA)(),{appModel:u,sceneGraph:m,sceneGraphSelection:p}=(0,i.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),_=(0,lC.k1)(),f=[];return"DOCUMENT_COLOR"===o.type?f.push({name:"slides-move-to-theme-colors",recordingKey:"moveToThemeColors",callback:()=>{let e=_(o.documentColor);if(!e)return;let t=aR.sD.toKiwi(e);t&&s&&(0,ag.hS)(s)&&s.color&&(0,tJ.DA)(s.color,o.documentColor)&&c((0,lw.FW)(t),lb.zk.YES)}}):(f.push({name:"slides-edit-theme-color",recordingKey:"edit",callback:o.onEdit}),f.push({name:"slides-delete-theme-color",recordingKey:"delete",callback:()=>{l.CWU.deleteVariable(o.variableId)}})),n.createElement("div",{className:b.Dm},n.createElement(nR.Q,{appModel:u,sceneGraph:m,selectedView:a,sceneGraphSelection:p,menuItems:f,dispatch:d,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,recordingKey:"slidesColorPickerContextMenu"}))}var lx=a(297666),lT=a(646240),lN=a(563042),lS=a(128765),lI=a(373119),lA=a(106112),lL=a(893606),lO=a(666456),lM=a(520177),lP=a(237870),lR=a(488578);let lD=(0,lP.Ju)(function({sectionId:e,initialTemplateId:t,initialShelfId:a,onConfirm:r,onCancel:l}){let i=(0,j.tS)();return n.createElement(eE.fu,{name:"section_preset_picker_confirmation_modal_shown",properties:{fileKey:i,sectionId:e,initialTemplateCategory:a,initialTemplateId:t,templateType:lA.n.HubFile}},n.createElement(lR.Rw,{confirmationTitle:n.createElement("div",null,n.createElement("p",{className:tg()(tv.cx.fontSemiBold.font15.$,"section_preset_picker--alertHeader--oa08R")},(0,_.tx)("whiteboard.section_preset_picker.confirmation_modal.header")),(0,_.tx)("whiteboard.section_preset_picker.confirmation_modal.description")),confirmText:(0,_.t)("whiteboard.section_preset_picker.confirmation_modal.confirm_text"),cancelText:(0,_.t)("whiteboard.section_preset_picker.confirmation_modal.cancel_text"),onConfirm:r,onCancel:l}))},"SectionPresetPickerConfirmationModal");function lF({name:e,leadingIcon:t,onIconClick:a}){return n.createElement("div",{className:"section_preset_picker--headerItemContainer--0R5QO dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},n.createElement("button",{className:tg()("section_preset_picker--headerIconButton--tDLql section_preset_picker--iconBase--HKG97",{"section_preset_picker--hover--GYcQi":a}),onClick:a},n.createElement(aa.B,{svg:t})),n.createElement("div",{className:"section_preset_picker--headerText--XZRQV section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},e))}var lB=a(493323),lU=a(865141),lG=a(851202);function lH(){return n.createElement("div",{className:"section_preset_picker--loadingSpinnerContainer--OM30n"},n.createElement(lB.kt,null))}function lV({name:e,description:t,iconUrl:a}){return n.createElement(lz,{name:e,description:t,iconUrl:a,trailingIcon:n.createElement(aa.B,{className:"section_preset_picker--chevronRight--hORsb",svg:lG.A}),itemType:"shelf"})}function lK({name:e,description:t,iconUrl:a,isSelected:r,iconBackgroundColor:l}){return n.createElement(lz,{name:e,description:t,iconUrl:a,trailingIcon:r?n.createElement(aa.B,{svg:lU.A}):void 0,iconBackgroundColor:l,itemType:"template"})}function lz({name:e,description:t,itemType:a,iconUrl:r,trailingIcon:l,iconBackgroundColor:i}){return n.createElement("div",{className:tg()({"section_preset_picker--shelfItemContainer--KochN section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"shelf"===a,"section_preset_picker--templateItemContainer--tCRxk section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"template"===a})},n.createElement("div",{className:tg()({"section_preset_picker--shelfItemIcon--MASDu section_preset_picker--iconBase--HKG97":"shelf"===a,"section_preset_picker--templateItemIcon--eWzYK section_preset_picker--iconBase--HKG97":"template"===a}),style:{backgroundColor:i}},r&&n.createElement("img",{src:r,alt:(0,_.t)("whiteboard.section_preset_picker.shelf.thumbnail")})),n.createElement("div",{className:"section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},n.createElement("div",{className:"section_preset_picker--nameText--LS4BG"},e),n.createElement("div",{className:"section_preset_picker--descriptionText--OCJkN"},t)),l&&n.createElement("div",{className:"section_preset_picker--trailingIcon--X-run section_preset_picker--iconBase--HKG97"},l))}var lW=a(251344);function lj(){return(0,lL.R)()?301:285}var lq=a(527335),lY=a(192283);let lX="section_preset_item",lJ=/^Section(\s\d+)?$/,lZ=(0,tM.jz)(tK.IuL),lQ=(0,tM.jz)(tK.LQy);function l$({sectionId:e,sectionName:t,initialShelfId:a,initialTemplateId:i,showAlertOnSelect:o}){let s,c;let d=(0,r.wA)(),u=(0,j.tS)(),m=(0,D.md)(lM.g),p="hasData"===m.state?m.data:[],f=0!==p.length,[g,h]=(0,n.useState)(a),[E,y]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),C=(0,lS.fG)(),w=function(){let e=(0,j.tS)(),t=(0,r.d4)(e=>e.fileVersion),a=(0,lT.Xr)(lO.ME);return(0,n.useCallback)((n,r)=>a({fileKey:e,fileVersion:t,template:n},r),[e,t,a])}(),k=(0,lT.Xr)(lO.Yq),x=(0,lT.Xr)(lO.pn),T=(0,lT.Xr)(lO.bj),N=(0,D.md)(lO.oh),S=(0,D.md)(lO.pF),I=(0,lI.q)(),A=(0,D.md)(lO.pg),L=function(e,t){let a=(0,aV._X)({subscribeToUpdates_expensive:!0}),r=a.zoomScale,l=lj(),i=(0,n.useMemo)(()=>{let t=tW.q.instance.get(e);if(!t)return null;let a=t.absoluteBoundingBox;return{canvasSpaceSectionTopLeft:t.canvasSpaceSectionTopLeft,canvasSpaceSectionOrigin:{x:a.x,y:a.y}}},[r,e]);if(!i)return null;let{canvasSpaceSectionTopLeft:o,canvasSpaceSectionOrigin:s}=i,c=(0,aV.Z0)(a,{x:o.x,y:o.y},!0),d={x:c.x-8,y:c.y},u=(0,aV.Z0)(a,s,!0),m=Math.max(d.y+a.y,a.y+8),p={top:m,bottom:m+200,height:200,left:0,right:d.x,width:l},_={x:(0,aV.Qt)(t.x,0,r,0),y:(0,aV.Qt)(t.y,0,r,0)};return{contextMenuRect:p,mouseBoundaryRect:{x:d.x,y:u.y+a.y,width:_.x+8,height:_.y}}}(e,S),O=lj(),M=(0,lL.R)(),P=n.useRef(!1),R=n.useCallback(()=>{k(),x(),y(!1)},[k,x]);(0,n.useEffect)(()=>{let e=setTimeout(()=>{b(!0)},500);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>()=>{P.current||(k(),x())},[k,x]);let F=L?.mouseBoundaryRect;if((0,n.useEffect)(()=>{if(!E||!F)return;let e=(0,lx.s)(function(e){let t=document.activeElement?.id??"";(!F||e.clientX>F.x+F.width||e.clientX<F.x||e.clientY>F.y+F.height||e.clientY<F.y)&&!t.includes(lX)&&R()},16);return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[R,E,F]),!L)return null;let{contextMenuRect:B}=L,U=(a,n,r)=>{if(I&&u&&!A&&(y(!1),N?.template.id!==a.template.id)){if(k(),a.template.id===i){x();return}a.type===lA.n.HubFile&&(0,tC.Zg)({insert:()=>w(a,{moveViewportAfterPreview:!1,priority:"user-visible",previewManager:{nodeType:l.Z6A.SECTION,options:{nodeId:e,newName:lJ.test(t)||n&&t===n?r:null,shelfId:a.category??"",templateId:a.template.id,templateName:(0,lS.gY)(a)}}}),template:a,fileKey:u,dispatch:d,triggeredFrom:"section-preset",userTriggered:!1,isPreview:!0})}},G=e=>{(0,tC.Zg)({insert:()=>T({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:ru.zk.USER}),template:e,fileKey:u,dispatch:d,triggeredFrom:"section-preset",userTriggered:!0})},H=t=>{I&&u&&!A&&t.template.id!==i&&(P.current=!0,o?d((0,eu.to)({type:lD,data:{sectionId:e,initialTemplateId:i,initialShelfId:a,onConfirm:()=>G(t),onCancel:()=>R()}})):G(t))},V=g?p.find(e=>e.id===g):void 0;if(V){s={displayText:V.title,render:()=>n.createElement(lF,{name:V.title,leadingIcon:lq.A,onIconClick:()=>{h(null),k()}}),preventDismissOnSelected:!0};let e=a&&i?(0,lW.bO)(p,a,i):null;c=V.shelf_content.map((t,a)=>{let r={type:lA.n.HubFile,template:t,category:g},{name:l,description:o}=C(r),s=(0,lN.$J)(o).trim(),c="client_meta"in t?JSON.parse(t.client_meta):{},d=c.preset_picker?.thumbnail_url_dark_bg??"";return{displayText:l,render:()=>n.createElement(lK,{name:l,description:s,iconUrl:d,isSelected:i===r.template.id,iconBackgroundColor:(0,lW.j3)(a)}),onMouseEnter:()=>{U(r,e,l)},callback:()=>H(r)}})}else s={displayText:"Edit section name",render:()=>n.createElement(lF,{name:(0,_.t)("whiteboard.section_preset_picker.shelf.title"),leadingIcon:lY.A}),preventDismissOnSelected:!0},c=p.map(t=>({displayText:t.title,render:()=>n.createElement(lV,{name:t.title,description:t.description,iconUrl:t.shelf_meta.preset_picker?.thumbnail_url}),preventDismissOnSelected:!0,callback:()=>{(0,J.sx)("section_preset_picker_category_clicked",{fileKey:u,sectionId:e,selectedCategory:t.id,initialTemplateCategory:a,initialTemplateId:i}),h(t.id),k()}}));if(!f){if(!v)return null;c.push({displayText:"Loading",render:()=>n.createElement(lH,null),disabled:!0})}return n.createElement(eE.fu,{name:"section_preset_picker_shown",enabled:f,properties:{fileKey:u,sectionId:e,initialTemplateCategory:a,initialTemplateId:i,templateType:lA.n.HubFile}},n.createElement(ll.j,{items:[s,...c],recordingKey:lX,showPoint:!1,parentRect:B,depth:0,onSelectItem:e=>{e.callback&&e.callback("",null,d)},onMouseLeaveMenu:e=>{if(e.clientX>=B.right){y(!0);return}R()},dispatch:d,minBottomMargin:M?lQ:lZ,lean:"left",leanPadding:0,minWidth:O,disableDropdownScrollContainer:!0,displayOverTarget:!0,preventZoom:!0}))}function l0(e){let t=(0,r.d4)(e=>!e.mirror.appModel.isReadOnly),a=(0,r.d4)(e=>e.openFile),l=(0,A.iZ)();(0,r.d4)(e=>a?.team||null);let i=(0,nO.JI)(),o=(0,r.d4)(e=>!!e.openFile?.canEdit),s=(0,r.wA)(),c=e.dropdownShown.type,d=(0,nB.v)();if(c===b.K9){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(r2,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1})}if(c===b.wi){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(r2,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(c===b.ku){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(r2,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}if(c===b.t4){let{clientX:a,clientY:r,axis:l,rulerGuideContextMenuType:o}=e.dropdownShown.data;return n.createElement(r2,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1,isTextEditModeMenu:!1,isRulerGuideMenu:!0,axis:l,rulerGuideContextMenuType:o})}if(c===b.Rb){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(r2,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0})}if(c===b.W_){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(rZ,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,ariaLabelledBy:e.ariaLabelledBy})}if(c===b.LO)return n.createElement(li,null);else if(c===b.SA){let{clientX:t,clientY:a,pageId:r}=e.dropdownShown.data;return n.createElement(lt,{pageId:r,clientX:t,clientY:a,selectedView:e.selectedView})}else if(c===b.bx){let{clientX:t,clientY:a}=e.dropdownShown.data;return n.createElement(le,{clientX:t,clientY:a,selectedView:e.selectedView})}else if(c===b.d2){let{clientX:t,clientY:a,pageIds:r,shouldShowDuplicateOption:l}=e.dropdownShown.data;return n.createElement(la.W,{pageIds:r,clientX:t,clientY:a,selectedView:e.selectedView,shouldShowDuplicateOption:l})}else if(c===b.$O){let{clientX:t,clientY:a,version:r,checkpointKey:l,callback:s,editName:c,enableClear:d,disableDuplicate:u}=e.dropdownShown.data;return n.createElement(r$,{version:r,checkpointKey:l,clientX:t,clientY:a,selectedView:e.selectedView,userCanEditFile:o,userCanRunPlugins:i,isObjectsPanelMenu:!1,editName:c,enableClear:d,disableDuplicate:u,callback:s})}else if(c===b.VJ){let{comment:t,parentRect:a,thread:r,isUnread:i}=e.dropdownShown.data;return n.createElement(nU.V,{dispatch:s,comment:t,parentRect:a,currentUser:l,isUnread:i,thread:r,copyLink:d})}else if(c===b.Z7){let{thread:t,pinClientRect:a}=e.dropdownShown.data;return n.createElement(n$,{selectedView:e.selectedView,thread:t,pinClientRect:a,copyLink:d})}else if(c===b.DT){let{attachment:t,clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(nF,{attachment:t,selectedView:e.selectedView,clientX:a,clientY:r})}else if(c===b.i){let{clientX:a,clientY:r,stringToCopy:l,expandElement:o,guid:s}=e.dropdownShown.data;return n.createElement(r3,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,stringToCopy:l,expandElement:o,guid:s})}else if(c===b.Sl){let{clientX:a,clientY:r,onCopyText:l}=e.dropdownShown.data;return n.createElement(r4,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,onCopyText:l})}else if(c===b.WJ){let{targetInViewport:a,nodeId:r}=e.dropdownShown.data;return n.createElement(ly,{targetInViewport:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0,nodeId:r})}else if(c===b.XX){let{targetInViewport:a,annotationsCount:r}=e.dropdownShown.data;return n.createElement(nX,{targetInViewport:a,annotationsCount:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0})}else if(c===b.si){let{sectionId:a,initialShelfId:r,initialTemplateId:l,sectionName:o,showAlertOnSelect:s}=e.dropdownShown.data;return n.createElement(l$,{sectionId:a,sectionName:o,initialShelfId:r,initialTemplateId:l,showAlertOnSelect:s,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!0})}else if(c===b.U3){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(r5,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1})}else if(c===b.kX){let{clientX:t,clientY:a,targetItem:r,paint:l,onPaintChange:i}=e.dropdownShown.data;return n.createElement(lk,{clientX:t,clientY:a,selectedView:e.selectedView,targetItem:r,paint:l,onPaintChange:i})}else if(c===b.J7){let{clientX:a,clientY:r}=e.dropdownShown.data;return n.createElement(lv.mh,{clientX:a,clientY:r,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:i,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}else if(c===b.V6){let{clientX:t,clientY:a,collectionId:r}=e.dropdownShown.data;return n.createElement(nL.e_,{clientX:t,clientY:a,collectionId:r,selectedView:e.selectedView})}return null}var l1=a(236192),l2=a(22774),l5=a(483990),l3=a(516398),l4=a(283942),l6=a(855418),l7=a(69961),l8=a(536825),l9=a(511617),ie=a(623738),it=a(498480),ia=a(175290),ir=a(553015),il=a(809840),ii=a(154979),io=a(588169),is=a(227795),ic=a(169006),id=a(324597),iu=a(586281),im=a(480952),ip=a(261607),i_=a(501256),ig=a(542479),ih=a(631378);function iE(e){return n.createElement("div",null,(0,id.Dz)(e.token.content))}function iy(e){let t=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts);return n.createElement("div",{style:er.sx.colorText.px14.$,className:e.isSelected?"action_autocomplete_input--rowSelected--62Uvp autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"action_autocomplete_input--row--HRsbZ autocomplete_permissions--contactRow--DRMiv"},n.createElement(ia.Y,null,n.createElement(il.E,null,(0,ic.E)(e.searchResult)),n.createElement(ia.M,null),n.createElement(il.E,null,e.searchResult.shortcutText??(0,W.c1)(t,(0,id.Dz)(e.searchResult)))))}function iv({onAutocompleteChange:e}){let t=(0,im.u)(),a=(0,ip.c)(),l=(0,r.d4)(e=>e.mirror.appModel),i=(0,r.d4)(e=>e.selectedView),o=(0,r.d4)(e=>e.user?.locale),s=(0,iu.M)({isReadOnly:l.isReadOnly,extensionMenuProps:a,includeDisabled:!0}),c=new ih.x(l,i,[...t,...s],{includeDisabled:!0,acceptsUnicode:"ja"===o}),[d,m]=n.useState((0,i_.Rs)());return n.createElement(ig.P,{autoFocus:!0,autocompleteResultsClassName:tv.cx.maxW300.$,autocomplete:d,placeholder:(0,_.t)("fullscreen_actions.search_menus_commands_and_plugins"),onChange:t=>{m(t),e(t)},validateToken:u.lQ,searchResults:e=>c.searchIncludeKey(l,e.inputValue).filter(([e,t])=>!t.parametersRequired).map(([e,t])=>({id:`${(0,id.Dz)(t)}-${t.pluginId}-${(0,ic.E)(t)}`,searchKey:e,...t})),SearchResultComponent:iy,TokenComponent:iE})}var ib=a(752795),iC=a(613122);let iw="\u{1F310}";var ik=(e=>(e[e.NOT_PRESSED=0]="NOT_PRESSED",e[e.PRESSED=1]="PRESSED",e[e.PRESSED_FIRST_TIME=2]="PRESSED_FIRST_TIME",e[e.HELD=3]="HELD",e[e.COMPLETED_TAB_ANIMATION=4]="COMPLETED_TAB_ANIMATION",e))(ik||{}),ix=(e=>(e[e.FIGJAM=0]="FIGJAM",e[e.DESIGN=1]="DESIGN",e[e.DEV_MODE=2]="DEV_MODE",e[e.SLIDES=3]="SLIDES",e))(ix||{});function iT(e,t){return e in t?t[e].map(e=>e.text).filter(e=>-1===e.toLowerCase().indexOf("num")).map(iI.splitStringIntoKeys):null}function iN(e,t){let a=e.map(e=>{let a=iT(e,t);return null==a||0===a.length?null:a[0]}).filter(ib.isNotNullish);if(0===a.length)return null;if(1===a.length)return n2.k.warn("combineShortcuts: Could not find bindings to combine. \nactions: %o",e),null;let n=a[0].slice(0,-1),r=a.map(e=>e.length-1===n.length&&e.slice(0,-1).filter((e,t)=>e===n[t]).length===n.length?e.slice(-1)[0]:null).filter(ib.isNotNullish);return r.length!==e.length?(n2.k.warn("combineShortcuts: Bindings length mismatch. \nactions: %o, shortcuts %s and %s",e,a[0].join(""),a[1].join("")),null):[[...n,r]]}let iS=class e extends n.PureComponent{constructor(){super(...arguments),this.state={pressed:0,animationDelays:this.calculateAnimationDelays(this.props)},this.prettifyKeyLabel=e=>e.replace(/\u23B5/,(0,_.t)("whiteboard.keyboard_shortcuts.key_label.space")).replace(/\u21E5/,`\u21E5 ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.tab")}`).replace(/\u21DE/,`\u21DE ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.pg_up")}`).replace(/\u21DF/,`\u21DF ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.pg_dn")}`).replace(/\u2196/,`\u2196 ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.home")}`).replace(/\u2198/,`\u2198 ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.end")}`).replace(/\u238B/,`\u238B ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.esc")}`).replace(/\u21A9/,`\u21A9 ${(0,_.t)("whiteboard.keyboard_shortcuts.key_label.enter")}`),this.getTooltipText=e=>{switch(e){case"\u2318":return(0,_.t)("whiteboard.keyboard_shortcuts.tooltip.command");case"\u21E7":return(0,_.t)("whiteboard.keyboard_shortcuts.tooltip.shift");case"\u2325":return(0,_.t)("whiteboard.keyboard_shortcuts.tooltip.option_alt");case"\u2303":return(0,_.t)("whiteboard.keyboard_shortcuts.tooltip.control");case"\u232B":return(0,_.t)("whiteboard.keyboard_shortcuts.tooltip.backspace");case"\u2190":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.left");case"\u2192":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.right");default:return null}},this.renderCharKeyBox=(e,t)=>{let a=this.prettifyKeyLabel(e),r=a.startsWith(iw),l=a.length>1&&!r?iC.SR:iC.FU,i=this.state.animationDelays[t]?{animationDelay:`${this.state.animationDelays[t]}ms`}:{};return n.createElement("span",{key:a+t,className:l,style:i,"data-tooltip-show-immediately":"true","data-tooltip-show-above":"true","data-tooltip-type":ay.Ib.TEXT,"data-tooltip":this.getTooltipText(e)},a)},this.renderKeyBindings=e=>{let t=[],a=0;return e.forEach(e=>{if("string"==typeof e)t.push(this.renderCharKeyBox(e,a)),a++;else{let r=this.renderCharKeyBox(e[0],a),l=this.renderCharKeyBox(e[1],a+1);t.push(r),t.push(n.createElement("div",{key:`${e[0]}-${e[1]}`,className:iC.Uo},(0,_.tx)("whiteboard.keyboard_shortcuts.and"))),t.push(l),a+=2}}),n.createElement("span",{className:iC.pi},t)},this.triggerUnpressed=()=>{this.setState({pressed:0})},this.triggerPressed=()=>{4!=this.state.pressed&&2!=this.state.pressed&&(clearTimeout(this.pressedTimeout),this.pressedTimeout=setTimeout(()=>this.triggerUnpressed(),500),3!=this.state.pressed&&(1==this.state.pressed?this.setState({pressed:3}):this.setState({pressed:1})))},this.triggerPressedFirstTime=()=>{this.setState({pressed:2}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),1200)},this.triggerCompletedTab=()=>{this.setState({pressed:4}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),4e3)}}static shortcutUsedCount(e,t){if(null==t)return 0;switch(e){case"align-centers":return Math.min(t["align-horizontal-center"]||0,t["align-vertical-center"]||0);case"align-left-right":return Math.min(t["align-left"]||0,t["align-right"]||0);case"align-top-bottom":return Math.min(t["align-top"]||0,t["align-bottom"]||0);case"distribute-spacing":return Math.min(t["distribute-horizontal-spacing"]||0,t["distribute-vertical-spacing"]||0);case"text-font-size-adjust":return Math.min(t["text-font-size-increase"]||0,t["text-font-size-decrease"]||0);case"text-letter-spacing-adjust":return Math.min(t["text-letter-spacing-increase"]||0,t["text-letter-spacing-decrease"]||0);case"text-indent-and-dedent-list":return Math.min(t["text-indent-list"]||0,t["text-dedent-list"]||0);case"text-line-height-adjust":return Math.min(t["text-line-height-increase"]||0,t["text-line-height-decrease"]||0);case"bold-and-italic":return Math.min(t["toggle-bold"]||0,t["text-toggle-italic"]||0);case"text-bold-adjust":return Math.min(t["text-bold-increase"]||0,t["text-bold-decrease"]||0);case"bulleted-and-numbered-list":return Math.min(t["text-toggle-unordered-list"]||0,t["text-toggle-ordered-list"]||0);default:return t[e]||0}}calculateAnimationDelays(e){let t=[];for(var a=0;a<5;a++){let a=0;e.allTabsCompletedAnimation?a=-Math.floor(2e3*Math.random()):e.tabCompletedFirstTimeAnimation&&null!=e.tabCompletedAnimationKeyPosition&&(a=110*Math.abs(e.keyPosition-e.tabCompletedAnimationKeyPosition)+100),t.push(a)}return t}UNSAFE_componentWillReceiveProps(t){let a=e.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts),n=e.shortcutUsedCount(t.shortcutKey,t.usedKeyboardShortcuts);if(this.props.allTabsCompletedAnimation!=t.allTabsCompletedAnimation||this.props.tabCompletedFirstTimeAnimation!=t.tabCompletedFirstTimeAnimation){let e=this.calculateAnimationDelays(t);this.setState({animationDelays:e})}t.tabCompletedFirstTimeAnimation&&!this.props.tabCompletedAnimation&&t.tabCompletedAnimation?this.triggerCompletedTab():a!=n&&this.props.shortcutKey==t.shortcutKey&&(1==n?this.triggerPressedFirstTime():this.triggerPressed())}render(){let t,a;try{t=this.props.customName?this.props.customName:this.props.displayName?(0,l5.A)(this.props.displayName):(0,l5.A)(this.props.shortcutKey)}catch(e){console.error(e),t=this.props.shortcutKey}let r=e.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts)>0,l=e.keybindingsForShortcut(this.props.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts),i=null;return l&&(i=this.renderKeyBindings(l[0])),a=this.props.allTabsCompletedAnimation?iC.Ve:4==this.state.pressed?iC.T7:2==this.state.pressed?iC.Q3:3==this.state.pressed?iC.u$:1==this.state.pressed?iC.b3:r?iC.k3:iC.J8,l&&n.createElement("tr",{className:a,key:this.props.shortcutKey},this.props.icon&&(this.props.editorType===z.nT.Design||this.props.editorType===z.nT.DevHandoff)&&n.createElement("td",{className:iC.mH},n.createElement(aa.B,{svg:this.props.icon,className:iC.cw})),n.createElement("td",{className:iC.QL},t,this.props.usage&&n.createElement("div",{className:iC.CI},this.props.usage)),n.createElement("td",{className:iC.qH},i))}};iS.displayName="Shortcut",iS.specialKeys=["Backspace","Delete","Down","End","Enter","Home","Left","Page Down","Page Up","Right","Tab","Up"],iS.getLocalizedSpecialKey=e=>{switch(e){case"Backspace":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.backspace");case"Delete":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.delete");case"Down":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.down");case"End":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.end");case"Enter":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.enter");case"Home":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.home");case"Left":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.left");case"Page Down":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.page_down");case"Page Up":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.page_up");case"Right":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.right");case"Tab":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.tab");case"Up":return(0,_.t)("whiteboard.keyboard_shortcuts.key_label.up")}},iS.splitStringIntoKeys=e=>{let t=[],a=(0,o.kc)().ce_mac_page_shortcuts&&tE.y.isApple();for(;e.length>0;)if(e.startsWith("Ctrl+"))t.push((0,_.t)("whiteboard.keyboard_shortcuts.key_label.ctrl")),e=e.slice(5);else if(e.startsWith("Shift+"))t.push((0,_.t)("whiteboard.keyboard_shortcuts.key_label.shift")),e=e.slice(6);else if(e.startsWith("Alt+"))t.push((0,_.t)("whiteboard.keyboard_shortcuts.key_label.alt")),e=e.slice(4);else if(e.startsWith("Win+"))t.push((0,_.t)("whiteboard.keyboard_shortcuts.key_label.win")),e=e.slice(4);else if(a&&e.startsWith("Page Up"))t.push(iw),t.push("\u2191"),e=e.slice(7);else if(a&&e.startsWith("Page Down"))t.push(iw),t.push("\u2193"),e=e.slice(9);else{let a=!1;for(let n=0;n<iS.specialKeys.length;n++){let r=iS.specialKeys[n];if(e.startsWith(r)){t.push(iS.getLocalizedSpecialKey(r)),e=e.slice(r.length),a=!0;break}}a||(t.push(e[0]),e=e.slice(1))}return t},iS.keybindingsForShortcut=(e,t,a)=>{if(!a)return null;let n=function(e,t){let a=tE.y.isApple(),n=a?"\u2325":m.Ay.chromeos?(0,_.t)("whiteboard.keyboard_shortcuts.key_label.search"):(0,_.t)("whiteboard.keyboard_shortcuts.key_label.alt"),r=a?"\u2318":(0,_.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),l=a?"\u21A9":(0,_.t)("whiteboard.keyboard_shortcuts.key_label.enter"),i=a?"\u238B":(0,_.t)("whiteboard.keyboard_shortcuts.key_label.esc"),o=a?"\u21E7":(0,_.t)("whiteboard.keyboard_shortcuts.key_label.shift"),s=(0,_.t)("whiteboard.keyboard_shortcuts.key_label.drag"),c=(0,_.t)("whiteboard.keyboard_shortcuts.key_label.click"),d=(0,_.t)("whiteboard.keyboard_shortcuts.key_label.dbl_click"),u=Object.entries({"align-left-right":iN(["align-left","align-right"],e),"align-top-bottom":iN(["align-top","align-bottom"],e),"align-centers":iN(["align-horizontal-center","align-vertical-center"],e),copy:[[r,"C"]],"center-resize-drag":[[n]],"crop-image":[[n,d]],cut:[[r,"X"]],"deep-select":[[r,c]],"deep-select-rectangle":[[r,s]],"deselect-all":[[i]],duplicate:[[n]],"ignore-constraints":[[r]],"measure-to-selection":[[n]],"move-while-resizing":[["\u23B5"]],pan:[["\u23B5",s]],paste:[[r,"V"]],"request-edit-mode":[[l]],"resize-proportionally":[[o]],"swap-instance":[[n]],"text-letter-spacing-adjust":iN(["text-letter-spacing-decrease","text-letter-spacing-increase"],e),"text-line-height-adjust":iN(["text-line-height-decrease","text-line-height-increase"],e),"text-font-size-adjust":iN(["text-font-size-decrease","text-font-size-increase"],e),"text-bold-adjust":iN(["text-bold-decrease","text-bold-increase"],e),"bold-and-italic":iN(["toggle-bold","text-toggle-italic"],e),"stamp-or-reaction-wheel":[["E"]],"set-tool-section":[["F"]],"bulleted-and-numbered-list":iN(["text-toggle-ordered-list","text-toggle-unordered-list"],e),"distribute-spacing":iN(["distribute-horizontal-spacing","distribute-vertical-spacing"],e),"text-indent-and-dedent-list":iN(["text-indent-list","text-dedent-list"],e),"straight-connector":[[o,s]],"edit-text":[[l]],"set-opacity-00":t?[["0","0"]]:[[o,"0","0"]],[l3.dz]:a?[["\u2318","\u2303","\u2192"]]:[[(0,_.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),"F6"]],[l3.Jt]:a?[["\u2318","\u2303","\u2190"]]:[[o,(0,_.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),"F6"]],"quick-create-immutable-frame":iT("quick-create",e),"stamp-on-node":iT("quick-create",e)}).reduce((e,[t,a])=>((0,ib.isNotNullish)(a)&&(e[t]=a),e),{});return a?{...u,"bend-tool":[["\u2318"]]}:u}(a,t);return e in a?iT(e,a):e in n?n[e]:null};let iI=iS;function iA(){let[e,t]=n.useState({step:"NOT_CURRENTLY_ADDING"}),a=(0,ey.lg)(),i=(0,P.J2)(l.Ez5.editorState().useNumbersForOpacity),o=(0,r.d4)(e=>e.usedKeyboardShortcuts),s=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),c="ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&e.menuItem,d=n.createRef(),u=n.useCallback(a=>{a.stopPropagation(),a.preventDefault();let n=function(e){let t=(0,io.v7)(),a=[];if(e.metaKey&&a.push("Meta"),e.altKey&&a.push("Alt"),e.shiftKey&&a.push("Shift"),e.ctrlKey&&a.push("Control"),"MetaRight"===e.code||"MetaLeft"===e.code||"ShiftRight"===e.code||"ShiftLeft"===e.code||"ControlRight"===e.code||"ControlLeft"===e.code||"AltRight"===e.code||"AltLeft"===e.code);else if(t===l.aTn.UNKNOWN){let t=l.glU.stringKeyFromWebEventKeycode(e.keyCode);a.push(t)}else{let n=l.glU.stringKeyFromWebEventCode(e.code,t);a.push(n)}return ii.Gm.getKeyboardShortcutFromText(a.join("+"),null)}(a),r=n&&"Escape"===n.key;if(n&&"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&c&&!r){let e,t;if("None"===n.key)return;c.action?(e=l.XpX.FULLSCREEN,t=c.action):(e=l.XpX.NON_FULLSCREEN,t=c.searchKey),(0,ie.L3)(e,t,(0,ii.t4)(n))}t({step:"NOT_CURRENTLY_ADDING"})},[c,e.step]);return n.useEffect(()=>{"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&d.current?.focus()},[d,e.step]),n.createElement("div",{className:iC.PG},n.createElement("div",{className:iC.fi},n.createElement(ia.Y,{direction:"vertical",height:"fill-parent",padding:{vertical:10}},n.createElement(il.E,{color:"menu",fontSize:14},(0,_.tx)("keyboard_settings.custom_keyboard_shortcuts")),n.createElement(ir.$,{variant:"primary",icon:"plus-32",onClick:()=>t({step:"ADDING_WAITING_FOR_ACTION_INPUT"})},n.createElement(il.E,null,(0,_.tx)("keyboard_settings.custom_keyboard_shortcuts.add"))),n.createElement(ia.M,null),n.createElement(it.Ex,{className:tv.cx.mt4.$,text:"Internal only - #feat-custom-keyboard-shortcuts",color:it.zE.WARNING,onClick:()=>(0,l9.FJ)("https://figma.slack.com/archives/C055MQJ2E5P","_blank")}))),n.createElement("div",{className:iC.fi,style:er.sx.pt32.overflowYScroll.add({maxHeight:"162px"}).$},Object.values((0,ie.Uc)()).map(({action:e,type:t})=>n.createElement(ia.Y,{key:`custom-shortcuts-${e}`,width:"fill-parent",height:"hug-contents"},n.createElement(iI,{customName:"FULLSCREEN"===t?void 0:e,shortcutKey:e,editorType:(0,z.wN)(a),keyPosition:0,useNumbersForOpacity:i,usedKeyboardShortcuts:o,appModelKeyboardShortcuts:s}),n.createElement(is.K0,{className:"keyboard_shortcut_panel_custom_tab--deleteButton--xf9nN",onClick:()=>(0,ie.C4)("FULLSCREEN"===t?l.XpX.FULLSCREEN:l.XpX.NON_FULLSCREEN,e),"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":(0,_.t)("whiteboard.keyboard_shortcuts.delete.shortcut")},n.createElement(l8.O,null)))),"ADDING_WAITING_FOR_ACTION_INPUT"===e.step&&n.createElement("div",{className:tv.cx.relative.mt4.$},n.createElement(iv,{onAutocompleteChange:e=>{let a=e.tokens[0];a&&t({step:"ADDING_WAITING_FOR_KEY_REGISTRATION",menuItem:a.content})}})),"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&n.createElement(ia.Y,{height:"hug-contents",verticalAlignItems:"center"},n.createElement(il.E,{color:"menu"},(0,ic.E)(e.menuItem)),n.createElement(ia.M,null),n.createElement("div",{className:tv.cx.py4.$},n.createElement("div",{className:tg()(iC.k3,iC.pi)},n.createElement(ir.$,{ref:d,variant:"primary",onKeyDown:u},n.createElement(il.E,null,(0,_.tx)("keyboard_settings.custom_keyboard_shortcuts.press_key")))))),n.createElement("div",{style:er.sx.h150.$})))}let iL="keyboard_rows--row--8eEsv",iO="ISO_ENTER",iM="SPACER";function iP({createKey:e}){return n.createElement("div",{className:iL},e("Backquote"),e("Digit1"),e("Digit2"),e("Digit3"),e("Digit4"),e("Digit5"),e("Digit6"),e("Digit7"),e("Digit8"),e("Digit9"),e("Digit0"),e("Minus"),e("Equal"),e("IntlYen"),e("Backspace",113))}function iR({createKey:e,isBackslashRow2:t}){let a=null==t?e("Backslash"):t?e("Backslash"):e(iO,90);return n.createElement("div",{className:iL},e("Tab",90),e("KeyQ"),e("KeyW"),e("KeyE"),e("KeyR"),e("KeyT"),e("KeyY"),e("KeyU"),e("KeyI"),e("KeyO"),e("KeyP"),e("BracketLeft"),e("BracketRight"),a)}function iD({createKey:e,isBackslashRow2:t}){let a=null==t?e("Backslash"):t?null:e("Backslash"),r=null==t?e("Enter",60):t?e("Enter",60):e(iM,20);return n.createElement("div",{className:iL},e("CapsLock",120),e("KeyA"),e("KeyS"),e("KeyD"),e("KeyF"),e("KeyG"),e("KeyH"),e("KeyJ"),e("KeyK"),e("KeyL"),e("Semicolon"),e("Quote"),a,r)}function iF({createKey:e}){return n.createElement("div",{className:iL},e("ShiftLeft",134),e("IntlBackslash"),e("KeyZ"),e("KeyX"),e("KeyC"),e("KeyV"),e("KeyB"),e("KeyN"),e("KeyM"),e("Comma"),e("Period"),e("Slash"),e("IntlRo"),e("ShiftRight",94))}function iB({createKey:e}){return m.Ay.mac?n.createElement("div",{className:iL},e("Fn"),e("ControlLeft"),e("AltLeft"),e("MetaLeft"),e("Space",500),e("MetaRight"),e("AltRight")):n.createElement("div",{className:iL},e("Fn"),e("ControlLeft"),e("MetaLeft"),e("AltLeft"),e("Space",500),e("AltRight"),e("ControlRight"))}var iU=a(245389);let iG="keyboard_shortcut_panel_layout_tab--row--MilbG",iH="keyboard_shortcut_panel_layout_tab--column--SzOhn keyboard_shortcut_panel--column--lHvov",iV="keyboard_shortcut_panel_layout_tab--wideColumn--tR6V-";var iK=a(497789);function iz(e){switch(e){case l.aTn.CHINESE:case l.aTn.KOREAN:case l.aTn.US_QWERTY:case l.aTn.UNKNOWN:case l.aTn.DVORAK:return!0;default:return!1}}function iW({label:e,width:t}){return n.createElement("div",{style:{flexGrow:t??1},className:"keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},e)}function ij({layout:e}){let t=(0,n.useCallback)(t=>"Space"===t?" ":l.glU.getKeyboardLayoutAsJSON(e)[t],[e]),a=(e,a)=>{if(e!==iO&&e!==iM){let r=t(e);return r?n.createElement(iW,{key:e,width:a,label:r}):null}return e===iO?n.createElement("div",{style:{flexGrow:a??1},className:"keyboard_shortcut_panel_layout_tab--enterISOKeyContainer--PK7LJ keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},n.createElement(aa.B,{className:"keyboard_shortcut_panel_layout_tab--enterISOKey--AbX2h",svg:iK.A})):e===iM?n.createElement("div",{style:{flexGrow:a??1},className:"keyboard_shortcut_panel_layout_tab--spacerKey--g8rv4 keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},t("Enter")):null};return n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardContainer--JLzz1"},n.createElement("div",{className:iG},n.createElement(iP,{createKey:a})),n.createElement("div",{className:iG},n.createElement(iR,{createKey:a,isBackslashRow2:iz(e)})),n.createElement("div",{className:iG},n.createElement(iD,{createKey:a,isBackslashRow2:iz(e)})),n.createElement("div",{className:iG},n.createElement(iF,{createKey:a})),n.createElement("div",{className:tg()(iG,"keyboard_shortcut_panel_layout_tab--row5--TBfPa")},n.createElement(iB,{createKey:a})))}let iq=async()=>{if(!Q.eD)return null;let e=await Q.eD.getKeyboardLayout();return e?(0,iU.pB)(e):null};class iY extends na.c${}function iX({layout:e,setPreviewedLayout:t}){let a=(0,r.wA)(),i=(0,r.d4)(e=>e.dropdownShown),[o,s]=(0,n.useState)(e),[c,d]=(0,n.useState)();iq().then(e=>{c!==e&&d(e)});let u=(0,n.useMemo)(()=>{let e=c?n.createElement(iY,{key:c,value:c}):null,t=(0,io.GP)().map(e=>{if(isNaN(parseInt(e)))return null;let t=parseInt(e);return t===c?null:{name:(0,io.As)(t),layoutOption:t}}).filter(ib.isNotNullish).sort((e,t)=>e.layoutOption===l.aTn.UNKNOWN?1:t.layoutOption===l.aTn.UNKNOWN?-1:e.name.localeCompare(t.name)).map(({layoutOption:e})=>n.createElement(iY,{key:e,value:e}));return null!=e?[n.createElement(iY,{key:(0,_.t)("keyboard_settings.detected"),formattedValue:(0,_.t)("keyboard_settings.detected"),disabled:!0}),e,n.createElement(na.sK,{key:"divider-1"}),n.createElement(iY,{key:(0,_.t)("keyboard_settings.other_layouts"),formattedValue:(0,_.t)("keyboard_settings.other_layouts"),disabled:!0}),...t]:t},[c]),m=n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorWrapper--ecEHm"},n.createElement(na.l6,{id:"keyboard-layout-select",property:o,dispatch:a,autoFocus:!1,className:"keyboard_shortcut_panel_layout_tab--selectorContainer--BWtmR",dropdownClassName:b.s4,inputClassName:"keyboard_shortcut_panel_layout_tab--selectorInputContainer--z1tfj",chevronClassName:"keyboard_shortcut_panel_layout_tab--selectorChevron--ZnCbX",formatter:{format:e=>(0,io.As)(e)},onMouseDown:e=>{e.stopPropagation()},onChange:e=>{s(e),(0,io.rd)({layout:e})},onOptionFocus:t,dropdownShown:i,recordingKey:"keyboardLayoutSelector"},u));return n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorRow--QPlYR"},n.createElement("span",{className:"keyboard_shortcut_panel_layout_tab--selectorLabelText--3jkuk"},(0,_.t)("keyboard_settings.keyboard_layout_panel_selector")),n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorDropdownContainer--0rd1S"},m))}function iJ({layout:e,setPreviewedLayout:t}){let a=(0,_.t)("keyboard_settings.figma_keyboard_shortcuts_won_t_automatically_change_if_you_change_your_system_keyboard_layout");return n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--leftColumnWrapper--8Jn1P"},n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardSelectorContainerSection--gTvK9"},n.createElement(iX,{layout:e,setPreviewedLayout:t})),n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardDescriptionSection--yD9L-"},e===l.aTn.UNKNOWN?null:a),n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardLearnMoreSection--PV6Hj"},n.createElement("a",{className:"keyboard_shortcut_panel_layout_tab--learnMoreLink--bOFxg",href:"https://help.figma.com/hc/articles/5665442977431",target:"_blank",rel:"noopener"},(0,_.tx)("keyboard_settings.request_a_new_layout_or_learn_more"))))}function iZ(){let e=(0,P.J2)(l.Ez5.editorState().keyboardLayoutPreference),[t,a]=(0,n.useState)();return n.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--contents--8vVa7 keyboard_shortcut_panel--contents--8ae0D"},n.createElement("div",{className:tg()(iH,iV)},n.createElement(iJ,{layout:e,setPreviewedLayout:a})),n.createElement("div",{className:tg()(iH,iV,"keyboard_shortcut_panel_layout_tab--keyboardVisualColumn--5Hw4F")},n.createElement(ij,{layout:t??e})))}var iQ=a(811641),i$=a(481103),i0=a(586779),i1=a(964829),i2=a(630834);class i5 extends n.PureComponent{render(){return n.createElement("div",{className:iC.fi},n.createElement("table",null,this.props.children))}}i5.displayName="Column";class i3 extends n.PureComponent{render(){let e=n.Children.toArray(this.props.children).filter(e=>!!e);if(0===e.length)return null;let t=this.props.caption?(0,l5.A)(this.props.caption):null;return n.createElement("tbody",null,t&&n.createElement("tr",null,n.createElement("th",{className:iC.xQ,colSpan:3},t)),e)}}function i4(e,t,a){if(void 0===t&&void 0===a)return!0;let n=e=>{let n=!0;return void 0!==a&&(n&&=a!==e),void 0!==t&&(Array.isArray(t)?n&&=t.includes(e):n&&=t===e),n};return e===z.nT.Design?n(ix.DESIGN):e===z.nT.DevHandoff?n(ix.DEV_MODE):e===z.nT.Whiteboard?n(ix.FIGJAM):e===z.nT.Slides&&n(ix.SLIDES)}function i6(e){return!e||e.every(e=>(0,o.kc)()[e])}i3.displayName="Category";class i7 extends n.Component{constructor(e){super(e),this.keyShortcutPositionsInTab={},this.shortcutList={[iQ.Jq.ESSENTIAL]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.essential"),includeInEditorType:[ix.DESIGN,ix.SLIDES],columns:[[{shortcuts:[{shortcutKey:"toggle-ui",usage:(0,_.tx)("fullscreen.keyboard_shortcuts_panel.toggle_ui_description"),includeInEditorType:ix.DESIGN},{shortcutKey:"create-slide",usage:(0,_.tx)("slides.keyboard_shortcuts.create-slide-description"),includeInEditorType:ix.SLIDES}]}],[{shortcuts:[this.props.hasSubscribedLibraries?{shortcutKey:"component-insert",displayName:this.componentInsertDisplayName(),usage:(0,_.tx)("fullscreen.keyboard_shortcuts_panel.component_insert_description"),includeInEditorType:ix.DESIGN}:{shortcutKey:"toggle-dropper",usage:(0,_.tx)("fullscreen.keyboard_shortcuts_panel.toggle_dropper_description"),includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-slide-view",usage:(0,_.tx)("slides.keyboard_shortcuts.toggle-slide-view-description"),includeInEditorType:ix.SLIDES}]}],[{shortcuts:[{shortcutKey:"toggle-menu",displayName:(0,rD.gn)()?"toggle-actions-menu":"toggle-menu",usage:(0,_.tx)("fullscreen.keyboard_shortcuts_panel.toggle_menu_description"),includeInEditorType:[ix.DESIGN,ix.SLIDES]}]}]]},[iQ.Jq.TOOLS]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.tools"),columns:[[{shortcuts:[{shortcutKey:"set-tool-default",displayName:"set-tool-default-desc-figma",icon:(0,l6.SD)(l.NLJ.SELECT),includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"set-tool-default-figjam",displayName:"set-tool-default-desc-figjam",icon:(0,l6.SD)(l.NLJ.SELECT),includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-frame",displayName:"set-tool-frame-desc",icon:(0,l6.SD)(l.NLJ.FRAME),includeInEditorType:ix.DESIGN},{shortcutKey:"set-tool-pen",displayName:"set-tool-pen-desc",icon:(0,l6.SD)(l.NLJ.VECTOR_PEN),includeInEditorType:ix.DESIGN},{shortcutKey:"set-tool-sticky",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-connector-straight",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-connector-elbowed",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-pencil",displayName:"set-tool-pencil-desc",icon:(0,l6.SD)(l.NLJ.VECTOR_PENCIL),includeInEditorType:ix.DESIGN},{shortcutKey:"set-tool-pencil",displayName:"set-tool-marker",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-hand",displayName:"set-tool-hand",icon:(0,l6.SD)(l.NLJ.HAND),includeInEditorType:[ix.SLIDES]},{shortcutKey:"set-tool-scale",displayName:"set-tool-scale",icon:(0,l6.SD)(l.NLJ.SCALE),includeInEditorType:[ix.SLIDES]},{shortcutKey:"toggle-dropper",displayName:"toggle-dropper",icon:(0,l6.SD)(l.NLJ.DROPPER_COLOR),includeInEditorType:ix.SLIDES},{shortcutKey:"toggle-menu",displayName:(0,rD.gn)()?"toggle-actions-menu":"toggle-menu",icon:l6.bs(rD.gn()?"toggle-actions-menu":"toggle-menu")?.svg??null,includeInEditorType:[ix.SLIDES]}]}],[{shortcuts:[{shortcutKey:"set-tool-type",displayName:"set-tool-type-desc",icon:(0,l6.SD)(l.NLJ.TYPE),hideInEditorType:ix.DEV_MODE},{shortcutKey:"set-tool-table",icon:(0,l6.SD)(l.NLJ.TABLE),includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-section",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-rectangle",displayName:"set-tool-rectangle-desc",icon:(0,l6.SD)(l.NLJ.SHAPE_RECTANGLE),includeInEditorType:ix.DESIGN},{shortcutKey:"set-tool-shape-whiteboard-square",displayName:"set-tool-rectangle-desc",icon:(0,l6.SD)(l.NLJ.SHAPE_RECTANGLE),includeInEditorType:ix.SLIDES},{shortcutKey:"set-tool-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,l6.SD)(l.NLJ.SHAPE_ELLIPSE),hideInEditorType:ix.DEV_MODE},{shortcutKey:"set-tool-shape-whiteboard-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,l6.SD)(l.NLJ.SHAPE_ELLIPSE),includeInEditorType:ix.SLIDES},{shortcutKey:"set-tool-line",displayName:"set-tool-line-desc",icon:(0,l6.SD)(l.NLJ.SHAPE_LINE),includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"toggle-publish",includeInEditorType:ix.FIGJAM},{shortcutKey:"place",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-arrow",displayName:"set-tool-arrow-desc",icon:(0,l6.SD)(l.NLJ.SHAPE_ARROW),includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"set-tool-comments",icon:(0,l6.SD)(l.NLJ.COMMENTS),includeInEditorType:ix.DEV_MODE},{shortcutKey:"set-tool-annotate",icon:(0,l6.SD)(l.NLJ.ANNOTATE),includeInEditorType:ix.DEV_MODE},{shortcutKey:"set-tool-measure",icon:(0,l6.SD)(l.NLJ.MEASURE),includeInEditorType:ix.DEV_MODE}]}],[{shortcuts:[{shortcutKey:"start-chat",includeInEditorType:ix.FIGJAM},{shortcutKey:"stamp-or-reaction-wheel",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-code-block",includeInEditorType:ix.FIGJAM},{shortcutKey:"set-tool-table",icon:(0,l6.SD)(l.NLJ.TABLE),includeInEditorType:ix.SLIDES},{shortcutKey:"set-tool-pen",icon:(0,l6.SD)(l.NLJ.VECTOR_PEN),includeInEditorType:ix.SLIDES},{shortcutKey:"set-tool-pencil",icon:(0,l6.SD)(l.NLJ.VECTOR_PENCIL),includeInEditorType:ix.SLIDES},{shortcutKey:"browse-all-resources-modal",icon:l6.bs("browse-all-resources-modal")?.svg??null,includeInEditorType:ix.SLIDES},{shortcutKey:"set-tool-comments",icon:(0,l6.SD)(l.NLJ.COMMENTS),hideInEditorType:ix.DEV_MODE},{shortcutKey:"toggle-dropper",icon:i1.A,includeInEditorType:ix.DESIGN},{shortcutKey:"set-tool-slice",displayName:"set-tool-slice-desc",icon:(0,l6.SD)(l.NLJ.SLICE),includeInEditorType:ix.DESIGN}]}]]},[iQ.Jq.VIEW]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.view"),columns:[[{shortcuts:[{shortcutKey:"toggle-slide-view",displayName:"toggle-slide-view-short-description",includeInEditorType:ix.SLIDES},{shortcutKey:"enter-slides-design-mode",displayName:"enter-slides-design-mode-description",includeInEditorType:ix.SLIDES},{shortcutKey:"enter-slides-mode",displayName:"enter-slides-design-mode-description",includeInEditorType:ix.SLIDES},{shortcutKey:"toggle-animate-info",displayName:"toggle-animate-info-description",includeInEditorType:ix.SLIDES},{shortcutKey:"toggle-ui",hideInEditorType:ix.SLIDES},{shortcutKey:"toggle-multiplayer-cursors",hideInEditorType:ix.SLIDES},{shortcutKey:"enter-design-mode",hideInEditorType:ix.SLIDES},{shortcutKey:"enter-inspect-mode",hideInEditorType:ix.SLIDES}]}],[{shortcuts:[{shortcutKey:"pan",includeInEditorType:ix.FIGJAM},{shortcutKey:"zoom-in",includeInEditorType:ix.FIGJAM},{shortcutKey:"zoom-out",includeInEditorType:ix.FIGJAM},{shortcutKey:"zoom-reset",includeInEditorType:ix.FIGJAM},{shortcutKey:"toggle-rulers",includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-outlines",includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-pixel-preview",includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-shown-layout-grids",includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"toggle-grid",includeInEditorType:ix.DESIGN},{shortcutKey:"zoom-in",includeInEditorType:ix.SLIDES},{shortcutKey:"zoom-out",includeInEditorType:ix.SLIDES}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit",includeInEditorType:ix.FIGJAM},{shortcutKey:"zoom-to-selection",includeInEditorType:ix.FIGJAM},{shortcutKey:"toggle-layers",includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc",includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-library",includeInEditorType:ix.DESIGN},{shortcutKey:"show-design-panel",includeInEditorType:ix.DESIGN},{shortcutKey:"show-prototype-panel",includeInEditorType:ix.DESIGN},{shortcutKey:"zoom-reset",includeInEditorType:ix.SLIDES},{shortcutKey:"zoom-to-selection",includeInEditorType:ix.SLIDES},{shortcutKey:"zoom-to-fit",includeInEditorType:ix.SLIDES}]}]]},[iQ.Jq.ZOOM]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.zoom"),includeInEditorType:[ix.DESIGN,ix.DEV_MODE],columns:[[{shortcuts:[{shortcutKey:"pan"},{shortcutKey:"zoom-in"},{shortcutKey:"zoom-out"},{shortcutKey:"zoom-reset"}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit"},{shortcutKey:"zoom-to-selection"},{shortcutKey:"next-artboard"},{shortcutKey:"previous-artboard"}]}],[{shortcuts:[{shortcutKey:"page-previous"},{shortcutKey:"page-next"},{shortcutKey:"previous-artboard-same-zoom"},{shortcutKey:"next-artboard-same-zoom"}]}]]},[iQ.Jq.TEXT]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.text"),hideInEditorType:ix.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"bold-and-italic"},{shortcutKey:"text-toggle-underline"},{shortcutKey:"text-edit-hyperlink",hideInEditorType:ix.SLIDES},{shortcutKey:"text-toggle-strikethrough"},{shortcutKey:"bulleted-and-numbered-list",hideInEditorType:ix.SLIDES}]}],[{shortcuts:[{shortcutKey:"text-align-left",includeInEditorType:ix.DESIGN},{shortcutKey:"text-align-center",includeInEditorType:ix.DESIGN},{shortcutKey:"text-align-right",includeInEditorType:ix.DESIGN},{shortcutKey:"text-align-justified",includeInEditorType:ix.DESIGN},{shortcutKey:"text-style-normal",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-style-h3",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-style-h2",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-style-h1",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-style-title",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-edit-hyperlink",includeInEditorType:ix.SLIDES},{shortcutKey:"bulleted-and-numbered-list",includeInEditorType:ix.SLIDES}]}],[{shortcuts:[{shortcutKey:"text-font-size-adjust",includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"text-bold-adjust",includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"text-letter-spacing-adjust",includeInEditorType:ix.DESIGN},{shortcutKey:"text-line-height-adjust",includeInEditorType:ix.DESIGN},{shortcutKey:"text-align-left",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-align-center",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-align-right",includeInEditorType:ix.FIGJAM},{shortcutKey:"text-indent-and-dedent-list",includeInEditorType:ix.FIGJAM}]}]]},[iQ.Jq.SHAPE]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.shape"),includeInEditorType:ix.DESIGN,columns:[[{shortcuts:[{shortcutKey:"set-tool-pen",icon:(0,l6.SD)(l.NLJ.VECTOR_PEN)},{shortcutKey:"set-tool-pencil",icon:(0,l6.SD)(l.NLJ.VECTOR_PENCIL)}]},{caption:"while-editing-shape",shortcuts:[{shortcutKey:"set-tool-paint-bucket",icon:(0,l6.SD)(l.NLJ.VECTOR_PAINT_BUCKET)},{shortcutKey:"bend-tool",icon:(0,l6.SD)(l.NLJ.VECTOR_BEND)}]}],[{shortcuts:[{shortcutKey:"remove-fill"},{shortcutKey:"remove-stroke"},{shortcutKey:"swap-fill-and-stroke"},{shortcutKey:"outline-stroke"},{shortcutKey:"flatten-selection"}]}],[{caption:"after-selecting-points",shortcuts:[{shortcutKey:"join-selection"},{shortcutKey:"smooth-join-selection"},{shortcutKey:"delete-and-heal-selection"}]}]]},[iQ.Jq.SELECT]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.selection"),includeInEditorType:[ix.DESIGN,ix.SLIDES],columns:[[{shortcuts:[{shortcutKey:"select-all"},{shortcutKey:"select-inverse",includeInEditorType:ix.DESIGN},{shortcutKey:"deselect-all"},{shortcutKey:"deep-select"}]}],[{shortcuts:[{shortcutKey:"select-child"},{shortcutKey:"select-parent"},{shortcutKey:"select-next-sibling"},{shortcutKey:"select-previous-sibling",includeInEditorType:ix.DESIGN},{shortcutKey:"select-matching",includeInEditorType:ix.DESIGN}]}],[{shortcuts:[{shortcutKey:"group-selection"},{shortcutKey:"ungroup-selection"},{shortcutKey:"frame-selection"},{shortcutKey:"toggle-shown-for-selected-nodes",includeInEditorType:ix.DESIGN},{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:ix.DESIGN}]}]]},[iQ.Jq.CURSOR]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.cursor"),includeInEditorType:ix.DESIGN,columns:[[{caption:"while-pointing",shortcuts:[{shortcutKey:"measure-to-selection"}]},{caption:"while-moving",shortcuts:[{shortcutKey:"duplicate"}]}],[{caption:"while-clicking",shortcuts:[{shortcutKey:"deep-select"}]},{caption:"while-dragging-to-select",shortcuts:[{shortcutKey:"deep-select-rectangle"}]}],[{caption:"while-resizing",shortcuts:[{shortcutKey:"center-resize-drag"},{shortcutKey:"resize-proportionally"},{shortcutKey:"ignore-constraints",displayName:"ignore-constraints-desc"}]}]]},[iQ.Jq.COPY]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.copy"),includeInEditorType:ix.DEV_MODE,columns:[[],[{shortcuts:[{shortcutKey:"copy",includeInEditorType:ix.DEV_MODE},{shortcutKey:"copy-as-png",includeInEditorType:ix.DEV_MODE}]}],[]]},[iQ.Jq.EDIT]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.edit"),hideInEditorType:ix.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"copy"},{shortcutKey:"cut"},{shortcutKey:"paste"},{shortcutKey:"paste-to-replace",includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"paste-over-selection"},{shortcutKey:"export-selection-or-current-page",displayName:"export-selection-or-current-page-desc",includeInEditorType:ix.FIGJAM}]}],[{shortcuts:[{shortcutKey:"bring-forward",includeInEditorType:ix.FIGJAM},{shortcutKey:"send-backward",includeInEditorType:ix.FIGJAM},{shortcutKey:"bring-to-front",includeInEditorType:ix.FIGJAM},{shortcutKey:"send-to-back",includeInEditorType:ix.FIGJAM},{shortcutKey:"group-selection",includeInEditorType:ix.FIGJAM},{shortcutKey:"undo",includeInEditorType:ix.SLIDES},{shortcutKey:"redo",includeInEditorType:ix.SLIDES},{shortcutKey:"duplicate",includeInEditorType:ix.SLIDES},{shortcutKey:"duplicate-in-place",includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"rename-selection",includeInEditorType:ix.DESIGN},{shortcutKey:"export-selected-exportables",displayName:"export-selected-exportables-desc",includeInEditorType:ix.DESIGN},{shortcutKey:"canvas-search",includeInEditorType:ix.DESIGN}]}],[{shortcuts:[{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:ix.FIGJAM},{shortcutKey:"canvas-search",includeInEditorType:[ix.FIGJAM,ix.SLIDES]},{shortcutKey:"undo",includeInEditorType:ix.FIGJAM},{shortcutKey:"redo",includeInEditorType:ix.FIGJAM},{shortcutKey:"copy-as-png",includeInEditorType:ix.DESIGN},{shortcutKey:"copy-properties",includeInEditorType:[ix.DESIGN,ix.SLIDES]},{shortcutKey:"paste-properties",includeInEditorType:[ix.DESIGN,ix.SLIDES]}]}]]},[iQ.Jq.TRANSFORM]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.transform"),includeInEditorType:ix.DESIGN,columns:[[{shortcuts:[{shortcutKey:"flip-horizontal"},{shortcutKey:"flip-vertical"},{shortcutKey:"mask-selection"}]}],[{shortcuts:[{shortcutKey:"request-edit-mode",displayName:"edit-shape-or-image"},{shortcutKey:"place"}]}],[{shortcuts:[{shortcutKey:"set-opacity-00"},{shortcutKey:"set-opacity-1"},{shortcutKey:"set-opacity-5"},{shortcutKey:"set-opacity-0"}]}]]},[iQ.Jq.ARRANGE]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.arrange"),includeInEditorType:[ix.DESIGN,ix.SLIDES],columns:[[{shortcuts:[{shortcutKey:"bring-forward"},{shortcutKey:"send-backward"},{shortcutKey:"bring-to-front"},{shortcutKey:"send-to-back"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"distribute-spacing",includeInEditorType:ix.DESIGN},{shortcutKey:"tidy-up",includeInEditorType:ix.DESIGN}]}],[{shortcuts:[{shortcutKey:"stack-selection",includeInEditorType:ix.DESIGN},{shortcutKey:"unstack-selection",includeInEditorType:ix.DESIGN},{shortcutKey:"run-multi-stack-auto-layout",featureFlags:["auto_auto_layout"],includeInEditorType:ix.DESIGN},{shortcutKey:"distribute-spacing",includeInEditorType:ix.SLIDES},{shortcutKey:"tidy-up",includeInEditorType:ix.SLIDES}]}]]},[iQ.Jq.COMPONENTS]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.components"),includeInEditorType:ix.DESIGN,columns:[[{shortcuts:[{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc"},{shortcutKey:"toggle-library"},{shortcutKey:"create-symbol"},{shortcutKey:"detach-instance"}]}],[{shortcuts:[{shortcutKey:"component-insert",displayName:this.componentInsertDisplayName()}]},{caption:"while-inserting-a-component",shortcuts:[{shortcutKey:"swap-instance"}]}]]},[iQ.Jq.ACCESSIBILITY]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.accessibility"),includeInEditorType:ix.FIGJAM,columns:[[{shortcuts:[{shortcutKey:"select-next-node"},{shortcutKey:"select-previous-node"},{shortcutKey:"select-parent"},{shortcutKey:"select-child"}]}],[{shortcuts:[{shortcutKey:l3.dz},{shortcutKey:l3.Jt}]}]]},[iQ.Jq.ADVANCED]:{displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.advanced"),includeInEditorType:ix.FIGJAM,columns:[[{caption:"while-editing-shape-or-sticky",shortcuts:[{shortcutKey:"quick-create-immutable-frame"}]},{caption:"while-text-shape-or-sticky-selected",shortcuts:[{shortcutKey:"edit-text"}]}],[{caption:"while-stamping",shortcuts:[{shortcutKey:"stamp-on-node"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"tidy-up"},{shortcutKey:"straight-connector"}]}]]}},this.state={activeTab:this.props.initActiveTab??this.getDefaultActiveTab(this.props.editorType),completedTabs:this.getCompletedTabs(this.props.usedKeyboardShortcuts),allTabsCompleted:this.allTabsCompleted(this.getCompletedTabs(this.props.usedKeyboardShortcuts)),tabCompletedAnimation:!1,tabCompletedFirstTimeAnimation:!1,allTabsCompletedAnimation:!1},this.onNavClick=e=>{this.setState({activeTab:e,completedTabs:this.state.completedTabs,allTabsCompleted:this.state.allTabsCompleted,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation})},this.getTabs=()=>{let e=[],t=this.props.editorType===z.nT.Design?iC.CJ:"";for(let a in this.shortcutList)i4(this.props.editorType,this.shortcutList[a].includeInEditorType,this.shortcutList[a].hideInEditorType)&&i6(this.shortcutList[a].featureFlags)&&e.push({displayName:this.shortcutList[a].displayName,id:a,active:this.state.activeTab==a,className:tg()(iC.Mf,t)});if(this.props.editorType===z.nT.Design){let a={id:"spacer",className:tg()(iC.Mf,t)};e.push(a)}return e.push({displayName:(0,_.tx)("whiteboard.keyboard_shortcuts.tab.layout"),id:"layout",active:"layout"===this.state.activeTab,className:tg()(iC.Mf,t)}),this.props.isCKSLabEnabled&&e.push({displayName:(0,_.tx)("keyboard_settings.custom_tab"),id:"custom",active:"custom"===this.state.activeTab,className:tg()(iC.Mf,t)}),e},this.replayAllTabsCompletedAnimation=()=>{this.state.allTabsCompletedAnimation?this.stopAllTabsCompletedAnimation():this.playAllTabsCompletedAnimation(this.state.completedTabs)},this.onClose=()=>{this.props.dispatch(l2.FU({tab:null})),C.Y5.triggerAction("toggle-keyboard-shortcuts")},this.onTablistKeyDown=e=>{if("ArrowLeft"===e.key&&0===(0,l_.sN)(e)){let t=this.tabRefs.current?.findIndex(e=>!!e&&e.id===this.state.activeTab);if(!this.tabRefs.current||null==t)return;let a=t-1;for(;!this.tabRefs.current[a]&&a>0;)a--;0===t&&(a=this.tabRefs.current.length-1),this.tabRefs.current[a].focus(),this.onNavClick(this.tabRefs.current[a].id),e.preventDefault()}else if("ArrowRight"===e.key&&0===(0,l_.sN)(e)){let t=this.tabRefs.current?.findIndex(e=>!!e&&e.id===this.state.activeTab);if(!this.tabRefs.current||null==t)return;let a=t+1;for(;!this.tabRefs.current[a]&&a<this.tabRefs.current.length-1;)a++;t===this.tabRefs.current.length-1&&(a=0),this.tabRefs.current[a].focus(),this.onNavClick(this.tabRefs.current[a].id),e.preventDefault()}else if("Home"===e.key)this.tabRefs.current&&this.onNavClick(this.tabRefs.current[0].id),e.preventDefault();else if("End"===e.key)this.tabRefs.current&&this.onNavClick(this.tabRefs.current[this.tabRefs.current.length-1].id),e.preventDefault();else if("Tab"===e.key&&0===(0,l_.sN)(e))this.tabPanelRef.current?.focus(),e.preventDefault();else if("Escape"===e.key){if(this.tabListRef.current?.blur(),this.tabRefs.current){let e=this.tabRefs.current.findIndex(e=>!!e&&e.id===this.state.activeTab);this.tabRefs.current[e].blur()}e.preventDefault()}else"Enter"===e.key?e.preventDefault():(0,l4.f7)(e)},this.tabRefs=n.createRef(),this.tabListRef=n.createRef(),this.tabPanelRef=n.createRef()}componentInsertDisplayName(){return this.props.isUI3?"component-insert-display-name-ui3":"component-insert-display-name"}componentDidMount(){this.tabListRef.current?.focus()}getDefaultActiveTab(e){return e===z.nT.Design||e===z.nT.Slides?"essential":e===z.nT.DevHandoff?"view":"tools"}getCompletedTabs(e,t){let a=t??this.props.editorType,n={};for(let t in this.shortcutList){let r=!0;for(let n of this.shortcutList[t].columns)for(let t of n)if(i4(a,t.includeInEditorType,t.hideInEditorType)){for(let n of t.shortcuts)if(i4(a,n.includeInEditorType,n.hideInEditorType)&&iI.keybindingsForShortcut(n.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts)&&!(iI.shortcutUsedCount(n.shortcutKey,e)>0)){r=!1;break}}n[t]=r}return n}findChangedKey(e,t,a){for(let n of this.shortcutList[e].columns)for(let e of n)for(let n of e.shortcuts)if(iI.keybindingsForShortcut(n.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts)){let e=iI.shortcutUsedCount(n.shortcutKey,t);if(iI.shortcutUsedCount(n.shortcutKey,a)>e)return n.shortcutKey}return null}allTabsCompleted(e){let t=!0;for(var a in e)if(!e[a]){t=!1;break}return t}playAllTabsCompletedAnimation(e){this.setState({completedTabs:e,allTabsCompleted:!0,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:!0})}stopAllTabsCompletedAnimation(){this.setState({allTabsCompletedAnimation:!1})}playCompletedTabFirstTimeAnimation(e,t){setTimeout(()=>this.setState({completedTabs:t,tabCompletedFirstTimeAnimation:!0,tabCompletedAnimationKeyPosition:this.keyShortcutPositionsInTab[e],tabCompletedAnimation:!0}),1500),setTimeout(()=>this.setState({tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1}),6e3)}UNSAFE_componentWillReceiveProps(e){let t=this.state.activeTab,a=t;t&&this.props.editorType!==e.editorType&&!i4(e.editorType,this.shortcutList?.[t]?.includeInEditorType,this.shortcutList?.[t]?.hideInEditorType)&&(a=this.getDefaultActiveTab(e.editorType));let n=this.getCompletedTabs(this.props.usedKeyboardShortcuts),r=this.getCompletedTabs(e.usedKeyboardShortcuts);if(this.allTabsCompleted(r)&&!this.allTabsCompleted(n))this.playAllTabsCompletedAnimation(r);else{let t=this.state.activeTab in iQ.Jq?this.findChangedKey(this.state.activeTab,this.props.usedKeyboardShortcuts,e.usedKeyboardShortcuts):null;t&&r[this.state.activeTab]&&!n[this.state.activeTab]&&this.playCompletedTabFirstTimeAnimation(t,r)}this.setState({completedTabs:r,allTabsCompleted:this.allTabsCompleted(r),activeTab:a})}renderTabContents(){let e;let t={usedKeyboardShortcuts:this.props.usedKeyboardShortcuts,appModelKeyboardShortcuts:this.props.appModelKeyboardShortcuts};this.keyShortcutPositionsInTab={};let a=0,r=e=>(a++,this.keyShortcutPositionsInTab[e.shortcutKey]=a,i4(this.props.editorType,e.includeInEditorType,e.hideInEditorType)&&i6(e.featureFlags))?n.createElement(iI,{shortcutKey:e.shortcutKey,key:`shortcut-${this.state.activeTab}-${a}`,icon:e.icon,displayName:e.displayName,editorType:this.props.editorType,usage:e.usage,keyPosition:a,tabCompletedFirstTimeAnimation:this.state.tabCompletedFirstTimeAnimation,tabCompletedAnimation:this.state.tabCompletedAnimation,tabCompletedAnimationKeyPosition:this.state.tabCompletedAnimationKeyPosition,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation,useNumbersForOpacity:this.props.useNumbersForOpacity,...t}):null,l=this.shortcutList[this.state.activeTab]?this.shortcutList[this.state.activeTab].columns.map((e,a)=>n.createElement(i5,{...t,key:`column-${a}`},e.map((e,l)=>i4(this.props.editorType,e.includeInEditorType,e.hideInEditorType)?n.createElement(i3,{caption:e.caption,key:`category-${a}-${l}`,...t},e.shortcuts.map(r)):null))):[];e=this.state.tabCompletedFirstTimeAnimation?iC.iV:this.state.completedTabs[this.state.activeTab]?iC.xd:iC.Y0,"layout"===this.state.activeTab&&(e=iC.Y0);let i="essential"===this.state.activeTab?n.createElement(n.Fragment,null,n.createElement("div",{className:iC.pG},(0,_.tx)("whiteboard.keyboard_shortcuts.essential_keyboard_shortcuts")),n.createElement("div",{className:iC.Bz},l)):"layout"===this.state.activeTab?n.createElement("div",{className:iC.PG},n.createElement(iZ,null)):"custom"===this.state.activeTab&&this.props.isCKSLabEnabled?n.createElement(iA,null):n.createElement("div",{className:iC.PG},l);return n.createElement("div",{role:"tabpanel",ref:this.tabPanelRef,id:iQ.xC,"aria-labelledby":this.state.activeTab,className:e,tabIndex:0,"data-fullscreen-intercept":!0},i)}render(){let e=this.getTabs(),t=this.props.editorType===z.nT.Design?iC.CJ:"",a=iC.C$;for(let n=0;n<e.length;n++){let r=e[n];if((0,iQ.$w)(r)&&r.active){e[n].className=this.state.tabCompletedFirstTimeAnimation?tg()(iC.Ug,t):tg()(iC.yR,t),n>0?e[n-1].className=tg()(iC.gK,t):a=iC.JA,n<e.length-1?e[n+1].className=tg()(iC.hM,t):a=iC.NZ;break}}return n.createElement("div",{className:iC.Ku,"data-fullscreen-intercept":!0},n.createElement("div",{role:"tablist",ref:this.tabListRef,"aria-label":(0,_.t)("keyboard_settings.keyboard_shortcuts"),className:a,onKeyDown:this.onTablistKeyDown,tabIndex:0},n.createElement(iQ.Qz,{tabInfo:e,completedTabs:this.state.completedTabs,onNavClick:this.onNavClick,recordingKey:this.props.recordingKey,ref:this.tabRefs}),n.createElement("button",{className:iC.Nk,onClick:this.onClose,"aria-label":(0,_.t)("general.close"),"data-fullscreen-intercept":!0},n.createElement(aa.B,{svg:i2.default})),this.state.allTabsCompleted&&n.createElement("div",{className:this.state.allTabsCompletedAnimation?iC.Yk:iC.C_,onClick:this.replayAllTabsCompletedAnimation},n.createElement(aa.B,{svg:this.state.allTabsCompletedAnimation?i$.A:i0.A}))),this.renderTabContents())}}function i8(e){let t=(0,tF.GS)(),a=(0,r.d4)(e=>Object.keys(e.library.subscriptions.forCurrentOrg).length>0),i=(0,l7.o3)(l7.nt.customKeyboardShortcuts),o=(0,r.d4)(e=>e.usedKeyboardShortcuts),s=(0,r.d4)(e=>e.keyboardShortcutPanel.tab),c=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),d=(0,r.d4)(e=>"fullscreen"===e.selectedView.view?e.selectedView.editorType:z.nT.Design),u=(0,P.ut)(l.Ez5?.slidesToolMode(),l.EMA.DESIGN),m=d===z.nT.Slides&&u===l.EMA.DESIGN?z.nT.Design:d,p=(0,P.J2)(l.Ez5.editorState().useNumbersForOpacity),_=(0,r.wA)();return n.createElement(i7,{recordingKey:e.recordingKey,usedKeyboardShortcuts:o,initActiveTab:s,appModelKeyboardShortcuts:c,editorType:m,hasSubscribedLibraries:a&&d!==z.nT.Slides,useNumbersForOpacity:p,dispatch:_,isCKSLabEnabled:i,isUI3:t})}i7.displayName="KeyboardShortcutPanel";var i9=a(666258),oe=a(396021),ot=a(246497);function oa(){let e=(0,lT.Xr)(i9.mH),t=(0,oe.XC)((0,D.md)(i9.a8));return(0,o.kc)().cursor_bot&&t?n.createElement("div",{className:ot.CR,"data-testid":"cursor-bot-fullscreen-event-blocker",onClick:()=>{e(!0)}}):null}var on=a(624875),or=a(344780),ol=a(358145),oi=a(316082),oo=a(168039),os=a(479118);function oc({background:e,showSpinner:t}){let a=n.useContext(tq.kw),{x:r,y:l,width:i}=a.getViewportInfo(),o={background:e},s=window.innerWidth-i;return a&&(o={...o,width:`calc(100vw - ${s}px)`,height:`calc(100vh - ${l}px)`,top:`${l}px`,left:`${r}px`}),n.createElement("div",{className:"loading_overlay--pageSyncing--9AqbU"},n.createElement("div",{className:tg()("loading_overlay--blurredOverlay--79bya",b.Dm),style:o}),t&&n.createElement(lB.dW,{className:"loading_overlay--pageSyncingSpinner--rjAvP"}))}function od(){let e=(0,nH.U)(),t=(0,r.d4)(e=>e.selectedView),a=r.d4(e=>e.versionHistory)?.isLoadingPage,i=(0,oo.DP)(),{isLoading:s}=(0,os.v9)({selectedView:t,isLoadingVersionHistory:a,theme:i}),c=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState),d=(0,oi.y)(),u=(0,r.wA)(),[m,p]=n.useState(null),_=(0,ol.ZC)(s);return n.useEffect(()=>{if((0,o.kc)().long_page_change_notif){if(l.h3O.isIncrementalSession()&&s)s!==_&&d&&c!==l.kul.JOINED&&(p(Date.now()),u(f.F.enqueue({message:"Page change may take longer during staging deploy",error:!1,delay:3e3,type:"long-page-change",timeoutOverride:1/0})));else{let e=m?Date.now()-m:0;e<3e3||e>9e3?(u(f.F.dequeue({matchType:"long-page-change"})),p(null)):setTimeout(()=>{u(f.F.dequeue({matchType:"long-page-change"})),p(null)},Math.max(0,9e3-e))}}},[s,c,d,u,m,_]),n.createElement(ou,{onPageLoadingFinish:t=>{e("page_loading_overlay",{timeElapsedMs:t})},selectedView:t,isLoadingVersionHistory:a,theme:i})}function ou({onPageLoadingFinish:e,selectedView:t,isLoadingVersionHistory:a,theme:r}){let{isLoading:l,isLoadingMissingFonts:i,background:o}=(0,os.v9)({selectedView:t,isLoadingVersionHistory:a,theme:r});return((0,n.useEffect)(()=>{if(!l){let t=or.sn.tryStop("page_loading_overlay");t&&e&&e(t)}},[l,e]),l)?(or.sn.get("page_loading_overlay")||or.sn.start("page_loading_overlay"),n.createElement(oc,{background:o,showSpinner:!i})):null}var om=a(634832),op=a(743282),o_=a(851061),of=a(227712),og=a(829632),oh=a(947087),oE=a(561004),oy=a(978527),ov=a(99888),ob=a(720756),oC=a(268537),ow=a(233890),ok=a(458516);class ox extends a3.o6{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{e.accept(),this.props.onKeyDown(e.event)},this.onContainerClick=e=>{e.stopPropagation()}}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.props.onKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.props.onKeyDown)}render(){let e={left:window.innerWidth/2-200,top:window.innerHeight/8,width:400};return n.createElement(ow.vL,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},n.createElement(oC.ms,{className:`${ok.DU} ${b.Dm}`,style:e,"data-testid":this.props["data-testid"],onClick:this.onContainerClick},n.createElement("div",null,this.props.children)))}}class oT extends a3.o6{constructor(e){super(e),this.scrollContainerRef=n.createRef()}scrollElementAtIndexIntoView(e){if(this.props.resultCount>=10){let t=this.scrollContainerRef.current.getScrollTop(),a=32*e,n=32*e+32;a<t?this.scrollContainerRef.current.scrollTo(a):n>t+304&&this.scrollContainerRef.current.scrollTo(n-304)}}render(){let e=this.props.resultCount,t=Math.min(Math.max(e,1),10);return n.createElement(at.P,{ref:this.scrollContainerRef,width:400,height:32*t+(e>=10?-16:8),hideScrollbar:!0,role:this.props.role,contentId:this.props.id},this.props.children,n.createElement("div",{style:{height:8}}))}}var oN=a(28177),oS=a(774419),oI=a(377849);let oA="Loading suggestions...";function oL(e){(0,om.assert)(null!==e,"We should never be in the middle state if there are no optional parameters")}class oO extends a3.o6{constructor(e){let t;if(super(e),this.searchInputRef=n.createRef(),this.scrollContainerRef=n.createRef(),this.searchBarRef=n.createRef(),this.primaryPlaceholderTextRef=n.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),a=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),n=a>=0?a:this.state.activeItemIndex,r=t.length||!this.state.searchQuery?null:(0,_.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:n,items:t,errorMessage:r});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,_.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{let e=this.state.activeParameterIndex,t=null;if("middle"===e){if(oL(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}t=this.firstOptionalIndex-1}else if("final"===e)t=this.props.parameters.length-1;else{if(0===e){this.props.onExitParameterEntry();return}t=e-1}let a={...this.state.parameterValues},n=this.getParameterForIndex(t)?.key;n&&delete a[n],this.setParameterIndex(t,a)},this.onTextChange=e=>{let t;let a=this.state.activeParameterIndex;if("middle"===a)oL(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===a)return;t=a}let n=this.props.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:n,currentSearchQuery:e}),this.setLoadingMessage(oA),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let a;let n=this.state.activeParameterIndex;if("final"===n){"enter"===t&&this.launchPluginWithParameters(this.state.parameterValues);return}let r={...this.state.parameterValues};if("middle"!==n){if(0===this.state.items.length)return;let a=this.props.parameters[n];if(e<0||e>=this.state.items.length){let r="Trying to select suggestion at invalid index";console.error(r),(0,w.Lo)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:n,parameter:a.name,keyPress:t}),(0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error(r));return}let l=this.state.items[e];"skip"===l||("freeform"===l?r[a.key]={name:this.state.searchQuery}:((0,om.assertDev)(!this.state.loadingMessage,"Selected item while loading"),r[a.key]=l))}let l=this.firstOptionalIndex;if("middle"===n){if(oL(this.firstOptionalIndex),"enter"===t){this.launchPluginWithParameters(r);return}a=this.firstOptionalIndex}else if(n===this.props.parameters.length-1){if("enter"===t){this.launchPluginWithParameters(r);return}a="final"}else a=null!==l&&n===l-1?"tab"===t?l:"middle":n+1;this.setParameterIndex(a,r),this.searchInputRef.current.focus()},this.onKeyDown=a3.C0(this,"keydown",e=>{let t=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},a=m.Ay.mac?(0,l_.vN)(e,l_.xH.META):(0,l_.vN)(e,l_.xH.CONTROL);switch(e.keyCode){case l_.Uz.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case l_.Uz.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case l_.Uz.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case l_.Uz.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(-1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case l_.Uz.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case l_.Uz.ESCAPE:e.preventDefault(),this.props.dispatch(ec.oB());break;case l_.Uz.P:case l_.Uz.FORWARD_SLASH:a&&(e.preventDefault(),this.props.dispatch(ec.oB()));break;case l_.Uz.EQUALS:case l_.Uz.DASH:a&&(e.preventDefault(),"-"===e.key?C.Y5.triggerAction("zoom-out"):C.Y5.triggerAction("zoom-in"));break;case l_.Uz.R:case l_.Uz.S:case l_.Uz.D:case l_.Uz.E:case l_.Uz.F:case l_.Uz.O:if(a){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=a3.Z7(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,a)=>{let r,l="",i="";return"skip"===t?(l=`Skip "${e.name}"`,i="skip"):"freeform"===t?(l=this.state.searchQuery,i="skip"):(l=t.name,i=t.name,r=oF(t,ok.ZR)),n.createElement(oD,{recordingKey:a3.Pt(this.props,"suggestion",i),active:a===this.state.activeItemIndex,key:a,suggestion:l,onClick:e=>this.onSelectItem(a,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:a})},icon:r,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:a})}})},(0,w.Lo)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),0===e.parameters.length)throw Error("Must specify at least one parameter");let a=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=a<0?null:a,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0,this.handler=this.runPlugin();let r=this.getParameterForIndex(t);r&&this.triggerInputEvent({parameterValues:{},currentParameter:r,currentSearchQuery:""}),this.setLoadingMessage("Loading plugin..."),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1}}getParameterForIndex(e){return"middle"===e||"final"===e?null:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}runPlugin(){let e=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?e=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(e=(0,rk.uF)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(e=this.props.localExtensions[this.props.pluginLocalFileId]),!e)throw Error("Plugin not runnable");let{canRun:t}=(0,rk.JT)({plugin:e,editorType:this.props.editorType});if(!t)throw Error("Plugin not runnable");this.runArgs={plugin:e,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:this.props.openFile?.key||"",deferRunEvent:!0,isWidget:!1};let a=(0,of.D)();return og.R.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),a}async triggerInputEvent(e){this.eventID++;let t=this.eventID,a=await this.handler;this.eventID===t&&a.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.props.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=Math.min(250,Math.max(this.primaryPlaceholderTextRef.current.offsetWidth,120));this.setState({placeholderWidth:e})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,a=t.offsetWidth<t.scrollWidth;e||!a||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,J.sx)(ob.yh,(0,ob.ov)({...this.props,qaVersion:ov.U3})),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){super.componentWillUnmount(),this.ranWithParameters||(0,oE.wY)();let e=(0,ob.O8)(this.props.parameters,this.state.parameterValues);this.ranWithParameters&&e.requiredEntered!==e.requiredCount&&((0,w.Lo)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.props.parameters,parameterValues:this.state.parameterValues}),(0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let t=(0,ob.ov)({...this.props,qaVersion:ov.U3});(0,J.sx)(ob.rj,{...t,success:this.ranWithParameters,parametersEntered:e.entered,requiredParametersEntered:e.requiredEntered,optionalParametersEntered:e.optionalEntered})}getDropdownItems(e,t,a){if("middle"===a||"final"===a)return[];let n=e.slice(),r=this.props.parameters[a];t.length>0&&r.allowFreeform&&n.unshift("freeform");let l=this.props.parameters[a];return 0===t.length&&l.optional&&n.unshift("skip"),n}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let a=this.getParameterForIndex(e);a&&((0,w.Lo)("PluginParameterEntry","setParameterIndex",{nextParameter:a.name}),this.triggerInputEvent({parameterValues:t,currentParameter:a,currentSearchQuery:""}));let n=!(0===e&&!this.props.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(oA),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:n})}launchPluginWithParameters(e){if(this.setState({parameterValues:e}),this.handler.then(async t=>{let{isCancelled:a}=await (0,oh.y)(this.runArgs);a||t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(ed.Rw({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}}))}(0,rx.C3)(t)}this.ranWithParameters=!0,this.props.dispatch(ec.oB())}renderResults(){if("middle"===this.state.activeParameterIndex)return n.createElement("div",{className:oN.wM},n.createElement("div",{className:oN.FV},n.createElement("div",{className:oN.h8},(0,_.tx)("fullscreen_actions.plugin_parameters.tab")),n.createElement("div",{className:oN.w8},(0,_.tx)("fullscreen_actions.plugin_parameters.to_enter_optional_parameters"))),n.createElement("div",{className:oN.FV},n.createElement("div",{className:oN.h8},(0,_.tx)("fullscreen_actions.plugin_parameters.enter")),n.createElement("div",{className:oN.w8},(0,_.tx)("fullscreen_actions.plugin_parameters.to_run_plugin"))));if("final"===this.state.activeParameterIndex)return null;let e=this.props.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=n.createElement("div",{className:ok.Tk},this.state.errorMessage):this.state.loadingMessage&&(t=n.createElement("div",{className:ok.Tk},this.state.loadingMessage)),0===this.state.items.length)return t;let a=t?this.state.items.length+1:this.state.items.length;return n.createElement(oT,{ref:this.scrollContainerRef,resultCount:a},this.state.items.map((t,a)=>this.renderResult(e,t,a)),t)}renderCurrentParameters(){let e=this.getCurrentParameter()?.key,t=oR(this.props.parameters,this.state.parameterValues,e);return n.createElement(n.Fragment,null,n.createElement(oP,{key:"plugin-name",value:this.state.hidePluginName?void 0:this.props.displayName,icon:function(e,t,a){if(!a)return n.createElement(aa.B,{className:oN.nW,svg:oS.A,ariaLabel:"plugin icon"});{let r=e[a];return r||(r=t[a]&&(0,rk.uF)(t[a])),n.createElement(oy.V,{className:oN.nW,plugin:r,alt:"plugin icon"})}}(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId)}),t)}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return n.createElement(n.Fragment,null);if("middle"===e){let e=(0,n0.removeNullish)(this.props.parameters.map(e=>e.optional?e.name:null)).join(", ");return n.createElement("span",{ref:this.primaryPlaceholderTextRef},(0,_.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:e}))}{let a=this.props.parameters[e],r=this.props.parameters.slice(e);if(a.optional){let e=r.map(e=>e.name);return t&&(e[0]=""),n.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", "))}{let e=(0,n0.removeNullish)(r.map(e=>e.optional?null:e.name)),a=(0,n0.removeNullish)(r.map(e=>e.optional?e.name:null));return t&&(e[0]=""),n.createElement("span",null,n.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", ")),a.length>0&&n.createElement(n.Fragment,null,n.createElement("span",{className:oN.yL,key:"divider"},"|"),n.createElement("span",{key:"optionalParams"},(0,_.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:a.join(", ")}))))}}}render(){let e=this.getCurrentParameter(),t=e?.description,a=this.placeholderElement(),r="final"===this.state.activeParameterIndex?oN.ed:oN.Kf,l={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},i=this.renderResults();return n.createElement(ox,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown},n.createElement("div",{className:ok.$P},n.createElement(aa.B,{svg:oI.A,className:ok.qc}),n.createElement("div",{className:oN.ON,ref:this.searchBarRef},this.renderCurrentParameters(),n.createElement("div",{className:r},n.createElement("input",{ref:this.searchInputRef,className:oN.t6,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:l}),n.createElement("div",{className:oN.l4},n.createElement("div",{className:oN.qf},n.createElement("span",{className:oN.CZ},this.state.searchQuery),a))))),!!t&&n.createElement("div",{className:tg()({[oN.WL]:!0,[oN.$8]:!i})},t),i)}}oO.displayName="PluginParameterEntry";let oM=(0,r.Ng)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,orgEntity:(0,rc.Jl)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanRunPlugins:(0,eI.GP)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}},function(e){return{dispatch:e}})(oO);function oP(e){return n.createElement("div",{className:oN.Io},e.icon&&n.createElement("span",null,e.icon),e.value&&n.createElement("span",null,e.value))}function oR(e,t,a){return e.filter(e=>t[e.key]&&e.key!==a).map(e=>t[e.key]&&t[e.key].name&&n.createElement(oP,{icon:oF(t[e.key],oN.nW),key:e.key,value:t[e.key].name}))}class oD extends a3.o6{constructor(){super(...arguments),this.onClick=a3.cZ(this,"click",e=>{if(!this.props.onClick)return a3.aH;this.props.onClick(e)})}render(){let e=`${this.props.active?ok.ix:ok.Ke}`;return n.createElement("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},n.createElement("div",{className:ok.EA},this.props.icon),n.createElement("div",{className:oN.iu},n.createElement("div",{className:ok.D6},this.props.suggestion)))}}function oF(e,t){let a="";if(e.iconUrl)a=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)a="data:image/svg+xml;base64,"+o_.encodeString(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;a="data:application/octet-stream;base64,"+o_.encode(e.icon)}return n.createElement(oB,{className:t,src:a})}oD.displayName="ParameterSuggestion";class oB extends a3.o6{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),n.createElement(n.Fragment,null)):["https:","http:","data:","blob:"].includes(e.protocol)?n.createElement("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),n.createElement(n.Fragment,null))}}oB.displayName="UntrustedImage";var oU=a(730371),oG=a(179479),oH=a(30637),oV=a(47506),oK=a(728325),oz=a(516703),oW=a(824767),oj=a(176857);function oq(e){return{key:(0,ic.e)(e),isDisabled:!!e.disabled,resultType:e.pluginId||e.pluginLocalFileId?ov.l4.EXTENSION:ov.l4.ACTION}}function oY(e){let t=new Map;e.forEach(e=>{let a=e.category??"";t.has(a)||t.set(a,[]),t.get(a)?.push(e)});let a=[];for(let[e,n]of t.entries())a.push({name:e,actions:n.map(oq)});return(0,ak.i6)(a)}var oX=a(199819),oJ=a(553551);function oZ({itemPath:e}){let t=n.useRef(null),a=n.useRef(null),r=n.useRef(null),l=n.useRef(null),[i,o]=n.useState("full"),s=(0,ol.ZC)(e);n.useLayoutEffect(()=>{(0,oU.deepEquals)(e,s)||"full"===i||o("full"),"full"===i&&c()},[s,e,i]);let c=()=>{let e=a.current?.offsetWidth,n=l.current?.offsetWidth,i=r.current?.offsetWidth,s=t.current?.scrollWidth,c=t.current?.clientWidth;void 0!==e&&void 0!==n&&void 0!==i&&s&&c&&c<s&&(e+n>c?o("plugin"):o("path"))};if(1===e.length)return n.createElement("span",{ref:l},e[0]);let d=e.slice(1,e.length-1),u=n.createElement(aa.B,{svg:oJ.A,className:ok.VU,dataTestId:"rightChevron"}),m=n.createElement("span",{ref:a},"plugin"===i?"...":e[0],u),p=n.createElement("span",{ref:r},"plugin"!==i&&n.createElement(n.Fragment,null,"path"===i?n.createElement(n.Fragment,null,"...",u):d.map((e,t)=>n.createElement("span",{key:t},e," ",u))));return n.createElement("div",{ref:t,className:ok.D6},m,p,n.createElement("span",{ref:l},e[e.length-1]))}function oQ({runPluginArgs:e,itemParameterArgs:t}){let[a,r]=n.useState(!1),l=n.useRef(null);n.useEffect(()=>{let e=l.current;e&&e.offsetWidth<e.scrollWidth&&!a&&r(!0)},[a]);let i=e.parameterValues;if(i){let e=oR(t.parameters,i);return n.createElement("div",{className:oN.ON,ref:l,"data-testid":"parameter-display"},n.createElement(oP,{key:"plugin-name",value:a?void 0:t.displayName}),e)}return n.createElement(n.Fragment,null)}var o$=a(901304),o0=a(816679),o1=a(575126),o2=a(961803);let o5=e=>(0,id.Zj)(e)&&!e.hideCheckForQuickCommand;class o3 extends a3.o6{constructor(e){super(e),this.searchInputRef=n.createRef(),this.scrollContainerRef=n.createRef(),this.listboxId=(0,op.g)(),this.resultPrefix=(0,op.g)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let a=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(a)}else t=this.recentlyUsedItemsMenu();this.logSearchResults(e,t),this.setState({searchQuery:e,searchResults:t,activeItemIndex:0,mouseMoved:!1})},this.logSearchResults=(e,t)=>{this.props.quickActionsSessionId&&this.props.fireQueryResultTrackingEvent({quickActionsSessionId:this.props.quickActionsSessionId,quickActionsQueryId:this.props.latestQuerySessionIdRef.current,searchQuery:e,numSearchResults:this.state.searchResults.length,currentSelection:this.props.currentSelection,module:H.Jc.ALL,moduleFilters:null,qaVersion:ov.U3,searchQueryResults:oY(t)})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=a3.cZ(this,"click",e=>{e?.button!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=a3.C0(this,"keydown",e=>{let t=e=>{if(this.state.searchResults.length>0){let t=this.state.activeItemIndex+e,a=t<0?this.state.searchResults.length-1:t%this.state.searchResults.length,n=1!==this.state.searchResults.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:a,displayAriaActiveDescendant:n}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(a)}},a=(0,l_.vN)(e,l_.xH.CONTROL),n=m.Ay.mac?(0,l_.vN)(e,l_.xH.META):a,r=m.Ay.mac&&a;switch(e.keyCode){case l_.Uz.ENTER:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&ru.l7.user(`quick-actions-select-${t.name??t.action??"unknown"}`,()=>{this.onSelectItem(t)});break}case l_.Uz.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(ec.oB());break;case l_.Uz.N:case l_.Uz.DOWN_ARROW:if(e.keyCode===l_.Uz.N&&!r){(0,l4.jr)(e,l4.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(1);break;case l_.Uz.P:case l_.Uz.UP_ARROW:if(e.keyCode===l_.Uz.P&&!r){(0,l4.jr)(e,l4.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(-1);break;case l_.Uz.TAB:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&t.itemParameterArgs&&(this.onStartParameterMode(t.itemParameterArgs,t,"tab"),this.logActionSelectedEvent(t));break}case l_.Uz.R:case l_.Uz.S:case l_.Uz.D:case l_.Uz.E:case l_.Uz.F:case l_.Uz.O:if(n){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,l4.jr)(e,l4.W0.NO)}}),this.onSearchChange=a3.Z7(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSelectItem=(e,t)=>{if(e.disabled)this.cancelDelayedClose();else{let a=!1;if(e.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)og.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),a=!0;else if(e.parametersRequired){this.onStartParameterMode(e.itemParameterArgs,e,t?.type==="click"?"click":"enter"),this.logActionSelectedEvent(e);return}}if(e.callback&&!a&&(e.callback((0,id.Dz)(e),e.args,this.props.dispatch),a=!0),e.action&&(oK.VU.get(e.action,"quick-actions",e.args)(t),a=!0),a&&this.addToRecentlyUsedCommands(e,e.runPluginArgs),this.logActionSelectedEvent(e),"toggle-publish"===e.action&&(0,oV.YQ)({id:"insert-component-onboarding-event"}),o5(e)&&!(0,oH.PN)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(ec.oB())},300);return}this.props.dispatch(ec.oB())}},this.renderResult=(e,t)=>{let a=t===this.state.activeItemIndex;return n.createElement(o7,{role:"option",id:this.getResultId(t),key:e.action||t,recordingKey:a3.Pt(this.props,e.action||"searchResult"),active:a,disabled:!!e.disabled,appModel:this.props.appModel,item:e,isLastItem:t===this.state.searchResults.length-1,actionIcon:this.getActionIcon(e),onClick:t=>this.onSelectItem(e,t),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,searchQuery:this.state.searchQuery})},this.searchIndex=this.createSearchIndex(),this.state={searchQuery:"",searchResults:this.recentlyUsedItemsMenu(),activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),(0,oU.deepEquals)(this.props.pluginAndWidgetMenuArgs,e.pluginAndWidgetMenuArgs)||(this.searchIndex=this.createSearchIndex())}createSearchIndex(){let e=(0,iu.M)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,isReadOnly:this.props.appModel.isReadOnly,includeDisabled:!0});return new ih.x(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...e],{includeDisabled:!0,acceptsUnicode:(0,oj.LN)()})}componentDidMount(){super.componentDidMount(),this.searchInputRef.current.focus()}logActionSelectedEvent(e){let{createMetrics:t}=this.props.interactionMetrics;(0,o$.kp)({item:e,searchQuery:this.state.searchQuery,qaVersion:ov.U3,numSearchResults:this.state.searchResults.length,searchPosition:this.state.activeItemIndex,moduleFilters:null,...t()})}recentlyUsedItemsMenu(){return(0,n0.removeNullish)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),a=e.filter(e=>e.disabled);return t.concat(a)}addToRecentlyUsedCommands(e,t){let a=(0,ic.E)(e),n=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==a&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));n.length>=3&&n.pop(),n.unshift({displayName:a,runPluginArgs:t}),this.props.dispatch(ed.PQ(n)),this.props.updateFrecencyHistory(e,this.state.searchQuery)}getActionIcon(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,rk.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...this.props.pluginAndWidgetMenuArgs.publishedPlugins,...this.props.pluginAndWidgetMenuArgs.publishedWidgets}})),t&&!(0,rI.ZQ)(t))?n.createElement(oy.V,{className:ok.ZR,plugin:t,role:"presentation"}):n.createElement(aa.B,{className:ok.pB,svg:o2.A,ariaLabel:`${e.name} icon`})}if(e.iconType&&"external_link"===e.iconType)return n.createElement(aa.B,{svg:o1.A})}onStartParameterMode(e,t,a){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,a)}getResultId(e){return this.resultPrefix+"-"+e}renderResults(){let e=this.state.searchResults;if(this.state.searchQuery){if(0===this.state.searchResults.length)return n.createElement("div",{className:ok.Tk},(0,_.tx)("fullscreen_actions.no_matches"))}else if(0===this.state.searchResults.length)return null;return n.createElement(oT,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox"},e.map(this.renderResult))}render(){let e=this.state.searchQuery||this.state.searchResults.length;return n.createElement(ox,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions"},n.createElement("div",{className:ok.$P},n.createElement(aa.B,{svg:oI.A,className:ok.qc}),n.createElement("input",{ref:this.searchInputRef,className:ok.Rt,placeholder:(0,l5.A)("quick-actions-modal-placeholder"),onChange:this.onSearchChange,onClick:this.onClick,value:this.state.searchQuery,maxLength:150,spellCheck:!1,dir:"auto",role:"combobox","aria-autocomplete":"list","aria-owns":this.listboxId,"aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0})),this.renderResults())}}o3.displayName="QuickActions";let o4=(0,r.Ng)(function(e,t){return{pluginAndWidgetMenuArgs:t.pluginAndWidgetMenuArgs,fullscreenMenuItems:t.fullscreenMenuItems,interactionMetrics:t.interactionMetrics,fireQueryResultTrackingEvent:t.fireQueryResultTrackingEvent,currentSelection:t.currentSelection,updateFrecencyHistory:t.updateFrecencyHistory,appModel:e.mirror.appModel,selectedView:e.selectedView,recentlyUsedQuickCommands:e.recentlyUsedQuickCommands,onStartParameterEntry:t.onStartParameterEntry,locale:e.user?.locale,quickActionsSessionId:t.quickActionsSessionId,latestQuerySessionIdRef:t.latestQuerySessionIdRef}},function(e){return{dispatch:e}})(o3);function o6(e){let t=(0,ip.c)(),a=(0,im.u)(),l=(0,o$.Sk)(),{addFrecencyUsage:i}=(0,oW.fJ)(),o=(0,r.d4)(oz.l),s=(0,ak.Ev)(),c=(0,D.md)(V.dd),d=(0,D.md)(V.Rt),u=(0,oG.F)(d);return n.createElement(o4,{...e,pluginAndWidgetMenuArgs:t,fullscreenMenuItems:a,interactionMetrics:l,updateFrecencyHistory:i,fireQueryResultTrackingEvent:s,currentSelection:o,quickActionsSessionId:c,latestQuerySessionIdRef:u})}function o7(e){let t=(0,P.J2)((0,tU.UK)().showQuickCommandRankDebug);return n.createElement(o8,{...e,showQuickCommandRankDebug:t})}class o8 extends a3.o6{constructor(e){super(e),this.onClick=a3.cZ(this,"click",e=>{if(!this.props.onClick)return a3.aH;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item;if(e.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return n.createElement(oQ,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return n.createElement(oZ,{itemPath:t})}let t=(0,ic.E)(e);return this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore&&(t=`M${e.stringMatchScore} P${e.popularityScore}: `+t),n.createElement("div",{className:ok.D6},t)},o5(this.props.item)?this.state={itemIsChecked:(0,id.WJ)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,id.WJ)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),a=(0,id.Dz)(e),r=e.shortcutText||(0,W.c1)(this.props.appModel.keyboardShortcuts,a),l=void 0!==this.props.item.runPluginArgs,i=e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),s="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,c=null;void 0!==this.state.itemIsChecked?c=n.createElement(oX.S,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(c=this.props.actionIcon);let d=`${this.props.active?ok.ix:ok.Ke} ${this.props.disabled?ok.wn:""}`;return n.createElement("div",{className:d,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked},n.createElement("div",{className:ok.EA},c),n.createElement("div",{className:ok.V4},t,i&&n.createElement("div",{className:ok.Vu},(0,_.tx)("fullscreen_actions.development"))),r&&!s&&n.createElement("div",{className:ok.LE},n.createElement(th.S,{shortcut:r})),!r&&s&&n.createElement("div",{className:ok.LE},n.createElement("div",{className:ok.Hq},(0,_.tx)("fullscreen_actions.tab")),l&&n.createElement("div",{className:ok.w8},(0,_.tx)("fullscreen_actions.to_edit")),n.createElement(aa.B,{svg:o0.A})),!r&&e.isRepairCommand&&(0,o.kc)().internal_only_debug_tools&&n.createElement("div",{style:er.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$},"REPAIR"))}}function o9({parameterEntryArgs:e,fireTrackingEvent:t}){let[a,r]=n.useState(),[l,i]=n.useState(!0),o=(0,lT.Xr)(V.dd);if(n.useEffect(()=>{if(l){i(!1);let a=(0,op.g)();o(a),t(a),e&&r({args:e})}},[e,l,t,o]),!a)return n.createElement(o6,{recordingKey:"quickActions",onStartParameterEntry:(e,t,a)=>{let n;switch(a){case"tab":n="quick-actions-tab";break;case"enter":n="quick-actions-enter";break;case"click":n="quick-actions-click";break;default:(0,om.assertNever)(a)}r({args:{...e,triggeredFrom:n},item:t})}});{let{args:e,item:t}=a,l=t?(0,ic.E)(t):void 0;return n.createElement(oM,{recordingKey:"parameterEntry",parameters:e.parameters,displayName:e.displayName,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command,triggeredFrom:e.triggeredFrom,parameterOnly:e.parameterOnly,onExitParameterEntry:()=>{r(void 0)},initialParameterValues:t?.runPluginArgs?.parameterValues,recentlyUsedCommandName:l})}}o8.displayName="QuickActionsResult";var se=a(320063),st=a(635897),sa=a(432704),sn=a(315964),sr=a(486788),sl=a(562432),si=a(65633),so=a(891487),ss=a(560945),sc=a(726864),sd=a(724790),su=a(356235),sm=a(273602);let sp=(0,tM.jz)(tK.j4N);function s_(e){let t=n.useRef(null),a=(0,lT.Xr)(V.fq),r=(0,ss.w)(t),l=(0,sc.xn)();(0,n.useEffect)(()=>(r?.height&&a(r.height),()=>{a(0)}),[r,a]);let[i]=(0,D.fp)(V.Sf),o=i?.current?.getBoundingClientRect(),s=!!(o&&o.height>0),c=(0,n.useMemo)(()=>s?{bottom:sp+l+(o?.height||0)+8}:null,[l,s,o?.height]);return n.createElement(n.Fragment,null,n.createElement("div",{ref:t,style:{bottom:72,...c},className:tg()([su.tT,b.Dm]),"data-testid":"quick-actions-v2"},n.createElement(sg,null,e.children)))}function sf(e){return n.createElement(s_,null,e.children)}function sg(e){let t=(0,sd.x)(),a=n.useRef(null),r=(0,lT.Xr)(V.IH);(0,n.useEffect)(()=>(a.current&&r(a),()=>{r(null)}),[r]);let l=Math.max(t??0,396);return n.createElement("div",{ref:a,style:{maxWidth:sm.X,minWidth:l},className:tg()([su.N8,b.Dm]),"data-cancel-insertable-resource-drag-and-drop":"true"},e.children)}var sh=a(767129),sE=a(818150),sy=a(225266),sv=a(48515),sb=a(56063),sC=a(38329),sw=a(695426),sk=a(644233),sx=a(849232),sT=a(100140),sN=a(954244),sS=a(927457),sI=a(434228);function sA(e){return(0,sI.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.722 7.5h.414l.293-.293.935-.935a.9.9 0 0 1 1.272 0l.935.935.293.293H15.6a.9.9 0 0 1 .9.9v1.736l.293.293.935.935a.9.9 0 0 1 0 1.272l-.935.935-.293.293V15.6a.9.9 0 0 1-.9.9h-1.736l-.293.293-.935.934a.9.9 0 0 1-1.272 0l-.935-.934-.293-.293H8.4a.9.9 0 0 1-.9-.9v-1.736l-.293-.293-.935-.935-.707.708.707-.708a.9.9 0 0 1 0-1.272l.935-.935.293-.293V8.4a.9.9 0 0 1 .9-.9zm-4.157 3.156a1.9 1.9 0 0 0 0 2.688l.935.934V15.6c0 1.05.85 1.9 1.9 1.9h1.322l.934.935a1.9 1.9 0 0 0 2.688 0l.934-.935H15.6a1.9 1.9 0 0 0 1.9-1.9v-1.322l.935-.934a1.9 1.9 0 0 0 0-2.687l-.935-.935V8.4a1.9 1.9 0 0 0-1.9-1.9h-1.322l-.934-.935a1.9 1.9 0 0 0-2.687 0l-.935.935H8.4a1.9 1.9 0 0 0-1.9 1.9v1.322zm7.351-1.379a.5.5 0 1 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 0 0 .832.554l2-3a.5.5 0 0 0-.416-.777h-2.066z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.22 6.997h.413l.293-.293.934-.935a.9.9 0 0 1 1.273 0l.935.935.292.293h1.737a.9.9 0 0 1 .9.9v1.736l.293.293.934.935a.9.9 0 0 1 0 1.272l-.934.935-.293.293v1.736a.9.9 0 0 1-.9.9H13.36l-.293.293-.935.935a.9.9 0 0 1-1.272 0l-.936-.936-.293-.292H7.898a.9.9 0 0 1-.9-.9V13.36l-.293-.293-.935-.935a.9.9 0 0 1 0-1.272l.935-.935.293-.293V7.897a.9.9 0 0 1 .9-.9zm0-1 .933-.935a1.9 1.9 0 0 1 2.687 0l.935.935h1.322c1.05 0 1.9.85 1.9 1.9v1.322l.935.934a1.9 1.9 0 0 1 0 2.688l-.935.934v1.322a1.9 1.9 0 0 1-1.9 1.9h-1.322l-.935.935a1.9 1.9 0 0 1-2.687 0l-.935-.935H7.897a1.9 1.9 0 0 1-1.9-1.9v-1.322l-.935-.934a1.9 1.9 0 0 1 0-2.687l.935-.935V7.897c0-1.05.85-1.9 1.9-1.9zm3.193 2.78a.5.5 0 0 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777H10.93z",clipRule:"evenodd"}))}var sL=a(137035),sO=a(126049),sM=a(419527),sP=a(921472),sR=a(124271);function sD(){return(0,i.R)(e=>{let t={};for(let a in e.mirror.appModel)(0,W.vg)(a)&&(t[a]=e.mirror.appModel[a]),"isReadOnly"===a&&(t.isReadOnly=e.mirror.appModel.isReadOnly);return t})}var sF=a(328849),sB=a(340860),sU=a(143984);function sG(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 14a2 2 0 1 0 0-4V9h3.25v-.96c0-.198-.071-.385-.142-.571l-.05-.131a1 1 0 1 1 1.883 0q-.023.065-.049.131c-.07.186-.142.373-.142.57V9H16v1a2 2 0 0 0 0 4v1h-3.25v.961c0 .197.072.385.142.57l.05.132q.057.16.058.338a1 1 0 1 1-1.941-.338q.023-.066.049-.131c.07-.186.142-.374.142-.57V15H8zm2.3 1.95H8a.95.95 0 0 1-.95-.95v-1a.95.95 0 0 1 .95-.95 1.05 1.05 0 1 0 0-2.1.95.95 0 0 1-.95-.95V9A.95.95 0 0 1 8 8.05h2.3v-.005l-.009-.037a3 3 0 0 0-.07-.2m.079 8.142v.004l-.009.038c-.013.046-.033.1-.07.2l.887.339-.888-.339-.001.003-.054.146.894.32-.894-.32a1.95 1.95 0 1 0 3.671 0l-.055-.146-.001-.003a3 3 0 0 1-.071-.2l-.009-.038v-.004H16a.95.95 0 0 0 .95-.95v-1a.95.95 0 0 0-.95-.95 1.05 1.05 0 1 1 0-2.1.95.95 0 0 0 .95-.95V9a.95.95 0 0 0-.95-.95h-2.3v-.005l.009-.037c.013-.047.033-.1.071-.2l.001-.004.055-.145a1.95 1.95 0 1 0-3.671 0c.018.052.038.104.054.145l.001.004",clipRule:"evenodd"}))}var sH=a(758271),sV=a.n(sH),sK=a(574724);async function sz(e,t,a){let n;return(await sK.Ay.shared.assistantChat({messages:[...t,e]})).pipeThrough((n={},new TransformStream({async transform(e,t){if(e.choices.length&&(n=function(e,t){let a=(e,t)=>{for(let[n,r]of(e={...e},Object.entries(t)))if(void 0===e[n]||null===e[n]){if(e[n]=r,Array.isArray(e[n]))for(let t of e[n])delete t.index}else if("string"==typeof e[n]&&"string"==typeof r)e[n]+=r;else if("number"==typeof e[n]&&"number"==typeof r)e[n]=r;else if(Array.isArray(e[n])&&Array.isArray(r)){let t=e[n];for(let e=0;e<r.length;e++){let{index:n,...l}=r[e];if(n-t.length>1)throw Error(`Error: An array has an empty value when tool_calls are constructed. tool_calls: ${t}; tool: ${r}`);t[n]=a(t[n],l)}}else"object"==typeof e[n]&&"object"==typeof r&&(e[n]=a(e[n],r));return e};return a(e,t.choices[0].delta)}(n,e),t.enqueue({...n,role:"assistant"}),n.tool_calls&&n.tool_calls.length>0&&"tool_calls"===e.choices[0].finish_reason))for(let e of n.tool_calls){let n=await a(e),r={tool_call_id:e.id,role:"tool",name:e.function.name,content:JSON.stringify(n)};t.enqueue(r)}}})))}var sW=a(330654),sj=a(453681),sq=a(933342),sY=a(50335),sX=a(262151),sJ=a(435011),sZ=a(532888),sQ=a(707033),s$=a(176626),s0=a(22631),s1=a(547807);let s2=new class{sendFeatureRequest(e){return n5.Ay.post("/api/ask_figma/request_feature",s1.td.toAPIParameters(e))}};var s5=(e=>(e.Idle="idle",e.Loading="loading",e.Error="error",e))(s5||{});let s3=(0,lp.eU)({status:"idle",messages:[]}),s4=sW.object({node_id:sW.string(),score:sW.number(),file_name:sW.string(),editor_name:sW.string(),editor_img_url:sW.string(),last_edited_at:sW.string(),url:sW.string(),thumbnail_url:sW.string(),edit_info:sW.object({created_at:sW.string(),last_modified:sW.string(),last_modified_user:sW.string()}).optional(),containing_page_name:sW.string(),containing_frame_name:sW.string().optional(),fragment_name:sW.string(),width:sW.number(),height:sW.number()}),s6=sW.object({type:sW.literal("fragments"),status:sW.literal("success"),fragments:sW.array(s4)}),s7=sW.object({type:sW.literal("fragments"),status:sW.literal("success"),fragments:sW.array(s4.pick({score:!0,file_name:!0,editor_name:!0,last_edited_at:!0,containing_page_name:!0,containing_frame_name:!0,fragment_name:!0})),images:sW.array(sW.string())}),s8=sW.object({type:sW.literal("selection"),status:sW.literal("success"),selectionLength:sW.number()}),s9=sW.object({type:sW.literal("selection"),status:sW.literal("success"),selectionLength:sW.number(),images:sW.array(sW.string()),jsx:sW.array(sW.string())}),ce=sW.object({type:sW.literal("plugin"),status:sW.literal("success")}),ct=sW.object({type:sW.literal("plugin"),status:sW.literal("success")}),ca=sW.object({type:sW.literal("assets"),queries:sW.array(sW.string()),status:sW.literal("success"),assets:sW.any().array()}),cn=sW.object({type:sW.literal("assets"),status:sW.literal("success"),assets:sW.array(sW.object({name:sW.string(),description:sW.string().optional()})),images:sW.array(sW.string())}),cr=sW.object({type:sW.literal("request-feature"),status:sW.literal("success"),title:sW.string(),description:sW.string()}),cl=sW.object({type:sW.literal("request-feature"),status:sW.literal("success"),images:sW.undefined()}),ci=sW.object({userFacing:sW.union([s6,s8,ce,ca,cr]),assistantFacing:sW.union([s7,s9,ct,cn,cl])});async function co(e){if("function"!==e.type)throw Error("Unexpected tool_call type:"+e.type);let t=JSON.parse(e.function.arguments),a=D.zl.get(j.ze);if(!a)throw Error("No file key found");switch(e.function.name){case"autocomplete":case"view_user_selection":{let e=tW.q.instance.getCurrentPage()?.directlySelectedNodes??[],t=e?.slice(0,10),a=t.map(e=>{let t=(0,B.T1)(e,B.UF.GPT);if(!t)throw Error("Failed to export thumbnail");return t}),n=t.map(e=>"");return{userFacing:{type:"selection",status:"success",selectionLength:e.length},assistantFacing:{type:"selection",status:"success",selectionLength:e.length,images:a,jsx:n}}}case"visual_search_with_selection":case"search_designs_by_text":{let n=[];if("visual_search_with_selection"===e.function.name){let e=tW.q.instance.getCurrentPage()?.directlySelectedNodes;if(!e||0===e.length)throw Error("No selection found");n=(await (0,B.lc)({type:"input-selection",node:e[0],file_key:a,name:e[0].name})).slice(0,3)}else n=(await (0,B.c)({type:"input-text",value:t.query,file_key:a})).slice(0,3);return{userFacing:{type:"fragments",status:"success",fragments:n},assistantFacing:{type:"fragments",status:"success",fragments:n.map(e=>({score:e.score,file_name:e.file_name,editor_name:e.editor_name,last_edited_at:e.last_edited_at,containing_page_name:e.containing_page_name,containing_frame_name:e.containing_frame_name,fragment_name:e.fragment_name})),images:n.map(e=>e.thumbnail_url)}}}case"search_components_by_text":{let e=t.queries.slice(0,3);if(0===e.length)throw Error("No queries provided");let a=(await Promise.all(e.map(e=>cc(e)))).map(e=>e.slice(0,3)).flat(),n=[],r=[];return a.map(e=>{if(!e.thumbnail_url)return;let t=e.thumbnail_url.startsWith("/")?`${window.location.origin}${e.thumbnail_url}`:e.thumbnail_url;n.push(e),r.push(t)}),{userFacing:{type:"assets",status:"success",queries:t.queries,assets:n},assistantFacing:{type:"assets",status:"success",assets:n.map(e=>({name:e.name,description:e.description})),images:r}}}case"create_figma_plugin":let n=sW.object({plugin_code:sW.string(),ui_code:sW.string().optional()}).safeParse(t);if(!n.success)throw Error("Invalid args: "+n.error.toString());let{plugin_code:r,ui_code:l}=n.data;return cs(r,l);case"edit_file":{let e=sW.object({code:sW.string()}).safeParse(t);if(!e.success)throw Error("Invalid args: "+e.error.toString());let{code:a}=e.data;return cs(a)}case"request_feature":let i=sW.object({title:sW.string(),description:sW.string()}).safeParse(t);if(!i.success)throw Error("Invalid args: "+i.error.toString());let{title:o,description:s}=i.data,c={title:o,description:s,chatHistory:D.zl.get(s3).messages};return await s2.sendFeatureRequest(c),{userFacing:{type:"request-feature",status:"success",title:o,description:s},assistantFacing:{type:"request-feature",status:"success"}};default:throw Error(`No function found for ${e.function.name}`)}}async function cs(e,t){let a=D.zl.get(j.ze),n=(0,sQ.o8)();if(!n)throw Error("Cannot run plugin while logged out");if(!a)throw Error("No file key found");await (0,oE.wY)();let r=`
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
    ${t}
    </script>
    <div id="root"></div>
    `,l=t?(0,rk.nx)(e,r):e,i=(0,oE.mv)();return oE.iu.currentPluginRunID=i,(0,sX.E9)({allowedDomains:s$.gH,apiVersion:sY.pS,capabilities:[],stats:new s0.P,checkSyntax:!0,code:l,command:"",disableSilenceConsole:!0,enablePrivatePluginApi:!1,enableProposedApi:!1,errorHandler:u.lQ,isLocal:!0,isWidget:!1,name:"Assistant plugin",openFileKey:a,permissions:rk.qH.forFirstPartyPlugin(),pluginID:"",pluginRunID:i,pluginVersionID:"0",queryMode:!1,showLaunchErrors:!0,showRuntimeErrors:!0,titleIconURL:"",userID:n,vmType:"cppvm",editorType:[rI.FW.FIGMA],incrementalSafeApi:!1,enableNativeJsx:!1}),{userFacing:{type:"plugin",status:"success"},assistantFacing:{type:"plugin",status:"success"}}}async function cc(e){let t=sC.D.getState(),a=(0,j.tB)(t),n=(0,sZ.vx)(t);if(!a||null==n)throw Error("No open file or file version found");let r=1;for(;!(0,sq.Wg)(sC.D.getState())&&r<=50;)await new Promise(e=>setTimeout(e,200*r)),r++;if(!(0,sq.Wg)(sC.D.getState()))throw Error("Failed to initialize assets");let l={type:sv.I.ALL};t=sC.D.getState();let i={type:"input-text",query:e,assetTypeOption:l,isKnownLibrary:e=>!0,openFile:(0,j.tB)(t),selectedView:(0,sJ.hK)(t),inDesignEditor:(0,ey.XE)((0,sJ.hK)(t))===z.nT.Design,fileVersion:n,currentOrgId:(0,aF.eD)(t),fileByKey:(0,sZ.t_)(t),libraryByLibraryKey:D.zl.get(sj.qp)},o=(await (0,U.C8)(i,D.zl.get(V.dd))).normalizedSearchResults.filter(e=>i.isKnownLibrary(e));return(0,sq.Ow)(o)}async function cd(e,t,a,n){try{let r;let l=tW.q.instance.getCurrentPage()?.directlySelectedNodes,i="string"==typeof e?{role:"user",content:[{type:"text",text:`<user_message><user_input>${e}</user_input><selected_layer_ids>${l&&JSON.stringify(l.map(e=>e.guid))}</selected_layer_ids></user_message>`}]}:e;a(e=>({...e,status:s5.Loading,messages:[...e.messages,i]}));let o=[];for(let e of t){let t=function(e){if("tool"!==e.role)return e;let t=e.content,a="string"==typeof t?JSON.parse(t):t,n=ci.parse(a).assistantFacing,r=n.type;switch(r){case"selection":case"assets":case"fragments":let{images:l,...i}=n;return{...e,content:JSON.stringify(i)};case"plugin":case"request-feature":return e;default:(0,om.assertNever)(r)}}(e);o.push(t)}let s=(await sz(i,o,n)).getReader();for(;;){let{done:e,value:t}=await s.read();if(e){a(e=>({...e,status:s5.Idle}));break}let{sendFollowup:n,newMessages:l}=function(e){if("tool"!==e.role)return{sendFollowup:!1,newMessages:[]};let t=e.content,a="string"==typeof t?JSON.parse(t):t,n=ci.parse(a),r=n.assistantFacing.type;switch(r){case"selection":case"assets":case"fragments":return{sendFollowup:!0,newMessages:[{role:"user",content:[{type:"text",text:"<!-- The tool call showed me the following images: -->"},...n.assistantFacing.images.map(e=>({type:"image_url",image_url:{url:e.startsWith("http")?e:`data:image/jpeg;base64,${e}`,detail:"high"}}))]}]};case"plugin":case"request-feature":return{sendFollowup:!1,newMessages:[]};default:(0,om.assertNever)(r)}}(t);l.length>0&&n&&(r=l[l.length-1]),a(e=>"string"==typeof t.content&&0===t.content.length||t.role!==e.messages[e.messages.length-1]?.role?{status:s5.Loading,messages:[...e.messages,t,...l]}:{status:s5.Loading,messages:[...e.messages.slice(0,-1),t,...l]})}r&&cd(r,D.zl.get(s3).messages,a,n)}catch(e){(0,w.Lo)("Send chat message failed: ",e.message),a(e=>({...e,status:s5.Error}))}}var cu=a(652875),cm=a(248513),cp=a(124008),c_=a(963757);function cf(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.5 16a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11m0 1a6.48 6.48 0 0 0 4.23-1.564l4.416 4.418a.5.5 0 0 0 .708-.708l-4.418-4.417A6.5 6.5 0 1 0 10.5 17m-.485-9.56L9.5 9.5l-2.06.515c-.505.126-.505.844 0 .97l2.06.515.515 2.06c.126.505.844.505.97 0l.515-2.06 2.06-.515c.505-.126.505-.844 0-.97L11.5 9.5l-.515-2.06c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"}))}var cg=a(339350);function ch(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 9.764a2.3 2.3 0 0 0-1 .114V8h4v-.935q0-.033-.002-.065c-.02-.26-.146-.5-.282-.725a1.5 1.5 0 1 1 2.569 0c-.137.225-.264.466-.283.725L13 7.065V8h4v1.878a2.25 2.25 0 0 0-1-.114 2.25 2.25 0 1 0 1 4.358V16h-4v.935l.002.065c.02.26.146.5.282.725a1.5 1.5 0 1 1-2.569 0c.137-.225.264-.466.283-.725l.002-.065V16H7v-1.878a2.25 2.25 0 0 0 1 .114 2.25 2.25 0 0 0 0-4.472M9.973 17H7a1 1 0 0 1-1-1v-1.878a1 1 0 0 1 1.333-.943q.196.07.417.071a1.25 1.25 0 1 0-.417-2.43A1 1 0 0 1 6 9.879V8a1 1 0 0 1 1-1h2.973a2 2 0 0 0-.113-.207 2.5 2.5 0 1 1 4.28 0l-.794-.48.794.48c-.056.092-.09.156-.113.207H17a1 1 0 0 1 1 1v1.878a1 1 0 0 1-1.333.943 1.25 1.25 0 1 0 0 2.358 1 1 0 0 1 1.333.943V16a1 1 0 0 1-1 1h-2.973c.022.05.058.115.113.207a2.5 2.5 0 1 1-4.28 0c.056-.092.09-.156.113-.207",clipRule:"evenodd"}))}var cE=a(293775),cy=a(45623);function cv(e){return(0,sI.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.646 5.646a.5.5 0 0 1 .708 0l4.5 4.5a.5.5 0 0 1-.708.708L12.5 7.207V18a.5.5 0 0 1-1 0V7.207l-3.646 3.647a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.146 5.146a.5.5 0 0 1 .708 0l5 5a.5.5 0 0 1-.708.708L12 6.707V17.5a.5.5 0 0 1-1 0V6.707l-4.146 4.147a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"}))}var cb=a(135317),cC=a(339502),cw=a(323434),ck=a(711117),cx=a(620722),cT=a(545816),cN=a(395977),cS=a(750600),cI=a(268645),cA=a(276060),cL=a(699306);function cO({url:e}){return n.createElement("img",{src:e,className:tv.cx.maxW100.$,alt:"debug"})}function cM(e){let{obj:t,depth:a=0}=e;if(null===t)return n.createElement("span",{className:tv.cx.colorTextTertiary.$},(0,_.t)("assistant.debug.null"));if("object"!=typeof t){if("string"==typeof t){if(t.startsWith("{")&&t.endsWith("}"))try{let e=JSON.parse(t);return n.createElement(cM,{obj:e,depth:a})}catch(e){}return t.startsWith("data:image")?n.createElement(cO,{url:t}):t.length>300&&t.match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/)?n.createElement(cO,{url:`data:image/jpeg;base64,${t}`}):n.createElement("span",{className:tv.cx.colorTextSuccess.$},'"',t,'"')}return"number"==typeof t?n.createElement("span",{className:tv.cx.colorTextSelected.$},t):"boolean"==typeof t?n.createElement("span",{className:tv.cx.colorTextComponent.$},t.toString()):n.createElement("span",null,t)}let r=Array.isArray(t),l=r?["[","]"]:["{","}"],i=Object.entries(t);return n.createElement("div",{style:{marginLeft:`${8*a}px`}},l[0],i.length>0&&n.createElement("div",null,i.map(([e,t],l)=>n.createElement("div",{key:e},!r&&n.createElement("span",{className:tv.cx.colorTextDanger.$},`"${e}:" `),n.createElement(cM,{obj:t,depth:a+1}),l<i.length-1&&","))),l[1])}function cP(e){let{data:t}=e;return n.createElement("pre",{contentEditable:!0,className:"font-mono text-sm select-all text-wrap"},n.createElement(cM,{obj:t}))}function cR({messages:e}){return n.createElement("div",null,n.createElement("div",{className:tv.cx.px2.py2.$},n.createElement(cP,{data:e})))}let cD=(0,lP.Ju)(function({messages:e}){let t=(0,r.wA)();return n.createElement(ax.vx,{onClose:()=>{t(eu.AS())},initialPosition:new ae.Mi(0,0),initialWidth:400,allowResizeWidth:!0,autoflowHeight:!0,title:(0,_.t)("assistant.debug.title"),dragHeaderOnly:!0},n.createElement("div",{className:tv.cx.px2.py2.$,style:{height:600,overflowX:"scroll",overflowY:"scroll"}},n.createElement(lm.$n,{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e,void 0,2))}},(0,_.t)("assistant.debug.copy_all")),n.createElement(cR,{messages:e})))},"AssistantDebugModal",lP.ZU.YES);function cF(){let[e,t]=n.useState(""),[a,l]=(0,D.fp)(s3),i=(0,r.wA)(),o=(0,r.d4)(e=>e.modalShown);(0,sb.b)();let s=n.useCallback(()=>{if(o&&o.type===cD.type){i(eu.AS());return}i(eu.to({type:cD,data:{messages:a.messages}}))},[a.messages,i,o]);n.useEffect(()=>{o?.type!==cD.type||i(eu.hm({type:cD.type,data:{messages:a.messages}}))},[a.messages,i,o]);let c=n.useCallback(()=>{"/debug"===e?s():cd(e,a.messages,l,co),t("")},[e,a.messages,l,s]);return n.createElement(sk.n,{height:av.wC,hideActionPanel:!0},n.createElement(sk.n.Body,null,0===a.messages.length?n.createElement(cB,null):n.createElement(cI.q,{stretchContent:!1,useBottomPinning:!0,enableScrollShadow:!0},n.createElement("div",{className:tv.cx.py8.flex.flexColumn.gap4.$},a.messages.map((e,t)=>n.createElement(cK,{key:`msg-${t}`,message:e})),n.createElement("div",{style:{marginLeft:"44px",marginRight:"12px"}},n.createElement(cH,{status:a.status}))))),n.createElement(sk.n.Footer,null,n.createElement(sx.v,{placeholder:(0,_.t)("fullscreen_actions.assistant-chat"),searchQuery:e,onSearchChange:t,endEnhancer:n.createElement(cN.r,{shortcuts:[{key:l_.Uz.ENTER}],onAction:c,disabled:0===e.length||a.status===s5.Loading},(0,_.t)("assistant.chat.send_message"))})))}function cB(){return n.createElement("div",{className:tv.cx.flex.flexColumn.itemsCenter.justifyEnd.hFull.gap8.$},n.createElement(c_.m,null),n.createElement("div",{className:tv.cx.flex.flexRow.gap16.$},n.createElement("div",{className:tv.cx.flex.flexColumn.itemsCenter.flexGrow1.gap8.$},n.createElement(cU,{inputToSend:"Find similar designs to my selection"},n.createElement(cf,null),"Find designs"),n.createElement(cU,{inputToSend:"I want to request a feature."},n.createElement(cg.V,null),(0,_.t)("assistant.chat.suggestion.request_feature"))),n.createElement("div",{className:tv.cx.flex.flexColumn.itemsCenter.flexGrow1.gap8.$},n.createElement(cU,{inputToSend:"Make a plugin that creates rectangles in a grid"},n.createElement(ch,null),(0,_.t)("assistant.chat.suggestion.make_tool")),n.createElement(cU,{inputToSend:"",disabled:!0},n.createElement(cE.C,null),(0,_.t)("assistant.chat.suggestion.coming_soon")))))}function cU({children:e,inputToSend:t,disabled:a}){let[r,l]=(0,D.fp)(s3),i=n.useCallback(()=>{cd(t,r.messages,l,co)},[t,r.messages,l]);return n.createElement("button",{className:tv.cx.flex.flexColumn.justifyEnd.wFull.b1.colorBorder.gap8.textBodyLargeStrong.p12.if(a,tv.cx.colorTextSecondary).$,style:{borderRadius:13,minWidth:150,...a&&{"--color-icon":"var(--color-text-secondary)"}},onClick:i,disabled:a},e)}function cG({children:e}){return n.createElement("div",{className:tv.cx.flex.flexRow.itemsCenter.wFull.b1.colorBorder.gap8.h40.textBodyLargeStrong.px4.mr12.$,style:{borderRadius:13}},e)}function cH({status:e}){let t;switch(e){case s5.Idle:t=null;break;case s5.Loading:t=n.createElement(cG,null,n.createElement("div",{className:tv.cx.px4.flex.itemsCenter.justifyCenter.$},n.createElement(lB.kt,null)),n.createElement("div",{className:tv.cx.colorTextSecondary.$},(0,_.t)("assistant.chat.status.loading")));break;case s5.Error:t=n.createElement(cG,null,n.createElement(cy.Z,null),(0,_.t)("assistant.chat.status.error"));break;default:(0,om.assertNever)(e)}return n.createElement(cw.N,{mode:"popLayout",initial:!1},n.createElement(ck.P.div,{key:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},t))}function cV(e){let t=n.useRef(null),a=(0,r.d4)(j.tB),l=(0,cT.O)(),i=(0,D.md)(sj.oE);try{let r=e.content,o="string"==typeof r?JSON.parse(r):r,{userFacing:s}=ci.parse(o);if("fragments"===s.type){let e=s.fragments.map(e=>({...e,type:"fig-file-fragment"}));return n.createElement(cL.U,{fragments:e,focusHandle:t,numberOfGridColumns:3,maxResults:3,entryPoint:B.G4.ACTIONS_LIST,disableActionShortcuts:!0})}if("assets"===s.type)return n.createElement(cS.x,{primary:!0,columns:3,padding:8,gap:12},s.assets.map((e,t)=>n.createElement(cA.a,{key:t,asset:e,libraryNameByResourceId:l,fileNameByLibraryKey:i,assetTypeDropdownSelection:sv.I.ALL,searchQuery:s.queries[0],queryId:"",searchSessionId:D.zl.get(V.dd)??"",openFileKey:a?.key??"",sectionPosition:t,disableActionShortcuts:!0})));if("selection"===s.type)return n.createElement(cG,null,n.createElement(cv,null),(0,_.t)("assistant.chat.tool_result.selection.success"));if("request-feature"===s.type)return n.createElement(cG,null,n.createElement(cv,null),(0,_.t)("assistant.chat.tool_result.feature_request"));return n.createElement(cG,null,n.createElement(cb.g,null),(0,_.t)("assistant.chat.tool_result.success"))}catch(e){return n.createElement(cG,null,n.createElement(cy.Z,null),(0,_.t)("assistant.chat.tool_result.error"))}}function cK({message:e}){let t=(0,A.iZ)();return"user"===e.role&&"string"!=typeof e.content&&e.content?.length&&e.content[0]?.type==="text"&&e.content[0].text.startsWith("<!--")||"assistant"===e.role&&!e.content||"tool"===e.role&&!e.content?null:n.createElement("div",{className:tv.cx.px12.py4.flex.wFull.$},n.createElement("div",{className:tv.cx.gap8.flex.wFull.$},n.createElement("div",{className:tv.cx.w24.h24.flexShrink0.flex.itemsCenter.justifyCenter.$},"assistant"===e.role||"tool"===e.role?n.createElement(c_.m,null):t?.img_url?n.createElement(cx.J,{src:t.img_url,className:tv.cx.w16.h16.radiusFull.$}):n.createElement(cC._,null)),n.createElement("div",{className:tv.cx.flex.flexColumn.wFull.pt2.$},n.createElement("span",{className:tv.cx.textBodyLargeStrong.$},"assistant"===e.role||"tool"===e.role?"Figma":"You"),"tool"===e.role?n.createElement("div",{className:tv.cx.wFull.pt4.$},n.createElement(cV,{...e})):"string"==typeof e.content?n.createElement(cz,{text:e.content}):n.createElement("div",null,null===e.content?null:e.content.map((e,t)=>"text"===e.type?n.createElement(cz,{key:`sub-t-${t}`,text:e.text}):null)))))}function cz({text:e}){let t=e;try{let a=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("user_input");a.length>0&&(t=a[0].textContent||"")}catch{}return n.createElement("div",null,t.split("\n").map((e,t)=>n.createElement("span",{key:`l-${t}`},e,n.createElement("br",null))))}var cW=a(853284),cj=a(32067),cq=a(13894);function cY(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 17.5a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5V14H7v3.5A1.5 1.5 0 0 0 8.5 19h7a1.5 1.5 0 0 0 1.5-1.5V9.414a1 1 0 0 0-.293-.707l-3.414-3.414A1 1 0 0 0 12.586 5H8.5A1.5 1.5 0 0 0 7 6.5V11h1V6.5a.5.5 0 0 1 .5-.5H12v2.5a1.5 1.5 0 0 0 1.5 1.5H16zM13 6.414V8.5a.5.5 0 0 0 .5.5h2.086zm-2.146 3.732a.5.5 0 0 0-.708.708L11.293 12H5.5a.5.5 0 0 0 0 1h5.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708z",clipRule:"evenodd"}))}var cX=a(636149),cJ=a.n(cX),cZ=a(199629),cQ=a.n(cZ);function c$(){let e=(0,r.d4)(e=>e.mirror?.appModel);return(t,a,n=!1)=>{let r=t[a];if(r&&(n||!r.disabled&&(!r.action||(0,W.Yh)(e,a))))return r}}function c0(e){switch(e){case cq.b.RECENTS:return 0;case cq.b.DESIGN_TOOLS:return 1;case cq.b.RIFFING_AND_WRITING:return 2;case cq.b.IMAGE_EDITING:return 3;case cq.b.COLLABORATION_TOOLS:return 4;case cq.b.HANDOFF_TOOLS:return 5;case cq.b.VIEWER_TOOLS:return 6;case cq.b.SUGGESTIONS:return 7;case cq.b.COMMON_SETTINGS:return 8;case null:return 100;default:return(0,om.assertNever)(e)}}var c1=a(636227),c2=a(335218),c5=a(260726);let c3=new Map([[av.JT.FIRST_DRAFT,cq.b.DESIGN_TOOLS],[av.JT.MAGIC_LINK,cq.b.DESIGN_TOOLS],[av.JT.AUTO_RENAME_LAYERS,cq.b.DESIGN_TOOLS],[av.JT.CONTENT_FILL,cq.b.DESIGN_TOOLS],[av.JT.FIND_INSPIRATION,cq.b.DESIGN_TOOLS],[av.JT.REWRITE_TEXT,cq.b.RIFFING_AND_WRITING],[av.JT.SLIDES_GENERATE_SPEAKER_NOTES,cq.b.RIFFING_AND_WRITING],[av.JT.SLIDES_REWRITE_TEXT,cq.b.RIFFING_AND_WRITING],[av.JT.SHORTEN_TEXT,cq.b.RIFFING_AND_WRITING],[av.JT.TRANSLATE_TEXT,cq.b.RIFFING_AND_WRITING],[av.JT.GENERATE_IMAGE,cq.b.IMAGE_EDITING],[av.JT.REMOVE_BACKGROUND,cq.b.IMAGE_EDITING],[av.OZ,cq.b.DESIGN_TOOLS]]),c4=[["set-tool-comments",cq.b.COLLABORATION_TOOLS],["present-as-prototype",cq.b.COLLABORATION_TOOLS],["set-tool-measure",cq.b.HANDOFF_TOOLS],["set-tool-annotate",cq.b.HANDOFF_TOOLS],["zoom-to-fit",cq.b.VIEWER_TOOLS],["export-selected-exportables",cq.b.VIEWER_TOOLS],["copy-as-png",cq.b.VIEWER_TOOLS]],c6=[["request-to-edit",cq.b.COLLABORATION_TOOLS],["set-tool-comments",cq.b.COLLABORATION_TOOLS],["present-as-prototype",cq.b.COLLABORATION_TOOLS],["zoom-to-fit",cq.b.VIEWER_TOOLS],["page-next",cq.b.VIEWER_TOOLS],["export-selected-exportables",cq.b.VIEWER_TOOLS],["toggle-rulers",cq.b.VIEWER_TOOLS]];var c7=(e=>(e.DESIGN_EDITOR_AI="DESIGN_EDITOR_AI",e.DESIGN_EDITOR_NO_AI="DESIGN_EDITOR_NO_AI",e.DESIGN_VIEWER="DESIGN_VIEWER",e.DEV_MODE="DEV",e.NONE="NONE",e))(c7||{});function c8(){let e=(0,ls.VW)();return null!==e&&!e.isSlide()}function c9(e,t){let a=(0,r.d4)(e=>e.selectedView);return n.useMemo(()=>new ih.x(e,a,t,{includeDisabled:!0,acceptsUnicode:(0,oj.LN)()}),[e,a,t])}var de=a(607672);function dt(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",d:"m16.7 7.7.315-1.26c.126-.505.844-.505.97 0L18.3 7.7l1.26.315c.505.126.505.844 0 .97L18.3 9.3l-.315 1.26c-.126.505-.844.505-.97 0L16.7 9.3l-1.26-.315c-.505-.126-.505-.844 0-.97z"}),n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 5.5a.5.5 0 0 1 1 0V7h3.5a.5.5 0 0 1 0 1h-1.282l-.054.16c-.503 1.488-1.086 2.54-2.03 3.708l1.527 1.907a.5.5 0 1 1-.781.625l-1.407-1.758c-.689.77-1.54 1.63-2.62 2.711a.5.5 0 1 1-.707-.706c1.146-1.148 2.013-2.028 2.693-2.798L7.21 9.812a.5.5 0 0 1 .781-.624l1.504 1.879c.773-.986 1.248-1.869 1.668-3.067H5.5a.5.5 0 0 1 0-1H9zm5.039 5.808A.5.5 0 0 1 14.5 11h.5a.5.5 0 0 1 .461.308l1.667 4 .834 2a.5.5 0 1 1-.924.384L16.334 16h-3.166l-.706 1.692a.5.5 0 1 1-.922-.384l.833-2zM15.917 15l-1.167-2.8-1.167 2.8z",clipRule:"evenodd"}))}var da=a(52339),dn=a(503429);function dr(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",d:"m9.4 16.5.28-1.12c.083-.333.557-.333.64 0l.28 1.12 1.12.28c.333.082.333.556 0 .64l-1.12.28-.28 1.119c-.083.333-.557.333-.64 0l-.28-1.12-1.12-.28c-.333-.083-.333-.557 0-.64z"}),n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.224 15.447a.5.5 0 0 1-.448-.894l4-2a.5.5 0 1 1 .448.894zM12 11.441 6.224 8.553a.5.5 0 0 0-.448.894l5.995 2.998.01.005 1.673.836-.25 1.753a2.45 2.45 0 0 0 1.329 2.537l.243.121a2.177 2.177 0 1 0 1.948-3.894l-2.49-1.245-.02-.01L13.117 12l1.095-.548.021-.01 2.49-1.245a2.177 2.177 0 0 0-1.947-3.893l-.244.121a2.45 2.45 0 0 0-1.33 2.538l.251 1.751zm2.194-2.62.203 1.422 1.88-.94a1.177 1.177 0 1 0-1.053-2.105l-.244.122a1.45 1.45 0 0 0-.786 1.501m0 6.359.203-1.422 1.88.94a1.177 1.177 0 0 1-1.053 2.105l-.244-.122a1.45 1.45 0 0 1-.786-1.501",clipRule:"evenodd"}))}function dl(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6A1.5 1.5 0 0 1 18 7.5v6a.5.5 0 0 1-1 0V10h-6v7h2.5a.5.5 0 0 1 0 1h-6A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zM10 17v-7H7v6.5a.5.5 0 0 0 .5.5zM7 9h10V7.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5zm9.7 7.7.315-1.26c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 18.3l-1.26-.315c-.505-.126-.505-.844 0-.97z",clipRule:"evenodd"}))}var di=a(258316),ds=a(202512),dc=a(667859),dd=a(869452),du=a(908946),dm=a(341831),dp=a(664406),d_=a(94500),df=a(296799),dg=a(351631),dh=a(550273),dE=a(677074),dy=a(92566),dv=a(108239),db=a(336427);async function dC(e){let{clientLifecycleId:t}=e,a=D.zl.get(dy.jI);try{(0,db.k9)();let e={...(0,dE.Ay)(),clientLifecycleId:t},n=(0,dh.mz)().map(e=>({text:e.characters,x:e.absoluteTransform.m02,y:e.absoluteTransform.m12})),r=await sK.Ay.slides.speakerNotes({texts:n},e),l="";for await(let e of new sK.c6(r))if(l+=e.delta,(l=l.replace(/(.) -/g,"$1\n -")).length>0){if((0,dv.R7)(a)){(0,ab.cT)(av.JT.SLIDES_GENERATE_SPEAKER_NOTES);break}(0,db.hp)(l)}return}catch(e){return}}var dw=a(118377),dk=a(670652),dx=a(637382),dT=a(883216),dN=a(726710),dS=a(118567),dI=a(573591),dA=a(701997),dL=a(207204),dO=a(599280),dM=a(801886),dP=a(711376),dR=a(277080),dD=a(763764);let dF={[dM.GS.DEFAULT]:[{"font/title/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Plus Jakarta Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/title/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/title/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/body/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}],[dM.GS.SERIF]:[{"font/title/bold":{fontName:{family:"Domine",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Domine",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Roboto Serif",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Roboto Serif",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}]};function dB(e){return e[Math.floor(Math.random()*e.length)]}function dU(e){let t={numberVariableMap:{},colorVariableMap:{}},a="true"===e[dM.u7.DARK_MODE];for(let[n,r]of Object.entries(e||{}))switch(n.split("/")[0]){case dM.u7.COLOR:let e=(0,tJ.tK)(r);if(!e)continue;t.colorVariableMap[n]=(0,dD.qO)(e,a?dR.lH.DARK:dR.lH.LIGHT);break;case dM.u7.CORNER_RADIUS:case dM.u7.SPACING:let l=parseFloat(r);!isNaN(l)&&l>=dP.Xy&&l<=dP.Ne&&(t.numberVariableMap[n]=l);break;case dM.u7.FONT:switch(r){case dM.GS.SERIF:case dM.GS.DEFAULT:t.fontVariableMap=dB(dF[r]);break;default:t.fontVariableMap=dB(dF[dM.GS.DEFAULT])}}return{darkMode:a,variableMaps:t}}var dG=a(112825),dH=a(894443),dV=a(698993),dK=a(341092),dz=a(592917),dW=a(841563),dj=a.n(dW);async function dq(e){try{let{parseJSX:t}=await Promise.all([a.e(2510),a.e(2192)]).then(a.t.bind(a,942192,19));return t(e)}catch{return null}}var dY=a(477047),dX=a(247368),dJ=a(202655),dZ=a(853069),dQ=a(747202);function d$(e,t){if("string"==typeof e&&1===t.parsedDefs.length){let a=t.parsedDefs[0].devFriendlyProp;if("key"in a)return{[a.key]:e}}return e}function d0(e,t){if("object"==typeof e){if(t in e)return e[t];for(let[a,n]of Object.entries(e))if(a.toLowerCase()===t.toLowerCase())return n}}async function d1(e,t,a){let n=tW.q.instance,r={componentProps:{},componentPropsNested:{},nestedInstancesVisibility:{},sharedPluginData:{...e?.sharedPluginData}},i={};for(let o of t.parsedDefs){let s=function e(t,a){let n;if("object"==typeof t){switch(a.type){case"SIMPLE":case"IMAGE":case"GROUPED_INSTANCE_SWAP":t&&(n=d0(t,a.key));break;case"SIMPLE_CHOICE":if(t&&a.key in t){let e=d0(t,a.key);a.validOptions.includes(e)?n=e:(0,w.xi)("first-draft",`Expected ${a.key} to be oneOf: ${JSON.stringify(a.validOptions)} but got: ${e}`,{componentProps:t,devFriendlyProp:a})}break;case"DERIVED_BOOLEAN":n=!!e(t,a.devFriendlyProp);break;case"ARRAY":if(t){let e=d0(t,a.key);Array.isArray(e)&&(n=e[a.index]),void 0===n&&(n=d0(t,a.nonArrayKey)),void 0===n&&0===a.index&&a.originalKey&&(n=d0(t,a.originalKey))}break;default:(0,om.assertNever)(a)}if(void 0===n)return n;switch(a.valueType){case"BOOLEAN":if("boolean"==typeof n)break;return;case"STRING":if("string"==typeof n)break;return}return n}}(e,o.devFriendlyProp),c=void 0===s;if("ARRAY"===o.devFriendlyProp.type||"GROUPED_INSTANCE_SWAP"===o.def.type)for(let e of(0,dJ.wn)(t.componentId,o))r.nestedInstancesVisibility[e]=!c;if(!c)switch(o.def.type){case"NESTED_INSTANCE":{let e=(0,dX.Ye)(o.def.componentId);if(e){if(s=d$(s,e),"ARRAY"===o.devFriendlyProp.type){let e=o.devFriendlyProp.key;if(0===o.devFriendlyProp.index){i[e]={};let t=new Set;for(let e of Object.values(o.def.tagsByParentComponentId))for(let a of Object.keys(e.fixedVariantProperties??{}))t.add(a);for(let a of t)i[e][a]=d0(s,a)}else s={...s,...i[e]}}let n=await d1(s,e,a);for(let e of(0,dJ.wn)(t.componentId,o))r.componentPropsNested[e]=n}break}case"BOOLEAN":case"VARIANT":case"TEXT":r.componentProps[o.rawProp]=s;break;case"INSTANCE_SWAP":{if((0,dz.isJSXElement)(s)){let e=a.getCustomJSXElementOrNull(s.type);if(e?.type==="SIMPLE"){let n=e.typeInfo,l=n.defaultNodeId,i=await d1({...s.props,children:s.children},n,a);for(let e of(0,dJ.wn)(t.componentId,o))r.componentProps[o.rawProp]=l,r.componentPropsNested[e]=i;break}}let e=(0,dQ.cl)(o.def.defaultValue),n=(0,dX.Ye)(o.def.defaultValue);if(e&&n){let l=d$(s,n),i=[];if(e.parentNode?.isStateGroup){for(let t of e.parentNode.reversedChildrenNodes)if("SYMBOL"===t.type){let e=t.variantProperties();if(e&&Object.entries(e).some(([e,t])=>l[e]===t)&&Object.entries(e).every(([e,t])=>!(e in l)||l[e]===t)){i=Object.keys(e),r.componentProps[o.rawProp]=t.guid;break}}}let c=Object.fromEntries(Object.entries(l).filter(([e,t])=>!i.includes(e)));if(0!==Object.keys(c).length){let e=await d1(c,n,a);for(let a of(0,dJ.wn)(t.componentId,o))r.componentPropsNested[a]=e}}break}case"GROUPED_INSTANCE_SWAP":{let e=(0,dQ.cl)(o.def.defaultValue);if(e&&"SYMBOL"===e.type){let t=!1,a="object"==typeof s?s?.type??s?.description:"";if(a){let n=(0,dZ.Lq)(o.def.groupName,e,a);if(n){t=!0,r.componentProps[o.rawProp]=n;break}}if(!t){let e=s?.description??s?.type??"";e&&(r.sharedPluginData[o.rawProp]=e)}}break}case"IMAGE":r.sharedPluginData[o.rawProp]=s?.id??s?.description??s?.alt??"";break;case"SLOT":{let e=Array.isArray(s)?s[0]:s;if(!e)break;let i=a.getCustomJSXElementOrNull(e.type);if(i?.type==="SIMPLE"){let n=i.typeInfo;r.componentProps[o.rawProp]=n.defaultNodeId;let l=await d1(e.props,n,a);for(let e of(0,dJ.wn)(t.componentId,o))r.componentPropsNested[e]=l}else{let t=await a.createNodeFromJSX(e),i=ru.l7.ai("first-draft-setup-slot-node",()=>{let e=n.get(l.CUU.createSymbolFromNode(t.guid,l.Sie.PLUGIN));return e&&(e.name=`Slot for ${o.rawProp}`),e});if(i){let e=await a.getOrCreateSlotParent(a);ru.l7.ai("first-draft-setup-slot-node",()=>{e.appendChild(i)}),r.componentProps[o.rawProp]=i.guid}}break}default:(0,om.assertNever)(o.def)}}return r}class d2{constructor({dsKitKey:e,reuseCache:t,publishedComponentToInsertResult:a,customJSXElementByName:n}){this.dsKitKey=e,this.reuseCache=t,this.publishedComponentToInsertResult=a,this.customJSXElementByName=n??{}}getComponentTypeSortOrder(e){switch(e){case"BUILDING_BLOCK":return 0;case"NONE":return 1;case"GROUPED_COMPONENT":return 2;default:return 3}}getCustomJSXElementOrNull(e){let t=e.toLowerCase();if(!t.startsWith(dJ.FE.toLowerCase()))return null;if(t in this.customJSXElementByName)return this.customJSXElementByName[t];for(let[e,a]of Object.entries(this.publishedComponentToInsertResult))if("error"!==a.status&&e.toLowerCase()===t){let e=(0,dX.Ye)(a.guid);if(e){let a=d5(e,{});if(a)return this.customJSXElementByName[t]=a,a}}let a=(0,dX.DY)(t,{rootNodes:{dsKitKey:this.dsKitKey}});for(let e of(0===Object.keys(this.publishedComponentToInsertResult).length&&a.sort((e,t)=>this.getComponentTypeSortOrder(e.componentType)-this.getComponentTypeSortOrder(t.componentType)),a)){let a=d5(e,this.publishedComponentToInsertResult);if(a)return this.customJSXElementByName[t]=a,a}return this.customJSXElementByName[t]=null,null}async renderCustomJSXElementOrNull(e,t){let a=this.getCustomJSXElementOrNull(e.type);return a?await d3(a,e,t):null}}function d5(e,t){if((0,dZ.vR)(e))return null;if(Object.entries(t).length>0){let a=t[e.jsxName];if(!a||"error"===a.status||!(a.key===e.key&&a.version===e.version))return null}return{type:"SIMPLE",name:e.jsxName,typeInfo:e}}async function d3(e,t,a){if(!e)return null;let{type:n,props:r,children:l}=t;try{switch(e.type){case"SIMPLE":{let t=e.typeInfo,n=t.defaultNodeId,i=await d1({...r,children:l},t,a);return{type:"Instance",props:{componentId:n,componentProps:i.componentProps,componentPropsNested:i.componentPropsNested,nestedInstancesVisibility:i.nestedInstancesVisibility,sharedPluginData:Object.fromEntries(Object.entries({...i.sharedPluginData,type:t.jsxName}).map(([e,t])=>"string"!=typeof t?[e,JSON.stringify(t)]:[e,t]))},children:[]}}case"GROUP":throw Error("Not implemented");default:(0,om.assertNever)(e)}}catch(e){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e,{extra:{type:n,props:r}})}return null}var d4=a(897459);function d6(e){let t;switch(e?.toLowerCase()){case"small":t="w-60";break;case"medium":t="w-80";break;default:t="w-100"}return`flex flex-col ${t}`}function d7(e){return(0,dz.isJSXElement)(e)?e:{type:"AutoLayout",props:{className:"w-1 h-1"},children:[]}}function d8(e){return e&&Array.isArray(e)?e.map(d7):[]}var d9=a(256116),ue=a(539780);function ut(e,t){let a={},n=(0,d4.QP)(e),r=n.includes("flex-col")?"vertical":"horizontal";for(let e of n.split(ue.AD)){let{classParts:n,isNegative:l}=(0,ue.Zx)(e);(0,d9.v4)(n,l,a),(0,d9.W1)(n,l,a),(0,d9.t1)(n,a),(0,d9.IT)(n,a),(0,d9.Fm)(n,a,t??""),(0,d9.vW)(n,a),(0,d9.B9)(n,a),(0,d9.bP)(n,a),(0,d9.Pw)(n,r,a),(0,d9.Fg)(n,a,t??""),(0,d9.Hg)(n,a),(0,d9.km)(n,a,t??""),(0,d9.k$)(n,a),(0,d9.BM)(n,a),(0,d9.Eu)(e,a),(0,d9.gW)(e,a),(0,d9.Cv)(n,l,a),(0,d9.vQ)(n,l,a)}return a}function ua(...e){return(0,d4.QP)(e.join(" "))}let un={Unhandled:function({className:e,msg:t=""}){return{type:"AutoLayout",props:{className:ua("flex justify-center items-center",e??"","border bg-red-100 border-red-100")},children:[{type:"Text",props:{},children:[t]}]}},VStack:function({children:e,...t}){return ud({...t,direction:"vertical",children:e})},HStack:function({children:e,...t}){return ud({...t,direction:"horizontal",children:e})},Box:uu,Image:function({description:e,w:t,aspect:a,className:n="",sharedPluginData:r}){let l=[],i=36;return"small"===t?(i=12,l.push(uc("w",12))):"regular"===t?l.push(uc("w",36)):"large"===t?(i=85.5,l.push("w-[342px]")):(i=t,l.push(uc("w",t))),"video"===a?l.push(uc("h",9*i/16)):l.push(uc("h",i)),{type:"AutoLayout",props:{sharedPluginData:{...r,isImage:"true",description:e},className:ua("flex p-2 bg-[#eee]",...l,n)},children:[{type:"Text",props:{className:"text-sm opacity-50 w-full h-full"},children:[e??"Image description"]}]}},DummyBlock:function({text:e}){return{type:"AutoLayout",props:{direction:"vertical",className:"w-full h-fit p-4 min-h-[100px] border-[#eee]"},children:[{type:"Text",props:{},children:[e]}]}},MobileSingleCol:({header:e,mainContent:t,footer:a})=>({type:"AutoLayout",props:{className:"w-[393px] min-h-[852px] flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[d7(e),{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack",fillContainerHeight:"true"},overflow:"visible",name:"Main Content"},children:d8(t)},d7(a)]}),DesktopSingleCol:({header:e,mainContent:t,footer:a})=>({type:"AutoLayout",props:{className:"w-[1440px] min-h-[900px] px-12 flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[d7(e),{type:"AutoLayout",props:{className:"w-full flex py-12",sharedPluginData:{type:"HStack"},overflow:"visible",name:"Container"},children:[{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack"},overflow:"visible",name:"Main Content"},children:d8(t)}]},d7(a)]}),DesktopTwoColWithLeftSidebar:({header:e,sidebarContent:t,sidebarWidth:a,mainContent:n,footer:r})=>{let l=d6(a);return{type:"AutoLayout",props:{className:"w-[1440px] min-h-[900px] px-12 flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[d7(e),{type:"AutoLayout",props:{className:"w-full flex gap-12",sharedPluginData:{type:"HStack"},name:"Container"},children:[{type:"AutoLayout",props:{className:l,sharedPluginData:{type:"VStack"},overflow:"hidden",name:"Sidebar"},children:d8(t)},{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack"},overflow:"hidden",name:"Main Content"},children:d8(n)}]},d7(r)]}},DesktopTwoColWithRightSidebar:({header:e,mainContent:t,sidebarContent:a,sidebarWidth:n,footer:r})=>{let l=d6(n);return{type:"AutoLayout",props:{className:"w-[1440px] min-h-[900px] px-12 flex flex-col",sharedPluginData:{type:"VStack",isLayoutNode:"true"}},children:[d7(e),{type:"AutoLayout",props:{className:"w-full flex gap-12",sharedPluginData:{type:"HStack"},name:"Container"},children:[{type:"AutoLayout",props:{className:"w-full flex flex-col",sharedPluginData:{type:"VStack"},name:"Main Content"},children:d8(t),overflow:"hidden"},{type:"AutoLayout",props:{className:l,sharedPluginData:{type:"VStack"},overflow:"hidden",name:"Sidebar"},children:d8(a)}]},d7(r)]}},div:uu,p:({children:e,...t})=>({type:"Text",props:{width:"fill-parent",...t},children:e})},ur=new Set(["AutoLayout","Frame","Rectangle","Ellipse","Text","SVG","Image","Line","Fragment","Span","Instance"]);async function ul(e,t,a){if(t?.type==="Text"||t?.type==="Span")return e.trim();let n=t?.props??{};return await us({type:"Text",props:{width:"hug-contents",height:"hug-contents",...n},children:[e]},t,a)}async function ui(e,t,a){if(!(0,dz.isJSXElement)(e))return null;let{type:n,props:r,children:l}=e;if(r&&"class"in r&&!("className"in r)&&(r.className=r.class,delete r.class),(""===n||"React.Fragment"===n)&&(n="Fragment"),r?.children&&(l=Array.isArray(r?.children)?r?.children:[r?.children],delete r.children),l=(l??[]).flat(10),n in un){let e=un[n]({...r,children:l});return await us(e,t,a)}let i=(await Promise.all((l??[]).flat(10).map(t=>us(t,e,a)))).filter(Boolean);"Instance"===n&&a.getCustomJSXElementOrNull(r.component)&&(n=r.component,delete r.component);let s=await a.renderCustomJSXElementOrNull({type:n,props:r,children:i});if(s)return a.instrumentation?.trackComponentLookupSuccess(),s;if(!ur.has(n))return(a.instrumentation?.trackComponentLookupFailure(),(0,o.kc)().first_draft_debug)?await us({type:"Unhandled",props:{msg:`Unknown node type: ${n}`,className:r?.className??""},children:[]},t,a):null;let{className:c,margin:d,...u}=r??{};if(c)for(let[e,t]of Object.entries(ut(c,n)))u[e]=t;return a.instrumentation?.trackPrimitiveUsage(),{type:n,props:u,children:i}}async function uo(e,t){return(await Promise.all(e.map(e=>us(e,null,t)))).filter(e=>!!e)}function us(e,t,a){return"string"==typeof e?ul(e,t,a):(0,dz.isJSXElement)(e)?ui(e,t,a):Promise.resolve(null)}function uc(e,t){return"mobile-screen-width"===t?`${e}-96`:"mobile-screen-height"===t?`${e}-[568px]`:"hug"===t?`${e}-fit`:"full"===t?`${e}-full`:`${e}-[${Math.round(4*t)}px]`}function ud({direction:e,children:t,className:a=""}){let n="vertical"===e;return{type:"AutoLayout",props:{sharedPluginData:{type:n?"VStack":"HStack"},className:ua("flex items-start w-fit h-fit",n?"flex-col":"flex-row",a)},children:t}}function uu(e){return ud({...e,direction:"vertical"})}var um=a(850213);function up(e){let t=(0,dD.X6)(e);if(t)return(0,tJ.HD)(t)?dR.lH.DARK:dR.lH.LIGHT}function u_(e,t,a){e&&function e(t,a,n){let r=t.fills.some(e=>"IMAGE"===e.type),l=!r&&n.modeChanged;if((0,dD.oR)({node:t,getNewColor:a,options:{...n,modeChanged:l,role:(0,dR.Dk)(t)}}),t.childrenNodes){let i=(0,dD.gU)(t.fills,r?void 0:n.parentFillColor);t.childrenNodes.forEach(t=>{e(t,a,{...n,modeChanged:l,parentFillColor:i})})}}(e,(e,t)=>(0,dD.Jv)(e,{...t,brandColor:void 0}),{mode:t,modeChanged:!0,currentBrandHex:a})}var uf=a(220441),ug=a(104064),uh=a(405551);function uE(e,t,a){let n=l.XJn.getCustomizableVariableName(a.guid,e);if(!n)return;let r=(0,uh.tm)(n);if(r)return t[r]}let uy={bottomLeftRadius:"rectangleBottomLeftCornerRadius",bottomRightRadius:"rectangleBottomRightCornerRadius",topLeftRadius:"rectangleTopLeftCornerRadius",topRightRadius:"rectangleTopRightCornerRadius"},uv={itemSpacing:"stackSpacing",paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"};async function ub(e,t,a){let n=l.XJn.inheritedTextStyleGuid(e.guid);if(null===n)return;let r=tW.q.instance.get(n);if(r&&a.variableMaps?.fontVariableMap&&"fontFamily"in r.boundVariablesForStyle){let n=r.boundVariablesForStyle.fontFamily,i=function(e,t,a){let n=l.XJn.getCustomizableVariableName(t.guid,e);if(!n)return null;let r=(0,uh.tm)(n);return r?a[r]??null:null}(n.id,e,a.variableMaps.fontVariableMap);if(i)try{await (0,uf.E)(i.fontName),ru.l7.ai("first-draft-set-font-name",()=>{e.fontName=i.fontName,i.letterSpacing&&(e.letterSpacing=i.letterSpacing)}),t[n.id]=i.fontName.family}catch(e){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e)}}}async function uC(e){await Promise.all(e.node.childrenNodes.map(t=>uw({...e,node:t}))),(0,um.V5)(e.node)}async function uw(e){var t;let{node:a,variableOverrideMap:n,theme:r,colorOptions:i}=e;!function(e,t){if("HORIZONTAL"===e.stackMode||"VERTICAL"===e.stackMode)for(let[a,n]of Object.entries(uv)){let r=e.boundVariables&&e.boundVariables[a];r&&ru.l7.ai("first-draft-override-spacing",()=>{if(t.variableMaps){let a=uE(r.id,t.variableMaps.numberVariableMap,e)??void 0;void 0!==a&&(e[n]=(0,ug.nV)(e[n],a,1))}})}}(a,r),function(e,t,a){if(e.boundVariables)for(let[n,r]of Object.entries(uy)){let l=e.boundVariables&&e.boundVariables[n];l&&ru.l7.ai("first-draft-override-radius",()=>{if(a?.variableMaps){let n=uE(l.id,a.variableMaps.numberVariableMap,e)??void 0;if(void 0!==n){let a=(0,ug.UO)(e,e[r],n,1);e[r]=a,t[l.id]=a}}})}}(a,n,r),"TEXT"===a.type&&await ub(a,n,r);let o=a.fills.some(e=>"IMAGE"===e.type),s=!o&&i.modeChanged;if(t={node:a,getNewColor:(e,t)=>{let n=t.varId&&r?function(e,t,a){if(!t.variableMaps)return;let n=l.XJn.getCustomizableVariableName(a.guid,e);if(!n)return;let r=(0,uh.tm)(n);if(r)return t.variableMaps.colorVariableMap[r]}(t.varId,r,a):void 0;return(0,dD.Jv)(e,{...t,brandColor:n})},variableOverrideMap:n,options:{...i,modeChanged:s,role:(0,dR.Dk)(a)}},ru.l7.ai("first-draft-override-paints",()=>{(0,dD.oR)(t)}),a.childrenNodes.length){let e=(0,dD.gU)(a.fills,o?void 0:i.parentFillColor);await uC({node:a,variableOverrideMap:n,theme:r,colorOptions:{...i,modeChanged:s,parentFillColor:e}})}}async function uk(e,t,a){let n=Object.keys(a?.variableMaps?.colorVariableMap??{}).length>0||Object.keys(a?.variableMaps?.numberVariableMap??{}).length>0;if(!a||!n){(0,um.OH)(e);return}await uw({node:e,variableOverrideMap:t,theme:a,colorOptions:{mode:a.darkMode?dR.lH.DARK:dR.lH.LIGHT,modeChanged:!!a.darkMode}})}async function ux(e){for(let t of(0,dQ._F)(e,["INSTANCE","FRAME"],{sharedPluginData:{namespace:"jsx",keys:["theme"]}})){(0,dL.xF)(t.guid);let e=t.getSharedPluginData("jsx","theme");if(e)try{let a=JSON.parse(e),n=dU(a);await uk(t,{},n)}catch(t){(0,w.x1)("First Draft theming","Failed to parse theme",{themeStr:e,e:t})}}}var uT=a(33604);let uN="Slot Parent";async function uS(e){let t=tW.q.instance;for(let e of t.getCurrentPage()?.reversedChildrenNodes??[])if(e.name===uN)return e;return await e.createNodeFromJSX({type:"AutoLayout",props:{name:uN,className:"flex flex-col w-fit h-fit"},children:[]})}async function uI(e,t){return await uo(e,t)}async function uA(e){let t=(0,T.D)({enableNativeJsx:!0});t.skipInvisibleInstanceChildren=!0;let a=tW.q.instance;return await Promise.all(e.map(async(e,n)=>{let r=await t.createNodeFromJSXAsync(e),l=a.get(r.id);return 0===n&&(l.localOpacity=0),l}))}async function uL(e,t,a){let n=(0,uT.uP)(e,{ignoreOpacity:!0}),r=(0,uT.rO)(e,n);ru.l7.ai("first-draft-override-paints",()=>{let a=t.darkMode?dR.lH.DARK:dR.lH.LIGHT;a!==up(e)&&u_(e,a)}),ru.l7.ai("first-draft-remove-fill",()=>{e.fills=[]});try{await (0,uT.jR)(e,(0,uT.k5)({fontFamilies:r.fontFamilies},{fontFamilies:t.fontFamilies}),a)}catch(e){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error("first-draft: applyThemeProperties font failed to load"))}}async function uO(e,t,a){let n={};for(let r of e){if(ru.l7.ai("first-draft-set-plugin-data",()=>{if(a.frameName&&r.name!==a.frameName&&(r.name=a.frameName),t&&r.setSharedPluginData(dH.SV,"jsx",t),a.theme&&r.setSharedPluginData(dH.SV,"theme",JSON.stringify(a.theme)),a.sharedPluginData)for(let[e,t]of Object.entries(a.sharedPluginData))r.setSharedPluginData(dH.SV,e,t)}),(0,dL.jZ)(r,a.dsKitKey,a.clientLifecycleId),a.autoFillParent&&r&&(0,dL.tG)(r),a.theme?await uk(r,n,a.theme):(0,um.OH)(r),a.themeProperties){if(!a.deviceType)throw Error("deviceType must be provided if themeProperties is provided");await uL(r,a.themeProperties,a.deviceType)}a.isEval&&await ux(r)}return{themeOverrideMap:n}}async function uM({prevJsxJSON:e,jsxStr:t,jsxJSON:a,prevExpandedJsx:n,options:r},i){let o=function(e,t){let a=new d2({dsKitKey:e.dsKitKey,reuseCache:!!e.prevNodeId,publishedComponentToInsertResult:e.componentNameToInsertResult??{},customJSXElementByName:e.componentNameToCustomJSXElement??{}}),n={getCustomJSXElementOrNull:e=>a.getCustomJSXElementOrNull(e),renderCustomJSXElementOrNull:async e=>await a.renderCustomJSXElementOrNull(e,n),getOrCreateSlotParent:uS,createNodeFromJSX:async e=>{let t=await uI([e],n),[a]=await uA(t);return a.removeLocalOpacity(),a},instrumentation:t};return n}(r,i),s=tW.q.instance,c=(0,T.D)({enableNativeJsx:!0});if(c.skipInvisibleInstanceChildren=!0,i?.resetComponentStats(),!r.prevNodeId){if(0!==e.length)throw Error("prevJsxJSON should be null");let n=await uI(a,o);if(n.length>1)throw Error("Not implemented");let[l]=await uA(n);ru.l7.ai("first-draft-insert-jsx",()=>{if(r.parentNodeId){let e=s.get(r.parentNodeId);if(!e)throw(0,w.x1)("first-draft","Could not find parent node with parentNodeId",{parentNodeId:r.parentNodeId}),Error("Could not find parent node with parentNodeId");let t=[l];for(let a of(t.reverse(),t))r.insertAtIndex?r.insertAtIndex===e.childrenGuids.length?e.appendChild(a):e.insertChild(a,r.insertAtIndex):e.appendChild(a)}}),l?.materializeDescendants();let i=await uO([l],t,r);return await (0,dL.U_)(l,r),l.removeLocalOpacity(),{insertNodeIds:[l.guid],expandedJsx:n,customizationResult:i}}let d=s.get(r.prevNodeId);if(!d)throw(0,w.x1)("first-draft","Could not find node with prevNodeId",{prevNodeId:r.prevNodeId}),Error("Could not find node with prevNodeId");let u=await uI(a,o);if(1!==n.length||1!==u.length)throw Error("Not implemented");let m=await c.reconcileNodeFromJSXAsync({id:d.guid},n[0],u[0]),p=s.get(m.id);p?.materializeDescendants();let _=await uO([p],t,r);return r.shouldAnimateLoading&&r.doneTextLayerIds&&function(e,t,a){let n=[];for(let r of((0,tj.hV)(e,t,e=>{"TEXT"===e.type&&n.push(e)}),n))a.has(r.guid)||((0,dL.us)(r)?(l.zuo.cancelAllAnimationsForNode(r.guid),a.add(r.guid)):l.zuo.isAnimating(r.guid)||r.setOpacityWithAnimation(1,dY._E.forOpacityOscillation(45,.25,.8,60),"first-draft-text-layer-opacity"))}(s,p,r.doneTextLayerIds),p.guid!==r.prevNodeId&&await (0,dL.U_)(p,r),{insertNodeIds:[p.guid],expandedJsx:u,customizationResult:_}}var uP=a(172601),uR=a(742808);sW.object({runtimeDuration:sW.number(),firstByteReceivedAtOffset:sW.number(),jsxStreamDuration:sW.number(),numComponents:sW.number(),componentLookupSuccesses:sW.number(),primitiveComponents:sW.number(),componentLookupFailures:sW.number(),numImages:sW.number(),imageFailures:sW.number(),imageSuccesses:sW.number(),firstImageLoadedAtOffset:sW.number(),lastStreamByteReceivedAtOffset:sW.number(),imageDurations:sW.array(sW.object({start:sW.number(),end:sW.number(),duration:sW.number(),status:sW.enum(["success","failure"])}))});class uD{constructor(e){this.type=e,this.startTime=0,this.instrumentationData={runtimeDuration:-1,firstByteReceivedAtOffset:-1,jsxStreamDuration:-1,numComponents:0,primitiveComponents:0,componentLookupSuccesses:0,componentLookupFailures:0,numImages:0,imageFailures:0,imageSuccesses:0,firstImageLoadedAtOffset:-1,lastStreamByteReceivedAtOffset:-1,imageDurations:[]},this.imageProgressEmitter=new uP.b("imageProgressEmitter")}start(){this.startTime=Date.now()}trackFirstByteReceived(){-1===this.instrumentationData.firstByteReceivedAtOffset&&(this.instrumentationData.firstByteReceivedAtOffset=Date.now()-this.startTime)}resetComponentStats(){this.instrumentationData.numComponents=0,this.instrumentationData.componentLookupSuccesses=0,this.instrumentationData.componentLookupFailures=0,this.instrumentationData.primitiveComponents=0,this.imageProgressEmitter.trigger("statusChanged")}trackComponentLookup(){this.instrumentationData.jsxStreamDuration=Date.now()-this.instrumentationData.firstByteReceivedAtOffset-this.startTime,this.instrumentationData.numComponents+=1}trackPrimitiveUsage(){this.instrumentationData.primitiveComponents+=1,this.instrumentationData.jsxStreamDuration=Date.now()-this.instrumentationData.firstByteReceivedAtOffset-this.startTime}trackComponentLookupSuccess(){this.trackComponentLookup(),this.instrumentationData.componentLookupSuccesses+=1}trackComponentLookupFailure(){this.trackComponentLookup(),this.instrumentationData.componentLookupFailures+=1}trackLastStreamByteReceived(){this.instrumentationData.lastStreamByteReceivedAtOffset=Date.now()-this.startTime,this.instrumentationData.jsxStreamDuration=this.instrumentationData.lastStreamByteReceivedAtOffset-this.instrumentationData.firstByteReceivedAtOffset}trackFinished(e){this.instrumentationData.runtimeDuration=Date.now()-this.startTime;let t={type:this.type,status:e},a=[{metric:"first_draft.client.runtime_duration",value:this.instrumentationData.runtimeDuration,tags:t}];-1!==this.instrumentationData.firstByteReceivedAtOffset&&(a.push({metric:"first_draft.client.num_components",value:this.instrumentationData.numComponents,tags:t},{metric:"first_draft.client.component_lookup_failures",value:this.instrumentationData.componentLookupFailures,tags:t},{metric:"first_draft.client.first_byte_received_at_offset",value:this.instrumentationData.firstByteReceivedAtOffset,tags:t},{metric:"first_draft.client.jsx_stream_duration",value:this.instrumentationData.jsxStreamDuration,tags:t},{metric:"first_draft.client.num_images",value:this.instrumentationData.numImages,tags:t},{metric:"first_draft.client.last_stream_byte_received_at_offset",value:this.instrumentationData.lastStreamByteReceivedAtOffset,tags:t}),this.instrumentationData.numImages>0&&a.push({metric:"first_draft.client.image_failures",value:this.instrumentationData.imageFailures,tags:t},{metric:"first_draft.client.image_successes",value:this.instrumentationData.imageSuccesses,tags:t},{metric:"first_draft.client.first_image_loaded_at_offset",value:this.instrumentationData.firstImageLoadedAtOffset,tags:t})),(0,uR.rI)(a)}async logImageLoad(e){let t="success",a=Date.now()-this.startTime;try{this.instrumentationData.numImages++,this.imageProgressEmitter.trigger("statusChanged"),await e()}catch(e){throw t="failure",e}finally{let e=Date.now()-this.startTime;this.instrumentationData.imageDurations.push({start:a,end:e,duration:e-a,status:t}),-1===this.instrumentationData.firstImageLoadedAtOffset&&(this.instrumentationData.firstImageLoadedAtOffset=e),"success"===t?this.instrumentationData.imageSuccesses++:this.instrumentationData.imageFailures++,this.imageProgressEmitter.trigger("statusChanged")}}}function uF(e){let t=new Set([]),a=[...e];for(;a.length;){let e=a.pop();if(e){for(let n of(e.type.startsWith(dJ.FE)&&t.add(e.type),e.children))"string"!=typeof n&&a.push(n);for(let t of Object.values(e.props))if("string"!=typeof t){if((0,dz.isJSXElement)(t))a.push(t);else if(Array.isArray(t))for(let e of t)(0,dz.isJSXElement)(e)&&a.push(e)}}}return t}async function uB(e,t,a){if(t?.type!=="LIBRARY")throw Error("Can only insert library components");if(!a)return(0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error("[First Draft] Attempted to insert component without kitContents")),{status:"error"};let n=function(e,t){let a=t.toLowerCase();if(e.components[a]){let t=e.components[a];return{assetType:"component",key:t.key,version:t.version}}if(e.state_groups[a]){let t=e.state_groups[a];return{assetType:"state_group",key:t.key,version:t.version}}return null}(a,e);if(!n)return{status:"error"};let{assetType:r,key:i,version:o}=n;if("component"===r){let t=l.XJn.getComponentByKeyAndVersion(i,o);if(t)return{status:"success",key:i,version:o,jsxName:(0,dJ.WG)(e),guid:t}}if("state_group"===r){let t=l.XJn.getStateGroupByKeyAndVersion(i,o);if(t)return{status:"success",key:i,version:o,jsxName:(0,dJ.WG)(e),guid:t}}try{let e=sC.D?.getState().fileVersion||0,t=await (0,n5.GD)(`/api/file_proxy/${r}/${i}/version/${o}/canvas`,{fv:e.toString()},{responseType:"arraybuffer"}),a=new Uint8Array(t.response),n=l.NfO.deserializeProductComponentFromBuffer(i,a),s=tW.q.instance.get(n);if(!s)throw Error("Deserialized component not found in scene graph");return{status:"success",key:i,version:o,jsxName:(0,dJ.WG)(s.name),guid:n}}catch(e){if(e instanceof n5.Dr&&e.status>=400)return{status:"error"};throw e}}let uU=(0,a(479296).n)(async function(e,t){let a=await n5.Ay.post(`/api/first_draft/kit_contents/${e.key}`,{jsx_names:t});return a?.data?.meta??null});async function uG({dsKitKey:e,jsxJSON:t,componentNameToInsertResult:a}){if("LIBRARY"!==e.type)return;let n=uF(t),r=new Set;for(let e of n)e in a||r.add(e);if(0===r.size)return;let l=await uU(e,Array.from(r)),i=l?.components??{},o=(0,dH.Q$)(i),s=l?.state_groups??{},c={components:o,state_groups:(0,dH.Q$)(s)};await Promise.all(Array.from(r).map(async t=>{let n=await uB(t,e,c);return"success"===n.status&&(a[n.jsxName]=n),n}))}var uH=a(55069);let uV=e=>Object.keys(e).includes("id");async function uK(e){let t=await dq(e);if(!t||0===t.length)return t;let a=function(e){let t=e.lastIndexOf(">");return -1!==t?e.substring(0,t+1):e}(e);if(!a||!a.endsWith(">"))return t;let n=await dq(a);if(!n||0===n.length)return t;let r=1,l=e=>{if(e&&"object"==typeof e)for(let[t,a]of Object.entries(e))t.startsWith("image")?Array.isArray(a)?a.every(uV)&&(e[t]=a.map(()=>{let e={id:r.toString()};return r++,e})):uV(a)?(e[t]={id:r.toString()},r++):l(a):l(a)};return function e(t,a,n){let r=!0;for(let l=0;l<t.length;l++){let i=t[l],o=a[l];if(!o||!i){r=!1;break}if("string"==typeof o){"string"!=typeof i&&(r=!1),r=i===o;continue}if("string"!=typeof i){if(i.type!==o.type){r=!1;continue}for(let[t,a]of(e(i.children,o.children,n)||(r=!1),Object.entries(o.props))){let l=i.props[t];if((0,dz.isJSXElement)(a)&&(0,dz.isJSXElement)(l))e([l],[a],n)||(r=!1);else if(Array.isArray(a)&&Array.isArray(l))for(let t=0;t<a.length;t++)t>=l.length&&(r=!1),(0,dz.isJSXElement)(a[t])&&(0,dz.isJSXElement)(l[t])?e([l[t]],[a[t]],n)||(r=!1):dj()(l[t],a[t])||(r=!1);else"isPartial"===t?r=l===a:dj()(l,a)||(r=!1)}r&&n(o)}}return r}(n,t,e=>{("Image"===e.type||"Instance"===e.type||e.type.startsWith("Component"))&&(l(e.props),e.props={...e.props,sharedPluginData:{...e.props.sharedPluginData,isDone:"true"}})}),t}async function uz(e,t,a={}){var n;let r=(0,dH.Z$)(e.jsxStr),l=await uK(r);if(!l||0===l.length||l.some(e=>!e)||!(void 0!==(n=l[0]).type&&""!==n.type)||(a.prevJsxStr??"")===r)return{};await a.onBeforeInsertJSX?.(l);let i={prevNodeId:a.prevNodeId,isIncomplete:!function(e){let t=e.match(/<([^\/\s>]+)[^>]*>/),a=e.match(/<\/([^>]+)>/g)?.pop();return!!t&&!!a&&t[1]===a.replace("</","").replace(">","")}(r),autoFillParent:!0,insertBehavior:"viewport-ease",shouldGenerateImages:!0,...e.options},{insertNodeIds:o,customizationResult:s,expandedJsx:c}=await uM({jsxStr:r,jsxJSON:l,prevJsxJSON:a.prevJsxJSON??[],prevExpandedJsx:a.prevExpandedJsx??[],options:i},t);return{insertNodeIds:o,customizationResult:s,jsxStr:r,jsxJSON:l,expandedJsx:c}}function uW({onAfterInsertPartialJsx:e,onReset:t,onImageProgress:a,shouldContinueStream:r,clientLifecycleId:i,insertType:s}){let c=(0,n.useRef)({}),d=(0,n.useRef)(null),u=(0,n.useRef)({}),m=(0,n.useRef)({}),p=(0,n.useRef)({}),_=(0,n.useRef)(new uD(s||"generate")),f=(0,n.useCallback)(async t=>{try{c.current.isRunning=!0,c.current.donePromise=(async()=>{try{let e={jsxStrLength:t.jsxStr?.length,options:{parentNodeId:t.options.parentNodeId,isIncomplete:t.options.isIncomplete,prevNodeId:t.options.prevNodeId},clientLifecycleId:i},a={...e,jsxStr:t.jsxStr};(0,w.ED)("first-draft","Inserting Streamed JSX Updates",e,{createSentryBreadcrumb:!0,logToConsole:w.NU.NEVER}),(0,w.ED)("first-draft","Inserting Streamed JSX Updates",a,{createSentryBreadcrumb:!1}),c.current.doneTextLayerIds=c.current.doneTextLayerIds||new Set,c.current.componentNameToCustomJSXElement=c.current.componentNameToCustomJSXElement||{},c.current.componentNameToInsertResult=c.current.componentNameToInsertResult||{};let{insertNodeIds:r,customizationResult:l,jsxJSON:s,jsxStr:m,expandedJsx:p}=await uz({...t,options:{...t.options,componentNameToInsertResult:c.current.componentNameToInsertResult,componentNameToCustomJSXElement:c.current.componentNameToCustomJSXElement,shouldAnimateLoading:(0,o.kc)().first_draft_animations,doneTextLayerIds:c.current.doneTextLayerIds,clientLifecycleId:i}},_.current,{prevNodeId:d.current,prevJsxStr:c.current.jsxStr,prevJsxJSON:c.current.jsxJSON,prevExpandedJsx:c.current.expandedJsx,onBeforeInsertJSX:async e=>{await uG({jsxJSON:e,dsKitKey:t.options.dsKitKey,componentNameToInsertResult:c.current.componentNameToInsertResult??{}})}});if(!r){if(void 0===s)return;throw Error("Failed to insert any nodes")}if(r.length>1)throw Error("Expected at most one node to be inserted");(0,dL.OJ)(r[0]),d.current!==r[0]&&(d.current&&(0,uH.ks)(d.current),(0,uH.Vm)(r[0],n.createElement(n.Fragment,null),{overflowHidden:!0})),d.current=r[0],u.current={...u.current,...l?.themeOverrideMap??{}},c.current.jsxStr=m,c.current.jsxJSON=s,c.current.expandedJsx=p,c.current.queuedEffects=c.current.queuedEffects||{}}catch(e){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e instanceof Error?e:Error(e)),d.current&&!tW.q.instance.get(d.current)&&(d.current=null,c.current.jsxStr=void 0,c.current.jsxJSON=void 0,c.current.expandedJsx=void 0)}try{if(d.current){if(t.options?.shouldGenerateImages){if(t.options.imageArgs)(0,dL.Ms)({containingNodeId:d.current,queuedEffects:c.current.queuedEffects,shouldContinueStream:r,imagesTrace:p.current,jsxJSON:c.current.jsxJSON,initialUserPrompt:t.options.imageArgs?.initialUserPrompt||"",clientLifecycleId:i,instrumentationRef:_});else throw Error("Tried to generate images without image args")}(0,dL.D9)(d.current,c.current.queuedEffects,t.options),(0,dL.fE)({containingNodeId:d.current}),e?.(d.current)}}catch(e){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e instanceof Error?e:Error(e))}})(),await c.current.donePromise,c.current.insertAgainWhenDone&&((0,w.ED)("first-draft","Re-Inserting JSX Updates (Immediate)",{jsxStrLength:c.current.lastArgs?.jsxStr?.length,options:{parentNodeId:c.current.lastArgs?.options.parentNodeId,isIncomplete:c.current.lastArgs?.options.isIncomplete,prevNodeId:c.current.lastArgs?.options.prevNodeId}}),c.current.insertAgainWhenDone=!1,await f(c.current.lastArgs))}finally{c.current.isRunning=!1}},[e,r,i]),g=(0,sO.A)(f,500,{leading:!0,maxWait:1e3}),h=(0,n.useCallback)(async()=>{for(g.isPending()&&await g.flush();c.current.isRunning;)c.current.donePromise&&await c.current.donePromise,await (0,dH.Mb)(10);let e=c.current.queuedEffects??{};(await Promise.allSettled(Array.from(Object.values(e)))).forEach(e=>{"rejected"!==e.status||e.reason instanceof dK.G1&&500>(0,dK.Iu)(e.reason)||(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e.reason)})},[g]),E=(0,n.useCallback)(async()=>{try{await h()}finally{if(t?.(),d.current&&((0,uH.ks)(d.current),(0,dL.RY)(d.current)),c.current.lastArgs){let e=Object.keys(u.current).length>0;await (0,dL.oT)(c.current.lastArgs.options?.dsKitKey,d.current,l.oVz.CURRENT,{detachVariables:e})}d.current=null,c.current={},m.current={},p.current={}}},[h,t]),y=(0,n.useCallback)(e=>(c.current.lastArgs=e,c.current.isRunning)?(c.current.insertAgainWhenDone=!0,Promise.resolve()):g?.(e)||Promise.resolve(),[g]);return(0,n.useEffect)(()=>{let e=_.current;if(!a)return;let t=()=>a(e.instrumentationData.imageSuccesses,e.instrumentationData.numImages);return e.imageProgressEmitter.on("statusChanged",t),()=>{e.imageProgressEmitter.removeListener("statusChanged",t)}},[_,a]),{insertJSX:y,resetAsync:E,flushPending:h,nodeIdRef:d,imagesTraceRef:p,themeOverrideMapRef:u,instrumentationRef:_}}async function uj(e={}){let{sleepTime:t=100}=e;await new Promise(e=>setTimeout(e,t))}async function*uq(e,t={}){let{chunksPerYield:a=20,useWords:n=!0}=t;if(n){let n=e.split(" "),r=[];for(let e=0;e<n.length;e+=a)r.push(...n.slice(e,e+a)),await uj(t),yield r.join(" ")}else{let n=e.split(""),r=[];for(let e=0;e<n.length;e+=a)r.push(...n.slice(e,e+a)),await uj(t),yield r.join("")}}function uY(){return{loadingComponentType:"ComponentLoading",shouldGenerateImages:!0}}function uX({mockStreamOptions:e,onInsertJSXDone:t,onAfterInsertPartialJsx:a,shouldContinueStream:r,clientLifecycleId:i,insertType:o}){let s=(0,j.tS)(),[c,d]=(0,n.useState)(null),u=(0,rG.cJ)(),m=(0,n.useRef)(void 0),p=(0,n.useRef)(void 0),_=(0,n.useRef)(null),[f,g]=(0,n.useState)({loaded:0,total:0}),{insertJSX:h,resetAsync:E,flushPending:y,nodeIdRef:v,imagesTraceRef:b,instrumentationRef:k,themeOverrideMapRef:x}=uW({onAfterInsertPartialJsx:e=>{if(u&&e){let t=tW.q.instance.get(e);t?.isResponsiveNode&&(t?.parentNode?.childrenNodes??[]).length>1&&(ru.l7.ai("first-draft-sites-page-remove",()=>{t.parentNode?.childrenNodes.filter(e=>e.guid!==t.guid).forEach(e=>e.removeSelfAndChildren())}),setTimeout(()=>{l.glU.triggerAction("goto-layer",{args:{nodeId:e}})},200))}a?.(e)},onReset:()=>{m.current=void 0,g({loaded:0,total:0})},onImageProgress:(e,t)=>{g({loaded:e,total:t})},shouldContinueStream:r,clientLifecycleId:i,insertType:o}),{isRunning:T,runPrompt:N,runPromptMocked:S}=function({onPromptOutput:e,onBeforeRunPrompt:t,onRunPromptSuccess:a,onRunPromptError:r,shouldContinueStream:l,mockStreamOptions:i,clientLifecycleId:o}){let[s,c]=(0,n.useState)(!1),d=(0,n.useRef)({}),u=(0,n.useCallback)(async(n,i)=>{if(!s)try{d.current={},c(!0),t?.(i),await n(t=>{e?.(t,i),d.current=t},l),await a?.(d.current,i)}catch(e){throw await r?.(e,d.current,i),e}finally{c(!1)}},[s,t,e,r,a,l]);return{isRunning:s,runPrompt:(0,n.useCallback)(async(e,t)=>await u(async(t,a)=>{await (0,dH._J)(e,t,a,o)},t),[o,u]),runPromptMocked:(0,n.useCallback)(async(e,t)=>await u(async t=>{if(await uj(i),!e.dsKit)throw Error("dsKit is required in mockedResponse");let a=e.dsKit,n=e.theme??{},r=e.jsx??"";for await(let e of(t({theme:n}),await uj(i),uq(r,i)))t({dsKit:a,theme:n,jsx:e});t({dsKit:a,theme:n,jsx:r})},t),[u,i])}}({mockStreamOptions:e,shouldContinueStream:r,clientLifecycleId:i,onBeforeRunPrompt:e=>{if(e.analyticsOptions){let{dsKitType:t,isLocal:a,kitKey:n}=uJ(null,e.insertJSXOptions);(0,J.sx)("First Draft: Layout Generation Started",{file_key:s,generateId:i,clientLifecycleId:i,dsKitType:t,isLocal:a,kitKey:n},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptSuccess:async(e,a)=>{k.current.trackLastStreamByteReceived(),await y(),e.trace&&d({...e.trace,children:[...e.trace.children,...Object.values(b.current)]});let n=(0,dH.Z$)(e.jsx??"");if(!e.dsKit&&!v.current)throw Error("No dsKit in prompt output");if(n&&!v.current)throw Error("JSX was present in the prompt output but no node was inserted");if(await t?.(v.current,x.current,_.current,p.current??[]),a.analyticsOptions){let{dsKitType:t,isLocal:n,kitKey:l}=uJ(e,a.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:e.dsKit,theme:e.theme,presets:e.presets}),timeElapsedMs:Date.now()-a.analyticsOptions.startTime,dsKitType:t,isLocal:n,kitKey:l,file_key:s,generateId:i,clientLifecycleId:i};r&&!r()?(k.current.trackFinished("stopped"),(0,J.sx)("First Draft: Layout Generation Ended",{...o,nodeId:v.current,status:"failed",reason:"stopped",instrumentationData:JSON.stringify(k.current.instrumentationData)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})):v.current?(k.current.trackFinished("success"),(0,J.sx)("First Draft: Layout Generation Ended",{...o,nodeId:v.current,status:"completed",instrumentationData:JSON.stringify(k.current.instrumentationData)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})):(k.current.trackFinished("failure"),(0,J.sx)("First Draft: Layout Generation Ended",{...o,status:"failed",reason:"empty generation",instrumentationData:JSON.stringify(k.current.instrumentationData)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}))}},onRunPromptError:(e,t,a)=>{k.current.trackFinished("failure"),t.trace&&d(t.trace);let{dsKitType:n,isLocal:r,kitKey:l}=uJ(t,a.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:t.dsKit??{},jsx:t.jsx??"",theme:t.theme??{}}),error:e.toString(),timeElapsedMs:Date.now()-(a.analyticsOptions?.startTime??0),dsKitType:n,isLocal:r,kitKey:l,file_key:s,clientLifecycleId:i},c=(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e,{extra:o});(0,J.sx)("First Draft: Layout Generation Ended",{...o,status:"failed",reason:"error",nodeId:v.current,sentryEventId:c,instrumentationData:JSON.stringify(k.current.instrumentationData)})},onPromptOutput:(e,t)=>{if(k.current.trackFirstByteReceived(),e.dsKit&&e.theme){if(m.current||(m.current=function(e,t){try{return dU(e)}catch(a){return a instanceof Error&&(0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error(`[First Draft theme] Error parsing theme from output: ${a.message}`),{extra:{...t,theme:JSON.stringify(e),error:a}}),{}}}(e.theme,{generateId:i})),!p.current&&e.presets&&(p.current=e.presets),e.dsKit.isLocal){let e=t.insertJSXOptions.dsKitKey.pageId;if(!e)throw Error("No pageId in insertJSXOptions");_.current={type:"LOCAL",pageId:e}}else _.current={type:"LIBRARY",key:e.dsKit.kitKey};if(e.jsx)return h({jsxStr:e.jsx,options:{...t.insertJSXOptions,theme:m.current,dsKitKey:_.current}})}}}),I=(0,dG.B)(),A=(0,n.useCallback)(async e=>{"LOCAL"===e.dsKitKey.type&&s&&await (0,dO.p4)(s,e,I)},[s,I]),L=(0,n.useCallback)(async(e,t,a)=>{let n;if(T)return{nodeId:null,success:!0};await E();let{designSystem:r}=t;try{r&&await A(r)}catch(e){return(0,w.$D)(nM.FigmaTeam.AI_GENERATION,e),{nodeId:null,success:!1,error:e}}let o=function(e,t){if(!t)return{userPrompt:e};if("LOCAL"!==t.dsKitKey.type)return{userPrompt:e,kitKey:t.dsKitKey.key,isLocal:!1};let a=l.XJn.getKitKey(t.dsKitKey.pageId);if(!a)throw Error("Failed to get a kitKey for local kit");return{userPrompt:e,kitKey:a,isLocal:!0}}(e,r),s={};if(u){let e=tW.q.instance.getCurrentPage();if(e){let t=1===e.childrenNodes.length&&e.childrenNodes[0].isResponsiveSet&&1===e.childrenNodes[0].childrenNodes.length&&e.childrenNodes[0].childrenNodes[0].isResponsiveNode&&0===e.childrenNodes[0].childrenNodes[0].childrenNodes.length,a=null;t?(rh.wr(),(0,dV.S)("panel"),rh.Dh([e.childrenGuids[0]])):ru.l7.ai("first-draft-sites-page-create",()=>{l.glU.createResponsiveSet(null)}),a=tW.q.instance.get(l.glU.getFirstSelectedNodeIdForCurrentPage()),s.parentNodeId=a?.guid,s.createNewSitesWebpage=!0,s.frameName="Primary"}}try{k.current.start(),await N(o,{insertJSXOptions:{frameName:e,imageArgs:{initialUserPrompt:e},...uY(),...a,...s,sharedPluginData:{userPrompt:e,...a.sharedPluginData},dsKitKey:r?.dsKitKey},analyticsOptions:{startTime:k.current.startTime,clientLifecycleId:i}})}catch(e){n=e}let c=v.current;if(await E(),c&&!tW.q.instance.get(c))throw Error("Failed to insert node");return C.Y5.commit(),{nodeId:c,success:!n,error:n}},[T,E,N,v,i,A,u,k]);return{submitPromptMocked:(0,n.useCallback)(async(e,t)=>{if(T)return{nodeId:null,success:!0};await E(),await S(e,{insertJSXOptions:{...uY(),...t,imageArgs:{initialUserPrompt:"website"}},analyticsOptions:null});let a=v.current;return await E(),{nodeId:a,success:!0}},[T,E,S,v]),submitPrompt:L,isRunning:T,executionTrace:c,imageProgress:f}}function uJ(e,t){let a=t.dsKitKey,n=a?.type??"AUTO",r=a?.type==="LOCAL",l=a?"key"in a?a.key:a.pageId:e?.dsKit?.kitKey??null;return{dsKitOption:a,dsKitType:n,isLocal:r,kitKey:l}}var uZ=a(332366),uQ=a(46481),u$=a(216158),u0=a(284321),u1=a(640209),u2=a(992795),u5=a(302442),u3=a.n(u5),u4=a(96328),u6=a(106757);function u7(e){return"SYMBOL"===e.type?{symbolId:l.Egt.getAssetKeyForPublish(e.guid),version:e.sharedSymbolVersion}:"INSTANCE"===e.type&&e.symbolId?u7(tW.q.instance.get(e.symbolId)):{symbolId:"",version:null}}function u8(e,t,a){t&&e.forEach(e=>{if(e.result.conflictScore>=.5){let{symbolId:n,version:r}=u7(e.node);!function(e,t,a){if(!e)return;let n=D.zl.get(j.ze);if(!n)return;let r=e.data?.file?.comments.find(e=>e.clientMeta?.nodeId===t.guid&&e.clientMeta?.nodeOffset?.x===0&&e.clientMeta?.nodeOffset?.y===0),l=tW.q.instance.getCurrentPage().guid,i=(0,op.g)();r?e.api.writeAPI?.reply({messageMeta:[{t:a}],attachments:[],threadId:r.id,threadUuid:r.uuid||void 0,uuid:i},{}):e.api.writeAPI?.create({fileKey:n,messageMeta:[{t:a}],attachments:[],pageId:l,uuid:i,clientMeta:{x:t.x,y:t.y,node_offset:{x:0,y:0},node_id:t.guid}},{onValidationError:null})}(t,e.node,(a?` Run ID: ${a}
`:"")+("SYMBOL"===e.node.type||"INSTANCE"===e.node.type?`Symbol ID: ${n} 
Symbol Version: ${r}
`:"")+`Conflict Score: ${e.result.conflictScore} 
 ${e.result.reasoning}`)}})}async function u9(e,t,a){"FRAME"===e.type&&"HORIZONTAL"===e.stackMode&&e.childrenNodes.length&&"FRAME"===e.childrenNodes[0].type&&"VERTICAL"===e.childrenNodes[0].stackMode||t(f.F.enqueue({message:"Please select eval output/eval output not in the correct format",error:!0}));let n=e.childrenNodes.map(e=>e.childrenNodes[1]),r=await mr(n,t);u8(r,a),me("IP Conflict eval results",`You have ${r.reduce((e,t)=>e+Math.round(t.result.conflictScore),0)} conflicts: 
 ${JSON.stringify(r)}`,e)}function me(e,t,a){ru.l7.user("Create sticky note with IP Conflict eval results",()=>{let n=tW.q.instance.createNode("FRAME"),r=tW.q.instance.createNode("TEXT");n.appendChild(r),r.name=e,n.x=a.x+a.size.x+10,n.y=a.y,n.size={x:200,y:200},r.size={x:n.size.x,y:n.size.y},l.biQ.setTextContentOnTextNode(r.guid,t),tW.q.instance.getCurrentPage().appendChild(n)})}let mt=["Mobile App Kit","Website Kit"];function ma(e,t,a){return async()=>{let n=tW.q.instance.getCurrentPage();if(!mt.includes(n.name)){t(f.F.enqueue({message:"Can only run this action on a kit page",error:!0}));return}let r=n.childrenNodes.find(t=>t.name===e);if(!r){t(f.F.enqueue({message:'No "Building Blocks" section found',error:!0}));return}let l=[],i=[r];for(;i.length>0;){let e=i.pop();"SECTION"===e.type?i.push(...e.childrenNodes):e.isStateGroup?i.push(...e.childrenNodes):l.push(e)}let o=await mr(l,t),s=Math.random().toString(36).substring(7);if(u8(o,a,s),me("IP Conflict eval results",`Run Guid: ${s} 
 You have ${o.reduce((e,t)=>e+Math.round(t.result.conflictScore),0)} conflicts 
 ${JSON.stringify(o)}`,r),"Building Blocks"===e){let{symbolId:t,version:a}=u7(r),n=o.map(e=>({score:e.result.conflictScore,symbolKey:t,symbolVersion:a}));(0,J.sx)("FirstDraftIpConflictBuildingBlockEval",{runGuid:s,section:e,fileKey:D.zl.get(j.ze)||"",buildingBlockScores:n.map(e=>JSON.stringify(e))})}else if("Examples"===e){let t=o.map(e=>({score:e.result.conflictScore,exampleName:e.node.name}));(0,J.sx)("FirstDraftIpConflictExamplesEval",{runGuid:s,section:e,fileKey:D.zl.get(j.ze)||"",exampleScores:t.map(e=>JSON.stringify(e))})}}}let mn="FIRST_DRAFT_IP_CONFLICT";async function mr(e,t){t(f.F.enqueue({message:`Running IP Conflict eval on ${e.length} nodes`,type:mn,error:!1}));let a=[];try{let n=u3()(e,30),r=0;for(let l of n){t(f.F.enqueue({message:`Running IP conflict eval on ${e.length} nodes: batch ${r+1}/${n.length}`,type:mn,error:!1})),r+=1;let i=l.map(async e=>({b64:"data:image/jpeg;base64,"+(0,u4.H9)(await e.loadImagesAndExport([{imageType:"JPEG"}])),node:e})).map(async e=>{let t=async()=>sK.Ay.design.firstDraftIpConflict({imageB64:(await e).b64},{orgId:null,teamId:null,fileKey:D.zl.get(j.ze)||null,userId:D.zl.get(u6.kS)||null,trackingSessionId:null,clientLifecycleId:""});return{result:await t().catch(e=>t()),node:(await e).node}}),o=await Promise.all(i);a=a.concat(o)}}catch(e){throw t(f.F.enqueue({message:`IP Conflict eval failed: ${e.message}`,type:mn,error:!0})),e}return t(f.F.enqueue({message:"IP Conflict eval completed",type:mn,error:!1})),a}function ml(){let e=(0,r.wA)(),t=(0,v._9)(),a=[{label:"Eval kit Examples",function:ma("Examples",e,t)},{label:"Eval kit Building blocks",function:ma("Building Blocks",e,t)},{label:"Eval selected nodes",function:async()=>{let a=tW.q.instance.getCurrentPage().directlySelectedNodes;if(!a.length){e(f.F.enqueue({message:"Please select some nodes",error:!0}));return}let n=await mr(a,e);u8(n,t),me("IP Conflict eval results",`You have ${n.reduce((e,t)=>e+Math.round(t.result.conflictScore),0)} conflicts: 
 ${JSON.stringify(n)}`,a[a.length-1])}},{label:"Eval selected generations",function:async()=>{let a=tW.q.instance.getCurrentPage().directlySelectedNodes;if(!a.length||"FRAME"!==a[0].type){e(f.F.enqueue({message:"Please select a single parent node of all the generation outputs",error:!0}));return}let n=a[0];await u9(n,e,t)}}],[l,i]=n.useState(a[0]);return n.createElement(ia.Y,{direction:"horizontal"},n.createElement("div",{className:tv.cx.cursorPointer.flex.itemsCenter.wFull.$},n.createElement(il.E,{fontSize:11,fontWeight:"medium"},"IP Conflict")),n.createElement(u2.ms,{selected:l,onSelectedChange:e=>i(e),placeholder:"Select eval set",labelForSelectedItem:e=>e.label,displayAboveTarget:!0,lean:"right",items:a.map(e=>({type:"option",text:e.label,value:e}))}),n.createElement(lm.$n,{variant:"secondary",onClick:()=>{l.function()}},"Run"))}var mi=a(501191);let mo={"gpt-4-turbo-2024-04-09":{name:"GPT-4 Turbo",model:"gpt-4-turbo-2024-04-09"},"gpt-4o-2024-05-13":{name:"GPT-4o",model:"gpt-4o-2024-05-13"}};async function ms({model:e,selectedEval:t,kit:a,customEvalPrompts:n}){let r="LIBRARY"===a.dsKitKey.type?a.dsKitKey.key:l.XJn.getKitKey(a.dsKitKey.pageId)??"",i="LOCAL"===a.dsKitKey.type,{data:{meta:{s3_key:o}}}=await u1.Gh.postFirstDraftRunEvals({model:e,kitKey:r,selectedEval:t,isLocal:i,evalPrompts:n});return new Promise(e=>{let t=0,a=setInterval(async()=>{t+=1;try{let n=await u1.Gh.getFirstDraftsEvalStatus({s3Key:o}),r=n.data.meta.status;"success"===r?(clearInterval(a),e(n.data.meta)):("failed"===r||t>=9)&&(clearInterval(a),e(null))}catch{}},2e4)})}function mc({selectedKitOption:e,clientLifecycleId:t}){let a=(0,r.wA)(),{evalSetsQueryStatus:l,evalSets:i}=function(){let[e]=(0,u$.IT)(md(null));return{evalSetsQueryStatus:e.status,evalSets:e.data??[]}}(),[o,s]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,m]=n.useState(""),[p,_]=(0,n.useState)(!1),[g,h]=(0,n.useState)(!1),[E,y]=n.useState(null),[b,C]=n.useState(mo["gpt-4-turbo-2024-04-09"]),k=(0,r.d4)(u0.ao),[x,T]=(0,n.useState)(!1),N=(0,v._9)();(0,n.useEffect)(()=>{i.length&&null==E&&y(i[0])},[i,E]);let S=(0,n.useMemo)(()=>e?.type==="KIT"&&"LOCAL"===e.kit.dsKitKey.type,[e]),I=(0,n.useCallback)(()=>{if(c)try{let e=JSON.parse(u);if(!Array.isArray(e))return;return e.map(e=>e.trim()).filter(e=>e.length>0)??void 0}catch(e){console.error("Unable to parse custom prompts list",e);return}},[u,c]),A=(0,n.useCallback)(()=>e&&"AUTO"!==e.type?S&&g?(0,dQ.Ol)(e.kit)??e.kit:e.kit:null,[e,S,g]),L=(0,n.useCallback)(async()=>{if(x||!E)return;let e=A();if(e)try{T(!0);let n=I(),r=n?`Running evals with ${n.length} custom prompts...`:`Running evals for ${E}...`;a(f.F.enqueue({type:"FIRST_DRAFT_EVAL",timeoutOverride:1/0,message:r}));let l=await ms({kit:e,model:b.model,selectedEval:E,customEvalPrompts:n});if(!l){a(f.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Evals failed. Please try again.",error:!0}));return}let i=await mm({kit:e,batch:l,shouldGenerateImages:o,clientLifecycleId:t});if(i&&p){let e=tW.q.instance.get(i);e&&await u9(e,a,N)}}catch(e){(0,w.x1)("first-draft","Error running evals",{error:e}),a(f.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Eval failed. Please check the console for more information.",error:!0}))}finally{T(!1)}},[x,E,A,I,a,b.model,o,t,p,N]);return n.createElement(ia.Y,{padding:{vertical:12},direction:"vertical"},n.createElement("div",{className:tv.cx.cursorPointer.flex.itemsCenter.wFull.$},n.createElement(il.E,{fontSize:11,fontWeight:"medium"},"Evals")),n.createElement(ia.Y,null,n.createElement(u2.ms,{selected:E,onSelectedChange:e=>y(e),placeholder:"Select eval set",labelForSelectedItem:e=>e,displayAboveTarget:!0,lean:"right",items:i.map(e=>({type:"checkableOption",value:e,text:e})),disabled:"loaded"!==l}),n.createElement(u2.ms,{selected:b,onSelectedChange:e=>C(e),placeholder:"Model",labelForSelectedItem:e=>e.name,displayAboveTarget:!0,lean:"right",items:Object.values(mo).map(e=>({type:"option",value:e,text:e.name}))}),n.createElement(lm.$n,{variant:"secondary",onClick:L},"Run evals"),n.createElement(mu,{disabled:x,onUpload:e=>{let a=A();a&&mm({kit:a,batch:e,shouldGenerateImages:o,clientLifecycleId:t})}})),n.createElement(ia.Y,null,n.createElement(t7.S,{checked:o,disabled:x,onChange:()=>s(e=>!e),label:n.createElement(t8.J,null,"Gen images")}),n.createElement(t7.S,{checked:c,disabled:x,onChange:()=>d(e=>!e),label:n.createElement(t8.J,null,"Custom prompts")}),n.createElement(t7.S,{checked:p,disabled:x,onChange:()=>_(e=>!e),label:n.createElement(t8.J,null,"Ip conflict")}),S&&n.createElement(t7.S,{checked:g,disabled:x,onChange:()=>h(e=>!e),label:n.createElement(t8.J,null,"Use published kit version")}),S&&k&&n.createElement(cy.Z,{"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":"You currently have unpublished changes to your library kit.\nPublish library updates before running evals to ensure the current kit version is used."})),c&&n.createElement("textarea",{className:tv.cx.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:3,value:u,placeholder:'Enter custom eval prompts as JSON array. E.g. ["prompt1", "prompt2"]',onChange:e=>m(e.target.value)}))}let md=u$.M4.Query({fetch:async()=>(await u1.Gh.getFirstDraftAllEvalSets()).data.meta.eval_sets});function mu({disabled:e,onUpload:t}){let a=n.useRef(null);return n.createElement(uZ.n,{acceptedFileTypes:"json",singleFile:!0,isDisabled:e,svgAltText:"Upload eval",inputId:"first-draft-eval-upload",inputRef:a,"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":"Upload eval",onFileInputChange:e=>()=>{let a=e.current?.files?.[0];if(a){let n=new FileReader;n.onload=a=>{let n=a.target?.result;if(n)try{let e=JSON.parse(n),a=u1.Xs.parse(e);t(a)}catch(e){console.error("Error uploading eval",e)}finally{e.current&&(e.current.value="")}},n.readAsText(a)}}},n.createElement(uQ.U,{svg:mi.A},n.createElement(sS.e,null)))}async function mm({batch:e,kit:t,shouldGenerateImages:a,clientLifecycleId:n}){try{sC.D.dispatch(f.F.enqueue({type:"FIRST_DRAFT_EVAL",timeoutOverride:1/0,message:"Inserting evals..."}));let r=[],l=[];for(let t of e.eval_results){let e="",a=null;try{e=(0,dH.Z$)(t.jsx??""),a=await uK(e)}catch(e){a=[mf(String(e))]}let n=t.userPromptRaw??"";l.push({userPrompt:n,jsxJSON:a||[]});let i=[m_({title:"User Prompt",metadata:n}),{type:"AutoLayout",props:{className:"w-full",sharedPluginData:{isDone:"true",theme:JSON.stringify(t.theme??{})}},children:a??[]},m_({title:"Extracted JSX",metadata:e})];if(t.theme&&i.push(m_({title:"Theme",metadata:JSON.stringify(t.theme,null,2)})),t.trace){let e=mp(t.trace);e&&i.push(m_({title:"Examples in prompt",metadata:e})),i.push(m_({title:"Trace",metadata:JSON.stringify(t.trace),storeInPluginData:!0}))}r.push({type:"VStack",props:{className:"flex flex-col w-[425px] items-center gap-[48px] p-4"},children:i})}let i=[{type:"HStack",props:{name:"Eval Run Set",className:"flex flex-row w-fit h-fit p-4 gap-4 bg-slate-50"},children:r}],o={};"LIBRARY"===t.dsKitKey.type&&await uG({jsxJSON:i,dsKitKey:t.dsKitKey,componentNameToInsertResult:o});let{insertNodeIds:s}=await uM({jsxJSON:i,jsxStr:"",prevJsxJSON:[],prevExpandedJsx:[],options:{isEval:!0,dsKitKey:t.dsKitKey,autoFillParent:!0,componentNameToInsertResult:o,shouldAnimateLoading:!1,clientLifecycleId:n}},null);if(!s.length)return;let c=s[0];sC.D.dispatch(f.F.enqueue({type:"FIRST_DRAFT_EVAL",timeoutOverride:1/0,message:"Populating icons & images..."}));let d=tW.q.instance.get(c),u=(d?.childrenGuids||[]).map((e,t)=>({id:e,...l[t]})),m=[];return m.push((0,dL.qV)({containingNodeId:c,options:{dsKitKey:t.dsKitKey},batchSize:15})),a&&m.push((async()=>{let e={};await (0,dL.nY)({containingNodeArgs:u,batchSize:20,imagesTrace:e,clientLifecycleId:n}),await Promise.all(u.map(async({id:a})=>{e[a]&&await uM({jsxJSON:[m_({title:"Images Trace",metadata:JSON.stringify(e[a]),storeInPluginData:!0})],jsxStr:"",prevJsxJSON:[],prevExpandedJsx:[],options:{isEval:!0,dsKitKey:t.dsKitKey,autoFillParent:!0,componentNameToInsertResult:o,parentNodeId:a,insertBehavior:"inline",clientLifecycleId:n}},null)}))})()),await Promise.all(m),sC.D.dispatch(f.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Eval Completed"})),c}catch(e){(0,w.x1)("first-draft","Error running evals",{error:e}),sC.D.dispatch(f.F.enqueue({type:"FIRST_DRAFT_EVAL",message:"Eval failed. Please check the console for more information.",error:!0}))}}let mp=e=>{let t=e.jsx_messages;if(!t)return null;let a=null;for(let e of t){let t="system"===e.role;if(e.content){let n=e.content.indexOf("examples of good outputs");if(-1!==n){let r=e.content.substring(n);if(!t)return r;a=r}}}return a??null},m_=({metadata:e,title:t,storeInPluginData:a})=>{let n=[{type:"Text",props:{className:"w-full text-xs text-slate-500 text-left",sharedPluginData:{value:a?e:""}},children:[a?`${t.toUpperCase()} (Stored in pluginData)`:t.toUpperCase()]}];return a||n.push({type:"Text",props:{className:"w-full text-xs text-left"},children:[e]}),{type:"AutoLayout",props:{name:t,className:"p-4 gap-2 bg-white w-full flex-col"},children:n}},mf=e=>({type:"Text",props:{className:"text-red-500 w-full"},children:[e]});async function mg({kit:e,inputPrompt:t,openFileKey:a,customizableVariables:n}){let r="LIBRARY"===e.dsKitKey.type?e.dsKitKey.key:l.XJn.getKitKey(e.dsKitKey.pageId)??"",i="LOCAL"===e.dsKitKey.type;i&&a&&await (0,dO.p4)(a,e,n);let{data:{meta:{examples:o}}}=await u1.Gh.getFirstDraftRetrievedExamples({kitKey:r,isLocal:i,prompt:t});return o}function mh({selectedKit:e}){let t=(0,r.wA)(),a=(0,j.tS)(),[l,i]=n.useState(""),[o,s]=n.useState([]),c=(0,dG.B)(),d=o.length>0;return n.createElement(ia.Y,{padding:{vertical:12},direction:"vertical"},n.createElement("button",{className:tv.cx.cursorPointer.flex.itemsCenter.wFull.$},n.createElement(il.E,{fontSize:11,fontWeight:"medium"},"Examples Debug")),n.createElement("textarea",{className:tv.cx.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:1,value:l,placeholder:"Enter a prompt to retrieve examples",onChange:e=>i(e.target.value)}),n.createElement(lm.$n,{variant:"secondary",onClick:async()=>{try{let t=await mg({kit:e,inputPrompt:l,openFileKey:a,customizableVariables:c});s(t)}catch(e){t(f.F.enqueue({type:"FIRST_DRAFT_EXAMPLES_DEBUG",message:"Fetching examples failed. Please make sure you're using a published kit with examples.",error:!0}))}}},"Get examples"),d&&n.createElement("div",{style:{height:"300px",overflowY:"scroll"}},o.map((e,t)=>n.createElement(ia.Y,{direction:"horizontal",key:t,width:"fill-parent"},n.createElement("img",{src:e.thumbnail_url??void 0,alt:"No thumbnail",style:{height:"auto",width:"auto",maxHeight:"300px",maxWidth:"250px"}}),n.createElement("div",{style:{width:"200px",wordWrap:"break-word"}}," ",e.name)))))}var mE=a(137819),my=a(25108);let mv=(0,D.E3)("first_draft_last_used_kit","");function mb({text:e}){return n.createElement("div",{className:tg()(tv.cx.flex.flexRow.$)},n.createElement(mE.i,{style:{marginLeft:-2}})," ",n.createElement("span",{className:tg()(tv.cx.pl4.$)},e))}function mC(e=!1){let{libraryKitsQueryStatus:t,localKits:a,libraryKits:r}=(0,my.Ml)(),[l,i]=(0,D.fp)(mv),[s,c]=(0,n.useState)(null),d="loaded"===t;(0,n.useEffect)(()=>{if(d&&null===s){if(e){let e=a[0]??r[0]??null;e&&c({type:"KIT",kit:e})}else if((0,o.kc)().first_draft_auto_select_kits&&r.length>1)c({type:"AUTO"});else{let e=r[0]??a[0]??null;e&&c({type:"KIT",kit:e})}}},[a,r,d,s,c,e]);let u=(0,n.useMemo)(()=>[...r,...a],[r,a]),m=(0,n.useMemo)(()=>{let e=u.find(e=>e.metadata?.identifier&&e.metadata.identifier===l);return(e??=u.find(e=>e.name===l))??null},[l,u]);return{kitsAreLoaded:d,kitOptionDropdownItems:(0,n.useMemo)(()=>{let e=[];return r.length>0&&(e.push({type:"header",text:(0,_.t)("first_draft.made_by_figma")}),(0,o.kc)().first_draft_auto_select_kits&&r.length>1&&e.push({type:"checkableOption",value:{type:"AUTO"},text:(0,_.t)("first_draft.detect_via_prompt")}),e.push(...r.map(e=>({type:"checkableOption",value:{type:"KIT",kit:e},text:e.name})))),(0,o.kc)().first_draft_local_kits&&a.length>0&&(e.push({type:"separator"}),e.push({type:"header",text:(0,_.t)("first_draft.current_file")}),e.push(...a.map(e=>({type:"checkableOption",value:{type:"KIT",kit:e},text:e.name})))),e},[r,a]),selectedKit:m,setSelectedKit:n.useCallback(e=>{i(e.metadata?.identifier||e.name)},[i]),selectedKitOption:s,setSelectedKitOption:c,allUsableKitEntries:u}}function mw({items:e,kitsAreLoaded:t,selectedKitOption:a,setSelectedKitOption:r,recordingKey:l}){return n.createElement(u2.ms,{selected:a,onSelectedChange:r,placeholder:n.createElement(mb,{text:t?(0,_.t)("first_draft.library_placeholder"):(0,_.t)("first_draft.kits_loading")}),labelForSelectedItem:e=>"AUTO"===e.type?n.createElement(mb,{text:(0,_.t)("first_draft.library_placeholder")}):n.createElement(mb,{text:e.kit.name}),displayAboveTarget:!0,lean:"right",items:e,recordingKey:a3.Pt(l,"kitPicker"),disabled:!t})}function mk({selectedKitOption:e,clientLifecycleId:t}){let a=(0,r.wA)(),[l,i]=n.useState(!1),[o,s]=n.useState(""),c=n.useCallback(async e=>{e&&((0,dL.xF)(e),await Promise.resolve())},[]),{submitPromptMocked:d}=uX({onInsertJSXDone:c,mockStreamOptions:{sleepTime:100,chunksPerYield:1e6,useWords:!1},clientLifecycleId:t}),{submitPromptMocked:u}=uX({onInsertJSXDone:c,mockStreamOptions:{sleepTime:100,chunksPerYield:10,useWords:!1},clientLifecycleId:t}),m=n.useCallback(async()=>{if(!e){(0,w.xi)("first-draft","insert called without a selected kit");return}if("AUTO"===e.type){(0,w.xi)("first-draft","insert called without an invalid kit option");return}let t=mx(e);if(!t){(0,w.xi)("first-draft","insert called without a valid dsKit");return}await u({dsKit:t,theme:{},jsx:"```jsx\n"+o},{dsKitKey:e.kit.dsKitKey,shouldGenerateImages:l})},[o,u,e,l]),p=n.useCallback(async()=>{if(!e){(0,w.xi)("first-draft","insert called without a selected kit");return}if("AUTO"===e.type){(0,w.xi)("first-draft","insert called without an invalid kit option");return}let t=mx(e);if(!t){(0,w.xi)("first-draft","insert called without a valid dsKit");return}await d({dsKit:t,theme:{},jsx:"```jsx\n"+o},{dsKitKey:e.kit.dsKitKey,shouldGenerateImages:l})},[o,d,e,l]);return n.createElement(ia.Y,{padding:{vertical:12},direction:"vertical"},n.createElement("button",{className:tv.cx.cursorPointer.flex.itemsCenter.wFull.$},n.createElement(il.E,{fontSize:11,fontWeight:"medium"},"Debug")),n.createElement("textarea",{className:tv.cx.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:3,value:o,placeholder:"Enter JSX to insert directly",onChange:e=>s(e.target.value)}),n.createElement(ia.Y,null,n.createElement(t7.S,{checked:l,onChange:()=>i(e=>!e),label:n.createElement(t8.J,null,"Gen images")})),n.createElement(ia.Y,null,n.createElement(lm.$n,{variant:"secondary",onClick:async()=>{await m(),a(f.F.enqueue({message:"Finished insert"}))}},"Insert streaming"),n.createElement(lm.$n,{variant:"secondary",onClick:async()=>{await p(),a(f.F.enqueue({message:"Finished insert"}))}},"Insert all")))}function mx(e){if("AUTO"===e.type)return null;let t=e.kit.dsKitKey,a="LOCAL"===t.type?l.XJn.getKitKey(t.pageId):t.key;return a?{kitKey:a,isLocal:"LOCAL"===t.type}:null}var mT=a(128247),mN=a(346124),mS=a(219728),mI=a(203264),mA=a(368832),mL=a(44948),mO=a(287497);function mM(e,t){return(0,mO.YJ)({nodeIds:Object.keys(e),options:{componentUsageOrDefinition:"USAGE",skipNodeIds:!1,detachInstances:!0,skipInstanceComponentProps:!1,includeInstanceOverrides:!0,includeComponentDependencies:!0,includeType:!0,skipNodeIdsWithoutType:t,classPropName:"class",autoLayoutTagName:"div",frameTagName:"div"}})}var mP=a(213376),mR=a(286640);let mD="first_draft_prompt_history_";var mF=a(749401);async function mB(e,t,a){let n=tW.q.instance;for(let r of a.flatMap(e=>e.nodeWeightInfos)){let a=n.get(r.nodeId);if(!a)continue;let l=function(e,t,a,n){if(!mF.z[t])return;let r=mF.z[e];if(r)return r[a][n]}(t,a.fontName.family,e,r.weight),i=l?.style??a.fontName.style;try{let e={family:t,style:i};await (0,uf.E)(e),ru.l7.user("first-draft-theme-modal-adjust-font-family",()=>{a.fontName=e})}catch(n){let e={family:t,style:"Regular"};await (0,uf.E)(e),ru.l7.user("first-draft-theme-modal-adjust-font-family",()=>{a.fontName=e})}ru.l7.user("first-draft-theme-modal-adjust-font-family",()=>{l?.letterSpacing!==void 0&&(a.letterSpacing=l.letterSpacing)})}}var mU=a(774191);function mG(e){let t=new Set,a=new Set;return e.forEach(e=>{7===e.length?t.add(e):a.add(e)}),[Array.from(t),Array.from(a)]}function mH(e,t){let{bg:a,content:n}=t,r=(0,tJ.HD)(e)?dR.lH.DARK:dR.lH.LIGHT,l=(0,tJ.F_)(e),i=(0,mU.oB)(e),o=a.filter(e=>e!==l),[s,c]=mG(o),d=function(e){let t={};return e.forEach(e=>{t[e]=(t[e]||0)+1}),t}(o),u=s.sort((e,t)=>d[t]-d[e]),m=u.find(e=>{let t=(0,tJ.tK)(e);if(!t)return!1;let a=(0,mU.oB)(t);return(0,dD.x)(a.l,r)&&!(0,mN.areClose)(a.l,i.l,.12)});if(m)return m;let[p,_]=mG(n),f=p.find(e=>{let t=(0,tJ.tK)(e);return t&&(0,dR.Yx)((0,mU.oB)(t).l,dR.lg.CONTENT)});if(f)return f;if((0,dD.x)(i.l,r)&&!(0,dD.c4)(i.l))return l;let g=c.sort((e,t)=>d[t]-d[e]).find(e=>{let t=(0,tJ.tK)(e);if(!t)return!1;let a=(0,mU.oB)(t);return(0,dD.x)(a.l,r)});return g?g:_.find(e=>{let t=(0,tJ.tK)(e);return t&&(0,dR.Yx)((0,mU.oB)(t).l,dR.lg.CONTENT)})||(u.length?u[0]:p.length?p[0]:l)}function mV(e,t,a,n,r){e&&function e(t,a,n,r){if(t.name.toLowerCase().includes("swatch"))return;let l=n[t.guid];if((0,dD.oR)({node:t,getNewColor:a,options:{...r,modeChanged:!1,role:(0,dR.Dk)(t),originalSL:l}}),t.childrenNodes.length){let l=t.fills.some(e=>"IMAGE"===e.type),i=(0,dD.gU)(t.fills,l?void 0:r.parentFillColor);t.childrenNodes.forEach(t=>{e(t,a,n,{...r,parentFillColor:i})})}}(e,(e,a)=>(0,dD.Jv)(e,{...a,brandColor:t}),n,{mode:a,currentBrandHex:r})}var mK=a(218549),mz=a(503796);let mW=new mK.q(40);async function mj({changes:e,makeChangesSessionId:t,clientLifecycleId:a,containingNodeId:n,instrumentationRef:r}){let l=tW.q.instance.get(e.affectedId);if(!l)return!1;let i=`${t}:${e.affectedId}`;if(mW.has(i))return(0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error("first-draft: Attempted to apply content changes twice"),{extra:{clientLifecycleId:a}}),!1;if(mW.set(i,!0),!l.getSharedPluginData("jsx","isImage"))return ru.l7.ai("first-draft-iterate-text-content",()=>(function({node:e,textContent:t}){return"TEXT"!==e.type?((0,w.xi)("first-draft","Update text called on a non-text node",{nodeId:e.guid,nodeType:e.type}),!1):(e.spliceCharacters(0,e.characters.length,t,"BEFORE"),!0)})({node:l,textContent:e.content})),!0;{let t=l.getSharedPluginData("jsx","background");return await r.current.logImageLoad(()=>(0,mz.Og)({node:l,description:e.content,background:t,clientLifecycleId:a,containingNodeId:n})),!0}}async function mq({action:e,insertJSX:t,options:{dsKitKey:a,currentTheme:n,imageArgs:r,rootNodeId:l}}){try{let{affectedId:i,jsxToInsert:o}=e,s=tW.q.instance.get(i);if(!s)throw Error("Could not find affected node in the scene");let c=tW.q.instance.get(l);if(!c)throw Error("Could not find root node in the scene");let d=(0,uT.BY)(c),u=s.parentNode;if(!u)throw Error("Could not find affected node in the scene");let m=u.childrenGuids.indexOf(i);if(-1===m)throw Error("Could not find affected node in the scene");let p="below";"insert"===e.type&&(p=e.insertBehavior);let _=await dq(o);if(!_||0===_.length)throw Error("Failed to parse JSX");let f=uF(_);if(0===f.size)throw Error("Only building blocks can be inserted or replaced");await t({jsxStr:"```jsx\n"+o+"\n```",options:{...uY(),insertBehavior:"inline",dsKitKey:a,themeProperties:n,deviceType:d,parentNodeId:u.guid,insertAtIndex:"above"===p?m:m+1,imageArgs:r}}),"replace"===e.type&&ru.l7.ai("first-draft-make-changes-remove",()=>{s.removeSelfAndChildren()})}catch(t){throw(0,w.$D)(nM.FigmaTeam.AI_GENERATION,t,{extra:{action:e,dsKitKey:a}}),t}}var mY=a(852299);function mX(e){return/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)}function mJ(){let e=(0,eC.eY)(),t=Object.entries((0,eC.KH)()).filter(([e,t])=>t).map(([e])=>e),a=null;for(let n of t)if(a=function(t){let a="",n=t;for(;!a&&n;){let t=e.get(n);if(!t)break;t.getSharedPluginData(dH.SV,"userPrompt")&&(a=n),n=t.parentGuid||""}return a||null}(n))break;return a}var mZ=a(927924),mQ=a(731718),m$=a(169566),m0=a.n(m$),m1=(e=>(e.mobile="MOBILE",e.web="WEB",e))(m1||{});function m2(e=3,t){let a=(0,o.kc)().first_draft_new_prompt_pills,n=[{label:(0,_.t)("first_draft.prompts.pricing_page.label"),prompt:(0,_.t)("first_draft.prompts.pricing_page.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,_.t)("first_draft.prompts.sign_in_screen.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.blog_post.label"),prompt:(0,_.t)("first_draft.prompts.blog_post.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.portfolio.label"),prompt:(0,_.t)("first_draft.prompts.portfolio.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.news_site.label"),prompt:(0,_.t)("first_draft.prompts.news_site.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.onboarding.label"),prompt:(0,_.t)("first_draft.prompts.onboarding.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,_.t)("first_draft.prompts.sign_in_screen.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.blog_post.label"),prompt:(0,_.t)("first_draft.prompts.blog_post.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.map_app_mobile.label"),prompt:(0,_.t)("first_draft.prompts.map_app_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.messaging_mobile.label"),prompt:(0,_.t)("first_draft.prompts.messaging_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.profile.label"),prompt:(0,_.t)("first_draft.prompts.profile_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.travel_app_mobile.label"),prompt:(0,_.t)("first_draft.prompts.travel_app_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.social_feed_mobile.label"),prompt:(0,_.t)("first_draft.prompts.social_feed_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.ticketing_app.label"),prompt:(0,_.t)("first_draft.prompts.ticketing_app.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.ride_sharing_mobile.label"),prompt:(0,_.t)("first_draft.prompts.ride_sharing_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.to_dos_mobile.label"),prompt:(0,_.t)("first_draft.prompts.to_dos_mobile.prompt"),type:"MOBILE"}];a&&n.push({label:(0,_.t)("first_draft.prompts.homepage.label"),prompt:(0,_.t)("first_draft.prompts.homepage.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.homepage.label"),prompt:(0,_.t)("first_draft.prompts.homepage_2.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.video_player_streaming.label"),prompt:(0,_.t)("first_draft.prompts.video_player_streaming.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.video_page_with_comments.label"),prompt:(0,_.t)("first_draft.prompts.video_page_with_comments.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.search_results_travel.label"),prompt:(0,_.t)("first_draft.prompts.search_results_travel.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.social_feed_text_heavy.label"),prompt:(0,_.t)("first_draft.prompts.social_feed_text_heavy.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.profile.label"),prompt:(0,_.t)("first_draft.prompts.profile_social_media.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.news_article.label"),prompt:(0,_.t)("first_draft.prompts.news_article.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.landing_page.label"),prompt:(0,_.t)("first_draft.prompts.landing_page_beauty.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.landing_page.label"),prompt:(0,_.t)("first_draft.prompts.landing_page_tech.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.marketing_page_football.label"),prompt:(0,_.t)("first_draft.prompts.marketing_page_football.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.shopping.label"),prompt:(0,_.t)("first_draft.prompts.shopping_hifi.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.shopping.label"),prompt:(0,_.t)("first_draft.prompts.product_details_shoes.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.admin_dashboard_saas.label"),prompt:(0,_.t)("first_draft.prompts.admin_dashboard_saas.prompt"),type:"WEB"},{label:(0,_.t)("first_draft.prompts.settings_mobile.label"),prompt:(0,_.t)("first_draft.prompts.settings_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.video_player_comments_mobile.label"),prompt:(0,_.t)("first_draft.prompts.video_player_comments_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.checkout_mobile.label"),prompt:(0,_.t)("first_draft.prompts.checkout_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.reviews_mobile.label"),prompt:(0,_.t)("first_draft.prompts.reviews_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.audio_player_mobile.label"),prompt:(0,_.t)("first_draft.prompts.audio_player_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.investing_mobile.label"),prompt:(0,_.t)("first_draft.prompts.investing_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.app_browsing_mobile.label"),prompt:(0,_.t)("first_draft.prompts.app_browsing_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.reservations_mobile.label"),prompt:(0,_.t)("first_draft.prompts.reservations_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.fitness_mobile.label"),prompt:(0,_.t)("first_draft.prompts.fitness_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.subscriptions_mobile.label"),prompt:(0,_.t)("first_draft.prompts.subscriptions_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.recipes_mobile.label"),prompt:(0,_.t)("first_draft.prompts.recipes_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.sports_mobile.label"),prompt:(0,_.t)("first_draft.prompts.sports_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.delivery_app_mobile.label"),prompt:(0,_.t)("first_draft.prompts.delivery_app_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.calendar_mobile.label"),prompt:(0,_.t)("first_draft.prompts.calendar_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.email_mobile.label"),prompt:(0,_.t)("first_draft.prompts.email_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.file_browser_mobile.label"),prompt:(0,_.t)("first_draft.prompts.file_browser_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.education_mobile.label"),prompt:(0,_.t)("first_draft.prompts.education_mobile.prompt"),type:"MOBILE"},{label:(0,_.t)("first_draft.prompts.shopping_mobile.label"),prompt:(0,_.t)("first_draft.prompts.shopping_mobile.prompt"),type:"MOBILE"});let r=n;if(t){let e=t.toLowerCase();e.includes("mobile")?r=r.filter(e=>"MOBILE"===e.type):e.includes("web")&&(r=r.filter(e=>"WEB"===e.type))}let l=m0()(r),i={};for(let t of l){if(Object.keys(i).length>=e)break;let a=m3(t.label);i[a]||(i[a]=t)}let s=Object.values(i).slice(0,e);return s.length<e?((0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error(`Unable to generate ${e} unique presets`),{extra:{count:e,generatedCount:s.length,selectedPresetsObj:i,shuffledPresets:l}}),[]):s}function m5(e=1){let t=[{label:(0,_.t)("first_draft.make_changes.prompt_labels.change_font"),prompt:(0,_.t)("first_draft.make_changes.prompts.futuristic_font")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,_.t)("first_draft.make_changes.prompts.calming_colors")},{label:(0,_.t)("first_draft.make_changes.prompts.make_it_pop"),prompt:(0,_.t)("first_draft.make_changes.prompts.make_it_pop")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.round_corners"),prompt:(0,_.t)("first_draft.make_changes.prompts.round_corners")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,_.t)("first_draft.make_changes.prompts.watermelon_theme")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.rewrite"),prompt:(0,_.t)("first_draft.make_changes.prompts.punchier_text")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.imagery"),prompt:(0,_.t)("first_draft.make_changes.prompts.vibrant_images")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.add"),prompt:(0,_.t)("first_draft.make_changes.prompts.add_another_section")},{label:(0,_.t)("first_draft.make_changes.prompt_labels.replace"),prompt:(0,_.t)("first_draft.make_changes.prompts.replace_hero_image")}];return sV()(m0()(t.filter(e=>""!==m3(e.label))),e=>e.label).slice(0,e)}function m3(e){return e.trim().toLowerCase()}var m4=a(267344),m6=a(879466);function m7(e,t){e(f.F.enqueue({type:"FIRST_DRAFT_SHOW_TRACE",message:(0,_.t)("first_draft.share_trace_nudge_in_modal",{weirdOutput:(0,_.t)("first_draft.share_trace_nudge_weird_output")}),button:{text:(0,_.t)("first_draft.share_trace"),action:()=>{(0,m6.j)(JSON.stringify(t,null,2),"trace.json")}},onDismiss:u.lQ}))}function m8(e){let{close:t}=(0,sl.cq)();(0,eC.f4)(a=>{if(e)for(let e of Object.keys(a.mirror.sceneGraphSelection)){let a=tW.q.instance.get(e);if(a&&!a.isOrInFirstDraft){t();return}}})}var m9=(e=>(e[e.READY_FOR_PROMPT=0]="READY_FOR_PROMPT",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED",e[e.ERROR=3]="ERROR",e[e.ICANTDOTHIS=4]="ICANTDOTHIS",e))(m9||{}),pe=(e=>(e.PROMPT="prompt",e.THEME="theme",e))(pe||{});let pt={brandColor:tJ.UE,displayBrandColor:tJ.UE,colorMode:dR.lH.LIGHT,spacing:1,radius:1,titleFonts:[],bodyFonts:[],labelFonts:[]};function pa(e){let t=tW.q.instance.get(e);if(!t)return pt;let a=(0,uT.BY)(t),n=(0,uT.uP)(t),r=(0,uT.Mz)(t,a),l=(0,dD.X6)(t)??tJ.UE,i=(0,tJ.tK)(mH(l,n.colors))??tJ.UE;return{brandColor:i,displayBrandColor:i,colorMode:up(t)??dR.lH.LIGHT,spacing:(0,ug.YB)(n.spacingValues),radius:(0,ug.nd)(n.radiusValues),titleFonts:r.title,bodyFonts:r.body,labelFonts:r.label}}function pn({initialRootGuid:e}){let t=(0,aC._M)({action:av.JT.FIRST_DRAFT_MAKE_CHANGES,clientLifecycleId:void 0}),a=t.clientLifecycleId,r=(0,j.tS)(),{pop:l}=(0,sl.cq)(),i=n.useCallback(()=>{(0,J.sx)("First Draft: Error",{file_key:r,clientLifecycleId:a,view:"firstDraftMakeChanges"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[r,a]);return n.createElement(p.tH,{boundaryKey:"FirstDraftMakeChanges",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:a,area:nM.FigmaTeam.AI_GENERATION},onError:i},n.createElement(pr,{recordingKey:"firstDraftMakeChangesView",onBack:l,initialRootGuid:e,aiTrackingContext:t}))}function pr(e){let t=e.aiTrackingContext,a=t.clientLifecycleId,[i,s]=n.useState(""),c=(0,j.tS)(),d=(0,eC.eY)(),u=mJ()||e.initialRootGuid,m=(0,eC.KH)(),p=(0,n.useMemo)(()=>u?d.get(u):null,[d,u]),{applyMakeChanges:f,resetMakeChanges:g,instrumentationRef:h}=function({clientLifecycleId:e}){let[t]=(0,n.useState)({current:(0,op.g)()}),{insertJSX:a,resetAsync:r,instrumentationRef:i}=uW({clientLifecycleId:e,insertType:"makeChanges"});return{applyMakeChanges:(0,n.useCallback)(async(n,o)=>{let s=[];for(let e of("affectedId"in n&&s.push(n.affectedId),"destinationId"in n&&s.push(n.destinationId),s)){if(!function e(t,a,n){let r=t.get(a);return!!r&&(r.guid===n||!!r.parentGuid&&e(t,r.parentGuid,n))}(tW.q.instance,e,o.rootNodeId)){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error("first-draft: Node does not have root node as ancestor"),{extra:{nodeId:e,action:n,...o}});return}if(e===o.rootNodeId){(0,w.$D)(nM.FigmaTeam.AI_GENERATION,Error("first-draft: Tried to mutate root node"),{extra:{nodeId:e,action:n,...o}});return}}switch(await r(),n.type){case"theme":{let{content:e}=n;e&&function(e,t,a){let n=tW.q.instance.get(e);if(!n)return;let r=(0,uT.BY)(n);if(["borderRadii","spacing","colors","fontFamilies"].some(e=>e in a)){let e=(0,uT.k5)(t,a);(0,uT.jR)(n,e,r)}let l=t.darkMode?dR.lH.DARK:dR.lH.LIGHT,i=t.brandColor??function(e){let t=(0,uT.uP)(e,{ignoreOpacity:!0});return mH((0,dD.X6)(e)??tJ.UE,t.colors)}(n),o="darkMode"in a?a.darkMode?dR.lH.DARK:dR.lH.LIGHT:void 0;if(o&&l!==o&&ru.l7.ai("first-draft-make-changes-theme-switch-mode",()=>{u_(n,o,i)}),"brandColor"in a&&a.brandColor){let e=(0,tJ.tK)(a.brandColor);if(e){let t=(0,dD.qO)(e,o??l);ru.l7.ai("first-draft-make-changes-theme-brand-color",()=>{mV(n,t,o??l??dR.lH.LIGHT,{},i)})}}}(o.rootNodeId,o.currentTheme,e);break}case"text_or_image":await mj({changes:n,makeChangesSessionId:t.current,clientLifecycleId:e,containingNodeId:o.rootNodeId,instrumentationRef:i});break;case"insert":case"replace":await mq({action:n,options:o,insertJSX:a}),await r();break;case"remove":ru.l7.ai("first-draft-make-changes-remove",()=>{let e=tW.q.instance.get(n.affectedId);e&&e.removeSelfAndChildren()});break;case"move":{let{affectedId:e,destinationId:t,insertBehavior:a}=n;ru.l7.ai("first-draft-make-changes-move",()=>{let n=tW.q.instance,r=n.get(e),l=n.get(t),i=l?.parentNode,o=i?.childrenGuids.indexOf(t)??-1;r&&i&&("above"===a?i.insertChild(r,o):"below"===a&&(o<i.childrenGuids.length-1?i.insertChild(r,o+1):i.appendChild(r)))});break}case"replaceClasses":{let{affectedId:e,classes:t}=n;for(let a of t)!function(e,t){let a=tW.q.instance.get(e);if(!a){(0,w.xi)("applyToNode","Node not found",{guid:e});return}let n=function(e){switch(e.type){case"TEXT":return"Text";case"SYMBOL":case"INSTANCE":case"FRAME":return"AutoLayout";default:return null}}(a);if(!n){(0,w.xi)("applyToNode","Unsupported element type",{type:a.type});return}let r=ut(t,n);if("AutoLayout"===n&&r.direction){let e="vertical"===r.direction?"VERTICAL":"HORIZONTAL";"HORIZONTAL"!==e&&"WRAP"===a.stackWrap&&(a.stackWrap="NO_WRAP"),a.stackMode=e}for(let e of Object.keys(r)){let t=r[e];try{switch(e){case"width":"fill-parent"===t&&(a.stackHorizontalLayoutSize=l.mKm.FILL_CONTAINER),"hug-contents"===t&&(a.stackHorizontalLayoutSize=l.mKm.HUG_CONTENT),"number"==typeof t&&(a.stackHorizontalLayoutSize=l.mKm.FIXED,a.resizeWithConstraints(t,a.size.y));break;case"height":"fill-parent"===t&&(a.stackVerticalLayoutSize=l.mKm.FILL_CONTAINER),"hug-contents"===t&&(a.stackVerticalLayoutSize=l.mKm.HUG_CONTENT),"number"==typeof t&&(a.stackVerticalLayoutSize=l.mKm.FIXED,a.resizeWithConstraints(a.size.x,t));break;case"hidden":a.visible=!t;break;case"padding":"AutoLayout"===n&&"object"==typeof t&&t&&("top"in t&&"number"==typeof t.top&&(a.stackTopPadding=t.top),"bottom"in t&&"number"==typeof t.bottom&&(a.stackBottomPadding=t.bottom),"left"in t&&"number"==typeof t.left&&(a.stackLeftPadding=t.left),"right"in t&&"number"==typeof t.right&&(a.stackRightPadding=t.right));break;case"cornerRadius":if("AutoLayout"===n&&"object"==typeof t&&t){let e=!1;"topLeft"in t&&"number"==typeof t.topLeft&&(a.rectangleTopLeftCornerRadius=t.topLeft,e=!0),"bottomLeft"in t&&"number"==typeof t.bottomLeft&&(a.rectangleBottomLeftCornerRadius=t.bottomLeft,e=!0),"topRight"in t&&"number"==typeof t.topRight&&(a.rectangleTopRightCornerRadius=t.topRight,e=!0),"bottomRight"in t&&"number"==typeof t.bottomRight&&(a.rectangleBottomRightCornerRadius=t.bottomRight,e=!0),e&&(a.rectangleCornerRadiiIndependent=!0)}break;case"textDecoration":"TEXT"===a.type&&"string"==typeof t&&("underline"===t&&(a.textDecoration="UNDERLINE"),"strikethrough"===t&&(a.textDecoration="STRIKETHROUGH"),"none"===t&&(a.textDecoration="NONE"));break;case"textCase":"TEXT"===a.type&&"string"==typeof t&&("upper"===t&&(a.textCase="UPPER"),"lower"===t&&(a.textCase="LOWER"),"title"===t&&(a.textCase="TITLE"),"original"===t&&(a.textCase="ORIGINAL"),"small-caps"===t&&(a.textCase="SMALL_CAPS"),"small-caps-forced"===t&&(a.textCase="SMALL_CAPS_FORCED"));break;case"fontSize":"TEXT"===a.type&&"number"==typeof t&&(a.fontSize=t);break;case"spacing":"AutoLayout"===n&&("number"==typeof t?a.stackSpacing=t:"object"==typeof t&&t?("VERTICAL"===a.stackMode&&"vertical"in t&&"number"==typeof t.vertical&&(a.stackSpacing=t.vertical),"HORIZONTAL"===a.stackMode&&("horizontal"in t&&"number"==typeof t.horizontal&&(a.stackSpacing=t.horizontal),"WRAP"===a.stackWrap&&"vertical"in t&&"number"==typeof t.vertical&&(a.stackCounterSpacing=t.vertical))):"auto"===t&&(a.stackPrimaryAlignItems="SPACE_BETWEEN","WRAP"===a.stackWrap&&(a.stackCounterAlignContent="SPACE_BETWEEN")));break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":"AutoLayout"===n&&"number"==typeof t&&(a[e]=t);break;case"opacity":"number"==typeof t&&(a.opacity=t);break;case"strokeWidth":"AutoLayout"===n&&"number"==typeof t&&(a.strokeWeight=t,a.borderStrokeWeightsIndependent=!1,a.borderTopWeight=t,a.borderBottomWeight=t,a.borderLeftWeight=t,a.borderRightWeight=t);break;case"lineHeight":if("Text"===n&&"string"==typeof t){let e=function(e){if("number"==typeof e)return{units:"PIXELS",value:e};if("auto"===e)return{units:"PERCENT",value:100};let t=parseFloat(e);return isNaN(t)?null:e.match(/.*%\w*/)?{units:"RAW",value:t/100}:e.match(/.*px\w*/)?{units:"PIXELS",value:t}:null}(t??"");e&&(a.lineHeight=e)}break;case"horizontalAlignText":"Text"===n&&"string"==typeof t&&("left"===t&&(a.textAlignHorizontal="LEFT"),"center"===t&&(a.textAlignHorizontal="CENTER"),"right"===t&&(a.textAlignHorizontal="RIGHT"),"justify"===t&&(a.textAlignHorizontal="JUSTIFIED"));break;case"verticalAlignText":"Text"===n&&"string"==typeof t&&("top"===t&&(a.textAlignVertical="TOP"),"center"===t&&(a.textAlignVertical="CENTER"),"bottom"===t&&(a.textAlignVertical="BOTTOM"));break;case"fill":"string"==typeof t&&mX(t)&&(a.fillPaints={data:[{type:"SOLID",color:{...(0,mY._0)(t),a:1},visible:!0,opacity:1,blendMode:"NORMAL"}],blobs:[]});break;case"stroke":"Text"!==n&&"string"==typeof t&&mX(t)&&(a.strokePaints={data:[{type:"SOLID",color:{...(0,mY._0)(t),a:1},visible:!0,opacity:1,blendMode:"NORMAL"}],blobs:[]});break;case"direction":break;case"verticalAlignItems":"AutoLayout"===n&&"VERTICAL"===a.stackMode&&("start"===t?a.stackPrimaryAlignItems="MIN":"center"===t?a.stackPrimaryAlignItems="CENTER":"end"===t&&(a.stackPrimaryAlignItems="MAX")),"AutoLayout"===n&&"HORIZONTAL"===a.stackMode&&("start"===t?a.stackCounterAlignItems="MIN":"center"===t?a.stackCounterAlignItems="CENTER":"end"===t?a.stackCounterAlignItems="MAX":"baseline"===t&&(a.stackCounterAlignItems="BASELINE"));break;case"horizontalAlignItems":"AutoLayout"===n&&"HORIZONTAL"===a.stackMode&&("start"===t?a.stackPrimaryAlignItems="MIN":"center"===t?a.stackPrimaryAlignItems="CENTER":"end"===t&&(a.stackPrimaryAlignItems="MAX")),"AutoLayout"===n&&"VERTICAL"===a.stackMode&&("start"===t?a.stackCounterAlignItems="MIN":"center"===t?a.stackCounterAlignItems="CENTER":"end"===t&&(a.stackCounterAlignItems="MAX"));break;case"wrap":"AutoLayout"===n&&"HORIZONTAL"===a.stackMode&&(a.stackWrap=t?"WRAP":"NO_WRAP");break;default:(0,w.xi)("applyToNode","Unhandled property",{k:e,v:t,type:a.type})}}catch(n){(0,w.xi)("applyToNode","Error setting property",{k:e,v:t,error:n,type:a.type})}}}(e,a)}}},[e,t,a,i,r]),resetMakeChanges:(0,n.useCallback)(()=>{t.current=(0,op.g)()},[t]),instrumentationRef:i}}({clientLifecycleId:a}),[E,y]=n.useState(0),[v,b]=n.useState(Error((0,_.t)("first_draft.something_went_wrong"))),[k,x]=n.useState(null),[T,N]=mS.tU.useTabs({prompt:!0,theme:!0},{defaultActive:"theme",recordingKey:a3.Pt(e,"tabs")});m8(2===E||3===E||4===E);let[S,I]=n.useState(m4.m.COLOR),A=n.useRef(1),L=n.useRef(null);(0,n.useEffect)(()=>{L.current=i},[i]);let[O,M]=n.useState(Date.now()),P=(0,r.wA)(),R=n.useCallback(()=>{A.current+=1,h.current.trackFinished("stopped"),po(t,"stopped"),y(0)},[y,t,A,h]),D=n.useCallback(async()=>{g();let e=A.current,n={file_key:c,clientLifecycleId:a,generation_id:p?.firstDraftData?.generationId};try{if(h.current.start(),y(1),x(null),M(Date.now()),!p)throw Error("Root node not found");let r=p&&p.getSharedPluginData(dH.SV,"userPrompt")||"",i=pi(p),s="LOCAL"===i.type;Object.assign(n,{dsKitType:i.type,isLocal:"LOCAL"===i.type,kitKey:"LOCAL"===i.type?l.XJn.getKitKey(i.pageId):i.key}),(0,J.sx)("First Draft: Make Changes Started",{...n,hasNonRootNodeSelected:!(p.guid in m)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),(0,aC.Dl)(t);let[{jsxStr:c},{jsxStr:d}]=await Promise.all([mM({[p.guid]:!0},!1),mM({[p.guid]:!0},!0)]);if(!c||!d){(0,J.sx)("First Draft: Make Changes Ended",{...n,timeElapsedMs:Date.now()-O,status:"failed",reason:"infer-jsx-failed",hasNonRootNodeSelected:!(p.guid in m)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),po(t,"error"),y(2);return}let u=L.current||"",_=function(e){if(!(0,o.kc)().first_draft_prompt_history||!(0,o.kc)().first_draft_make_changes_history)return[];let t=(0,mR.Q_)();if(!t)return[];let a=`${mD}${e}`,n=t.getItem(a);if(!n)return[];try{return sW.array(mP.Db).parse(JSON.parse(n))}catch{}return[]}(p.guid),g=function(e){let t=(0,uT.uP)(e,{ignoreOpacity:!0}),a=mH((0,dD.X6)(e)??tJ.UE,t.colors),n=up(e)??dR.lH.LIGHT;return{...(0,uT.rO)(e,t),version:2,brandColor:a,darkMode:"dark"===n}}(p),E="LOCAL"===i.type?i.pageId:i.key,v=await sK.Ay.design.firstDraftMakeChanges({userPrompt:u,promptHistory:_,storedInitialPrompt:r,kitKey:E,isLocal:s,currentTheme:g,jsx:c,jsxInsertReplace:d},(0,dQ.Lp)({clientLifecycleId:a}));_.push({prompt:u}),function(e,t){let a=(0,mR.Q_)();if(!a)return;let n=`${mD}${e}`;a.setItem(n,JSON.stringify(t))}(p.guid,_);let b=v.getReader(),k=[];for(;;){let{done:a,value:l}=await b.read();if(e!==A.current){b.cancel();break}if(h.current.trackFirstByteReceived(),a&&h.current.trackLastStreamByteReceived(),(0,w.Lo)("makeChanges","Response message",{message:l}),l?.trace&&x(l.trace),l?.action){if("replaceClasses"===l.action.type){(0,w.xi)("makeChanges","Unsupported action",{action:l.action.type}),(0,uR.Rh)("first_draft.client.make_changes.unsupported_action",{action:l.action.type}),k.push(Promise.reject(new dK.G1("make_changes_unsupported",{})));continue}(0,J.sx)("First Draft: Make Changes Prompt Action",{...n,action:l.action.type},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),k.push(f(l.action,{dsKitKey:i,rootNodeId:p.guid,currentTheme:g,imageArgs:{initialUserPrompt:r}}))}if(a){let e=await Promise.allSettled(k);if(!k.length)throw(0,w.xi)("makeChanges","No actions were applied from the prompt response"),(0,uR.Rh)("first_draft.client.make_changes.no_actions_applied"),new dK.G1("make_changes_unsupported",{});if(e.every(e=>"rejected"===e.status)){for(let t of e)if("rejected"===t.status)throw t.reason}(0,J.sx)("First Draft: Make Changes Ended",{...n,status:"completed",timeElapsedMs:Date.now()-O,hasNonRootNodeSelected:!(p.guid in m)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),po(t,"success"),h.current.trackFinished("success"),y(2),C.Y5.triggerAction("commit");break}}}catch(l){(0,w.xi)("makeChanges","Error",{error:l});let e=l instanceof dK.G1,a={...n,timeElapsedMs:Date.now()-O,error:l.toString(),status:"failed",reason:"error"},r=e?"handled_internally":(0,w.$D)(nM.FigmaTeam.AI_GENERATION,l,{extra:a});(0,J.sx)("First Draft: Make Changes Ended",{...a,sentryEventId:r},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),po(t,"error"),h.current.trackFinished("failure"),e&&("make_changes_unsupported"===l.type||"make_changes_moderated"===l.type)?((0,J.sx)("First Draft: Make Changes Prompt Action",{...n,action:"make_changes_unsupported"===l.type?"iCantDoThis":"blocked"},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),y(4)):y(3),b(l instanceof Error?l:Error("Unknown error"))}finally{e===A.current&&(A.current+=1)}},[c,a,A,h,p,m,t,O,f,g]),F=()=>{y(0),(0,mQ.k)()},B=k&&(0,o.kc)().cortex_execution_tracing;switch(E){case 1:return n.createElement(dS.F,{onStop:R,aiTrackingContext:t,recordingKey:a3.Pt(e,"running")},(0,_.tx)("first_draft.making_changes"));case 3:return B&&m7(P,k),n.createElement(dx.E,{error:v,customMessage:(0,_.t)("first_draft.something_went_wrong"),recordingKey:a3.Pt(e,"error"),buttons:[{type:dx.f.GO_BACK,callback:F}],aiTrackingContext:t});case 4:return B&&m7(P,k),n.createElement(dx.E,{error:v,customMessage:(e=>{let t=(0,_.t)("first_draft.make_changes.i_cant_do_this");if(e instanceof dK.G1){if("make_changes_moderated"===e.type)return(0,_.t)("ai.error.unsafe_or_harmful");if(!(0,o.kc)().first_draft_make_changes_errors)return t;if("make_changes_unsupported"===e.type&&e.data?.rationaleCategory){let t=e.data.rationaleCategory;switch(t){case"component":return(0,_.t)("first_draft.make_changes.i_cant_do_this_component");case"font":return(0,_.t)("first_draft.make_changes.i_cant_do_this_font");case"layout":return(0,_.t)("first_draft.make_changes.i_cant_do_this_layout");case"other":break;default:return(0,om.assertNever)(t)}}}return t})(v),recordingKey:a3.Pt(e,"unsupported"),buttons:[{type:dx.f.GO_BACK,callback:F}],aiTrackingContext:t});case 2:let U=[];return(0,rR.KK)()&&!(0,o.kc)().first_draft_use_gemini&&((0,o.kc)().first_draft_make_changes_undo&&U.push({type:dN.i.UNDO_MAKE_CHANGES,callback:()=>{y(0),C.Y5.triggerAction("undo"),(0,mQ.k)()}}),U.push({type:dN.i.MAKE_CHANGES,callback:F})),B&&m7(P,k),n.createElement(dN.O,{recordingKey:a3.Pt(e,"iterate"),iterateOptions:U,aiTrackingContext:{...t,iteration_view_type:aw.$J.SUCCESS_WITH_ITERATION},stayOpen:!0});case 0:return n.createElement(pl,{promptValue:i,setPromptValue:s,rootNode:p,activeThemeTab:S,setActiveThemeTab:I,tabManager:N,tabPropsMap:T,handleSubmit:D,recordingKey:e.recordingKey,onBack:e.onBack,aiTrackingContext:t});default:(0,om.assertNever)(E)}}function pl({promptValue:e,setPromptValue:t,rootNode:a,activeThemeTab:r,setActiveThemeTab:l,tabManager:i,tabPropsMap:s,handleSubmit:c,recordingKey:d,onBack:u,aiTrackingContext:m}){let p=m.clientLifecycleId,[f,g]=n.useState(m5(1)[0].prompt),[h,E]=n.useState(m5(3)),[y,v]=n.useState(pa(a?.guid??"")),b=n.useRef((0,ug.$L)(a)),w=n.useRef((0,ug.uq)(a)),k=n.useRef(y.radius),x=n.useRef(y.spacing);(0,n.useEffect)(()=>{b.current=(0,ug.$L)(a),w.current=(0,ug.uq)(a);let e=pa(a?.guid??"");k.current=e.radius,x.current=e.spacing},[a]);let{close:T}=(0,sl.cq)(),N=(0,j.tS)(),S=n.useMemo(()=>{let e,t;let n={file_key:N,clientLifecycleId:p,generation_id:a?.firstDraftData?.generationId};return a&&(t="LOCAL"===(e=pi(a)).type?e.pageId:e.key),Object.assign(n,{dsKitType:null!=e?e.type:null,kitKey:t}),n},[a,N,p]),I=y.colorMode,A=y.brandColor,L=y.displayBrandColor,O=y.radius,M=y.spacing,P=y.titleFonts,R=y.bodyFonts,D=y.labelFonts,F=(0,mI.ei)(a?.guid),B=(0,mL.k9)(()=>F,[F]);n.useEffect(()=>{let e=pa(a?.guid??"");v(t=>(0,mN.areClose)((0,mU.oB)(t.brandColor).h,(0,mU.oB)(e.brandColor).h,.01)?{...e,displayBrandColor:t.brandColor}:e)},[B,a?.guid]);let U=(0,mA.A)(e=>{(0,J.sx)("First Draft: Make Changes Color Change",{...S,color:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},5e3),G=n.useCallback(e=>{e!==I&&(ru.l7.user("first-draft-switch-color-mode",()=>{u_(a,e,(0,tJ.F_)(y.brandColor))}),U(I),C.Y5.triggerAction("commit"),v({...y,colorMode:e}))},[y,a,I,U]),H=n.useMemo(()=>(function(e){let t={};if(!e)return t;let a=[e];for(;a.length>0;){let e=a.pop();if(e){if(e.fills.length>0){let a=(0,dD.gU)(e.fills);if(a){let n=(0,mU.oB)(a);t[e.guid]={s:n.s,l:n.l}}}else if(e.strokePaints.data.length>0){let a=(0,dD.gU)(e.strokePaints.data);if(a){let n=(0,mU.oB)(a);t[e.guid]={s:n.s,l:n.l}}}"childrenNodes"in e&&a.push(...e.childrenNodes)}}return t})(a),[a]),V=n.useRef(null),K=n.useRef(null),z=n.useCallback((e,t)=>{if(K.current)V.current=[e,K.current];else{K.current=e;let n=(0,tJ.F_)(t);ru.l7.user("first-draft-apply-brand-color",()=>{mV(a,e,I,H,n)}),v({...y,brandColor:e,displayBrandColor:e}),setTimeout(()=>{if(K.current=null,V.current){let[e,t]=V.current;V.current=null,z(e,t)}},30)}},[a,I,H,y]),W=n.useCallback(e=>{U((0,tJ.F_)(e)),z({...(0,dD.qO)(e,I),a:1},A)},[U,I,z,A]),q=(0,mA.A)(e=>{(0,J.sx)("First Draft: Make Changes Radius Change",{...S,radius:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),Y=(0,mA.A)(e=>{q(e),(0,ug.oP)(b.current,e,k.current)},100),X=n.useCallback((e,t)=>{t.commit&&C.Y5.triggerAction("commit"),e!==O&&(Y(e),v({...y,radius:e}))},[O,y,Y]),Z=(0,mA.A)(e=>{(0,J.sx)("First Draft: Make Changes Spacing Change",{...S,spacing:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),Q=(0,mA.A)(e=>{Z(e),(0,ug.HS)(w.current,e,x.current)},100),$=n.useCallback((e,t)=>{t.commit&&C.Y5.triggerAction("commit"),e!==M&&(Q(e),v({...y,spacing:e}))},[M,y,Q]),ee=(0,mA.A)((e,t)=>{(0,J.sx)("First Draft: Make Changes Font Change",{...S,font_location:e,font_type:t},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),et=n.useCallback(e=>0===e.length?null:e[0].family,[]),ea=n.useCallback(async e=>{await mB(dM.lu.TITLE,e,P),ee("title",e),C.Y5.triggerAction("commit"),a?.guid&&v(pa(a.guid))},[P,ee,a?.guid]),en=n.useCallback(async e=>{await mB(dM.lu.BODY,e,y.bodyFonts),ee("body",e),C.Y5.triggerAction("commit"),a?.guid&&v(pa(a.guid))},[y.bodyFonts,ee,a?.guid]),er=n.useCallback(async e=>{await mB(dM.lu.LABEL,e,y.labelFonts),ee("label",e),C.Y5.triggerAction("commit"),a?.guid&&v(pa(a.guid))},[y.labelFonts,ee,a?.guid]),el=(0,n.useCallback)(e=>{(0,aC.SX)({...m,...(0,aC.Q0)(e),interaction:aw.NI.GENERATE}),c()},[m,c]),ei=n.createElement(cN.r,{shortcuts:[{key:l_.Uz.ENTER,modifier:[l_.xH.META]}],onAction:el,disabled:!a||0===e.length,recordingKey:a3.Pt(d,"submit")},(0,_.tx)("first_draft.make_changes")),eo=n.createElement(cN.r,{shortcuts:[{key:l_.Uz.ENTER,modifier:[l_.xH.META]}],onAction:T,recordingKey:a3.Pt(d,"doneTheming")},(0,_.tx)("first_draft.done_theming"));return n.createElement(n.Fragment,null,n.createElement(sw.B,{fullWidth:!0,align:"center",justify:"space-between",gap:0},"theme"===i.activeTab&&n.createElement(dP.qn,{section:r,colorMode:I,onChangeColorMode:G,brandColor:L,onChangeColor:W,cornerRadiusStop:O,onChangeCornerRadiusStop:X,spacingStop:M,onChangeSpacingStop:$,titleFont:et(P),onChangeTitleFont:ea,bodyFont:et(R),onChangeBodyFont:en,labelFont:et(D),onChangeLabelFont:er,recordingKey:a3.Pt(d,"themeEditorDrawer"),onBack:u})),n.createElement("div",{className:tg()(tv.cx.p8.relative.$,"theme"===i.activeTab&&"first_draft_make_changes_view--contentBoxed--L-H0e",r&&tv.cx.elevation500.radiusLarge.$),"data-testid":"readyForPromptView"},n.createElement(mS.tU.TabPanel,{...s.prompt},n.createElement(mZ.X,{value:e,onChange:t,onBack:u,recordingKey:a3.Pt(d,"prompt"),suggestion:f,suggestionPills:(0,o.kc)().first_draft_new_prompt_pills?h:void 0})),n.createElement(mS.tU.TabPanel,{...s.theme},n.createElement(dP.JP,{activeTab:r,onTabChange:l,brandColor:L,cornerRadiusStop:O,spacingStop:M,titleFont:et(P),bodyFont:et(R),labelFont:et(D),recordingKey:a3.Pt(d,"themeEditor")})),n.createElement(sw.B,{fullWidth:!0,justify:"space-between"},n.createElement(mS.tU.TabStrip,{manager:i},n.createElement(mS.tU.Tab,{...s.theme},(0,_.tx)("first_draft.style")),n.createElement(mS.tU.Tab,{...s.prompt},n.createElement("span",{"data-testid":"promptTabLabel"},(0,_.tx)("first_draft.prompt")))),"prompt"===i.activeTab?ei:eo)))}function pi(e){let t=e.firstDraftData;if(t){if(t.kit.type===l.AZ4.LOCAL)return{type:"LOCAL",pageId:l.XJn.getPageIdFromKitKey(t.kit.key)??""};if(t.kit.type===l.AZ4.LIBRARY)return{type:"LIBRARY",key:t.kit.key}}return JSON.parse(e.getSharedPluginData(dH.SV,"dsKitKey"))}function po(e,t){switch(t){case"success":(0,aC.as)({...e,status:aw.dM.COMPLETED,reason:aw.F9.SUCCESS});break;case"error":(0,aC.as)({...e,status:aw.dM.FAILED,reason:aw.F9.ERROR});break;case"stopped":(0,aC.as)({...e,status:aw.dM.FAILED,reason:aw.F9.STOPPED})}}var ps=a(755020),pc=a(284538);let pd=`
You are an expert component creator in Figma. You take a design for a website or mobile app screen (contained in a frame), and break that frame down into reusable "building block" components. These building block components will be used by another AI tool to create variations of this screen and other different screens.

You are given a screenshot of a new screen design, and the code representation of that screen design. Here is the Figma JSX for the screen design:

\`\`\`jsx
{{jsx}}
\`\`\`

Given the submitted image of the screen, you will do the following tasks:
- Identify the different building block components used in the screen design. Suggest names for these building block components.
- Identify the node IDs in the JSX above that should be replaced with instances of those components. Return the IDs along with the new component name in a key-value pair.
- Determine whether the design is for a mobile app/site or for a desktop app/site.

Guidelines:
- You cannot assign more than one component name to a given node ID.
- You may assign the same component name to multiple node IDs (for example, repeated elements in a list).
- Make sure to suggest building block components for all areas of the screen, including headers and footers if necessary.
- Every immediate child node of the parent AutoLayout node must have a building block suggestion. You may want to suggest building block components for groups of other building blocks.
- Focus on the high-level parts of the design only. You should ignore small nested elements like buttons, icons, and images.

Return in the following JSON format:
\`\`\`json
{
  isMobileDesign: bool,
  components: {
    // Node ID to component name mapping
    [id: string]: string
  }
}
\`\``;function pu(){let[e,t]=n.useState({loaded:0,total:0});return{submit:n.useCallback(async e=>{let a=e.filter(e=>"FRAME"===e.type&&!e.isStateGroup),n=(0,pc.tA)(dJ.vh),r=(0,pc.tA)(dQ.C),i=(0,pc.tA)("Atoms");for(let e of(t({loaded:0,total:a.length}),a)){t(e=>({loaded:e.loaded+1,total:e.total}));let a=await pp(e);a&&ru.l7.user("componentize",()=>{!function(e,t,a,n,r){let i=tW.q.instance;if(!i.getCurrentPage())return;let o=(0,pc.NY)(a),s=(0,pc.NY)(r),c={x:o.right()+pc.CN,y:pc.CN},d={x:s.right()+pc.CN,y:pc.CN},u={};for(let o in t.components){let s=t.components[o],m=i.get(u[o]??o);if(!m||"FRAME"!==m.type||((0,pc.MR)(m,n),!m.isAlive()))continue;let p=l.XJn.findSimilarNodes(m.guid,a.guid,!1,!0,!0).concat(l.XJn.findSimilarNodes(m.guid,r.guid,!1,!0,!0)),_=p[0]?i.get(p[0]):null;!_&&(((_=i.createComponentFromNode(m.clone())).name=s,!t.isMobileDesign||function(e,t,a=.1){return Math.abs(e-t)<a}(m.size.x,e.size.x-e.stackLeftPadding-e.stackLeftPadding))?(a.appendChild(_),_.relativeTransform={..._.relativeTransform,m02:c.x,m12:c.y},c.y+=_.size.y+pc.FL):(r.appendChild(_),_.relativeTransform={..._.relativeTransform,m02:d.x,m12:d.y},d.y+=_.size.y+pc.FL));let f=(0,pc.w8)(m,_);if(f)for(let[e,a]of f?.entries()){let n=i.get(a),r=n?.overrideKey;r&&t.components[e]&&(u[e]=r)}}(0,pc.Vl)(a,n,r)}(e,a,n,r,i)})}return C.Y5.commit(),{}},[]),progress:e}}let pm=sW.object({isMobileDesign:sW.boolean(),components:sW.record(sW.string())});async function pp(e){let t=await (0,dH.gC)(e),a=pd.replace("{{jsx}}",t.jsx);return function(e){if(!e)throw Error("No content detected in GPT response");let t=e.match(/```json\n([\s\S]*?)```/g);if(!t?.length)return;let a=JSON.parse(t[0].replace(/```json\n|```/g,""));return pm.parse(a)}((await sK.Ay.openai.completeChat({model:"gpt-4o-2024-05-13",temperature:.5,n:1,messages:[{role:"system",content:a},{role:"user",content:[{type:"image_url",image_url:{url:t.base64}}]}],use_cache:!1})).choices[0].message.content)}var p_=a(582626),pf=a(560776),pg=(e=>(e[e.COMPONENTIZE=0]="COMPONENTIZE",e[e.ADD_PROPS=1]="ADD_PROPS",e[e.LINT=2]="LINT",e[e.ALL=3]="ALL",e))(pg||{}),ph=(e=>(e.INITIAL="initial",e.COMPONENTIZE="componentize",e.ADD_PROPS="add_props",e.LINT="lint",e.ALL="all",e))(ph||{});function pE(e){return e.filter(e=>"FRAME"===e.type).length}function py(e){let[t,a]=n.useState("initial"),r=[{step:0,title:(0,_.t)("first_draft.make_kit.componentize_step.title"),description:(0,_.t)("first_draft.make_kit.componentize_step.description")},{step:1,title:(0,_.t)("first_draft.make_kit.add_props_step.title"),description:(0,_.t)("first_draft.make_kit.add_props_step.description")},{step:2,title:(0,_.t)("first_draft.make_kit.lint_step.title"),description:(0,_.t)("first_draft.make_kit.lint_step.description")},{step:3,title:(0,_.t)("first_draft.make_kit.all_steps.title"),description:(0,_.t)("first_draft.make_kit.all_steps.description")}],l=(0,n.useCallback)(e=>{switch(e){case 0:a("componentize");break;case 1:a("add_props");break;case 2:a("lint");break;case 3:a("all")}},[]);switch(t){case"initial":return n.createElement(sk.n,{hideActionPanel:!0},n.createElement(sk.n.Header,null,n.createElement("div",{className:tv.cx.wFull.flex.flexColumn.p8.$},n.createElement("div",{className:tv.cx.wFull.flex.gap4.$},n.createElement("div",{className:tv.cx.h24.$},n.createElement(sh.K,{recordingKey:a3.Pt(e.recordingKey,"backButton"),onClick:e.onBack,"aria-label":(0,_.t)("qa.go_back")},n.createElement(ps.C,null))),n.createElement("div",{className:tv.cx.font11.fontSemiBold.$},(0,_.tx)("fullscreen_actions.quick_actions.first-draft-make-kit"))),n.createElement("div",{className:tv.cx.wFull.flex.font11.$},(0,_.tx)("first_draft.make_kit.description")))),n.createElement(sk.n.Body,null,n.createElement(pf.B,{resultCount:r.length,maxVisibleResults:r.length},r.map((e,t)=>n.createElement(pf.B.Item,{key:t,primaryAction:{onAction:()=>{l(e.step)}}},n.createElement("div",{className:tv.cx.flex.flexColumn.p4.wFull.$},n.createElement("div",{className:tv.cx.font11.fontSemiBold.wFitContent.$},e.title),n.createElement("div",{className:tv.cx.font11.colorTextSecondary.wFitContent.$},e.description)))))));case"componentize":return n.createElement(pb,null);case"add_props":return n.createElement(pw,null);case"lint":return n.createElement(mT.S,{autoFix:!0});case"all":return n.createElement(pk,null)}}let pv=async({params:{submit:e,selectedNodes:t}})=>{await e(t)};function pb(e){let{submit:t,progress:a}=pu(),{start:r,state:l}=(0,ab.RL)(av.JT.FIRST_DRAFT_COMPONENTIZE,pv),i=(0,n.useCallback)(async()=>{let e=tW.q.instance.getCurrentPage();if(!e)return;let a=e.directlySelectedNodes;0!==a.length&&await r({selectedNodes:a,submit:t})},[r,t]),o=e.overrides?.state??l,s=e.overrides?.progress??a;switch(o){case ab.qy.INITIAL:return n.createElement(dT.A,{action:av.JT.FIRST_DRAFT_COMPONENTIZE,actionLabel:(0,_.tx)("first_draft.make_kit.componentize_step.title"),actionIcon:n.createElement(sU.K,null),onPerform:e.overrides?.perform??i,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:void 0,getCustomSelectedNodesAmount:pE},(0,_.tx)("first_draft.make_kit.componentize_step.instructions"));case ab.qy.RUNNING:return n.createElement(dS.F,{recordingKey:a3.Pt(e.recordingKey,"componentizeRunning"),aiTrackingContext:void 0,secondaryMessage:s.total?(0,_.t)("first_draft.make_kit.x_of_y_frames",{loaded:s.loaded,total:s.total}):void 0},(0,_.tx)("first_draft.make_kit.componentize_step.running"));case ab.qy.DONE:return n.createElement(dN.O,{iterateOptions:[{type:dN.i.UNDO,callback:u.lQ}],aiTrackingContext:void 0});case ab.qy.CANCELLED:case ab.qy.ERROR:return null;default:(0,om.assertNever)(o)}}let pC=async({params:{submit:e,selectedNodes:t}})=>{await e(t)};function pw(e){let{submit:t,progress:a}=(0,p_.iK)(),{start:r,state:l}=(0,ab.RL)(av.JT.FIRST_DRAFT_SUGGEST_PROPS,pC),i=(0,n.useCallback)(async()=>{let e=tW.q.instance.getCurrentPage();if(!e)return;let a=e.directlySelectedNodes;0!==a.length&&await r({selectedNodes:a,submit:t})},[r,t]),o=e.overrides?.state??l,s=e.overrides?.progress??a;switch(o){case ab.qy.INITIAL:return n.createElement(dT.A,{action:av.JT.FIRST_DRAFT_SUGGEST_PROPS,actionLabel:(0,_.tx)("first_draft.make_kit.add_props_step.add_props_button"),actionIcon:n.createElement(sU.K,null),onPerform:i,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:void 0},(0,_.tx)("first_draft.make_kit.add_props_step.instructions"));case ab.qy.RUNNING:return n.createElement(dS.F,{recordingKey:a3.Pt(e.recordingKey,"suggestPropsRunning"),aiTrackingContext:void 0,secondaryMessage:s.total?(0,_.t)("first_draft.make_kit.x_of_y_components",{loaded:s.loaded,total:s.total}):void 0},(0,_.tx)("first_draft.make_kit.add_props_step.running"));case ab.qy.DONE:return n.createElement(dN.O,{iterateOptions:[{type:dN.i.UNDO,callback:u.lQ}],aiTrackingContext:void 0});case ab.qy.CANCELLED:case ab.qy.ERROR:return null;default:(0,om.assertNever)(o)}}function pk(e){let{submit:t,progress:a}=pu(),{start:r,state:l}=(0,ab.RL)(av.JT.FIRST_DRAFT_COMPONENTIZE,pv),{submit:i,progress:o}=(0,p_.iK)(),{start:s,state:c}=(0,ab.RL)(av.JT.FIRST_DRAFT_SUGGEST_PROPS,pC),d=(0,n.useCallback)(async()=>{let e=tW.q.instance.getCurrentPage();if(!e)return;let a=e.directlySelectedNodes;0!==a.length&&(await r({selectedNodes:a,submit:t}),await s({submit:i}))},[r,t,s,i]);switch(l){case ab.qy.INITIAL:case ab.qy.RUNNING:case ab.qy.CANCELLED:case ab.qy.ERROR:return n.createElement(pb,{overrides:{state:l,progress:a,perform:d}});case ab.qy.DONE:switch(c){case ab.qy.INITIAL:case ab.qy.RUNNING:case ab.qy.CANCELLED:case ab.qy.ERROR:return n.createElement(pw,{overrides:{state:c,progress:o}});case ab.qy.DONE:return n.createElement(mT.S,{autoFix:!0});default:(0,om.assertNever)(c)}default:(0,om.assertNever)(l)}}class px{constructor(e=1){this.queue=[],this.queue=[],this.concurrencyLimit=e,this.activeCount=0}postTask(e,t){return new Promise((a,n)=>{let r=async()=>{try{a(await e())}catch(e){n(e)}};this.queue.push([r,t]),this.doNextTask()})}async doNextTask(){if(0===this.queue.length||this.activeCount>=this.concurrencyLimit)return;let e=this.queue.shift();if(!e)return;let[t,a]=e;this.activeCount++;try{await scheduler.postTask(t,a)}catch(e){throw e}finally{this.activeCount--,this.doNextTask()}}}var pT=a(438773),pN=a(343090);function pS({promptValue:e,setPromptValue:t,handleSubmit:a,promptHistory:r,kitOptionDropdownItems:l,selectedKitOption:i,setSelectedKitOption:o,kitsAreLoaded:s,recordingKey:c,aiTrackingContext:d}){let[u,m]=n.useState(m2(4)),[p,f]=n.useState(!1),g=(0,n.useCallback)(e=>{(0,aC.SX)({...d,interaction:aw.NI.SELECT_KIT,interaction_type:aw.bp.BUTTON_CLICK});let t=!dj()(e,i);if(f(t),t){let t;"KIT"===e.type&&(t=e.kit.name),m(m2(4,t))}o(e)},[d,i,o]),h=(0,n.useCallback)(e=>{(0,aC.SX)({...d,...(0,aC.Q0)(e),interaction:aw.NI.GENERATE}),a()},[d,a]);return n.createElement("div",{className:tv.cx.p8.borderBox.$,"data-testid":"readyForPromptView"},n.createElement(mZ.X,{value:e,onChange:t,suggestion:u[0].prompt,suggestionPills:u.slice(1),promptHistory:r,recordingKey:a3.Pt(c,"generate"),featureNameForInstrumentation:"first_draft",refocusToInput:p}),n.createElement(sw.B,{fullWidth:!0,justify:"space-between"},n.createElement(mw,{recordingKey:c,items:l,kitsAreLoaded:s,selectedKitOption:i,setSelectedKitOption:g}),n.createElement(cN.r,{shortcuts:[{key:l_.Uz.ENTER,modifier:[l_.xH.META]}],onAction:h,recordingKey:a3.Pt(c,"generate"),disabled:0===e.length},(0,_.tx)("first_draft.generate"))))}var pI=a(723325);function pA({designSystemKits:e,onKitOptionSelected:t,recordingKey:a,onBackButton:r}){let[l,i]=n.useState(""),o=n.useRef(null),[s,c]=n.useState(null);n.useEffect(()=>{o.current?.focus()},[o]);let d=(s||e).length;return n.createElement(so.s3,{name:"firstDraftKitPicker",recordingKey:"firstDraftKitPicker"},n.createElement(pI.dP,null,n.createElement("div",{className:tv.cx.flex.flexColumn.$,style:{height:360},"data-testid":"kitSelectionListContainer"},n.createElement("div",{className:tg()("first_draft_prompt_view_v2--navContainer--KnLbP",b.Dm)},n.createElement("div",{className:tv.cx.h24.$},n.createElement(sh.K,{recordingKey:a3.Pt(a,"backButton"),onClick:r,"aria-label":(0,_.t)("qa.go_back")},n.createElement(ps.C,null))),n.createElement("input",{ref:o,className:tg()("first_draft_prompt_view_v2--searchInput--uGLWt",b.Dm),placeholder:"Choose a library",onChange:t=>{!function(t){if(i(t),0===t.length)c(null);else{let a=t.toLowerCase();c(e.filter(e=>e.name.toLowerCase().includes(a)))}}(t.target.value)},value:l,maxLength:100,spellCheck:!1,dir:"auto","aria-autocomplete":"list"}),n.createElement(rB.W,null)),n.createElement("div",{className:tv.cx.p8.relative.flex.flexGrow1.$,"data-testid":"kitSelectionListView"},n.createElement(pf.B,{primary:!0,resultCount:d},(s||e).map((e,r)=>n.createElement(pf.B.Item,{key:r,primaryAction:{text:"Perform",shortcuts:[{key:l_.Uz.ENTER}],onAction:()=>t(e)},actionLabel:!1,recordingKey:a3.Pt(a,e.name,"list-item")},n.createElement("div",{className:tv.cx.p4.gap8.flexRow.flex.itemsCenter.$},n.createElement("div",{className:"first_draft_prompt_view_v2--fileThumbnail--2dbT0",style:{backgroundImage:`url(${e.thumbnailUrl})`}}),n.createElement("div",{className:"first_draft_prompt_view_v2--kitDisplayInformation--KwucJ utilities--bodyMedium--7-YGK"},n.createElement("div",null,function(e){switch(e.dsKitKey.type){case"LOCAL":return e.name;case"LIBRARY":if(e.metadata.identifier)return(0,_.t)(`first_draft.kits.${e.metadata.identifier}`);return e.name;default:return(0,om.assertNever)(e.dsKitKey)}}(e)),n.createElement("div",{className:"first_draft_prompt_view_v2--componentCountText--puK7t"},(0,_.tx)("first_draft.kits.components_count",{count:e.numComponents})))))))))))}function pL({promptValue:e,setPromptValue:t,selectedKit:a,setSelectedKit:r,handleSubmit:l,promptHistory:i,recordingKey:o,aiTrackingContext:s,allUsableKitEntries:c}){let[d,u]=n.useState(!1),{pop:m}=(0,sl.cq)(),[p,f]=n.useState(m2(4)),[g,h]=n.useState(!1),E=(0,n.useCallback)(e=>{u(!1),r(e),(0,aC.SX)({...s,interaction:aw.NI.SELECT_KIT,interaction_type:aw.bp.BUTTON_CLICK});let t=!dj()(e,a);h(t),t&&f(m2(4,e.name))},[s,a,r]),y=(0,n.useCallback)(e=>{(0,aC.SX)({...s,...(0,aC.Q0)(e),interaction:aw.NI.GENERATE}),l()},[s,l]);return!a||d?n.createElement(pA,{recordingKey:o,designSystemKits:c,onKitOptionSelected:E,onBackButton:d?()=>u(!1):m}):n.createElement("div",{className:tv.cx.p8.borderBox.$,"data-testid":"readyForPromptView"},n.createElement(mZ.X,{value:e,onChange:t,suggestion:p[0].prompt,suggestionPills:p.slice(1),promptHistory:i,recordingKey:a3.Pt(o,"generate"),featureNameForInstrumentation:"first_draft",refocusToInput:g,topNavContent:n.createElement("div",{className:"first_draft_prompt_view_v2--libraryButtonContainer--P-Bye"},n.createElement(lm.$n,{"aria-label":a.name,iconPrefix:n.createElement(mE.i,{style:{marginLeft:2,marginRight:4}}),onClick:()=>u(!0),recordingKey:a3.Pt(o,"changeKit"),variant:"secondary"},a?.name))}),n.createElement(sw.B,{fullWidth:!0,justify:"end"},n.createElement(cN.r,{shortcuts:[{key:l_.Uz.ENTER,modifier:[l_.xH.META]}],onAction:y,recordingKey:a3.Pt(o,"generate"),disabled:0===e.length},(0,_.tx)("first_draft.generate"))))}var pO=a(821597),pM=a(420586);function pP({options:e,onSelect:t}){let[a,r]=n.useState(),l=n.useCallback((e,n)=>{t(e,{ev:n,prevOption:a}),r(e)},[t,a]);return n.createElement(pM._,null,n.createElement(pO.t,null),n.createElement(cS.x,{columns:6,gap:13.9,padding:0},e.map((e,t)=>n.createElement(pR,{key:t,column:t,presetOption:e,onSelect:l}))))}function pR({column:e,presetOption:t,onSelect:a}){let r={onAction:e=>a(t,e)};return n.createElement(cS.x.Item,{recordingKey:`previewTileItem-${e}`,focusAction:r,primaryAction:r},n.createElement(cS.x.GridItemHighlight,null,n.createElement("div",{className:tv.cx.colorBgSecondary.b1.colorBorder.wFull.flex.alignCenter.justifyCenter.$,style:{aspectRatio:"1/1",height:"56px",overflow:"hidden",borderRadius:"8px",alignItems:"flex-start"}},n.createElement("img",{alt:"Preview of generation",src:t.dataURI,className:tv.cx.maxWFull.$,draggable:!1}))))}let pD=(0,D.E3)("draft_prompt_history",[]),pF=async({params:{selectedKitOption:e,selectedKit:t,promptValue:a,submitPrompt:n,shouldContinueStreamRef:r},abortController:i})=>{let o=t;o||="KIT"===e.type?e.kit:null,i.signal.addEventListener("abort",()=>{r.current=!1});let s=await n(a,{designSystem:o},{shouldGenerateImages:!0});if(s.error)throw i.abort(),l.XJn.clearFDScene(),s.error;if(s?.success&&!s?.nodeId)throw Error((0,_.t)("first_draft.no_design_generated"));return{result:s}};function pB({recordingKey:e}){let t=(0,ab.RL)(av.JT.FIRST_DRAFT,pF),{start:a,stop:i,state:s,aiTrackingContext:c}=t,d=c.clientLifecycleId,u=(0,eC.eY)(),m=(0,j.tS)(),p=(0,o.kc)().first_draft_relaunch,[f,g]=n.useState(""),[h,E]=n.useState([]),y=n.useRef(!0),v=n.useRef(null),b=n.useRef(null),C=n.useRef(new px(1)),[k,x]=n.useState(new Set),T=n.useRef({}),{kitsAreLoaded:N,kitOptionDropdownItems:S,allUsableKitEntries:I,selectedKit:A,setSelectedKit:L,selectedKitOption:O,setSelectedKitOption:M}=mC(),{close:P}=(0,sl.cq)(),{promptHistory:D,addPromptToHistory:F}=(0,pT.a)(pD,e=>e),[B,U]=(0,n.useState)(!1),[G,H]=(0,n.useState)(!1),V=(0,r.wA)();m8(s===ab.qy.DONE||s===ab.qy.ERROR),n.useEffect(()=>()=>{l.XJn.clearFDScene()},[]);let{submitPrompt:K,executionTrace:z,imageProgress:W}=uX({shouldContinueStream:n.useCallback(()=>y.current,[y]),onInsertJSXDone:n.useCallback(async(e,t,a,n)=>{e&&a&&((0,dL.xF)(e),E(await (0,um.xk)(a,e,n,t)))},[]),clientLifecycleId:d}),q=n.useCallback(async()=>{if(s===ab.qy.RUNNING){(0,w.xi)("first-draft","handleSubmit called while already running");return}if(!O){(0,w.xi)("first-draft","handleSubmit called without a selected kit");return}F(f);let e=await a({selectedKitOption:O,selectedKit:p?A:null,promptValue:f,submitPrompt:K,shouldContinueStreamRef:y});e?.result?.nodeId&&(v.current=e.result.nodeId),H(!1)},[s,O,a,f,K,y,F,p,A]),Y=n.useCallback(()=>{i(),P()},[P,i]),X=(0,n.useCallback)(async(e,t)=>{void 0!==t.prevOption&&e!==t.prevOption&&(0,aC.hm)({...c,...(0,aC.zQ)(t.ev),iteration_view_type:aw.$J.SUCCESS_WITH_ITERATION,interaction:aw.sd.GALLERY_SELECT,status:aw.o2.COMPLETED,value:e.modeId||"null"}),t.ev.target?.item&&(T.current[t.ev.target.index]=t.ev.target.item),await C.current.postTask(()=>{if(v.current&&(b.current?.modeId??null)!==e.modeId){let t=(0,um.DP)(e,v.current,k),a=u.get(t),n=a?.firstDraftData,r=n?.kit?.type??null;(0,J.sx)("First Draft: Multiple Options Selected",{preset_name:e.modeId,clientLifecycleId:d,isLocal:r===l.AZ4.LOCAL||null,dsKitType:null!==r?r===l.AZ4.LOCAL?"LOCAL":"LIBRARY":null,kitKey:n?.kit?.key??null,file_key:m},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),x(new Set([v.current,...k])),v.current=t,b.current=e}},{})},[c,k,d,u,m]),Z=(0,R.Fk)((e,t)=>{for(let a of t)if(a){let t=e.get(a);if(t)return Object.values(t.explicitVariableModes())[0]??null}},[v.current,...k]);n.useEffect(()=>{if(b.current&&void 0!==Z&&b.current.modeId!==Z){let e=h.findIndex(e=>e.modeId===Z);T.current[e]&&(b.current=h[e],T.current[e].fauxFocus())}},[Z,h]);let Q=()=>0===h.length?null:n.createElement(pP,{options:h,onSelect:X}),$=z&&(0,o.kc)().cortex_execution_tracing,ee=p?pL:pS;switch(s){case ab.qy.INITIAL:return n.createElement(ee,{promptValue:f,setPromptValue:g,handleSubmit:q,promptHistory:D,kitOptionDropdownItems:S,allUsableKitEntries:I,selectedKit:A,setSelectedKit:L,selectedKitOption:O,setSelectedKitOption:M,kitsAreLoaded:N,recordingKey:e,aiTrackingContext:c});case ab.qy.RUNNING:return n.createElement(dS.F,{recordingKey:a3.Pt(e,"running"),onStop:Y,aiTrackingContext:c,secondaryMessage:W.total&&W.loaded?(0,_.t)("first_draft.x_of_y_images",{loaded:W.loaded,total:W.total}):void 0},(0,_.tx)("first_draft.running"));case ab.qy.DONE:{let a=t.result;if(B)return n.createElement(pn,{initialRootGuid:a.result?.nodeId});if(G)return n.createElement(ee,{promptValue:f,setPromptValue:g,handleSubmit:q,promptHistory:D,kitOptionDropdownItems:S,selectedKit:A,setSelectedKit:L,selectedKitOption:O,setSelectedKitOption:M,kitsAreLoaded:N,recordingKey:e,aiTrackingContext:c,allUsableKitEntries:I});let r=[];return(0,o.kc)().first_draft_debug&&r.push({type:dN.i.EDIT_PROMPT_FD,callback:()=>{l.XJn.clearFDScene(),H(!0)}}),(0,rR.KK)()&&!(0,o.kc)().first_draft_use_gemini&&r.push({type:dN.i.MAKE_CHANGES,callback:()=>{l.XJn.clearFDScene(),U(!0)}}),$&&m7(V,z),n.createElement(dN.O,{content:(()=>{let e=[],t=Q();return(t&&e.push(t),0===e.length)?null:n.createElement(ia.Y,{direction:"vertical",spacing:8},e)})(),iterateOptions:r,recordingKey:a3.Pt(e,"iterate"),aiTrackingContext:{...c,iteration_view_type:aw.$J.SUCCESS_WITH_ITERATION},stayOpen:!0})}case ab.qy.ERROR:{let{error:a}=t;return $&&m7(V,z),n.createElement(dx.E,{error:a,recordingKey:a3.Pt(e,"error"),buttons:[{type:dx.f.OK,callback:P}],aiTrackingContext:c})}case ab.qy.CANCELLED:return null;default:(0,om.assertNever)(s)}}var pU=a(233387),pG=a(601902),pH=a(678206),pV=a(119081);let pK=[{callback:u.lQ,action:av.JT.TRANSLATE_TEXT,flags:pz(["edit","design"]),featureFlags:["qa_v2","qa_text_features"],tags:[sM.$.AI],quickAction:{beforeModuleOpen:()=>{(0,ab.B3)(av.JT.TRANSLATE_TEXT)},alwaysEnabled:!0,module:{name:H.Sn.TRANSLATE,module:n.createElement(function(){let e=[{key:"language",name:(0,_.t)("ai_text_tools.translate.language"),allowFreeform:!1}],t=[{name:"Arabic",label:(0,_.t)("ai_text_tools.translate.language.arabic")},{name:"Chinese (Simplified)",label:(0,_.t)("ai_text_tools.translate.language.chinese_simplified")},{name:"Chinese (Traditional)",label:(0,_.t)("ai_text_tools.translate.language.chinese_traditional")},{name:"Dutch",label:(0,_.t)("ai_text_tools.translate.language.dutch")},{name:"English (United Kingdom)",label:(0,_.t)("ai_text_tools.translate.language.english_uk")},{name:"English (United States)",label:(0,_.t)("ai_text_tools.translate.language.english_us")},{name:"Tagalog",label:(0,_.t)("ai_text_tools.translate.language.tagalog")},{name:"French",label:(0,_.t)("ai_text_tools.translate.language.french")},{name:"German",label:(0,_.t)("ai_text_tools.translate.language.german")},{name:"Hindi",label:(0,_.t)("ai_text_tools.translate.language.hindi")},{name:"Indonesian",label:(0,_.t)("ai_text_tools.translate.language.indonesian")},{name:"Italian",label:(0,_.t)("ai_text_tools.translate.language.italian")},{name:"Japanese",label:(0,_.t)("ai_text_tools.translate.language.japanese")},{name:"Korean",label:(0,_.t)("ai_text_tools.translate.language.korean")},{name:"Malay",label:(0,_.t)("ai_text_tools.translate.language.malay")},{name:"Polish",label:(0,_.t)("ai_text_tools.translate.language.polish")},{name:"Portuguese (Brazil)",label:(0,_.t)("ai_text_tools.translate.language.portuguese_brazil")},{name:"Portuguese (Portugal)",label:(0,_.t)("ai_text_tools.translate.language.portuguese_portugal")},{name:"Russian",label:(0,_.t)("ai_text_tools.translate.language.russian")},{name:"Spanish (Latin America)",label:(0,_.t)("ai_text_tools.translate.language.spanish_latin_america")},{name:"Spanish (Spain)",label:(0,_.t)("ai_text_tools.translate.language.spanish_spain")},{name:"Swedish",label:(0,_.t)("ai_text_tools.translate.language.swedish")},{name:"Tamil",label:(0,_.t)("ai_text_tools.translate.language.tamil")},{name:"Thai",label:(0,_.t)("ai_text_tools.translate.language.thai")},{name:"Turkish",label:(0,_.t)("ai_text_tools.translate.language.turkish")},{name:"Ukrainian",label:(0,_.t)("ai_text_tools.translate.language.ukrainian")},{name:"Urdu",label:(0,_.t)("ai_text_tools.translate.language.urdu")},{name:"Vietnamese",label:(0,_.t)("ai_text_tools.translate.language.vietnamese")}],a=e=>e&&"parameters"===e.command&&e.parameters?{language:e.parameters.language.name}:null,l=(0,_.t)("ai_text_tools.translate.running"),i=n.useRef(null),{onRun:o,resetText:s,cancel:c,longRunningAction:d,lastRun:m}=(0,dI.Hd)({makeCortexRequest:({texts:e,parameters:t,authInfo:a})=>sK.Ay.shared.adjustText({texts:e,action:{type:"TRANSLATE",language:t.language},jsonMode:e.length>1},a),featureType:av.JT.TRANSLATE_TEXT}),{state:p,aiTrackingContext:f,tasks:g}=d,{close:h}=(0,sl.cq)(),E=(0,r.d4)(e=>(0,W.Yh)(e.mirror.appModel,av.JT.TRANSLATE_TEXT)),[y,v]=n.useState(E),b=g.length,C=g.filter(e=>e.state===ab.z8.FAILED).length;switch(p){case ab.qy.RUNNING:return n.createElement(dS.F,{onCancel:()=>{c(),h()},aiTrackingContext:f},l);case ab.qy.INITIAL:if(!y||!E)return n.createElement(dT.A,{action:av.JT.TRANSLATE_TEXT,actionLabel:(0,_.tx)("fullscreen_actions.quick_actions.translate-text"),actionIcon:n.createElement(dt,null),onPerform:()=>v(!0),getCustomDisabledTextFromSelectedNodes:e=>(0,dI.bu)(e,{}),aiTrackingContext:f,instructionAction:{type:"learn_more",url:av.Xi}},(0,_.tx)("ai_text_tools.selection_instruction"));return n.createElement(dA.ch,{parameters:e,actionLabel:!1,displayName:"",parameterOnly:!0,terminate:u.lQ,hideOnRun:!1,handler:{triggerParameterInputEvent:({currentSearchQuery:e,onSuggestions:a})=>{let n=e.toLowerCase();a({type:"SUGGESTIONS",suggestions:t.filter(e=>e.name.toLowerCase().includes(n)).map(e=>({name:e.label}))})},triggerRunEvent:e=>{let t=a(e);t&&(o(t),i.current=t)}},triggeredFrom:"quick-actions"});case ab.qy.ERROR:let w;let{error:k}=d,x=null,T=[{type:dx.f.TRY_AGAIN,callback:()=>{if(i.current)o(i.current);else throw new dI.ay("Last parameters is null")}}];return k instanceof dI.Vz&&(w=(0,_.tx)("ai_text_tools.content_length_exceeded"),T=[]),k instanceof dI.Jd&&(w=(0,_.tx)("ai_text_tools.missing_fonts"),T=[]),b>0&&C>0&&C<b&&(x=(0,_.tx)("ai_text_tools.translate.couldnt_count",{failed:C,total:b})),(0,dE.sZ)(k)===dE.BQ.CONTENT_LENGTH_LIMIT&&(w=(0,_.tx)("ai_text_tools.content_length_exceeded")),n.createElement(dx.E,{buttons:T,error:d.error,aiTrackingContext:f,customMessage:w,secondaryMessage:x});case ab.qy.DONE:return n.createElement(dN.O,{iterateOptions:[{type:dN.i.UNDO,callback:()=>{s(),h()}}],recordingKey:"translateText",aiTrackingContext:{...f,iteration_view_type:aw.$J.DEFAULT_SUCCESS},targets:m?m.targets.map(e=>e.node.guid):[]});case ab.qy.CANCELLED:return null;default:(0,om.assertNever)(p)}},null)}},iconType:n.createElement(dt,null),searchSynonyms:["change language"]},{callback:u.lQ,action:av.JT.REWRITE_TEXT,flags:pz(["edit","design"]),featureFlags:["qa_v2","qa_text_features"],quickAction:{beforeModuleOpen:()=>{(0,ab.B3)(av.JT.REWRITE_TEXT)},module:{name:H.Sn.REWRITE,module:n.createElement(dk.w,null)},alwaysEnabled:!0},iconType:n.createElement(da.T,null),tags:[sM.$.AI],searchSynonyms:["revise this","modify this","adjust tone"]},{callback:()=>{(0,ab.B3)(av.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,ab.Ag)(av.JT.SLIDES_GENERATE_SPEAKER_NOTES,dC,{})},action:av.JT.SLIDES_GENERATE_SPEAKER_NOTES,flags:pz(),featureFlags:["qa_v2","figjam_ai_piper_speaker_notes"],iconType:n.createElement(function(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18.015 5.44 17.7 6.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L19.3 8.3l1.26-.315c.505-.126.505-.844 0-.97L19.3 6.7l-.315-1.26c-.126-.505-.844-.505-.97 0M8.5 10a.5.5 0 1 0 0 1h7a.5.5 0 0 0 0-1zM8 13.5a.5.5 0 0 1 .5-.5h5a.5.5 0 1 1 0 1h-5a.5.5 0 0 1-.5-.5M14.5 7a.5.5 0 0 1 0 1h-7A1.5 1.5 0 0 0 6 9.5v6A1.5 1.5 0 0 0 7.5 17h9a1.5 1.5 0 0 0 1.5-1.5v-4a.5.5 0 1 1 1 0v4a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 5 15.5v-6A2.5 2.5 0 0 1 7.5 7z",clipRule:"evenodd"}))},null),tags:[sM.$.AI],searchSynonyms:["presenter notes","speaker notes","notes","generate presenter notes","generate speaker notes","generate notes"]},{callback:()=>(0,rV.mD)(sC.D.dispatch,{source:"quick_actions",toggle:!0}),action:av.JT.SLIDES_REWRITE_TEXT,flags:pz(),featureFlags:["qa_v2","figjam_ai_piper_text_manipulation","slides_10_launch_tone_dial_update"],iconType:n.createElement(dn.s,null),tags:[sM.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:u.lQ,action:av.JT.SHORTEN_TEXT,flags:pz(["edit","design"]),featureFlags:["qa_v2","qa_text_features"],quickAction:{module:{name:H.Sn.SHORTEN,module:n.createElement(function(){let[e,t]=n.useState(!1),{longRunningAction:a,lastParameters:l,onRun:i,cancel:o,lastRun:s}=(0,dI.Hd)({makeCortexRequest:({texts:e,authInfo:t})=>sK.Ay.shared.adjustText({texts:e,action:{type:"SHORTEN"},jsonMode:e.length>1},t),featureType:av.JT.SHORTEN_TEXT}),{state:c,aiTrackingContext:d,tasks:u}=a,m=(0,r.d4)(e=>(0,W.Yh)(e.mirror.appModel,av.JT.SHORTEN_TEXT)),[p]=n.useState(m);(0,n.useEffect)(()=>{!e&&p&&(t(!0),i(null))},[e,i,m,p]);let f=u.length,g=u.filter(e=>e.state===ab.z8.FAILED).length;switch(c){case ab.qy.INITIAL:return n.createElement(dT.A,{action:av.JT.SHORTEN_TEXT,actionIcon:n.createElement(dr,null),actionLabel:(0,_.tx)("fullscreen_actions.quick_actions.shorten-text"),onPerform:()=>{t(!0),i(null)},aiTrackingContext:d,getCustomDisabledTextFromSelectedNodes:e=>(0,dI.bu)(e,{onlyAllowSingular:!0,instruction:(0,_.tx)("ai_text_tools.select_text_singular")}),instructionAction:{type:"learn_more",url:av.sH}},(0,_.tx)("ai_text_tools.select_text_singular"));case ab.qy.RUNNING:return n.createElement(dS.F,{onCancel:()=>{o(),close()},aiTrackingContext:d},(0,_.tx)("ai_text_tools.shorten.running"));case ab.qy.ERROR:let h;let{error:E}=a,y=[{type:dx.f.TRY_AGAIN,callback:()=>i(l)}],v=null;return E instanceof dI.Vz&&(h=(0,_.tx)("ai_text_tools.content_length_exceeded"),y=[]),E instanceof dI.Jd&&(h=(0,_.tx)("ai_text_tools.missing_fonts"),y=[]),f>0&&g>0&&g<f&&(v=(0,_.tx)("ai_text_tools.shorten.couldnt_count",{failed:g,total:f})),(0,dE.sZ)(E)===dE.BQ.CONTENT_LENGTH_LIMIT&&(h=(0,_.tx)("ai_text_tools.content_length_exceeded")),n.createElement(dx.E,{buttons:y,error:a.error,aiTrackingContext:d,customMessage:h,secondaryMessage:v});case ab.qy.DONE:return n.createElement(dN.O,{recordingKey:"shortenText",iterateOptions:[{type:dN.i.TRY_AGAIN,callback:()=>{i(l)}}],aiTrackingContext:{...d,iteration_view_type:aw.$J.SUCCESS_WITH_ITERATION},targets:s?s.targets.map(e=>e.node.guid):void 0});case ab.qy.CANCELLED:return null;default:(0,om.assertNever)(c)}},null)},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,ab.B3)(av.JT.SHORTEN_TEXT)}},iconType:n.createElement(dr,null),tags:[sM.$.AI],searchSynonyms:["make concise","condense","reduce","abbreviate","shorter"]},{callback:u.lQ,action:av.JT.FIRST_DRAFT,flags:["edit","design"],featureFlags:["qa_v2"],quickAction:{module:{module:n.createElement(function(){let e=(0,j.tS)(),{aiTrackingContext:t}=(0,ab.wj)(av.JT.FIRST_DRAFT),a=t.clientLifecycleId,r=n.useCallback(()=>{(0,J.sx)("First Draft: Error",{file_key:e,clientLifecycleId:a,view:"firstDraftGenerate"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[a,e]);return n.createElement(p.tH,{boundaryKey:"FirstDraft",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:a,area:nM.FigmaTeam.AI_GENERATION},onError:r},n.createElement(pN.T.Provider,{value:{recordingKey:"firstDraftView"}},n.createElement(pB,{recordingKey:"firstDraftView"})))},null),name:H.Sn.FIRST_DRAFT},beforeModuleOpen:()=>{(0,ab.B3)(av.JT.FIRST_DRAFT)}},iconType:n.createElement(dl,null),tags:[sM.$.AI],displayForQuickCommand:(0,o.kc)().first_draft_native&&(0,o.kc)().first_draft_relaunch?"first-draft-relaunch":void 0,searchSynonyms:["first draft","generate design","create design","let's design"]},{callback:u.lQ,action:av.JT.FIRST_DRAFT_MAKE_CHANGES,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_make_changes","first_draft_make_changes_reopen"],notFeatureFlags:["first_draft_use_gemini"],quickAction:{module:{module:n.createElement(function(){let e=mJ(),[t]=n.useState(e);return n.createElement(pn,{initialRootGuid:t||null})},null),name:H.Sn.FIRST_DRAFT_MAKE_CHANGES}},iconType:n.createElement(dl,null),tags:[sM.$.AI],searchSynonyms:["make changes","adjust design","modify design","edit design"]},{callback:u.lQ,action:av.JT.FIRST_DRAFT_MAKE_KIT,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_link_to_component"],quickAction:{module:{module:n.createElement(function(){let{pop:e}=(0,sl.cq)();return n.createElement(p.tH,{boundaryKey:"FirstDraftMakeKitView",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:nM.FigmaTeam.AI_GENERATION}},n.createElement(py,{recordingKey:"firstDraftMakeKitView",onBack:e}))},null),name:H.Sn.FIRST_DRAFT_MAKE_KIT},beforeModuleOpen:()=>{(0,ab.B3)(av.JT.FIRST_DRAFT_MAKE_KIT),(0,ab.B3)(av.JT.FIRST_DRAFT_COMPONENTIZE),(0,ab.B3)(av.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:n.createElement(dl,null),tags:[sM.$.AI],searchSynonyms:["make kit","create kit","generate kit","design kit"]},{callback:u.lQ,action:av.JT.FIRST_DRAFT_LINTING,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_publish_ux"],quickAction:{module:{module:n.createElement(mT.S,null),name:H.Sn.FIRST_DRAFT_LINT}},tags:[sM.$.AI]},{callback:u.lQ,action:av.JT.FIRST_DRAFT_DEBUG,flags:["edit","design"],featureFlags:["qa_v2","first_draft_native","first_draft_debug"],quickAction:{module:{module:n.createElement(function(){let{kitsAreLoaded:e,kitOptionDropdownItems:t,selectedKitOption:a,setSelectedKitOption:r}=mC(!0),l=n.useRef((0,op.g)()).current,i=a?.type==="KIT";return n.createElement("div",{className:tv.cx.p8.borderBox.$},n.createElement(mk,{selectedKitOption:a,clientLifecycleId:l}),n.createElement(mc,{selectedKitOption:a,clientLifecycleId:l}),n.createElement(ml,null),i&&n.createElement(mh,{selectedKit:a.kit}),n.createElement(sw.B,{fullWidth:!0,justify:"space-between"},n.createElement(mw,{items:t,kitsAreLoaded:e,selectedKitOption:a,setSelectedKitOption:r})))},null),name:H.Sn.FIRST_DRAFT_DEBUG}},tags:[sM.$.AI]},{name:av.JT.FIND_INSPIRATION,action:av.JT.FIND_INSPIRATION,args:{},tags:[sM.$.AI],flags:pz(["design"]),featureFlags:["qa_v2","asset_suggestions"],callback:u.lQ,quickAction:{module:{module:n.createElement(pU.WS,null),name:H.Sn.VISUAL_SEARCH},beforeModuleOpen:()=>(0,pU.jp)(B.G4.ACTIONS_LIST)},iconType:n.createElement(di.T,null),searchSynonyms:["visual search","image search","selection search","visual lookup","find matching"]},{action:av.JT.REMOVE_BACKGROUND,featureFlags:["qa_v2","eai_image_tools"],tags:[sM.$.AI],flags:pz(["edit","design"]),iconType:n.createElement(ds.$,null),quickAction:{module:{module:n.createElement(pG.A,null),name:H.Sn.BACKGROUND_REMOVE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,ab.B3)(av.JT.REMOVE_BACKGROUND),(0,W.Yh)(sC.D.getState().mirror.appModel,av.JT.REMOVE_BACKGROUND)&&(0,ab.Ag)(av.JT.REMOVE_BACKGROUND,df.JY,{source:"quick-actions"})}},callback:u.lQ,searchSynonyms:["clean up image","clean up picture","make transparent","delete background","erase background","eliminate background","isolate subject"]},{callback:u.lQ,action:av.JT.AUTO_RENAME_LAYERS,featureFlags:["qa_v2","eai_auto_rename_layers"],tags:[sM.$.AI],flags:["edit","design"],iconType:n.createElement(dc._,null),quickAction:{module:{module:n.createElement(rU.A,{source:ap.uQ.QUICK_ACTIONS}),name:H.Sn.RENAME_LAYERS_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,ab.B3)(av.JT.AUTO_RENAME_LAYERS),(0,W.Yh)(sC.D.getState().mirror.appModel,av.JT.AUTO_RENAME_LAYERS)&&(0,ab.Ag)(av.JT.AUTO_RENAME_LAYERS,ap.Ay,{source:ap.uQ.QUICK_ACTIONS,overwriteNames:!1})}},searchSynonyms:["rename all layers","name layers"]},{callback:u.lQ,action:av.JT.GENERATE_IMAGE,featureFlags:["qa_v2","eai_generate_image"],tags:[sM.$.AI],flags:pz(["edit","design"]),iconType:n.createElement(dd.T,null),quickAction:{module:{module:n.createElement(pH.A,null),name:H.Sn.GENERATE_IMAGE},beforeModuleOpen:()=>{(0,ab.B3)(av.JT.GENERATE_IMAGE)}},searchSynonyms:["generate image","make a picture","generate graphic","generate picture","generate illustration","create image"]},{action:av.JT.MAGIC_LINK,flags:["edit","design"],featureFlags:["qa_v2","prototype_ai_magic_link"],tags:[sM.$.AI],quickAction:{module:{module:n.createElement(pV.p,null),name:H.Sn.MAGIC_LINK},alwaysEnabled:!0,beforeModuleOpen:()=>{sC.D.dispatch((0,d_.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"quick_actions"}})),(0,ab.B3)(av.JT.MAGIC_LINK),(0,W.Yh)(sC.D.getState().mirror.appModel,av.JT.MAGIC_LINK)&&(0,ab.Ag)(av.JT.MAGIC_LINK,dg.e,{})}},iconType:n.createElement(du.B,null),searchSynonyms:["magic link","add prototype links","add prototype connections","connect prototype","add interactions"]},{action:av.JT.CONTENT_FILL,featureFlags:["qa_v2","ce_auto_content"],tags:[sM.$.AI],flags:["edit","design"],iconType:n.createElement(dm.c,null),quickAction:{module:{module:n.createElement(dw.X,null),name:H.Sn.REGENERATE_TEXT_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,ab.B3)(av.JT.CONTENT_FILL),(0,W.Yh)(sC.D.getState().mirror.appModel,av.JT.CONTENT_FILL)&&(0,ab.Ag)(av.JT.CONTENT_FILL,dp.c,{guids:[],numExampleRows:1,source:"ACTIONS_MENU"})}},searchSynonyms:["fill content","content fill","lorem ipsum","rewrite placeholder text","replace duplicates","rewrite duplicates"]},{action:av.JT.ASSISTANT_CHAT,featureFlags:["qa_v2","prt_legacy_v3"],flags:pz(["design"]),tags:[sM.$.AI],iconType:n.createElement(sF.V,null),quickAction:{module:{module:n.createElement(cF,null),name:H.Sn.ASSISTANT_CHAT},beforeModuleOpen:()=>{D.zl.set(s3,{status:s5.Idle,messages:[]})}},searchSynonyms:["chat"]},{action:av.JT.IMAGE_TO_DESIGN,featureFlags:["qa_v2","gen_llava_lamp"],flags:["edit","design"],tags:[sM.$.AI],iconType:n.createElement(sF.V,null),quickAction:{module:{module:n.createElement(function(){return n.createElement("div",{className:tv.cx.h150.colorBgBrand.$})},null),name:H.Sn.IMAGE_TO_DESIGN}},searchSynonyms:["convert image to design","generate design from image","screenshot to design","picture to design"]}];function pz(e=[]){return(0,o.kc)().piper_actions?[...e,"slides"]:e}function pW(){let e=(0,rP.vh)(),t=(0,rP.LC)();return(0,n.useMemo)(()=>pK.filter(a=>{for(let e of a.featureFlags||[])if(!(0,o.kc)()[e])return!1;return a.action===av.JT.FIND_INSPIRATION?t:e}),[e,t])}var pj=a(266173),pq=a(342691);function pY(e){let{submenuItem:t,path:a}=e,{push:r,close:l}=(0,sl.cq)();if(!t||!t.itemPath||t.submenu&&0===t.submenu.length)return null;let i=(0,sP.TW)(t);return n.createElement(pf.B.Item,{key:i,primaryAction:{onAction:()=>{if(t.submenu){r({name:H.Sn.PLUGIN_SUBMENU_ENTRY,module:n.createElement(pX,{item:t,path:a.concat(i)})},{shouldResetSearchQuery:!0});return}let e=!t.itemParameterArgs;t.callback&&(t.callback(),e&&l())},shortcuts:[{key:l_.Uz.ENTER},{key:l_.Uz.TAB}],hidden:!0},actionLabel:!1},n.createElement("div",{className:tv.cx.flex.justifyBetween.wFull.$},n.createElement("div",{className:tv.cx.ml28.$},i),t.submenu&&n.createElement(pq.a,null)))}function pX(e){let[t,a]=n.useState(""),[r,l]=n.useState([]),{item:i,path:o}=e;if(n.useEffect(()=>{i.submenu&&(l(i.submenu),a(""))},[i]),!i.submenu)return null;let s=n.createElement(pf.B,{resultCount:r.length},r.map(e=>n.createElement(pY,{submenuItem:e,key:e.extensionSearchString||"",path:o}))),c=e=>{a(e),i.submenu&&l(i.submenu.filter(t=>(0,sP.TW)(t).toLowerCase().includes(e.toLowerCase())))},d=o.join(" > ");return n.createElement(sk.n,{height:av.wC},n.createElement(sx.v,{searchQuery:t,onSearchChange:c,onClear:()=>{c("")},placeholder:d}),n.createElement(sk.n.Body,null,s))}var pJ=a(266468),pZ=a(963067),pQ=a(139689);function p$({title:e,subTitle:t,icon:a,onClose:r,dataTestId:l}){return n.createElement("div",{"data-testid":l,className:tv.cx.colorBgBrandTertiary.p8.bRadius8.$},n.createElement("div",{className:tv.cx.flex.gap8.$},a,n.createElement("div",{className:tv.cx.flex.flexColumn.flexGrow1.$},n.createElement("span",{className:"banner--title--gNQoq"},e),n.createElement("span",{className:"banner--subtitle--8K4pM"},t)),r?n.createElement(sh.K,{onClick:r,"aria-label":(0,_.t)("qa.dismiss"),htmlAttributes:{"data-testid":"banner-close-icon"}},n.createElement(pQ.A,{style:{"--color-icon":"var(--color-icon-secondary)"}})):null))}function p0(){let e;let{reason:t,dismissKey:a}=function(){let e=(0,rP.nu)().sort((e,t)=>p1(e)-p1(t)),t={seen_no_ai_org_disabled:(0,ex.f)("seen_no_ai_org_disabled"),seen_no_ai_team_or_org_user:(0,ex.f)("seen_no_ai_team_or_org_user"),seen_no_ai_rolling_out:(0,ex.f)("seen_no_ai_rolling_out")};return(0,n.useMemo)(()=>{for(let a of e){let e=function(e){switch(e){case rP.ze.ROLLING_OUT:return"seen_no_ai_rolling_out";case rP.ze.TEAM_OR_ORG_DISABLED:return"seen_no_ai_org_disabled";case rP.ze.NON_PAID_SEAT:case rP.ze.NO_ORG_OR_TEAM_USER:case rP.ze.ORG_GUEST:return"seen_no_ai_team_or_org_user";case rP.ze.PERSONAL_DRAFT:case null:return null;default:(0,om.assertNever)(e)}}(a);if(!e)return{reason:a};if(!t[e])return{reason:a,dismissKey:e}}return{reason:null}},[e,t])}(),l=(0,r.wA)(),i=(0,pZ.yy)(),o=(0,D.md)(j.Hu),s=(0,_.t)("qa.no_ai.title");switch(t){case null:return null;case rP.ze.PERSONAL_DRAFT:s=(0,_.t)("qa.no_ai.title.personal_draft"),e=(0,_.t)("qa.no_ai.subtitle.personal_draft");break;case rP.ze.TEAM_OR_ORG_DISABLED:s=(0,_.t)("qa.no_ai.title.org_disabled"),e=(0,_.t)("qa.no_ai.subtitle.org_disabled");break;case rP.ze.ROLLING_OUT:s=(0,_.t)("qa.no_ai.title.rolling_out"),e=(0,_.t)("qa.no_ai.subtitle.rolling_out");break;case rP.ze.NON_PAID_SEAT:case rP.ze.NO_ORG_OR_TEAM_USER:case rP.ze.ORG_GUEST:s=(0,_.t)("qa.no_ai.title.not_available_here"),e=(0,_.t)("qa.no_ai.subtitle.team_or_org_user_no_access",{orgOrTeamName:i?.name||o?.name||""});break;default:(0,om.assertNever)(t)}return n.createElement("div",{className:tv.cx.mx8.mb8.$},n.createElement(p$,{title:s,subTitle:e,icon:n.createElement(cE.C,null),dataTestId:"no-ai-banner",onClose:a?()=>l(ep.b({[a]:!0})):void 0}))}function p1(e){switch(e){case rP.ze.ROLLING_OUT:return 0;case rP.ze.PERSONAL_DRAFT:return 1;case rP.ze.NON_PAID_SEAT:case rP.ze.NO_ORG_OR_TEAM_USER:case rP.ze.ORG_GUEST:return 2;case rP.ze.TEAM_OR_ORG_DISABLED:return 3;case null:return 1e3;default:(0,om.assertNever)(e)}}var p2=a(307292),p5=a(752207),p3=a(545941),p4=a(964197),p6=a(641638);function p7(e){let{extension:t,publishedExtension:a,canRequest:n,canRun:r}=e,l=(0,ew.sZ)(),i=(0,p6.RW)(),o=(0,p4.a)(l?.id,t.plugin_id,i.loaded?i.data?.workspaceId:void 0);if((0,rI.bH)(t)&&l&&l.name)return{text:l.name};if((0,rI.ZQ)(t)&&a&&(0,p3.AC)(a))return{text:(0,_.t)("qa.extensions.in_review"),variant:rF.x.BRAND};if((0,rI.ZQ)(t))return{text:(0,_.t)("qa.extensions.development")};if(r);else if(o)return{text:(0,_.t)("qa.extensions.approval_pending")};else if(n)return{text:(0,_.t)("qa.extensions.needs_approval")};return null}function p8({text:e,variant:t}){return n.createElement(rF.E,{variant:t},n.createElement(p5.G,{text:e}))}function p9(e){let{searchQuery:t,fullscreenMenuAction:a}=e,r="";if(a.searchSynonyms&&(r+=`Synonyms: ${a.searchSynonyms.join(", ")}`),!(0,rR.h8)())return null;let{details:l,score:i}=(0,oj.ou)((0,oW.x0)()).debugData(t,(0,ih._)(a).searchItem),o=`Score:${i.toFixed(2)}`;return n.createElement("div",{className:tv.cx.ml8.colorTextSecondary.noWrap.$,"data-tooltip":[l,r].filter(Boolean).join("\n"),"data-tooltip-type":ay.Ib.TEXT,"data-tooltip-max-width":300,"data-testid":"search-debug-info"},o)}var _e=a(111431);let _t=e=>(0,id.Zj)(e)&&!e.hideCheckForQuickCommand,_a=()=>{};function _n(e){return e.tags?.includes(sM.$.AI)}function _r({item:e,searchQuery:t,createCommonMetrics:a}){let{push:l}=(0,sl.cq)(),{addFrecencyUsage:i}=(0,oW.fJ)(),s=(0,id.Dz)(e),c=(0,r.d4)(e=>e.mirror.appModel),d=(0,r.wA)(),{close:m}=(0,sl.cq)(),p=(0,P.J2)((0,tU.UK)().showQuickCommandRankDebug),f=(0,eC.p8)("keyboardShortcuts"),g=(0,n.useCallback)(()=>{m()},[m]),h=(0,sO.A)(g,300);(0,n.useEffect)(()=>()=>{h.cancel()},[h]);let E=(0,p2.r7)(),y=(0,n.useCallback)((e,r)=>{if(h.isPending()&&h.cancel(),e.disabled)return;function o(){(0,o$.kp)(a()),E(e),i(e,t)}let s=!!e.itemParameterArgs,c=(0,sR.YT)(e);if(!(s||c||"enter"===r))return;let m=null;if(e.quickAction){let t={};if(("find-assets-matching"===e.name||"find-community-matching"===e.name)&&(t.shouldResetSearchQuery=!1),e.quickAction.beforeModuleOpen){let t=(0,rD._V)();e.quickAction.beforeModuleOpen(t)}l(e.quickAction.module,t),o();return}if(s)switch(r){case"enter":if(e.runPluginArgs&&!t)m=async()=>{await og.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs})};else if(e.parametersRequired){let t=e.itemParameterArgs;l({name:H.Sn.PLUGIN_PARAMETER_ENTRY,module:n.createElement(pj.r,{onExitParameterEntry:u.lQ,triggeredFrom:"quick-actions",parameters:t.parameters,displayName:t.displayName,parameterOnly:t.parameterOnly,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,command:t.command,initialParameterValues:e.runPluginArgs?.parameterValues,recentlyUsedCommandName:(0,ic.E)(e)})}),o();return}break;case"tab":if(e.itemParameterArgs){let t=e.itemParameterArgs;l({name:H.Sn.PLUGIN_PARAMETER_ENTRY,module:n.createElement(pj.r,{onExitParameterEntry:u.lQ,triggeredFrom:"quick-actions",parameters:t.parameters,displayName:t.displayName,parameterOnly:t.parameterOnly,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,command:t.command,initialParameterValues:e.runPluginArgs?.parameterValues,recentlyUsedCommandName:(0,ic.E)(e)})}),o();return}break;default:(0,om.assertNever)(r)}if(c){l({name:H.Sn.PLUGIN_SUBMENU_ENTRY,module:n.createElement(pX,{item:e,path:[(0,sP.TW)(e)]})}),o();return}e.callback&&!m?m=async()=>{e.callback&&await e.callback((0,id.Dz)(e),e.args,d)}:e.action&&(m=async()=>{if(!e.action)return;let t=_a();if(t)return await t();oK.VU.get(e.action,"quick-actions",e.args)()}),o(),_t(e)&&!(0,oH.PN)()?h():e.keepMenuOpen||g(),m?m().catch(t=>{(0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,t,{extra:{item:e}})}):(0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error("No valid action triggered from quick actions"),{extra:{item:e}})},[i,E,g,h,a,d,l,t]),v=e.shortcutText||(0,W.c1)(f,s),b="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,C=(0,sR.YT)(e),k=(0,nO.cW)(),x=(0,nO.ZT)(),T=(()=>{if(e.itemParameterArgs&&e.runPluginArgs&&!t)return n.createElement(oQ,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return n.createElement(oZ,{itemPath:t})}return e.displayNode?n.createElement(n.Fragment,null,e.displayNode):n.createElement(n.Fragment,null,(0,ic.E)(e))})(),N=_t(e)?(0,id.WJ)(c,e):void 0,S=e.tags?.includes(sM.$.DEV),I=e.tags?.includes(sM.$.ORG),A=(0,ew.sZ)(),L="go-to-page"===e.name?`go-to-page-${e.args?.pageName}`:e.name||e.action;return n.createElement(pf.B.Item,{primaryAction:{text:"Perform",shortcuts:[{key:l_.Uz.ENTER},{key:l_.Uz.TAB}],onAction:({shortcut:t})=>y(e,t?.key===l_.Uz.TAB?"tab":"enter")},actionLabel:!1,recordingKey:L,scrollMargin:"32px 0 16px 0"},n.createElement(pJ._,{checked:N,disabled:e.disabled,displayNode:T,label:(0,ic.E)(e),icon:function(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,rk.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...k,...x}})),t&&!(0,rI.ZQ)(t))?n.createElement(oy.V,{className:tv.cx.colorIcon.w20.h20.m2.bRadius4.$,plugin:t,role:"presentation"}):n.createElement(aa.B,{className:tv.cx.colorIcon.w20.h20.bRadius4.$,svg:_e.A,ariaLabel:`${e.name} icon`,autosize:!0})}if(e.iconType&&"string"==typeof e.iconType){var t;return"external_link"===(t=e.iconType)?n.createElement(aa.B,{svg:o1.A,className:tv.cx.colorIcon.$}):"import"===t?n.createElement(sN.R,null):"plus"===t?n.createElement(sS.e,null):"widget"===t?n.createElement(sA,null):void 0}if(e.iconType&&"string"!=typeof e.iconType)return e.iconType}(e),badge:S?n.createElement("div",{style:er.sx.add({maxWidth:"110px"}).$},n.createElement(p8,{text:(0,_.t)("fullscreen_actions.development")})):A&&I?n.createElement("div",{style:er.sx.add({maxWidth:"110px"}).$},n.createElement(p8,{text:A.name})):p?n.createElement(p9,{searchQuery:t,fullscreenMenuAction:e}):e.isRepairCommand&&(0,o.kc)().internal_only_debug_tools?n.createElement(rF.E,null,"REPAIR"):_n(e)&&e.disabled?n.createElement("div",{"data-tooltip":(0,_.t)("qa.unavailable"),"data-tooltip-type":ay.Ib.TEXT,style:{"--color-icon":"var(--color-icon-disabled)"}},n.createElement(sL.b,null)):void 0,hoverBadges:(()=>{if(_n(e))return[n.createElement(rB.W,{key:"ai"})]})(),keyboardShortcut:v?n.createElement(th.S,{shortcut:v}):b||C?n.createElement(n.Fragment,null,n.createElement("div",{className:tv.cx.colorBgTertiary.bRadius5.font11.h16.fontMedium.flex.itemsCenter.px4.mr8.$},(0,_.tx)("whiteboard.ai_modal.hint_tab")),n.createElement(aa.B,{svg:o0.A,className:tv.cx.colorIcon.$})):void 0,dataTestId:L}))}function _l({setActiveTab:e}){let t=(0,ak.Ev)(),a=(0,D.md)(V.Lk),i=(0,D.md)(V.dd),s=(0,r.d4)(oz.l),c=(0,D.md)(V.Rt),d=(0,n.useRef)(c),m=(0,D.md)(V.Q8),p=(0,n.useDeferredValue)(m);(0,n.useEffect)(()=>{d.current=c},[c]);let f=function(){let e=(0,im.u)(),t=pW(),a=function(){let e=(0,r.d4)(e=>e.mirror.appModel.isReadOnly),t=(0,ip.c)();return(0,n.useMemo)(()=>(0,iu.M)({isReadOnly:e,extensionMenuProps:t,includeDisabled:!0}),[e,t])}(),l=function(){let e=(0,eC.p8)("pagesList"),t=(0,de.bG)({pagesList:e,isComparingChanges:!1});return(0,n.useMemo)(()=>(0,o.kc)().qa_go_to_page?e.map(e=>({name:"go-to-page",args:{pageName:e.name},callback:()=>{t(e.nodeId)},iconType:n.createElement(cY,null),displayNode:n.createElement(n.Fragment,null,(0,_.tx)("fullscreen_actions.quick_actions.go-to-page",{pageName:n.createElement(il.E,{color:"secondary"},e.name)}))})):[],[e,t])}();return(0,n.useMemo)(()=>[...e,...a,{name:"wand-menu",callback:u.lQ,children:t},...l],[e,t,a,l])}(),g=sD(),h=c9(g,f),E=function(e,t,a,i){let s=(0,r.d4)(e=>e.recentlyUsedQuickCommands),c=(0,n0.removeNullish)(s.map(a=>{let n=t.getItem(e,a.displayName);return n&&a.runPluginArgs&&(n.runPluginArgs=a.runPluginArgs),n})).slice(0,3),{items:d}=function(e,t,a){let i=(0,rP.vh)(),o=(0,ol.ZC)(i),s=function(e,t,a){let i=c$(),o=t.map(e),s=function(){let e=(0,q.ks)(),t=j.q5()?.canEdit,a=(0,rP.vh)();return e?"DEV":!1===t?"DESIGN_VIEWER":t&&a?"DESIGN_EDITOR_AI":t&&!a?"DESIGN_EDITOR_NO_AI":"NONE"}(),c=function(e,t){let a=function(){let e=(0,r.d4)(e=>e.mirror?.appModel),t=c$(),{frecencyByAction:a,frecencyByQuery:l}=(0,oW.fJ)(),i=(0,ls.Tv)(),o=(0,c1.CP)();return(0,n.useCallback)((n,r)=>{if(r)return[];let s=n.map(e),c=[],d=(0,oj.ou)({actions:a,queries:l}),u=i.filter(e=>{let t=tW.q.instance.get(e);return t?.isSlide()}).length>0;if(0===i.length||u)return c=[av.JT.FIRST_DRAFT,av.JT.MAGIC_LINK,av.JT.AUTO_RENAME_LAYERS,av.JT.FIND_INSPIRATION,av.JT.CONTENT_FILL,av.JT.SLIDES_GENERATE_SPEAKER_NOTES,av.JT.SLIDES_REWRITE_TEXT,av.JT.REWRITE_TEXT,av.JT.SHORTEN_TEXT,av.JT.TRANSLATE_TEXT,av.JT.GENERATE_IMAGE,av.JT.REMOVE_BACKGROUND],o&&c.push(av.OZ),[...c].map(e=>t(s,e,!0)).filter(e=>!!e).sort((e,t)=>d.sort("",(0,ih._)(e).searchItem,(0,ih._)(t).searchItem));{let n,r;c.push(av.JT.CONTENT_FILL,av.JT.TRANSLATE_TEXT,av.JT.REWRITE_TEXT,av.JT.SHORTEN_TEXT,av.JT.SLIDES_GENERATE_SPEAKER_NOTES,av.JT.SLIDES_REWRITE_TEXT,av.JT.REMOVE_BACKGROUND,av.JT.FIRST_DRAFT_MAKE_CHANGES,av.JT.AUTO_RENAME_LAYERS,av.JT.MAGIC_LINK,av.JT.FIND_INSPIRATION,av.JT.GENERATE_IMAGE,av.JT.FIRST_DRAFT),o&&c.push(av.OZ);let i=[...c].map(e=>t(s,e)).filter(e=>!!e),u=i.sort((e,t)=>d.sort("",(0,ih._)(e).searchItem,(0,ih._)(t).searchItem)),m=Object.values(s).filter(t=>(0,W.Yh)(e,t.name||t.action||"")&&!i.includes(t)&&!t.searchOnly&&!(t.featureFlags&&t.featureFlags.includes("internal_only_debug_tools"))&&(0,c5.y)("",(0,c2.n)(t),{actions:a,queries:l})>0).sort((e,t)=>d.sort("",(0,ih._)(e).searchItem,(0,ih._)(t).searchItem));return m.length<4?(n=8-m.length,r=m.length):u.length<4?(n=u.length,r=8-u.length):(n=4,r=4),[...u.slice(0,n),...m.slice(0,r)]}},[e,t,a,l,i,o])}(),[l]=(0,n.useState)(()=>a(e,""));return l}(t,0),d=function(e,t){let a=!c8();return(0,n.useCallback)(()=>{if(a){let e=[];for(let a of t){if(!a.action||a.disabled)continue;let t=c3.get(a.action);t&&e.push([a.action,t])}return e}let n=[];for(let a of((0,W.Yh)(e,av.JT.FIRST_DRAFT_MAKE_CHANGES)&&n.push([av.JT.FIRST_DRAFT_MAKE_CHANGES,cq.b.SUGGESTIONS]),t))a.action&&!a.disabled&&n.push([a.action,cq.b.SUGGESTIONS]);return n},[e,t,a])}(e,c),u=function(){let e=(0,cj.O1)(),t=(0,eC.p8)("activeCanvasEditModeType"),a=(0,c1.CP)();return(0,n.useCallback)(()=>{if(!e?.length){let e=[["canvas-search-replace",cq.b.SUGGESTIONS],["select-all",cq.b.SUGGESTIONS],["undo",cq.b.SUGGESTIONS],["toggle-rulers",cq.b.COMMON_SETTINGS],["toggle-snapping-to-pixels",cq.b.COMMON_SETTINGS],["toggle-sidebar",cq.b.COMMON_SETTINGS],["toggle-ui",cq.b.COMMON_SETTINGS],["toggle-multiplayer-cursors",cq.b.COMMON_SETTINGS],["show-nudge-amount-picker",cq.b.COMMON_SETTINGS],["open-shortcuts",cq.b.COMMON_SETTINGS],["open-account-settings",cq.b.COMMON_SETTINGS]];return a&&e.push(["copy-to-figma-slides",cq.b.SUGGESTIONS]),e}if(1===e.length){let n=e[0],r=[["add-selection-ready-status",cq.b.SUGGESTIONS],["republish-selected-components",cq.b.SUGGESTIONS],["publish-changes-to-library",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]],i=[["select-matching",cq.b.SUGGESTIONS],["outline-stroke",cq.b.SUGGESTIONS],["mask-selection",cq.b.SUGGESTIONS],["flatten-selection",cq.b.SUGGESTIONS],["unlock-all",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]];if(t===l.m1T.VECTOR)return[["flip-horizontal",cq.b.SUGGESTIONS],["flip-vertical",cq.b.SUGGESTIONS],["align-horizontal-center",cq.b.SUGGESTIONS],["align-vertical-center",cq.b.SUGGESTIONS]];switch(n.type){case"SYMBOL":return r;case"FRAME":if(n.isStateGroup)return r;if(n.isGroup)return i;let o=[["add-selection-ready-status",cq.b.SUGGESTIONS],["select-matching",cq.b.SUGGESTIONS],["stack-selection",cq.b.SUGGESTIONS],["run-multi-stack-auto-layout",cq.b.SUGGESTIONS],["copy-properties",cq.b.SUGGESTIONS],["unlock-all",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS],["replace-selected-frame-with-section",cq.b.SUGGESTIONS]];return a&&o.push(["copy-to-figma-slides",cq.b.SUGGESTIONS]),o;case"INSTANCE":return[["select-matching",cq.b.SUGGESTIONS],["detach-instance",cq.b.SUGGESTIONS],["reset-symbol",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]];case"SLICE":return[["export-selected-exportables",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]];case"WIDGET":return[["select-all-widgets",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]];case"SECTION":return[["add-selection-ready-status",cq.b.SUGGESTIONS],["select-matching",cq.b.SUGGESTIONS],["unlock-all",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS],["replace-selected-section-with-frame",cq.b.SUGGESTIONS]];case"GROUP":return i;case"ELLIPSE":case"BOOLEAN_OPERATION":case"LINE":case"REGULAR_POLYGON":case"RECTANGLE":case"ROUNDED_RECTANGLE":case"STAR":case"VECTOR":return[["select-matching",cq.b.SUGGESTIONS],["flip-horizontal",cq.b.SUGGESTIONS],["mask-selection",cq.b.SUGGESTIONS],["flatten-selection",cq.b.SUGGESTIONS],["copy-properties",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]];case"TEXT":return[["select-matching",cq.b.SUGGESTIONS],["outline-stroke",cq.b.SUGGESTIONS],["select-all-text",cq.b.SUGGESTIONS],["flatten-selection",cq.b.SUGGESTIONS],["convert-to-raster",cq.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",cq.b.SUGGESTIONS]]}}let n=[["select-matching",cq.b.SUGGESTIONS],["frame-selection",cq.b.SUGGESTIONS],["create-symbol",cq.b.SUGGESTIONS],["create-multiple-symbols",cq.b.SUGGESTIONS],["toggle-locked-for-selected-nodes",cq.b.SUGGESTIONS],["export-selected-exportables",cq.b.SUGGESTIONS],["align-horizontal-center",cq.b.SUGGESTIONS],["align-vertical-center",cq.b.SUGGESTIONS]];return a&&n.push(["copy-to-figma-slides",cq.b.SUGGESTIONS]),n},[e,a,t])}(),m=(0,n.useCallback)((e,t)=>{let a=i(o,e,!0);if(a)return{...a,category:t}},[i,o]),p=a.map(e=>({...e,category:cq.b.RECENTS})).filter(t=>void 0===t.action||(0,W.Yh)(e,t.action)),_=(0,n.useCallback)(e=>{let t=e.map(([e,t])=>m(e,t));return sV()((0,n0.removeNullish)([...p,...t]),ic.E)},[p,m]),f=c8(),g=(0,n.useMemo)(()=>{if(f&&!["DESIGN_EDITOR_NO_AI","DESIGN_EDITOR_AI","DEV"].includes(s)){var e;let t=(e=cq.b.SUGGESTIONS,c.map(t=>({...t,category:e})));return sV()((0,n0.removeNullish)([...p,...t]),ic.E)}switch(s){case"DESIGN_EDITOR_AI":return _(d());case"DEV":return _(c4);case"DESIGN_VIEWER":return _(c6);case"DESIGN_EDITOR_NO_AI":return _(u());case"NONE":return[];default:(0,om.assertNever)(s)}},[f,s,c,p,_,d,u]);return{suggestionMode:s,items:g}}(e,t,a),[c,d]=(0,n.useState)(s);return(0,n.useEffect)(()=>{(i!==o||0===c.items.length&&s.items.length>0||s.suggestionMode!==c.suggestionMode)&&d(s)},[i,o,c.items.length,c.suggestionMode,s]),c}(e,t,c),u=""!==a,m=(0,n.useMemo)(()=>""===a?[]:t.search(e,a).slice(0,25),[e,t,a]),p=function(e,t){let a=(0,ey.my)()===z.nT.Design,l=(0,j.q5)(),i=(0,cW.V)(),s=(0,cp.s)(),c=!!(0,o.kc)().prt_legacy_v3,[d,u]=(0,D.fp)(s3),m=(0,r.d4)(eI.GP);return(0,n.useMemo)(()=>""!==e?[{name:"assistant-chat-query",args:{searchQuery:e},callback:()=>{},displayNode:(0,_.tx)("fullscreen_actions.assistant-chat-query",{query:n.createElement(il.E,{color:"secondary"},e)}),iconType:n.createElement(sF.V,null),quickAction:{module:{module:n.createElement(cF,null),name:H.Sn.ASSISTANT_CHAT},beforeModuleOpen:e=>{D.zl.set(s3,{status:s5.Idle,messages:[]}),cd(e.searchQuery,d.messages,u,co)}},disabled:!c},{name:"find-community-matching",args:{searchQuery:e},callback:()=>{},displayNode:(0,_.tx)("fullscreen_actions.quick_actions.find-community-matching",{searchQuery:n.createElement(il.E,{color:"secondary"},e)}),iconType:n.createElement(sB.N,null),quickAction:{module:{module:n.createElement(cm.B$,{initialTab:cu.x.COMMUNITY}),name:H.Sn.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:()=>{l?.key&&(0,B.Hl)({type:"input-text",value:e,file_key:l.key},B.G4.ACTIONS_LIST,void 0,void 0,void 0,!0)}},disabled:!(0,rR.Xk)()},{name:"find-assets-matching",args:{searchQuery:e},callback:()=>{},displayNode:i||(0,rR.Xk)()?(0,_.tx)("fullscreen_actions.quick_actions.find-components-matching",{searchQuery:n.createElement(il.E,{color:"secondary"},e)}):(0,_.tx)("fullscreen_actions.quick_actions.find-assets-matching",{searchQuery:n.createElement(il.E,{color:"secondary"},e)}),iconType:n.createElement(sU.K,null),quickAction:{module:{module:n.createElement(cm.B$,null),name:H.Sn.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:e=>{(0,U.ES)({type:"input-text",query:e.searchQuery,assetTypeOption:{type:sv.I.ALL},isKnownLibrary:s})}},disabled:!a||!l?.canEdit},{name:"find-extensions-matching",args:{searchQuery:e},displayNode:(0,_.tx)("fullscreen_actions.quick_actions.find-extensions-matching",{searchQuery:n.createElement(il.E,{color:"secondary"},e)}),iconType:n.createElement(sG,null),callback:()=>{t.setActiveTab(H.Jc.EXTENSIONS)},keepMenuOpen:!0,disabled:!a||!m}].filter(e=>!e.disabled):[],[e,i,a,l?.canEdit,l?.key,s,t,c,d,u,m])}(a,i);return u?sV()([...m,...p],ic.E):d}(g,h,p,{setActiveTab:e}),y=oY(E),v=E.length,b=function(e){let t=cQ()(cJ()(e,e=>e.category),(e,t)=>({category:Object.values(cq.b).find(e=>t===e)||null,items:e})).sort((e,t)=>c0(e.category)-c0(t.category)),a=[],n=0;for(let{category:e,items:r}of t)a.push({category:e,items:r,globalIdxOfFirstItem:n}),n+=r.length;return a}(E);(0,n.useEffect)(()=>{a===H.Jc.ALL&&i&&t({quickActionsSessionId:i,quickActionsQueryId:d.current,searchQuery:p,numSearchResults:v,currentSelection:s,module:a,moduleFilters:null,qaVersion:ov.$L,searchQueryResults:y})},[t,a,i,p,v,s,y]);let{createMetrics:C}=(0,o$.Sk)();return n.createElement(n.Fragment,null,n.createElement(pf.B,{primary:!0,resultCount:v},n.createElement(p0,null),b.map(({category:e,items:t,globalIdxOfFirstItem:a})=>null!==e&&t.length>0&&b.length>1?n.createElement(pf.B.Section,{key:e,header:function(e){switch(e){case cq.b.RECENTS:return(0,_.t)("qa.category.recents");case cq.b.DESIGN_TOOLS:return(0,_.t)("qa.category.design_tools");case cq.b.RIFFING_AND_WRITING:return(0,_.t)("qa.category.riffing_and_writing");case cq.b.IMAGE_EDITING:return(0,_.t)("qa.category.image_editing");case cq.b.COLLABORATION_TOOLS:return(0,_.t)("qa.category.collaboration_tools");case cq.b.HANDOFF_TOOLS:return(0,_.t)("qa.category.handoff_tools");case cq.b.VIEWER_TOOLS:return(0,_.t)("qa.category.viewer_tools");case cq.b.SUGGESTIONS:return(0,_.t)("qa.category.suggestions");case cq.b.COMMON_SETTINGS:return(0,_.t)("qa.category.common_settings");default:return(0,om.assertNever)(e)}}(e)},t.map((e,t)=>n.createElement(_r,{key:(0,ic.E)(e),item:e,searchQuery:p,createCommonMetrics:()=>({numSearchResults:v,qaVersion:ov.$L,searchQuery:p,searchPosition:a+t,item:e,moduleFilters:null,...C()})}))):t.map((e,t)=>n.createElement(_r,{key:(0,ic.E)(e),item:e,searchQuery:p,createCommonMetrics:()=>({numSearchResults:v,qaVersion:ov.$L,searchQuery:p,searchPosition:a+t,item:e,moduleFilters:null,...C()})})))))}var _i=a(173842),_o=a(28298);function _s({extensionFilter:e,setExtensionFilter:t}){let a=(0,ew.sZ)(),r=(0,pZ.Cb)(),l={label:(0,_.t)("qa.filter.all"),value:H.BY.ALL},i={label:(0,_.t)("qa.filter.plugins"),value:H.BY.PLUGINS},o={label:(0,_.t)("qa.filter.widgets"),value:H.BY.WIDGETS},s={label:(0,_.t)("qa.filter.from_org_name",{org_name:a?.name||""}),value:H.BY.FROM_ORG},c={label:(0,_.t)("qa.filter.development"),value:H.BY.DEVELOPMENT},d=[l,i,o,s,c].find(t=>t.value===e)||l,u=!!a&&!r,m=Q.y3(),p=[{type:"checkableOption",value:l,text:l.label},{type:"checkableOption",value:i,text:i.label},{type:"checkableOption",value:o,text:o.label}];return(u||m)&&p.push({type:"separator"}),u&&p.push({type:"checkableOption",value:s,text:s.label}),m&&p.push({type:"checkableOption",value:c,text:c.label}),n.createElement(sT.c0,{selected:d,placeholder:"Filter",onSelectedChange:e=>{t(e.value)},labelForSelectedItem:e=>e.label,displayAboveTarget:!1,items:p,id:_c,recordingKey:_c})}let _c="extensions-filter-dropdown";var _d=a(877822),_u=a(34762),_m=a(792199),_p=a(357611),__=a(971120),_f=a(395771),_g=a(71425),_h=a(884484),_E=a(170786),_y=a(647922),_v=a(16366),_b=a(341255),_C=a(362745),_w=a(436318),_k=a(520103);function _x({augmentedExtension:e}){let{extension:t,publishedExtension:a}=e;if(!(0,rI.ZQ)(t))return n.createElement(oy.V,{plugin:t,className:tv.cx.colorIcon.w20.h20.m2.bRadius4.$});let r=a&&(0,rk.Ar)(a);return r&&r.redirect_icon_url?n.createElement(oy.V,{plugin:r,className:tv.cx.colorIcon.w20.h20.m2.bRadius4.$}):n.createElement(aa.B,{svg:_e.A,className:tv.cx.colorIcon.w20.h20.m2.bRadius4.$,dataTestId:"qa2-dev-plugin-icon",autosize:!0})}let _T=n.createContext(null);function _N({numResults:e,moduleFilters:t,children:a}){return n.createElement(_T.Provider,{value:{numResults:e,moduleFilters:t}},a)}function _S(){let e=n.useContext(_T),t=(0,D.md)(V.Q8);if(!e)throw Error("useExtensionMetrics must be used within a ExtensionMetricsProvider");return{...e,searchQuery:t}}function _I({children:e,onPrimaryAction:t,onSecondaryAction:a,tertiaryAction:r,setActive:l,augmentedExtensionForLogging:i}){let o=_S();return n.createElement(pf.B.Item,{primaryAction:{shortcuts:[sn.Hz],onAction:e=>{i&&(0,o$.wI)({extensionId:i.extension.plugin_id,searchPosition:e.target?.index??0,numSearchResults:o.numResults,searchQuery:o.searchQuery,moduleFilters:o.moduleFilters}),t(e)}},secondaryAction:{shortcuts:[sn.r7],onAction:a},tertiaryAction:r,setActive:l,actionLabel:!1,recordingKey:"extension-list-item"},e)}var _A=a(841368),_L=a(795621),_O=a(727749),_M=a(986270),_P=a(258237),_R=a(782501),_D=a(331626),_F=a(632788),_B=a(507847);let _U="EXTENSION_OPTIONS_DROPDOWN";function _G(e){let t=(0,a8.Um)();return(0,rI.ZQ)(e)?t?.type===_U&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===e.localFileId:t?.type===_U&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===null}function _H(e){return e.types.has(sn.Ag.RECENT)||e.types.has(sn.Ag.USER_SAVED)||e.types.has(sn.Ag.LOCAL)}function _V({extension:e}){let t=(0,r.wA)(),a=_G(e),l=n.useCallback(n=>{if(a)t(ec.oB());else{let a=n.currentTarget.getBoundingClientRect();t(ec.j7({type:_U,data:{extensionId:e.plugin_id,localFileId:(0,rI.ZQ)(e)?e.localFileId:null,targetRect:a}}))}},[t,a,e]);return n.createElement("div",{className:tv.cx.flex.pl8.$},n.createElement(_L.S.div,{role:"button",tabIndex:0,onClick:e=>{e.stopPropagation(),l(e)},onPointerUp:e=>{e.stopPropagation()},className:tv.cx.bgTransparent.h24.$,"data-testid":"extension-options-button"},n.createElement("div",null,n.createElement(_A.J,null))))}function _K(e){let{augmentedExtension:t}=e,{extension:a,publishedExtension:l,localPublishedExtension:i}=t,s=(0,a8.Um)(),c=(0,rI.ZQ)(a)?a:i,d=(0,_h.NV)(c,l),u=(0,_h.OX)(l),m=(0,_h.x2)(a,l),p=(0,_h.qu)(c),f=function(e){let t=(0,r.wA)(),a=(0,_D.U_)(),l=(0,r.d4)(e=>(0,rc.T9)({authedProfilesById:e.authedProfilesById,userId:e.user?.id}));return(0,n.useCallback)(()=>{let{extension:n,types:r}=e;if(r.has(sn.Ag.LOCAL)&&(0,rI.ZQ)(n)){t(_g.qR(n.localFileId));return}if(r.has(sn.Ag.RECENT)){if(!a)return;t(((0,rI.k0)(n)?_M.Kq:_M.lD)({storeInRecentsKey:a,resourceId:n.plugin_id}))}if(r.has(sn.Ag.USER_SAVED)){let e=(0,rI.k0)(n)?rS.vt.WIDGET:rS.vt.PLUGIN;t((0,_O.s1)({id:n.plugin_id,resourceType:e,communityProfile:l||void 0,source:_O.uR.INSERTS_MODAL}))}},[t,a,e,l])}(t),g=!!((0,rI.ZQ)(a)&&l),h=(0,_h.qi)(g,f),E=(0,_B.rH)(t),y=(0,_h.xZ)(t),v=(0,A.TA)(),b=!!l&&!!v&&((0,_P.Ro)(l,v)||(0,_R.Dd)(l,v)),C=_G(a),k=(0,_k.Ok)({extension:t,preloadImage:C});if(!C)return null;let x=[],T=[],N=!!l;!(0,rI.ZQ)(a)&&(N?(d&&b&&x.push(d),x.push({displayText:(0,_.t)("qa.extensions.view_details"),callback:k}),m&&b&&x.push(m),p&&b&&x.push(p),y&&b&&x.push(y),_H(t)&&!(0,o.kc)().qa_extension_saves?T.push(h):E&&(0,o.kc)().qa_extension_saves&&T.push(E),u&&b&&T.push(u)):(0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error("[Quick Actions] Published extension is missing publishedExtension from Redux state"),{extra:{extensionId:a.plugin_id,isWidget:(0,rI.k0)(a),types:Array.from(t.types).toString()}})),(0,rI.ZQ)(a)&&(d&&x.unshift(d),N&&m&&x.push(m),!a.error&&p&&x.push(p),_H(t)&&!(0,o.kc)().qa_extension_saves?T.push(h):E&&(0,o.kc)().qa_extension_saves&&T.push(E),u&&T.push(u));let S=x.some(Boolean)&&T.some(Boolean)?{displayText:"",separator:!0}:null;return n.createElement(_F.ms,{parentRect:s?.data.targetRect,lean:"left",minWidth:64,items:[...x,S,...T].filter(e=>!!e)})}function _z({augmentedExtension:e,active:t,submenuRef:a}){let{extension:r}=e,l=(0,rI.k0)(r)?n.createElement(il.E,{color:"tertiary",fontSize:11},(0,_.tx)("qa.extensions.widget")):n.createElement(il.E,{color:"tertiary",fontSize:11},(0,_.tx)("qa.extensions.plugin")),i=p7(e);return n.createElement("div",{className:tv.cx.flex.itemsCenter.justifyBetween.wFull.$},n.createElement("div",{className:tv.cx.flex.itemsCenter.$},n.createElement(_x,{augmentedExtension:e}),n.createElement("div",{className:tv.cx.px8.$,style:er.sx.add({maxWidth:i?"205px":"300px"}).$},n.createElement(p5.G,{text:r.name})),n.createElement(_w.lM,{augmentedExtension:e,submenuRef:a}),i&&n.createElement("div",{style:er.sx.add({maxWidth:"110px"}).$},n.createElement(p8,{text:i.text,variant:i.variant}))),n.createElement("div",null,t?n.createElement(_V,{extension:r}):l))}let _W=e=>{(0,_E.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:"",triggeredFrom:"quick-actions"})};function _j({manifestError:e}){return n.createElement("div",{className:tv.cx.alignLeft.font11.lh16.pl32.$},n.createElement(il.E,{color:"danger"},e.displayText))}function _q({extension:e}){return n.createElement(_f.R,{className:tv.cx.font11.alignLeft.colorTextSecondary.lh16.pl32.$,text:e.localFilePath.replace("/manifest.json","")})}function _Y({augmentedExtension:e,submenuRef:t}){let{extension:a}=e,l=(0,r.wA)(),{close:i}=(0,sl.cq)(),o=lr.dR(a.plugin_id,"quick-actions"),s=_G(a),c=(0,p2.Kp)(e),d=(0,_w.q8)(a),u=(0,_w.U4)(a),m=(0,_w.S3)({submenuIsShown:u,extension:a}),p=(0,_v.t)(a,d),_=(0,_h.Pt)(a.error?.type,a),f=n.useCallback(()=>{if(s){l(ec.oB());return}if(_){_.action();return}(0,rI.k0)(a)?ru.l7.user("insert-widget",()=>_W(a)):d&&t?m(t.current):o(),d||c(),p()&&i()},[s,a,d,t,p,l,m,o,c,i,_]),g=(0,_C.T)(e),[h,E]=n.useState(!1);return n.createElement(_I,{onPrimaryAction:f,tertiaryAction:g,setActive:E,augmentedExtensionForLogging:e},n.createElement("div",{className:tv.cx.flex.flexColumn.wFull.$},n.createElement(_z,{augmentedExtension:e,active:h,submenuRef:t}),!_&&n.createElement(_q,{extension:a}),_&&n.createElement(_j,{manifestError:_})),n.createElement(_w.Xq,{augmentedExtension:e}),n.createElement(_K,{augmentedExtension:e}))}function _X({augmentedExtension:e,submenuRef:t}){let{extension:a,canRun:l,canRequest:i}=e,o=(0,r.wA)(),s=_G(a),{onAction:c}=(0,_b.m)({augmentedExtension:e,submenuRef:t}),d=(0,_C.T)(e),[u,m]=n.useState(!1),p=(0,_k.Ok)({extension:e,preloadImage:u});return l||i?n.createElement(_I,{onPrimaryAction:()=>{if(s){o(ec.oB());return}c()},onSecondaryAction:p,tertiaryAction:d,setActive:m,augmentedExtensionForLogging:e},n.createElement(_z,{augmentedExtension:e,active:u,submenuRef:t}),n.createElement(_w.Xq,{augmentedExtension:e}),n.createElement(_K,{augmentedExtension:e})):null}function _J(e){return[{itemKey:"newPlugin",text:(0,_.t)("whiteboard.inserts.plugin_development_options_new_plugin"),svg:sS.e,onAction:()=>{e(eu.Lo()),C.Y5.dispatch((0,eu.to)({type:_y.h,data:{resourceType:rS.bD.PLUGIN}}))}},{itemKey:"newWidget",text:(0,_.t)("whiteboard.inserts.widget_development_options_new_widget"),svg:sS.e,onAction:()=>{e(eu.Lo()),C.Y5.dispatch((0,eu.to)({type:_y.h,data:{resourceType:rS.bD.WIDGET}}))}},{itemKey:"importFromManifest",text:(0,_.t)("whiteboard.inserts.development_options_import"),svg:sN.R,onAction:()=>e((0,_g.JZ)({resourceType:"unknown"}))}]}function _Z({itemKey:e,text:t,svg:a,onAction:r}){let l=_S();return n.createElement(_I,{onPrimaryAction:({target:t})=>{(0,o$.PV)({action:e,isAi:!1,module:H.Jc.EXTENSIONS,qaVersion:ov.$L,rankingAlgorithm:(0,ak.eg)(H.Jc.EXTENSIONS),searchPosition:t?.index??0,isPlugin:!1,numSearchResults:l.numResults,searchQuery:l.searchQuery,moduleFilters:l.moduleFilters}),r()},augmentedExtensionForLogging:null},n.createElement("div",{className:tv.cx.flex.itemsCenter.alignLeft.wFull.justifyBetween.$},n.createElement("div",{className:tv.cx.flex.$},n.createElement(a,null),n.createElement("div",{className:tv.cx.ml8.$},t))))}var _Q=a(67294),_$=a(103567);function _0({extension:e}){let t=(0,_$.R_)(e),a=(0,_$.JB)(e);return n.createElement("div",{className:tv.cx.mx8.mb8.p8.bRadius8.flex.justifyBetween.gap4.colorBgInfo.$,"data-testid":"extension-invite-row"},n.createElement("div",{className:tv.cx.flex.gap8.itemsCenter.font11.lh16.$},n.createElement(_Q.H8,{user:e.creator,size:_Q.Pf.MEDIUM}),n.createElement(_$.e2,{resource:e})),n.createElement("div",{className:tv.cx.flex.gap4.$},n.createElement(lm.$n,{onClick:e=>{e.stopPropagation(),a()},variant:"secondary",htmlAttributes:{"data-testid":"decline-invite-button"}},n.createElement(il.E,{fontSize:11},(0,_.tx)("community.detail_view.decline"))),n.createElement(lm.$n,{onClick:e=>{e.stopPropagation(),t()},htmlAttributes:{"data-testid":"accept-invite-button"}},n.createElement(il.E,{fontSize:11},(0,_.tx)("community.detail_view.accept")))))}function _1({invitedPlugins:e,invitedWidgets:t,selectedFilter:a}){let r=function({invitedPlugins:e,invitedWidgets:t,selectedFilter:a}){switch(a){case H.BY.PLUGINS:return e;case H.BY.WIDGETS:return t;case H.BY.ALL:case H.BY.DEVELOPMENT:return[...e,...t];case H.BY.FROM_ORG:return[];default:(0,om.assertNever)(a)}}({invitedPlugins:e,invitedWidgets:t,selectedFilter:a});return 0===r.length?null:n.createElement("div",{"data-testid":"extension-invite-section",className:tv.cx.flex.flexColumn.$},n.createElement(pf.B.Section,{header:(0,_.t)("community.detail_view.invitations")},r.map(e=>n.createElement(_0,{key:e.id,extension:e}))))}var _2=a(947131),_5=a(958473),_3=a(794412),_4=a(110354);function _6({augmentedExtension:e}){let{extension:t,publishedExtension:a}=e,r=(0,rI.k0)(t)?(0,_.tx)("qa.extensions.widget"):(0,_.tx)("qa.extensions.plugin"),l=a?.unique_run_count??0,i=a?.like_count??0,o=a?n.createElement(_5.o,{publishedExtension:a,showTooltip:!1}):null,s=(0,_5.g)(a);return n.createElement("div",{className:tv.cx.flex.flexColumn.colorTextSecondary.textBodyMedium.$},n.createElement("div",{className:tv.cx.flex.flexRow.$},r,n.createElement(_7,null),n.createElement(aa.B,{svg:_3.A,className:tv.cx.mx2.colorIconSecondary.$}),n.createElement("div",{className:tv.cx.ml2.$},(0,_.t)("qa.extensions.num_users",{numUsers:l,numUsersStr:(0,u4.$M)(l)})),n.createElement(_7,null),n.createElement(aa.B,{svg:_4.A,className:tv.cx.colorIconSecondary.$,style:er.sx.add({margin:"3px"}).$}),n.createElement("div",{className:tv.cx.ml2.$},(0,u4.$M)(i)),s&&n.createElement(_7,null),o))}function _7(){return n.createElement("div",{className:tv.cx.w1.hFull.mx6.$,style:er.sx.add({backgroundColor:"var(--color-border-fs)"}).$,"data-testid":"divider"})}function _8({augmentedExtension:e}){let{extension:t,canRun:a,canRequest:r}=e,{onAction:l}=(0,_b.m)({augmentedExtension:e,submenuRef:null}),i=(0,_C.T)(e),[o,s]=n.useState(!1),c=(0,_k.Ok)({extension:e,preloadImage:o});if(!a&&!r)return null;let d=(0,p3.G8)(t,lN.$J);return n.createElement(_I,{onPrimaryAction:c,onSecondaryAction:l,tertiaryAction:i,augmentedExtensionForLogging:e,setActive:s},n.createElement("div",{className:tv.cx.flex.flexColumn.alignLeft.wFull.$},n.createElement("div",{className:tv.cx.flex.itemsCenter.overflowHidden.$},n.createElement(_x,{augmentedExtension:e}),n.createElement(_9,{augmentedExtension:e})),n.createElement("div",{className:tv.cx.flex.flexColumn.overflowHidden.ml32.$},n.createElement(p5.G,{text:d,className:tv.cx.mb4.colorTextSecondary.textBodyMedium.$,showTooltip:_2.i.NEVER}),n.createElement(_6,{augmentedExtension:e}))))}function _9({augmentedExtension:e}){let{extension:t}=e,a=p7(e);return n.createElement("div",{className:tv.cx.flex.itemsCenter.ml8.$},n.createElement("div",{className:tv.cx.pr8.colorText.textBodyLarge.$,style:er.sx.add({maxWidth:a?"205px":"300px"}).$},n.createElement(p5.G,{text:t.name})),a&&n.createElement("div",{style:er.sx.add({maxWidth:"110px"}).$},n.createElement(p8,{text:a.text,variant:a.variant})))}function fe({augmentedExtensions:e,header:t,showExtensionDetails:a=!1,dataTestId:r}){let l=e.map(e=>{let t=n.createRef(),{key:r}=e;return(0,sr.JT)(e)?n.createElement(_Y,{augmentedExtension:e,key:r,submenuRef:t}):a?n.createElement(_8,{augmentedExtension:e,key:r}):n.createElement(_X,{augmentedExtension:e,key:r,submenuRef:t})});return n.createElement("div",{"data-testid":r,className:tv.cx.flex.flexColumn.$},t&&n.createElement(pf.B.Section,{header:t},l),!t&&l)}function ft({actions:e}){let t=_S(),a=t.moduleFilters===H.BY.DEVELOPMENT,r=t.moduleFilters===H.BY.ALL;return Q.y3()&&(a||r)?n.createElement("div",{"data-testid":"extension-actions-section",className:tv.cx.flex.flexColumn.$},e.map(({itemKey:e,...t})=>n.createElement(_Z,{key:e,itemKey:e,...t}))):null}function fa({extensions:e}){let t=(0,n.useMemo)(()=>[...e].sort(sr.bL),[e]);return 0===t.length?null:n.createElement(fe,{augmentedExtensions:t,dataTestId:"my-extensions-section"})}function fn(){return n.createElement("div",{className:tv.cx.flex.wFull.mt16.justifyCenter.alignCenter.colorTextSecondary.$,"data-testid":"no-extensions-found"},(0,_.tx)("qa.no_plugins_widgets_found"))}function fr({availableExtensions:e,selectedFilter:t}){let a=(0,ak.Ev)(),l=(0,D.md)(V.Lk),i=(0,D.md)(V.dd),o=(0,D.md)(V.Rt),s=(0,r.d4)(oz.l),c=(0,r.wA)(),d=(0,nO.f6)(),u=(0,nO.wW)(),{loaded:m,extensions:p}=function(e){let t=(0,sr.Oy)(),{loaded:a,extensions:l}=function(){let e=(0,r.wA)(),[t,a]=(0,n.useState)(!1),[l,i]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let t={sort_by:ef.eg.POPULAR,editor_type:_p.k.Editors.FIGMA};Promise.all([(0,_m.nC)().filter(t).browse(__.L.BrowseResourceTypes.PLUGINS),(0,_m.nC)().filter(t).browse(__.L.BrowseResourceTypes.WIDGETS)]).then(([t,n])=>{let r=t.data.meta.resources,l=n.data.meta.resources,o=(0,n0.shuffle)([...r.slice(0,10),...l.slice(0,5)]);e(n6.Qi({publishedPlugins:o,src:"Quick Actions V2 suggested extensions"}));let s=o.map(e=>(0,rk.Ar)(e)).filter(e=>null!==e);a(!0),i(s)}).catch(()=>{a(!1),i([])})},[e]),{loaded:t,extensions:l}}(),i=l.map(e=>t(e,sn.Ag.COMMUNITY));return{loaded:a,extensions:(0,sr.ZM)([...e,...i])}}(e),{myExtensions:_,suggestedExtensions:f,otherExtensionsFromOrg:g}=function(e,t){let a=(0,sr.vA)(t),n=[],r=[],l=[];return e.filter(e=>e.canRun||e.canRequest).filter(e=>a(e)).forEach(e=>{(0,sr.wj)(e)?n.push(e):t===H.BY.FROM_ORG&&(0,sr.jb)(e)||t!==H.BY.FROM_ORG&&(0,sr.Nf)(e)?r.push(e):t===H.BY.FROM_ORG&&l.push(e)}),{myExtensions:n,suggestedExtensions:r,otherExtensionsFromOrg:l}}(p,t),h=t===H.BY.DEVELOPMENT||t===H.BY.ALL?_J(c):[],E=_.length+f.length+g.length+h.length,y=t===H.BY.DEVELOPMENT,v=t===H.BY.FROM_ORG,b=m||v||y,C=function({myExtensions:e,suggestedExtensions:t,otherExtensionsFromOrg:a,extensionActions:n}){let r=(0,ak.HD)("My Extensions",e),l=(0,ak.HD)("Suggested",t),i=(0,ak.HD)("Other Extensions from Org",a),o=(0,ak.NH)(n);return(0,ak.i6)([r,l,i,o])}({myExtensions:_,suggestedExtensions:f,otherExtensionsFromOrg:g,extensionActions:h});return((0,n.useEffect)(()=>{l===H.Jc.EXTENSIONS&&i&&b&&a({quickActionsSessionId:i,quickActionsQueryId:o,searchQuery:"",numSearchResults:E,currentSelection:s,module:l,moduleFilters:t,qaVersion:ov.$L,searchQueryResults:C})},[a,l,i,b,o,E,s,t,C]),0===E)?n.createElement(fn,null):n.createElement(_N,{numResults:E,moduleFilters:t},n.createElement(pf.B,{primary:!0,resultCount:E},n.createElement(_1,{invitedPlugins:d,invitedWidgets:u,selectedFilter:t}),n.createElement(fa,{extensions:_}),n.createElement(ft,{actions:h}),n.createElement(fl,{extensions:f,hasLoaded:b}),v&&n.createElement(fi,{extensions:g})))}function fl({extensions:e,hasLoaded:t}){return t?0===e.length?null:n.createElement(fe,{augmentedExtensions:e,header:(0,_.t)("qa.suggested"),showExtensionDetails:!0}):n.createElement("div",{className:tv.cx.p8.$},n.createElement(_u.R,null))}function fi({extensions:e}){let t=(0,ew.sZ)();return t&&0!==e.length?n.createElement(fe,{augmentedExtensions:e,header:(0,_.t)("qa.other_extensions_from_org",{org_name:t.name}),showExtensionDetails:!0}):null}var fo=a(35645),fs=a.n(fo),fc=a(395096),fd=a(752553),fu=a(463592),fm=a(508567);let fp=u$.M4.Query({fetch:async e=>(await fm.$W.getExtensions(e)).data.meta,enabled:e=>e.query.length>0,output:({data:e})=>e.results});function f_({availableExtensions:e,selectedFilter:t}){let a=(0,ak.Ev)(),l=(0,D.md)(V.Lk),i=(0,D.md)(V.dd),s=(0,D.md)(V.Q8),[c]=(0,fc.A)(s,300),d=(0,D.md)(V.Rt),u=(0,r.d4)(oz.l),m=(0,r.wA)(),{loading:p,publicExtensions:_,privateExtensions:f,localExtensions:g}=function(e){let{status:t,results:a,errors:r}=function(e){let t=function(e){switch(e){case z.nT.Design:return _p.k.Editors.FIGMA;case z.nT.Whiteboard:return _p.k.Editors.FIGJAM;case z.nT.DevHandoff:return _p.k.Editors.DEV_MODE;default:return _p.k.Editors.ALL}}((0,ey.my)()),a=(0,pZ.U5)(),n=(0,ew.dq)()??void 0,r=(0,o.kc)().ext_plugin_limit_search_results?20:void 0,[{status:l,data:i,errors:s}]=(0,fd.IT)(fp({query:e,editorType:t,orgSearch:a,currentOrgId:n,maxNumResults:r}));return{status:l,results:i||{public:[],private:[]},errors:s}}(e),l=function(e){let t=(0,nO.$1)(),a=(0,n.useMemo)(()=>Object.values(t),[t]),r=(0,n.useMemo)(()=>new fu.Ef(a,rc.Ih),[a]);return(0,n.useMemo)(()=>r.search(e),[r,e])}(e);return(0,n.useMemo)(()=>{switch(t){case"loading":return{loading:!0,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"loaded":let e=a?.public??[],n=a?.private??[];return{loading:!1,publicExtensions:e.map(e=>e.model),privateExtensions:n.map(e=>e.model),localExtensions:l};case"disabled":case"errors":return(0,w.$D)(nM.FigmaTeam.EXTENSIBILITY,Error("[useSearchExtensions] Unable to fetch search results"),{tags:{status:t},extra:{errors:r}}),{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};default:(0,om.assertNever)(t)}},[a?.private,a?.public,l,t,r])}(c),h=function(e){let t=(0,r.wA)(),a=(0,n.useMemo)(()=>_J(t),[t]),l=(0,n.useMemo)(()=>new fu.Ef(a,rc.zd),[a]);return(0,n.useMemo)(()=>l.search(e),[l,e])}(c);(0,n.useEffect)(()=>{let e=[..._,...f];0!==e.length&&m(n6.Qi({publishedPlugins:e,src:"Quick actions"}))},[m,f,_]);let{myExtensions:E,fromOrgExtensions:y,communityExtensions:v}=fh(function({publicExtensions:e,privateExtensions:t,localExtensions:a}){let r=(0,sr.Oy)();return(0,n.useMemo)(()=>{let n=(e,t)=>e.map(e=>(0,rk.Ar)(e)).filter(e=>!!e).map(e=>r(e,t)),l=n(e,sn.Ag.COMMUNITY),i=n(t,sn.Ag.ORG_PRIVATE);return[...a.map(e=>r(e,sn.Ag.LOCAL)),...i,...l]},[r,a,t,e])}({publicExtensions:_,privateExtensions:f,localExtensions:g}),e,t),b=E.length+y.length+v.length+h.length,C=function({myExtensions:e,actionItems:t,fromOrgExtensions:a,communityExtensions:n}){let r=(0,ak.HD)("My Extensions",e),l=(0,ak.NH)(t),i=(0,ak.HD)("From Org",a),o=(0,ak.HD)("From Community",n);return(0,ak.i6)([r,l,i,o])}({myExtensions:E,actionItems:h,fromOrgExtensions:y,communityExtensions:v});return((0,n.useEffect)(()=>{l===H.Jc.EXTENSIONS&&i&&!p&&a({quickActionsSessionId:i,quickActionsQueryId:d,searchQuery:c,numSearchResults:b,currentSelection:u,module:l,moduleFilters:t,qaVersion:ov.$L,searchQueryResults:C})},[u,a,l,b,i,d,t,p,C,c]),p)?n.createElement(_u.R,null):0===b?n.createElement(fn,null):n.createElement(_N,{numResults:b,moduleFilters:t},n.createElement(pf.B,{primary:!0,resultCount:b},n.createElement(fa,{extensions:E}),n.createElement(ft,{actions:h}),n.createElement(ff,{extensions:y}),n.createElement(fg,{extensions:v})))}function ff({extensions:e}){let t=(0,ew.sZ)();if(!t||0===e.length)return null;let[a,r]=fs()(e,e=>e.types.has(sn.Ag.ORG_SAVED)),l=[...a,...r];return n.createElement(fe,{augmentedExtensions:l,header:(0,_.t)("qa.from_org_name",{org_name:t.name}),showExtensionDetails:!0,dataTestId:"from-org-extensions-section"})}function fg({extensions:e}){return 0===e.length?null:n.createElement(fe,{augmentedExtensions:e,header:(0,_.t)("qa.from_community"),showExtensionDetails:!0,dataTestId:"community-extensions-section"})}let fh=(e,t,a)=>{let r=(0,sr.vA)(a),l=(0,n.useMemo)(()=>new Set(e.map(e=>e.key)),[e]),i=(0,n.useMemo)(()=>{let a=[...e,...t];return(0,sr.ZM)(a)},[t,e]),o=[],s=[],c=[];return i.filter(e=>e.canRun||e.canRequest).filter(e=>r(e)).filter(e=>l.has(e.key)).forEach(e=>{(0,sr.wj)(e)?o.push(e):(0,sr.C5)(e)?s.push(e):(0,sr.Nf)(e)&&c.push(e)}),{myExtensions:o,fromOrgExtensions:s,communityExtensions:c}};function fE({hasLoadedExtensions:e,extensions:t,selectedFilter:a}){let r=(0,D.md)(V.Q8),l=(0,V.JB)(),i=(0,_d.AY)(_o.t);return((0,se.h)(()=>()=>{l(),i()}),e)?r?n.createElement(f_,{availableExtensions:t,selectedFilter:a}):n.createElement(fr,{availableExtensions:t,selectedFilter:a}):n.createElement(_u.R,null)}var fy=a(891682);function fv(){!function(){let e=(0,D.md)(V.IH),{autoClose:t}=(0,sl.cq)(),a=(0,n.useCallback)(()=>{let e=sC.D.getState();e.modalShown||e.dropdownShown||e.pickerShown||t()},[t]);!function({ref:e,handler:t,eventType:a="mousedown",eventOptions:r,recordingKey:l,enabled:i}){let o=(0,n.useCallback)(a=>{if(!(a.target instanceof Node))return;let n=a.target;n&&n.isConnected&&e&&(Array.isArray(e)?e.filter(e=>!!e.current).every(e=>e.current&&!e.current.contains(n)):e.current&&!e.current.contains(n))&&t(a)},[e,t]),s=(0,a3.rf)(l,a,o);(0,n.useEffect)(()=>{if(e&&i)return window.addEventListener(a,s,r),()=>{window.removeEventListener(a,s,r)}},[e,a,o,s,r,i])}({ref:e,handler:()=>setTimeout(a,0),eventType:"mousedown",eventOptions:!0,recordingKey:"click-to-dismiss",enabled:!0})}();let[e,t]=(0,D.fp)(V.Q8),a=(0,lT.Xr)(V.Rt),[l,i]=(0,D.fp)(_o.t),[o,s]=(0,D.fp)(V.Lk),{loaded:c,extensions:d}=(0,D.md)(V.P_),m=(0,r.wA)();n.useEffect(()=>m(sy.aq()),[m]);let p=(0,ey.my)(),f=p===z.nT.Design,g=p===z.nT.Slides,h=(0,j.q5)(),E=!!(f&&h?.canEdit),y=(0,cp.s)(),v=(0,cW.V)(),b=(0,rR.Xk)();(0,sb.b)({disabled:!E});let C=o===H.Jc.ASSETS,{debouncedAssetSearch:w,clearAssetSearchAndCancelDebounce:k}=(0,U.TC)({debounceWait:300}),{debouncedFragmentTextSearch:x,clearFragmentSearchAndCancelDebounce:T}=(0,fy.S)({debounceWait:300,entryPoint:B.G4.ACTIONS_ASSETS_TAB}),{debouncedFragmentTextSearch:N,clearFragmentSearchAndCancelDebounce:S}=(0,fy.S)({debounceWait:300,entryPoint:B.G4.ACTIONS_ASSETS_TAB,isCommunity:!0}),I=n.useCallback(e=>{t(e),a((0,op.g)()),(0,ak.lw)(),E&&((C||0===e.length)&&(w(e,{type:sv.I.ALL}),v&&x(e)),b&&N(e))},[t,a,w,x,E,C,v,b,N]),A=n.useCallback(()=>{t(""),E&&(k(),v&&T(),b&&S())},[t,E,k,T,v,b,S]),L=n.useCallback(e=>{s(e),(0,ak.lw)()},[s]),O=n.useCallback(()=>{(0,cm.mX)(e,()=>L(H.Jc.ASSETS),v,b,y,B.G4.ACTIONS_ASSETS_TAB)},[e,L,v,b,y]),M=n.useRef(null),P=(0,_i.U)(v),R=(0,r.d4)(eI.GP),F=n.createElement(sT.fu,{value:o,onChange:u.lQ,numItems:R?3:2},n.createElement(sT.oz,{tabId:H.Jc.ALL,onAction:()=>L(H.Jc.ALL),navigatingShortcut:{key:l_.Uz.KEY_1,modifier:[l_.xH.ALT]}},(0,_.tx)("qa.all")),n.createElement(sT.oz,{tabId:H.Jc.ASSETS,onAction:O,navigatingShortcut:{key:l_.Uz.KEY_2,modifier:[l_.xH.ALT]}},(0,_.tx)("qa.assets")),R&&n.createElement(sT.oz,{tabId:H.Jc.EXTENSIONS,onAction:()=>L(H.Jc.EXTENSIONS),navigatingShortcut:{key:l_.Uz.KEY_3,modifier:[l_.xH.ALT]}},(0,_.tx)("qa.plugins_widgets"))),G=v?n.createElement("div",{className:tv.cx.flex.$},n.createElement(sh.K,{"aria-label":(0,_.t)("asset_suggestions.visual_search_icon_button_tooltip"),onClick:pU.KB,recordingKey:(0,a3.Pt)("defaultView","visualSearchIconButton"),htmlAttributes:{"data-tooltip":(0,_.t)("asset_suggestions.visual_search_icon_button_tooltip"),"data-tooltip-type":ay.Ib.TEXT,"data-tooltip-show-above":!0}},n.createElement(sE.A,null))):void 0,K=o===H.Jc.EXTENSIONS;return n.createElement(sk.n,{height:g?av.Ru:av.wC,recordingKey:"defaultView"},n.createElement(sx.v,{searchQuery:e,onSearchChange:I,onClear:A,endEnhancer:G,ref:M,placeholder:C?P:void 0}),(E||K)&&n.createElement("div",{className:tv.cx.px8.pb8.$},n.createElement(sw.b,{primary:!1,gap:8,fullWidth:!0,justify:"space-between"},E&&F,K&&n.createElement(_s,{extensionFilter:l,setExtensionFilter:i}))),n.createElement(sk.n.Body,null,function(){switch(o){case H.Jc.ALL:return n.createElement(_l,{setActiveTab:L});case H.Jc.ASSETS:return n.createElement(cm.tF,{searchHandle:M});case H.Jc.EXTENSIONS:return n.createElement(fE,{extensions:d,hasLoadedExtensions:c,selectedFilter:l});default:return(0,om.assertNever)(o)}}()))}function fb(){let{current:e}=(0,sl.cq)(),t=(0,V.jh)();return((0,se.h)(()=>()=>{t()}),e)?n.createElement(n.Fragment,null,e.module):n.createElement(fv,null)}let fC=(e,t)=>{let a=(0,si.x)();(0,ak.F$)(a)&&(0,ak.Mq)({...t,qaVersion:ov.$L,quickActionsSessionId:e,timeToShowModal:or.sn.tryStop(ov.mP)||0,module:a})};function fw(){!function(){let e=(0,lT.Xr)(V.P_),t=(0,nO.FG)(),a=(0,nO.AR)(),{loaded:r,userPlugins:l,userWidgets:i,orgPlugins:o,orgWidgets:s}=(0,nO.q3)(),c=(0,nO.ll)(),d=(0,nO.U6)(),u=(0,ro.h)("plugin"),m=(0,ro.h)("widget"),p=(0,nO.$1)(),_=(0,sr.Oy)(),f=(0,n.useMemo)(()=>[{extensions:t,extensionType:sn.Ag.RECENT},{extensions:a,extensionType:sn.Ag.RECENT},{extensions:Object.values(l),extensionType:sn.Ag.USER_SAVED},{extensions:Object.values(i),extensionType:sn.Ag.USER_SAVED},{extensions:Object.values(o),extensionType:sn.Ag.ORG_SAVED},{extensions:Object.values(s),extensionType:sn.Ag.ORG_SAVED},{extensions:Object.values(c),extensionType:sn.Ag.ALLOWLIST},{extensions:Object.values(d),extensionType:sn.Ag.ALLOWLIST},{extensions:u,extensionType:sn.Ag.ORG_PRIVATE},{extensions:m,extensionType:sn.Ag.ORG_PRIVATE},{extensions:Object.values(p),extensionType:sn.Ag.LOCAL}],[t,a,l,i,o,s,c,d,u,m,p]),g=(0,n.useMemo)(()=>{let e=r?f.map(({extensions:e,extensionType:t})=>e.map(e=>_(e,t))).flat():[];return(0,sr.ZM)(e)},[f,_,r]);(0,n.useEffect)(()=>{r&&g&&e({loaded:r,extensions:g})},[r,g,e])}();let e=(0,lT.Xr)(V.Bu),t=(0,D.md)(V.rE),a=(0,D.md)(V.dd);(0,se.h)(()=>(e(!0),a&&fC(a,t||void 0),()=>{e(!1)}));let r=(0,D.md)(st.Kh),[l,i]=n.useState(!1),o=(0,l7.o3)(l7.nt.ui3),s=(0,ol.ZC)(o),{close:c}=(0,sl.cq)();return(0,n.useEffect)(()=>{fk(r)&&i(!0),s&&!o?c():l&&!fk(r)&&c()},[o,s,c,r,l]),n.createElement(sa.s,null,n.createElement(so.s3,{name:"quickActions",recordingKey:"quickActions"},n.createElement(sf,null,n.createElement(fb,null))))}function fk(e){return e===l.NLJ.SELECT}var fx=a(843059);function fT(e){let t=(0,sO.A)(rD.KY,e.timeoutMs),[a,r]=n.useState(!1),l=n.useRef(null);return n.useEffect(()=>(a?t.cancel():t(),()=>{t.cancel()}),[t,a]),n.createElement("div",{ref:l,onPointerEnter:()=>{r(!0)},onPointerLeave:()=>{r(!1)}},e.children)}function fN(){let e=sC.D.getState(),t=(0,oz.l)(e),a=e.openFile?.key??"",r=(0,rs.v5)(e.selectedView,null),l=(0,im.u)(),i=[...pW(),...l],o=sD(),s=c9(o,i),c=(0,rD.el)(),d=c?s.list(o).find(e=>e.action===c.action):null,u=d?.action,m=d?(0,ic.E)(d):null,p=(0,n.useCallback)(()=>{u&&(C.Y5.triggerAction(u,c?.payload),(0,rD.KY)())},[u,c?.payload]),f=(0,D.md)(V.dd),g=(0,ak.vI)(),h=(0,rP.vh)(),E={action:u,source:"toast",quickActionsSessionId:f,currentSelection:t,qaVersion:ov.$L,fileKey:a,productType:r,role:g,hasAiFeatureAccess:h};return((0,se.h)(()=>{u&&(0,J.sx)(ov.Sq,E,{forwardToDatadog:!0})}),d)?n.createElement(so.s3,{name:"quickActions",recordingKey:"quickActions"},n.createElement(sf,null,n.createElement(sk.n,null,n.createElement(fT,{timeoutMs:1e4},n.createElement(fx.y,{onDismiss:rD.KY,recordingKey:"SuggestionToast"},n.createElement(sw.B,{justify:"space-between",align:"center",fullWidth:!0},n.createElement(sw.B,{gap:4,align:"center"},n.createElement("span",{style:{"--color-icon":"var(--color-icon-brand)"}},n.createElement(sF.V,null)),n.createElement(sw.B,{align:"center"},n.createElement("span",{className:tv.cx.textBodyMediumStrong.$},n.createElement(il.E,{color:"brand"},(0,_.tx)("qa.toast.suggestion"))),d.tags?.includes(sM.$.AI)&&n.createElement(rB.W,null))),n.createElement(cN.r,{variant:"secondary",shortcuts:[{key:l_.Uz.ENTER,modifier:[l_.xH.META]}],onAction:()=>{p(),u&&(0,ak.mi)({...E,isAi:!0})},recordingKey:"SuggestionToast"},m))))))):(console.warn("No menu item found for suggested action."),null)}function fS(){let e=(0,D.md)(V.Bu),t=(0,rD.el)();return e?n.createElement(fw,null):t?n.createElement(fN,null):null}var fI=a(62557),fA=a(448169),fL=a(626217),fO=a(31913),fM=a(140908),fP=a(10648),fR=a(408405),fD=a(122983),fF=a(369870),fB=a(316081),fU=a(694517),fG=a(338400),fH=a(143678),fV=a(212478),fK=a(173521),fz=a(974898),fW=a(601538),fj=a(503316),fq=a(979686),fY=a(278011),fX=a(900073),fJ=a(487392),fZ=a(522739),fQ=a(488914),f$=a(775058);let f0=n.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{id:"ICON-templates"},n.createElement("line",{id:"Line 2",x1:"5.5",y1:"1",x2:"5.5",y2:"15",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{id:"Rectangle 2083",x:"0.5",y:"0.5",width:"17",height:"15",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{id:"Rectangle 7984",x:"1",y:"1",width:"4",height:"14",fill:"black",fillOpacity:"0.3"}))),f1=n.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("line",{x1:"5.5",y1:"1",x2:"5.5",y2:"15",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"17",height:"15",stroke:"black",strokeOpacity:"0.9"}));function f2(){let e=(0,fM.Gf)(),t="CLOSED"!==(0,D.md)(fQ.Tb).type,a=(0,lT.Xr)(fQ.UT),r=(0,lT.Xr)(fQ.Cx),l=(0,fJ.qU)();if(!e)return null;let i=()=>{t?r():(l(),a())};return n.createElement("div",null,n.createElement(fZ.GG,{className:f$.gb,"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":(0,_.t)("whiteboard.mini_home.toggle_button"),onKeyDown:e=>(0,l3.hx)({e,onClickHandler:i}),onClick:i,tabIndex:0,"aria-label":(0,_.t)("whiteboard.mini_home.toggle_button"),"data-onboarding-key":"in_editor_sidebar_toolbar"},t?f0:f1))}var f5=a(380620),f3=a(348425),f4=a(349719),f6=a(760591);function f7(){let e=(0,j.q5)();return n.createElement(f5.E,{className:"extension_toolbar_left_items--leftToolbar--npGkc",onClick:()=>(0,f4._r)(),htmlAttributes:{"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":(0,_.t)("dev_handoff.vscode.toolbar.back_button")},"aria-label":(0,_.t)("dev_handoff.vscode.toolbar.back_button")},n.createElement(f3.t,{svg:f6.A,className:"extension_toolbar_left_items--back--JwiF5"}),n.createElement("div",{className:"extension_toolbar_left_items--fileNameText---u61D"},e?.name))}var f8=a(720248),f9=a(671250);function ge({focusModeEnabled:e,onClick:t}){return n.createElement("button",{"data-editor-theme":"dev-handoff",onClick:t,"data-tooltip":(0,_.t)(e?"dev_handoff.vscode.exit_focus_mode":"dev_handoff.vscode.enter_focus_mode"),"data-tooltip-type":ay.Ib.TEXT},n.createElement(aa.B,{svg:e?f9.A:f8.A,className:"dev_handoff_toolbar_focus_button--focusModeIcon--LMEyU"}))}var gt=a(334290),ga=a(197368),gn=a(699731);function gr(){let e=(0,r.wA)(),t=(0,P.J2)(l.Ez5.devHandoffState().focusMode);return n.createElement("div",{className:"extension_toolbar_right_items--buttons--3pMn8"},t&&n.createElement(gt.jX,null),n.createElement(ge,{focusModeEnabled:t,onClick:()=>l.w3z.setFocusModeEnabled(!t)}),n.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>e(r9.lW({stringToCopy:window.location.toString()})),"data-tooltip":(0,_.t)("dev_handoff.copy_link"),"data-tooltip-type":ay.Ib.TEXT},n.createElement(aa.B,{svg:ga.A})),n.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>f4.Qn(window.location.toString()),"data-tooltip":(0,_.t)("dev_handoff.open_in_figma"),"data-tooltip-type":ay.Ib.TEXT},n.createElement(aa.B,{svg:gn.A})))}var gl=a(877723),gi=a(766926),go=a(435898),gs=a(535688),gc=a(194092),gd=a(957379),gu=a(665194),gm=a(209234),gp=a(655515);let g_="pages_sidebar_toolbar_ui2--selected--VbVrq";var gf=a(770806),gg=a(934640);function gh(){return n.createElement(aa.B,{svg:gf.A,ariaLabel:(0,_.t)("pages_panel.toolbar.icon.addPage.aria_label"),dataTestId:"newPageToolbarIcon"})}function gE({numberOfPages:e}){return e>9?n.createElement(aa.B,{svg:gg.A,ariaLabel:(0,_.t)("pages_panel.toolbar.icon.ellipis.aria_label"),dataTestId:"ellipsisPagesToolbarIcon"}):function({numberOfPages:e}){return n.createElement("span",{"data-testid":"pageCountToolbarIcon","aria-label":(0,_.t)("pages_panel.toolbar.icon.pageCount.aria_label")},n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 17H18L18 18H20L21 18V17V7.6875V4V3H20H7H6V4L6 6.00004L7 6.00004V4L20 4V7.6875V17ZM17 20.0001H4V7.00012H17V10.6876V20.0001ZM4 6.00012H17H18V7.00012V10.6876V20.0001V21.0001H17H4H3V20.0001V7.00012V6.00012H4Z",fillOpacity:"0.9"}),n.createElement("text",{id:"numberText",x:"10.5",y:"14.5",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter",fontWeight:"500",fontSize:"9"},e)))}({numberOfPages:e})}function gy(){let e=(0,D.md)(gp.ET),t=(0,lT.Xr)(gp.UT),a=(0,lT.Xr)(gp.Cx),l=(0,lu.rE)(),i=(0,nH.am)(),o=(0,r.d4)(e=>e.mirror.appModel.pagesList),s=(0,n.useMemo)(()=>o.filter(e=>!e.isDivider).length,[o]),c=(0,lu.nn)(),d=(0,r.wA)(),u=(0,gu.h5)({nonDividerPageCount:s,isDropdownOpen:e}),m=()=>{i("pages_panel_open_toggle",{isPagesOpen:!e},{forwardToDatadog:!0}),e?a():(t(),d(ep.b({[gd.jn]:!0})))};if(!u)return null;switch(u){case gu.mb.ADD_PAGE:return n.createElement(gm.P,{tooltipText:(0,_.t)("pages_panel.toolbar.add_pages_tooltip"),isActive:e,onClick:()=>{l(null),m()},addLeftMargin:!1,recordingKey:"figjamPagesToolbarItem",onboardingKey:gd.gh,dataTestId:"addPages"},n.createElement("div",{className:tv.cx.mxAuto.$},n.createElement(gh,null)));case gu.mb.VIEW_PAGES:return n.createElement("div",{className:"pages_sidebar_toolbar_ui2--toolbarItemContainer--az3u2"},n.createElement(fZ.GG,{className:tg()("pages_sidebar_toolbar_ui2--toolbarItemButton--cNref","pages_sidebar_toolbar_ui2--withHover--zKrg8",{[g_]:e}),recordingKey:"figjamPagesToolbarItem",dataTestId:"viewPages",onClick:m,"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":(0,_.t)("pages_panel.toolbar.view_pages_tooltip"),"aria-label":(0,_.t)("pages_panel.toolbar.view_pages_tooltip"),"aria-pressed":e,"data-onboarding-key":gd.gh},n.createElement("div",{className:tg()("pages_sidebar_toolbar_ui2--iconContainer--XuPru")},n.createElement("div",{className:"pages_sidebar_toolbar_ui2--icon--wevM1"},n.createElement(gE,{numberOfPages:s}))),n.createElement("div",{className:tg()("pages_sidebar_toolbar_ui2--textWrapper--HJ3UH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[g_]:e})},c)));default:(0,om.assertNever)(u)}}var gv=a(135298);function gb(){let e=(0,eC.aV)(),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),a=(0,o.kc)().figjam_pages_in_figjam,i=!(0,gl.q8)()&&(0,go.Uy)(),s=m.Ay.isMeetDevice;return t?n.createElement(n.Fragment,null,a&&n.createElement(gy,null)):n.createElement(n.Fragment,null,a&&n.createElement(gy,null),n.createElement(gc.J,null),i&&n.createElement(gs.V,null),n.createElement(gi.y,null),!e&&!s&&n.createElement(gv.j,null))}function gC(){let e=(0,eC.aV)(),t=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),a=(0,o.kc)().figjam_pages_in_figjam,i=!(0,gl.q8)()&&(0,go.Uy)(),s=m.Ay.isMeetDevice;return t?n.createElement(n.Fragment,null,a&&n.createElement(gy,null)):n.createElement(n.Fragment,null,i&&n.createElement(gs.V,null),n.createElement(gi.y,null),!e&&!s&&n.createElement(gv.j,null),a&&n.createElement(gy,null))}var gw=a(438741),gk=a(754209),gx=a(27947),gT=a(549166),gN=a(734354),gS=a(637820);function gI({variant:e}){switch(e){case"design":return n.createElement("div",{className:tv.cx.px8.$},n.createElement("div",{className:tv.cx.h16.px4.bRadius3.$,style:er.sx.add({border:"1px solid var(--color-bg-design)",color:"var(--color-bg-design)"}).$},n.createElement(il.E,{fontSize:9},(0,_.tx)("fullscreen.toolbar.integ_zoom.beta"))));case"figjam":return n.createElement("div",{className:tv.cx.px8.$},n.createElement(it.Ex,{text:(0,_.t)("fullscreen.toolbar.integ_zoom.beta"),color:it.zE.FIGJAM,subtle:!0}))}}function gA(e){let t=!e.user&&!m.Ay.isMeetDevice;return fF.pb.isGoogleClassroomIntegration()?null:n.createElement(n.Fragment,null,(0,o.kc)().internal_only_debug_tools&&n.createElement(gt.bu,null),n.createElement(gt.n8,null),e.multiplayer&&e.editingFile&&n.createElement(gT.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),t&&n.createElement(gt.tO,null),(0,fF.MP)()&&n.createElement(gI,{variant:"figjam"}))}function gL(){let e=(0,A.iZ)(),t=(0,fF.ck)(),a=(0,a8.Um)(),i=(0,r.d4)(e=>e.multiplayer),s=(0,j.q5)(),c=(0,gk.dR)(),d=(0,gk.Ww)(),u=(0,gw.B4)(),p=(0,r.wA)(),_=(0,r.d4)(e=>"prototype"===e.selectedView.view),f=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===l.lyf.HISTORY),g=n.useCallback(e=>{(0,gT.Lx)(e,d?.sessionID,p,_,i,c,u)},[d?.sessionID,p,_,i,c,u]);(0,n.useEffect)(()=>{},[i,e]);let h=_?null:s,E=(0,ev.DG)(h?.key||"").enabled,y=(0,o.kc)().figjam_ui2_overhaul&&!f,v=!e&&!m.Ay.isMeetDevice,b=e?n.createElement(n.Fragment,null,d&&n.createElement(gT.v7,{dropdownShown:a,multiplayer:i,currentUser:d,onUserClick:g})):n.createElement(gT.cU,{dropdownShown:a,multiplayer:i,currentUser:d,onUserClick:g,editingFile:h});return fF.pb.isGoogleClassroomIntegration()?null:n.createElement(n.Fragment,null,(0,o.kc)().internal_only_debug_tools&&n.createElement(gt.bu,null),n.createElement(gt.n8,null),i&&s&&n.createElement(n.Fragment,null,!t&&h&&e&&n.createElement(gS.k,{fileKey:h.key}),n.createElement("div",{className:tv.cx.flex.cursorDefault.selectNone.itemsCenter.$},n.createElement(gx.sK,null),b,y&&n.createElement(gc.J,null),h&&n.createElement(gN.w,{user:e,editingFile:h,isFileInWorkshop:E}))),v&&n.createElement(gt.tO,null),(0,fF.MP)()&&n.createElement(gI,{variant:"figjam"}))}var gO=a(586459),gM=a(195847),gP=a(1851),gR=a(151166),gD=a(737499),gF=a(133537),gB=a(632923),gU=a(135876),gG=a(881388),gH=a(203845),gV=a(309325),gK=a(384890);let gz=(0,lP.Ju)(function(e){let t=(0,r.wA)(),[a,l]=n.useState(""),[i,o]=n.useState(!1),s=(0,j.tS)(),c=(0,r.d4)(e=>s?e.loadingState[gP.f.loadingKeyForPayload({fileKey:s,emailAddress:a})]===gO.r.LOADING:null);return n.createElement(eE.fu,{name:"google_device_try_file_claim_modal"},n.createElement(lR.aF,{disableKeyboardEventPropagation:!0,className:gK.tQ,onHide:()=>(0,J.sx)("google_meet_claim_email_modal_closed",{fileKey:s})},n.createElement("div",{className:gK.FS},n.createElement("h1",{className:gK.DX},(0,_.tx)("google_device_try_file_modal.enter_email"))),n.createElement(gB.k0,{multiple:1}),n.createElement("div",{className:gK.FS},n.createElement("div",{className:gK.Kc},(0,_.tx)("google_device_try_file_modal.enter_email.description"))),n.createElement(gB.k0,{multiple:3}),n.createElement(en.il,{autoFocus:!0,type:"email",className:tg()(gK._2,i&&gK.cC),placeholder:(0,_.t)("google_device_try_file_modal.enter_email.placeholder_email"),onChange:e=>{l(e.target.value)},value:a}),i&&n.createElement("div",{className:gK.mV},(0,_.tx)("google_device_try_file_modal.enter_email.error_message")),n.createElement(gB.k0,{multiple:2}),n.createElement(en.nD,{type:"submit",fullWidth:!0,onClick:n=>{if(n.preventDefault(),n.stopPropagation(),null==a||!1===(0,gF.xf)(a)||!s){o(!0);return}if(!s){t(gG.s.error((0,_.t)("google_device_try_file_modal.error_saving_board")));return}e.onSubmitEmail({fileKey:s,emailAddress:a})}},n.createElement(gU.x,{isLoading:!!c,className:tv.cx.flex.justifyCenter.$},()=>(0,_.tx)("google_device_try_file_modal.enter_email.button"))),n.createElement(gB.k0,{multiple:3}),n.createElement("div",{className:gK.NJ},(0,_.tx)("google_device_try_file_modal.disclaimer",{tos:n.createElement(gV.V,{url:m.Ay.isMeetDevice?gH.A:gH.Uw,title:(0,_.t)("google_device_try_file_modal.onboarding_disclaimer_tos")}),privacy_policy:n.createElement(gV.V,{url:m.Ay.isMeetDevice?gH.bO:gH.JD,title:(0,_.t)("google_device_try_file_modal.onboarding_disclaimer_privacy_policy")})})),n.createElement(gB.k0,{multiple:1})))},"GOOGLE_DEVICE_TRY_FILE_CLAIM_MODAL"),gW=(0,lP.Ju)(function(e){let{email:t,onChangeEmail:a}=e,l=(0,r.wA)(),i=(0,j.tS)();return n.createElement(eE.fu,{name:"google_device_try_file_received_email_modal"},n.createElement(lR.aF,{disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,className:gK.Kd},n.createElement("img",{src:"https://static.figma.com/uploads/b0feff5e4abc5e66f99064463f2ad5d0a7f6c072.png",alt:"",className:gK.ZQ}),n.createElement(gB.k0,{multiple:2}),n.createElement("div",{className:gK.FS},n.createElement("h1",{className:gK.DX},(0,_.tx)("google_device_try_file_modal.got_mail"))),n.createElement(gB.k0,{multiple:1}),n.createElement("div",{className:gK.FS},n.createElement("div",{className:gK.Kc},(0,_.tx)("google_device_try_file_modal.got_mail.description",{email:n.createElement("p",{className:gK.Fx},t)}))),n.createElement(gB.k0,{multiple:3}),n.createElement(en.nD,{type:"close",fullWidth:!0,onClick:e=>{e.preventDefault(),e.stopPropagation(),l(eu.Ce())}},(0,_.tx)("google_device_try_file_modal.got_mail.close")),n.createElement(gB.k0,{multiple:3}),n.createElement("div",{className:gK.NJ},(0,_.tx)("google_device_try_file_modal.got_mail.email_not_received",{send_again_link:n.createElement(en.Us,{className:gK.jH,onClick:a=>{if(a.preventDefault(),a.stopPropagation(),!i){l(gG.s.error((0,_.t)("google_device_try_file_modal.error_saving_board")));return}e.onResendEmail({fileKey:i,emailAddress:t,isResentEmail:!0})},target:"_blank",trusted:!0},(0,_.tx)("google_device_try_file_modal.got_mail.email_not_received.send_again"))})),n.createElement(gB.k0,{multiple:2}),n.createElement("div",{className:gK.NJ},(0,_.tx)("google_device_try_file_modal.got_mail.wrong_address",{use_different_email_link:n.createElement(en.Us,{className:gK.jH,onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},target:"_blank",trusted:!0},(0,_.tx)("google_device_try_file_modal.got_mail.wrong_address.use_different_email"))}))))},"GOOGLE_DEVICE_TRY_FILE_RECEIVED_EMAIL_MODAL");var gj=a(63666),gq=a(589462);function gY(e){let t=(0,Z.A)(),a=Math.ceil((0,Z.A)(e).diff(t,"minutes",!0));if(a>30){let e=Math.ceil(a/60);return(0,_.t)("figjam_try.timer_hours_left",{hoursLeft:e})}if(a>=10){let e=10*Math.ceil(a/10);return(0,_.t)("figjam_try.timer_minutes_left",{minutesLeft:e})}return(0,_.t)("figjam_try.timer_less_than_ten_minutes_left")}function gX({until:e,ctaText:t,onCtaClick:a,isFigjam:r,tooltipText:l,showAndHideTooltipImmediately:i,isLoading:o,onExpire:s,onboardingKey:c}){let[d,u]=(0,n.useState)(gY(e));return(0,n.useEffect)(()=>{let t=setInterval(()=>{u(gY(e)),(0,Z.A)().isAfter((0,Z.A)(e))&&s&&s()},6e4);return()=>{clearInterval(t)}},[e,s]),n.createElement("div",{className:r?"countdown--figjamContainer--hlbVE countdown--container--WCLxZ":"countdown--designContainer--PVZIP countdown--container--WCLxZ","data-onboarding-key":c},n.createElement("div",{className:"countdown--timerContainer--L3IFQ","data-tooltip-type":ay.Ib.TEXT,"data-tooltip":l,"data-tooltip-show-immediately":i,"data-tooltip-hide-immediately":i},n.createElement(aa.B,{className:"countdown--icon--PREBw",svg:gq.A}),n.createElement("span",{className:"countdown--text--kN4nf ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},d)),n.createElement(gU.x,{isLoading:!!o,className:"countdown--loading--DaaWQ"},()=>n.createElement(eE.$z,{className:"countdown--cta--JhE8T ellipsis--ellipsis--Tjyfa",onClick:()=>a(),trackingProperties:{buttonContext:t}},t)))}function gJ(e){let t=(0,Z.A)(),a=Math.ceil((0,Z.A)(e).diff(t,"minutes",!0));if(a>30){let e=Math.ceil(a/60);return(0,_.t)("figjam_try.meet_hardware.timer_hours_left",{hoursLeft:e})}if(a>=10){let e=10*Math.ceil(a/10);return(0,_.t)("figjam_try.meet_hardware.timer_minutes_left",{minutesLeft:e})}return(0,_.t)("figjam_try.meet_hardware.timer_less_than_ten_minutes_left")}function gZ({until:e,ctaText:t,onCtaClick:a,tooltipText:r,showAndHideTooltipImmediately:l,isLoading:i,onExpire:o,onboardingKey:s}){let[c,d]=(0,n.useState)(gJ(e));return(0,n.useEffect)(()=>{let t=setInterval(()=>{d(gJ(e)),(0,Z.A)().isAfter((0,Z.A)(e))&&o&&o()},6e4);return()=>{clearInterval(t)}},[e,o]),n.createElement("div",{className:"countdown_meet_hardware--figjamContainer--libjf countdown_meet_hardware--container--gM5Hl","data-onboarding-key":s},n.createElement("div",{className:"countdown_meet_hardware--timerContainer--JsqME","data-tooltip-type":ay.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-immediately":l,"data-tooltip-hide-immediately":l},n.createElement("img",{src:"https://static.figma.com/uploads/d2458a35e4543003186712a5c44448bc0949f82b",alt:"Wave hand icon",className:"countdown_meet_hardware--waveIcon--Lc-LT"}),n.createElement("span",{className:"countdown_meet_hardware--countdownText--Igbr2 ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},c),n.createElement("span",{className:"countdown_meet_hardware--text--Ahn7z ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time-text"},(0,_.t)("figjam_try.meet_hardware.board_deletion_disclaimer"))),n.createElement(gU.x,{isLoading:!!i,className:"countdown_meet_hardware--loading--s6qrq"},()=>n.createElement(eE.$z,{className:"countdown_meet_hardware--cta--H8MOo ellipsis--ellipsis--Tjyfa",onClick:()=>a(),trackingProperties:{buttonContext:t}},t)))}let gQ="figjam-try-countdown",g$="figjam-try-timed-tooltip-shown",g0=(0,lP.Ju)(function(){let e=(0,r.wA)(),t=(0,gR.B)(),a=()=>{e(eu.ES({type:g0.type}))};return n.createElement(eE.fu,{name:"FigJam Try - Timed Tooltip"},n.createElement(gj.OA,{targetKey:gQ,shouldCenterArrow:ax.EL.FALLBACK,title:(0,_.t)("figjam_try.timed_tooltip_headline"),topPadding:8,dismissModal:a,width:300-2*gj.uv,ctaText:(0,_.t)("figjam_try.timed_tooltip_cta"),onClickPrimaryCta:()=>{a(),t({origin:"figjam_try_timed_tooltip",formState:gM.qB.SIGN_UP})},buttonContext:"Create account"},n.createElement("p",null,(0,_.tx)("figjam_try.timed_tooltip_body"))))},"FigjamTryTimedTooltip");function g1(){let e=(0,ev.nF)(),t=(0,r.wA)(),a=(0,r.d4)(e=>!e.user),l=(0,r.d4)(e=>e.openFile?.key),i=m.Ay.isMeetDevice,o=(0,r.d4)(e=>!!l&&e.loadingState[es.Q.loadingKeyForPayload({file_key:l})]===gO.r.LOADING),s=(0,gR.B)(),c=(0,r.d4)(e=>!!e.modalShown),d=(0,n.useRef)((0,Z.A)().add(5,"minutes")),u=(0,gD.Kx)(),[p,f]=(0,n.useState)(!!(0,mR.DN)().get(g$));(0,n.useEffect)(()=>{if(!p&&a&&!c&&!u?.shouldOptimizeForIpadApp&&!i){let e=setInterval(()=>{(0,Z.A)().isSameOrAfter(d.current)&&(f(!0),(0,mR.DN)().set(g$,1),t(eu.to({type:g0})))},6e4);return()=>{clearInterval(e)}}},[p,a,c,t,u?.shouldOptimizeForIpadApp,i]);let g=(0,gD.pt)();if((0,n.useEffect)(()=>{g&&(g._claim_fig_jam_try_file=e=>{t(es.Q({file_key:e}))})},[g,t]),(0,n.useEffect)(()=>{u?.updateFigJamTryExpiration&&e.enabled&&e.until&&u.updateFigJamTryExpiration(e.until)},[u,e]),!e.enabled||!l)return null;let h=()=>{t(eu.to({type:gz,data:{onSubmitEmail:({fileKey:e,emailAddress:a})=>{t(gP.f({fileKey:e,emailAddress:a,onSuccess:y}))}}}))},E=({fileKey:e,emailAddress:a,isResentEmail:n})=>{t(gP.f({fileKey:e,emailAddress:a,isResentEmail:n}))},y=e=>{t(eu.to({type:gW,data:{email:e,onChangeEmail:h,onResendEmail:E}}))};return n.createElement(eE.fu,{name:"FigJam Try Countdown Timer"},i?n.createElement(gZ,{until:e.until,ctaText:(0,_.t)("figjam_try.save_board"),onCtaClick:()=>{t(eu.to({type:gz,data:{onSubmitEmail:({fileKey:e,emailAddress:a})=>{t(gP.f({fileKey:e,emailAddress:a,onSuccess:y}))}}}))},tooltipText:a?(0,_.t)("figjam_try.timer_tooltip_anonymous"):(0,_.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:o,onboardingKey:gQ}):n.createElement(gX,{until:e.until,ctaText:(0,_.t)("figjam_try.save_board"),onCtaClick:()=>{a?s({origin:"figjam_try_countdown_timer",formState:gM.qB.SIGN_UP}):t(es.Q({file_key:l}))},isFigjam:!0,tooltipText:a?(0,_.t)("figjam_try.timer_tooltip_anonymous"):(0,_.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:o,onboardingKey:gQ}))}var g2=a(377020),g5=a(752558),g3=a(325621),g4=a(157147),g6=a(663767),g7=a(57392),g8=a(715762),g9=a(142232),he=a(136297),ht=a(447798),ha=a(951864),hn=a(337987);function hr(){let e=(0,r.d4)(u0.ao),t=(0,D.md)(g7.Lc),{isLibraryModalShown:a,onToggleLibraryModal:l}=(0,g6.u)({entrypoint:g8.r6.TOOLBAR_BUTTON,modalType:"editor",openToUpdatesTab:t}),i=t?(0,_.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):e?(0,_.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,_.t)("fullscreen.libraries_button.tooltip.no_updates"),o=t||e;return(0,g9.Pf)({showBadge:o,hasChangesToPull:t}),n.createElement("span",{className:tg()(ht.WT,(0,he.M)(!0,a))},n.createElement(f3.t,{svg:ha.A,fallbackSvg:hn.A,recordingKey:"actionLibraryButton",className:tg()(ht.gb),onMouseDown:l,"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":i,"data-tooltip-submenu-open":a}),o&&n.createElement("span",{className:tg()(he.I.updatesBadge)}))}var hl=a(901765),hi=a(438469),ho=a(720488),hs=a(232117),hc=a(289298);function hd(){let[e,t]=n.useState(!1),a=n.useRef(null),l=n.useRef(null),[i,o]=n.useState(null),s=(0,r.d4)(e=>e.mirror.appModel.pagesList),c=(0,r.d4)(e=>e.mirror.appModel.currentPage),d=s.find(e=>e.nodeId===c),u=(0,aV.RU)({subscribeToUpdates_expensive:!1})-(0,tM.hG)(tK.YI7)-(i?.top??0);if((0,hl.L)(a,()=>{e&&t(!1)}),!s)return null;async function m(e){await tW.q.instance.setCurrentPageFromNodeAsync(e),t(!1)}return n.createElement("div",{className:"toolbar_page_picker--pagePicker--GVgi5",ref:a},n.createElement("button",{className:"toolbar_page_picker--pagePickerButton--5Hmqt",ref:l,onClick:function(){if(e)t(!1);else{let e=l.current?.getBoundingClientRect();e&&(o(e),t(!0))}},"data-tooltip":(0,_.t)("dev_handoff.pages_list"),"data-tooltip-type":ay.Ib.TEXT},n.createElement(hi.v,{pageGuid:c,margin:"marginRight",fallback:n.createElement(aa.B,{svg:hs.A,className:"toolbar_page_picker--pagePickerIcon--BvSvj"})}),n.createElement("span",{className:"toolbar_page_picker--pagePickerButtonContent--Sr4lK"},d?.name||""),n.createElement(aa.B,{svg:hc.A,className:"toolbar_page_picker--pagePickerButtonChevron--MiHhI"})),e&&i&&n.createElement(ho.Cf,{targetRect:i,maxHeight:u,propagateCloseClick:!0},s.map(e=>n.createElement(oC.MM,{key:e.nodeId,checked:c===e.nodeId,onClick:()=>m(e.nodeId)},n.createElement(hi.v,{pageGuid:e.nodeId,margin:"marginRight"}),n.createElement("span",{className:"toolbar_page_picker--dropdownOptionContent--7gcmF"},e.name)))))}var hu=a(341450);let hm="toolbar_vscode_frame_stepper--stepperButton--eRoSc",hp="toolbar_vscode_frame_stepper--stepperButtonDisabled--XSjQQ";function h_(){let e=(0,P.J2)(l.Ez5.devHandoffState().focusNodeId),t=(0,P.J2)(l.Ez5.devHandoffState().nodeIds),a=(0,eC.eY)(),r=e?t.indexOf(e):-1,i=a?.get(e);if(!i||-1===r)return null;let o=0===r,s=r===t.length-1;return n.createElement("div",{className:"toolbar_vscode_frame_stepper--stepperContainer--ux6kR"},n.createElement("span",{className:o?hp:hm},n.createElement(sh.K,{htmlAttributes:{"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":(0,_.t)("dev_handoff.vscode.toolbar.previous_frame")},"aria-label":(0,_.t)("dev_handoff.vscode.toolbar.previous_frame"),onClick:()=>l.glU.triggerActionInUserEditScope("dev-handoff-focus-previous",{}),disabled:o},n.createElement(ps.C,null))),n.createElement("span",{className:"toolbar_vscode_frame_stepper--stepperContent--hVi69"},i?.name||""),n.createElement("span",{className:s?hp:hm},n.createElement(sh.K,{htmlAttributes:{"data-tooltip-type":ay.Ib.TEXT,"data-tooltip":(0,_.t)("dev_handoff.vscode.toolbar.next_frame")},"aria-label":(0,_.t)("dev_handoff.vscode.toolbar.next_frame"),onClick:()=>l.glU.triggerActionInUserEditScope("dev-handoff-focus-next",{}),disabled:s},n.createElement(hu.e,null))))}var hf=a(252828);let hg=(0,fD.ck)(),hh=n.memo(function({item:e}){let t=(0,r.d4)(t=>(0,l5.A)(e.label));return n.createElement("div",{key:`label-${e.label}`,className:ht.Pf},t)}),hE=n.memo(function({item:e,recordingKey:t}){let a=(0,r.d4)(t=>(0,W.Yh)(t.mirror.appModel,e.action)),l=(0,r.d4)(t=>(0,l5.A)(e.action));return n.createElement(gt.QW,{key:`text-button-${e.action}`,action:e.action,isEnabled:a,text:l,recordingKey:t})}),hy=n.memo(function({item:e,disabled:t,recordingKey:a}){let l=e.children.filter(e=>!(0,g4.Zk)(e)||!e.featureFlags||e.featureFlags.every(e=>(0,o.kc)()[e])),s=(0,i.R)(e=>l.filter(t=>(0,g4.Zk)(t)&&(0,W.Yh)(e.mirror.appModel,t.action))),c=(0,r.d4)(e=>s.length>0&&hv(s[0],e));if(0===s.length)return null;if(e.flyoutHideOptionsIfSingleEnabledAction&&1===s.length){var d;return n.createElement(gt.rA,{key:`action-button-${s[0].action}`,item:(d=s[0],{type:g4.ZU.ACTION,...d}),isEnabled:!0,isActive:c,recordingKey:a})}return 1===s.length&&"flatten-selection"===s[0].action?null:n.createElement(fV.xn,{key:`flyout-${e.name}`,item:{...e,children:l},disabled:t,recordingKey:a,styleActiveItem:!e.flyoutDoNotStyleActiveItem})});function hv(e,t){return"isActive"in e&&e.isActive?e.isActive(t):"propertyValue"in e&&void 0!==e.propertyValue&&t.mirror.appModel[e.property]===e.propertyValue}let hb=n.memo(function({item:e,recordingKey:t}){let{featureFlags:a=[]}=e,l=(0,r.d4)(t=>hv(e,t)),i=(0,r.d4)(t=>(0,W.Yh)(t.mirror.appModel,e.action)&&a.every(e=>(0,o.kc)()[e])&&(!e.isAvailable||e.isAvailable(t)));return n.createElement(gt.rA,{key:`action-button-${e.action}`,item:e,isEnabled:i,isActive:l,recordingKey:t})}),hC=n.memo(function({item:e,numUnreadComments:t,recordingKey:a,canEdit:i}){let s=(0,r.d4)(t=>(0,W.Yh)(t.mirror.appModel,e.action)),c=(0,a8.Um)(),d=(0,r.d4)(t=>e.tool!==l.NLJ.NONE&&e.tool===t.mirror.appModel.currentTool&&!(0,W.TY)(c)),u=(0,r.d4)(e=>e.mirror.appModel.topLevelMode);return e.featureFlags&&!e.featureFlags.every(e=>(0,o.kc)()[e])?null:n.createElement(gt.T0,{key:`tool-button-${e.tool}`,dropdownShown:c,isEnabled:s,isActive:d,item:e,numUnreadComments:t,recordingKey:a,topLevelMode:u,isWide:e.isWideForEditors&&i})}),hw=n.memo(function({item:e,numUnreadComments:t,recordingKey:a}){let i=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),o=(0,r.d4)(e=>e.mirror.appModel.currentTool),s=(0,r.d4)(e=>e.openFile),c=(0,r.d4)(e=>e.progressBarState.mode),d=(0,fR.T)(c),u=(0,r.d4)(e=>d?!s?.canEdit:e.mirror.appModel.isReadOnly),m=(0,r.d4)(e=>e.mirror.appModel.isSceneReadOnly),p=(0,r.d4)(e=>!!e.user);if(!e||m&&!e.nonEditorsAllowed||e.onlyShowInReadOnly&&!(u&&c!==l.Oin.HIDE_UI)||e.hideInExtension&&ld.z4.getIsExtension()||!s&&e.newFileDisabled||!p&&!e.loggedOutAllowed||e.editModes&&-1===e.editModes.indexOf(i)||e.showForTools&&-1===e.showForTools.indexOf(o))return null;let _=e.dontChainRecordingKeys?e.recordingKey:a3.Pt(a,e.recordingKey);switch(e.type){case g4.ZU.LABEL:return n.createElement(hh,{item:e});case g4.ZU.TEXT_BUTTON:return n.createElement(hE,{item:e,recordingKey:_});case g4.ZU.FLYOUT:return n.createElement(hy,{item:e,disabled:d,recordingKey:_});case g4.ZU.ACTION:return n.createElement(hb,{item:e,recordingKey:_});case g4.ZU.TOOL:return n.createElement(hC,{item:e,numUnreadComments:t,recordingKey:_,canEdit:s?.canEdit||!1});default:(0,om.assertNever)(e)}}),hk=()=>{let e=(0,r.wA)(),t=(0,eC.p8)("activeCanvasEditModeType"),a=(0,r.d4)(e=>e.openFile?.canEdit);return()=>{if((0,l1.Ah)(t)){e((0,fU.Eg)());return}if(!a){e(fO.Fm({id:fU.V_})),C.Y5.triggerAction("enter-preview-mode");return}e(fO.Fm({id:fU.V_})),C.Y5.triggerAction("enter-layout-mode")}};function hx(e){let{recordingKey:t}=e,a=(0,r.d4)(e=>e.userStateLoaded),i=(0,eC.p8)("topLevelMode"),s=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),c=(0,r.d4)(e=>e.selectedView),d=(0,r.d4)(e=>e.openFile?.canEdit),u=hk();return a&&(!(0,o.kc)().version_diffing||s!==l.m1T.COMPARE_CHANGES)&&((0,l1.Ah)(s)||i===l.lyf.BRANCHING)&&(c.editorType===z.nT.Design||c.editorType===z.nT.DevHandoff)?n.createElement("div",{className:ht.dM},n.createElement(en.$$,{key:d?"back-to-editing-btn":"back-to-viewing-btn",className:ht.uX,recordingKey:a3.Pt(t,"backToEditing"),onClick:u},(0,_.tx)("fullscreen.toolbar.done"))):null}function hT(e){let t=n.useRef(null),a=n.useCallback(()=>{requestAnimationFrame(()=>{let e=t.current;e&&e.clientWidth!==innerWidth&&(e.style.width="99.999%",requestAnimationFrame(()=>{e.style.width=""}))})},[]),{multiplayer:r,dispatch:i,selectedView:o}=e,s=n.useCallback(e=>{l.h3O.observeUser(e),r&&r.observingSessionID!==e&&r.sessionID!==e&&i(ep.b({aware_of_observation_mode:!0}))},[r,i]);return(n.useEffect(()=>{addEventListener("resize",a);let e=window.FigmaMobile;e&&(e._open_timer=()=>{D.zl.set(fX.Qs,{type:"OPEN"}),(0,J.sx)(fJ.Fn.OPEN,{source:fJ.OO.IPAD_MENU})},e._close_timer=()=>{D.zl.set(fX.Qs,{type:"CLOSE"})});let t=window.FigmaMobile;return t&&(t._set_allow_draw_with_touch=e=>{l.glU.setAllowDrawWithTouch(e)},t._unlock_all_objects=()=>{C.Y5.triggerActionInUserEditScope("unlock-all")},t._zoom_reset=()=>{C.Y5.triggerActionInUserEditScope("zoom-reset")},t._zoom_to_fit=()=>{C.Y5.triggerActionInUserEditScope("zoom-to-fit")},t._present=()=>{l.h3O.startPresenting()},t._observe_user=e=>{s(e)},t._find_in_file=()=>{C.Y5.triggerActionInUserEditScope("canvas-search")},t._copy=()=>{C.Y5.triggerActionInUserEditScope("copy")},t._cut=()=>{C.Y5.triggerActionInUserEditScope("cut")},t._paste=()=>{C.Y5.triggerActionInUserEditScope("paste")},t._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:a}=e;return new Blob([(0,u4.Vs)(t)],{type:a})}),a=C.Y5.fileArrayToString(t);l.glU.handleOpenFromJsonString(a,fj.wu.MOBILE_NATIVE_NAVBAR)},t._get_zoom_scale=()=>l.glU.getViewportZoomScale(),t._get_prototype_status=()=>{let e=l.X3B.currentPagePrototypeStatus(),t="";if(e!==l.bOM.VALID)switch(e){case l.bOM.NO_FRAMES:t=o.editorType===z.nT.Slides?(0,_.t)("proto.status_messages.a_presentation_needs_to_have_at_least_one_slide"):(0,_.t)("proto.status_messages.a_prototype_needs_to_have_at_least_one_frame");break;case l.bOM.INVALID_START_NODE:t=(0,_.t)("proto.status_messages.a_prototype_with_connections_needs_a_valid_top_level_frame_as_the_origin");break;default:(0,om.assertNever)(e)}return{status:e,message:t}}),()=>{removeEventListener("resize",a)}},[s,o.editorType,a]),(0,l3.C_)(t),"fullscreen"===e.selectedView.view&&e.selectedView.editorType===z.nT.Whiteboard)?n.createElement(hL,{dropdownShown:e.dropdownShown,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,showUi:e.showUi,user:e.user,ref:t}):n.createElement(hO,{devHandoffFocusMode:e.devHandoffFocusMode,dropdownShown:e.dropdownShown,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,selectedView:e.selectedView,showMissingFontsButton:e.showMissingFontsButton,showUi:e.showUi,user:e.user,ref:t})}function hN(e){return{openFile:e.openFile,dropdownShown:e.dropdownShown,modalShown:e.modalShown,loadingState:e.loadingState,user:e.user,userFlags:e.userFlags,multiplayer:e.multiplayer,userStateLoaded:e.userStateLoaded,topLevelMode:e.mirror.appModel.topLevelMode,isInitialized:e.mirror.appModel.isInitialized,progressBarMode:e.progressBarState.mode,activeVoiceCallExists:!!e.openFile&&e.openFile.key in e.voice.activeCall,showUi:e.mirror.appModel.showUi,isFreeUser:e.isFreeUser}}function hS(e){let t=(0,i.R)(hN),a=(0,r.d4)(e=>e.openFile),o=(0,r.d4)(e=>e.orgById),s=(0,r.d4)(e=>e.teams),c=(0,fG.YL)({openFile:a,teams:s,orgById:o}),d=(0,ev.$D)(),u=(0,P.J2)(l.Ez5.uiState().showMissingFontsButton),m=(0,P.J2)(l.Ez5.devHandoffState().focusMode),p=(0,eC.p8)("showUi"),_=(0,r.wA)();return(0,fK.U)(),n.createElement(hT,{...(0,fI.d)(t),...e,dispatch:_,voiceEligibility:c,isWorkshopFile:d,showMissingFontsButton:u,devHandoffFocusMode:m,showUi:p})}function hI({numUnreadComments:e,recordingKey:t}){let a=(0,ey.E3)(),r=(0,fq.oV)(),i=(0,fq.rD)(),o=(0,nG._I)();if((0,h.l7)())return null;let s=(()=>{switch(a){case z.nT.Whiteboard:return g4.FW.filter(e=>a!==z.nT.Whiteboard||!r&&!i||e.type!==g4.ZU.TOOL||e.tool!==l.NLJ.SELECT&&e.tool!==l.NLJ.HAND);case z.nT.DevHandoff:return g4._8.filter(e=>e.type!==g4.ZU.TOOL||e.tool!==l.NLJ.ANNOTATE&&e.tool!==l.NLJ.MEASURE||o);default:return g4.XU}})();return n.createElement(n.Fragment,null,s.map((a,r)=>n.createElement(hw,{key:r,item:a,numUnreadComments:e,recordingKey:t})))}function hA({renderDesignMiddleItems:e,renderFileName:t,renderFigjamTryCountdown:a}){let o=(0,P.J2)(l.Ez5.editorState().selectionEmpty),s=(0,fL.s)(!1),{topLevelMode:c,editMode:d}=(0,i.R)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),u=(0,r.d4)(e=>{let t=e.modalShown;return t?.type===fz.e}),m=(0,j.q5)(),p=(0,eC.aV)(),_=(0,fD.ck)(),f=d===l.m1T.COMMENTS||d===l.m1T.PREVIEW||d===l.m1T.BRANCHING||c===l.lyf.HISTORY||c===l.lyf.PREVIEW||c===l.lyf.DEV_HANDOFF||c===l.lyf.BRANCHING,g=(0,ey.ow)(),E=(0,h.l7)(),y=!!m?.isTryFile&&!u&&!p&&_,v=!u&&(g||o||f||p)&&!s,b=p||g?void 0:n.createElement(g3.m,null);return n.createElement("div",{key:"center-group","data-onboarding-key":fW.lm,className:`${ht.GC} ${ht.V3}`},b,t(v&&!y),a(y),e(!v&&!g&&!y&&!E))}let hL=n.forwardRef(function(e,t){var a,r;let{loadingClassName:l,hideToolsClassName:i}=hM(e.progressBarMode,e.openFile,e.isInitialized),s=(0,fM.NC)(e.user?.id??null),c=hP(e.recordingKey),d=(a=e.numUnreadComments,r=e.recordingKey,n.useMemo(()=>new fB.H4(()=>{let e=[];return g4.D4.forEach((t,l)=>{let i=n.createElement(hw,{key:l,item:t,numUnreadComments:a,recordingKey:r});i&&e.push(i)}),e}),[a,r]));return n.createElement(eE.fu,{name:fH.e0.EDITOR_TOOLBAR,trackingTargets:fP.K.RCS},n.createElement("div",{onFocus:ow.F2.focusCustomCanvasFocusElement,tabIndex:0}),n.createElement(fA.V,null,n.createElement("div",{className:tg()(ht.KE,b.Dm,l,ht.Jg,{[ht.R]:!e.showUi}),ref:t,role:"region","aria-label":(0,_.t)("fullscreen.accessibility_dom.primary_toolbar_label")},n.createElement("div",{key:"left-group",className:`${ht.GC} ${ht.l3} ${i}`},s&&n.createElement(f2,null),n.createElement(gt.xG,{hideToolsClassName:i,recordingKey:e.recordingKey}),n.createElement(hI,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),!Q.eD&&!s&&n.createElement(fY.Z,null),(0,o.kc)().figjam_ui2_overhaul?n.createElement(gC,null):n.createElement(gb,null),n.createElement(hx,{recordingKey:e.recordingKey})),n.createElement(hA,{renderFileName:e=>c.render({isVisible:e,className:ht.Xs,displayAs:"block"}),renderFigjamTryCountdown:e=>e&&n.createElement(g1,null),renderDesignMiddleItems:e=>d.render({isVisible:e,displayAs:"block"})}),n.createElement("div",{key:"right-group",className:`${ht.GC} ${ht.gt} ${i}`},(0,o.kc)().figjam_ui2_overhaul?n.createElement(gL,null):n.createElement(gA,{editingFile:e.openFile,dropdownShown:e.dropdownShown,user:e.user,multiplayer:e.multiplayer})))))}),hO=n.forwardRef(function(e,t){let a=(0,q.$A)(e.selectedView),r=(0,h.l7)(),l=a&&ld.z4.getIsExtension(),i=!hg&&!e.selectedView.isRecoveryMode&&!r,{devHandoffFocusMode:o,openFile:s,user:c}=e,{loadingClassName:d,hideToolsClassName:u}=hM(e.progressBarMode,e.openFile,e.isInitialized),m=(s?.canEdit??!1)&&!!c,p=hP(e.recordingKey),f=n.useMemo(()=>new fB.H4(()=>{let t=[];return g4.D4.forEach((a,r)=>{let l=n.createElement(hw,{key:r,item:a,numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey});l&&t.push(l)}),t}),[e.numUnreadComments,e.recordingKey]);return n.createElement(eE.fu,{name:fH.e0.EDITOR_TOOLBAR,trackingTargets:fP.K.RCS},n.createElement("div",{onFocus:ow.F2.focusCustomCanvasFocusElement,tabIndex:0}),n.createElement(fA.V,null,n.createElement("div",{className:tg()(ht.KE,b.Dm,d,{[ht.R]:!e.showUi}),ref:t,role:"region","aria-label":(0,_.t)("fullscreen.accessibility_dom.primary_toolbar_label")},n.createElement("div",{key:"left-group",className:`${ht.GC} ${ht.l3} ${u}`},!l&&n.createElement(gt.xG,{hideToolsClassName:u,recordingKey:e.recordingKey}),l&&o?n.createElement(f7,null):n.createElement(n.Fragment,null,n.createElement(hI,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),n.createElement(hx,{recordingKey:e.recordingKey}))),l?o?n.createElement(h_,null):n.createElement(hd,null):n.createElement(hA,{renderFileName:e=>e&&g4.mb.isActive?.({})?n.createElement(hw,{item:g4.mb,numUnreadComments:0}):p.render({isVisible:e,className:ht.Xs,displayAs:"block"}),renderFigjamTryCountdown:e=>e&&n.createElement(g1,null),renderDesignMiddleItems:e=>f.render({isVisible:e,displayAs:"block"})}),n.createElement("div",{key:"right-group",className:`${ht.GC} ${ht.gt} ${u}`},l?n.createElement(gr,null):r&&e.multiplayer&&e.openFile?n.createElement("div",{className:ht.XA},n.createElement(gT.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user})):n.createElement(n.Fragment,null,n.createElement(gt.n8,null),e.multiplayer&&e.openFile&&n.createElement(gT.Cv,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),!e.user&&n.createElement(gt.tO,null),i&&n.createElement(g5.Z,{recordingKey:e.recordingKey,extraPadding:m}),m&&n.createElement(hr,null),!hg&&n.createElement(hw,{item:g4.Fz,recordingKey:e.recordingKey,numUnreadComments:0}),e.showMissingFontsButton&&n.createElement(gt.w8,{recordingKey:e.recordingKey}),n.createElement(hf.HT,{recordingKey:a3.Pt(e,"zoomMenu")}),(0,fF.MP)()&&n.createElement(gI,{variant:"design"}))))))});function hM(e,t,a){let n=(0,fR.T)(e);return{loadingClassName:n?ht.Lq:"",hideToolsClassName:!n||t?.canEdit&&a?"":ht.yM}}function hP(e){return n.useMemo(()=>new fB.H4(()=>n.createElement(g2.fH,{recordingKey:a3.Pt(e,"filenameView")})),[e])}function hR(e){return(0,tF.GS)()?null:n.createElement(hS,{...e})}var hD=a(127775),hF=a(991167),hB=a(83909),hU=a(400333),hG=a(459381);function hH(e){return e.startsWith("mailto:")?-1!==e.indexOf("?")?e:e.substring(7):e}function hV(e){let t=(0,r.wA)(),[a,i]=n.useState(hH(e.hyperlinkLocation.url)),s=n.useRef(!0),c=n.useRef(a);n.useEffect(()=>{c.current=a},[a]);let d=n.useCallback(t=>ru.l7.user("set-hyperlink",()=>!l.glU.setHyperlink(hH(t),e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd)),[e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeEnd,e.hyperlinkLocation.rangeStart]);n.useEffect(()=>()=>{s.current&&(d(c.current),(0,J.sx)("Hyperlink Editor Updated Link On Dismiss"))},[d]);let m=a3.AF(e.recordingKey,"change",e=>{i(e.target.value.trim())}),p=a3.v_(e.recordingKey,"keydown",n=>{if((0,l4.jr)(n,l4.W0.NO))return a3.aH;if("Escape"===n.key)n.preventDefault(),s.current=!1,(0,J.sx)("Hyperlink Editor Cancelled On Escape"),l.glU.hideHyperlinkEditor();else if("Enter"===n.key){if(n.preventDefault(),s.current=!1,d(a))(0,J.sx)("Hyperlink Editor Invalid Link"),t(f.F.enqueue({message:(0,_.t)("hyperlink.invalid_link_plain")}));else if(""===a)(0,J.sx)("Hyperlink Editor Deleted Link"),t(f.F.enqueue({message:(0,_.t)("hyperlink.link_deleted")}));else{a&&hB.wt.reportEditAction("hyperlink_edit");let t={};if(a&&!a.startsWith("mailto:"))try{let n=new URL((0,hU.xT)(a)).hostname,r=e.editorType;t={domain:n,editorType:r}}catch(e){}(0,J.sx)("Hyperlink Editor Updated Link On Enter",t)}l.glU.hideHyperlinkEditor()}}),g=a3.rf(e.recordingKey,"click",a=>{s.current=!1,e.hyperlinkLocation&&ru.l7.user("clear-hyperlink",()=>l.glU.setHyperlink("",e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd)),t(f.F.enqueue({message:(0,_.t)("hyperlink.link_deleted")})),hB.wt.reportEditAction("hyperlink_edit"),l.glU.hideHyperlinkEditor(),a.stopPropagation()}),h=e.hyperlinkLocation.x,E=e.hyperlinkLocation.y,y=C.Y5.getViewportInfo(),v=Math.round(Math.min(Math.max(h,100),y.width-100)+y.x),b=Math.round(E+y.y);return(0,o.kc)().sites_text_links&&e.editorType===z.nT.Sites?n.createElement(lv.S7,{recordingKey:"hyperlinkEditor"}):n.createElement(hG.c,{url:a,location:new ae.Mi(v,b),onInputChange:m,onInputKeyDown:p,onBlur:u.lQ,onClickTrash:g})}var hK=a(555024),hz=a(140871),hW=a(522322),hj=a(117940),hq=a(425542);function hY(e){return{selectedView:e.selectedView,user:e.user,currentUserOrgId:e.currentUserOrgId,comments:e.comments,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,multiplayerEmoji:e.multiplayerEmoji,eyedropper:e.eyedropper,needsUpgrade:e.needsUpgrade,progressBarState:e.progressBarState,showingReconnectingModal:e.showingReconnectingModal,showingOpenDesktopAppModal:e.showingOpenDesktopAppModal,openFile:e.openFile,exportSettingsPickerShown:e.exportSettingsPickerShown,pagesList:e.mirror.appModel.pagesList,timerModalState:e.timer.modalState,timerTime:e.timer.time,universalInsertModal:e.universalInsertModal,isCommentsToolSelected:e.mirror.appModel.currentTool===l.NLJ.COMMENTS,loadingBackgroundColor:e.desktopNewTab.loadingBackgroundColor,isReadOnly:e.mirror.appModel.isReadOnly,currentPage:e.mirror.appModel.currentPage,hyperlinkLocation:e.mirror.appModel.hyperlinkLocation,onCanvasNameEditorInfo:e.mirror.appModel.onCanvasNameEditorInfo,topLevelMode:e.mirror.appModel.topLevelMode,showUi:e.mirror.appModel.showUi,showToolbar:!0,showKeyboardShortcuts:e.mirror.appModel.showKeyboardShortcuts,loadingEmbeds:e.mirror.appModel.loadingEmbeds,fileIsLoading:e.progressBarState.mode===l.Oin.HIDE_UI||e.progressBarState.mode===l.Oin.ON_AND_LOCKED,hasCursorBot:!!(0,o.kc)().internal_only_debug_tools||!!e.userFlags.has_cursor_bot_onboarding_v2}}function hX({fileKey:e}){let t=(0,r.wA)(),a=(0,r.Pj)(),i=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),o=(0,hz.jz)(),s=(0,hW.e_)()===hW.$_.ELIGIBLE,d=(0,R.Fk)(e=>e.getCurrentPage()?.guid);return n.useLayoutEffect(()=>{if(!i||!s)return;let n=a.getState(),r=o?.find(e=>e.inProgress),u=n.mirror.appModel.votingSessionInfo,m=u.sessionId&&o?o.find(e=>e.id===u.sessionId):null;if(r){if(r.id!==u.sessionId){t(y.au({}));let a=(0,M.VP)(n.loadingState,y.$c(e))||n.voting.lastInitiatedVotingSessionId===r.id;t(y.H1({votingStage:a?l.W8Y.JOINED:l.W8Y.NOT_JOINED}))}}else u.sessionId&&!m?t(y.H1({votingStage:l.W8Y.NO_SESSION})):!r&&u.sessionId&&u.votingStage!==l.W8Y.ENDED&&(t((m?.pageNodeId&&(0,c.oA)(m.pageNodeId))===d?y.H1({sessionId:u.sessionId,votingStage:l.W8Y.ENDED}):y.H1({votingStage:l.W8Y.NO_SESSION})),t(y.D6("")))},[e,t,o,i,s,a,d]),null}function hJ(){let e=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),t=n.useRef(!1);return n.useEffect(()=>{e&&!t.current&&((0,d.Z1)(),t.current=!0)},[e,t]),null}function hZ({children:e,versionHistoryEnabled:t=!0}){let a=(0,i.R)(hY),d=(0,v.n6)(),y=(0,r.wA)(),w=(0,A.TA)(),k=a.openFile?a.openFile.key:"",x=(0,G.I)(),T=(0,P.ut)(l.Ez5?.uiState().shouldShowAutoLayoutHintsIfExist,!1),N=(0,P.ut)(l.Ez5?.uiState().autoLayoutShortcutHints,new Map),S=(0,s.Rs)(O.Jpz,{key:k}),M=!1;if(S&&"loaded"===S.status&&a.openFile){let e=S.data.file;if(e&&w){let t=e.linkAccess,n=e.team?.isStarterTeam,r=e.team?.isStudentTeam?.status==="loaded"&&(0,c.oA)(e.team?.isStudentTeam),l=!!e.roles.find(e=>e.userId===w);a.openFile.canEdit&&t===L.PQ.EDIT&&(n||r)&&!l&&(M=!0)}}let R=(0,lL.R)(),D=a.openFile?.editorType==="design",F=(0,h.l7)(),B=(0,g.HQ)(),U=!a.showUi&&(0,W.TY)(a.dropdownShown),H=a.dropdownShown?.type===W.jv,V=H?a.dropdownShown?.data?.parameterEntryArgs:void 0,j=a.dropdownShown?.data?.fireQuickActionsTrackingEvent||u.lQ,q=a.topLevelMode===l.lyf.HISTORY,Y=!(0,hK.t)(),X=(0,n.useCallback)(e=>{y(E.eM({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))},[y]),J=(0,n.useCallback)(e=>{C.Y5.reparentRootElement(e),e&&e.addEventListener("drop",X)},[X]);return n.createElement(n.Fragment,null,(0,o.kc)().ee_color_management_debug?n.createElement(I,null):null,k&&n.createElement(hX,{fileKey:k}),!(m.Ay.isIpad||m.Ay.isIpadNative||m.Ay.isMobileBrowser||m.Ay.isMeetDevice)&&n.createElement(hJ,null),n.createElement("div",{className:hq.MY,"data-forward-events-to-fullscreen":!0},n.createElement(t4,null,(0,o.kc)().cursor_bot&&D&&a.hasCursorBot&&n.createElement(oa,null),!(F||B)&&n.createElement("div",{key:"fullscreen-container",ref:J}),n.createElement(od,null),n.createElement(t_.T,null),a.showToolbar&&n.createElement(hR,{numUnreadComments:d,selectedView:a.selectedView,recordingKey:"toolbarView"}),!a.fileIsLoading&&n.createElement(tu,null),a.openFile?.template&&n.createElement(tI,null),U&&n.createElement(nR.e,{key:"fullscreen-menu",dropdown:a.dropdownShown,recordingKey:"mainMenu"}),H&&n.createElement(p.tH,{boundaryKey:"QuickActionsOuter",onError:()=>{y(f.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(o9,{key:"quick-actions",parameterEntryArgs:V,fireTrackingEvent:j})),n.createElement(K,null),x&&n.createElement(p.tH,{boundaryKey:"QuickActionsV2",onError:()=>{y(f.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(fS,null)),R&&(0,o.kc)().ce_al_experiments_on&&T&&N.size>0&&n.createElement(ty,null),e,a.showUi&&t&&q&&!R&&n.createElement("div",{className:hq.yL},n.createElement(l1.yU,{recordingKey:"versionHistoryView"})),a.hyperlinkLocation&&n.createElement(hV,{hyperlinkLocation:a.hyperlinkLocation,editorType:a.selectedView.editorType,recordingKey:"hyperlinkEditor"}),n.createElement(tp.yq,null),a.progressBarState.mode!==l.Oin.OFF&&n.createElement(hD.z2,{editorType:(0,z.oD)(a.selectedView.editorType),progressBarMode:a.progressBarState.mode,progressBarType:a.progressBarState.type,left:0}),a.showingReconnectingModal&&n.createElement(hF.z,{clientType:"fullscreen"}),n.createElement(hj.Nd,null),n.createElement(hj.jx,{showStartModal:M}),a.dropdownShown&&!Y&&!m.Ay.isMeetDevice&&n.createElement(p.tH,{boundaryKey:"FullscreenContextMenu",onError:()=>{y(f.F.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(l0,{dropdownShown:a.dropdownShown,selectedView:a.selectedView,ariaLabelledBy:(0,_.t)("fullscreen.fullscreen_view.context_menu.aria_label")})),a.pickerShown?.id===b.C9&&n.createElement(aL,null),a.exportSettingsPickerShown.isShown&&n.createElement(nI,null),a.pickerShown?.id===on.O&&n.createElement(on.S,{recordingKey:"nudgeAmountPicker"}),a.eyedropper&&n.createElement(a5,null))),n.createElement(tm.s,null),a.showKeyboardShortcuts&&n.createElement(i8,{recordingKey:"keyboardShortcutPanel"}))}},117940:(e,t,a)=>{a.d(t,{jx:()=>eA,XI:()=>eP,qn:()=>eS,Nd:()=>eI,jS:()=>eR,RS:()=>eN,X_:()=>eD,P2:()=>eO,j6:()=>eM,Ky:()=>eL});var n=a(411855),r=a(188507),l=a(587670),i=a(737947),o=a(374626),s=a(886653),c=a(939863),d=a(964881),u=a(956143),m=a(225266),p=a(662275),_=a(356390),f=a(122983),g=a(29680),h=a(335682),E=a(860178),y=a(38329),v=a(988022),b=a(945020),C=a(515823),w=a(834898),k=a(629019),x=a.n(k),T=a(91408),N=a(572206),S=a(818),I=a(506599),A=a(226055),L=a(617453),O=a(848661),M=a(555074),P=a(457630),R=a(100197),D=a(433861),F=a(239671),B=a(279702),U=a(593392),G=a(187882),H=a(860168);let V="multi_edit_offscreen_indicators--indicatorGraphicBlue--rtnWM",K="multi_edit_offscreen_indicators--indicatorGraphicPurple--1O1nb",z=(0,T.jz)(H.J4v),W=(0,T.jz)(H.v5y),j=(0,T.jz)(H.M$q),q=(0,T.jz)(H.y9S);function Y(){let e=(0,M.kl)("selectionRegions"),t=(0,O.E7)(e),a=(0,r.d4)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.editorType===F.nT.Design),l=a&&!!t&&t.length>=1,i=(0,P._X)({subscribeToUpdates_expensive:l});return a&&i&&t?n.createElement(X,{viewportInfo:i,selectionRegions:t}):null}function X({viewportInfo:e,selectionRegions:t}){let a=(0,n.useContext)(D.kw),l=(0,n.useMemo)(()=>a.getCommentsWrapperOffset(e),[a,e]),i=l.x,o=l.y,s={transform:`translate(${i}px, ${o}px)`},c=(0,A.GS)(),d=(0,S.b)(),u=c&&!d,m=(0,r.d4)(e=>e.mirror?.appModel.showUi),p=(0,L.dP)()+(u?j:z),_=(0,L.qw)()+p+(u?j:W),f=(0,G.Ye)(),{isPropertiesPanelCollapsed:g}=(0,I.iT)(),h=(u&&m&&!f?p:0)-3.5,E=(u&&m&&!g?_:0)-7,y=(0,R.J2)((0,L.UK)().renderRulers)&&m?q:0,v={x:h+y,y:-3.5+y,width:e.width-E-y,height:e.height- -7-y},b={x:h+y,y:-3.5+y,width:e.width-E-y,height:e.height- -7-y};return n.createElement(n.Fragment,null,n.createElement(U.p,null,n.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"multi_edit_offscreen_indicators--overlay--NcZeV",style:s},!!t?.length&&n.createElement("div",null,t.map((t,a)=>{let r=(0,P.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),l=(0,P.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),i={x:r.x,y:r.y,width:l.x-r.x,height:l.y-r.y};return i.x<v.x+v.width&&i.x+i.width>v.x&&i.y+i.height>v.y&&i.y<v.y+v.height?null:n.createElement(J,{key:a,viewportBounds:b,viewportInfo:e,indicatorViewportBounds:i,selectionBoundsScaledWidth:function(e,t){let a=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-a,10)}(i,b),selectionBoundsScaledHeight:function(e,t){let a=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-a,10)}(i,b),selectionRegionType:t.regionType})})))))}function J({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:a,selectionBoundsScaledWidth:l,selectionBoundsScaledHeight:i,selectionRegionType:o}){let s=function(e,t){let a=0-t.x,n=0+e.width-t.x,r=0-t.y,l=0+e.height-t.y,i=Math.abs(a)<n?a:n,o=Math.abs(r)<l?r:l,s=a<0!=n<0,c=r<0!=l<0;return s&&c?Math.abs(i)<Math.abs(o)?{x:t.x+i,y:t.y}:{x:t.x,y:t.y+o}:!s&&c?{x:t.x+i,y:t.y}:s&&!c?{x:t.x,y:t.y+o}:{x:t.x+i,y:t.y+o}}(t,{x:a.x+a.width/2,y:a.y+a.height/2});s.x-=l/2,s.y-=i/2;let c=(0,r.d4)(e=>e.mirror?.appModel.showUi),d=(0,R.J2)((0,L.UK)().renderRulers)&&c?q:0,u=(0,A.GS)(),m=(0,S.b)(),p=u&&!m,_=p?j:z,f=p?j:W,g=(0,L.dP)()+_,h=(0,L.qw)()+f,E=(0,G.Ye)(),{isPropertiesPanelCollapsed:y}=(0,I.iT)(),v=1+(c&&p&&!E?g+1:0)+d,b=Math.max(v,t.width-1-l-(c&&p&&!y?h+1:0)),C=1+d,w=Math.max(C,t.height-1-i-1),k=N.Mi.bound(s,{min:{x:v,y:C},max:{x:b,y:w}}),T=a.y+a.height<e.y,O=a.y>e.y+e.height,M=a.x+a.width<e.x,P=a.x>e.x+e.width;k.x+=t.x,k.y+=t.y;let D=Math.min(t.width-2-(c&&p?h+g:0),l),F=Math.min(t.height-2,i);return n.createElement("div",{className:"multi_edit_offscreen_indicators--indicator--taq8e",style:{transform:`translate3D(${k.x}px, ${k.y}px, 0)`}},(T||O)&&n.createElement("div",{style:{position:"absolute",height:1.5,width:D,marginTop:O?F-1.5:0},className:x()({[V]:o===B.fV.MIXED_OR_NO_SYMBOLS,[K]:o===B.fV.SYMBOLS_ONLY})}),(M||P)&&n.createElement("div",{style:{position:"absolute",left:0,height:F,width:1.5,marginLeft:P?D-1.5:0},className:x()({[V]:o===B.fV.MIXED_OR_NO_SYMBOLS,[K]:o===B.fV.SYMBOLS_ONLY})}))}var Z=a(108401),Q=a(346124),$=a(707458),ee=a(498750),et=a(153234),ea=a(259927),en=a(83909),er=a(662531),el=a(283942),ei=a(843495),eo=a(32067);function es(e,t,a){let i;let{padding:o,margin:s,...c}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),d=(0,P._X)({subscribeToUpdates_expensive:!0}),u=d?.zoomScale||1,[m,p]=n.useState(e),[f,g]=n.useState(!0),h=n.useRef(null),E=n.useRef(null),[y,v]=n.useState(0),[b,C]=n.useState(!1),w=n.useCallback(e=>{switch(c.mode){case l.nzw.FRAME_NAME:v(Math.min(e,a*u)+7);break;case l.nzw.RESPONSIVE_SET_NAME:case l.nzw.SECTION_NAME:let t=a*u;e<t?v(e):v(t-2*s.x);break;case l.nzw.FLOW_STARTING_POINT_NAME:v(Math.min(e,a)+4);break;case l.nzw.MEASUREMENT_FREE_TEXT:v(Math.min(e,a*u)+8.5)}},[c.mode,a,u,s.x]);n.useLayoutEffect(()=>{E.current&&w(E.current.scrollWidth)},[m,w]),n.useEffect(()=>{e&&(g(!0),p(e))},[e]),n.useEffect(()=>{let e=e=>{let t=!(h.current&&h.current.contains(e.target)),a=document.querySelector('[data-resource-id="rename-selection"]'),n=e.target&&a&&a.contains(e.target);t&&!n&&l.glU.hideOnCanvasNameEditor()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let k=et.AF("onCanvasRename","change",e=>{p(e.target.value)}),x=et.v_("onCanvasRename","keydown",e=>{if(!b)switch(e.key){case"Escape":case"Enter":case"Tab":e.preventDefault(),g(!1),t(m),_.Y5.commit(),l.glU.hideOnCanvasNameEditor();break;case"=":case"-":(0,ee.Fo)(e)&&(0,el.f7)(e,!0)}});if(!d)return null;let T={},N=(0,P.Z0)(d,{x:c.x,y:c.y},!1),S={x:N.x+d.x,y:N.y+d.y};if(c.mode===l.nzw.FLOW_STARTING_POINT_NAME&&(S.x-=32+y,S.y=Math.round(S.y)),c.mode===l.nzw.FRAME_NAME){let e=(0,Q.lerp)(5,9,(d.zoomScale-.1)*5);e=(0,Q.clamp)(e,5,9)-3,S.y-=e}switch(c.mode===l.nzw.RESPONSIVE_SET_NAME&&(S.x+=24),c.mode===l.nzw.MEASUREMENT_FREE_TEXT?c.invertTextPosition?T.transform=c.isCentered?`translate(calc(${S.x}px - 50%), ${S.y-24}px)`:`translate(calc(${S.x-6}px - 100%), ${S.y-9.5}px)`:T.transform=c.isCentered?`translate(calc(${S.x}px - 50%), ${S.y+7}px)`:`translate(${S.x+6}px, ${S.y-9.5}px)`:T.transform=`translate(${S.x}px, ${S.y}px) rotate(${c.angle}deg)`,c.mode){case l.nzw.FRAME_NAME:i="on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V";break;case l.nzw.FLOW_STARTING_POINT_NAME:i="on_canvas_name_editor--flowStartingPointNameInput--lLEZF";break;case l.nzw.MEASUREMENT_FREE_TEXT:i="on_canvas_name_editor--measurementFreeTextInput--gJle8 sf_pro--uiFontWithSFProFallback--m-p9V"}return{containerRef:h,measurerRef:E,containerStyle:T,inputClassname:i,editingName:m,onFocus:e=>{e.target.select(),E.current&&w(E.current.scrollWidth)},onChange:k,onKeyDown:x,onBlur:e=>{f&&(t(e.target.value),_.Y5.commit(),e.relatedTarget&&"focus-target"===e.relatedTarget.className&&l.glU.hideOnCanvasNameEditor())},width:y,setIsComposing:C}}function ec(e){let t=es(e.name,e.setName,e.maxWidth);if(!t)return null;let{containerRef:a,measurerRef:r,containerStyle:l,editingName:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,width:u,setIsComposing:m,inputClassname:p}=t;return n.createElement("div",{ref:a,className:x()(e.containerClassname,ea.Dm,"on_canvas_name_editor--containerOnLight--6zUKs"),style:l},n.createElement("span",{ref:r,className:"on_canvas_name_editor--measurer--KTnSp"},i),n.createElement("input",{autoFocus:!0,dir:"auto",className:p,style:{width:`${u}px`},value:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onCompositionEnd:()=>m(!1),onCompositionStart:()=>m(!0)}))}function ed(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width),a=(0,eo.JA)();return e&&t&&a?n.createElement(ec,{name:e,setName:t=>{e&&(en.wt.reportEditActionIf(e!==t,"rename-frame"),er.l7.user("rename-frame",()=>ei.i(a,t)))},maxWidth:t}):null}function eu(){let[e,t]=(0,M.lJ)("prototypeStartingPoint"),a=O.E7(e)?.name||"";return a?n.createElement(ec,{name:a,setName:a=>{a&&t({name:a,description:O.E7(e)?.description||"",position:O.E7(e)?.position||""})},maxWidth:93,containerClassname:"on_canvas_name_editor--flowStartingPointNameContainer--JdVwd"}):null}function em(){let{measurementId:e,initMeasurementText:t}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),a=(0,r.d4)(e=>e.mirror.appModel.currentPage),i=n.useMemo(()=>l.w3z.findMeasurement(e,a),[e,a]),o=n.useRef(!i?.freeText);return i?n.createElement(ec,{name:t,setName:e=>{let a=$.q.instance.get(i.fromNode);if(a){if(o&&e===t)return;er.l7.user("free-text-annotation-measurement",()=>{a.updateMeasurementFreeText(i.id,e)})}},maxWidth:150}):null}function ep(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.name),t=(0,r.d4)(e=>e.mirror.selectionProperties.width);return null!=e&&t?n.createElement(e_,{name:e,setNameWithNodeId:(t,a)=>{en.wt.reportEditActionIf(e!==a,"rename-section"),er.l7.user("rename-section",()=>ei.i(t,a?a.trim():""))},maxWidth:t}):null}function e_(e){let{name:t,setNameWithNodeId:a,maxWidth:i}=e,o=(0,eo.uQ)(),s=es(t,e=>{o&&a(o,e)},i),c=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===l.m1T.DESIGN_LAYOUT),{fontSize:d,top:u,left:m,height:p,horizontalPadding:_,verticalPadding:f,borderRadius:g}=function(e,t,a){let{fontSize:n,padding:i,margin:o,cornerRadius:s}=(0,r.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),c=l.qmM.editorTypeConfig().showBigSectionNamePills(),d=i.x,u=i.y,m=c?24:2*i.y+n,p=0,_=-o.y-m,f=l.qmM.editorTypeConfig().sectionNestedZoomLevel();return(!e||t<=f)&&(p=o.x,_=o.y),{fontSize:n,height:m,top:_,left:p,horizontalPadding:d,verticalPadding:u,borderRadius:s}}((0,r.d4)(e=>{if(null===o)return!1;let t=e.mirror.sceneGraph.get(o),a=e.mirror.appModel.currentPage,n=!!t?.isResponsiveSet;return t&&("SECTION"===t.type||n)&&t.parentGuid===a}),Math.round(100*(0,P._X)({subscribeToUpdates_expensive:!0}).zoomScale),0);if(!s||!o)return null;let{containerRef:h,measurerRef:E,containerStyle:y,editingName:v,onFocus:b,onChange:C,onKeyDown:w,onBlur:k,width:x,setIsComposing:T}=s,N=c?"normal":500;return n.createElement("div",{ref:h,className:`on_canvas_name_editor--sectionNameContainer--D8aez ${ea.Dm}`,style:y},n.createElement("span",{ref:E,className:"on_canvas_name_editor--sectionMeasurer--kfBij",style:{fontSize:d,fontWeight:N,paddingLeft:_,paddingRight:_,paddingTop:f,paddingBottom:f}},v),n.createElement("input",{autoFocus:!0,dir:"auto",className:"on_canvas_name_editor--sectionNameInput--MgIUi",style:{width:`${x}px`,fontSize:d,fontWeight:N,left:m,top:u,height:p,borderRadius:g,paddingLeft:_,paddingRight:_,paddingTop:f,paddingBottom:f},value:v,onFocus:b,onChange:C,onKeyDown:w,onBlur:k,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onCompositionEnd:()=>T(!1),onCompositionStart:()=>T(!0)}))}var ef=a(384714),eg=a(102930),eh=a(55069),eE=a(776250),ey=a(672517),ev=a(520425),eb=a(488578),eC=a(321112);function ew(e){let t=(0,E.iZ)();return n.createElement(ey.fu,{name:"Starter team edit confirmation modal",properties:{userId:t?.id,userEmail:t?.email}},n.createElement(eb.Rw,{confirmationTitle:(0,c.t)("fullscreen.starter_team_edit_modal.open_this_link"),confirmText:"Continue",onConfirm:()=>{(0,eE.sx)("Starter File Edit Modal Confirm Clicked",{fileKey:e.fileKey}),ev.L.createStarterTeamFileRole({key:e.fileKey})},disableClickOutsideToHide:!0,hideOnConfirm:!1,size:"small",hideCancel:!1,hideClose:!0,onCancel:()=>{(0,eE.sx)("Starter File Edit Modal Cancel Clicked",{fileKey:e.fileKey}),i.Ay.redirect("/files/recents-and-sharing")}},n.createElement("div",{className:eC.jE},(0,c.tx)("fullscreen.starter_team_edit_modal.when_you_open_this_link_your_email_may_be_visible",{email:t?.email}))))}var ek=a(860601);let ex=(0,a(237870).Ju)(function(e){return n.createElement(eb.Nb,{size:"small",className:eC.yl,disableClickOutsideToHide:!0,hide:ek.lQ},n.createElement("div",{className:eC.DD},(0,c.tx)("file_migration.updating.title")),n.createElement("div",{className:eC.jE},(0,c.tx)("file_migration.updating.message")))},"FileMigrationWarningModal");function eT(){return(0,r.d4)(e=>e.progressBarState)}let eN=(0,s.xx)((e,t,a)=>{e(m.gI()),e(u.mV({}))});function eS(){switch((0,g.p8)("onCanvasNameEditorInfo").mode){case l.nzw.FRAME_NAME:return n.createElement(ed,null);case l.nzw.FLOW_STARTING_POINT_NAME:return n.createElement(eu,null);case l.nzw.SECTION_NAME:return n.createElement(ep,null);case l.nzw.MEASUREMENT_FREE_TEXT:return n.createElement(em,null);case l.nzw.RESPONSIVE_SET_NAME:return n.createElement(ep,null);default:return null}}function eI(){let e=eT(),t=(0,r.d4)(e=>e.showingOpenDesktopAppModal),a=(0,r.wA)();if(e.mode!==l.Oin.OFF)return n.createElement(n.Fragment,null);switch(t){case b.kF.FOR_OPEN:return n.createElement(eg.g,{dispatch:a});case b.kF.FOR_MENU:return n.createElement(ef.s,{dispatch:a})}return n.createElement(n.Fragment,null)}function eA(e){let t=(0,h.q5)(),a=(0,E.iZ)();return e.showStartModal&&a&&t&&t.key?n.createElement(ew,{fileKey:t.key}):n.createElement(n.Fragment,null)}function eL(){let e=(0,n.useRef)(null),t=(0,n.useRef)(!1),a=eT(),i=(0,r.wA)(),o=(0,r.d4)(e=>e.needsUpgrade),s=(0,n.useCallback)(()=>{null!==e.current&&(clearTimeout(e.current),e.current=null)},[e]),c=(0,n.useCallback)(()=>{s(),e.current=setTimeout(()=>{t.current=!0,o&&a.mode!==l.Oin.OFF&&i((0,p.to)({type:ex}))},2e4)},[o,a,i,s]),d=(0,n.useCallback)(()=>{t.current&&i(p.Ce()),t.current=!1,s()},[t,s,i]);(0,n.useEffect)(()=>(_.Y5.fromFullscreen.on("multiplayerConnect",c),_.Y5.fromFullscreen.on("multiplayerDisconnect",s),_.Y5.fromFullscreen.on("multiplayerGotSchema",d),()=>{_.Y5.fromFullscreen.removeListener("multiplayerConnect",c),_.Y5.fromFullscreen.removeListener("multiplayerDisconnect",s),_.Y5.fromFullscreen.removeListener("multiplayerGotSchema",d),s()}),[s,c,d])}function eO(e,t,a){!t.current&&function(e,t){if(t===l.NLJ.VECTOR_PENCIL||t===l.NLJ.ERASER||t===l.NLJ.HIGHLIGHTER){var a;return a="figjam",(0,v.uE)("Pointer Input",y.D.getState(),{inputSource:e.pointerType,tool:function(e){switch(e){case l.NLJ.VECTOR_PENCIL:return"VECTOR_PENCIL";case l.NLJ.ERASER:return"ERASER";case l.NLJ.HIGHLIGHTER:return"HIGHLIGHTER"}}(t),productType:a}),!0}return!1}(e,a)&&(t.current=!0)}function eM(e,t){t.current||(t.current=!0)}function eP({commentsDetailContainerRef:e}){let t=(0,g.p8)("topLevelMode")===l.lyf.HISTORY,a=(0,r.d4)(e=>e.openFile),i=(0,r.d4)(e=>e.user),o=(0,g.p8)("currentPage"),s=(0,r.d4)(e=>e.comments),c=(0,d.l7)(),u=s.activeThread?.id||null,m=s.showOnlyParticipating,p=s.showResolved;return n.createElement(n.Fragment,null,n.createElement(eh.Ay,null),i&&a&&!t&&!c&&n.createElement(w.$2,{showOnlyParticipatingComments:m,showResolvedComments:p,pageId:o,activeId:u,renderDetailContainerInPortal:!0,detailContainerPortal:e.current}),n.createElement(Z.yL,null),n.createElement(Y,null))}function eR(){l.h3O?.detach();let e=document.getElementById("fullscreen-root");e?.remove()}function eD(e,t){let{openFile:a,wasInWorkshop:n,previousCanEdit:r,previousCanView:l,wasInUnclaimedTryFile:s,previousFileKey:d}=e;if(null==a){n||(eR(),o.zl.get(C._)||(0,f.A7)((0,c.t)("404.file_no_access.title"),t));return}let u=s&&!a.isTryFile;if((null!==r&&a.canEdit!==r||null!==l&&a.canView!==l)&&!u&&a.key===d){let e=new URLSearchParams(i.Ay.location.search);e.set("perms-refresh","1"),i.Ay.replace(`${i.Ay.location.pathname}?${e.toString()}`,i.Ay.location.state),i.Ay.reload("file access changed")}}},563814:(e,t,a)=>{a.d(t,{O:()=>m});var n=a(411855),r=a(188507),l=a(203264),i=a(626217),o=a(143922),s=a(598393),c=a(29680),d=a(286723),u=a(118335);function m(){let e=(0,r.wA)(),t=(0,c.aV)(),a=(0,r.d4)(e=>e.selectedView.compareChangesVersionId),m=(0,s.VI)(),p=(0,r.d4)(e=>e.selectedView?.view==="fullscreen"&&e.selectedView.compareChangesNodeId||null),_=(0,s.WL)(p)??m,f=(0,l.ei)(_?.id),g=(0,i.i)(_),{versions:h,versionsQueryLoaded:E}=(0,d.DS)(_?.id),y=!E||0===h.length||!f,v=(0,r.d4)(e=>e.modalShown?.type===u.EH.type),b=(0,o.dU)(_?.id??null,"cc_version_id_url");n.useEffect(()=>{a&&!t&&E&&!v&&(g&&!y?b():(0,u.L$)(void 0,e,!1,null))},[a,e,t,v,y,g,b,E])}},994878:(e,t,a)=>{a.d(t,{C_:()=>g,E0:()=>u,iv:()=>_,LP:()=>f,JI:()=>p,v2:()=>m});var n=a(411855),r=a(188507),l=a(634832),i=a(587670),o=a(91408),s=a(563706),c=a(809831),d=a(860168);let u=(0,o.hG)(d.tui);function m(){let e=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:a}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||a.onCanvasNameEditorInfo.mode===i.nzw.SECTION_NAME)),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,c.lg)()?e?40:t&&s.XN?40:a?20+u/2:i.qmM?.shouldRenderTableUiForSelection()!==i.miS.HIDE?20+u/2:16:8}function p(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function _(e,t,a,n){switch(n){case i.cfv.ABOVE:return a<e.y?i.cfv.ABOVE:i.cfv.BELOW;case i.cfv.BELOW:return a>e.y?i.cfv.BELOW:i.cfv.ABOVE;case i.cfv.LEFT:return t<e.x?i.cfv.LEFT:i.cfv.RIGHT;case i.cfv.RIGHT:return t>e.x?i.cfv.RIGHT:i.cfv.LEFT;default:(0,l.assertNever)(n)}}function f(e){let t=n.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),a=n.useCallback(()=>{let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&e.current?.animate(),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:n.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,a()),t.current.lastSelection=e},[a]),markPositionChanged:n.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,a()),n.lastMidpoint=e},[a])}}let g=n.forwardRef(function({children:e},t){let a=n.useRef(null);return n.useImperativeHandle(t,()=>({animate:()=>{a.current&&(a.current.style.animation="none",a.current.offsetTop,a.current.style.animation="")}})),n.createElement("div",{ref:a,className:"inline_editor_layer--animationRoot--pX-db"},e)})},648836:(e,t,a)=>{a.d(t,{k:()=>h});var n=a(411855),r=a(188507),l=a(634832),i=a(587670),o=a(374626),s=a(592096),c=a(809831),d=a(395701),u=a(555074),m=a(457630),p=a(100197),_=a(425187),f=a(260378),g=a(994878);function h({children:e,isShown:t,centerInFrame:a,anchorToRect:l,showInReadOnly:o}){let s;let[c,d]=n.useState(!1),[_,f]=n.useState(!1),h=n.useRef(null),{markPositionChanged:y,markSelectionChanged:v}=(0,g.LP)(h),b=(0,r.d4)(({mirror:{appModel:e}})=>[i.QOV.DEFAULT,i.QOV.SELECTING_TEXT,i.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),C=(0,r.d4)(({mirror:{appModel:e}})=>e.isReadOnly),w=(0,m._X)({subscribeToUpdates_expensive:t}),k=(0,p.J2)(i.Ez5.canvasViewState().selectionBoundingRect),x=(0,p.J2)(i.Ez5.canvasViewState().inlineMenuTarget),T=l||x?.boundingBox||k,N=(0,g.JI)(),S=(0,r.d4)(e=>e.mirror.sceneGraphSelection),I=(0,u.kl)("isTableSublayerSelected"),A=(s=i.cfv.ABOVE,x?.preferredPosition?s=x.preferredPosition:I&&(s=i.cfv.BELOW),s),L=!!N||!w||!T||!b||C&&!o||!t;n.useEffect(()=>{(L||_)&&c&&d(!1)},[L,c,_]);let O=w?.offsetX||0,M=w?.offsetY||0;return(n.useEffect(()=>{d(!1)},[S,O,M]),n.useEffect(()=>{v(S)},[S,v]),L)?n.createElement(g.C_,{ref:h},null):n.createElement(E,{viewport:w,animationContainerRef:h,centerInFrame:a,boundingBox:T,preferredRelativePosition:A,setSizeChanged:f,isHovering:c,setIsHovering:d,markPositionChanged:y},e)}function E({children:e,viewport:t,animationContainerRef:a,centerInFrame:r,boundingBox:u,preferredRelativePosition:p,setSizeChanged:h,isHovering:E,setIsHovering:y,markPositionChanged:v}){let[b,C]=(0,o.fp)(_.f),w=b.positionRelativeToSelection,k=n.useRef(null),x=(0,c.lg)(),T=(0,g.v2)(),N=r?0:T,S=(0,s.FQ)(),I=(0,m.Yb)(t,u),A=n.useMemo(()=>({...I,x:I.x+t.x,y:I.y+t.y}),[I,t]),L=n.useCallback((e,a,n,r)=>{if(t){let l=e-t.x,o=a-t.y,s=(0,m.$$)(t,{x:l,y:o-r/window.devicePixelRatio});i.glU.figjamInlineMenuPositionUpdate(s.x,s.y,n.height)}v({x:e+n.width/2,y:a+n.height/2});let l=(0,g.iv)(A,e,a,p);w!==l&&C({type:"SET_POS_RELATIVE_TO_SELECTION",payload:l})},[t,v,A,w,C,p]),O=n.useCallback((e,t,a)=>{switch(a){case i.cfv.ABOVE:return[(0,f.Al)(e,t),r?(0,f.tJ)(e,t):(0,f.T1)(e,t,N)];case i.cfv.BELOW:return[(0,f.Al)(e,t),r?(0,f.tJ)(e,t):(0,f.DH)(e,t,N)];case i.cfv.LEFT:return[(0,f.Dl)(e,t,20),r?(0,f.tJ)(e,t):e.y];case i.cfv.RIGHT:return[(0,f.Yh)(e,20),r?(0,f.tJ)(e,t):e.y];default:(0,l.assertNever)(a)}},[N,r]),M=n.useCallback((e,t,a)=>{let[n,r]=O(e,t,a);return d.r.fromOriginAndSize(n,r,t.width,t.height)},[O]),P=n.useCallback((e,t,a,n,l)=>!r&&a===i.cfv.ABOVE&&n.top()>l.top()?M(e,t,i.cfv.BELOW):!r&&a===i.cfv.BELOW&&n.top()<l.top()?M(e,t,i.cfv.ABOVE):a===i.cfv.LEFT&&n.left()>l.left()?M(e,t,i.cfv.RIGHT):a===i.cfv.RIGHT&&n.left()<l.left()?M(e,t,i.cfv.LEFT):n,[M,r]),R=n.useCallback((e,a,n,r)=>{let l=d.r.fromOriginAndSize(t.x,t.y,t.width,t.height),i=M(e,a,p),o=S(i,l,r),s=P(e,a,p,o,i);return s!==o&&(o=S(s,l,r)),[o.left(),o.top()]},[p,t.height,t.width,t.x,t.y,S,M,P]);if(!(0,m.ZT)(I,t))return n.createElement(g.C_,{ref:a},null);let D="whiteboard"===x&&E?{transition:"transform 0.1s"}:{};return D.WebkitUserSelect="none",n.createElement(f.lM,{style:D,targetRect:A,onMouseEnter:()=>{y(!0),k.current&&clearTimeout(k.current),k.current=null},onMouseLeave:()=>{k.current=setTimeout(()=>y(!1),100)},offset:N,positionXY:R,onPosition:L,frozen:E,setSizeChanged:h},n.createElement(g.C_,{ref:a},e))}},665194:(e,t,a)=>{a.d(t,{h5:()=>f,hs:()=>g,mb:()=>_,sv:()=>h});var n=a(634832),r=a(966712),l=a(226055),i=a(177505),o=a(335682),s=a(694687),c=a(187882),d=a(733378);let u=/^Page \d+$/;var m=(e=>(e.FILE_LOADING="fileLoading",e.K_12="k12",e.FLAG="flag",e.READ_ONLY="readOnly",e.PERSONAL_DRAFT="personalDraft",e))(m||{});function p(){let e=(0,o.q5)(),t=(0,c.cT)(),a=(0,s.sZ)();if(!e)return"fileLoading";if(!(0,r.kc)().figjam_pages_for_education){let t=!!a?.k12_google_org,n=!!e.team?.studentTeamAt;if(t||n)return"k12"}return(0,r.kc)().figjam_pages_creation?t?"readOnly":(0,d.Qy)(e)?"personalDraft":null:"flag"}var _=(e=>(e.ADD_PAGE="addPage",e.VIEW_PAGES="viewPages",e))(_||{});function f({nonDividerPageCount:e,isDropdownOpen:t}){let a=p(),r=(0,i.nn)(),o=(0,l.GS)(),s=r&&!u.exec(r);if("fileLoading"===a)return null;if(e>1||s||t&&!o)return"viewPages";switch(a){case null:return"addPage";case"flag":case"readOnly":case"personalDraft":return"viewPages";case"k12":return null;default:(0,n.assertNever)(a)}}function g(){return null===p()}function h(){return null===p()}},547841:(e,t,a)=>{a.d(t,{a:()=>u});var n=a(411855),r=a(91408),l=a(179479),i=a(374626),o=a(177505),s=a(653671),c=a(860168);let d=(0,r.hG)(c.xM9);function u({pagesList:e,scrollContainerRef:t}){let a=(0,o.dh)(),r=(0,i.md)(s.l7),c=(0,l.F)(e),d=(0,l.F)(!!r);(0,n.useLayoutEffect)(()=>{d.current||m({pageId:a,pagesList:c.current,scrollContainerRef:t})},[a,t,c,d]),(0,n.useLayoutEffect)(()=>{r&&m({pageId:r,pagesList:c.current,scrollContainerRef:t})},[r,t,c])}function m({pageId:e,pagesList:t,scrollContainerRef:a}){let n=a.current;if(!n)return;let r=t.findIndex(t=>t.nodeId===e);if(-1===r)return;let l=r*d,i=l+d,o=n.getScrollTop(),s=o+n.getTrackHeight();l<o?n.scrollTo(l-d/2):i>s&&n.scrollTo(o+(i-s)+d/2)}},294461:(e,t,a)=>{a.d(t,{P:()=>w});var n=a(411855),r=a(326331),l=a(327006),i=a(629019),o=a.n(i),s=a(91408),c=a(374626),d=a(574176),u=a(939863),m=a(259927),p=a(226055),_=a(457630),f=a(544403),g=a(719624),h=a(860168);let E="floating_layers_panel--isExpanded--qjuJR",y="floating_layers_panel--chevronIcon--rNFmc";var v=a(87616),b=a(440691);let C=(0,s.jz)(h.M$q);function w({children:e,title:t=null,nodeIcon:a=null,panelActions:i=null,onSizeChange:s,bottom:h,left:w,hide:k}){let[x,T]=n.useState(!1),N=(0,p.GS)(),S=n.useRef(null),I=(0,_.QU)({subscribeToUpdates_expensive:!0}),A=(0,c.md)(g.Sf),L=N?(I-(A?.current?.clientWidth??0))/2-C-6:I/2,[O,M]=n.useState(230),P=x?Math.min(O,L):230;return n.useEffect(()=>{s&&s(P)},[P,s]),n.createElement(f.w,{className:o()("floating_layers_panel--container---6H4q",m.Dm,"devHandoffFloatingLayersPanel","pagesPanel"),style:{bottom:h,left:w,display:k?"none":void 0},ref:S,size:P,defaultSize:230,disableResizing:!x,side:"right",onResize:e=>{M(Math.min(Math.max(e,230),L))},id:"focus-floating-left-panel","data-cancel-insertable-resource-drag-and-drop":!0},n.createElement("div",{className:"floating_layers_panel--containerInner--GVica"},n.createElement("button",{className:o()("floating_layers_panel--header--YtDpH",{[E]:x}),onClick:function(){T(!x)}},!x&&a,n.createElement("div",{className:"floating_layers_panel--middle--QR7nt"},n.createElement("div",{className:o()("floating_layers_panel--title--pH3fr",{"floating_layers_panel--hasNoIconWhenCollapsed--F2ap6":!a&&!x})},(0,u.tx)("dev_handoff.tag.layers")),!x&&t),x&&i,N&&(x?n.createElement(r.r,{className:y}):n.createElement(l.a,{className:y})),!N&&(x?n.createElement(d.B,{className:y,svg:v.A}):n.createElement(d.B,{className:y,svg:b.A}))),n.createElement("div",{className:o()("floating_layers_panel--listContainer--Kr9-C",{[E]:x})},e)))}},952020:(e,t,a)=>{a.d(t,{B:()=>p});var n=a(411855),r=a(380620),l=a(939863),i=a(356390),o=a(335682),s=a(498606),c=a(439398),d=a(334290),u=a(830375),m=a(194569);function p(){let e=(0,o.q5)(),t=(0,l.t)("fullscreen_actions.expand-ui");return n.createElement(r.E,{className:"collapsed_left_panel_toggle--button--NkaCv",onClick:()=>i.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),"aria-label":t,recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-tooltip-type":s.Ib.TEXT,"data-tooltip":t,"data-tooltip-shortcut-key":"toggle-sidebar"}},n.createElement("div",{className:"collapsed_left_panel_toggle--fileName--6MLkO"},n.createElement(u.n,null)),e&&n.createElement(c.s,{openFile:e}),n.createElement(d.n8,null),n.createElement(m.A,null))}},795847:(e,t,a)=>{a.d(t,{s:()=>b});var n=a(411855),r=a(188507),l=a(517333),i=a(563706),o=a(140908),s=a(818),c=a(226055),d=a(227944),u=a(29680),m=a(7860),p=a(641344),_=a(334290),f=a(111075),g=a(952020),h=a(8228),E=a(107190),y=a(145479),v=a(194569);function b(){let e=(0,c.GS)(),t=(0,s.b)(),{isLeftPanelCollapsed:a}=(0,n.useContext)(m.t),l=(0,u.aV)(),i=(0,r.d4)(e=>e.mirror.appModel.showUi);return e&&!l&&i?n.createElement(h._,{isInsetEditor:t,isCollapsed:a},n.createElement(_.xG,null),a?n.createElement(g.B,null):n.createElement(C,null)):null}function C(){let e=(0,d.Zr)("toggle-sidebar"),t=(0,o.Ut)()&&!l.eD&&!i.nW;return n.createElement("div",{className:"design_dev_handoff_left_panel_island--expandedIconSection--8-YFf"},n.createElement(_.n8,null),n.createElement(E.E,null),n.createElement(y.J,null),n.createElement(p.A,null),t&&n.createElement(f.$0,null),e&&n.createElement(v.n,null))}},72112:(e,t,a)=>{a.d(t,{m:()=>_});var n=a(411855),r=a(188507),l=a(776250),i=a(153234),o=a(939863),s=a(369870),c=a(318812),d=a(459343),u=a(377020),m=a(267850),p=a(860142);function _(e){let t=(0,r.wA)(),a=(0,c.Um)(),_=a?.type===u.eg;return(0,r.d4)(e=>e.isRenaming)?null:n.createElement("div",null,n.createElement(d.c,{className:"file_menu--chevron--55jNJ",isUI3:!0,dropdownKey:u.eg,showingDropdown:_,tabIndex:0,ariaLabel:(0,o.t)("fullscreen.filename_view.edit_file_menu"),dataTestId:"filename-menu-chevron",recordingKey:i.Pt(e.recordingKey,"chevron"),dataOnboardingKey:u.O0,dispatch:t,toggleOnClick:!0}),(0,s.MP)()&&n.createElement(p.e,{isUI3:!0,targetKey:u.O0}),n.createElement(m.G,{dropdownTargetRect:a?.data?.targetRect,dispatch:t,dropdownVisible:_,recordingKey:e.recordingKey,activatePathOnMount:a?.data?.activatePathOnMount,trackEvent:l.sx}))}},830375:(e,t,a)=>{a.d(t,{n:()=>h});var n=a(411855),r=a(188507),l=a(697322),i=a(629019),o=a.n(i),s=a(388809),c=a(153234),d=a(857766),u=a(52570),m=a(335682),p=a(860178),_=a(377020),f=a(733378);let g="filename_view--renaming--cVUNf";function h(e){let t=(0,p.iZ)(),a=(0,m.q5)(),i=a?.repo,h=!!(a&&i&&(0,d.Ns)(a,i)),E=!!(a&&(0,d.Kz)(a)),y=!!a&&(0,f.DF)(a,t),v=(0,r.d4)(e=>e.isRenaming),b=(0,r.d4)(e=>e.mergingStatus),C=(0,r.d4)(e=>e.openFileMerge),w=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),k=(0,r.d4)(e=>e.modalShown),x=(0,r.wA)();return n.createElement("div",{className:o()("filename_view--filenameView--b0c-Y",{[g]:v})},E&&n.createElement("span",{className:o()("filename_view--branchIcon--0Svod",{[g]:v})},n.createElement(l.L,null)),n.createElement("span",{className:o()("filename_view--filenameText--YXXQf",{[g]:v})},h&&i?n.createElement(_.IS,{dispatch:x,user:t,repo:i,canRename:y,isRenaming:v,dataTestId:"repo_name_data_test_id"}):n.createElement(_.o3,{recordingKey:c.Pt(e.recordingKey,"fileName")})),a?.fileRepoId&&t?.id&&n.createElement(n.Fragment,null,n.createElement(s.aY,{openFile:a,modalShown:k,topLevelMode:w,dispatch:x}),n.createElement(u.jQ,{repoId:a.fileRepoId,openFileKey:a.key,currentUserId:t.id,appMergingStatus:b,openFileMerge:C})))}},168275:(e,t,a)=>{a.d(t,{d:()=>s});var n=a(411855),r=a(964881),l=a(335682),i=a(595755),o=a(574404);function s(){let e=(0,l.q5)(),t=(0,r.l7)(),a=(0,r.X0)();return e&&e.key&&e.name?n.createElement(o.SZ,{shouldUseBottomBorder:!a},n.createElement(o.x$,{shouldShowFileMenu:!t,recordingKey:o.Fp}),n.createElement(o.l9,null),n.createElement(o.t7,{openFile:e})):n.createElement(o.SZ,{shouldUseBottomBorder:!a},n.createElement(i.cQ,null))}},574404:(e,t,a)=>{a.d(t,{x$:()=>k,t7:()=>T,Fp:()=>C,SZ:()=>w,l9:()=>x});var n=a(411855),r=a(629019),l=a.n(r),i=a(860178),o=a(439398),s=a(377020),c=a(72112),d=a(830375),u=a(188507),m=a(380620),p=a(939863),_=a(670915),f=a(857766),g=a(335682),h=a(143678),E=a(590843),y=a(525060);function v(){let e=(0,g.q5)(),t=e?.repo,a=!!(t&&(0,f.Ns)(e,t)),r=!!(e&&(0,f.Kz)(e)),l=(0,u.wA)();return r&&t?n.createElement(y.o,{repo:t,dispatch:l,trackingContextName:h.e0.EDITOR_TOOLBAR_ACTION}):a&&e.fileRepoId?n.createElement(b,null):null}function b(){let e=(0,u.wA)(),t=n.useContext(E.X);return null===t||t<1?null:n.createElement(m.E,{className:"repo_info--button--3ej13",onClick:()=>e(_.o5({trackingContextName:h.e0.EDITOR_TOOLBAR_ACTION}))},(0,p.tx)("fullscreen.filename_view.branch-count",{BRANCHES:t}))}let C="leftPanelHeader";function w({shouldUseBottomBorder:e,children:t,withSmallPaddingRight:a}){return n.createElement("div",{className:l()("left_panel_header_components--container--i23pm",{"left_panel_header_components--withBottomBorder--OQzj-":e,"left_panel_header_components--withSmallPaddingRight--BOLxn":a})},t)}function k({shouldShowFileMenu:e=!0,recordingKey:t}){return n.createElement(N,null,n.createElement(d.n,{recordingKey:t}),e&&n.createElement(c.m,{recordingKey:t}))}function x(){return n.createElement(N,{shouldCorrectForHoverPadding:!0},n.createElement(v,null))}function T({openFile:e}){let t=(0,i.iZ)();return n.createElement(N,{shouldCorrectForHoverPadding:!0},n.createElement(s.ur,{openFile:e,user:t}),n.createElement(o.s,{openFile:e}))}function N({shouldCorrectForHoverPadding:e=!1,children:t}){return n.createElement("div",{className:l()("left_panel_header_components--row--5uMsb",{"left_panel_header_components--withHoverPaddingCorrection--V3VUA":e})},t)}},8228:(e,t,a)=>{a.d(t,{_:()=>m});var n=a(411855),r=a(188507),l=a(976404),i=a(629019),o=a.n(i),s=a(259927),c=a(316081),d=a(187882),u=a(865636);function m({isCollapsed:e,isInsetEditor:t,children:a,minWidth:i=d.Yh,maxWidth:m=d.g_}){let p=n.useRef(null),_=function({isShowing:e,isCollapsed:t,ref:a,minWidth:l,maxWidth:i}){let o=(0,r.d4)(e=>e.isRenaming),s=(0,d.GQ)(l,i),c=(0,u.E)(a,t&&!o&&e);return(0,n.useMemo)(()=>t?o&&"number"==typeof c?{width:Math.max(l,c)}:{maxWidth:i}:{width:s},[t,o,s,c,l,i])}({isCollapsed:e,isShowing:!0,ref:p,minWidth:i,maxWidth:m}),f=(0,l.U1)(),g=(0,n.useCallback)(t=>{(0,c.cZ)(p,t),f(e?t:null)},[f,e]);return n.createElement("div",{className:o()(s.Dm,"left_panel_island_container--islandContainer--uM5h6",{"left_panel_island_container--collapsed--OEOq4":e,"left_panel_island_container--withInsetEditor--XKTTi":t&&!e}),style:_,ref:g},a)}},789819:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(411855);function r(){return n.createElement("div",{className:"left_panel_island_spacer--islandSpacer--5ynLJ"})}},107190:(e,t,a)=>{function n(){return null}a.d(t,{E:()=>n}),a(411855),a(45623),a(762638),a(488983),a(498606)},145479:(e,t,a)=>{a.d(t,{J:()=>u});var n=a(411855),r=a(811027),l=a(587670),i=a(939683),o=a(416827),s=a(939863),c=a(100197),d=a(498606);function u(){let e=(0,c.ut)(l.Ez5?.uiState().showMissingFontsButton,!1),t=(0,i.U)();return e?n.createElement(o.J,{onClick:()=>{t("missing_fonts_button_clicked"),l.glU.findMissingFontsAndShowPopover()},recordingKey:"toolbarView.missingFontsButton","aria-label":(0,s.t)("fullscreen.toolbar.missing_fonts"),htmlAttributes:{"data-tooltip":(0,s.t)("fullscreen.toolbar.missing_fonts"),"data-tooltip-type":d.Ib.TEXT}},n.createElement(r.z,null)):null}},194569:(e,t,a)=>{a.d(t,{n:()=>u,A:()=>m});var n=a(411855),r=a(140838),l=a(416827),i=a(939863),o=a(356390),s=a(213190),c=a(498606),d=a(147723);function u(){let e=(0,s.qM)()?(0,i.t)("fullscreen_actions.expand-ui"):(0,i.t)("fullscreen_actions.minimize-ui");return n.createElement(l.J,{"aria-label":e,onClick:()=>o.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":d.ue,"data-tooltip":e,"data-tooltip-type":c.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"}},n.createElement(r.C,null))}function m(){return n.createElement("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV"},n.createElement(r.C,null))}},865636:(e,t,a)=>{a.d(t,{E:()=>r});var n=a(411855);function r(e,t){let[a,r]=(0,n.useState)(null);return(0,n.useLayoutEffect)(()=>{if(!e||!e.current||!t)return;r(e.current.getBoundingClientRect().width);let a=new ResizeObserver(e=>{e.forEach(e=>{let t=e.borderBoxSize?.[0];r(t?t.inlineSize:e.contentRect.width)})});return a.observe(e.current),()=>a.disconnect()},[e,t]),a}},800307:(e,t,a)=>{a.d(t,{Q:()=>u});var n=a(411855),r=a(629019),l=a.n(r),i=a(818),o=a(617453),s=a(213190),c=a(100197),d=a(187882);let u=n.forwardRef(({shouldAnimate:e=!0,ignoreRulers:t,children:a},r)=>{let u=(0,c.J2)((0,o.UK)().renderRulers),m=(0,i.b)(),p=(0,d.Ye)(),_=(0,s.Tn)();return n.createElement("div",{ref:r,className:l()("left_panel_positioner--leftPanelPositioner--8Yehe",{"left_panel_positioner--withShowingRulers--xB1lD":u&&!t,"left_panel_positioner--withAnimation--pFRuR":e&&!_,"left_panel_positioner--withInsetEditorEnabled--GYcUX":m&&!p})},a)})},165195:(e,t,a)=>{a.d(t,{a:()=>es,S:()=>eo});var n=a(411855),r=a(188507),l=a(587670),i=a(374626),o=a(119198),s=a(931828),c=a(456104),d=a(974105),u=a(335682),m=a(309798),p=a(99506),_=a(833629),f=a(945020),g=a(397065),h=a(319008),E=a(457261),y=a(988424),v=a(788256),b=a(463546),C=a(666258),w=a(168289),k=a(965626),x=a(881388),T=a(251960),N=a(860178),S=a(396021);let I=[w.wn.CREATE_FRAME,w.wn.FORMAT_FRAME,w.wn.CREATE_TEXT,w.wn.FORMAT_TEXT];var A=a(721047),L=a(302245),O=a(966712),M=a(939863),P=a(295463),R=a(925714),D=a(261503);function F(e,t){let a=w.wn.CREATE_FRAME,{tutorialPlayedUserFlag:r,stepCompletedUserFlag:i}=(0,S.Of)(a,t);return{name:a,tutorialPlayedUserFlag:r,stepCompletedUserFlag:i,duration:t?8900:5200,startingState:t?{centerNodeMatcher:R.C7,resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.product_page_hub_file_id,nodeWidth:R.e7,nodeHeight:R.HX}}:void 0,steps:function(e,t){let a=[{type:w.HQ.SET_CHAT,message:"Just click and drag, like this.",additionalDelay:600},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.FRAME}];return t?a.push({type:w.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:R.b7,height:R.mg},nodeName:R.Ur,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:R.C7,offsetX:523,offsetY:285},nodeNameForLogging:w.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:1200,cursorMovementAnimationDuration:600,nodeDrawingAnimationDuration:1500},{type:w.HQ.SET_CHAT,message:"Then add elements into frames, like images.",additionalDelay:700},{type:w.HQ.INSERT_NODE,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,R.xK)(e,0)},payload:{nodeType:"RECTANGLE",fillType:"image",imgSrc:"https://static.figma.com/uploads/eccc694a7069c9cafd11d1b91b27e0a5c5e7a394",width:R.b7,height:R.g1},nodeName:"Image",nodeNameForLogging:w.Le.CHERRIES_FRAME_CHERRIES_IMAGE,additionalDelay:1e3,cursorMovementAnimationDuration:600,cursorPosition:w.$2.BOTTOM_RIGHT},{type:w.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,R.xK)(e,1),nodeNameForLogging:w.Le.PRODUCT_FRAME_CHERRIES_FRAME}):a.push({type:w.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:117,height:48},locationType:w.bn.DEFAULT,nodeName:"Frame 1",nodeNameForLogging:w.Le.NO_BASICS_FILE_FRAME,additionalDelay:1500,cursorMovementAnimationDuration:500,nodeDrawingAnimationDuration:1500}),a.push({type:w.HQ.CLEAR_CHAT}),a}(0,t),TooltipElement:t=>{let{primaryCtaProps:a,secondaryCtaProps:r,onPrimaryCtaClick:l,onSecondaryCtaClick:i}=(0,P.W)({isReplay:e,props:t});return n.createElement(D.e,{onPrimaryCtaClick:l,onSecondaryCtaClick:i,primaryCtaProps:a,secondaryCtaProps:r,onClose:t.onClickClose,bodyText:(0,M.t)("cursor_bot.a_frame_will_hold_the_rest_of_your_design"),fromCursorBot:!0})}}}var B=a(497306),U=a(762638),G=a(101505),H=a(672517),V=a(67350);function K(e){let t=(0,r.d4)(e=>e.isFullscreenDocumentLoaded);return n.useEffect(()=>{t&&l.glU.triggerAction("set-tool-type",null)},[t]),n.createElement(V.b,{dismissModal:e.onClose,disableHighlight:!0,targetKey:"tool-type-onboarding",title:(0,M.tx)("cursor_bot.add_words_where_needed"),trackingContextName:"Cursor Bot Create Text Step",lowerLeftText:n.createElement(H.$z,{onClick:e.onBackCtaClick,className:U.cx.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:G.c.BACK}},(0,M.tx)("general.back")),onPrimaryCtaClick:e.onPrimaryCtaClick,primaryCtaProps:e.primaryCtaProps,onSecondaryCtaClick:e.onSecondaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,pointsTo:"toolbar"},(0,M.tx)("cursor_bot.all_designs_need_words_so_create_a_text_layer_anywhere_and_start_typing_simple_as_that"))}function z(e,t,a){let r=w.wn.CREATE_TEXT,{tutorialPlayedUserFlag:i,stepCompletedUserFlag:o}=(0,S.Of)(r,t);return{name:r,tutorialPlayedUserFlag:i,stepCompletedUserFlag:o,duration:t?11400:6600,startingState:t?{centerNodeMatcher:e=>(0,R.xK)(e,R.$5),resetStartingState:{hubFileId:O.Ay()?.cursor_bot?.ginger_no_text_hub_file_id,nodeWidth:R.e7,nodeHeight:R.HX}}:{centerNodeMatcher:R.ok},steps:function({shouldSkipYup:e,isInBasicsFile:t}){let a=[];return t?a.push({type:w.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500}):a.push({type:w.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500,hasBackupMessage:!0,shouldShowBackupMessage:e=>void 0===(0,B.cy)(R.ok,e),backupMessage:(e?"":"Yup: ")+"Just click to add a text node and type."}),a.push({type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:1200}),t?a.push({type:w.HQ.INSERT_NODE,nodeName:R.qw,payload:{nodeType:"TEXT",text:R.qw,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,R.xK)(e,1),offsetX:24,offsetY:334},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_CHERRIES_TEXT,cursorMovementAnimationDuration:600,additionalDelay:400},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:300},{type:w.HQ.INSERT_NODE,nodeName:R.A8,payload:{nodeType:"TEXT",text:R.A8,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,R.xK)(e,2),offsetX:316,offsetY:334},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_PRICE_TEXT,additionalDelay:400},{type:w.HQ.CHANGE_TOOL,toolType:l.NLJ.TYPE,additionalDelay:300},{type:w.HQ.INSERT_NODE,nodeName:R.$j,payload:{nodeType:"TEXT",text:R.$j,height:16},locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,R.xK)(e,3),offsetX:24,offsetY:368},cursorPosition:w.$2.BOTTOM_LEFT,nodeNameForLogging:w.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3}):a.push({type:w.HQ.INSERT_NODE,nodeName:R.N1,payload:{nodeType:"TEXT",text:R.N1,width:29,height:16,shouldCenterAlign:!0,typingDurationPerCharMs:200},cursorPosition:w.$2.BOTTOM_LEFT,locationType:w.bn.INSIDE_SCENE_NODE,location:{parentMatcher:R.ok,offsetX:-14.5,offsetY:-7.5,shouldPositionRelativeToCenterOfParent:!0,useDefaultLocationIfParentNotFound:!0},nodeNameForLogging:w.Le.NO_BASICS_FILE_TEXT,cursorMovementAnimationDuration:600,additionalDelay:1500}),a}({shouldSkipYup:e||!a,isInBasicsFile:t}),TooltipElement:t=>{let{primaryCtaProps:a,secondaryCtaProps:r,onPrimaryCtaClick:l,onSecondaryCtaClick:i}=(0,P.W)({isReplay:e,props:t});return n.createElement(K,{onPrimaryCtaClick:l,onSecondaryCtaClick:i,primaryCtaProps:a,secondaryCtaProps:r,onClose:t.onClickClose,onBackCtaClick:t.onClickBack})}}}var W=a(425037),j=a(354537);let q=(0,L.Mz)([e=>e.userFlags,(e,t)=>t],(e,t)=>t.reduce((t,a)=>({...t,[a.name]:!!e[a.stepCompletedUserFlag]}),{}));var Y=(e=>(e.PanAndZoom="pan_and_zoom",e.YoureAllSet="youre_all_set",e))(Y||{}),X=a(513276),J=a(629019),Z=a.n(J),Q=a(776250),$=a(946689),ee=a(457630),et=a(498606),ea=a(423095),en=a(246497);let er=n.memo(({currentTutorial:e,stateManager:t})=>{let a;let r=(0,i.md)(C.a8),l=(0,i.md)(C.jE),o=n.useCallback(()=>{let e=d.current;return e?Math.min(Math.round(e/l*100),100):0},[l]);n.useEffect(()=>{let a=a=>{a&&27===a.keyCode&&(0,S.XC)(r)&&((0,Q.sx)("Cursor Bot Tutorial Canceled via Escape",{tutorialName:e.name}),t.stopCurrentTutorial({timeElapsed:d.current,tutorialPercentageComplete:o(),tutorialName:e.name,stopTrigger:w.mf.ESC_KEY}))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[r,t,o,e.name]);let[s,c]=(0,i.fp)(C.mH),d=n.useRef(0),u=n.useRef();if(n.useEffect(()=>{if(!(0,S.XC)(r)){d.current=0,clearInterval(u.current),u.current=void 0;return}let e=setInterval(()=>d.current+=17,17);return u.current=e,()=>clearInterval(e)},[r]),(0,S.XC)(r)){let e=o(),t=(0,X.keyframes)({from:{backgroundPosition:`${100-e}% center`},to:{backgroundPosition:"left"}}),n=l-d.current;a={animation:`${t} ${n}ms linear`}}let m=(0,ee.ni)(),p=n.useMemo(()=>({top:m.y+h.hH+4}),[m.y]);return n.createElement("div",{className:en.CL,style:p},n.createElement("div",{className:Z()({[ea.e]:s}),onAnimationEnd:()=>{c(!1)}},n.createElement("div",{className:en.KB,style:a},n.createElement($.Kz,{multiple:1,direction:"x"}),n.createElement("div",null,e.name),n.createElement($.Kz,{multiple:1,direction:"x"}),n.createElement(H.$z,{className:en.gd,onClick:()=>{t.stopCurrentTutorial({timeElapsed:d.current,tutorialPercentageComplete:o(),tutorialName:e.name,stopTrigger:w.mf.STOP_BTN})},"data-tooltip-type":et.Ib.TEXT,"data-tooltip":(0,M.t)("cursor_bot.stop_tutorial"),trackingProperties:{trackingDescriptor:G.c.STOP_TUTORIAL,tutorialName:e.name},"aria-label":(0,M.t)("cursor_bot.stop_tutorial")},(0,M.tx)("collaboration.spotlight.bell.presenter.stop")))))}),el="create_frame_animation--frameCornerSquare--TEcO4";function ei(){let e=(0,ee._X)({subscribeToUpdates_expensive:!1}),t=(0,i.md)(C.Dh);if(null==t)return null;let{x:a,y:r,width:l,height:o,duration:s}=t,c=(0,ee.Yb)(e,{x:a,y:r,width:l,height:o}),d=e.x+c.x,u=e.y+c.y;return n.createElement("div",{style:{top:u,left:d,width:`${c.width}px`,height:`${c.height}px`,position:"absolute"}},n.createElement("div",{style:{border:"1px solid #4497F7",animationDuration:`${s}ms`},className:"create_frame_animation--animationFrame--4fuzR"},n.createElement("div",{style:{top:-3,left:-3,background:"#ffffff"},className:el}),n.createElement("div",{style:{top:-3,left:"calc(100% - 3px)",background:"#ffffff"},className:Z()(el)}),n.createElement("div",{style:{top:"calc(100% - 3px)",left:"calc(100% - 3px)",background:"#ffffff"},className:el}),n.createElement("div",{style:{top:"calc(100% - 3px)",left:-3,background:"#ffffff"},className:el})))}function eo(){let{isShowing:e,show:t,complete:a,uniqueId:h}=(0,c.e)({overlay:b.SyB,priority:g.N.OVERRIDING_MODAL}),L=(0,r.wA)(),O=(0,r.Pj)(),M=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),P=(0,r.d4)(e=>e.mirror.appModel.multiplayerSessionState===l.kul.JOINED),R=(0,A.b)(),D=(0,i.md)(C.a8),B=(0,m.f)("has_cursor_bot_onboarding_v2");!function(e,t,a){let n=(0,N.iZ)(),l=(0,r.wA)(),i=(0,m.f)("has_cursor_bot_onboarding_v2"),o=(0,u.Cq)({useSinatraType:!0}),c=(0,_.WO)(n?.id,o,["exp_cursor_bot_onboarding"]),d=e=>{let n={...function(e){let t={format_text_step_shown:!1,design_panel_step_shown:!1};for(let a of(e?t.cursor_bot_v2__basics_onboarded=!1:(t.has_zoomed_in_design_file=!1,t.has_panned_in_design_file=!1,t.cursor_bot_v2__basics_onboarded=!1,t.cursor_bot_v2__no_basics_onboarded=!1),I)){let{tutorialPlayedUserFlag:n,stepCompletedUserFlag:r}=(0,S.Of)(a,e);t[n]=!1,t[r]=!1}return t}(c),cursor_bot_v2__basics_file__started_flow:!1,cursor_bot_v2_has_greeted_with_wave:!1};e&&(n.has_cursor_bot_onboarding_v2=!0),l(s.b(n)),t||a()};(0,T.E)(e,k.Wl,()=>{o?.editor_type===p._Y.DESIGN?d(!0):l(x.s.error("Cursor Bot can only be run in Figma design."))}),(0,T.E)(e,"Reset Onboarding",()=>{i&&o?.editor_type===p._Y.DESIGN&&d()})}(h,e,t);let[U,G]=n.useState(v.en.FORWARD),H=function(){let e=(0,m.f)("has_cursor_bot_onboarding_v2"),t=(0,m.f)("cursor_bot_v2__basics_file__started_flow"),a=(0,_.Ai)(["exp_cursor_bot_onboarding"]),l=(0,_.jm)(a),i=function(e){let t=!!(0,m.f)("cursor_bot_v2_has_greeted_with_wave"),a=!!(0,m.f)((0,S.Of)(w.wn.CREATE_FRAME,e).tutorialPlayedUserFlag),r=!!(0,m.f)((0,S.Of)(w.wn.FORMAT_FRAME,e).tutorialPlayedUserFlag),l=!!(0,m.f)((0,S.Of)(w.wn.CREATE_TEXT,e).tutorialPlayedUserFlag),i=!!(0,m.f)((0,S.Of)(w.wn.FORMAT_TEXT,e).tutorialPlayedUserFlag);return(0,n.useMemo)(()=>e?[F(a,e),z(l,e,t),(0,j.Z)(i,e),(0,W.p)(r,e)]:[F(a,e),(0,W.p)(r,e),z(l,e,t),(0,j.Z)(i,e)],[e,t,a,l,i,r])}(a),o=(0,r.d4)(e=>q(e,i));if(!e||l||!a&&t)return null;let s=0;if(i.forEach(e=>{o[e.name]&&(s+=1)}),s>=i.length)return a?"youre_all_set":"pan_and_zoom";let c={...i[s]};return s>0&&(c.previousTutorialCompleteUserFlag=i[s-1].stepCompletedUserFlag),c}(),V=(0,_.Ai)(["exp_cursor_bot_onboarding"]),K=(0,_.Y3)(),X=(0,_.jm)(V),J=K||X,Z=u.q5()?.canEdit;n.useEffect(()=>{!J&&!e&&B&&H&&M&&P&&Z&&t()},[J,e,t,B,H,M,P,Z]),n.useEffect(()=>{e&&(X||!H)&&a()},[e,a,X,H]);let Q=(0,m.f)("cursor_bot_v2__basics_file__started_flow");if(n.useEffect(()=>{e&&V&&!Q&&L(s.b({cursor_bot_v2__basics_file__started_flow:!0}))},[L,V,e,Q]),!e||!H)return null;let $=()=>{V?L(s.b({cursor_bot_v2__basics_onboarded:!0})):L(s.b({cursor_bot_v2__no_basics_onboarded:!0})),a()};if(H===Y.YoureAllSet)return n.createElement(E.J,{onPrimaryCtaClick:()=>{let e=(0,d.xA)(O.getState(),f.ai.NEW_TAB,"drafts",{from:f.f6.CURSOR_BOT_END_MODAL,selectedView:O.getState().selectedView},p._Y.DESIGN,void 0);L(o.uM(e)),$()},onSecondaryCtaClick:$,onClose:$});if(H===Y.PanAndZoom)return n.createElement(y.iF,{markComplete:$});if(D===w.h0.PLAYING)return n.createElement(es,{cursorBotStateManager:R,currentTutorial:H});let ee=()=>{H.previousTutorialCompleteUserFlag&&(G(v.en.BACKWARD),L(s.b({[H.previousTutorialCompleteUserFlag]:!1})))},et=()=>{G(v.en.FORWARD),L(s.b({[H.stepCompletedUserFlag]:!0}))};return n.createElement(H.TooltipElement,{onClickShowMe:()=>R.runTutorial(H),onClickNext:et,onClickClose:$,onClickBack:ee,skip:U===v.en.BACKWARD?ee:et})}function es({cursorBotStateManager:e,currentTutorial:t}){return n.createElement(n.Fragment,null,n.createElement(k.Yh,null),n.createElement(er,{currentTutorial:t,stateManager:e}),n.createElement(ei,null),n.createElement(h.Qe,null))}},721047:(e,t,a)=>{a.d(t,{b:()=>D});var n=a(411855),r=a(188507),l=a(587670),i=a(374626),o=a(646240),s=a(239349),c=a(777078),d=a(862442),u=a(843495),m=a(309798),p=a(100197),_=a(433861),f=a(666258),g=a(776250),h=a(568214),E=a(776621),y=a(30637),v=a(672715),b=a(881388),C=a(410424),w=a(931828),k=a(83909),x=a(356390),T=a(662531),N=a(497306),S=a(457630),I=a(106112),A=a(279702),L=a(485861),O=a(168289),M=a(396021);let P=(0,y.Lg)()?0:300;class R{constructor(e,t,a,n,r,i,o,s,c,d,u,m,p,_,f,g,h,E,v,b,C){this.setCursorBotX=e,this.setCursorBotY=t,this.setCursorBotChat=a,this.setCursorBotAnimationDuration=n,this.setCursorBotTutorialPhase=r,this.setCursorType=i,this.setCursorDirection=o,this.setToolbarActionWithSimulatedHover=s,this.setCursorBotAnimationLayerPosition=c,this.setCursorBotOverlayType=d,this.setCursorBotTutorialDuration=u,this.hasWaved=m,this.cursorBotX=p,this.cursorBotY=_,this.getViewportInfo=f,this.navigate=g,this.sceneGraph=h,this.infoForSentry=E,this.dispatch=v,this.insertTemplate=b,this.appModel=C,this.waitForDuration=(e,t)=>new Promise(a=>{this.setTimeoutWrapper({callback:a,delay:(0,y.Lg)()&&!t?0:e,isBlockingTutorialExecution:!0})}),this.unblockUserEventsTimeout=null,this.blockUserEvents=()=>{l.Ez5.editorState().shouldBlockUserEvents.set(!0),k.wt.setIsCursorBotEditing(!0),(0,y.Lg)()||(this.unblockUserEventsTimeout=setTimeout(()=>{this.unblockUserEvents()},6e4))},this.unblockUserEvents=()=>{this.setCursorBotTutorialPhase(O.h0.AWAITING_PLAYBACK),l.Ez5.editorState().shouldBlockUserEvents.set(!1),this.unblockUserEventsTimeout&&clearTimeout(this.unblockUserEventsTimeout),this.unblockUserEventsTimeout=null,k.wt.setIsCursorBotEditing(!1)},this.animateChat=(e,t)=>{if(e>t.length||this.shouldStop)return;let a=t.slice(0,e);this.setCursorBotChat(a),this.setTimeoutWrapper({callback:()=>{this.animateChat(e+1,t)},delay:(0,y.Lg)()?0:35,isBlockingTutorialExecution:!1})},this.startingStateHubFiles={},this.shouldStop=!1,this.timeoutIds=[],this.pendingCallbacksToRun=[]}runTutorial(e,t){let a=async()=>{for(let t of(await this.setupStateAndCanvas(e),e.steps)){if(this.shouldStop)return;try{await this.transition(t,e.name)}catch(a){this.logErrorAndStopTutorial("Could not execute step",{step:t,err:a,tutorialName:e.name});return}}this.resetStateAndMarkTutorialComplete(e.tutorialPlayedUserFlag,t)};(0,v.Lk)(M.tF);let n=window.performance.now();return this.currentTutorialRunningPromise=a(),this.currentTutorialRunningPromise.finally(()=>{(0,v.Dz)(M.tF);let t=window.performance.now()-n;(0,E.Lo)(M.tF,"Tutorial completed or stopped",{elapsedDuration:t,tutorialName:e.name})}),this.currentTutorialRunningPromise}insertStartingStateFromHubFile({hubFileId:e,nodeWidth:t,nodeHeight:a,tutorialName:n}){if(!e)throw Error("Hub file ID is not provided");let r=async e=>{let r=l.qmM.findBoundsToCenterNewTopLevelNode(t+88,a),i=r.origin.x+88,o=r.origin.y;await this.centerViewportAroundCanvasRect({x:i,y:o,width:t,height:a}),await this.waitForDuration(this.moveCursorBot({x:i+t/2,y:o+a/2,coordinateType:"canvas",animationDuration:600})),await this.transition({type:O.HQ.SET_CHAT,message:"Here\u2019s another example..."},n),await this.insertTemplate({template:{type:I.n.HubFile,template:e},userTriggered:!1,editScopeType:l.zkO.ONBOARDING,triggeredFrom:"cursor-bot",templateInsertionDirection:l.hKj.CUSTOM_POSITION,templateCustomPosition:{x:i,y:o},selectTemplateAfterInsertion:!0}),await this.waitForDuration(500)};return this.startingStateHubFiles[e]?r(this.startingStateHubFiles[e]):new Promise((t,a)=>{this.dispatch(C.ts({hubFileId:e,callback:async e=>{try{this.startingStateHubFiles[e.id]=e,await r(e),t()}catch(e){a(e)}}}))})}logSentryError(e,t){(0,E.x1)(M.tF,e,t,{reportAsSentryError:!0})}logErrorAndStopTutorial(e,t){this.logSentryError(e,t),this.dispatch(b.s.error("Could not run tutorial. Please try again later.")),this.stopCurrentTutorial({tutorialName:t.tutorialName,stopTrigger:O.mf.STATE_MANAGER_ERROR,errorMessage:e,nodeName:t.name})}async stopCurrentTutorial(e){this.shouldStop=!0,this.timeoutIds.forEach(e=>clearTimeout(e)),this.pendingCallbacksToRun.forEach(e=>e()),await this.currentTutorialRunningPromise,this.resetCursorBotStateToDefaults(),this.unblockUserEvents(),e&&(0,g.sx)("Cursor Bot Tutorial Stopped",{...e})}updatePositionState(e,t){this.cursorBotX=e,this.cursorBotY=t}updateSceneGraphReference(e){this.sceneGraph=e}updateInfoForSentry(e){this.infoForSentry=e}updateAppModel(e){this.appModel=e}updateHasWaved(e){this.hasWaved=e}setTimeoutWrapper({callback:e,delay:t,isBlockingTutorialExecution:a}){this.timeoutIds.push(setTimeout(e,t)),a&&this.pendingCallbacksToRun.push(e)}resetCursorBotStateToDefaults(){this.tutorialParentNode=void 0,this.setCursorBotX(f.Lw),this.setCursorBotY(f.WW),this.setCursorBotChat(""),this.setCursorBotAnimationDuration(0),this.setCursorType(l.z7E.DEFAULT),this.setToolbarActionWithSimulatedHover(void 0),this.setCursorDirection(O.zu.DEFAULT),this.setCursorBotOverlayType(O.JJ.CANVAS),this.timeoutIds=[],this.pendingCallbacksToRun=[]}async navigateToPageNodesOrDefaultViewport(){let e=this.sceneGraph.getCurrentPage()?.childrenGuids;e&&e.length>0?l.NfO.scrollAndZoomIntoView(e):await this.navigate({centerX:0,centerY:0,scale:3})}getSelectedNodeIfMatches(e){if(""!==l.glU.getFirstSelectedNodeIdForCurrentPage()){let t=l.glU.getFirstSelectedNodeIdForCurrentPage(),a=this.sceneGraph.get(t);if(a&&e(a,this.sceneGraph))return a}}computeAndSetTutorialDuration(e){let t=e.duration;if(e.startingState){let{centerNodeMatcher:a,resetStartingState:n}=e.startingState;!(0,N.cy)(a,this.sceneGraph)&&n&&(t+=3e3)}this.hasWaved||(t+=M.Y4+M.YX),this.setCursorBotTutorialDuration(t),(0,E.Lo)(M.tF,"Estimated tutorial duration",{tutorialDuration:t,tutorialName:e.name})}async setupStateAndCanvas(e){if(this.blockUserEvents(),this.shouldStop=!1,this.timeoutIds=[],this.computeAndSetTutorialDuration(e),e.startingViewportFrameType&&this.setCursorBotOverlayType(e.startingViewportFrameType),this.setCursorBotTutorialPhase(O.h0.PLAYING),this.hasWaved||(this.setTimeoutWrapper({callback:()=>{this.hasWaved=!0,this.dispatch(w.b({cursor_bot_v2_has_greeted_with_wave:!0}))},delay:M.Y4,isBlockingTutorialExecution:!1}),await this.transition({type:O.HQ.SET_CHAT,message:"Certainly! Here\u2019s how...",additionalDelay:M.YX,preDelay:M.Y4},e.name)),void 0!==e.startingState){let t;let{centerNodeMatcher:a,prioritizeSelectedNode:n,resetStartingState:r}=e.startingState;if(n&&(t=this.getSelectedNodeIfMatches(a)),t||(t=(0,N.WY)(a,this.sceneGraph)),!t&&r)try{await this.insertStartingStateFromHubFile({...r,tutorialName:e.name}),t=(0,N.cy)(a,this.sceneGraph)}catch(t){this.logErrorAndStopTutorial("Could not insert starting state from hub file for tutorial",{err:t,tutorialName:e.name});return}if(t){this.tutorialParentNode=(0,N.E6)(this.sceneGraph,t.guid)??void 0;let e={centerX:t.absoluteBoundingBox.x+t.absoluteBoundingBox.w/2,centerY:t.absoluteBoundingBox.y+t.absoluteBoundingBox.h/2,scale:.2},a=l.NfO.getViewportBounds(),n=(0,M.dK)(t,{width:a.width,height:a.height,zoom:this.getViewportInfo().zoomScale});null==n||isNaN(n)||(e.scale=n),await this.navigate(e)}else await this.navigateToPageNodesOrDefaultViewport()}else await this.navigateToPageNodesOrDefaultViewport()}resetStateAndMarkTutorialComplete(e,t){setTimeout(()=>{this.dispatch(w.b({[e]:!0})),t?.(),this.resetCursorBotStateToDefaults(),this.unblockUserEvents()},P)}async centerViewportAroundCanvasRect(e,t=!1){let{x:a,y:n,width:r,height:l}=e,i=this.getViewportInfo();if(t&&(0,S.UN)(e,i))return;let o=i.zoomScale;(r*o>i.width||l*o>i.height)&&(o=Math.min(i.width/r,i.height/l)/1.1),await this.navigate({centerX:a+r/2,centerY:n+l/2,scale:o})}moveCursorBot({x:e,y:t,coordinateType:a,animationDuration:n}){if("canvas"===a){let a=this.getViewportInfo(),n=(0,S.Z0)(a,{x:e,y:t});e=n.x+a.x,t=n.y+a.y}return n=n||function(e,t,a,n){let r=Math.abs(e-t),l=Math.abs(a-n);return Math.min(Math.round(1.6*Math.sqrt(r*r+l*l)),3e3)}(this.cursorBotX,e,this.cursorBotY,t),this.setCursorBotAnimationDuration(n),this.setCursorBotX(e),this.setCursorBotY(t),n}repositionNode(e,t,a){T.l7.onboarding("reposition-node",()=>e.relativeTransform={...e.relativeTransform,m02:t,m12:a})}async insertNode(e,t,a,n,r){let i;if("RECTANGLE"===e.nodeType){let t=await (0,M.mF)({imgSrc:e.imgSrc,desiredWidth:e.width,desiredHeight:e.height});i=t?this.sceneGraph.get(t):null}else i=T.l7.onboarding("create-node",()=>this.sceneGraph.createNode(e.nodeType));if(!i)return null;if(T.l7.onboarding("size",()=>{i&&l.Egt.setSelectedNodeAndCanvas(i.guid,!1)}),r){let e=(0,N.cy)(r,this.sceneGraph,this.tutorialParentNode);T.l7.onboarding("append-child",()=>i&&e?.appendChild(i))}if(this.repositionNode(i,a,n),T.l7.onboarding("rename-node",()=>{i&&(i.name=t)}),"FRAME"===e.nodeType)T.l7.onboarding("resize-frame",()=>i?.resizeWithoutConstraints(e.width||100,e.height||100));else if("TEXT"===e.nodeType){l.glU.triggerAction("set-tool-default",null),this.setCursorType(l.z7E.DEFAULT);let t=i.parentNode;if(null!==t){let e="CANVAS"===t.type?t.backgroundColor:t.fills[0].color;T.l7.onboarding("set-text-color",()=>{i&&(i.fills=[{...i.fills[0],color:(0,h.HD)(e||h.UE)?h.UE:h.Uv}])})}let a=e.text.length,n=e.typingDurationPerCharMs||50,r=500;for(let t=0;t<a;t++)this.setTimeoutWrapper({callback:()=>{T.l7.onboarding("set-text",()=>{i?.spliceCharacters(i.textData?.characters?.length??t,i.textData?.characters?.length??t,e.text[t],"BEFORE")})},delay:r,isBlockingTutorialExecution:!1}),r+=Math.max(n-t,40);e.shouldCenterAlign&&this.setTimeoutWrapper({callback:()=>{T.l7.onboarding("set-text-horizontal-alignment",()=>{i&&(i.textAlignHorizontal="CENTER",i.textAlignVertical="CENTER")})},delay:r,isBlockingTutorialExecution:!1}),await this.waitForDuration(r)}return i}getCursorBotNodeInsertionLocation(e){let t;if(e.locationType===O.bn.INSIDE_SCENE_NODE){let{parentMatcher:a,useDefaultLocationIfParentNotFound:n}=e.location,r=(0,N.cy)(a,this.sceneGraph,this.tutorialParentNode);if(!r)return n?this.getCursorBotNodeInsertionLocation({...e,locationType:O.bn.DEFAULT}):void 0;let l=e.location?.offsetX??0,i=e.location?.offsetY??0,{absoluteBoundingBox:{x:o,y:s,w:c,h:d}}=r;e.location.shouldPositionRelativeToCenterOfParent&&(l+=c/2,i+=d/2),t={cursorBotX:o+l,cursorBotY:s+i,insertionX:l,insertionY:i}}else if(e.locationType===O.bn.CANVAS_COORDINATE)t={cursorBotX:e.location.x,cursorBotY:e.location.y,insertionX:e.location.x,insertionY:e.location.y};else{let a=l.qmM.findBoundsToCenterNewTopLevelNode(e.payload.width??100,e.payload.height??100);t={cursorBotX:a.origin.x,cursorBotY:a.origin.y,insertionX:a.origin.x,insertionY:a.origin.y}}if(void 0!==e.cursorPosition&&null==e.nodeDrawingAnimationDuration){let a=e.payload.width??100,n=e.payload.height??100;switch(e.cursorPosition){case O.$2.BOTTOM_LEFT:t.cursorBotY+=n;break;case O.$2.BOTTOM_RIGHT:t.cursorBotX+=a,t.cursorBotY+=n;case O.$2.TOP_LEFT:}}return t}async transition(e,t){if(this.shouldStop)return;let a=async()=>{switch(e.type){case O.HQ.SET_CHAT:{e.preDelay&&await this.waitForDuration(e.preDelay);let{message:t}=e;e.hasBackupMessage&&e.shouldShowBackupMessage(this.sceneGraph)&&(t=e.backupMessage),this.animateChat(1,t);return}case O.HQ.CLEAR_CHAT:this.setCursorBotChat("");return;case O.HQ.TARGET_DOM_NODE:{let a=(0,L.xT)(e.dataOnboardingKey);if(!a){let a={name:e.dataOnboardingKey,tutorialName:t,...this.infoForSentry};e.continueIfNotFound?this.logSentryError("Failed to find DOM node to target",a):this.logErrorAndStopTutorial("Failed to find DOM node to target",a);return}let{targetX:n,targetY:r}=(0,M.L7)(a,e.position,e.offset);await this.waitForDuration(this.moveCursorBot({x:n,y:r,coordinateType:"dom",animationDuration:e.cursorBotMovementAnimationDuration})),e.triggerHoverOfItemWithName&&this.setToolbarActionWithSimulatedHover(e.triggerHoverOfItemWithName);return}case O.HQ.TARGET_SCENE_NODE:{let a=(0,N.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode);if(e.prioritizeSelectedNode&&(a=this.getSelectedNodeIfMatches(e.meetsConditions)??a),!a){e.continueIfNotFound||this.logErrorAndStopTutorial("Failed to find scene node to target",{name:e.nodeNameForLogging,tutorialName:t});return}await this.centerViewportAroundCanvasRect({x:a.absoluteBoundingBox.x,y:a.absoluteBoundingBox.y,width:a.absoluteBoundingBox.w,height:a.absoluteBoundingBox.h},!0);let n=e.position||{x:O.GF.RIGHT,y:O.NI.BOTTOM},{targetX:r,targetY:i}=(0,M.L7)(a,n,e.offset);await this.waitForDuration(this.moveCursorBot({x:r,y:i,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration})),e.shouldSelect&&l.Egt.setSelectedNodeAndCanvas(a.guid,!1);return}case O.HQ.SELECT_SCENE_NODE:{let a;if(e.prioritizeSelectedNode&&(a=this.getSelectedNodeIfMatches(e.meetsConditions)),a||(a=(0,N.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode)),!a){this.logErrorAndStopTutorial("Failed to find scene node to select",{name:e.nodeNameForLogging,tutorialName:t});return}l.Egt.setSelectedNodeAndCanvas(a.guid,!1);return}case O.HQ.INSERT_NODE:{let a=this.getCursorBotNodeInsertionLocation(e);if(void 0===a){this.logErrorAndStopTutorial("Could not find parent scene node to insert node",{name:e.nodeNameForLogging,tutorialName:t});return}let n=e.payload.height??100,r=e.payload.width??100;await this.centerViewportAroundCanvasRect({x:a.cursorBotX,y:a.cursorBotY,width:r,height:n},!0),await this.waitForDuration(this.moveCursorBot({x:a.cursorBotX,y:a.cursorBotY,coordinateType:"canvas",animationDuration:e.cursorMovementAnimationDuration||600})),e.nodeDrawingAnimationDuration&&"FRAME"===e.payload.nodeType&&(this.setCursorBotAnimationLayerPosition({x:a.cursorBotX,y:a.cursorBotY,width:r,height:n,duration:e.nodeDrawingAnimationDuration}),await this.waitForDuration(this.moveCursorBot({x:a.cursorBotX+r,y:a.cursorBotY+n,coordinateType:"canvas",animationDuration:e.nodeDrawingAnimationDuration})));let l=a.insertionX??a.cursorBotX,i=a.insertionY??a.cursorBotY;await this.insertNode(e.payload,e.nodeName,l,i,e.locationType===O.bn.INSIDE_SCENE_NODE?e.location.parentMatcher:void 0),this.setCursorBotAnimationLayerPosition(null);return}case O.HQ.MOVE_CURSOR_TO_CENTER_SCREEN:return this.waitForDuration(this.moveCursorBot({x:this.getViewportInfo().offsetX,y:this.getViewportInfo().offsetY,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration}));case O.HQ.CHANGE_TOOL:[l.NLJ.FRAME,l.NLJ.TYPE].includes(e.toolType)?(e.toolType===l.NLJ.TYPE?l.glU.triggerAction("set-tool-type",null):e.toolType===l.NLJ.FRAME&&l.glU.triggerAction("set-tool-frame",null),this.setCursorType(l.z7E.CROSSHAIR)):e.toolType===l.NLJ.HAND?(l.glU.triggerAction("set-tool-hand",null),this.setCursorType(l.z7E.HAND)):e.toolType===l.NLJ.NONE&&(l.glU.triggerAction("set-tool-default",null),this.setCursorType(l.z7E.DEFAULT));return;case O.HQ.MOVE_VIEWPORT:if("displace"===e.movementType)return this.navigate({centerX:this.getViewportInfo().offsetX+e.xDisplacement,centerY:this.getViewportInfo().offsetY+e.yDisplacement,scale:this.getViewportInfo().zoomScale});return this.navigate({centerX:e.centerX,centerY:e.centerY,scale:e.scale||this.getViewportInfo().zoomScale});case O.HQ.ADJUST_ZOOM_LEVEL:return this.navigate({centerX:this.getViewportInfo().offsetX,centerY:this.getViewportInfo().offsetY,scale:e.scale});case O.HQ.SET_CURSOR_DIRECTION:this.setCursorDirection(e.direction);return;case O.HQ.SET_PROPERTIES_PANEL_TAB:(0,u.NT)(e.tab);return;case O.HQ.UPDATE_SELECTED_NODE_PROPERTIES:{let t=l.glU.getFirstSelectedNodeIdForCurrentPage(),a=this.sceneGraph.get(t);if(!a){(0,E.x1)(M.tF,"Failed to find selected node to update",void 0,{reportAsSentryError:!0});return}this.appModel.activeCanvasEditModeType===l.m1T.TEXT&&((0,u.wr)(),l.Egt.setSelectedNodeAndCanvas(t,!1)),x.Y5.updateSelectionProperties({..."function"==typeof e.properties?e.properties(a):e.properties},{shouldCommit:A.zk.YES,editScopeType:l.zkO.ONBOARDING});return}case O.HQ.SCROLL_PROPERTIES_PANEL:(0,M.$1)(e.value);return;case O.HQ.FOCUS_INPUT:{let t=document.querySelector(e.selector);t?t.focus():(0,E.x1)(M.tF,"Failed to find input to focus",{selector:e.selector},{reportAsSentryError:!0});return}case O.HQ.SET_VIEWPORT_FRAME_TYPE:this.setCursorBotOverlayType(e.viewportFrameType);return}};await a();let n=e.additionalDelay||0;e.type===O.HQ.SET_CHAT&&(n+=35*e.message.length),n>0&&await this.waitForDuration(n,e.type===O.HQ.SET_CHAT),await e.callback?.(this.dispatch)}}function D(){let[e,t]=(0,i.fp)(f.jr),[a,g]=(0,i.fp)(f.Sf),h=(0,o.Xr)(f.H7),E=(0,o.Xr)(f.nG),y=(0,o.Xr)(f.Ds),v=(0,o.Xr)(f.Dh),b=(0,o.Xr)(f.a8),C=(0,o.Xr)(f.iB),w=(0,o.Xr)(f.oO),k=(0,o.Xr)(f.$i),x=(0,o.Xr)(f.jE),T=!!(0,m.f)("cursor_bot_v2_has_greeted_with_wave"),N=n.useContext(_.kw),S=(0,d.Z)(),I=(0,r.d4)(e=>e.mirror.sceneGraph),A=(0,r.wA)(),{insertTemplate:L}=(0,c.Fz)(),O=(0,s.VW)(),M=(0,p.ut)((0,u.aY)(),l.FAf.DESIGN),P=(0,r.d4)(e=>e.mirror.appModel.showUi),D=(0,r.d4)(e=>e.mirror.appModel),F=n.useRef();return F.current||(F.current=new R(t,g,E,y,b,C,h,w,v,k,x,T,e,a,()=>N.getViewportInfo(),S,I,{selectedNodeType:O?.type,isUiShown:P,propertiesPanelTab:M},A,L,D)),n.useEffect(()=>{F.current?.updatePositionState(e,a)},[e,a]),n.useEffect(()=>{F.current?.updateSceneGraphReference(I)},[I]),n.useEffect(()=>{F.current?.updateInfoForSentry({selectedNodeType:O?.type,isUiShown:P,propertiesPanelTab:M})},[O,M,P]),n.useEffect(()=>{F.current?.updateAppModel(D)},[D]),n.useEffect(()=>{F.current?.updateHasWaved(T)},[T]),F.current}},295463:(e,t,a)=>{a.d(t,{W:()=>o});var n=a(587670),r=a(939863),l=a(101505),i=a(309798);function o({isReplay:e,props:t}){let a,o,s,c;let d=(0,i.f)("cursor_bot_v2_make_show_me_primary_cta"),u=()=>{t.onClickNext?.(),n.glU.triggerActionInUserEditScope("set-tool-default",null)},m=t.isFollowUp?(0,r.t)("cursor_bot.got_it"):(0,r.t)("tooltips_plus_onboarding.next"),p=t.isFollowUp?l.c.GOT_IT:l.c.NEXT;return d?(a={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?l.c.SHOW_ME_AGAIN:l.c.SHOW_ME},o={ctaText:m,ctaTrackingDescriptor:p},s=t.onClickShowMe,c=u):(a={ctaText:m,ctaTrackingDescriptor:p},o={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?l.c.SHOW_ME_AGAIN:l.c.SHOW_ME},s=u,c=t.onClickShowMe),{primaryCtaProps:a,secondaryCtaProps:o,onPrimaryCtaClick:s,onSecondaryCtaClick:c}}},925714:(e,t,a)=>{a.d(t,{$5:()=>p,$j:()=>C,A8:()=>b,AO:()=>M,C7:()=>A,Dl:()=>_,HX:()=>o,IM:()=>D,LW:()=>m,N1:()=>B,Q$:()=>R,TT:()=>L,U4:()=>I,Ui:()=>h,Ur:()=>c,Ut:()=>U,YH:()=>T,YI:()=>g,_q:()=>S,b7:()=>d,bO:()=>k,e7:()=>i,g1:()=>s,mg:()=>u,ok:()=>F,qw:()=>v,ro:()=>E,wG:()=>y,x0:()=>w,xK:()=>O,yz:()=>N,zk:()=>x});var n=a(774191),r=a(497306);let l="Watermelon",i=1440,o=900,s=310,c="Cherries",d=395,u=416,m=24,p=1,_=4,f={r:1,g:1,b:1,a:1},g={r:237/255,g:239/255,b:228/255,a:1};function h(){let e=["r","g","b"].map(e=>({c:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({c:e})=>e);return{r:0,g:86/255,b:65/255,[e[0]]:0,[e[1]]:86/255,[e[2]]:Math.floor(86*Math.random())/255,a:1}}let E={r:225/255,g:228/255,b:217/255,a:1},y={family:"Inter",style:"Regular",postscript:"Inter-Regular"},v="Rainier cherries",b="$3.99 / lb",C="Grown in Linden, CA",w="Semi Bold",k="Italic",x="Roboto Serif",T={r:71/255,g:103/255,b:48/255,a:1},N={r:116/255,g:121/255,b:109/255,a:1},S={value:130/1.21,units:"PERCENT"},I={value:150/1.21,units:"PERCENT"};function A(e,t){return!(!P(e)||!(0,r.cy)(e=>e.name===l,t,e)||(0,r.cy)(e=>e.name===c,t,e))}function L(e,t){return!!function(e){let t=e.parentNode;return"FRAME"===e.type&&e.name===c&&e.absoluteBoundingBox.w===d&&e.absoluteBoundingBox.h===u&&!!t&&P(t)}(e)&&(void 0===t||e.childrenGuids.length===t)}function O(e,t){return!!(L(e,t)&&0===e.cornerRadius&&e.strokePaints?.data?.length===0&&(0,n.Vm)(e.fillPaints?.data[0]?.color,f))}function M(e,t){if(!O(e,t))return!1;for(let t of e.childrenNodes)if("TEXT"===t.type&&!U(t))return!1;return!0}function P(e){return!!e&&"FRAME"===e.type&&"Products"===e.name&&e.absoluteBoundingBox.w===i&&e.absoluteBoundingBox.h===o}function R(e,t){let a=e.parentNode;return"FRAME"===e.type&&e.name===l&&!!a&&A(a,t)}function D(e){return[{type:"SOLID",color:e,blendMode:"NORMAL",opacity:1,visible:!0}]}function F(e){return"FRAME"===e.type&&e.absoluteBoundingBox.w>=90&&!!e.parentNode&&0===e.childrenGuids.length}let B="Hello";function U(e,t){if(void 0!==t&&e.name.toLowerCase()!==t.toLowerCase()||"TEXT"!==e.type||12!==e.fontSize||e.fontName.family!==y.family||e.fontName.style!==y.style)return!1;let a=e.parentNode;return!!a&&O(a,_)}},425037:(e,t,a)=>{a.d(t,{p:()=>E});var n=a(411855),r=a(587670),l=a(966712),i=a(762638),o=a(939863),s=a(101505),c=a(672517),d=a(497306),u=a(833629),m=a(168289),p=a(396021),_=a(295463),f=a(925714),g=a(460528),h=a(493168);function E(e,t){let a=m.wn.FORMAT_FRAME,{tutorialPlayedUserFlag:E,stepCompletedUserFlag:y}=(0,p.Of)(a,t);return{name:a,tutorialPlayedUserFlag:E,stepCompletedUserFlag:y,duration:t?17500:9400,steps:function(e){let t=[];return t.push({type:m.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e?t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,f.xK)(e,f.Dl),nodeNameForLogging:m.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:400}):t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>"FRAME"===e.type,nodeNameForLogging:m.Le.NO_BASICS_FILE_FRAME,additionalDelay:400,prioritizeSelectedNode:!0}),t.push({type:m.HQ.SET_CURSOR_DIRECTION,direction:m.zu.RIGHT},{type:m.HQ.SET_CHAT,message:"Change how your frames look here.",additionalDelay:500},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:g.W,offset:{x:-28,y:132},position:{x:m.GF.LEFT,y:m.NI.TOP},cursorBotMovementAnimationDuration:600},{type:m.HQ.SET_VIEWPORT_FRAME_TYPE,viewportFrameType:m.JJ.PROPERTIES_PANEL,additionalDelay:1500},{type:m.HQ.SET_CHAT,message:e?"For example: Add color...":"For example: Their color!",additionalDelay:1e3},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"fill"),position:{x:m.GF.LEFT,y:m.NI.CENTER},additionalDelay:500,cursorBotMovementAnimationDuration:1e3},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:()=>({fillPaints:(0,f.IM)(e?f.YI:(0,f.Ui)())}),additionalDelay:0},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-1-0")}"] input`,additionalDelay:1500},{type:m.HQ.CLEAR_CHAT}),e&&t.push({type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"stroke"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:m.HQ.SET_CHAT,message:"A border...",additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{strokePaints:(0,f.IM)(f.ro),strokeWeight:2},additionalDelay:10},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-2-0")}"] input`,additionalDelay:1500},{type:m.HQ.SCROLL_PROPERTIES_PANEL,value:0,additionalDelay:500},{type:m.HQ.CLEAR_CHAT},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius"),offset:{x:-25,y:5},cursorBotMovementAnimationDuration:700,additionalDelay:300},{type:m.HQ.SET_CHAT,message:"Or rounded corners!",additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{cornerRadius:f.LW},additionalDelay:10},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius")}"] input`,additionalDelay:2500},{type:m.HQ.CLEAR_CHAT}),t}(t),startingState:t?{centerNodeMatcher:e=>(0,f.xK)(e,f.Dl),resetStartingState:{hubFileId:l.Ay()?.cursor_bot?.ginger_formatted_text_hub_file_id,nodeHeight:f.HX,nodeWidth:f.e7}}:{centerNodeMatcher:e=>"FRAME"===e.type},TooltipElement:a=>{let{primaryCtaProps:r,secondaryCtaProps:l,onPrimaryCtaClick:u,onSecondaryCtaClick:m}=(0,_.W)({isReplay:e,props:a});return n.createElement(h.Z,{onPrimaryCtaClick:u,primaryCtaProps:r,secondaryCtaProps:l,onSecondaryCtaClick:m,lowerLeftText:a.onClickBack?n.createElement(c.$z,{onClick:a.onClickBack,className:i.cx.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:s.c.BACK}},(0,o.tx)("cursor_bot.back")):void 0,onClose:a.onClickClose,skip:a.skip,frameNodeMatcher:t?e=>(0,d.WY)(e=>(0,f.TT)(e,f.Dl),e)||(0,d.cy)((e,t)=>(0,f.Q$)(e,t),e):void 0,title:(0,o.t)("cursor_bot.make_it_look_just_right"),bodyText:t?(0,o.t)("cursor_bot.design_panel_can_change_objects"):(0,o.t)("cursor_bot.design_panel_is_key"),fromCursorBot:!0,isFollowUp:a.isFollowUp})}}}},354537:(e,t,a)=>{a.d(t,{Z:()=>y});var n=a(411855),r=a(587670),l=a(707458),i=a(966712),o=a(762638),s=a(939863),c=a(239349),d=a(101505),u=a(672517),m=a(497306),p=a(833629),_=a(168289),f=a(396021),g=a(295463),h=a(925714),E=a(258525);function y(e,t){let a=_.wn.FORMAT_TEXT,{tutorialPlayedUserFlag:y,stepCompletedUserFlag:v}=(0,f.Of)(a,t);return{name:a,tutorialPlayedUserFlag:y,stepCompletedUserFlag:v,duration:t?10500:8500,steps:function(e){let t=[];return t.push({type:_.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e&&t.push({type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,h.Ut)(e,h.$j),prioritizeSelectedNode:!0,nodeNameForLogging:_.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:E.B,offset:{x:-150,y:-50},cursorBotMovementAnimationDuration:800},{type:_.HQ.SET_CHAT,message:"Change how your text looks here.",additionalDelay:1500}),t.push({type:_.HQ.SET_CURSOR_DIRECTION,direction:_.zu.RIGHT},{type:_.HQ.SET_CHAT,message:"Pick your style, size, alignment, and more.",additionalDelay:1200}),e?t.push({type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,h.Ut)(e,h.qw),nodeNameForLogging:_.Le.CHERRIES_FRAME_CHERRIES_TEXT,prioritizeSelectedNode:!0},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:500,additionalDelay:1e3},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fontSize:20,fontStyle:h.x0,lineHeight:h._q}},{type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,h.Ut)(e,h.A8),nodeNameForLogging:_.Le.CHERRIES_FRAME_PRICE_TEXT},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,h.IM)(h.YH),fontSize:20,fontStyle:h.x0,lineHeight:h._q,textAlignHorizontal:"RIGHT"}},{type:_.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,h.Ut)(e,h.$j),nodeNameForLogging:_.Le.CHERRIES_FRAME_GROWN_TEXT},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,h.IM)(h.yz),fontSize:16,lineHeight:h.U4},additionalDelay:1500}):t.push({type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-picker-button"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontFamily:e.fontName.family===h.zk?h.wG.family:h.zk}),additionalDelay:300},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontStyle:e.fontName.style===h.bO?h.wG.style:h.bO}),additionalDelay:300},{type:_.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size"),position:{x:_.GF.LEFT,y:_.NI.CENTER},cursorBotMovementAnimationDuration:600},{type:_.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size")}"] input`,additionalDelay:500},{type:_.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontSize:16===e.fontSize?12:16}),additionalDelay:1500}),t.push({type:_.HQ.CLEAR_CHAT}),t}(t),startingViewportFrameType:t?_.JJ.TEXT_PANEL:_.JJ.PROPERTIES_PANEL,startingState:t?{centerNodeMatcher:e=>(0,h.AO)(e,4),resetStartingState:{hubFileId:i.Ay()?.cursor_bot?.ginger_hub_file_id,nodeHeight:h.HX,nodeWidth:h.e7}}:{centerNodeMatcher:e=>"TEXT"===e.type},TooltipElement:a=>{let r=(0,c.VW)(),{primaryCtaProps:i,secondaryCtaProps:p,onPrimaryCtaClick:_,onSecondaryCtaClick:f}=(0,g.W)({isReplay:e,props:a});return n.createElement(E.P,{onPrimaryCtaClick:_,primaryCtaProps:i,secondaryCtaProps:p,onSecondaryCtaClick:f,lowerLeftText:a.onClickBack?n.createElement(u.$z,{onClick:a.onClickBack,className:o.cx.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:d.c.BACK}},(0,s.tx)("cursor_bot.back")):void 0,onClose:a.onClickClose,getNodeToSelect:t?()=>(0,m.WY)(e=>"TEXT"===e.type&&(e.name===h.$j||"Grown in Tracy, CA"===e.name),l.q.instance):()=>r?.type==="TEXT"?r:(0,m.WY)(e=>"TEXT"===e.type,l.q.instance),skip:a.skip,title:t?(0,s.t)("cursor_bot.pick_the_perfect_font"):(0,s.t)("cursor_bot.and_pick_the_perfect_font"),bodyText:(0,s.t)("cursor_bot.use_the_design_panel_to_turn_basic_text_into_titles"),fromCursorBot:!0,isFollowUp:a.isFollowUp})}}}},20556:(e,t,a)=>{a.d(t,{X:()=>eN});var n=a(411855),r=a(109388),l=a(188507),i=a(634832),o=a(675678),s=a(587670),c=a(707458),d=a(629019),u=a.n(d),m=a(841563),p=a.n(m),_=a(776250),f=a(91408),g=a(737433),h=a(966712),E=a(374626),y=a(498750),v=a(668876),b=a(951158),C=a(563706),w=a(153234),k=a(776621),x=a(554322),T=a(572206),N=a(448169),S=a(827586),I=a(256975),A=a(738269),L=a(259927),O=a(13379),M=a(226055),P=a(83909),R=a(356390),D=a(662531),F=a(617453),B=a(634480),U=a(843495),G=a(497306),H=a(698993),V=a(860178),K=a(69961),z=a(100197),W=a(939562),j=a(601607);class q{constructor(e,t,a,n,r={}){this.component=e,this.onMouseDown=t,this.onMouseMove=a,this.onMouseUp=n,this.options=r,this.oldTouch=null,this.draggingID=null,this.deferredDragStart=null,this.onTouchStart=e=>{if(e.stopPropagation(),null===this.draggingID&&e.touches.length>0&&this.shouldAdaptTouch(e.touches[0])){let t=e.touches[0];if(this.draggingID=t.identifier,document.addEventListener("touchmove",this.onTouchMove,{passive:!1}),document.addEventListener("touchend",this.onTouchEndOrCancel),document.addEventListener("touchcancel",this.onTouchEndOrCancel),this.options.delayInMS){let a=!1;if(this.deferredDragStart=n=>{if(a)return!1;let r=n.clientX-t.clientX,l=n.clientY-t.clientY;return!(10>Math.sqrt(r*r+l*l))&&(a=!0,!this.options.delayInMS&&(this.onMouseDown(this.mouseEvent("mousedown",e,t)),!0))},this.options.delayInMS){let n=this.deferredDragStart;setTimeout(()=>{this.deferredDragStart!==n||a||(this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t)))},this.options.delayInMS)}}else this.deferredDragStart=null,this.onMouseDown(this.mouseEvent("mousedown",e,t))}},this.onTouchMove=e=>{if(e.stopPropagation(),null!==this.draggingID){for(let t of e.touches)if(t.identifier===this.draggingID){if(this.deferredDragStart){if(!this.deferredDragStart(t))break;this.deferredDragStart=null}e.preventDefault(),this.onMouseMove(this.mouseEvent("mousemove",e,t));break}}},this.onTouchEndOrCancel=e=>{e.stopPropagation(),null!==this.draggingID&&(this.draggingID=null,document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEndOrCancel),document.removeEventListener("touchcancel",this.onTouchEndOrCancel),this.deferredDragStart?this.deferredDragStart=null:this.onMouseUp(this.mouseEvent("mouseup",e,this.oldTouch)))}}mouseEvent(e,t,a){this.oldTouch=a;let n=new MouseEvent(e,{altKey:t.altKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});return Object.defineProperty(n,"target",{value:t.target}),Object.defineProperty(n,"currentTarget",{value:t.currentTarget}),n}shouldAdaptTouch(e){if(!this.options.observeInsideOverflowScroll){let t=r.findDOMNode(this.component);for(let a=e.target;a;a=a.parentElement){let n=getComputedStyle(a).overflowY;if("scroll"===n||"auto"===n){let t=a.getBoundingClientRect();if(e.clientX>=t.left&&e.clientX<t.right&&e.clientY>=t.top&&e.clientY<t.bottom)return!1}if(a===t)break}}return!0}}var Y=a(378762),X=a(273226),J=a(402609),Z=a(638889),Q=a(939863),$=a(101505),ee=a(251960),et=a(456104),ea=a(752353),en=a(126911),er=a(397065),el=a(340514),ei=a(798558),eo=a(746806),es=a(463546);function ec(){let{show:e,isShowing:t,complete:a,uniqueId:r}=(0,et.e)({overlay:es.xtb,priority:er.N.SECONDARY_MODAL}),l=en.y.isApple(),i=n.useMemo(()=>n.createElement(Z.S,{shortcut:l?"\u2303\u21E7A":"Ctrl+Alt+Shift+A"}),[l]);return(0,ee.E)(r,ea.in,()=>{e({canShow:()=>!!(0,h.kc)().ce_al_show_msal_onboarding})}),n.createElement(el.rq,{isShowing:t,targetKey:ei.vx,arrowPosition:eo.F_.LEFT_TITLE,trackingContextName:"MSAL Onboarding Overlay",title:n.createElement("p",{"data-testid":"msal-onboarding-title"},(0,Q.tx)("fullscreen.msal_onboarding.header_with_shortcut",{msalShortcut:i})),description:(0,Q.tx)("fullscreen.msal_onboarding.body"),primaryCta:{label:(0,Q.tx)("general.got_it"),type:"button",onClick:a,variantOverride:"primary",ctaTrackingDescriptor:$.c.GOT_IT},secondaryCta:{label:(0,Q.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/en-us/articles/5731482952599#suggest",ctaTrackingDescriptor:$.c.LEARN_MORE},onClose:a,onTargetLost:a,emphasized:!0,disableHighlight:!0})}var ed=a(507956),eu=a(36127),em=a(187882),ep=a(574176),e_=a(739212),ef=a(741944),eg=a(668092);function eh(e){let{top:t,width:a,guid:r,level:l,onMouseEnter:i,recordingKey:o}=e,s=w.rf(o,"click",e=>{U.bd([r])}),c={transform:`translate3d(0px, ${t}px, 0)`,width:a,height:ef.FL},d={width:e_.iy*l*2,marginRight:1===l?e_.iy/2:0};return n.createElement("div",{className:"layer_expansion_row--layerExpansionRow--G8Twa object_row--row--HIYa5",style:c,onMouseDown:e=>e.stopPropagation(),onClick:s,onMouseEnter:i,role:"button",tabIndex:0},n.createElement("span",{className:"layer_expansion_row--layerExpansionIndent--Bg5Df object_row--indent--uZlad",style:d}),n.createElement("span",{className:"layer_expansion_row--iconWrapper--J3NJb object_row--iconWrapper--ivRSW"},n.createElement(ep.B,{svg:eg.A})),n.createElement("span",{className:"layer_expansion_row--rowText--yhMnt object_row--rowText--3qo7Q ellipsis--ellipsis--Tjyfa"},(0,Q.tx)("design_systems.component_properties.see_all_layers")))}var eE=a(357864),ey=a(716413),ev=a(194792),eb=a(146935);let eC="objects_panel--dropTargetBox--4SX8i",ew=new v.V;function ek(e){return"object"===e.rowType?e.guid:"layer-expansion"===e.rowType?`expand-${e.containingPrimaryInstanceGUID}`:e.sectionId}class ex extends w.o6{constructor(e){super(e),this.state={scrollTop:0,scrollLeft:0,mouseDown:null,dropTarget:null,needsScrollLine:!1},this.cachedAllRowData=[],this.topByGuid=Object.create(null),this.leftByGuid=Object.create(null),this.totalHeight=0,this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.rangeSelectAnchorNodeId=null,this.getScene=()=>this.props.sceneGraph||c.q.instance,this.initializeRows=e=>{let t=this.getScene(),a=e.customRowBuilder?e.customRowBuilder():(0,eE.Sk)(t,e.topNodeFields,e.showImmutableFrameSublayers,e.temporarilyExpandedInstanceLayers,e.includeTopNode);this.topByGuid=a.topByGuid,this.leftByGuid=a.leftByGuid,this.sectionById=a.sectionById,this.totalHeight=a.totalHeight,this.cachedAllRowData=a.rowData},this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=0,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.hasCrossedDragThreshold=!1,this.onLeftPanelCollapsedChange=e=>{if(!e){let e=this.getTopSelectedNodeId();e&&this.scrollToNode({nodeId:e})}},this.scrollToNodeIdAfterUpdate=null,this.scrollToNode=({nodeId:e,forStackInsertion:t})=>{let a=this.topByGuid[e];if(null==a){let t=this.getScene().get(e);t&&t.parentGuid&&U.hq(t.parentGuid),this.scrollToNodeIdAfterUpdate=e;return}if(this.isVerticallyVisible(a,a+ef.FL)||this.scrollNodeIntoView(e,{forStackInsertion:t}),K.nt.ui3LayersAutoScroll.getValue()){let a=this.leftByGuid[e]+(0,f.jz)(eb.indentWidth)+(0,f.jz)(eb.baseIconWidth)+(0,f.jz)(eb.rowTextPadding);this.props.horizontalScrollEnabled&&null!=this.leftByGuid[e]&&!this.isHorizontallyVisible(a,a+(0,f.jz)(eb.minLayerNameWidthForAutoscroll))&&this.scrollNodeIntoView(e,{forStackInsertion:t})}},this.recalculateLayout=()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1},this.recalculateRequested=!1,this.requestRecalculateLayout=()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)},this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.onScroll=e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequestY&&(this.frameRequestY=requestAnimationFrame(this.setScrollTopState)),null!=this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50),this.props.onScroll(e),this.setNeedsScrollLine(e),E.zl.set(eu.uK,{autoScroll:!1})},this.onScrollLeftChanged=(e,t)=>{this.props.horizontalScrollEnabled&&(t||this.props.stopRenaming(!1),this.nextScrollLeft=e,null==this.frameRequestX&&(this.frameRequestX=requestAnimationFrame(this.setScrollLeftState)))},this.doneScrolling=()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)},this.computeScrollDelta=e=>{let t=e/ef.FL;return ef.FL*t*t},this.frameRequestY=null,this.frameRequestX=null,this.nextScrollTop=0,this.nextScrollLeft=0,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequestY=null},this.setScrollLeftState=()=>{this.setState({scrollLeft:this.nextScrollLeft}),this.frameRequestX=null},this.isNodeSticky=e=>((0,k.xO)(o.FigmaTeam.FIGJAM,this.props),e.parentGuid===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=e=>{let t=this.getScene(),a=e.parentGuid?t.get(e.parentGuid):null;for(;a&&a.guid!==this.props.currentPage;){if(this.isNodeSticky(a))return!0;a=a.parentGuid?t.get(a.parentGuid):null}return!1},this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){let t;let a=this.state.scrollTop,n=(e,t,a)=>{if("object"!==e.rowType)return!1;let n=this.findStickyHeader(e,t,a);if(n){let t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=n:this.renderedVisibleRowProps.push(n)}return!!n},r=null;for(let l=0;l<e.length;l++)if(0===(t=e[l]).level){if(r&&n(r,r.top,t.top)||t.top>a)return;r=t}(0,i.assertDev)(!!r,"has at least one top level section"),n(r,r.top,Number.POSITIVE_INFINITY)}},this.scrollNodeIntoView=(e,t)=>{let a=t&&t.fromAIRename||!1,n=t&&t.forStackInsertion||!1;if(null==this.topByGuid[e]||!this.scrollContainerEl||!this.scrollContainer)return;let r=this.topByGuid[e],l=this.state.scrollTop,i=this.scrollContainerHeight();if(this.stickyHeaderGuid===e){n&&this.scrollContainer.scrollTo(r-1);return}let o=this.getScene().get(e);if(!o)return;a||E.zl.set(eu.uK,{autoScroll:!1});let s=this.isAncestorSticky(o);if(s&&r<l+ef.FL?this.scrollContainer.scrollTo(r-ef.FL):!s&&r<l?this.scrollContainer.scrollTo(r):r+ef.FL>l+i&&this.scrollContainer.scrollTo(r-i/2),K.nt.ui3LayersAutoScroll.getValue()&&this.props.horizontalScrollEnabled&&null!=this.leftByGuid[e]){let t=this.leftByGuid[e];this.scrollContainer.scrollToLeft(t)}},this.rowContextMenu=(e,t)=>{if(this.props.onRowContextMenu){this.props.onRowContextMenu(e,t);return}let a=this.getScene().get(e);if(!a)return;(0,Y.sp)(this.getScene(),this.props.sceneGraphSelection,a.guid)||this.updateSelection(a.guid);let{clientX:n,clientY:r}=t;this.props.dispatch(A.j7({type:L.Rb,data:{clientX:n,clientY:r}}))},this.rowContainerMouseDown=w.cZ(this,"mousedown",e=>{let t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),(this.props.allowToggleSelection??!0)&&(0,y.Fo)(e)){this.toggleSelected(t);return}(0,h.kc)().version_diffing&&this.props.editModeType===s.m1T.COMPARE_CHANGES&&s.glU.setActiveChange(t)&&this.props.showViewChangesNotification(t);let a=(0,b.IL)(this.props.sceneGraphSelection),n=null;if(a?n=a:this.rangeSelectAnchorNodeId&&(0,Y.K3)(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)&&(n=this.rangeSelectAnchorNodeId),(this.props.allowSelectRange??!0)&&e.shiftKey&&n){U.GL(n,t),R.Y5.commit();return}(0,Y.sp)(this.getScene(),this.props.sceneGraphSelection,t)||(this.updateSelection(t),this.rangeSelectAnchorNodeId=t),(0,O.i)(e)||this.setState({mouseDown:new T.Mi(e.clientX,e.clientY)})},{recordMetadata:e=>{let t=this.guidAtMousePosition(e.clientY);return(0,i.assertDev)(!!t,"interaction test does not support rare case of no guid under mouse (empty layers panel?)"),{path:(0,e_.eT)(t,this.getScene()),clientX:e.clientX}},playbackMetadata:e=>{let t=this.topByGuid[(0,e_.g2)(e.path,this.getScene(),this.props.currentPage)]+ef.FL/2;return{clientY:this.clientY(t),clientX:e.clientX}}}),this.onMouseMove=e=>{if(this.scrollContainer&&this.scrollContainerEl&&this.state.mouseDown&&!this.props.renamingGuid){this.state.mouseDown.distanceTo({x:e.clientX,y:e.clientY})>3&&(this.hasCrossedDragThreshold=!0);let t=this.relativeY(e.clientY),a=this.state.scrollTop,n=this.scrollContainerHeight();if(n>0){if(t<a){this.scrollContainer.scrollTo(a-this.computeScrollDelta(a-t));return}if(t>a+n){this.scrollContainer.scrollTo(a+this.computeScrollDelta(t-a-n));return}}let r=(0,e_.OL)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??e_.g$.Object,this.props.topNodeFields);this.state.dropTarget&&r&&this.state.dropTarget.index!==r.index&&g.H.trigger(s.JA.SNAP),(this.hasCrossedDragThreshold||!r)&&(this.expandDropTargetIfNeeded(r,t),this.setState({dropTarget:r}))}},this.onMouseUp=w.cZ(this,"mouseup",e=>{let t=this.getScene(),a=!1;if(this.hasCrossedDragThreshold=!1,this.state.mouseDown&&!this.props.renamingGuid){if(a=!0,3>=this.state.mouseDown.distanceTo(new T.Mi(e.clientX,e.clientY))){if(!(0,O.i)(e)){let t=this.guidAtMousePosition(e.clientY);t?this.updateSelection(t):a=!1}}else if(!this.props.isReadOnly){let a=(0,e_.OL)(t,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY),this.props.panelType??e_.g$.Object,this.props.topNodeFields);if(!a)return;let{parentGuid:n,index:r,section:l}=a,i=t.get(n);if(!i||void 0===r)return;let o=e.altKey,c=(0,e_.Lc)(i,r);o?D.l7.user("duplicate-selection",()=>U.kH(i.guid,c,l)):D.l7.user("reparent-selection",()=>U.Yu(i.guid,c,l)),U.hq(i.guid),s.Egt.clearTemporarilyExpanded(),R.Y5.commit()}}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(a=!0,this.isDraggingToToggle=null,R.Y5.commit()),!a)return w.aH},{recordMetadata:e=>{let t=this.getScene(),a=this.guidAtMousePosition(e.clientY),n=this.relativeY(e.clientY);(0,i.assertDev)(!!a,"interaction test does not support rare case of no guid under mouse (empty layers panel?)");let r=this.topByGuid[a];return{path:(0,e_.eT)(a,t),treatAsEndOfClick:!!(this.state.mouseDown&&5>this.state.mouseDown.distanceTo(new T.Mi(e.clientX,e.clientY))),belowAll:n>r+ef.FL,clientX:e.clientX}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[(0,e_.g2)(e.path,this.getScene(),this.props.currentPage)]+ef.FL/2;return e.belowAll&&(t+=ef.FL),{clientY:this.clientY(t),clientX:e.clientX}}}}),this.onScrollContainerMouseDown=()=>{U.wr(),R.Y5.commit()},this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerEl=r.findDOMNode(e)},this.containerMouseLeave=e=>{U.Uc(""),null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout)},this.expandMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a)return;t.stopPropagation(),(0,_.sx)("objects_panel_expand",{nonInteraction:0});let n=!a.isExpanded;t.altKey?U.sK(a.guid,n):(0,y.Fo)(t)&&!(0,b.Im)(this.props.sceneGraphSelection)?U.yF(a.guid,n):U.sq(a.guid,n),this.justToggledExpandedGuid=a.guid},this.isDraggingToToggle=null,this.lockMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a||this.props.isReadOnly)return;t.stopPropagation();let n=!a.locked;this.isDraggingToToggle={locked:n},D.l7.user("set-locked",()=>{U.tU(a.guid,n,t.altKey)})},this.visibleMouseDown=(e,t)=>{let a=this.getScene().get(e);if(!a||this.props.isReadOnly)return;t.stopPropagation();let n=!a.visible;this.isDraggingToToggle={visible:n},D.l7.user("set-visible",()=>{U.pr(a.guid,n,t.altKey)})},this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=(e,t)=>{let a=this.getScene().get(e);if(!a)return;let n=()=>{if(this.isDraggingToToggle){let{locked:e,visible:t}=this.isDraggingToToggle;null!=e&&D.l7.user("set-locked",()=>(function(e,t,a){if(!e)return;let n=!1;eS(e,a,e=>{n=n||e.locked!==t,e.locked=t}),n&&P.wt.reportAnyPropertyChange(["locked"])})(a,e,!1)),null!=t&&D.l7.user("set-visible",()=>(function(e,t,a){if(!e)return;let n=!1;eS(e,a,e=>{n=n||e.visible!==t,e.visible=t}),n&&P.wt.reportAnyPropertyChange(["visible"])})(a,t,!1))}this.state.mouseDown||U.Uc(a.guid)};C.Ay.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=n:n()},this.onDragDrop=(e,t)=>{this.onMouseUp(t.nativeEvent)},this.onDragOver=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.onDragEnter=(e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)},this.onDragLeave=(e,t)=>{this.onMouseMove(t.nativeEvent)},this.renderedVisibleRowProps=[],this.touchAdapter=new q(this,this.rowContainerMouseDown,this.onMouseMove,this.onMouseUp,{delayInMS:500,observeInsideOverflowScroll:!0}),this.recalculateLayout(),this.initializeRows(this.props)}componentDidMount(){super.componentDidMount(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),R.Y5.fromFullscreen.on("scrollToNode",this.scrollToNode);let e=s.glU&&s.glU.getFirstSelectedNodeIdForCurrentPage();e&&this.scrollToNode({nodeId:e})}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),R.Y5.fromFullscreen.removeListener("scrollToNode",this.scrollToNode)}updateSelection(e){(0,H.S)("panel"),U.tJ([e]),R.Y5.commit(),this.props.onSelectionUpdated&&this.props.onSelectionUpdated(e)}UNSAFE_componentWillUpdate(e,t){e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid);let a=this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter,n=this.props.customRowBuilder!==e.customRowBuilder;if((a||n||this.props.currentPage!==e.currentPage||this.props.showImmutableFrameSublayers!==e.showImmutableFrameSublayers||!p()(this.props.temporarilyExpandedInstanceLayers,e.temporarilyExpandedInstanceLayers)||!p()(this.props.temporarilyHoveredNodes,e.temporarilyHoveredNodes))&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,a){if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let t of this.renderedVisibleRowProps)if("object"===t.rowType&&this.scrollContainer&&(0,e_.U$)(t,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[t.guid]){e=!0;break}let t=null,a=null;for(let n of this.renderedVisibleRowProps)"object"===n.rowType&&this.scrollContainer&&(0,e_.U$)(n,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&((!e||this.props.sceneGraphSelection[n.guid])&&(null===t||t>n.top)&&(t=n.top,this.anchorNodeId=n.guid),(null===a||a>n.top)&&(a=n.top,this.topNodeDelta=this.topByGuid[n.guid]-n.top))}}}componentDidUpdate(e,t){if(super.componentDidUpdate(e,t),this.scrollContainer){if(this.scrollToNodeIdAfterUpdate)this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate),void 0!==this.topByGuid[this.scrollToNodeIdAfterUpdate]&&(this.scrollToNodeIdAfterUpdate=null);else if(this.scrollAfterNodeExpanded)null!=this.lastCollapsedScrollPosition&&this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{let e=this.scrollContainer.getScrollTop()+this.topNodeDelta,t=!1;for(let a of this.renderedVisibleRowProps)if("object"===a.rowType&&a.guid===this.anchorNodeId){t=(0,e_.U$)(a,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.anchorNodeId&&this.scrollNodeIntoView(this.anchorNodeId)}}}getTopSelectedNodeId(){let e;let t=Object.keys(this.props.sceneGraphSelection),a=1/0;for(let n of t){let t=this.topByGuid[n];t<a&&(a=t,e=n)}return e}findStickyHeader(e,t,a){let n=this.state.scrollTop,r=this.getScene().get(e.guid);if(!r)return null;if(this.isNodeSticky(r)&&e.hasChildren&&(e.isExpanded||e.isTemporarilyExpanded)){if(t<=n&&a>n+ef.FL)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0};if(a>n&&a<=n+ef.FL)return{...e,top:a-ef.FL,layerAbove:!0};if(this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,{...e,fixed:!0}}return null}expandDropTargetIfNeeded(e,t){let a=null;if(e&&"sticky"!==e.parentTop){let n=this.getScene().get(e.parentGuid);(0,i.assertDev)(!!n,"parentGuid should point to a valid node");let r=t>e.parentTop+ef.FL/3&&t<e.parentTop+2*ef.FL/3;n.uiOrderedChildren.length&&r&&(a=n.guid)}this.lastExpansionTarget!==a&&(this.lastExpansionTarget&&null!=this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),a&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&U.Ir(a,!0)},1e3)),this.lastExpansionTarget=a)}toggleSelected(e){this.props.sceneGraphSelection[e]?U.D$([e]):(U.Dh([e]),this.rangeSelectAnchorNodeId=e),R.Y5.commit()}relativeY(e){let t=(0,x.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=(0,x.bG)();return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVerticallyVisible(e,t){if(!this.scrollContainerEl)return!0;let a=this.state.scrollTop,n=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return a<e&&t<n}isHorizontallyVisible(e,t){if(!this.scrollContainerEl)return!0;let a=this.state.scrollLeft,n=this.scrollContainerEl.getBoundingClientRect().width+this.state.scrollLeft;return a<e&&t<n}guidAtMousePosition(e){return this.mouseOverStickyHeaderGuid(e)||(0,e_.GN)(this.getScene(),this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){return this.scrollContainerEl&&e-this.scrollContainerEl.getBoundingClientRect().top<ef.FL?this.stickyHeaderGuid:null}computeStackOutlineHeight(e,t,a,n){return"sticky"===e?Math.min(t-a,n):Math.min(t-e,n-(e-a))}scrollContainerHeight(){return this.scrollContainerEl?this.scrollContainerEl.clientHeight:0}renderDropTarget(e){let t=null;if(null!=e.parentTop){let a=this.scrollContainerHeight(),r=e.bottomForCanvasStackReparenting,l=ef.FL,i="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid;r&&a&&(l=this.computeStackOutlineHeight(i?"sticky":e.parentTop,r,this.state.scrollTop,a)),t=i?n.createElement("div",{key:"drop-target-box",className:eC,style:{position:"sticky",width:this.props.width,height:l,zIndex:ev.Wb}}):n.createElement("div",{key:"drop-target-box",className:eC,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:l}})}let a=null;return null!=e.lineTop&&(a=n.createElement("div",{key:"drop-target-line",className:"objects_panel--dropTargetLine--vmN9u",style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,a]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}hasAtLeastOneRefToHoveredDefId(e){if(!this.props.hoveredPropDef||!this.props.hoveredPropDef.nodeIDs?.length||!this.props.hoveredPropDef.defID)return!1;let t=e.containingSymbolId;if(!t||!this.props.hoveredPropDef.nodeIDs.includes(t))return!1;for(let t of Object.values(e.propRefs))if(t.isLinked&&t.explicitDefID===this.props.hoveredPropDef.defID)return!0;return!1}renderObjectRow(e,t,a){let r=t.getNode(e.guid);if(!r||!r.parentGuid)return null;let l=t.getAncestorInfo(r.parentGuid),i=t.getMaskInfo(e.guid),o=(0,Y.K3)(this.props.sceneGraphSelection,e.guid);if(!l||!i)return null;let s=(l.isAncestorSelected||o)&&!l.isAncestorHidden&&this.hasAtLeastOneRefToHoveredDefId(r);return n.createElement(ei.oo,{key:ew.getKeyForId(e.guid),isReadOnly:this.props.isReadOnly,...e,renderResourceUse:this.props.renderResourceUse,showMemoryUsage:this.props.showMemoryUsage,showInFileMemoryPercentage:this.props.showInFileMemoryPercentage,nodeMemoryUsage:r.nodeMemoryUsage,rootMemoryUsage:r.rootMemoryUsage,isAncestorHidden:l.isAncestorHidden,isAncestorLocked:l.isAncestorLocked,isAncestorSelected:l.isAncestorSelected,displayOrder:l.childrenDisplayOrder,isMaskedAtLevels:i.isMaskedAtLevels,isLastMaskedAtLevels:i.isLastMaskedAtLevels,panelWidth:this.props.width,scrollLeft:this.state.scrollLeft,name:r.name,abbreviatedStateName:r.isState?r.stateAbbreviatedName:null,nodeType:r.type,isStamp:(0,G.GI)(r),visible:r.visible,mask:r.mask,locked:r.locked,resizeToFit:r.resizeToFit,stackMode:r.stackMode,isStateGroup:r.isStateGroup,isState:r.isState,scrollDirection:r.scrollDirection,booleanOperation:r.booleanOperation,isStaticImage:r.hasEnabledStaticImagePaint,isGIF:r.hasEnabledAnimatedPaint,cornerRadius:r.cornerRadius,objectsPanelThumbnailId:r.objectsPanelThumbnailId,isWidgetSublayer:!!r.isInWidget,hasChildren:r.isExpandable||e.hasChildren||(0,X.vo)(r,this.getScene()),isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid||this.props.temporarilyHoveredNodes.includes(e.guid)||s,isSelected:o,isRenaming:this.props.renamingGuid===e.guid,isDragging:!!this.state.dropTarget,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,isFavicon:this.props.faviconGuid===e.guid,isThumbnail:this.props.thumbnailGuid===e.guid,layerChangeStatus:r.nodeChangeStatus,versionHistory:this.props.versionHistory,userId:this.props.userId,hideRowActions:this.props.hideRowActions,isDefaultResponsiveSet:this.props.topNodeFields?.defaultResponsiveSetId===e.guid,isResponsiveSet:r.isResponsiveSet,panelType:this.props.panelType??e_.g$.Object,isRowInView:t=>{if(!a)return!0;let n=a.getClipContainer().getBoundingClientRect(),r=t.current;if(!r)return!0;let l=r.getBoundingClientRect();return e.fixed&&0!==this.props.width||l.top>=n.top&&l.bottom<=n.bottom}})}renderLayerExpansionRow(e){let t=ew.getKeyForId(ek(e)),a=this.props.width+(this.props.horizontalScrollEnabled?this.state.scrollLeft:0);return n.createElement(eh,{key:t,top:e.top,width:a,guid:e.containingPrimaryInstanceGUID,level:e.level,onMouseEnter:()=>U.Uc(""),dispatch:this.props.dispatch,recordingKey:w.Pt(this.props,"layerExpansion",e.containingPrimaryInstanceGUID)})}renderSectionHeader(e){let t=this.sectionById[e.sectionId]&&(0,Y.sp)(this.getScene(),this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid);return n.createElement(ei.O,{key:ew.getKeyForId(e.sectionId),...e,width:this.props.width,isParentSelected:t,dispatch:this.props.dispatch})}render(){let e=this.renderedVisibleRowProps,t=this.cachedAllRowData||[];for(let a of(this.renderedVisibleRowProps=(0,e_.Uw)(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t),e))(0,e_.Mq)(a,this.windowInnerHeight,this.state.scrollTop)||ew.freeKeyForId(ek(a));this.renderedVisibleRowProps.sort((e,t)=>ew.getKeyForId(ek(e))-ew.getKeyForId(ek(t)));let a=new eE.nV(this.getScene(),this.props.sceneGraphSelection),r=[];for(let e of this.renderedVisibleRowProps)"object"===e.rowType?r.push(this.renderObjectRow(e,a,this.scrollContainer)):"layer-expansion"===e.rowType?r.push(this.renderLayerExpansionRow(e)):r.push(this.renderSectionHeader(e));if(this.props.reparentIntoStackInfo&&this.props.sceneGraph){let e=this.props.reparentIntoStackInfo.indexInParent,t=this.props.reparentIntoStackInfo.parentGuid,a=this.props.sceneGraph.get(t);a&&r.push(...this.renderDropTarget((0,e_.Gs)(a,this.topByGuid,this.props.sceneGraph,this.totalHeight,e)))}else!this.props.isReadOnly&&this.state.dropTarget&&r.push(...this.renderDropTarget(this.state.dropTarget));let l=this.stickyHeaderGuid||!this.state.needsScrollLine?"objects_panel--scrollContainer--h6khG":"objects_panel--scrollContainerWithBorder--SR2sm objects_panel--scrollContainer--h6khG";return n.createElement(n.Fragment,null,n.createElement(e_.M3,{selection:this.props.sceneGraphSelection,getNode:function(e){return a.getNode(e)??null}}),n.createElement(S.P,{enableOverscroll:!0,recordingKey:w.Pt(this.props,"scrollContainer"),className:u()(l,{"objects_panel--hasPending--0IO3j":this.props.hasPending}),width:this.props.width,onScroll:this.onScroll,onScrollLeftChanged:this.onScrollLeftChanged,initialScrollTop:this.props.initialScrollTop,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef,horizontalScrollBarEnabled:this.props.horizontalScrollEnabled,minContentWidth:this.props.horizontalScrollEnabled?this.props.width:void 0},n.createElement(em.jq,{onLeftPanelCollapsedChange:this.onLeftPanelCollapsedChange}),n.createElement(N.V,null,n.createElement("div",{className:u()("objects_panel--rowContainer--03VQD",{"objects_panel--horizontalScrollBarPadding--JfnK4":this.props.horizontalScrollEnabled}),style:{width:Math.max(this.props.scrollWidth??0,this.props.width),height:this.totalHeight},onMouseDown:this.rowContainerMouseDown,onTouchStart:this.touchAdapter.onTouchStart,onMouseLeave:this.containerMouseLeave,"data-testid":"objects-panel"},r))))}}function eT(e){let t=(0,l.wA)(),a=(0,z.J2)((0,F.UK)().showImmutableFrameSublayers),r=(0,z.ut)(s.Ez5?.uiState().reparentIntoStackInfo,null),i=(0,z.J2)(s.Ez5.uiState().renderResourceUse),o=(0,z.J2)(s.Ez5.uiState().showMemoryUsage),c=(0,z.J2)(s.Ez5.uiState().hoveredComponentPropDef),d=(0,z.J2)(s.Ez5.uiState().showInFileMemoryPercentage),u=(0,z.J2)(s.Ez5.canvasViewState().temporarilyHoveredNodes),m=(0,V.TA)(),p=(0,l.d4)(e=>e.mirror.sceneGraphSelection),_=(0,l.d4)(e=>e.mirror.objectsPanelRowRebuildCounter),f=(0,l.d4)(e=>e.mirror.appModel.hoveredNode),g=(0,l.d4)(e=>e.mirror.appModel.temporarilyExpandedInstanceLayers),h=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),E=(0,ed.ks)(),y=(0,I._I)(),v=(0,B.E)(),b=(0,W.H_)(),C=(0,j.Fk)((e,t)=>{let a=e.get(t);return a?{guid:a.guid,children:a.uiOrderedChildren,defaultResponsiveSetId:a.defaultResponsiveSetId}:null},e.currentPage),w=(0,ey.el)();if(E&&!y)return null;let k=void 0===e.topNodeFields?C:e.topNodeFields;return n.createElement(n.Fragment,null,n.createElement(ex,{...e,currentPage:e.currentPage,sceneGraphSelection:p,objectsPanelRowRebuildCounter:_,hoveredNode:f,temporarilyExpandedInstanceLayers:g,editModeType:h,sceneGraph:b,topNodeFields:k,recordingKey:"objectsPanel",showViewChangesNotification:v,hoveredPropDef:c,showImmutableFrameSublayers:a,reparentIntoStackInfo:r,temporarilyHoveredNodes:u,dispatch:t,renderResourceUse:i,showMemoryUsage:o,showInFileMemoryPercentage:d,userId:m??void 0,horizontalScrollEnabled:e.horizontalScrollEnabled,scrollWidth:e.horizontalScrollEnabled?w:void 0}),n.createElement(J.p,{featureFlag:"auto_auto_layout"},n.createElement(ec,null)))}function eN(e){let t=(0,M.GS)()&&(0,h.kc)().ui3_layers_panel;return n.createElement(ey.Rp,null,n.createElement(eT,{...e,horizontalScrollEnabled:t}))}function eS(e,t,a){if(a(e),t)for(let t of e.uiOrderedChildren)eS(c.q.instance.get(t),!0,a)}ex.displayName="ObjectsPanelView"},980150:(e,t,a)=>{a.d(t,{M:()=>w,T:()=>k});var n=a(411855),r=a(629019),l=a.n(r),i=a(886653),o=a(574176),s=a(259927),c=a(497306),d=a(457630),u=a(798558),m=a(133024),p=a(116198),_=a(462725),f=a(968109),g=a(251232),h=a(416014),E=a(348844),y=a(313888),v=a(531800),b=a(142284),C=a(660257);let w=n.forwardRef(function(e,t){let{boundingBox:a,isFigmaPurple:r}=e.node,i=function(e,t,a,n){let r=(0,d._X)({subscribeToUpdates_expensive:!0});if(!r)return null;let l={},i=(0,d.Yb)(r,{x:e.x,y:e.y,width:e.w,height:e.h});return l.left=i.x+r.x,l.top=i.y+r.y,t&&(l.left+=i.width/2),a&&(l.top=i.y+r.y+i.height),{containerStyle:l,pillStyle:n&&{maxWidth:n(i.width)},zoomScale:r.zoomScale}}(a,e.centered,e.bottom,e.maxWidth);if(!i)return null;let{containerStyle:o,pillStyle:c}=i;return n.createElement("div",{ref:t,className:l()(s.Dm,m.V_,{[m.F]:e.centered,[m.sQ]:e.bottom}),style:{...o,marginLeft:e.offsetX??0,marginTop:e.offsetY?.(i.zoomScale)??0},"data-testid":e.dataTestId},n.createElement("div",{className:l()(m.Io,r?m.HR:m.rH,e.largeBorderRadius&&m.Pn),style:c},e.children))});function k({node:e}){let t=(0,i.xx)((e,t)=>(0,u.D)(e,t)),a=e?t(e.guid,e.objectsPanelThumbnailId):"",r=a?(0,o.V)(a):function(e){let t=null;switch(e.type){case"TEXT":t=b.A;break;case"FRAME":t=e.isGroup?_.A:e.isStateGroup?y.A:(0,u.GN)({stackMode:e.stackMode,stackCounterAlignItems:e.stackCounterAlignItems});break;case"ROUNDED_RECTANGLE":t=h.A;break;case"ELLIPSE":t=p.A;break;case"STAR":t=E.A;break;case"VECTOR":t=C.A;break;case"GROUP":t=_.A;break;case"INSTANCE":t=f.A;break;case"SYMBOL":t=e.isState?v.A:y.A}return(0,c.oY)(e.type)&&e.hasEnabledStaticImagePaint&&(t=g.A),t}(e);return r?n.createElement(o.B,{className:m.ue,svg:r}):null}},359919:(e,t,a)=>{a.d(t,{n:()=>s});var n=a(411855),r=a(188507),l=a(601607),i=a(980150),o=a(133024);function s(){let e=function(){let e=(0,r.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,l.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let a=e.get(t.guid);if(!a||"-1:-1"===a.guid)return null;let n={guid:a.guid,name:a.name,type:a.type,boundingBox:a.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,isState:a.isState,isStateGroup:a.isStateGroup,stackCounterAlignItems:a.stackCounterAlignItems,stackMode:a.stackMode,isGroup:a.isGroup,canHaveStatus:a.canHaveStatus,hasStatus:a.hasStatus,objectsPanelThumbnailId:a.objectsPanelThumbnailId};if(n.isState&&t.symbolId){let a=e.get(t.symbolId);n.symbolName=a?.name}return n}):null,e)}()?.[0];return e?n.createElement(i.M,{node:e,offsetX:-3},n.createElement("div",{className:o.nM},n.createElement(i.T,{node:e}),n.createElement("span",{className:o.dK},e.symbolName?e.symbolName:e.name))):null}},650166:(e,t,a)=>{a.d(t,{e:()=>_});var n=a(411855),r=a(767129),l=a(397863),i=a(46481),o=a(939863),s=a(672517),c=a(177505),d=a(498606),u=a(501191),m=a(660164);let p=(0,s.tf)(r.K);function _({recordingKey:e}){let t=(0,c.rE)();return n.createElement(p,{recordingKey:e,"aria-label":(0,o.t)("fullscreen.pages_panel.add_new_page"),onClick:()=>t(null),trackingProperties:{text:"Add new page"},htmlAttributes:{"data-tooltip":(0,o.t)("fullscreen.pages_panel.add_new_page"),"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-above":!0}},n.createElement(i.U,{svg:u.A,fallbackSvg:m.A},n.createElement(l.x,null)))}},489013:(e,t,a)=>{a.d(t,{t:()=>T});var n=a(411855),r=a(308548),l=a(449486),i=a(397863),o=a(326331),s=a(587670),c=a(153234),d=a(574176),u=a(46481),m=a(762638),p=a(939863),_=a(809831),f=a(439384),g=a(177505),h=a(99506),E=a(498606),y=a(60088),v=a(227795);let b="new_page_dropdown--newPageIcon--R2RXS";var C=a(289298),w=a(501191),k=a(660164),x=a(561071);function T({recordingKey:e}){let{Dropdown:t,toggleDropdown:a,isDropdownShown:T,dropdownTargetRef:N}=(0,y.B)("newPageDropdown"),S=(0,_.lg)(),I=(0,f.Te)(),A=(0,g.rE)();if(!I)return null;let L=[{displayText:(0,p.t)("fullscreen.pages_panel.page_dropdown_new"),optionHeight:24,editorType:null,disabled:!0},{displayText:(0,p.t)("fullscreen.pages_panel.design_page"),optionHeight:24,editorType:h._Y.DESIGN,icon:n.createElement("div",{className:b},n.createElement(r.k,null)),callback:()=>A(s._YF.DESIGN)},{displayText:(0,p.t)("fullscreen.pages_panel.figjam_page"),optionHeight:24,editorType:h._Y.WHITEBOARD,icon:n.createElement("div",{className:b},n.createElement(d.B,{svg:x.A})),callback:()=>A(s._YF.WHITEBOARD)},{displayText:(0,p.t)("fullscreen.pages_panel.slide_deck"),optionHeight:24,editorType:h._Y.SLIDES,icon:n.createElement("div",{className:b},n.createElement(l.g,null)),callback:()=>A(s._YF.SLIDES)}],O=48;for(let e=0;e<L.length;e++)if(L[e].editorType===S){O+=24*e;break}return n.createElement(n.Fragment,null,n.createElement("div",{className:m.cx.absolute.w8.h8.$,ref:N,style:{bottom:`${O}px`,right:"42px"}}),n.createElement(v.K0,{className:"new_page_dropdown--newPageButton--sYJsl",recordingKey:c.Pt(e,"newPageDropdown"),"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,p.t)("fullscreen.pages_panel.add_new_page"),"data-tooltip-show-above":!0,onMouseDown:a},n.createElement("div",{className:"new_page_dropdown--newPageIconsContainer--pzY38"},n.createElement(u.U,{svg:w.A,fallbackSvg:k.A},n.createElement(i.x,null)),n.createElement("div",{className:"new_page_dropdown--newPageChevron--N0hv3"},n.createElement(u.U,{svg:C.A},n.createElement(o.r,null))))),T&&n.createElement(t,{minWidth:160,items:L,showPoint:!0}))}},876680:(e,t,a)=>{a.d(t,{gC:()=>oM,yD:()=>oO,eG:()=>oA});var n=a(411855),r=a(109388),l=a(188507),i=a(219728),o=a(96796),s=a(463420),c=a(587670),d=a(707458),u=a(629019),m=a.n(u),p=a(776250),_=a(91408),f=a(297666),g=a(38329),h=a(966712),E=a(374626),y=a(153234),v=a(522739),b=a(286640),C=a(554322),w=a(448169),k=a(192437),x=a(827586),T=a(717421),N=a(574176),S=a(762638),I=a(939863),A=a(392592),L=a(384252),O=a(987067),M=a(331972),P=a(493414),R=a(293017),D=a(662275),F=a(809831),B=a(226055),U=a(83909),G=a(988022),H=a(356390),V=a(662531),K=a(617453),z=a(283942),W=a(843495),j=a(177505),q=a(318812),Y=a(678340),X=a(479118),J=a(335682),Z=a(611978),Q=a(860178),$=a(100197),ee=a(601607),et=a(507956),ea=a(170399),en=a(332721),er=a(137345),el=a(265746),ei=a(696808),eo=a(634480),es=a(862442),ec=a(457630),ed=a(498606),eu=a(227795),em=a(286723),ep=a(370903),e_=a(995382);function ef(){let e=(0,l.wA)(),t=(0,l.d4)(e=>!!e.modalShown),a=(0,l.d4)(e=>e.versionHistory.compareId),r=c.AWq.getChunkChangeCount(),i=(0,es.Z)("chunk_change_navigator_navigate"),o=(0,eo.E)(),s=n.useCallback(e=>{c.Egt.setSelectedNodeAndCanvas(e,!0),i((0,ec.QZ)({nodeId:e,...em.ob}),em.kh),o(e)},[i,o]),d=n.useCallback(e=>{t||0===r||("ArrowUp"===e.key||"ArrowLeft"===e.key||e.shiftKey&&"Tab"===e.key?s(c.glU.navigateToNextChange(-1)):("ArrowDown"===e.key||"ArrowRight"===e.key||"Tab"===e.key)&&s(c.glU.navigateToNextChange(1)))},[t,r,s]);return(n.useEffect(()=>{e(ei.Q.dequeue({type:el._.SEE_WHATS_CHANGED}))},[e]),n.useEffect(()=>{a&&0!==r&&s(c.glU.navigateToFirstVisibleOrClosestChange())},[r,a,s]),n.useLayoutEffect(()=>{if(0!==r)return document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}},[r,d]),0===r)?null:n.createElement(n.Fragment,null,n.createElement("div",{className:"chunk_change_navigator--chunkChangeCount--ZFnfP"},(0,I.tx)("collaboration.feedback.change_count",{changeCount:r})),n.createElement("div",{className:"chunk_change_navigator--chunkChangeNavigator--82303"},n.createElement(eu.K0,{svg:e_.A,onClick:e=>{e.stopPropagation(),s(c.glU.navigateToNextChange(-1))},"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":(0,I.t)("collaboration.feedback.previous_change"),recordingKey:"change_stepper.previous",disabled:0===r}),n.createElement(eu.K0,{svg:ep.A,onClick:e=>{e.stopPropagation(),s(c.glU.navigateToNextChange(1))},"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":(0,I.t)("collaboration.feedback.next_change"),recordingKey:"change_stepper.next",disabled:0===r})))}var eg=a(881512),eh=a(535904),eE=a(183686),ey=a(243742),ev=a(672517),eb=a(663767),eC=a(284321),ew=a(57392),ek=a(397065),ex=a(142232),eT=a(951864),eN=a(337987);function eS({entrypoint:e,onSetKeyboardNavigationElement:t,hideIfNoUpdates:a,recordingKey:r}){let i="ui3"===(0,ey.DP)().version,o=(0,E.md)(ew.Lc),s=(0,l.d4)(eC.ao),{isLibraryModalShown:c,onToggleLibraryModal:d}=(0,eb.u)({entrypoint:e,modalType:"editor",openToUpdatesTab:i&&o}),u=n.useMemo(()=>o?(0,I.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):s?(0,I.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,I.t)("fullscreen.libraries_button.tooltip.no_updates"),[o,s]),m=o||s;return((0,ex.Pf)({showBadge:m,hasChangesToPull:o,disabled:!i}),!a||o||s)?n.createElement("div",{className:"library_modal_button--teamLibraryIcon--EBc7q","data-onboarding-key":"library"},i?n.createElement(eI,{"aria-label":u,toggled:c,ref:t,recordingKey:y.Pt(r,"teamLibrary"),onClick:d,htmlAttributes:{"data-onboarding-key":ek.D}},n.createElement(eE.l,null),m&&n.createElement("div",{className:"library_modal_button--badgeContainer--ebOHQ"},n.createElement("span",{className:"library_modal_button--updatesBadge--B4nW-","data-testid":"library-button-badge"})," ")):n.createElement(eu.o5,{ref:t,recordingKey:y.Pt(r,"teamLibrary"),selected:c,"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":(0,I.t)("fullscreen.libraries_button.tooltip.no_updates"),"data-onboarding-key":ek.D,svg:eT.A,fallbackSvg:eN.A,onClick:d,innerText:"Team Library"})):null}let eI=(0,ev.tf)(eh.d);var eA=a(320063),eL=a(999251),eO=a(723325),eM=a(493323),eP=a(395281),eR=a(140908),eD=a(358145),eF=a(632430),eB=a(999881),eU=a(279453),eG=a(58032),eH=a(298527);function eV(){let e=(0,l.wA)(),t=n.useRef(!1),a=(0,l.d4)(e=>e.loadingState),r=(0,l.d4)(e=>e.fileVersion),i=(0,eH.n1)(),o=(0,eD.qd)(i),s=(0,E.md)((0,eU.fy7)({group:(0,eB.M)()})),c=(0,eG.je)();n.useEffect(()=>{if(!t.current&&!0===i&&!1===o&&"loaded"===s.status){t.current=!0;let n=new Set(c?.data?.map(e=>e.fileKey)??[]);for(let t of s?.data?.libraryPresetSubscriptionsV2??[])n.has(t.hubFileId)&&eF.Fz(t.hubFileId,a,r,e)}},[e,i,r,o,a,s,c])}var eK=a(813648),ez=a(594901),eW=a(933342),ej=a(833629),eq=a(243987),eY=a(428467),eX=a(435011),eJ=a(234945),eZ=a(693223),eQ=a(378762),e$=a(799943),e0=a(756159),e1=a(781525),e2=a(715762),e5=a(498750),e3=a(563706),e4=a(26328),e6=a(140796),e7=a(48515);function e8({searchOptions:e,keyboardNavigationPath:t,keyboardNavigationColumn:a}){let r=(0,l.wA)(),i=(0,l.d4)(e4.UQ),{activeTab:o,shouldFocusSearchBar:s}=(0,l.d4)(e=>e.leftPanel),d=o===c.xae.ASSETS,u=n.useRef(null),p=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),_=(0,e6.vb)({isVisible:d,autofocus:!0,selectOnFocus:!0,ref:u});n.useEffect(()=>{let e=e=>{(e3.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===e5.Uz.KEY_2:e.altKey&&e.keyCode===e5.Uz.KEY_2)&&p!==c.m1T.TEXT&&(_(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p,_]);let f=n.useCallback(t=>{let a;e&&((0,e4.eu)(e.type)?a=e.type:(a={type:e7.I.ALL},e.onSetAssetType(a))),r(eP.ku({query:t,searchOptions:a,entryPoint:"asset_panel"}))},[r,e]),g=m()("component_sidebar_search--searchWithViewModeToggle--nKJ2-","component_sidebar_search--negMargin--QTfpB");return null!=t?n.createElement(e6.E1,{query:i.query,onChange:f,isVisible:d,className:g,recordingKey:"componentsLibrarySearch",placeholder:(0,I.t)("design_systems.assets_panel.search"),autofocus:s,selectOnFocus:!0,hideSearchIcon:!0,entryPointForTracking:"editor:assets_panel",path:t,column:a,forwardedRef:u}):n.createElement(e6.aU,{query:i.query,onChange:f,isVisible:d,className:g,recordingKey:"componentsLibrarySearch",placeholder:(0,I.t)("design_systems.assets_panel.search"),autofocus:s,selectOnFocus:!0,hideSearchIcon:!0,forwardedRef:u,entryPointForTracking:"editor:assets_panel"})}var e9=a(35645),te=a.n(e9),tt=a(708389),ta=a(696673),tn=a(788744),tr=a(756317),tl=a(680681),ti=a(957987),to=a(288542),ts=a(776018),tc=a(538697);function td(e){let{assetType:t,libraryNameByFileKey:a,onSetAssetType:r,onSetKeyboardNavigationElement:i,validAssetTypeOptions:o}=e,s=(0,l.wA)(),c=(0,l.d4)(e=>e.modalShown),d=(0,l.d4)(e=>e.dropdownShown),u=(0,l.d4)(J.tB),m=t.type===e7.I.FILE?t.fileKey:void 0,_=(0,tn.Fl)(),f=n.useCallback(()=>{c?.type===ts.V&&s(D.AS()),p.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:u?.key,assetsPanelVersion:2})},[s,c,u?.key]),g=n.useMemo(()=>{if((0,tl.NX)(_)){let e=Object.entries(a??{}).map(([e,t])=>({key:e,name:t}));return(0,tl.k9)({libraries:e,approvedLibraryKeysByResourceType:_}),e.map(({key:e})=>e)}return Object.keys(a??{}).sort((e,t)=>tt.f.LEXICOGRAPHICALLY(a[e],a[t]))},[a,_]),E=(0,eH.Ck)(),[y,v]=te()(g,e=>!(0,ta.wJ)(e)),b=v.length>0&&E(),C=n.useMemo(()=>({format:e=>{switch(e.type){case e7.I.RECENT:return(0,I.t)("design_systems.assets_panel.dropdown_type_recents");case e7.I.ALL:return(0,I.t)("design_systems.assets_panel.dropdown_type_all_libraries");case e7.I.LOCAL:return(0,h.kc)().dse_editor_templates_v1?(0,I.t)("design_systems.assets_panel.dropdown_type_local_assets"):(0,I.t)("design_systems.assets_panel.dropdown_type_local");case e7.I.FILE:return a[e.fileKey]}},isEqual:tu}),[a]);return n.createElement(tc.l6,{className:"sidebar_asset_type_select--select--PTmwH",id:"component-sidebar-asset-type-select",property:t,formatter:C,onChange:r,dropdownAlignment:"left",openOnKeyPressed:[e5.Uz.SPACE,e5.Uz.ENTER],inputRef:i,dispatch:s,chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",inputClassName:"sidebar_asset_type_select--input--sSEn2",dropdownShown:e.useLocalState?e.dropdownShown:d,dropdownWidth:260,onShowDropdown:f,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,rightIcon:n.createElement(ti.P,{resourceId:m})},!!o[e7.I.ALL]&&n.createElement(tc.c$,{value:{type:e7.I.ALL}}),!!o[e7.I.RECENT]&&n.createElement(tc.c$,{value:{type:e7.I.RECENT}}),!!o[e7.I.LOCAL]&&n.createElement(tc.c$,{value:{type:e7.I.LOCAL}}),y.length>0?n.createElement(tc.sK,null):null,y.length>0&&!(0,h.kc)().dse_preset_libraries?n.createElement(tc.c$,{isHeader:!0,formattedValue:u?.org?.name?(0,I.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:u.org.name}):(0,I.t)("design_systems.assets_panel.dropdown_libraries")}):null,y.map(e=>(0,tl.vR)(e)?n.createElement(tc.c$,{key:e,value:{type:e7.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(tr.FX,null)}):n.createElement(tc.c$,{key:e,value:{type:e7.I.FILE,fileKey:e},fullWidth:!0})),b&&!(0,h.kc)().dse_preset_libraries?n.createElement(tc.sK,null):null,b&&!(0,h.kc)().dse_preset_libraries?n.createElement(tc.c$,{isHeader:!0,formattedValue:(0,I.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,b&&v.map(e=>n.createElement(tc.c$,{key:e,value:{type:e7.I.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(to.t,null)})))}function tu(e,t){return e.type===e7.I.FILE&&t.type===e7.I.FILE?e.fileKey===t.fileKey:e.type===t.type}var tm=a(280999),tp=a(731719);function t_({disabled:e,isList:t,onSetKeyboardNavigationElement:a,onToggleViewMode:r,recordingKey:l}){let i=t?(0,I.t)("design_systems.assets_panel.show_as_grid"):(0,I.t)("design_systems.assets_panel.show_as_list");return n.createElement(eu.K0,{ref:a,recordingKey:y.Pt(l,"toggleComponentsSidebarViewMode"),"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":i,svg:t?tm.A:tp.A,onClick:r,disabled:e})}var tf=a(135076),tg=a(895235),th=a(646240),tE=a(572206),ty=a(154483),tv=a(175290),tb=a(286954),tC=a(452246),tw=a(44892),tk=a(146817),tx=a(593779),tT=a(774442),tN=a(99506),tS=a(914214),tI=a(875387);function tA(e){let t=(0,tT.a)(tN._Y.DESIGN),a=(0,l.d4)(eY.getPermissionsState),r=(0,J.q5)(),i=l.d4(tS.x)?.id,{currentUserOrgId:o}=a,s=!!(o&&(0,eY.canGuestOrg)(o,a)),c=!!(i&&(0,eY.hasActiveEduTeam)(a,i));return(0,n.useMemo)(()=>t.transform(t=>(function({canGuestOrg:e,hasProTeamPaidStatus:t,openFile:a,userId:n,hasActiveEduTeam:r,assetResourceId:l}){return!!a&&!!n&&(!!e||!!t||!!r||!!((0,h.kc)().dse_preset_libraries&&(0,ta.wJ)(l))&&E.zl.get(tI.q).has((0,tx.l)(l)))})({canGuestOrg:s,hasProTeamPaidStatus:t,openFile:r,hasActiveEduTeam:c,userId:i,assetResourceId:e})),[s,r,c,e,t,i])}var tL=a(473744),tO=a(151283),tM=a(534804),tP=a(575288),tR=a(416095),tD=a(267931),tF=a(173454),tB=a(809073),tU=a(237870),tG=a(743415),tH=a(239737),tV=a(132572),tK=a(746806),tz=a(511617),tW=a(915440),tj=a(976999),tq=a(447381),tY=a(837324),tX=a(733169),tJ=a(830445),tZ=a(694687),tQ=a(132135),t$=a(321487),t0=a(216158),t1=a(984968),t2=a(421234);let t5="asset_file_path--path---PrgD text--fontPos11--2LvXf text--_fontBase--QdLsd",t3="asset_file_path--pathLink--lvFH3",t4="asset_file_path--skeletonText--PIxni";function t6({assetFileKey:e,assetNodeId:t}){let a=(0,t1.ol)(),r=(0,tZ.sZ)(),i=!!r||(0,eq.w5)(a),o=r?.id,s=t0.M4.useFile(e),c=(0,tW.Rs)(eU.epW,{fileKey:e},{enabled:i}),d=c?.data?.file,u=function(e,t){let a=(0,l.d4)(e=>e.hubFiles)[e];return(0,ta.wJ)(e)&&a?(0,tY.qD)(a).name:t}(e,s?.data?.name),m=function(e,t){let a=(0,ta.wJ)(e),r=(0,tX.S)(e).unwrapOr(!1),i=(0,l.d4)(J.tB),o=t0.M4.useFile(e).data;return n.useMemo(()=>{if(!r||a||!o||!i||o.key===i.key)return null;let e=(0,tQ.to)(o);return(0,tz.dR)(e,{"node-id":encodeURIComponent((0,t$.E)(t))})},[t,r,o,i,a])}(e,t),p=c?.status==="loading",_=(0,tJ.E_)(e),f=d?.team?.id,g=f?function(e,t){let a=location.origin;return t?`${a}/files/${t}/team/${e}`:`${a}/files/team/${e}`}(f,o):void 0,E=d?.team?.name,y=f&&E&&i,v=d?.team?.workspace?.id,b=v&&o?t2.fO(v,o):void 0,C=d?.team?.workspace?.name,w=v&&C&&i;return i&&p?n.createElement("div",{className:t5,"data-testid":"asset-file-path-loader"},n.createElement(tj.Wi,{className:t4,opacity:50}),"/",n.createElement(tj.Wi,{className:t4,opacity:50})):n.createElement("div",{className:t5},w&&n.createElement(n.Fragment,null,n.createElement(tq.q,{tooltipText:C},n.createElement("a",{href:b,target:"_blank",className:t3},C)),"/"),y&&n.createElement(n.Fragment,null,n.createElement(tq.q,{tooltipText:E},n.createElement("a",{href:g,target:"_blank",className:t3},E)),"/"),n.createElement(tq.q,{tooltipText:u},m?n.createElement("a",{href:m,target:"_blank",className:t3},u):n.createElement("span",null,u)),(0,h.kc)().dse_preset_libraries&&_&&n.createElement("div",{className:S.cx.flex.alignCenter.justifyCenter.ml2.$},n.createElement(to.S,{hubFileId:e,showTooltip:!0})))}var t7=a(103339),t8=a(421757),t9=a(767129),ae=a(470370),at=a(80161),aa=a(946689),an=a(449124),ar=a(46481),al=a(567078),ai=a(108793),ao=a(29680),as=a(237929),ac=a(273226),ad=a(986231),au=a(564577),am=a(67294),ap=a(296045),a_=a(371751);let af="asset_updated_details--dot--SoliI",ag="asset_updated_details--updatedAt--eam-d",ah="asset_updated_details--updatedAtAvatar--uf4Gy",aE="asset_updated_details--handle--63B8y";function ay({user:e,communityProfile:t,updatedAt:a}){let r=ab(e),l=null,i=null;return(null!=t?(l=n.createElement(ap.e,{entity:t,size:am.Pf.SMALL}),i=t.name):r&&(l=n.createElement(am.H8,{user:e,size:am.Pf.SMALL}),i=e.handle),l&&i)?n.createElement("div",{className:ah},l,n.createElement("span",{className:aE},i),a?n.createElement(n.Fragment,null,n.createElement("span",{className:af},"\xb7"),n.createElement(au.h1,{date:a})):null):a?n.createElement("div",{className:ag},(0,I.tx)("design_systems.assets_panel.updated_at",{updatedAt:n.createElement(au.h1,{date:a})})):null}function av({assetKey:e,type:t,updatedAt:a}){let r=(0,a_.R8)({assetKey:e,type:t}),{avatar:l,authorName:i}=n.useMemo(()=>{if("loaded"!==r.status||!r.data)return{avatar:null,authorName:null};if("community"===r.data.type)return{avatar:n.createElement(ap.e,{entity:(0,a_.M)(r.data.communityProfile),size:am.Pf.SMALL}),authorName:r.data.communityProfile.name};let e=(0,a_.G5)(r.data.user);return ab(e)?{avatar:n.createElement(am.H8,{user:e,size:am.Pf.SMALL}),authorName:e.handle}:{avatar:null,authorName:null}},[r]);return l&&i?n.createElement("div",{className:ah},l,n.createElement("span",{className:aE},i),a?n.createElement(n.Fragment,null,n.createElement("span",{className:af},"\xb7"),n.createElement(au.h1,{date:a})):null):a?n.createElement("div",{className:ag},(0,I.tx)("design_systems.assets_panel.updated_at",{updatedAt:n.createElement(au.h1,{date:a})})):null}function ab(e){return null!=e&&!!e.img_url&&!!e.handle}var aC=a(790429),aw=a(534611);function ak({renderedAssetData:e}){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.dropdownShown),r=n.useMemo(()=>{let t=e?.nodeData?.moduleFrameData?.selectedFrameGUID;return null==t||t===aw.AD?{type:"all"}:{type:"guid",guid:t}},[e?.nodeData?.moduleFrameData?.selectedFrameGUID]),i=n.useCallback(e=>{let t="all"===e.type?aw.AD:e.guid;c.glU.setPlaygroundSelectedNode(t)},[]),{nodeData:o}=e,s=n.useMemo(()=>({format:t=>{if("all"===t.type)return"All frames";let a=e?.nodeData?.moduleFrameData?.frames??{};return a[t.guid]?.name??""}}),[e?.nodeData?.moduleFrameData?.frames]);if(null==o)return null;let{playgroundGUID:d,moduleFrameData:u}=o;if(!d||null==u)return null;let m=Object.keys(u.frames??{});return m.length<2?null:n.createElement("div",{className:"playground_module_frame_section--wrapper--65QB6"},n.createElement("div",{className:"playground_module_frame_section--title--PCfEU"},(0,I.tx)("design_systems.assets_panel.frames")),n.createElement(tc.l6,{id:"playground-module-frame-select",property:r,formatter:s,dispatch:t,onChange:i,dropdownShown:a},n.createElement(tc.c$,{value:{type:"all"}}),n.createElement(tc.sK,null),m.map(e=>n.createElement(tc.c$,{key:e,value:{type:"guid",guid:e}}))))}var ax=a(812115),aT=a(146935);let aN=(0,_.jz)(aT.figmaComponentFlyoutTextMaxCollapsedHeight);function aS({description:e,description_rt:t}){let a=n.useRef(null),[r,l]=n.useState(!0),[i,o]=n.useState(!1),s=(0,eD.ZC)(e);n.useEffect(()=>{e&&a.current&&s!==e&&l(a.current.scrollHeight>aN)},[e,s]);let c=n.useCallback(()=>{r&&o(!0),l(!r)},[r]);if(!e&&!t)return null;let d=!!e&&(r||i);return n.createElement("div",{className:"truncated_component_description--documentationSection--87RCO"},t?n.createElement("div",null,n.createElement(ax.R,{fallback:n.createElement(eM.kt,null),errorFallback:null,value:t,quillClassName:m()("truncated_component_description--quill--yYiwV",{"truncated_component_description--quillCollapsed--3DiWp":r}),quillInnerRef:a})):n.createElement("div",{ref:a,className:m()({"truncated_component_description--collapsed--VXZTS ellipsis--ellipsisAfter6Lines--2UA7M ellipsis--_ellipsisAfterNLines--LzI7k":r},"truncated_component_description--documentationDescription--C090D text--fontPos11--2LvXf text--_fontBase--QdLsd"),dir:"auto"},e),d&&n.createElement("button",{className:"truncated_component_description--showMore--brfX6",onClick:c},r?(0,I.tx)("design_systems.assets_panel.show_more"):(0,I.tx)("design_systems.assets_panel.show_less")))}var aI=a(313888),aA=a(132208),aL=a(798415);let aO=(0,ty.fv)();function aM({renderedAssetData:e,errorType:t,canViewPlayground:a,onInsert:r,shouldHideError:i,onSetShouldHideError:o}){let s=(0,l.d4)(e=>e.hubFiles),c=(0,ao.T3)(),[d,u]=n.useState(!1),m=(0,B.GS)();n.useEffect(()=>{u(!1),o(!1)},[e.asset,o]);let p=(0,aC.S)(e.asset),_=(0,ad.Y)(e.asset),f=n.useMemo(()=>(0,as.kH)(e.asset.name??""),[e.asset.name]),g=n.useRef(null),E=(0,at.NG)({text:f,textRef:g}),y=n.useMemo(()=>aO(e.asset),[e.asset]),v=(0,ta.wJ)(y),b=v?s[y]:null,C=e.asset,w=n.useMemo(()=>{let t=e.nodeData?.playgroundGUID;if(!t)return"";let a=c.get(t);if(!a)return"";let n=c.get(a.symbolId??"");return n?(n.isState?n.parentGuid:n.guid)??"":""},[e,c]),k=n.useMemo(()=>{if(t)return{errorType:t,shouldHideError:i,setShouldHideError:o}},[t,i,o]),x=v&&(0,h.kc)().presets_baseline?(0,I.tx)("design_systems.assets_panel.insert"):e.asset.type===tF.PW.MODULE&&(0,h.kc)().dse_editor_templates_v1?(0,I.tx)("design_systems.assets_panel.insert_template"):(0,I.tx)("design_systems.assets_panel.insert_instance");return n.createElement("div",{className:"component_flyout_body--bodyWrapper--CoGX-"},p&&!d&&n.createElement("div",{className:"component_flyout_body--updateBanner--ETDK5 component_flyout_body--_bodyPadding--KrB6p text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(an.z,{orientation:"vertical",iconSrc:aA.A,onClose:()=>u(!0),variant:"design"},(0,I.tx)("design_systems.assets_panel.update_banner"))),n.createElement("div",{className:"component_flyout_body--headerFileNameWrapper--MH4jz component_flyout_body--_bodyPadding--KrB6p"},n.createElement("h2",{className:"component_flyout_body--header--3LXSQ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa","data-tooltip":E?f:void 0,"data-tooltip-type":ed.Ib.TEXT,ref:g},f),!!_&&_>1&&n.createElement("div",{className:"component_flyout_body--numVariants--nureW"},(0,I.tx)("design_systems.assets_panel.variant_count",{numVariants:_}))),n.createElement("div",{className:"component_flyout_body--descriptionWrapper--wFyRa component_flyout_body--_bodyPadding--KrB6p"},n.createElement(aS,{description:C.description,description_rt:C.description_rt})),n.createElement("div",{className:"component_flyout_body--updatedWrapper--q4V48 component_flyout_body--_bodyPadding--KrB6p"},(0,h.kc)().dse_remove_user_serialization?n.createElement(av,{assetKey:(0,tR.Av)(C),type:C.type,updatedAt:C.updated_at}):n.createElement(ay,{user:C.user,communityProfile:b?.publisher,updatedAt:C.updated_at})),n.createElement("div",{className:"component_flyout_body--buttonWrapper--Sb1Mq component_flyout_body--_bodyPadding--KrB6p"},(0,h.kc)().dse_fpl_wave_1&&m?n.createElement(t8.IK,{onClick:r},x):n.createElement(aa.$$,{onClick:r,fullWidth:!0},x)),a&&!e?.nodeData&&!k&&n.createElement("div",{className:"component_flyout_body--skeletonWrapper--urKH5"},n.createElement(tj.Wi,{className:"component_flyout_body--skeletonHeader--VoEY3",opacity:50}),n.createElement(tj.Wi,{className:"component_flyout_body--skeletonBody--pINXr",opacity:50})),a&&(e?.nodeData||k)&&n.createElement(ao.q0.Provider,{value:c},(0,h.kc)().dse_editor_templates_v1&&(0,h.kc)().dse_editor_templates_frames&&n.createElement(ak,{renderedAssetData:e}),n.createElement("div",{className:"component_flyout_body--propsContainer--w8pmU"},n.createElement(ai.x,{componentProps:e.nodeData?.componentProps,moduleProps:e.nodeData?.moduleProps,moduleFrameData:e.nodeData?.moduleFrameData??void 0,label:n.createElement(aP,{renderedAssetData:e}),playgroundGUID:e.nodeData?.playgroundGUID,productComponentGUID:w,sceneGraph:c,instanceSwapPickerInitialHeight:200,instanceSwapPickerInitialPosition:"right-center",containerWidth:ac.O2.UNBOUNDED,errorData:k,shouldShowDividerAboveProps:!0})),n.createElement("div",{className:"component_flyout_body--modeContainer--8n5p5"},n.createElement(al.b,{fill:!0,modes:e.nodeData?.modeData||{}}))))}function aP({renderedAssetData:e}){let t=n.useCallback(()=>{e.refetchAndResetScene()},[e]);return n.createElement("div",{className:"component_flyout_body--playgroundHeader--lQfDc"},n.createElement("div",{className:"component_flyout_body--flyoutLabel--6Y6lR text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(N.B,{className:"component_flyout_body--headerIcon--FHdrw",svg:aI.A}),(0,I.tx)("design_systems.assets_panel.playground_label")),(0,h.kc)().dse_fpl_wave_1?n.createElement("span",{className:"component_flyout_body--resetButtonContainer--fCSjD"},n.createElement(t9.K,{"aria-label":(0,I.t)("design_systems.playground.reset_properties"),onClick:t,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps",htmlAttributes:{"data-tooltip":(0,I.t)("design_systems.playground.reset_properties"),"data-tooltip-type":ed.Ib.TEXT}},n.createElement(ar.U,{svg:aL.A},n.createElement(ae.N,null)))):n.createElement(eu.K0,{className:"component_flyout_body--resetButton--wVXDQ",svg:aL.A,onClick:t,"data-tooltip":(0,I.t)("design_systems.playground.reset_properties"),"data-tooltip-type":ed.Ib.TEXT,disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))}var aR=a(428654),aD=a(141123),aF=a(232205),aB=a(186380);a(566418);let aU="component_flyout_thumbnail--thumbnail--p3jV2";function aG({canViewPlayground:e,renderedAssetData:t,onCloseIfHidden:a,setFlyoutHidden:r,sectionPosition:l,sectionNameForTracking:i,sectionDepth:o}){let s=n.useCallback(()=>{r(!0)},[r]),{onInsertableResourcePointerDown:c,dragState:d}=(0,aF.j)({resource:t.asset,isList:!1,clickToInsert:!1,sourceForTracking:"asset-description-preview",fromPlayground:e,recomputeCancelRectsOnPointerUp:!0,onDragStart:s,onPointerUpWithoutInsert:a,sectionPosition:l,sectionNameForTracking:i,sectionDepth:o}),u=n.useMemo(()=>{let e=(0,tw.zR)(t.asset,null);if(null!=e)return aR.F.format(e)},[t.asset]);return n.createElement("div",{className:"component_flyout_thumbnail--thumbnailWrapper--P38Qq",onPointerDown:c,role:"button",style:u?{backgroundColor:u}:void 0},e&&t?.thumbnailData&&t.hasChangesToReset?n.createElement("img",{className:aU,src:t.thumbnailData.src,alt:(0,I.t)("design_systems.playground.thumbnail_alt"),draggable:!1}):n.createElement(aB.M,{className:aU,draggable:!1,key:(0,tk.V)(t.asset),item:t.asset,shouldGenerateLocalThumbnail:!1}),n.createElement(aD.q,{dragState:d,isList:!1,thumbnailOverrideSrc:e&&t?.thumbnailData?t.thumbnailData.src:void 0}))}let aH={maxWidth:640,maxHeight:480},aV=(0,ty.fv)();function aK({asset:e,onInsert:t,onLoaded:a,flyoutHidden:r,onCloseIfHidden:i,setFlyoutHidden:o,sectionPosition:s,sectionNameForTracking:d,sectionDepth:u}){let m=tA(aV(e)),[p,_]=n.useState(!1),f=n.useCallback(()=>_(!1),[]),g=(0,t7.MO)({canvasAsset:e,canViewPlaygroundQueryResult:m,onLoaded:a,onError:f,thumbnailOptions:aH}),h=(0,tD.H)(),E=(0,l.d4)(e=>e.fileVersion),y=(0,eD.ZC)(E);if(n.useEffect(()=>{g?.state==="LOADED"&&g?.currentAssetData?.nodeData?.playgroundGUID&&null!=y&&y!==E&&(h(),c.glU.clearPlaygroundScene())},[E,y,h,e.type,g]),!g)return n.createElement(eM.kt,{className:"component_flyout--spinner--c-wap"});let v="LOADED"===g.state?g.currentAssetData:g.previousAssetData,b="ERROR"===g.state?g.errorType:void 0;return n.createElement("div",{className:"component_flyout--wrapper--96Jih"},n.createElement(aG,{renderedAssetData:v,canViewPlayground:m.unwrapOr(!1),onCloseIfHidden:i,setFlyoutHidden:o,sectionPosition:s,sectionNameForTracking:d,sectionDepth:u}),!r&&n.createElement(aM,{renderedAssetData:v,errorType:b,canViewPlayground:m.unwrapOr(!1),onInsert:t,onSetShouldHideError:_,shouldHideError:p}))}var az=a(180715),aW=a(860168);let aj=(0,_.jz)(aW.LdP),aq=(0,_.jz)(aW.wkK),aY=(0,ty.fv)(),aX=(0,tU.Ju)(function({asset:e,searchSessionId:t,query:a,sectionPosition:i,sectionNameForTracking:o,assetTypeDropdownSelection:s,sectionDepth:c,containerWidth:d,onGetKeyboardNavigationItemById:u}){let m=n.useRef(null),_=(0,th.Xr)(az.T),f=n.useMemo(()=>aY(e),[e]),g=tA(f),h=(0,tn.cm)(f),E=(0,J.q5)(),y=(0,l.wA)(),v=(0,l.d4)(e=>(0,eC.e_)(e).local.thumbnails),b=(0,tD.H)(),C=(0,l.d4)(e=>e.instanceSwapPickerShown),w=(0,tG.k)(),k=(0,eW.tM)();(0,eA.h)(()=>{p.az.trackDefinedEvent("assets_panel.flyout_opened",{assetKey:(0,tk.V)(e),assetType:(0,tk.q)(e.type),fileKey:f,isLocal:e.isLocal,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,assetsPanelVersion:w,partnerType:(0,tO.X)(f),queryId:k??void 0})}),(0,eA.h)(()=>()=>{y((0,tb.vq)()),_(!1)}),n.useEffect(()=>{if(!(0,tR.dx)(e)||!e.isLocal)return;let t=e.node_id?v[e.node_id]:null,a=e.type===tF.PW.COMPONENT?e.content_hash:e.version;t?.content_hash!==a&&requestAnimationFrame(()=>{let t=(0,tw.r2)(e.node_id);null!=t&&y(tC.T1({thumbnails:[{nodeId:e.node_id,url:t,type:e.type}],source:tF.$1.LOCAL}))})},[e,y,v]);let x=n.useCallback(()=>{requestAnimationFrame(()=>m?.current?.ensureModalOnScreen())},[]),T=n.useCallback(()=>{C?.isShown&&y((0,tb.vq)())},[y,C]),N=(0,tM.Hu)(f),A=(0,tH.Nv)(),L=n.useCallback(()=>{if("loaded"!==g.status)return;let n=H.Y5.getViewportInfo(),r={canvasPosition:{x:n.offsetX,y:n.offsetY},insertAsChildOfCanvas:!0,percentageOffset:new tE.Mi(.5,.5),storeInRecentsKey:tB.$A.Design,useSmartPositioning:!0,fromPlayground:g.data};e.type===tF.PW.COMPONENT?y((0,eF.Yf)({item:e,...r})):e.type===tF.PW.STATE_GROUP?y((0,eF.b$)({item:e,...r})):e.type===tF.PW.MODULE&&y((0,eF.Bs)({item:e,...r})).then(()=>{H.Y5.triggerAction("commit")});let l={aiResultsEnabled:A&&(0,tV.am)(),assetKey:(0,tR.Av)(e),assetType:(0,tk.q)(e.type),queryId:k??void 0,scoreAi:e.ai_score??void 0,scoreLexical:e.lexical_score??void 0,assetTypeDropdownSelection:s,assetsPanelVersion:w,fileKey:E?.key??void 0,fileParentOrgId:E?.parentOrgId??void 0,fileTeamId:E?.teamId??void 0,isExample:(0,tL.o)(e),libraryKey:e.library_key,partnerType:(0,tO.X)(f),sectionDepth:c,sourceSection:o??void 0};p.az.trackDefinedEvent("assets_panel.flyout_insert",{...l,libraryType:N,searchSessionId:t??void 0,searchQuery:a,sectionPosition:i}),p.az.trackDefinedEvent("asset_search.result_inserted",{...l,libraryType:N,position:i,query:a,sessionId:t??void 0,entryPoint:"assets-panel"})},[g,e,f,y,s,E?.key,E?.parentOrgId,E?.teamId,N,t,a,i,o,c,w,A,k]);n.useEffect(()=>{let e=e=>{let t=r.findDOMNode(m.current?.getEl());if(t){if(!t.contains(e.target)){if(_(!1),(0,tg.NX)(e.target,"data-does-not-dismiss-component-flyout"))return;y(D.ES({type:ts.V}));return}_(!0)}};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[y,_]);let O=n.useCallback(t=>{let a=t.event.code??t.event.key,n=(0,tk.V)(e),r=u?.(n);if(!r)return;let l=t.event.keyCode===e5.Uz.TAB,i=t.event.shiftKey;if((0,eO.c2)(t.event,!1)){r.getItemAbove()?.focus(),t.accept();return}if((0,eO.Nt)(t.event,!1)){r.getItemBelow()?.focus(),t.accept();return}if((0,eO.yn)(a,!1)||l&&i){r.getItemToTheLeft()?.focus(),t.accept();return}if((0,eO.lv)(a,!1)||l&&!i){r.getItemToTheRight()?.focus(),t.accept();return}if("Enter"===a){L(),t.accept();return}},[e,L,u]);var M=n.createElement("div",{className:S.cx.minW0.flex1.$},n.createElement("div",null,(0,I.t)("design_systems.assets_panel.details")),n.createElement(tv.Y,{spacing:0,direction:"horizontal"},e&&n.createElement(t6,{assetFileKey:f,assetNodeId:e.node_id}),h&&n.createElement("div",{className:S.cx.pr4.$},n.createElement(tr.KP,{fileKey:f,variant:"secondary",tooltipLocation:"below"}))));let[P,R,F]=(0,tP.J)(!1),B=n.useCallback(()=>{P.current&&b()},[P,b]);return"loaded"!==g.status?null:n.createElement(tK.vx,{alwaysEnsureModalOnScreen:!0,allowAutoExpanding:!0,canRenderBelowViewport:!1,headerSize:"large",initialPosition:new tE.Mi(d+1,aj),onClick:T,onClose:b,onKeyDown:O,title:M,truncateTitleText:!0,initialWidth:aq,ref:m,dataTestId:"component-flyout-modal",hidden:R,noCancelDragAndDrop:!0},n.createElement("div",{"data-not-draggable":!0},n.createElement(aK,{asset:e,onLoaded:x,onInsert:L,flyoutHidden:R,onCloseIfHidden:B,setFlyoutHidden:F,sectionPosition:i,sectionNameForTracking:o,sectionDepth:c})))},ts.V);var aJ=a(811529),aZ=a(669178);function aQ(e,t,a){return null!=e&&(t[e.type]||e.type===e7.I.FILE&&a[e.fileKey])?e:{type:e7.I.ALL}}var a$=a(857766),a0=a(670494),a1=a(875847),a2=a(532888),a5=a(238837),a3=a(372291),a4=a(233333),a6=a(794272);let a7="searchResults";function a8(e,t){return`${t}:${e.key}`}function a9(e){return`${e}:${a7}:templates`}function ne(e){return`${e}:recentlyUsed`}function nt(e){return`${e}:stickySection`}var na=a(734013),nn=a(634832),nr=a(607283),nl=a(30637),ni=a(801161),no=a(274071),ns=a(603396),nc=a(969504),nd=a(938720),nu=a(734017),nm=a(739212),np=a(448406),n_=a(659265),nf=a(408938);let ng=(0,ty.fv)();function nh({asset:e,fileName:t,sourceForTracking:a,thumbHeight:r,thumbLayout:i,thumbWidth:o,viewMode:s,sectionNameForTracking:c,sectionPosition:d,noFlyout:u,preventDrag:_,disableContextMenu:f}){let g=(0,l.wA)(),y=(0,l.d4)(e=>e.dropdownShown),v=(0,l.d4)(eJ.dK),b=(0,l.d4)(eC.F9),C=(0,l.d4)(eC.e_),w=(0,E.md)(az.T),k=C.assetsPanelSearch.searchOptions?.type===e7.I.ALL,x=n.useMemo(()=>ng(e),[e]),T=(0,tn.cm)(x),S=(0,tJ.E_)(x),I=k&&(T||S),A=n.useRef(null),L=(0,as.kH)(e.name),O=(0,at.NG)({text:L,textRef:A}),M=n.useRef(null),P=(0,at.NG)({text:t??"",textRef:M}),R=y?.type===nu.K.ASSETS_PANEL?y?.data?.component:void 0,D=R?.node_id===e.node_id,F=s===aJ.Bk.List,B=F?"list-no-padding":"grid",U=!!C.assetsPanelSearch.query,G=(0,nc.F)(e,nu.K.ASSETS_PANEL,d,c),H=(0,ns.n)(e),V=(0,eD.ZC)(H),K=!u;n.useEffect(()=>{H&&!V&&g(ni.jD())},[H,g,V]);let z=e.isLocal&&(0,nl.PN)()?(0,nm.eT)(e.node_id,v).join("-"):e.node_id,W="Local components"===c||"Local private components"===c||e.isLocal,{handleClick:j,handleDoubleClick:q}=function(e,t){let a=(0,J.q5)(),r=n.useRef(null),{searchSessionId:l}=(0,eW.Gq)(),i=(0,eW.tM)(),o=n.useCallback(n=>{p.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,tk.V)(e),fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,searchSessionId:l??void 0,assetsPanelVersion:2,queryId:i??void 0})},[e,t,a?.key,a?.parentOrgId,a?.teamId,l,i]);return{handleClick:n.useCallback(()=>{r.current||(r.current=setTimeout(()=>{o(!1),r.current=null},500))},[o]),handleDoubleClick:n.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),o(!0)},[o])}}(e,W??!1),Y=i!==np.rp.SMALL&&!F,X=!F&&(0,h.kc)().api_asset_search_with_scores,Z=(0,ad.Y)(e),Q=F?r:r-2,$=F?o:o-2,ee=n.useMemo(()=>_?void 0:{sourceForTracking:a,clickToInsert:!1,afterSuccessfulInsert:no.$z,sectionNameForTracking:c},[_,c,a]),et=W?n.createElement(nd.MT,{item:e,height:Q,width:$,draggable:ee,onContextMenu:f?void 0:G,shouldHideTooltip:K||D||H,isFilePublished:b,recordingNodePath:z,isSearch:U,useBaseTile:!0,hideNameOverlay:Y,numVariants:Z,displayType:B,sectionPosition:d,showTooltipImmediately:!1,fileName:O||P?t:void 0,alwaysShowBorder:!0}):n.createElement(nd.lX,{item:e,showName:!0,height:Q,width:$,draggable:ee,onContextMenu:f?void 0:G,shouldHideTooltip:K||D||H,recordingNodePath:z,isSearch:U,useBaseTile:!0,hideNameOverlay:Y,numVariants:Z,displayType:B,sectionPosition:d,showTooltipImmediately:!1,fileName:O||P?t:void 0,alwaysShowBorder:!0});return n.createElement("div",{className:F?n_.AD:n_.iE,onClick:j,onDoubleClick:q},F?et:n.createElement("div",{className:m()(n_.QX,{[n_.Gr]:H,[n_.HR]:H&&w})},et),Y&&n.createElement("div",{role:"button",className:n_.Bm,style:{width:o}},n.createElement("span",{className:n_.UU,ref:A},L),K&&n.createElement(N.B,{ariaHidden:!0,className:n_.OW,svg:nf.A})),Y&&!!t&&n.createElement(tv.Y,{spacing:0,direction:"horizontal"},n.createElement("div",{className:m()(n_.Md,n_.Rm),ref:M,style:I?{maxWidth:o-ti.J}:{width:o}},t),I&&n.createElement(ti.P,{resourceId:x,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),X&&n.createElement(n.Fragment,null,n.createElement("div",{className:m()(n_.Md,n_.Rm),style:I?{maxWidth:o-ti.J}:{width:o}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:m()(n_.Md,n_.Rm),style:I?{maxWidth:o-ti.J}:{width:o}},"Lex: "+(e.lexical_score??"N/A"))),K&&F&&n.createElement(N.B,{ariaHidden:!0,className:n_.Ki,svg:nf.A}))}var nE=a(47506),ny=a(10648),nv=a(230997);let nb="library_section_header--sectionHeaderH1--P70zQ ellipsis--ellipsis--Tjyfa",nC="library_section_header--sectionHeader3_redesign--TGISe ellipsis--ellipsis--Tjyfa",nw="library_section_header--sectionHeaderH3--5VrMz ellipsis--ellipsis--Tjyfa";var nk=a(949207),nx=a(432023);let nT=e=>"isExpandable"in e&&e.isExpandable,nN=(e,t)=>{switch(e){case nb:return t?"library_section_header--sectionHeaderDivider--SdrS5 ellipsis--ellipsis--Tjyfa":"library_section_header--sectionHeader1_redesign--cWZaj ellipsis--ellipsis--Tjyfa";case nw:return nC;default:return"library_section_header--sectionHeader3_normal--bf4ra"}},nS=e=>{let t=[];if(e&&e.length){t.push(n.createElement("div",{className:"library_section_header--sectionHeader1_sticky--mZ4QY ellipsis--ellipsis--Tjyfa",key:e[0]},e[0]+" / ","\xa0"));let a=e.slice(1).join(" / ");t.push(n.createElement("div",{className:nC,key:a},a,"\xa0"))}return t};class nI extends n.Component{componentDidUpdate(e){nT(this.props)&&nT(e)&&e.isExpanded!==this.props.isExpanded&&"h1"===this.props.size&&(0,nE.YQ)({id:"library_section_header_toggled"})}render(){let e="h1"===this.props.size?nb:nw,t=nT(this.props)?"library_section_header--sectionHeaderExpandable--hHEFq":"",a=nN(e,this.props.shouldShowDividerLine),r=nT(this.props)&&this.props.isFixed?"library_section_header--isFixed--eVHns":"";return n.createElement(ev.fu,{name:"Section Header",properties:{title:this.props.title,isExpanded:!!nT(this.props)&&this.props.isExpanded},trackingTargets:ny.K.RCS},n.createElement("div",{className:m()(a,e,t,r)},nT(this.props)&&n.createElement(N.B,{className:this.props.isExpanded?"library_section_header--expandCaretOpen--083vU library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad":"library_section_header--expandCaret--20Tzs object_row--expandCaret--f1MjE object_row--indent--uZlad",svg:this.props.isExpanded?nk.A:nx.A}),nT(this.props)&&this.props.breadcrumbPath&&!this.props.isFixed&&n.createElement("div",{className:"library_section_header--breadcrumbPath--Jevbg"},this.props.breadcrumbPath,"\xa0"),nT(this.props)&&this.props.isFixed&&this.props.stickyHeadertokens&&this.props.stickyHeadertokens.length?nS(this.props.stickyHeadertokens):n.createElement("div",{className:a},this.props.title),(0,tl.vR)(this.props.subscribedFileKey)&&n.createElement("div",{className:S.cx.flex.alignCenter.justifyCenter.ml4.$},n.createElement(tr.KP,{fileKey:this.props.subscribedFileKey})),(0,h.kc)().dse_preset_libraries&&(0,tJ.TX)(this.props.subscribedFileKey)&&n.createElement("div",{className:S.cx.flex.alignCenter.justifyCenter.ml4.$},n.createElement(to.S,{hubFileId:this.props.subscribedFileKey,showTooltip:!0,redirectToHubFile:!0}))))}}nI.H1_HEIGHT=(0,_.hG)(nv.BS),nI.H3_HEIGHT=(0,_.hG)(nv.T);class nA extends n.Component{render(){return n.createElement("div",{className:12===this.props.size?"library_section_header--spacer12--0h1Dt":"library_section_header--spacer16--iPkYc"})}}nA.HEIGHT=(0,_.hG)(nv.FX);let nL="component_sidebar--stickyHeaderSpacer--SaKsM",nO=(0,_.hG)(nv.FX),nM=(0,_.hG)(nv.FX)/2,nP=(0,_.hG)(nv.Nz),nR=(0,_.hG)(nv.cP),nD=(0,ty.fv)();function nF({parent:e,outputElements:t,libraryNameByResourceId:a,items:r,keyPrefix:l,sharedOptions:i,sectionNameForTracking:o}){let s=(0,np.PI)(r,!0),c={layout:s,...i},d=(0,np.A5)(c),{width:u,height:m}=(0,np.rj)(c,d),p=i.isList?1:0,f=i.isList?0:nP,g=i.isList||!a?0:nR,E=m+(i.isList?nM:nO)+f+g+p+(i.isList?0:-2);(0,h.kc)().api_asset_search_with_scores&&(E+=2*(0,_.hG)(nv.uY));let y=u+(i.isList?nM:nO)+(i.isList?0:-2),v=0,b=nr.oz.getNextRenderedElementTop(t)+nM;for(let[c,p]of r.entries()){let r=i.isList?b+v*E:b+Math.floor(v/d)*E,_=i.isList?0:3+v%d*y,f=(0,tk.V)(p),g=nD(p);t.push({parent:e,type:nr.zq.TILE,top:r,left:_,height:E,key:`${l}:${f}`,element:function({item:e,fileName:t,sourceForTracking:a,sectionNameForTracking:r,thumbLayout:l,thumbHeight:i,thumbWidth:o,isList:s,sectionPosition:c}){return n.createElement(nh,{asset:e,fileName:t,sourceForTracking:a,sectionNameForTracking:r,thumbLayout:l,thumbHeight:i,thumbWidth:o,viewMode:s?aJ.Bk.List:aJ.Bk.Grid,sectionPosition:c})}({containerWidth:i.containerWidth,fileName:g?a?.[g]:void 0,sourceForTracking:i.sourceForTracking,sectionNameForTracking:o,thumbLayout:s,thumbHeight:m,thumbWidth:u,isList:i.isList,item:p,isExpanded:i.isExpanded,sectionPosition:c}),item:p,numCols:d,containerWidth:i.containerWidth,sectionNameForTracking:o,sectionPosition:c}),v+=1}}let nB=(e,t,a)=>{let r=nt(a.keyPrefix),l=nr.oz.getNextRenderedElementTop(t),i={parent:e,type:nr.zq.ROW,top:l,height:"h1"==a.size?nI.H1_HEIGHT:nI.H3_HEIGHT,key:r,element:n.createElement(nI,{size:a.size,isExpandable:!0,isExpanded:a.isExpanded,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,isFixed:!1,subscribedFileKey:a.subscribedFileKey}),isSticky:!0,isFixed:!1,children:[],isExpandable:!0,isExpanded:a.isExpanded,getExpandableElement:e=>n.createElement(nI,{size:a.size,isExpandable:!0,isExpanded:e,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,subscribedFileKey:a.subscribedFileKey}),sectionNameForTracking:a.sectionNameForTracking,rowType:a.rowType,fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:nL}),n.createElement(nI,{size:"h1",isExpandable:!0,isExpanded:a.isExpanded,title:a.title,breadcrumbPath:a.breadcrumbPath?a.breadcrumbPath:null,stickyHeadertokens:a.stickyHeaderTokens?a.stickyHeaderTokens:void 0,isFixed:!0,subscribedFileKey:a.subscribedFileKey}))};return t.push(i),i};function nU({sectionHeaderText:e,isFixed:t}){return n.createElement("div",{className:m()("component_sidebar--sectionHeader--v0N1h",t?"component_sidebar--isFixed--orinE":"")},n.createElement("div",{className:"component_sidebar--sectionHeaderText--hDKu5"},e))}function nG(e,t,a){let r=nr.oz.getNextRenderedElementTop(e),l={key:`${a.keyPrefix}:sectionHeader:${t}`,isSticky:!0,parent:null,isFixed:!1,type:nr.zq.ROW,top:r,height:40,element:n.createElement(nU,{sectionHeaderText:t,isFixed:!1}),fixedElement:n.createElement(n.Fragment,null,n.createElement("div",{className:nL}),n.createElement(nU,{sectionHeaderText:t,isFixed:!0})),isStaticRow:!0,sectionNameForTracking:a.sectionNameForTracking};return e.push(l),l}function nH({outputElements:e,results:t,moreResults:a,showMoreResults:r,keyPrefix:l,overallOptions:i,libraryNameByResourceId:o,toggleShowMoreResults:s,parent:c}){if(t.length>0&&nF({parent:c??null,outputElements:e,items:t,keyPrefix:`${l}:results`,sharedOptions:i,libraryNameByResourceId:o,sectionNameForTracking:"Primary search results"}),a.length>0){let t=nr.oz.getNextRenderedElementTop(e);e.push({parent:c??null,type:nr.zq.ROW,top:t,height:40,key:`${l}:moreResultsLink`,element:n.createElement("div",{className:"component_sidebar--text--g20jk"},r&&(0,I.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!r&&n.createElement("a",{className:"component_sidebar--link--I-ane blue_link--blueLink--9rlnd",onClick:s},(0,I.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:a.length}))),sectionNameForTracking:"More search results"}),r&&nF({parent:null,outputElements:e,items:a,keyPrefix:`${l}:moreResults`,sharedOptions:i,libraryNameByResourceId:o,sectionNameForTracking:"More search results"})}}function nV({prevParent:e,outputElements:t,inputSubtree:a,inputParentTree:r,keyPrefix:l,sharedOptions:i,sectionNameForTracking:o,hideTitle:s}){let c=a8(a,l),d=!s&&function(e,t){switch(e.type){case"FILE":return""!==e.name;case"PAGE":return t.subtrees.length>1;case"NAME_GROUP":return!e.skipElementsInRendering;case"ASSET_TYPE":return e.items.length>0||e.subtrees.length>0}}(a,r),u=function(e,t,a,n,r,l){if(!e)return null;let i=a8(n,r),o=nt(i),s=l.isExpanded(o,(0,na.pR)(n.type,n.sectionNameForTracking));switch(n.type){case"FILE":return nB(null,a,{keyPrefix:i,size:"h1",title:n.name,isExpanded:s,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,subscribedFileKey:n.subscribedFileKey,sectionNameForTracking:n.sectionNameForTracking,rowType:nr.l$.LIBRARY});case"PAGE":return nB(t,a,{keyPrefix:i,title:n.name,size:"h3",isExpanded:s,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:nr.l$.PAGE});case"NAME_GROUP":return nB(t,a,{keyPrefix:i,size:"h3",title:n.flattenedPath?n.flattenedPath:n.name,isExpanded:s,breadcrumbPath:n.breadcrumbPath?n.breadcrumbPath:void 0,stickyHeaderTokens:n.stickyHeaderTokens?n.stickyHeaderTokens:void 0,sectionNameForTracking:n.sectionNameForTracking,rowType:nr.l$.NAME_GROUP});case"ASSET_TYPE":let c=nK(n.sectionNameForTracking);return nB(t,a,{keyPrefix:i,size:"h3",title:n.name,isExpanded:!0,sectionNameForTracking:n.sectionNameForTracking,rowType:c})}}(d,e,t,a,l,i),m=u?u.children:t,p=u||e;if((0,h.kc)().dse_templates_proto){let e=a.subtrees.find(a5.Qe);null!=e&&nV({prevParent:null,outputElements:m,inputSubtree:e,inputParentTree:a,keyPrefix:l,sharedOptions:i,sectionNameForTracking:e.sectionNameForTracking})}switch(a.type){case"PAGE":case"ASSET_TYPE":case"FILE":nF({parent:p,outputElements:m,items:a.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});break;case"NAME_GROUP":a.skipElementsInRendering||nF({parent:p,outputElements:m,items:a.items,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});break;default:(0,nn.assertNever)(a.type)}for(let e of a.subtrees)(0,h.kc)().dse_templates_proto&&(0,a5.Qe)(e)||nV({prevParent:p,outputElements:m,inputSubtree:e,inputParentTree:a,keyPrefix:c,sharedOptions:i,sectionNameForTracking:o});"FILE"===a.type&&d&&function(e,t,a){let r=nr.oz.getNextRenderedElementTop(t);t.push({parent:e,type:nr.zq.SEPARATOR,top:r,height:a.size,key:`${a.keyPrefix}:spacer${a.size}`,element:n.createElement(nA,{size:a.size})})}(p,m,{keyPrefix:c,size:16})}let nK=e=>{let t=e?.toLowerCase().includes("local");return e?.toLowerCase().includes("templates")?t?nr.l$.LOCAL_TEMPLATES:nr.l$.TEMPLATES:t?nr.l$.LOCAL_COMPONENTS:nr.l$.COMPONENTS},nz="root";var nW=a(545816);let nj=[];function nq(e,t,a){let n=[];return e&&nV({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:nz,sharedOptions:a,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!0}),n}let nY="library-section-asset-type";function nX(e){switch(e){case"all":return{type:e7.I.ALL};case"recent":return{type:e7.I.RECENT};case"local":return{type:e7.I.LOCAL};default:return{type:e7.I.FILE,fileKey:e}}}var nJ=a(56063),nZ=a(639318),nQ=a(336599),n$=a(705129);function n0(e){let t=(0,l.d4)(e=>e.loadingState),a=(0,l.d4)(e=>e.fileVersion),r=(0,l.d4)(e=>e.openFile),i=(0,tG.k)(),o=r&&null!=a&&(0,n$.yD)(r.key)||null,s=!(null!=o&&(0,nQ.D2)(t,o));n.useEffect(()=>{s||function(e,t,a){if(n1)return;let{numLibraries:n,numComponents:r,numComponentsWithLimit:l}=e();(0,p.sx)("Assets Panel Initial Load",{numLibraries:n,numComponents:r,numComponentsWithLimit:l,assetsPanelVersion:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0}),n1=!0}(e,i,r)},[e,s,r,i])}let n1=!1;var n2=a(675678),n5=a(799569),n3=a(172115),n4=a(931828),n6=a(101505),n7=a(206193);function n8(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.openFile),a=(0,l.d4)(e=>e.user?.id);if(!t)return null;let r=t.teamId,i=n.createElement(aa.Us,{className:"library_upsell_banner--blueLink--bt6GX blue_link--blueLink--9rlnd",onClick:function(){(0,p.sx)("library_upsell_badge_clicked",{fileKey:t?.key,teamId:r,userId:a}),e((0,D.to)({type:n3.V,data:{upsellSource:n7.b.LIBRARY_UPSELL_BADGE,teamId:r??void 0,openCheckoutInNewTab:!0}}))},trackingProperties:{trackingDescriptor:n6.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,role:"button"},(0,I.tx)("design_systems.assets_panel.library_upsell_upgrade"));return n.createElement(k.tH,{boundaryKey:"LibraryUpsellBanner",fallback:k.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:n2.FigmaTeam.MONETIZATION_UPGRADES}},n.createElement(ev.fu,{name:"library upsell badge",properties:{fileKey:t?.key,teamId:t?.teamId}},n.createElement("div",{className:"library_upsell_banner--bannerBackground--WlTVY"},n.createElement("div",{className:"library_upsell_banner--bannerContainer--SqSHa"},n.createElement(n5.Jn,{className:"library_upsell_banner--closeButton--U1sPN",onClick:function(){(0,p.sx)("library_upsell_badge_dismissed",{fileKey:t?.key,teamId:r,userId:a}),e(n4.b({has_dismissed_component_sidebar_library_upsell_banner:!0}))}}),n.createElement("div",{className:"library_upsell_banner--bannerContent--SUcpT"},n.createElement("div",{className:"library_upsell_banner--bannerHeader--Lbg8d"},n.createElement(ar.U,{svg:eT.A,className:"library_upsell_banner--bannerIcon--n5IGN"},n.createElement(eE.l,null))),n.createElement("p",{className:"library_upsell_banner--bannerTitle--AN3mP"},(0,I.tx)("design_systems.assets_panel.library_upsell_header")),n.createElement("p",{className:"library_upsell_banner--bannerBody--GSg3l"},(0,I.tx)("design_systems.assets_panel.library_upsell_body",{upgradeToProfessionalPlanLink:i})))))))}let n9=(0,_.hG)(aW.gNA),re={improved:{search:{path:[0,0],column:0},libraryModal:{path:[0,0],column:1},dropdown:{path:[0,1],column:0},viewToggle:{path:[0,1],column:1}}};function rt({initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:l,recordingKey:i}){return n.createElement(eO.dP,{recordingKey:"localComponents",className:"component_sidebar--container--Wxtr4",dataTestId:"component-sidebar","data-does-not-dismiss-component-flyout":!0},n.createElement(ra,{initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:l,recordingKey:i}))}function ra({initialScrollTop:e,onScroll:t,viewMode:a,toggleViewMode:r,containerSizingOptions:i,recordingKey:o}){let s=(0,l.wA)(),c=(0,l.d4)(e=>e.dropdownShown),d=(0,l.d4)(eC.e_),u=(0,l.d4)(eX.hK),m=(0,l.d4)(eJ.dK),_=(0,l.d4)(eJ.Xt),f=(0,l.d4)(eZ.P),g=(0,l.d4)(e=>e.userFlags.has_dismissed_component_sidebar_library_upsell_banner),y=(0,l.d4)(e=>e.isFreeUser),v=(0,l.d4)(e=>e.user),w=(0,C.Av)(),k=(0,l.d4)(e=>e.openFile),x=(0,ez.FC)(),T=(0,a4.D)(),{query:N,searchSessionId:S}=(0,eW.Gq)();(0,nJ.y)(),eV();let A=(0,eO.q_)();n.useEffect(()=>{s(eP.cr({shouldSearchDefaultLibraries:!1}))},[s]);let{assetType:L,libraryNameByFileKey:O,onSetAssetType:M,scrollContent:P,validAssetTypeOptions:R}=function({containerSizingOptions:e,viewMode:t}){var a;let r=function(){let e=(0,l.d4)(eC.e_),t=(0,l.d4)(J.tB),a=(0,l.d4)(a2.t_),r=(0,l.d4)(e=>e.hubFiles),i=(0,l.d4)(eC.MH),o=(0,l.d4)(eC.dM),s=(0,l.d4)(eC.h3),c=(0,l.d4)(eZ.P),d=(0,eH.Ck)(),u=(0,tn.Fl)(),m=t?.teamId?c[t.teamId]:null,p=!!m&&(0,eq.w5)(m),_=(0,a1.T9)(t?.project),f=n.useMemo(()=>(0,aJ.Sg)(i,o),[i,o]),g=n.useMemo(()=>(0,aJ.ND)(s),[s]),h=n.useMemo(()=>(0,aJ.ff)(e,t,a,_),[e,t,a,_]),E=(0,a3.Lm)(),y=n.useMemo(()=>(0,aJ.sJ)(E,a,t,e,_),[a,_,e,t,E]),v=n.useMemo(()=>d()?(0,aJ.o6)(e,t,r,_):null,[d,e,t,r,_]);return(0,a0.jP)(v),n.useMemo(()=>(0,a5.Nx)({localLibraryItemsInfo:f,localTemplatesInfo:g,subscribedItemsInfo:h,subscribedTemplatesInfo:y,subscribedCommunityItemsInfo:v,defaultSubscribedItemsInfo:(0,aJ.Mt)(),canPublish:p,currentFileKeyForPublish:t?(0,a$.Kz)(t)?t.sourceFileKey:t.key:null,approvedLibraryKeysByResourceType:u}),[f,g,h,y,v,p,t,u])}(),{productComponents:i,templates:o}=(0,aZ.g5)(tB.$A.Design),s=(0,l.d4)(e4.q5),c=(0,a4.D)(),d=n.useMemo(()=>({productComponents:i,templates:(0,h.u4)("dse_editor_templates_v1",o,[])}),[i,o]),u=n.useMemo(()=>s?e7.v:function(e,t,a,n=[]){let r=!!((0,h.kc)().dse_editor_templates_v1&&a&&(a.items.length>0||t.subtrees.length>0));return{[e7.I.ALL]:!0,[e7.I.RECENT]:!!(e.length+(0,h.u4)("dse_editor_templates_v1",n.length,0)),[e7.I.LOCAL]:t.items.length>0||t.subtrees.length>0||r,[e7.I.FILE]:!1}}(i,r.localSubtree,r.localTemplateSubtree,o),[s,i,o,r.localSubtree,r.localTemplateSubtree]),m=(a=r.subscribedFileSubtrees,n.useMemo(()=>{let e={};for(let[t,n]of Object.entries(a))n&&(e[t]=n.name);return e},[a])),{assetType:_,onSetAssetType:f}=function(e,t){let[a,r]=n.useState(!1),[i,o]=n.useState({type:e7.I.ALL}),s=(0,l.wA)(),c=(0,l.d4)(e4.q5),d=(0,J.q5)();n.useEffect(()=>{a||"loading"===e||(o(aQ(function(){if(b.x4)try{let e=b.x4.getItem(nY);if(!e)return;return nX(e)}catch(e){return}}(),e,t)),r(!0))},[a,e,t]);let u=n.useCallback(e=>{(!c||(0,e4.eu)(e))&&(o(e),b.x4?.setItem(nY,function(e){switch(e.type){case e7.I.ALL:return"all";case e7.I.RECENT:return"recent";case e7.I.LOCAL:return"local";case e7.I.FILE:return e.fileKey}}(e)),c&&s(eP.gP({searchOptions:e})),p.az.trackDefinedEvent("assets_panel.asset_type_changed",{assetType:e.type,isSearching:!!c,fileKey:e.type===e7.I.FILE?e.fileKey:void 0,openFileKey:d?.key,fileTeamId:d?.teamId??void 0,fileOrgId:d?.parentOrgId??void 0,assetsPanelVersion:2}))},[c,s,d?.key,d?.parentOrgId,d?.teamId]),m=n.useCallback(e=>e.key===nY&&null!=e.newValue,[]),_=n.useCallback(a=>{if(!a)return;let n=nX(a);"loading"!==e&&o(aQ(n,e,t))},[e,t]);return(0,b.tl)({onSync:_,shouldSyncValue:m}),{assetType:i,onSetAssetType:u}}(c?"loading":u,m),g=function({assetType:e,containerSizingOptions:t,recentlyUsedItems:a,treeWithSubtrees:r,viewMode:l}){let{library:i}=(0,a6.R)(e=>({library:e.library})),o=(0,nW.O)(),[s,c]=n.useState(!1),d=l===aJ.Bk.List,u=n.useMemo(()=>({isList:d,isExpanded:na.xO,sourceForTracking:aJ.mZ,...t}),[t,d]),m=n.useMemo(()=>{let e,t;let{query:a,normalizedSearchResults:n,unsubscribedSearchResults:r}=i.assetsPanelSearch;if(!a)return nj;(0,h.kc)().dse_editor_templates_v1?[t,e]=(0,e4._2)(n):e=n;let l=e,d=l.length+r.length;if(0===d&&(!t||0===t.length))return nj;!s&&0===l.length&&r.length>0&&c(!0);let m=[];if(t&&t.length>0&&(0,h.kc)().dse_editor_templates_v1){let e=nG(m,(0,I.t)("design_systems.assets_panel.templates"),{keyPrefix:a9(nz),sectionNameForTracking:"Templates search results"});nH({outputElements:m,results:t,moreResults:[],showMoreResults:!1,keyPrefix:a9(nz),overallOptions:u,libraryNameByResourceId:o,toggleShowMoreResults:()=>{},parent:e})}if(d>0){let e=(0,h.kc)().dse_editor_templates_v1?nG(m,(0,I.t)("design_systems.assets_panel.components"),{keyPrefix:`${nz}:${a7}`,sectionNameForTracking:"Primary search results"}):null;nH({outputElements:m,results:l,moreResults:r,showMoreResults:s,keyPrefix:`${nz}:${a7}`+((0,h.kc)().dse_editor_templates_v1?"1":""),overallOptions:u,libraryNameByResourceId:o,toggleShowMoreResults:()=>{c(e=>!e)},parent:e})}return m},[o,i.assetsPanelSearch,u,s]),{productComponents:p,templates:_}=a,f=n.useMemo(()=>{if(!p.length&&!_.length)return nj;let e=[];return(0,h.kc)().dse_editor_templates_v1?(_.length>0&&nF({parent:nG(e,(0,I.t)("design_systems.assets_panel.templates"),{keyPrefix:ne(nz+":templates"),sectionNameForTracking:"Recently used templates"}),outputElements:e,items:_,keyPrefix:ne(nz+":templates"),sharedOptions:u}),p.length>0&&nF({parent:nG(e,(0,I.t)("design_systems.assets_panel.components"),{keyPrefix:ne(nz+":components"),sectionNameForTracking:"Recently used"}),outputElements:e,items:p,keyPrefix:ne(nz+":components"),sharedOptions:u})):nF({parent:null,outputElements:e,items:p,keyPrefix:ne(nz),sharedOptions:u}),e},[p,_,u]),g=n.useMemo(()=>(0,h.kc)().dse_editor_templates_v1?function(e,t,a){let n=[];return e.forEach(e=>{e&&nV({prevParent:null,outputElements:n,inputSubtree:e,inputParentTree:t,keyPrefix:nz,sharedOptions:a,sectionNameForTracking:e.sectionNameForTracking,hideTitle:!1})}),n}([r.localTemplateSubtree,r.localSubtree],r.tree,u):nq(r.localSubtree,r.tree,u),[u,r.localSubtree,r.localTemplateSubtree,r.tree]),E=n.useMemo(()=>nq(e.type===e7.I.FILE?r.subscribedFileSubtrees[e.fileKey]:void 0,r.tree,u),[e,u,r.subscribedFileSubtrees,r.tree]),y=n.useMemo(()=>{let e=[];return!function(e,t,a,n){if((0,h.kc)().dse_templates_proto){let r=t.subtrees.find(a5.Qe);null!=r&&nV({prevParent:null,outputElements:e,inputSubtree:r,inputParentTree:t,keyPrefix:a,sharedOptions:n,sectionNameForTracking:r.sectionNameForTracking})}for(let r of(t.items.length>0&&nF({parent:null,outputElements:e,items:t.items,keyPrefix:a,sharedOptions:n}),t.subtrees))(0,h.kc)().dse_templates_proto&&(0,a5.Qe)(r)||nV({prevParent:null,outputElements:e,inputSubtree:r,inputParentTree:t,keyPrefix:a,sharedOptions:n,sectionNameForTracking:r.sectionNameForTracking})}(e,r.tree,nz,u),e},[u,r.tree]);return i.assetsPanelSearch.query?m:e.type===e7.I.RECENT?f:e.type===e7.I.LOCAL?g:e.type===e7.I.FILE?E:y}({assetType:_,containerSizingOptions:e,recentlyUsedItems:d,treeWithSubtrees:r,viewMode:t});return{assetType:_,libraryNameByFileKey:m,onSetAssetType:f,scrollContent:g,validAssetTypeOptions:u}}({viewMode:a,containerSizingOptions:i}),[F,B]=(0,E.fp)(e0.Cl);(0,eA.h)(()=>{F&&(M({type:e7.I.FILE,fileKey:F}),B(null))});let U=(0,eK.LR)(),G=(0,l.d4)(e=>e.universalInsertModal.showing),H=n.useCallback(()=>{G&&U()},[U,G]),V=n.useCallback((e,t,a)=>{H(),s((0,D.to)({type:aX,data:{asset:e,searchSessionId:S??void 0,query:N??void 0,sectionPosition:t,sectionNameForTracking:a,assetTypeDropdownSelection:L?.type,containerWidth:i.containerWidth,onGetKeyboardNavigationItemById:A}}))},[L,i.containerWidth,s,H,A,S,N]),K=n.useMemo(()=>({onOpenFlyout:V,assetTypeDropdownSelection:L?.type}),[L,V]);!function({allElements:e}){n0(n.useCallback(()=>{let t=e.length,a=0,n=0;for(let t of e)if(!t.key.includes("localComponents")){let e=function e(t){if(t.type===nr.zq.TILE)return 1;if(!(0,nr.We)(t)||!t.isExpanded)return 0;{let a=0;for(let n of t.children)a+=e(n);return a}}(t);a+=e,n+=Math.min(e,20)}return{numLibraries:t,numComponents:a,numComponentsWithLimit:n}},[e]))}({allElements:P});let z=a===aJ.Bk.List,j=d.assetsPanelSearch,q=0===P.length,Y=c?.type===nu.K.ASSETS_PANEL,X=Y&&c?.data?.component||null,Z=(0,nZ.K)(!0),Q=n.useCallback(()=>{Y||(0,W.wr)()},[Y]),[$,ee]=(0,b.Vc)("has-auto-expanded-component-libraries-for-nux",!1),et=(0,eH.Ck)(),ea=n.useRef(null);n.useEffect(()=>{let e=ea.current;e&&0!==P.length&&et()&&!$&&e.expandAllComponentLibraries(308)>0&&ee(!0)},[$,et,P.length,ee]);let en=n.useCallback(()=>{let e=!!d.assetsPanelSearch.query,t=0===P.length;return n.createElement("div",null,e&&t&&n.createElement(e1.Wq,null),!e&&t&&n.createElement(e1.od,null))},[d.assetsPanelSearch,P.length]),er=T||j.isLoading,el=(0,ej.jO)(),ei=k?.teamId?f[k.teamId]:null,eo=!g&&y&&(!ei||!(0,eq.w5)(ei)&&(0,eY.canEditTeam)(ei.id,x))&&k?.canEdit&&el&&Object.keys(d.local.components).length>0&&(0,eR.Hz)(v?.id),es=function(e,t){let a=n.useMemo(()=>e.find(e=>e.key.includes("subscribedCommunityComponents")&&e.key.includes("stickySection")),[e]);return n.useCallback(()=>{a&&t.current?.scrollToElement(a.key)},[a,t])}(P,ea);return n.createElement(tf.U.Provider,{value:K},n.createElement(rn,{assetType:L,componentsEmpty:q,isList:z,isSearching:!!j.query,isComponentSidebarInitialLoading:T,libraryNameByFileKey:O,onSetAssetType:M,onToggleViewMode:r,recordingKey:o,validAssetTypeOptions:R}),er?n.createElement("div",{className:"component_sidebar--loadingSpinnerContainerWithDropdown--9b8ZI"},n.createElement(eM.kt,null)):n.createElement("div",{className:"component_sidebar--assetPanelSection--mYuo2"},n.createElement(eL.O,{ref:ea,scrollContent:P,recordingKey:"componentsListContainer",isList:z,getViewportHeight:e=>e-2*w,topOffset:n9,isTileSelected:e=>!!e.item.isLocal&&_&&(0,eQ.sp)(m,_,e.item.node_id),onMouseUp:Q,renderEmptyState:en,width:i.containerWidth,className:"component_sidebar--scrollContainerFullHeight---DTUM component_sidebar--_scrollContainerBase--1rakD",initialScrollTop:e,onScroll:t,enableKeyboardNavigation:!0,shouldRefocusAfterKeyboardInsert:L.type===e7.I.RECENT,fileKey:k?.key,teamId:k?.teamId??void 0,orgId:k?.parentOrgId??void 0}),!!X&&n.createElement(nu.h,{selectedView:u,dropdownShown:c,defaultFileKeys:d.defaultPublished.fileKeys,onJumpToLocalComponent:Z,onOpenFlyout:V,usePortal:!0}),eo&&n.createElement(n8,null),n.createElement(e$.Mw,{width:i.containerWidth,scrollToPreset:es})))}function rn({assetType:e,componentsEmpty:t,isList:a,isSearching:r,isComponentSidebarInitialLoading:l,libraryNameByFileKey:i,onSetAssetType:o,onToggleViewMode:s,validAssetTypeOptions:c,recordingKey:d}){let u=re.improved,{setKeyboardNavigationElement:m}=(0,eO.M3)({path:u.libraryModal.path,column:u.libraryModal.column}),{setKeyboardNavigationElement:p}=(0,eO.M3)({path:re.improved.dropdown.path,column:re.improved.dropdown.column}),{setKeyboardNavigationElement:_}=(0,eO.M3)({path:u.viewToggle.path,column:u.viewToggle.column});return n.createElement("div",null,n.createElement("div",{className:"component_sidebar--searchHeader--yTD7D component_sidebar--_header--nHN39"},n.createElement(e8,{searchOptions:{type:e,onSetAssetType:o},keyboardNavigationPath:u.search.path,keyboardNavigationColumn:u.search.column}),n.createElement(eS,{entrypoint:e2.r6.ASSETS_PANEL_BUTTON,onSetKeyboardNavigationElement:m,recordingKey:d})),l||t&&!r?null:n.createElement("div",{className:"component_sidebar--pageHeader--m9FWc component_sidebar--_header--nHN39"},n.createElement(td,{assetType:e,libraryNameByFileKey:i,onSetAssetType:o,onSetKeyboardNavigationElement:p,validAssetTypeOptions:c}),n.createElement(t_,{isList:a,onToggleViewMode:s,onSetKeyboardNavigationElement:_,recordingKey:d})))}var rr=a(44160),rl=a(622422),ri=a(819229),ro=a(721910),rs=a(380620),rc=a(163586),rd=a(201325),ru=a(713644);let rm="asset_panel_folder--folderButton---mVgX";var rp=a(950220);let r_=(0,_.jz)(rp.CT),rf=(0,_.jz)(rp.qv),rg=n.forwardRef(function({keyPrefix:e,name:t,onClick:a,onContextMenu:r,previewAsset:l,recordingKey:i,disabled:o,isList:s,variant:c},d){let u=n.useMemo(()=>s?{height:rf,width:rf}:{height:r_,width:r_},[s]),p=n.createElement(n.Fragment,null,"preview"===c?n.createElement("div",{className:"asset_panel_folder--folderPreview--0ezgC"},l?n.createElement(ru.V,{keyPrefix:e,preview:l,...u}):n.createElement("div",{className:"asset_panel_folder--blankThumbnail--6v5uo",style:u})):n.createElement("div",{className:"asset_panel_folder--folderIcon--FnZdp"},n.createElement(rc.x,null)),n.createElement("div",{className:"asset_panel_folder--folderName--CPNC8 ellipsis--ellipsis--Tjyfa"},t),n.createElement("div",{className:m()("asset_panel_folder--folderNextIcon--ZYH9z",{"asset_panel_folder--adjustMargin--uitBT":"icon"===c})},n.createElement(rd.n,null)));return n.createElement("div",{className:"asset_panel_folder--folderContainer--UPeR-"},(0,h.kc)().dse_fpl_wave_1?n.createElement(rs.E,{"aria-label":t,className:rm,onClick:a,ref:d,recordingKey:i,disabled:o,htmlAttributes:{onContextMenu:r}},p):n.createElement(v.GG,{"aria-label":t,className:rm,onClick:a,onContextMenu:r,forwardedRef:d,recordingKey:i,disabled:o},p))});var rh=a(718242),rE=a(836328),ry=a(623680),rv=a(799550);function rb({subtree:e,index:t,keyPrefix:a,depth:r}){let l=(0,rh.sN)(),{folderPath:i,currentView:o}=(0,ry.wV)(),[s]=(0,rv.MA)(),{previewAsset:c}=e,{navigateToFolder:d}=(0,ry.wV)(),u=n.useCallback(()=>{l("folderRow",d(e.name))},[l,d,e.name]),m=n.useMemo(()=>[ro.ON.CONTENTS,ro.lM.ASSETS+r,ro.tM.FOLDERS,t],[r,t]),{keyboardNavigationItem:p,setKeyboardNavigationElement:_}=(0,eO.M3)({path:m,id:e.key,disabled:(i?.length??0)>r}),{focusFirstItem:f,focusSearchBar:g}=(0,rE.rl)();(0,rE.C0)(p,0===t&&r===(i?.length??0)&&o===ry.S5.Assets);let h=(0,rE.MB)({onBoth:u,onKeyDown:f,onClick:g}),E=n.useMemo(()=>i&&i.length>r,[i,r]);return n.createElement(rg,{name:e.name,onClick:h,keyPrefix:`${a}${e.name}`,previewAsset:c,recordingKey:`assetsFolder.${e.name}`,ref:_,disabled:E,variant:"list"===s?"icon":"preview"})}var rC=a(905485),rw=a(977144),rk=a(179220),rx=a(38580),rT=a(341450),rN=a(736174),rS=a(543817);let rI="asset_panel_tile--fileName--Skyao ellipsis--ellipsis--Tjyfa",rA="asset_panel_tile--secondary--6CWeS",rL=(0,ty.fv)();function rO({asset:e,fileName:t,sourceForTracking:a,thumbLayout:r,thumbHeight:i,thumbWidth:o,displayType:s,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:m,hideInlineName:p,keyboardPosition:_,isFirstTile:f=!1,isExample:g=!1,keyboardPanelDepth:h=0}){let E=n.useContext(tf.U),y=(0,l.d4)(e=>e.modalShown),v=(0,J.tS)(),{currentView:b}=(0,ry.wV)(),C=n.useMemo(()=>rL(e),[e]),w=n.useMemo(()=>g??(0,tL.Nz)(e,{isPreset:(0,ta.wJ)(C)}),[e,C,g]),k=(0,aC.J)(e,u,d),x=(0,ns.n)(e),T=(0,rS.u)({canSwap:!w,openFileKey:v??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),N=n.useCallback(()=>{y?.type!==ts.V||x||k()},[x,y?.type,k]),S=n.useCallback(()=>{y?.type!==ts.V&&E?.onOpenFlyout(e,u,d,m)},[y?.type,E,e,u,d,m]),I=n.useMemo(()=>({..._,path:[ro.ON.CONTENTS,ro.lM.ASSETS+h,..._.path]}),[_,h]),{folderPath:A}=(0,ry.wV)(),[L]=(0,rv.ye)(),O=b===ry.S5.Assets&&A&&L&&(A?.length??0)>h,{setKeyboardNavigationElement:M,keyboardNavigationItem:P}=(0,eO.M3)({...I,id:(0,tk.V)(e),onFocus:N,disabled:O});(0,rE.C0)(P,f&&b===ry.S5.Assets&&!O);let R=(0,rN.N)({colIndex:I.column,rowIndex:I.path[I.path.length-1],isList:!1,keyboardNavigationItem:P,onComponentInsertSwap:T,onOpenFlyout:S,item:e,sectionNameForTracking:d,sectionPosition:u,shouldRefocusAfterKeyboardInsert:b===ry.S5.Recents,sourceForTracking:aJ.mZ});return n.createElement("button",{onClick:S,className:"asset_panel_tile--focusableElementWrapper--YzHK7",ref:M,onKeyDown:R},n.createElement(rP,{asset:e,fileName:t,sourceForTracking:a,thumbLayout:r,thumbHeight:i,thumbWidth:o,displayType:s,viewMode:c,sectionNameForTracking:d,sectionPosition:u,sectionDepth:m,hideInlineName:p}))}let rM=(0,ty.fv)();function rP({asset:e,fileName:t,sourceForTracking:a,thumbHeight:r,thumbWidth:i,sectionNameForTracking:o,sectionPosition:s,sectionDepth:c,hideInlineName:d,displayType:u}){let _=(0,l.wA)(),f=(0,l.d4)(eJ.dK),g=(0,l.d4)(eC.F9),y=(0,l.d4)(eC.e_),v=(0,E.md)(az.T),b=y.assetsPanelSearch.searchOptions?.type===e7.I.ALL,C=n.useMemo(()=>rM(e),[e]),w=(0,tn.cm)(C),k=(0,tJ.E_)(C),x=b&&(w||k),T=n.useRef(null),N=(0,as.kH)(e.name),S=(0,at.NG)({text:N,textRef:T}),I=n.useRef(null),A=(0,at.NG)({text:t??"",textRef:I}),L=!!y.assetsPanelSearch.query,O=(0,nc.F)(e,nu.K.ASSETS_PANEL,s,o),M=(0,ns.n)(e),P=(0,eD.ZC)(M);n.useEffect(()=>{M&&!P&&_(ni.jD())},[M,_,P]);let R=e.isLocal&&(0,nl.PN)()?(0,nm.eT)(e.node_id,f).join("-"):e.node_id,D="Local components"===o||"Local private components"===o||e.isLocal,{handleClick:F,handleDoubleClick:B}=function(e,t){let a=(0,J.q5)(),r=n.useRef(null),{searchSessionId:l}=(0,eW.Gq)(),i=(0,eW.tM)(),o=n.useCallback(n=>{p.az.trackDefinedEvent("assets_panel.component_clicked",{isDoubleClick:n,isLocalComponent:t,assetKey:(0,tk.V)(e),fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,searchSessionId:l??void 0,assetsPanelVersion:3,queryId:i??void 0})},[e,t,a?.key,a?.parentOrgId,a?.teamId,l,i]);return{handleClick:n.useCallback(()=>{r.current||(r.current=setTimeout(()=>{o(!1),r.current=null},500))},[o]),handleDoubleClick:n.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),o(!0)},[o])}}(e,D??!1),U="grid"===u,G=!d&&U,H=(0,h.kc)().api_asset_search_with_scores,V=(0,ad.Y)(e),K={showName:!0,height:r,width:i,draggable:n.useMemo(()=>({sourceForTracking:a,clickToInsert:!1,afterSuccessfulInsert:no.$z,sectionNameForTracking:o,sectionDepth:c}),[c,o,a]),onContextMenu:O,shouldHideTooltip:!0,recordingNodePath:R,isSearch:L,useBaseTile:!0,hideNameOverlay:G,numVariants:V,displayType:U?"grid":"list-no-padding",sectionPosition:s,showTooltipImmediately:!1,fileName:S||A?t:void 0,alwaysShowBorder:!1,thumbWrapperClassName:"asset_panel_tile--thumbWrapper--bNG-Y"},z=D?n.createElement(nd.MT,{item:e,isFilePublished:g,...K}):n.createElement(nd.lX,{item:e,...K});return n.createElement("div",{className:U?"asset_panel_tile--gridWrapper--tUJe5 asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt":"asset_panel_tile--wrapper--8uDli asset_panel_tile--_wrapperBase--ngLpF library_item_tile--_variantHover--xfLPt",onClick:F,onDoubleClick:B},n.createElement("div",{className:m()(U?"asset_panel_tile--tileWrapper--7OwtG asset_panel_tile--_tileWrapperBase--OAJqM":"asset_panel_tile--tileWrapperList--VMlzj asset_panel_tile--_tileWrapperBase--OAJqM",{"asset_panel_tile--shownInFlyout--7Luo3":M,"asset_panel_tile--selectedFlyoutFocus--GGV8E":M&&v})},z),G&&n.createElement("div",{className:"asset_panel_tile--nameWrapper--6O-iS",style:{width:i-2}},n.createElement("span",{className:"asset_panel_tile--name--FG9hg ellipsis--ellipsis--Tjyfa",ref:T},N),n.createElement("div",{className:"asset_panel_tile--caret--x-Vya asset_panel_tile--_caretBase--IZ44d"},n.createElement(rT.e,{"aria-hidden":!0}))),G&&!!t&&n.createElement(tv.Y,{spacing:0,direction:"horizontal",height:"hug-contents"},n.createElement("div",{className:m()(rI,rA),ref:I,style:x?{maxWidth:i-ti.J-2}:{width:i-2}},t),x&&n.createElement(ti.P,{resourceId:C,showPresetTooltip:!0,tooltipDelay:500,tooltipLocation:"below",compact:!0})),H&&n.createElement(n.Fragment,null,n.createElement("div",{className:m()(rI,rA),style:x?{maxWidth:i-ti.J-2}:{width:i-2}},"AI: "+(e.ai_score??"N/A")),n.createElement("div",{className:m()(rI,rA),style:x?{maxWidth:i-ti.J-2}:{width:i-2}},"Lex: "+(e.lexical_score??"N/A"))))}function rR(){let e=n.useContext(tf.U);return e?.isUi3?e:{...e,width:0}}function rD({width:e,children:t}){let a=function(e){let t=(0,l.wA)(),{query:a,searchSessionId:r}=(0,eW.Gq)(),i=(0,rh.ht)(),o=(0,eO.q_)(),s=(0,eK.LR)(),c=(0,l.d4)(e=>e.universalInsertModal.showing),d=n.useCallback(()=>{c&&s()},[s,c]),u=n.useCallback((n,l,s,c)=>{d(),t((0,D.to)({type:aX,data:{asset:n,searchSessionId:r??void 0,query:a??void 0,sectionPosition:l,sectionNameForTracking:s,assetTypeDropdownSelection:i,containerWidth:e,onGetKeyboardNavigationItemById:o,sectionDepth:c}}))},[d,t,r,a,i,e,o]);return n.useMemo(()=>({onOpenFlyout:u,assetTypeDropdownSelection:i,isUi3:!0,width:e}),[u,i,e])}(e);return n.createElement(tf.U.Provider,{value:a},t)}let rF=(0,_.jz)(nv.Nz),rB=(0,_.jz)(nv.cP),rU=(0,_.jz)(nv.FX),rG=(0,_.jz)(rp.$c),rH=(0,_.jz)(rp.d5),rV=(0,_.jz)(nv.ZI),rK=(0,rx.eU)(!1),rz=(e,t,a,n,r)=>{if("list"===r)return rV;let l=e+rF;return t&&(l+=rB),a&&(l+=rU),n&&(l+=2*(0,_.jz)(nv.uY)),l};function rW(e,t,a,r,l,i,o){let s=[];for(let c=0;c<e.length;c+=t){let d=e.slice(c,c+t),u=[];d.forEach((e,s)=>{if(e){let d=c+s;u.push(n.createElement(rO,{key:`${a}-${(0,tk.V)(e)}`,asset:e,fileName:o?.getFileName?.(e),sectionDepth:o?.depth,sectionNameForTracking:l,sectionPosition:c+s,keyboardPosition:(0,rE.pg)(i,d,t,o?.hasHeader),isFirstTile:o?.includesFirstTile&&0===d,keyboardPanelDepth:o?.keyboardPanelDepth,isExample:o?.isExample,...r}))}}),s.push({element:n.createElement("div",{className:"list"===r.displayType?"asset_panel_virtualization--virtualRowList--COnhA":0===c?"asset_panel_virtualization--virtualRowFirst--mdR2j asset_panel_virtualization--virtualRow--TxsS-":"asset_panel_virtualization--virtualRow--TxsS-",role:"row"},u),key:`${a}:row-${c/t}`,keys:d.map(e=>(0,tk.V)(e)),height:rz(r.thumbHeight,!!o?.getFileName,0!==c,!!(0,h.kc)().api_asset_search_with_scores,r.displayType)})}return s.length>0&&(s.unshift({element:n.createElement(rw.hK,{height:rG}),key:`${a}:spacer-top`,height:rG}),s.push({element:n.createElement(rw.hK,{height:rH}),key:`${a}:spacer-bottom`,height:rH})),s}function rj({elements:e,hideScrollbar:t,initialScrollTop:a,onScroll:r,anchorScroll:l,role:i}){let o=n.useRef(null),s=(0,rk.Te)({count:e.length,getScrollElement:()=>o.current,estimateSize:t=>e[t].height,getItemKey:t=>e[t].key,paddingEnd:8,overscan:6,initialOffset:a}),c=function({scrollContainerRef:e,initialScrollTop:t,onScroll:a,enabled:r,virtualizer:l,getKeys:i}){let[o,s]=n.useState(t??e.current?.scrollTop),[c,d]=n.useState(e.current?.scrollHeight),{width:u}=rR(),m=(0,eD.ZC)(u),p=n.useCallback((e,t)=>{if(!t)return{keys:[],offset:void 0};let a=e.getVirtualItems().find(e=>e.start>=t);return a?{keys:i(a),offset:a.start-t}:{keys:[],offset:void 0}},[i]),[_,f]=n.useState(()=>p(l,t??e.current?.scrollTop)),g=n.useCallback((e,t)=>{a?.(e,t),r&&(s(e),f(p(l,e)))},[r,p,a,l]);return n.useEffect(()=>{let t=m&&u&&m!==u,a=e.current?.scrollHeight&&c&&e.current?.scrollHeight!==c;if(t&&d(e.current?.scrollHeight),void 0!==o&&void 0!==_.offset&&r&&t&&a){let t=l.getVirtualItems().find(e=>i(e).some(e=>_.keys.includes(e)));if(t)l.scrollToOffset(t.start-_.offset);else{let t=o/c,a=e.current.scrollHeight*t;l.scrollToOffset(a)}}},[_.keys,_.offset,r,i,m,e,c,o,l,u]),g}({enabled:l,scrollContainerRef:o,initialScrollTop:a,onScroll:r,virtualizer:s,getKeys:n.useCallback(t=>{let a=e[t.index];return a?a.keys??[a.key]:[]},[e])}),[d,u]=(0,E.fp)(rK);return n.useEffect(()=>{if(!d)return;let t=e.findIndex(e=>"preset_libraries_header"===e.key);-1!==t&&(s.scrollToIndex(t,{align:"start"}),u(!1))},[e,s,u,d]),n.createElement(rw.xU,{scrollContainerRef:o,hideScrollbar:t,initialScrollTop:a,onScroll:c},n.createElement("div",{style:{height:`${s.getTotalSize()}px`,width:"100%",position:"relative"},role:i},s.getVirtualItems().map(t=>n.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${t.start}px)`}},e[t.index].element))))}var rq=a(366508),rY=a(940596),rX=a(606624);let rJ=(0,E.Iz)(()=>(0,rY.rt)(0));function rZ({libraryKey:e,pageId:t,folderPath:a}={}){let{lastNavAction:r}=(0,rX.ZX)(),l=r===rX.r6.Back||r===rX.r6.Mount||r===rX.r6.ToggleView&&!a,[i,o]=(0,E.fp)(rJ("libraries")),[s,c]=(0,E.fp)(rJ(`pages-${e}`)),[d,u]=(0,E.fp)(rJ(`assets-${e}-${t}-${(a??[]).join("-")}`));return{librariesScrollTop:l?i:0,pagesScrollTop:l?s:0,assetsScrollTop:l?d:0,handleScrollLibraries:n.useCallback(e=>{o(e)},[o]),handleScrollPages:n.useCallback(t=>{e&&c(t)},[c,e]),handleScrollAssets:n.useCallback(a=>{e&&t&&u(a)},[u,e,t])}}var rQ=a(187882);function r$({elementMinSize:e,spaceAvailable:t,gap:a}){return Math.floor((t+a)/(e+a))}function r0({numElements:e,spaceAvailable:t,gap:a}){return Math.floor((t-(e-1)*a)/e)}function r1({width:e,widthToHeightRatio:t=1,maxHeight:a}){let n=Math.floor(e/t);return void 0===a?Math.max(0,n):Math.max(0,Math.min(a,n))}let r2=(0,_.jz)(rp.H0),r5=2*(0,_.jz)(rp.Mj),r3={NORMAL:115,WIDE:void 0,SMALL:72},r4={minColumns:2,maxColumns:3,aspectRatio:1,maxHeight:r3.NORMAL},r6={minColumns:1,maxColumns:1,aspectRatio:3.25,maxHeight:r3.WIDE},r7={minColumns:3,maxColumns:5,aspectRatio:1,maxHeight:r3.SMALL},r8=e=>{switch(e){case np.rp.WIDE:return r6;case np.rp.SMALL:return r7;default:return r4}};function r9(){let{componentLayouts:e,exampleLayout:t}=function({sidebarWidth:e}){let t=n.useMemo(()=>e-r5,[e]),a=n.useMemo(()=>{let e={};for(let a of[np.rp.NORMAL,np.rp.WIDE,np.rp.SMALL]){let{minColumns:n,maxColumns:r,aspectRatio:l,maxHeight:i}=r8(a),o=Math.max(Math.min(r,r$({elementMinSize:i??t,gap:r2,spaceAvailable:t})),n),s=r0({numElements:o,gap:r2,spaceAvailable:t}),c=r1({width:s,maxHeight:i,widthToHeightRatio:l});e[a]={width:s,height:c,columns:o}}return e},[t]),r=n.useMemo(()=>Math.max(r$({elementMinSize:200,gap:r2,spaceAvailable:t}),1),[t]),l=n.useMemo(()=>r0({numElements:r,gap:r2,spaceAvailable:t}),[r,t]),i=n.useMemo(()=>r1({width:l,widthToHeightRatio:1.5,maxHeight:200}),[l]);return n.useMemo(()=>({componentLayouts:a,exampleLayout:{width:l,height:i,columns:r}}),[a,r,l,i])}({sidebarWidth:(0,rQ.GQ)()}),[a,r]=n.useMemo(()=>{let t={},a={};for(let[n,r]of Object.entries(e))t[n]={thumbHeight:r.height,thumbWidth:r.width,viewMode:aJ.Bk.Grid,thumbLayout:n,sourceForTracking:aJ.mZ,displayType:"grid"},a[n]=r.columns;return[t,a]},[e]),l=n.useMemo(()=>({thumbHeight:t.height,thumbWidth:t.width,viewMode:aJ.Bk.Grid,thumbLayout:np.rp.NORMAL,sourceForTracking:aJ.mZ,displayType:"grid"}),[t.height,t.width]),i=n.useMemo(()=>({thumbHeight:40,thumbWidth:40,viewMode:aJ.Bk.List,thumbLayout:np.rp.NORMAL,sourceForTracking:aJ.mZ,displayType:"list"}),[]);return n.useMemo(()=>({componentTilePropsByLayout:a,numColumnsByLayout:r,listProps:i,exampleTileProps:l,numExampleColumns:t.columns}),[a,r,i,l,t.columns])}function le(e,t,a,n=!1){return"list"===t?{props:e.listProps,numColumns:1}:n?{props:e.exampleTileProps,numColumns:e.numExampleColumns}:{props:e.componentTilePropsByLayout[a],numColumns:e.numColumnsByLayout[a]}}function lt({children:e,index:t,width:a}){let r=(0,E.md)(rh.h),l=n.useMemo(()=>e.flat().filter(e=>!!e),[e]),i=n.useMemo(()=>{let e=la(-Math.min(t,l.length-1)),a=`translateX(${e})`;return{transform:a,WebkitTransform:a}},[l.length,t]),o=m()("slide_carousel--container--1f4th",{"slide_carousel--noTransition--0heGr":r});return n.createElement("div",{style:i,"data-testid":"slide-carousel",className:o},l.map((e,r)=>n.createElement("div",{className:"slide_carousel--item--w20ND",style:{width:a},key:r,"data-testid":"slide-carousel-item","aria-hidden":r!==t},e)))}let la=e=>`${100*e}%`,ln=(0,_.jz)(rp.HE),lr=(0,_.jz)(rp._q),ll=(0,_.jz)(rp.ce),li=(0,_.jz)(rp.RQ);function lo({page:e,width:t}){let{libraryKey:a,currentView:r}=(0,ry.wV)(),{getPage:l}=(0,rC.G)(),[i]=(0,rv.ye)(),{previousPageId:o}=(0,ry.RR)(),s=n.useMemo(()=>r===ry.S5.Pages?l(a,o):e,[r,l,a,e,o]);return a&&s?i?n.createElement(lc,{page:s,width:t}):n.createElement(ls,{page:s,libraryKey:a}):n.createElement("div",{style:{width:t}})}function ls({page:e,libraryKey:t}){let{assetsScrollTop:a,handleScrollAssets:r}=rZ({libraryKey:t,pageId:e.id}),[l]=(0,rv.MA)(),i=r9(),{componentSectionNameForTracking:o,templateSectionNameForTracking:s}=(0,rh.zf)(),c=n.useMemo(()=>{let t=[];if(e.templates){let a=(0,rq.r)(e.templates),{props:r,numColumns:o}=le(i,l,np.rp.NORMAL,!0);t.push({element:n.createElement(rw.X3,{title:(0,I.t)("design_systems.assets_panel.templates")}),key:"templates:header",height:ll}),t.push(...rW(a,o,"templates",r,s,[ro.tM.TEMPLATES],{includesFirstTile:!0}))}if(e.examples){let a=(0,rq.r)(e.examples),{props:n,numColumns:r}=le(i,l,np.rp.NORMAL,!0);t.push(...rW(a,r,"examples",n,o,[ro.tM.EXAMPLES],{includesFirstTile:!0,isExample:!0}))}if(e.components){e.templates&&t.push({element:n.createElement(rw.X3,{title:(0,I.t)("design_systems.assets_panel.components")}),key:"components:header",height:ll});let a=(0,rq.r)(e.components),{props:r,numColumns:s}=le(i,l,(0,np.PI)(a,!0));t.push(...rW(a,s,"components",r,o,[ro.tM.COMPONENTS],{includesFirstTile:!e.templates&&!e.examples}))}return t},[e.templates,e.examples,e.components,i,l,s,o]);return n.createElement(rj,{elements:c,initialScrollTop:a,onScroll:r,anchorScroll:!0,role:l})}function lc({page:e,width:t}){let{libraryKey:a,pageId:r,folderPath:l}=(0,ry.wV)(),{getFolder:i}=(0,rC.G)(),{previousFolderPath:o,previousPageId:s}=(0,ry.RR)(),[c,d]=n.useMemo(()=>{let t=[],c=o??l??[],d=0;for(let o=-1;o<c.length;o++){let u=c.slice(0,o+1),m=i(a,r??s,u);if(m){if((0,ry.xc)(m))continue;t.push(n.createElement(ld,{parentSubtree:e.assets,currentFolderPath:u,key:`components-${u?u.join("/"):"root"}`})),o===(l??[]).length-1&&(d=t.length-1)}}return[t,d]},[l,i,a,e.assets,r,o,s]);return n.createElement(lt,{index:d,width:t},c)}function ld({parentSubtree:e,currentFolderPath:t}){let[a]=(0,rv.MA)(),r=n.useMemo(()=>{let a=e;for(let e of t){let t=a.subtrees.get(e);if(!t)return null;a=t}return a},[e,t]),{folderPath:l,pageId:i,libraryKey:o}=(0,ry.wV)(),s=!!o&&(0,ta.wJ)(o),c=t.length,d=l?.length??0,{assetsScrollTop:u,handleScrollAssets:m}=rZ({libraryKey:o,pageId:i,folderPath:t}),p=lu({subtree:r,currentFolderPath:t,isPreset:s});return n.createElement(rj,{elements:p,hideScrollbar:c<d,onScroll:m,initialScrollTop:u,role:a})}let lu=({subtree:e,currentFolderPath:t,isPreset:a})=>{let r=r9(),{componentSectionNameForTracking:l}=(0,rh.zf)(),{folderPath:i}=(0,ry.wV)(),[o]=(0,rv.MA)(),s=t.join("/"),c=t.length,d=i?.length??0,u=n.useMemo(()=>!!(a&&(0,h.kc)().dse_preset_libraries&&e?.items)&&e?.items.every(e=>tL.Nz(e,{isPreset:a})),[a,e?.items]),m=n.useCallback(e=>{let t=e.subtrees.values().next().value;return t&&(0,tL.dS)(t.name,{isPreset:a})},[a]),p=n.useCallback(({subtree:e,elements:t})=>{let a=e.items.length>0,i=m(e);if(a){let a=[ro.tM.COMPONENTS],{props:n,numColumns:i}=le(r,o,(0,np.PI)(e.items,!0),u);t.push(...rW(e.items,i,e.key,n,l,a,{hasHeader:!1,includesFirstTile:c===d,keyboardPanelDepth:c,isExample:u}))}let p=Array.from(e.subtrees.values());a&&p.length>0&&!i&&t.push({element:n.createElement(rw.cG,null),key:"divider",height:li}),p.forEach((a,r)=>{t.push({element:n.createElement(rb,{subtree:a,index:r+e.items.length,keyPrefix:s,depth:c}),key:a.key,height:"list"===o?ln:lr}),0===r&&i&&p.length>1&&t.push({element:n.createElement(rw.cG,null),key:"examples_divider",height:li})})},[m,r,o,u,l,c,d,s]);return n.useMemo(()=>{let t=[];return e&&p({subtree:e,elements:t}),t},[p,e])};var lm=a(268537),lp=a(278733),l_=a(738269),lf=a(13678),lg=a(611964),lh=a(18339);let lE="asset-panel-library-context-menu",ly=y.Pt("assetsLibrary","contextMenu"),lv=lm.ms,lb=lm.c$,lC=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==lE)return null;let{data:a}=e;if(!a)return null;let{libraryHref:l,position:i,isLocalLibrary:o,onGoToLibrary:s,onPublish:c,onUnsubscribe:d}=a;if(!i)return null;let u=n.createElement(lv,{style:lp.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(lp.sx.fixed).$},o?n.createElement(lb,{onClick:c,recordingKey:y.Pt(ly,"publishLibrary")},(0,I.tx)("design_systems.assets_panel.publish_library")):n.createElement(n.Fragment,null,n.createElement(lb,{onClick:d,recordingKey:y.Pt(ly,"unsubscribe")},(0,I.tx)("design_systems.assets_panel.remove_library_from_file")),n.createElement(lb,{href:l,target:"_blank",recordingKey:y.Pt(ly,"goToLibrary"),onClick:s},(0,I.tx)("design_systems.assets_panel.go_to_library"))));return t?r.createPortal(u,document.body):u}),lw="asset-panel-page-context-menu",lk=y.Pt("assetsLibrary","contextMenu"),lx=lm.ms,lT=lm.c$,lN=n.memo(({dropdownShown:e,usePortal:t})=>{if(!e||e.type!==lw)return null;let{data:a}=e;if(!a)return null;let{libraryPageHref:l,position:i,isLocalLibrary:o,onClickLocalPage:s,onClickSubscribedPage:c}=a;if(!i)return null;let d=n.createElement(lx,{style:lp.sx.add({top:`${i.top}px`,right:`${i.right}px`,bottom:`${i.bottom}px`,left:`${i.left}px`}).add(lp.sx.fixed).$},o?n.createElement(lT,{recordingKey:y.Pt(lk,"goToLibrary"),onClick:s},(0,I.tx)("design_systems.assets_panel.go_to_page")):n.createElement(lT,{href:l,target:"_blank",recordingKey:y.Pt(lk,"goToLibrary"),onClick:c},(0,I.tx)("design_systems.assets_panel.go_to_page")));return t?r.createPortal(d,document.body):d});function lS(){let e=(0,l.d4)(e=>e.dropdownShown),t=(0,l.d4)(eX.hK),a=(0,l.d4)(eC.e_),r=e?.type===nu.K.ASSETS_PANEL&&!!e?.data?.component,i=e?.type===lw&&!!e?.data?.pageId,o=e?.type===lE&&!!e?.data?.libraryHref,s=(0,nZ.K)(!0),c=n.useContext(tf.U);return n.createElement(n.Fragment,null,r&&n.createElement(nu.h,{selectedView:t,dropdownShown:e,defaultFileKeys:a.defaultPublished.fileKeys,onJumpToLocalComponent:s,onOpenFlyout:c?.onOpenFlyout,usePortal:!0}),i&&n.createElement(lN,{dropdownShown:e,usePortal:!0}),o&&n.createElement(lC,{dropdownShown:e,usePortal:!0}))}var lI=a(864089);let lA="asset_panel_library--library--5bw5-",lL=(0,_.jz)(rp.Sx),lO=(0,_.jz)(rp.T5);function lM({library:e,previewHeight:t,cardWidth:a,keyboardSection:r,rowIndex:i,columnIndex:o=0}){let{focusFirstItem:s,focusSearchBar:c}=(0,rE.rl)(),{navigateToLibrary:d}=(0,ry.wV)(),u=(0,J.q5)(),[m]=(0,rv.MA)(),_="list"===m,f=(0,rh.sN)(),g=n.useCallback(()=>{f("libraryCard",d(e.fileKey))},[e.fileKey,f,d]),{currentView:E}=(0,ry.wV)(),b=E!==ry.S5.Libraries,{setKeyboardNavigationElement:C}=(0,eO.M3)({path:[ro.ON.CONTENTS,ro.lM.LIBRARIES,r,i],column:o,id:e.fileKey,disabled:b}),w=(0,rE.MB)({onBoth:g,onKeyDown:s,onClick:c}),k=n.useMemo(()=>{let t=e.fileKey===u?.key?"localLibrary":e.fileKey;return y.Pt("assetsLibrary",t)},[u?.key,e.fileKey]),x=function(e){let t=(0,J.q5)(),a=(0,l.wA)(),r=e.fileKey===t?.key,i=(0,ta.wJ)(e.fileKey),o=(0,aJ._9)(e.fileKey,i,"assets_panel_library_context_menu"),s=n.useCallback(()=>o(!1),[o]),c=function(){let e=(0,l.wA)(),t=(0,J.q5)(),a=(0,l.d4)(e=>e.teams),r=(0,l.d4)(eC.fA),i=n.useCallback(()=>{e(D.to({type:lf.dD,data:{entrypoint:lg.RR.ASSET_PANEL_LIBRARY_CONTEXT_MENU}}))},[e]),o=t?.teamId&&a[t.teamId],s=n.useCallback(()=>{e(D.to({type:lh.$3,data:{afterFileMove:i,team:o||null}}))},[e,i,o]);return n.useCallback(()=>{r?i():s()},[r,i,s])}(),d=n.useMemo(()=>(0,ta.wJ)(e.fileKey)?(0,tQ.X$)(e.fileKey):(0,tQ.jN)({file:{key:e.fileKey,editor_type:tN._Y.DESIGN}}),[e.fileKey]),u=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.go_to_library",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0,entryPoint:"library_context_menu"})},[e.fileKey,t]),m=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.open_library_context_menu",{libraryKey:e.fileKey,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0})},[e.fileKey,t]);return n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),a((0,l_.j7)({type:lE,data:{libraryHref:d,isLocalLibrary:r,onGoToLibrary:u,onPublish:c,onUnsubscribe:s,position:{top:e.clientY,left:e.clientX}}})),m()},[d,c,s,r,a,u,m])}(e),T=y.rf((0,h.kc)().dse_fpl_wave_1?k:`${k}_UNUSED`,"contextmenu",x),N=n.createElement(lP,{library:e,previewHeight:t,isList:_});return(0,h.kc)().dse_fpl_wave_1?n.createElement(rs.E,{className:lA,"aria-label":e.name,onClick:w,ref:C,style:{width:_?"100%":a},recordingKey:k,htmlAttributes:{onContextMenu:T,tabIndex:b?-1:0}},N):n.createElement(v.GG,{className:lA,"aria-label":e.name,onClick:w,onContextMenu:x,forwardedRef:C,tabIndex:b?-1:0,style:{width:_?"100%":a},recordingKey:k},N)}function lP({library:e,previewHeight:t,isList:a}){let{thumbnailUrl:r}=e,[l,i]=n.useState(r),o=n.useMemo(()=>{if(l)return`url(${l})`},[l]),s=n.useCallback(()=>{i(r)},[r]),c=n.useMemo(()=>a?{height:lL,width:lO}:{height:t},[a,t]);return n.createElement("div",{className:a?"asset_panel_library--libraryCardList--qG5I1 asset_panel_library--libraryCard--l0q0e":"asset_panel_library--libraryCard--l0q0e"},n.createElement("div",{className:"asset_panel_library--libraryPreviewSection--fRTrr"},n.createElement("div",{style:{backgroundImage:o,...c},className:e.thumbnailShouldCover?"asset_panel_library--libraryPreviewCover---Jx5R asset_panel_library--libraryPreview--jl-5n":"asset_panel_library--libraryPreview--jl-5n"}),r&&n.createElement(lI.oW,{src:r,onLoad:s,className:"asset_panel_library--hiddenImage--a-LoJ",alt:""})),n.createElement(lR,{library:e,isList:a}))}function lR({library:e,isList:t}){let a=(0,h.kc)().dse_editor_templates_v1,r=n.useMemo(()=>{let t=[];return e.numComponents>0&&t.push((0,I.t)("design_systems.assets_panel.num_components",{numComponents:e.numComponents})),a&&e.numTemplates>0&&t.push((0,I.t)("design_systems.assets_panel.num_templates",{numTemplates:e.numTemplates})),t.join(", ")},[e.numComponents,e.numTemplates,a]);return n.createElement("div",{className:t?"asset_panel_library--libraryFooterList--x3M2r asset_panel_library--libraryFooter--jXcDc":"asset_panel_library--libraryFooter--jXcDc"},n.createElement("div",{className:"asset_panel_library--libraryNameAndStats--uiY8T"},n.createElement("div",{className:"asset_panel_library--nameAndIconForList--UCm5F"},n.createElement("h3",{className:"asset_panel_library--libraryName--aege1 ellipsis--ellipsis--Tjyfa"},e.name),n.createElement(lD,{libraryKey:e.fileKey})),n.createElement("div",{className:"asset_panel_library--libraryStats--JL9eF ellipsis--ellipsis--Tjyfa"},r)))}function lD({libraryKey:e}){let t=(0,tn.cm)(e),a=(0,ta.wJ)(e);return t||a?n.createElement("div",{className:a?"asset_panel_library--presetIcon--PE3Tx asset_panel_library--libraryIcon--6s19b":"asset_panel_library--approvedIcon---0q6C asset_panel_library--libraryIcon--6s19b"},a?n.createElement(to.S,{hubFileId:e,showTooltip:!0}):n.createElement(tr.KP,{fileKey:e,tooltipDelay:500,tooltipLocation:"below",size:"small"})):null}let lF=(0,_.jz)(rp.RU)+1,lB=(0,_.jz)(rp.nT),lU=16/9;var lG=a(287213);function lH(){let e=(0,J.tS)(),{getLibrary:t}=(0,rC.G)(),[a,r]=(0,lG.g)(),l=n.useMemo(()=>t(e??""),[t,e]),i=!l||0===l.numComponents&&0===l.numTemplates,o=0===a.length,s=0===r.length;return n.useMemo(()=>i&&o&&s,[i,o,s])}let lV="asset_panel_libraries--row--nHi0j",lK=(0,_.jz)(rp.YJ),lz=(0,_.jz)(rp.RQ),lW=(0,_.jz)(rp.ce),lj=(0,_.jz)(rp.Kv),lq=(0,_.jz)(rp.Nm);function lY({width:e,hideScrollbar:t,assetPanelItems:a}){let r=a.localAssets,[l,i]=(0,lG.g)();return lH()?n.createElement("div",{style:{width:e}},n.createElement(e1.od,null)):n.createElement(lX,{localAssets:r,subscribedLibraries:l,presetLibraries:i,hideScrollbar:t,width:e})}function lX({localAssets:e,subscribedLibraries:t,presetLibraries:a,width:r,hideScrollbar:l}){let{librariesScrollTop:i,handleScrollLibraries:o}=rZ(),{currentView:s}=(0,ry.wV)(),[c]=(0,rv.MA)(),{cardWidth:d,previewHeight:u,numColumns:m}=function({sidebarWidth:e,minCardWidth:t=180,previewPadding:a=lF,widthToHeightRatio:r=lU,rowPadding:l=lB}){let i=e-2*l,o=n.useMemo(()=>r$({elementMinSize:t,spaceAvailable:i,gap:0}),[t,i]),s=n.useMemo(()=>r0({numElements:o,spaceAvailable:i,gap:0}),[o,i]),c=n.useMemo(()=>s-2*a,[s,a]),d=n.useMemo(()=>r1({width:c,widthToHeightRatio:r}),[c,r]);return n.useMemo(()=>({cardWidth:s,previewWidth:c,previewHeight:d,numColumns:o}),[s,c,d,o])}({sidebarWidth:r}),p="grid"===c?m:1,_="grid"===c?lK+u+2:lj,f=t.length>0&&!(0,h.kc)().dse_hide_local_and_subscribed_libraries,g=e.numComponents+e.numTemplates>0&&!(0,h.kc)().dse_hide_local_and_subscribed_libraries,E=a.length>0&&(f||g),y=n.useMemo(()=>{let r=[],l=[];g&&l.push(e),f&&l.push(...t);for(let e=0;e<l.length;e+=p){let t=l.slice(e,e+p);r.push({element:n.createElement("div",{className:lV},t.map((t,a)=>n.createElement(lM,{key:t.fileKey,library:t,keyboardSection:ro.gP.LOCAL_AND_SUBSCRIBED,rowIndex:e,columnIndex:a,cardWidth:d,previewHeight:u}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:_})}E&&(r.push({element:n.createElement(rw.cG,null),key:"divider",height:lz}),r.push({element:n.createElement(rw.X3,{title:(0,h.kc)().dse_preset_libraries?(0,I.t)("design_systems.assets_panel.ui_kits"):(0,I.t)("design_systems.assets_panel.curated_libraries")}),key:"preset_libraries_header",height:lW}));for(let e=0;e<a.length;e+=p){let t=a.slice(e,e+p);r.push({element:n.createElement("div",{className:lV},t.map((t,a)=>n.createElement(lM,{key:t.fileKey,library:t,keyboardSection:ro.gP.PRESETS,rowIndex:e,columnIndex:a,cardWidth:d,previewHeight:u}))),key:t.map(e=>e.fileKey).join("-"),keys:t.map(e=>e.fileKey),height:_})}return r.push({element:n.createElement(lJ,null),key:"add_more_libraries_button",height:lq}),r},[p,d,u,g,t,E,a,_,e,f]);return n.createElement(rj,{elements:y,hideScrollbar:l,initialScrollTop:i,onScroll:o,anchorScroll:s===ry.S5.Libraries})}function lJ(){let{onToggleLibraryModal:e}=(0,eb.u)({entrypoint:e2.r6.ASSETS_PANEL_ADD_MORE_LIBRARIES,modalType:"editor"});return n.createElement("div",{className:"asset_panel_libraries--addMoreLibraries--Jy-l7"},n.createElement(t8.$n,{variant:"secondary",onClick:e,recordingKey:"assetsLibrary.addMoreLibraries"},(0,I.tx)("design_systems.assets_panel.add_more_libraries")))}function lZ({page:e,index:t}){let a=(0,rh.sN)(),[r]=(0,rv.MA)(),{previewAsset:i}=e,{navigateToPage:o,libraryKey:s,currentView:c}=(0,ry.wV)(),u=n.useCallback(()=>{a("pageRow",o(e.id))},[a,o,e.id]),m=e.id,_=c!==ry.S5.Pages,{keyboardNavigationItem:f,setKeyboardNavigationElement:g}=(0,eO.M3)({path:[ro.ON.CONTENTS,ro.lM.PAGES,t],id:e.id,disabled:_}),{focusFirstItem:h,focusSearchBar:E}=(0,rE.rl)();(0,rE.C0)(f,c===ry.S5.Pages&&0===t);let y=(0,rE.MB)({onBoth:u,onKeyDown:h,onClick:E}),v=function(e,t){let a=(0,J.q5)(),r=(0,l.wA)(),i=e===a?.key,o=!!e&&!!t,s=n.useMemo(()=>(0,tQ.jN)({file:{key:e??"",editor_type:tN._Y.DESIGN},nodeId:t}),[e,t]),c=n.useCallback(()=>d.q.instance.setCurrentPageAsync(t??""),[t]),u=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.go_to_page",{libraryKey:e,pageId:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0,isLocal:i})},[i,e,a?.key,a?.parentOrgId,a?.teamId,t]),m=n.useCallback(()=>{c(),u()},[c,u]),_=n.useCallback(()=>{p.az.trackDefinedEvent("assets_panel.open_page_context_menu",{libraryKey:e,pageId:t,fileKey:a?.key,fileTeamId:a?.teamId??void 0,fileOrgId:a?.parentOrgId??void 0})},[e,a?.key,a?.parentOrgId,a?.teamId,t]);return n.useCallback(a=>{!o||(0,ta.wJ)(e)||(a.preventDefault(),a.stopPropagation(),r((0,l_.j7)({type:lw,data:{libraryPageHref:s,pageId:t,isLocalLibrary:i,onClickLocalPage:m,onClickSubscribedPage:u,position:{top:a.clientY,left:a.clientX}}})),_())},[e,o,r,s,t,i,m,u,_])}(s,e.id),b="list"===r;return n.createElement(rg,{keyPrefix:m,name:e.name,onClick:y,onContextMenu:v,previewAsset:i,recordingKey:`assetsPage.${e.id}`,ref:g,disabled:_,isList:b,variant:b?"icon":"preview"})}var lQ=a(395900);let l$="performance.ds_eco.asset_panel_pages_view_loading",l0=new lQ.jk(l$,{});function l1({didFinishLoading:e}){let t=l0.stop();(0,p.sx)(l$,{elapsedMs:t,isNewAssetPanelFetch:!!(0,h.kc)().dse_new_asset_panel_fetch,didFinishLoading:e},{forwardToDatadog:!0})}let l2=(0,_.jz)(rp.RQ),l5=(0,_.jz)(rp._q),l3=(0,_.jz)(rp.HE);function l4({library:e,width:t,hideScrollbar:a,isLoading:r}){!function({isLoading:e}){let{currentView:t}=(0,ry.wV)(),a=(0,eD.ZC)(t);n.useEffect(()=>(a===ry.S5.Libraries&&t===ry.S5.Pages&&l0.start(),t===ry.S5.Pages&&!e&&l0.isRunning&&l1({didFinishLoading:!0}),()=>{a===ry.S5.Pages&&t!==ry.S5.Pages&&l0.isRunning&&l1({didFinishLoading:!1})}),[e,t,a])}({isLoading:r});let[l]=(0,rv.MA)(),{pagesScrollTop:i,handleScrollPages:o}=rZ({libraryKey:e?.fileKey}),s=n.useMemo(()=>e?Array.from(e.pages):[],[e]),c=(0,tJ.E_)(e?.fileKey??""),d=n.useMemo(()=>{let e=[];return s.forEach(([t,a],r)=>{e.push({element:n.createElement(lZ,{page:a,index:r}),height:"list"===l?l3:l5,key:t}),0===r&&(0,tL.dS)(a.name,{isPreset:c})&&e.push({element:n.createElement(rw.cG,null),key:"examples_divider",height:l2})}),e},[l,s,c]);return r?n.createElement("div",{className:"asset_panel_pages--loadingContainer--fyofJ",style:{width:t},"data-testid":"asset-panel-pages-spinner"},n.createElement(eM.kt,null)):0===s.length?n.createElement("div",{style:{width:t}}):n.createElement(rj,{elements:d,hideScrollbar:a,initialScrollTop:i,onScroll:o})}let l6="asset_panel_recents--resultsWrapper--k79Vy",l7="asset_panel_recents--resultsWrapperList--peuzW",l8=(0,ty.fv)();function l9(){let{productComponents:e,templates:t}=(0,aZ.g5)(tB.$A.Design),{getLibrary:a}=(0,rC.G)(),r=(0,h.kc)().dse_editor_templates_v1,[l]=(0,rv.MA)(),i="list"===l,o=n.useCallback(e=>{let t=a(e);return t?.name||""},[a]),s=r9(),{props:c,numColumns:d}=n.useMemo(()=>le(s,l,np.rp.NORMAL),[s,l]),{props:u}=n.useMemo(()=>le(s,l,np.rp.NORMAL,!0),[s,l]),{componentSectionNameForTracking:m,templateSectionNameForTracking:p}=(0,rh.zf)(),_=e.length>0,f=t.length>0;return n.createElement(rw.xU,null,r&&f&&n.createElement(n.Fragment,null,n.createElement(rw.X3,{title:(0,I.t)("design_systems.assets_panel.templates")}),n.createElement("div",{className:i?l7:l6},t.map((e,t)=>n.createElement(rO,{key:`assetPanelRecents:template:${(0,tk.V)(e)}`,asset:e,fileName:o(l8(e)),sectionNameForTracking:p,sectionPosition:t,keyboardPosition:(0,rE.pg)([ro.tM.TEMPLATES],t,1),...u})))),r&&f&&_&&n.createElement("div",{className:"asset_panel_recents--buffer--URYGQ"}),_&&n.createElement(n.Fragment,null,r&&f&&n.createElement(rw.X3,{title:(0,I.t)("design_systems.assets_panel.components")}),n.createElement("div",{className:i?l7:l6},e.map((e,t)=>n.createElement(rO,{key:`assetPanelRecents:component:${(0,tk.V)(e)}`,asset:e,fileName:o(l8(e)),sectionNameForTracking:m,sectionPosition:t,keyboardPosition:(0,rE.pg)([ro.tM.COMPONENTS],t,d),...c})))),n.createElement("div",{className:"asset_panel_recents--bottomPadding--9BTkl"}))}var ie=a(860601),it=a(453681),ia=a(27703),ir=a(396462),il=a(858855),ii=a(527735);let io=function({isLoading:e,children:t}){return e?n.createElement("div",{className:"maybe_loading--loadingContainer--Wfq03"},n.createElement(eM.kt,null)):n.createElement(n.Fragment,null,t)},is="asset_panel_search_results--empty--72Hqc",ic=(0,_.jz)(rp.ce),id=(0,_.jz)(rp.GH),iu=(0,ty.fv)(),im=({moreResults:e,query:t,assetType:a,showMoreDefault:r})=>{let[l,i]=n.useState(!1),o=r||l,s=n.useCallback(()=>i(!0),[]);n.useEffect(()=>{i(!1)},[t]);let c=(0,ia.ud)(),d=(0,E.md)(it.qp),u=n.useCallback(e=>((0,h.kc)().ds_use_lib_keys?d[e.library_key]?.name:c[iu(e)]?.name)??"",[c,d]),[m]=(0,rv.MA)(),p=r9(),_="templates"===a,{props:f,numColumns:g}=n.useMemo(()=>le(p,m,np.rp.NORMAL,_),[p,m,_]),{componentSectionNameForTracking:y,templateSectionNameForTracking:v}=(0,rh.zf)({moreSearchResults:!0}),b=n.useMemo(()=>rW(e,g,`${a}:moreResults`,f,_?v:y,[_?ro.tM.TEMPLATES:ro.tM.COMPONENTS,1],{getFileName:u}),[e,g,a,f,_,v,y,u]);return n.useMemo(()=>{if(0===e.length)return[];let t=[];return t.push({element:n.createElement("div",{className:"asset_panel_search_results--showMoreText--mEcU5 asset_panel_search_results--showMore--yo9-j"},o&&(0,I.tx)("design_systems.assets_panel.showing_results_from_all_libraries"),!o&&n.createElement("button",{className:"asset_panel_search_results--showMoreLink--3-Ww3 asset_panel_search_results--showMore--yo9-j blue_link--blueLink--9rlnd",onClick:s},(0,I.tx)("design_systems.assets_panel.more_results_in_all_libraries",{results:e.length}))),key:`${a}:showMoreText`,height:id}),o&&t.push(...b),t},[a,e.length,o,s,b])},ip=(0,ty.fv)();function i_({components:e,moreComponents:t,templates:a,moreTemplates:r,query:l,getLibraryNameFromKey:i}){let o=(0,h.kc)().dse_editor_templates_v1,s=e.length+t.length>0,c=a.length+r.length>0,d=n.useCallback(e=>i(ip(e)),[i]),[u]=(0,rv.MA)(),m=r9(),{props:p,numColumns:_}=n.useMemo(()=>le(m,u,np.rp.NORMAL),[m,u]),{componentSectionNameForTracking:f,templateSectionNameForTracking:g}=(0,rh.zf)(),E=n.useMemo(()=>rW(e,_,"components",p,f,[ro.tM.COMPONENTS,0],{getFileName:d}),[e,_,p,f,d]),{props:y,numColumns:v}=n.useMemo(()=>le(m,u,np.rp.NORMAL),[m,u]),b=n.useMemo(()=>rW(a,v,"templates",y,g,[ro.tM.TEMPLATES,0],{getFileName:d}),[a,v,y,g,d]),C=im({moreResults:t,query:l,assetType:"components",showMoreDefault:0===e.length&&t.length>0}),w=im({moreResults:r,query:l,assetType:"templates"}),k=n.useMemo(()=>{let e=[];return o&&c&&(e.push({element:n.createElement(rw.X3,{title:(0,I.t)("design_systems.assets_panel.templates")}),key:"templatesHeader",height:ic}),e.push(...b),e.push(...w)),s&&(c&&e.push({element:n.createElement(rw.X3,{title:(0,I.t)("design_systems.assets_panel.components")}),key:"componentsHeader",height:ic}),e.push(...E),e.push(...C)),e},[o,c,s,b,w,E,C]);return n.createElement(rj,{elements:k,anchorScroll:!0})}let ig=(0,ty.fv)();function ih(){let{query:e,normalizedSearchResults:t,unsubscribedSearchResults:a,isLoading:r}=(0,l.d4)(e4.UQ),i=(0,il.U)(),{libraryKey:o}=(0,ry.wV)(),{getLibrary:s}=(0,rC.G)(),{isLoading:c,libraryNameByResourceId:d}=function(e){let{hubFileIds:t,fileKeys:a}=n.useMemo(()=>{let t=Array.from(e),{pass:a,fail:n}=(0,ii.j)(t,ta.wJ);return{hubFileIds:a,fileKeys:n}},[e]),r=n.useMemo(()=>a.map(e=>({fileKey:e})),[a]),l=n.useMemo(()=>t.map(e=>({hubFileId:e})),[t]),i=(0,tW.p)(eU.NSA,r,{enabled:r.length>0}),o=(0,tW.p)(eU.a9b,l,{enabled:l.length>0});return{isLoading:n.useMemo(()=>i.some(e=>"loading"===e.result.status)||o.some(e=>"loading"===e.result.status),[i,o]),libraryNameByResourceId:n.useMemo(()=>{let e={};for(let t of i)"loaded"===t.result.status&&t.result.data.file&&(e[t.args.fileKey]=t.result.data.file.name);for(let t of o)"loaded"===t.result.status&&t.result.data.hubFile?.currentHubFileVersion&&(e[t.args.hubFileId]=t.result.data.hubFile.currentHubFileVersion.name);return e},[i,o])}}(n.useMemo(()=>new Set(t.map(e=>ig(e))),[t])),u=iE(e),m=n.useCallback(e=>d[e]??s(e)?.name??"",[d,s]),p=n.useMemo(()=>o?s(o)?.name:void 0,[s,o]),[_,f]=n.useMemo(()=>(0,e4._2)(t.filter(e=>m(ig(e)))),[t,m]),[g,h]=n.useMemo(()=>(0,e4._2)(a),[a]),E=f.length+h.length>0,y=_.length+g.length>0;return e?n.createElement(io,{isLoading:c&&u||r||i},E||y?n.createElement(i_,{components:f,moreComponents:h,templates:_,moreTemplates:g,query:e,getLibraryNameFromKey:m}):n.createElement("div",{className:is},p?(0,I.tx)("design_systems.assets_panel.no_results_for_query_in_library",{searchQuery:e,libraryName:p}):(0,I.tx)("design_systems.assets_panel.no_results_for_query",{searchQuery:e}))):n.createElement("div",{className:is},"Search keywords and filter results by specific libraries, templates, and components.")}let iE=e=>{let t=(0,eD.ZC)(e),{isActive:a,start:r}=(0,ir.Z)(ie.lQ);return n.useEffect(()=>{e!==t&&r(1e4)},[e,t,r]),a},iy=(e,t)=>e===ry.S5.Libraries?0:e===ry.S5.Pages||t?1:2;function iv({assetPanelItems:e,width:t}){let{libraryKey:a,pageId:r,currentView:i}=(0,ry.wV)(),{previousLibraryKey:o}=(0,ry.RR)(),s=ib(),{getPage:c,getLibrary:d}=(0,rC.G)(),u=(0,il.q)()(a);n0(n.useCallback(()=>{let t=0,a=0,n=0;for(let[r,l]of e.allLibrariesUnsorted){if(r===e.localAssets.fileKey){l.numComponents>=0&&(t+=1);continue}t+=1,a+=l.numComponents,n+=Math.min(l.numComponents,20)}return{numLibraries:t,numComponents:a,numComponentsWithLimit:n}},[e])),iC(),eV();let m=n.useMemo(()=>d(a??o),[d,a,o]),_=n.useMemo(()=>c(a,r),[c,a,r]),f=iy(i,s),[g,h]=(0,lG.g)();return!function(e,t,a){let r=(0,l.d4)(e=>e.openFile),[i,o]=(0,E.fp)(rr.GT),s=t.length+a.length;e.numComponents+e.numTemplates>0&&(s+=1),n.useEffect(()=>{if(!i){o(!0);let e=rr._o.stop();e&&(0,p.sx)(rr.YS,{elapsedMs:e,fileKey:r?.key,teamId:r?.teamId,orgId:r?.parentOrgId,isUi3RedesignedAssetPanel:!0,numLibraries:s,numComponents:0,numComponentsShown:0,numSectionsShown:s},{forwardToDatadog:!0})}},[i,o,s,r])}(e.localAssets,g,h),n.createElement(n.Fragment,null,n.createElement(lS,null),i===ry.S5.Search?n.createElement(ih,null):i===ry.S5.Recents?n.createElement(l9,null):n.createElement(lt,{index:f,width:t},n.createElement(lY,{width:t,hideScrollbar:0!==f,assetPanelItems:e}),!s&&n.createElement(l4,{library:m,width:t,isLoading:u,hideScrollbar:1!==f}),n.createElement(lo,{page:_,width:t})))}let ib=()=>{let{getLibrary:e}=(0,rC.G)(),{libraryKey:t}=(0,ry.wV)(),a=(0,il.q)()(t),n=e(t);return!!n&&!a&&!!(0,ry.Cg)(n)},iC=()=>{let{libraryKey:e}=(0,ry.wV)(),t=(0,ri.R)(),a=(0,rl.$)(e);n.useEffect(()=>{e&&(0,ta.wJ)(e)&&a&&t({updateSource:"ui3_library_expand"})},[a,e,t])};var iw=a(755020),ik=a(900956),ix=a.n(ik),iT=a(259927);let iN="asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P",iS="asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862";function iI({stubs:e}){let{collapsibleStubs:t,lastStub:a,numHiddenStubs:r,breadcrumbRef:l,ellipsisRef:i,stubRefs:o}=iA(e),s=n.useCallback(()=>i.current?{top:i.current.getBoundingClientRect().bottom,left:i.current.getBoundingClientRect().left}:{top:0,left:0},[i]),c=r===t.length;return n.createElement("div",{className:S.cx.flex.itemsCenter.overflowHidden.flexShrink1.flexGrow1.$,style:lp.sx.add({flexBasis:"content"}).$,ref:l,role:"navigation"},n.createElement(iM,{shouldEllipsize:c}),r>0&&n.createElement(iO,{allStubs:t,numHiddenStubs:r,getDropdownTarget:s,ref:i}),t.map((e,t)=>t<r?null:n.createElement(iP,{key:t,i:t,name:e,ref:e=>o.current[t]=e})),e.length>0?n.createElement(iR,{name:a,firstSlash:0===t.length,shouldEllipsize:c}):null)}let iA=e=>{let[t,a]=n.useMemo(()=>0===e.length?[[],void 0]:[e.slice(0,-1),e[e.length-1]],[e]),[r,l]=n.useState([]),i=n.useRef([]);n.useEffect(function(){i.current.length>t.length&&(i.current=i.current.slice(0,t.length)),r.length>t.length&&l(e=>e.slice(0,t.length))},[t,r.length,e.length]);let o=n.useRef(null),s=n.useRef(null),{width:c}=rR();return n.useLayoutEffect(function(){let e=o.current;if(!e)return;let t=e.children,a=e.offsetWidth-ix()(Array.from(t).map(e=>e.scrollWidth));if(a<0){let e=i.current[r.length];e&&l(t=>[...t,e.scrollWidth])}else if(r.length>0){let e=r.length-1;a>r[e]-(s.current&&1===r.length?s.current.scrollWidth:0)&&l(e=>e.slice(0,-1))}},[r,i,e,c]),{collapsibleStubs:t,lastStub:a,numHiddenStubs:r.length,breadcrumbRef:o,ellipsisRef:s,stubRefs:i}},iL="asset-panel-ellipsis-menu",iO=n.forwardRef(({numHiddenStubs:e,allStubs:t,getDropdownTarget:a},i)=>{let o=(0,rh.sN)(),s=(0,q.Um)(),c=s?.type===iL,d=(0,l.wA)(),u=n.useCallback(()=>d((0,l_.oB)()),[d]),p=n.useCallback(()=>d((0,l_.j7)({type:iL,data:{position:a()}})),[d,a]),{isCurrentlySkippingPage:_,isCurrentlySkippingFirstFolder:f,navigateBackToPathIndex:g}=(0,ry.wV)(),h=n.useMemo(()=>t.slice(0,e),[t,e]),E=n.useMemo(()=>h.join(" / "),[h]),y=n.useMemo(()=>{if(c)return s.data?.position},[s?.data?.position,c]),v=n.useCallback(e=>{o("breadcrumb",g(iF(e,_,f)))},[f,_,o,g]),{focusBackButton:b,focusSearchBar:C}=(0,rE.rl)(),w=(0,rE.NR)({onBoth:e=>()=>{v(e)},onKeyDown:()=>()=>{setTimeout(()=>b(),0)},onClick:()=>C}),{setKeyboardNavigationElement:k}=(0,eO.M3)({path:[ro.ON.BREADCRUMB],column:ro.Yv.ELLIPSIS}),x=m()(iN,{"asset_panel_collapsible_breadcrumb--dropdownOpen--YMRPh":c});return n.createElement("div",null,n.createElement("div",{ref:i,className:S.cx.flex.itemsCenter.$},n.createElement(iD,null),n.createElement("button",{ref:k,className:x,onClick:p,"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":E,"aria-label":E,"aria-haspopup":"listbox","aria-expanded":c},"\u2026")),c&&r.createPortal(n.createElement(lm.X3,{className:iT.Dm,positionAbsolute:!0,style:y,id:"asset-panel-ellipsis-menu",hideDropdown:u,autofocusPrevElementOnEsc:!0},h.map((e,t)=>n.createElement(lm.c$,{key:e,onClick:w(t)},e))),document.body))});function iM({shouldEllipsize:e}){let t=(0,J.tS)(),[,,a]=(0,lG.g)(),{currentView:r,libraryKey:l,navigateToLibrary:i,isCurrentlySkippingPage:o,isCurrentlySkippingFirstFolder:s,folderPath:c}=(0,ry.wV)(),{setLastNavAction:d}=(0,rX.ZX)(),{focusBackButton:u,focusSearchBar:p}=(0,rE.rl)(),_=n.useMemo(()=>l?l===t?(0,I.t)("design_systems.assets_panel.local_assets"):a.get(l)?.name:void 0,[a,l,t]),f=(0,rh.sN)(),g=r===ry.S5.Libraries,E=r===ry.S5.Pages,y=r===ry.S5.Recents,v=n.useMemo(()=>!!E||!!o&&(!c||!!s&&1===c.length),[c,s,o,E]),b=n.useCallback(e=>{let t=i(e);d(rX.r6.Back),f("breadcrumb",t)},[f,i,d]),C=(0,rE.MB)({onBoth:()=>b(l??""),onKeyDown:u,onClick:p}),{setKeyboardNavigationElement:w}=(0,eO.M3)({path:[ro.ON.BREADCRUMB],column:ro.Yv.LIBRARY}),k=m()(E?iS:"asset_panel_collapsible_breadcrumb--libraryStub--PU1iu asset_panel_collapsible_breadcrumb--buttonStub--4S8VP asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",{"asset_panel_collapsible_breadcrumb--ellipsized--vFJ6x ellipsis--ellipsis--Tjyfa":e});return g?n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--allLibraries--6vL0- asset_panel_collapsible_breadcrumb--libraryStubStatic--VAyz1 asset_panel_collapsible_breadcrumb--_buttonStubBase--aj18P asset_panel_collapsible_breadcrumb--_libraryStubBase--y4862",style:{marginLeft:3}},(0,h.kc)().dse_hide_local_and_subscribed_libraries?(0,I.tx)("design_systems.assets_panel.ui_kits"):(0,I.tx)("design_systems.assets_panel.dropdown_type_all_libraries")):y?n.createElement("div",{className:iS,style:{marginLeft:3}},(0,I.tx)("design_systems.assets_panel.dropdown_type_recents")):n.createElement("div",{className:S.cx.flex.overflowHidden.$},n.createElement("button",{onClick:C,className:k,disabled:v,ref:w,type:"button"},_))}let iP=n.forwardRef(({name:e,i:t},a)=>{let{isCurrentlySkippingPage:r,isCurrentlySkippingFirstFolder:l,navigateBackToPathIndex:i}=(0,ry.wV)(),o=(0,rh.sN)(),s=n.useCallback(e=>{o("breadcrumb",i(e))},[o,i]),c=n.useMemo(()=>iF(t,r,l),[t,l,r]),{setKeyboardNavigationElement:d}=(0,eO.M3)({path:[ro.ON.BREADCRUMB],column:ro.Yv.STUBS+t}),{focusBackButton:u,focusSearchBar:m}=(0,rE.rl)(),p=(0,rE.MB)({onBoth:()=>s(c),onKeyDown:u,onClick:m});return e?n.createElement("div",{ref:a,className:S.cx.flex.itemsCenter.$},n.createElement(iD,null),n.createElement("button",{ref:d,onClick:p,className:iN},e)):null});function iR({name:e,shouldEllipsize:t}){let a=n.useRef(null),{pageId:r,folderPath:l}=(0,ry.wV)(),{width:i}=rR(),[o,s]=n.useState(!1);return(n.useEffect(()=>{s(!!(0,at._C)({text:e??"",textRef:a}))},[e,i]),n.useEffect(()=>{setTimeout(()=>s(!!(0,at._C)({text:"",textRef:a})),0)},[r,l]),e)?n.createElement("div",{className:S.cx.noWrap.flex.itemsCenter.if(t,S.cx.overflowHidden).$},n.createElement(iD,null),n.createElement("div",{"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":o?e:void 0,ref:a,className:S.cx.mx4.px2.if(t,S.cx.overflowHidden.noWrap.ellipsis).$,"aria-current":"location"},e)):null}function iD(){return n.createElement("div",{className:"asset_panel_collapsible_breadcrumb--breadcrumbSlash--XWfHn","aria-hidden":!0}," / ")}let iF=(e,t,a)=>{let n=e;return t&&n++,a&&n++,n-1};var iB=a(782683),iU=a(882316);let iG="asset_panel_search--libraryChipRemove--kJiJn";function iH({libraryName:e}){let t=(0,l.wA)(),{currentView:a,startSearch:r,onBack:i,libraryKey:o}=(0,ry.wV)(),s=a===ry.S5.Search,{inputRef:d,focusSearchBar:u}=(0,rE.rl)(),m=(0,l.d4)(e=>e.leftPanel.shouldFocusSearchBar),{query:p}=(0,l.d4)(e4.UQ),_=(0,J.tS)(),f=n.useCallback(()=>{s&&i()},[s,i]),g=n.useMemo(()=>o?o===_?{type:e7.I.LOCAL}:{type:e7.I.FILE,fileKey:o}:{type:e7.I.ALL},[o,_]),h=n.useCallback(e=>{t(eP.ku({query:e,searchOptions:g,entryPoint:"asset_panel"})),""===e?f():s||r()},[t,s,f,g,r]),E=n.useRef(void 0);n.useEffect(()=>{s&&(p&&E.current!==o&&t(eP.gP({searchOptions:g})),E.current=o)},[t,s,o,p,g]);let y=n.useCallback(()=>{""===p&&f()},[f,p]),v=n.useCallback(()=>{h(""),u(),f()},[h,u,f]),b=(0,l.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{let e=e=>{let t=e3.Ay.chromeos?e.altKey&&e.shiftKey&&e.keyCode===e5.Uz.KEY_2:e.altKey&&e.keyCode===e5.Uz.KEY_2,a=!(0,tV.AL)()&&e.shiftKey&&e.keyCode===e5.Uz.I&&!(0,rh.Qk)(e.target);(t||a)&&b!==c.m1T.TEXT&&(u(),e.preventDefault())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[b,u]);let C=n.useMemo(()=>e?(0,I.t)("design_systems.assets_panel.search_library"):(0,I.t)("design_systems.assets_panel.search_all_libraries"),[e]);return n.createElement("div",{className:"asset_panel_search--container--u0qoH asset_panel_search--horizontalFlex---CG1k"},n.createElement(iB.h,null),n.createElement(e6.E1,{path:[ro.ON.HEADER,ro.my.SEARCH_AND_FILTER],column:ro.Wy.SEARCH,isNewAssetsPanel:!0,query:p,onChange:h,onFocus:ie.lQ,onBlur:y,onClearSearch:v,forwardedRef:d,isVisible:!0,entryPointForTracking:"editor:assets_panel",autofocus:m,recordingKey:"componentsLibrarySearch",placeholder:C,selectOnFocus:!0}))}function iV({library:e}){let{navigateToTop:t}=(0,ry.wV)(),{focusSearchBar:a}=(0,rE.rl)(),r=(0,rh.sN)(),l=n.useCallback(()=>{r("searchFilterChip",t()),a()},[a,r,t]),{setKeyboardNavigationElement:i}=(0,eO.M3)({path:[ro.ON.HEADER,ro.my.LIBRARY_SEARCH_CHIP]});return e?n.createElement("div",{className:"asset_panel_search--libraryChip--1nfYR asset_panel_search--horizontalFlex---CG1k","data-testid":"asset-panel-search-chip"},n.createElement("span",{className:"asset_panel_search--libraryChipText--3TsfE ellipsis--ellipsis--Tjyfa"},e.name),(0,h.kc)().dse_fpl_wave_1?n.createElement(rs.E,{className:iG,onClick:l,recordingKey:"asset-panel-search-chip","aria-label":(0,I.t)("design_systems.assets_panel.search_chip_label"),ref:i},n.createElement(iU.f,null)):n.createElement(v.GG,{className:iG,onClick:l,recordingKey:"asset-panel-search-chip","aria-label":(0,I.t)("design_systems.assets_panel.search_chip_label"),forwardedRef:i},n.createElement(iU.f,null))):null}var iK=a(221768),iz=a(18991),iW=a(343427),ij=a(270133),iq=a(255942);let iY="assets-panel-settings";function iX({includeFolderSetting:e=!0}){let t=n.useRef(null),{setKeyboardNavigationElement:a}=(0,eO.M3)({path:[ro.ON.HEADER,ro.my.SEARCH_AND_FILTER],column:ro.Wy.SETTINGS}),r=(0,J.tS)(),i=(0,q.Um)(),o=i?.type===iY,s=(0,l.wA)(),c=n.useCallback(()=>{o?s((0,l_.oB)()):(s((0,l_.j7)({type:iY,data:{position:{top:t.current?.getBoundingClientRect().bottom,left:t.current?.getBoundingClientRect().left}}})),p.az.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:r??void 0,assetsPanelVersion:3}))},[s,r,o]),d=n.useMemo(()=>{if(o)return i.data?.position},[i?.data?.position,o]),u=n.useCallback(e=>{o&&e.stopPropagation()},[o]);return n.createElement(n.Fragment,null,n.createElement("div",{onMouseDown:u},n.createElement(eh.d,{onClick:c,toggled:o,ref:(0,iq.A)(t,a),"aria-label":(0,I.t)("design_systems.assets_panel.settings_label"),htmlAttributes:{"aria-expanded":o,"aria-haspopup":"listbox","data-testid":"asset-panel-settings-button"}},n.createElement(iK.A,null))),o&&n.createElement(iJ,{position:d,includeFolderSetting:e,buttonRef:t}))}function iJ({position:e,includeFolderSetting:t,buttonRef:a}){let i=(0,l.wA)(),o=n.useCallback(()=>{i((0,l_.oB)())},[i]),s=(0,rh.R2)("number"==typeof e?.top?e.top:void 0),{productComponents:c,templates:d}=(0,aZ.g5)(tB.$A.Design),[u]=(0,rv.MA)(),[_]=(0,rv.ye)(),{currentView:f,libraryKey:g}=(0,ry.wV)(),{getLibrary:h}=(0,rC.G)(),E=(0,J.tS)(),y=n.useMemo(()=>f!==ry.S5.Search&&(c.length>0||d.length>0),[f,c.length,d.length]),v=n.useMemo(()=>E?h(E):void 0,[h,E]),b=!!v&&(v.numComponents>0||v.numTemplates>0),[C,w]=(0,lG.g)(),{goToLibrary:k,goToAll:x,goToRecents:T,changeAssetsView:N,toggleShowFolders:S}=function(e){let t=(0,J.q5)(),a=(0,rh.sN)(),{navigateToLibrary:r,navigateToTop:l,navigateToRecents:i}=(0,ry.wV)(),{setLastNavAction:o}=(0,rX.ZX)(),[,s]=(0,rv.MA)(),[,c]=(0,rv.ye)(),{focusSearchBar:d}=(0,rE.rl)(),u=n.useCallback(e=>{a("settingsMenu",e)},[a]),m=n.useCallback(e=>{u(r(e)),d()},[d,r,u]),_=n.useCallback(()=>{u(l()),d()},[d,l,u]),f=n.useCallback(()=>{u(i()),d()},[d,i,u]),g=n.useCallback(()=>e.current?.focus(),[e]),h=n.useCallback(e=>{p.az.trackDefinedEvent("assets_panel.view_mode_changed",{viewMode:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),s(e),o(rX.r6.ToggleView)},[t?.key,t?.parentOrgId,t?.teamId,s,o]),E=(0,rE.NR)({onBoth:e=>()=>h(e),onKeyDown:()=>g}),y=n.useCallback(e=>{p.az.trackDefinedEvent("assets_panel.folder_toggle",{showFolders:e,fileKey:t?.key,fileTeamId:t?.teamId??void 0,fileOrgId:t?.parentOrgId??void 0}),c(e)},[t?.key,t?.parentOrgId,t?.teamId,c]);return{goToLibrary:m,goToAll:_,goToRecents:f,changeAssetsView:E,toggleShowFolders:(0,rE.NR)({onBoth:e=>()=>y(e),onKeyDown:()=>g})}}(a),A=n.useMemo(()=>{let e=[];return e.push(iZ({text:(0,I.t)("design_systems.assets_panel.dropdown_type_all_libraries"),checked:f===ry.S5.Libraries||f===ry.S5.Search&&!g,onClick:x})),y&&e.push(iZ({text:(0,I.t)("design_systems.assets_panel.dropdown_type_recents"),checked:f===ry.S5.Recents&&c.length>0,onClick:T})),b&&e.push(iZ({text:v.name,checked:f!==ry.S5.Recents&&g===v.fileKey,onClick:()=>k(v.fileKey)})),(C.length>0||w.length>0)&&e.push(n.createElement(lm.wv,null)),e.push(...C.map(({name:e,fileKey:t})=>iZ({text:e,isApproved:(0,tl.vR)(t),checked:f!==ry.S5.Recents&&g===t,onClick:()=>k(t)}))),e.push(...w.map(({name:e,fileKey:t})=>iZ({text:e,isApproved:(0,tl.vR)(t),isPreset:!0,checked:f!==ry.S5.Recents&&g===t,onClick:()=>k(t)}))),e.push(n.createElement(lm.wv,null)),e.push(iZ({text:(0,I.t)("design_systems.assets_panel.view_toggle_grid"),checked:u===rv.$H.GRID,onClick:N(rv.$H.GRID),icon:n.createElement(iz.t,null)})),e.push(iZ({text:(0,I.t)("design_systems.assets_panel.view_toggle_list"),checked:u===rv.$H.LIST,onClick:N(rv.$H.LIST),icon:n.createElement(iW.Z,null)})),t&&e.push(iZ({text:(0,I.t)("design_systems.assets_panel.view_toggle_show_folders"),checked:_,onClick:S(!_),icon:n.createElement(ij.e,null)})),e},[u,N,g,f,x,k,T,b,y,t,v?.fileKey,v?.name,w,c.length,_,C,S]),L=n.useMemo(()=>({...e,maxHeight:s}),[s,e]);return r.createPortal(n.createElement(lm.X3,{className:m()(iT.Dm,"asset_panel_settings--dropdown--gs7K3"),positionAbsolute:!0,style:L,id:iY,hideDropdown:o,autofocusPrevElementOnEsc:!0},A),document.body)}function iZ({text:e,isApproved:t,isPreset:a,checked:r,onClick:l,icon:i}){return n.createElement(lm.MM,{className:"asset_panel_settings--dropdownOption--kJ-6M",checked:!!r,onClick:l,key:e},n.createElement("div",{className:"asset_panel_settings--optionContentContainer--iAJ6X"},n.createElement("div",{className:"asset_panel_settings--optionContent---2nCX ellipsis--ellipsis--Tjyfa"},i?n.createElement("div",{className:"asset_panel_settings--optionWithLeftIconContainer--QP3Gm"},i,n.createElement("span",null,e)):e),n.createElement("div",{className:"asset_panel_settings--optionRightIcon--zi-2v"},t?n.createElement(tr.FX,null):a?n.createElement("div",{className:S.cx.ml2.$},n.createElement(to.S,{hubFileId:void 0})):null)))}function iQ(){let{getPage:e,getLibrary:t}=(0,rC.G)(),{libraryKey:a,pageId:r}=(0,ry.wV)(),l=n.useMemo(()=>e(a,r),[e,a,r]),i=n.useMemo(()=>t(a),[t,a]);return n.createElement("div",{className:"asset_panel_header--assetPanelHeader--ZWb-Q"},n.createElement(i$,{library:i}),n.createElement(i0,{page:l}))}function i$({library:e}){let{currentView:t}=(0,ry.wV)();return n.createElement("div",{className:S.cx.grid.gap4.itemsCenter.ml8.$,style:lp.sx.add({gridTemplateColumns:"1fr auto",gridTemplateRows:"32px",gridAutoRows:"auto"}).$},n.createElement("div",{style:lp.sx.add({gridRow:1,gridColumn:1}).$},n.createElement(iH,{libraryName:e?.name})),n.createElement("div",{style:lp.sx.flex.itemsCenter.add({gridRow:1,gridColumn:2}).$},n.createElement(iX,{includeFolderSetting:[ry.S5.Libraries,ry.S5.Pages,ry.S5.Assets].includes(t)})),t===ry.S5.Search&&e&&n.createElement("div",{style:lp.sx.flex.minW0.add({gridRow:2,gridColumn:1}).$},n.createElement(iV,{library:e})))}function i0({page:e}){let{currentView:t,folderPath:a,onBack:r,libraryKey:i,isCurrentlySkippingPage:o,isCurrentlySkippingFirstFolder:s}=(0,ry.wV)(),c=(0,rh.sN)(),d=(0,l.d4)(e=>e.modalShown),u=(0,l.wA)(),{setBackButtonKeyboardItem:m,focusSearchBar:p}=(0,rE.rl)(),_=n.useCallback(()=>{c("backButton",r()),d?.type===ts.V&&u(D.AS())},[r,c,d?.type,u]),f=n.useCallback(()=>{t===ry.S5.Recents?i||p():t===ry.S5.Pages?p():t===ry.S5.Assets&&o&&!a&&p()},[t,p,a,o,i]),g=(0,rE.MB)({onBoth:_,onKeyDown:f,onClick:p}),h=n.useMemo(()=>{if(t===ry.S5.Search||t===ry.S5.Recents)return[];let n=e?.name&&!o?[e.name]:[],r=a??[];return[...n,...s?r.slice(1):r]},[t,a,o,s,e?.name]),E=lH(),y=t!==ry.S5.Libraries&&t!==ry.S5.Search;return E?null:n.createElement(n.Fragment,null,t!==ry.S5.Search&&n.createElement("div",{className:"asset_panel_header--breadcrumbWrapper--NC2Ps asset_panel_header--horizontalFlex--k99PA"},y&&n.createElement(t9.K,{"aria-label":(0,I.t)("design_systems.assets_panel.back"),onClick:g,ref:m,recordingKey:"assetsPanelBack"},n.createElement(iw.C,null)),n.createElement(iI,{stubs:h})))}var i1=a(708873);let i2=e=>n.useCallback(t=>{t()||e()},[e]);var i5=a(309798),i3=a(292072);function i4({width:e}){let t=(0,i1.j)(),a=function(e){let t=(0,Q.iZ)(),a=(0,J.q5)(),r=(0,ej.jO)(),i=(0,i5.f)("has_dismissed_component_sidebar_library_upsell_banner"),o=(0,l.d4)(e=>e.isFreeUser),s=(0,l.d4)(eZ.P),c=a?.teamId?s[a.teamId]:null,d=(0,tW.Rs)(eU.GyZ,{teamId:a?.teamId??""},{enabled:!!a?.teamId}),u=a?.canEdit??!1,m=d?.data?.team?.canEdit??!1,p=e.numComponents>0||e.numTemplates>0;return n.useMemo(()=>!i&&o&&(!c||!(0,eq.w5)(c)&&m)&&u&&r&&p&&(0,eR.Hz)(t?.id),[i,o,c,m,u,r,p,t])}(t.localAssets),r="loading"===(0,eG.je)().status,i=(0,th.Xr)(rK),o=n.useCallback(()=>i(!0),[i]);return n.createElement(i6,{assetPanelItems:t,width:e},n.createElement("div",{className:i3.k,"data-testid":"component-sidebar",translate:"no"},n.createElement(iQ,null),n.createElement(io,{isLoading:r},n.createElement(iv,{assetPanelItems:t,width:e})),a&&n.createElement(n8,null),n.createElement(e$.Mw,{width:e,scrollToPreset:o})))}function i6({children:e,width:t,assetPanelItems:a}){return n.createElement(rX.P3,null,n.createElement(rC.K,{assetPanelItems:a},n.createElement(rE.tM,{className:i3.k},n.createElement(i7,null,n.createElement(rD,{width:t},e)))))}function i7({children:e}){return!function(){let{libraryKey:e,pageId:t,folderPath:a,navigateToTop:r,navigateToPage:l,navigateToPath:i,navigateToLibrary:o,currentView:s,onBack:c}=(0,ry.wV)(),d=(0,il.q)(),u=d(e),{getLibrary:m,getPage:p,getFolder:_}=(0,rC.G)(),{setLastNavAction:f}=(0,rX.ZX)(),g=i2(r),[,,h]=(0,lG.g)(),[y,v]=(0,E.fp)(e0.Cl);n.useEffect(()=>{y&&h.size>0&&((0,rh.hB)(()=>o(y)),v(null))},[y,o,v,h]),(0,ry.sH)(),n.useEffect(function(){if(s!==ry.S5.Assets&&s!==ry.S5.Pages)return;let n=m(e),o=h.get(e);if(!n){if(d(e)&&o&&s!==ry.S5.Assets)return;g(r);return}if(t){if(!n?.pages.get(t)){let e=(0,ry.Cg)(n);e?g(()=>l(e.id)):g(c);return}if(a&&!_(e,t,a)){let n=a.slice(0,-1),r=_(e,t,n);for(;!r&&n.length>0;)r=_(e,t,n=n.slice(0,-1));if(!r)return g(()=>l(t));let o=parent?(0,ry.xc)(r):void 0;return void(o?g(()=>i([...n,o.name])):(g(()=>i(n)),f(rX.r6.Back)))}}},[c,u,e,s,t,a,r,l,m,_,i,f,g,h,d]),n.useEffect(function(){let n=m(e);if(!n||u)return;let r=(0,ry.Cg)(n);if(s===ry.S5.Pages&&r)l(r.id);else if(s===ry.S5.Assets){let n=_(e,t,a);if(!n)return;let r=(0,ry.xc)(n);r&&i([...a??[],r.name])}},[u,s,a,_,m,p,e,l,i,c,t])}(),n.createElement(n.Fragment,null,e)}function i8(){return n.createElement("div",{className:S.cx.colorTextSecondary.my8.mx16.$},(0,I.tx)("design_systems.assets_panel.error"))}var i9=a(20556),oe=a(544403),ot=a(267460),oa=a(601538),on=a(443230),or=a(324666),ol=a(427072),oi=a(872429),oo=a(764257),os=a(656147),oc=a(16633),od=a(455263),ou=a(893606);function om(){let{hasAnyUiKit:e}=(0,ta.I7)(),t=(0,i5.f)("ui_kits_assets_title_blue_dot_dismissed"),a=(0,ej.jO)(),r=(0,od.t)(),i=J.q5()?.canEdit,o=(0,l.d4)(e=>e.leftPanel.activeTab===c.xae.ASSETS),s=(0,l.wA)(),d=(0,ou.R)();return(n.useEffect(()=>{e&&!t&&o&&s(n4.b({ui_kits_assets_title_blue_dot_dismissed:!0}))},[o,t,s,e]),a&&!r&&i&&e&&!t)?d?n.createElement(oc.C,{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDotUi3--VR9bW"}):n.createElement("span",{"data-testid":"assets-panel-blue-dot",className:"assets_panel_blue_dot--blueDot--s7hOi"}):null}var op=a(354894);function o_(e){let t=(0,l.wA)(),a=(0,l.d4)(e=>e.selectedView);return n.createElement("div",{className:op.hv},n.createElement(er.Y,{onFocus:()=>{(0,M._)(t,a,"overview_search_clicked"),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),!e.isOverview&&n.createElement(v.D8,{className:op.Ov,onClick:e.togglePagesExpanded,onContextMenu:e.onContextClick},n.createElement("span",{className:op.Im},e.currentPageName||""),n.createElement(N.B,{className:op.ai,svg:e.pageTabChevron})))}var of=a(650166),og=a(489013),oh=a(349410),oE=a(385111);function oy(e){let t=(0,l.wA)(),a=(0,J.q5)(),r=(0,ez.FC)(),i=(0,ao.p8)("pagesList").length,o=n.useRef(),s=(0,et.ks)(),c=(0,oh.Fr)(),d=oE.h.useTrackingContext({trigger:n7.b.PAGE_TRACKER_UPSELL});o.current=e.setUpsellHeightCallback;let u=n.useCallback(e=>{o.current&&o.current(e?.getBoundingClientRect().height||0)},[i]);if(i<=0||!a||s)return null;let p=a.team;if(!(p&&(0,eY.canEditTeam)(p.id,r)&&!(0,eq.XX)(p)))return null;let _=(0,eq.Lj)(a);if((_<=1||_>=1/0)&&!c(a))return null;let f=()=>{let e=n7.b.PAGE_TRACKER_UPSELL;t((0,D.to)({type:n3.V,data:{upsellSource:e,teamId:p.id,openCheckoutInNewTab:!0}}))},g=n.createElement(aa.Us,{onClick:f,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,I.tx)("fullscreen.pages_panel.see_plans_that_offer_more")),h=n.createElement(aa.Us,{onClick:f,trusted:!0,"data-testid":"page_tracker_upsell_link"},(0,I.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")),E=i/eq.LF[a.editorType??tN._Y.DESIGN],y=m()({"page_tracker_upsell--progressPartial--guOiP":E<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===E,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":E>1}),v=`${Math.trunc(100*Math.min(E,1))}%`,b={fileTeamId:p.id,numPages:i,...d};return n.createElement(ev.fu,{name:"Page Tracker Upsell",properties:b},n.createElement("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:u,"data-testid":"page_tracker_upsell"},n.createElement("div",{className:"page_tracker_upsell--upsellBody--yUAjd"},n.createElement("div",{className:"page_tracker_upsell--progressBar--fDCBY"},n.createElement("div",{className:y,style:{width:v},"data-testid":"page_tracker_progress_bar"})),n.createElement("p",{className:"page_tracker_upsell--upsellText--Ng-u0"},(()=>{let e=eq.LF[a.editorType??tN._Y.DESIGN]-i;return e>=2?n.createElement(n.Fragment,null,(0,I.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),n.createElement("br",null),g):1===e?n.createElement(n.Fragment,null,(0,I.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),n.createElement("br",null),h):0===e?n.createElement(n.Fragment,null,(0,I.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:eq.LF[a.editorType??tN._Y.DESIGN]}),n.createElement("br",null),h):n.createElement(n.Fragment,null,(0,I.tx)("fullscreen.pages_panel.all_free_pages_used"),n.createElement("br",null),h)})()))))}var ov=a(607672),ob=a(653671),oC=a(173521),ow=a(783423),ok=a(560560);let ox=(0,_.jz)(aW.xM9),oT=(0,_.jz)(aW.Nqv),oN=(0,_.jz)(aW.M$q),oS=(0,f.s)(e=>{e.user&&(0,G.uE)("action_left_panel_scroll",{user:e.user},{assetsPanelVersion:e.activeTab===c.xae.ASSETS?2:void 0,tab:e.activeTab===c.xae.ASSETS?"assets":"layers",fileKey:e.openFile?.key,fileTeamId:e.openFile?.teamId??void 0,fileOrgId:e.openFile?.parentOrgId??void 0})},500);class oI extends y.o6{constructor(e){super(e),this.objectScrollTop=0,this.onObjectScroll=e=>{this.objectScrollTop=e},this.componentScrollTop=0,this.onComponentScroll=e=>{oS(this.props),this.componentScrollTop=e},this.scrollContainerRef=n.createRef(),this.scrollContainerInnerRef=n.createRef(),this.shouldScrollToPage=null,this.updateLocalStorageSettings=(e,t,a,n)=>{if(b.x4){let r=JSON.parse(b.x4.getItem("pages-panel")||"{}");r[e]={height:t,isOpen:a,devHandoffShowAllPages:n},b.x4.setItem("pages-panel",JSON.stringify(r))}},this.getLocalStorageSettings=e=>{if(b.x4)return JSON.parse(b.x4.getItem("pages-panel")||"{}")[e]},this.setNeedsScrollLine=e=>{this.setState({needsScrollLine:e>0})},this.scrollViewToPage=e=>{if(!this.scrollContainerRef.current){this.shouldScrollToPage=e;return}let t=this.positionOfPageInList(e),a=t+ox,n=this.scrollContainerRef.current.getScrollTop(),r=n+this.scrollContainerRef.current.getTrackHeight();t<n?this.scrollContainerRef.current.scrollTo(t-ox/2):a>r&&this.scrollContainerRef.current.scrollTo(n+(a-r)+ox/2),this.shouldScrollToPage=null},this.onContextClick=y.cZ(this,"contextmenu",e=>{e.preventDefault(),e.stopPropagation(),this.props.onPageContextMenu({nodeId:this.props.currentPageGuid,clientX:e.clientX,clientY:e.clientY})}),this.onContextClickNothing=e=>{e.preventDefault(),e.stopPropagation()},this.forcePagesExpanded=()=>{this.showLayersPanel(),this.state.isPagesOpen||(this.setState({isPagesOpen:!0}),(0,G.ds)("pages_panel_open_toggle",this.props.openFile?.key,g.D.getState(),{isPagesOpen:!0},{forwardToDatadog:!0}))},this.togglePagesExpanded=()=>{this.props.isDevHandoffOverview||((0,G.ds)("pages_panel_open_toggle",this.props.openFile?.key,g.D.getState(),{isPagesOpen:!this.state.isPagesOpen},{forwardToDatadog:!0}),this.setState({isPagesOpen:!this.state.isPagesOpen}))},this.toggleLayersExpanded=()=>{(0,p.sx)("objects_panel_open_toggle",{isLayersOpen:!this.state.isLayersOpen}),this.setState({isLayersOpen:!this.state.isLayersOpen})},this.showPublish=()=>{this.props.openFile&&((0,p.sx)("left_panel_set_tab",{value:"Components"}),this.props.markAssetPanelLoadingStart?.(),this.props.dispatch(R.FP({tab:c.xae.ASSETS,persist:!0,shouldFocusSearchBar:!0})))},this.showLayersPanel=()=>{(0,p.sx)("left_panel_set_tab",{value:"Layers"}),this.props.dispatch(R.FP({tab:c.xae.LAYERS,persist:!0}))},this.showSitesBlocksPanel=()=>{(0,p.sx)("left_panel_set_tab",{value:"KitsSites"}),this.props.dispatch(R.FP({tab:c.xae.KITS_SITES}))},this.showDakotaPanel=()=>{(0,p.sx)("left_panel_set_tab",{value:"Dakota"}),this.props.dispatch(R.FP({tab:c.xae.DAKOTA}))},this.onFullscreenStartRenamingNode=({nodeId:e})=>{this.startRenamingNode(e)},this.startRenamingNode=e=>{if(this.props.isReadOnly)return;let t=d.q.instance.get(e);if(t?.isResponsiveSet&&t.parentNode?.defaultResponsiveSetId===e){this.props.dispatch(A.F.enqueue({message:(0,I.t)("sites.panel.pages_panel.cannot_rename_default_responsive_set")}));return}this.props.activeTab!==c.xae.LAYERS&&this.showLayersPanel(),this.setState({renamingNodeGuid:e}),t?.parentGuid&&W.hq(t.parentGuid)},this.stopRenamingNode=(e,t,a)=>{if(this.props.isReadOnly)return;let n=this.state.renamingNodeGuid;if(n&&e){let e=d.q.instance.get(n);e?.isResponsiveSet&&!t&&(t=e?.name);let r=t||"";V.l7.user("set-node-name",()=>W.i(n,r)),H.Y5.commit(),U.wt.reportEditActionIf(r!==a,"rename-node")}this.setState({renamingNodeGuid:null})},this.clampValidHeight=e=>{let t=this.scrollContainerInnerRef.current?.getBoundingClientRect().top??175,a=1.5*oT+(this.props.isUI3?40+oN:0);return Math.max(1.5*ox,Math.min(e,this.state.cachedInnerHeight-t-a))},this.onWindowSize=e=>{this.windowResizeHandler()},this.windowResizeHandler=(0,f.s)(()=>{this.setState({cachedInnerHeight:window.innerHeight})},45),this.toggleViewMode=()=>{this.setState({viewMode:this.state.viewMode===aJ.Bk.Grid?aJ.Bk.List:aJ.Bk.Grid})},this.setUpsellHeight=e=>{this.setState({upsellHeight:e})},this.setShowAllPages=e=>{let t=this.computedHeight(),a=this.getPagesInfo(e),n=this.heightForPages(a.pages.length,!!a.showAllButton),r=e?Math.max(t,n):Math.min(t,n);this.setState({devHandoffShowAllPages:e,height:r})},this.getPagesInfo=e=>{let{pagesList:t}=this.props;if(!this.props.isDevHandoff||this.props.disableCollapsing)return{pages:t};let a=!1,r=t.filter(e=>{let t=c.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(a=!0),t||e.nodeId===this.props.currentPageGuid});return a&&r.length!==t.length?e?{pages:t,showAllButton:n.createElement(T.d,{label:(0,I.t)("dev_handoff.pages.hide_other"),onClick:()=>this.setShowAllPages(!1)})}:{pages:r,showAllButton:n.createElement(T.d,{label:(0,I.t)("dev_handoff.pages.show_all"),onClick:()=>this.setShowAllPages(!0)})}:{pages:t}},this.state={renamingNodeGuid:null,needsScrollLine:!1,height:null,cachedInnerHeight:window.innerHeight,isPagesOpen:this.props.isUI3&&!this.props.isDevHandoff,isLayersOpen:!this.props.isUI3,pagesListInitialScrollTop:null,viewMode:aJ.Bk.Grid,upsellHeight:0,devHandoffShowAllPages:!1,webpagesListHeight:null,dakotaViewHeight:null}}componentDidMount(){super.componentDidMount(),H.Y5.fromFullscreen.on("startRenamingNode",this.onFullscreenStartRenamingNode),window.addEventListener("resize",this.onWindowSize),null!=this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid),this.props.openFile&&this.initializePagesPanelSettings(this.props.openFile.key),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0})}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("resize",this.onWindowSize),H.Y5.fromFullscreen.removeListener("startRenamingNode",this.onFullscreenStartRenamingNode)}UNSAFE_componentWillUpdate(e,t){e.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.scrollContainerRef.current&&this.setState({pagesListInitialScrollTop:this.positionOfPageInList(e.renamingPageId)-ox/2}),this.shouldScrollToPage&&this.scrollContainerRef.current&&this.scrollViewToPage(this.shouldScrollToPage)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.isUI3!==this.props.isUI3&&this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff}),this.props.isDevHandoffOverview&&!this.state.isPagesOpen&&this.setState({isPagesOpen:!0}),e.currentPageGuid!==this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid);let a=e.activeTab!==this.props.activeTab&&this.props.activeTab===c.xae.ASSETS,n=t.viewMode!==this.state.viewMode;if(a||n){let e=(0,b.TQ)(),t=this.props.showRedesignedAssetsPanel?rv.Pv:(0,aJ.RN)(this.state.viewMode);if(this.props.showRedesignedAssetsPanel&&e)try{let a=e.getItem(rv.Zi);if(a){let e=JSON.parse(a);(e===rv.$H.LIST||e===rv.$H.GRID)&&(t=e)}}catch{}(0,p.sx)("Component Sidebar Viewed",{viewMode:t,assetsPanelVersion:this.props.showRedesignedAssetsPanel?3:2,fileKey:this.props.openFile?.key,fileTeamId:this.props.openFile?.teamId??void 0,fileOrgId:this.props.openFile?.parentOrgId??void 0})}if(this.scrollContainerRef.current&&this.setNeedsScrollLine(this.scrollContainerRef.current.getScrollTop()),this.props.openFile){e.openFile?.key!==this.props.openFile.key&&this.initializePagesPanelSettings(this.props.openFile.key);let a=t.isPagesOpen!==this.state.isPagesOpen,n=this.state.height&&t.height!==this.state.height,r=this.state.devHandoffShowAllPages!==t.devHandoffShowAllPages;e.openFile?.key===this.props.openFile.key&&(a||n||r)&&this.updateLocalStorageSettings(this.props.openFile.key,this.state.height,this.state.isPagesOpen,this.state.devHandoffShowAllPages)}null!==this.props.isPagesOpenOverride&&this.props.isPagesOpenOverride!==e.isPagesOpenOverride&&(E.zl.set(ob.aN,null),this.setState({isPagesOpen:this.props.isPagesOpenOverride})),null!==this.props.isLayersOpenOverride&&this.props.isLayersOpenOverride!==e.isLayersOpenOverride&&this.setState({isLayersOpen:this.props.isLayersOpenOverride}),this.props.renamingPageId&&this.props.renamingPageId!==e.renamingPageId&&!this.props.isReadOnly&&(this.forcePagesExpanded(),this.scrollViewToPage(this.props.renamingPageId))}heightForPages(e,t){let a=e*ox;a=Math.ceil(a/ox)*ox+this.state.upsellHeight+(this.props.isUI3?8:ox/2),t&&(a+=ox);let n=this.props.isDevHandoff?144:40;return Math.min(a,Math.round(.25*(this.state.cachedInnerHeight-(0,C.bG)()-(0,_.hG)(aW.MGP)-n)))}defaultHeight(e){if(e){let e=this.props.publishableCanvasId?(0,oo.Vl)(d.q.instance.get(this.props.publishableCanvasId)):[];return this.heightForPages(e.length,!1)}let{pages:t,showAllButton:a}=this.getPagesInfo(this.state.devHandoffShowAllPages);return this.heightForPages(t.length,!!a)}async initializePagesPanelSettings(e){let t=await this.getLocalStorageSettings(e);(0,r.flushSync)(()=>{t?this.setState({height:t.height,isPagesOpen:t.isOpen,devHandoffShowAllPages:t.devHandoffShowAllPages}):this.setState({isPagesOpen:this.props.pagesList.length>1||this.props.isUI3&&!this.props.isDevHandoff})})}indexOfPageInList(e){return this.props.pagesList.findIndex(t=>t.nodeId===e)}positionOfPageInList(e){let t=this.indexOfPageInList(e);return -1!==t?t*ox:0}canAddNewPages(){return!this.props.isReadOnly}renderHeaderRowUi2(){let e=this.props.isReadOnly?this.togglePagesExpanded:void 0,t=this.canAddNewPages();return n.createElement("div",{className:this.state.needsScrollLine?op.xq:op.RE,onClick:e},n.createElement("div",{className:op.Pz,onContextMenu:this.onContextClickNothing},(0,I.tx)("fullscreen.pages_panel.pages")),t&&n.createElement("div",{className:S.cx.flex.mx8.itemsCenter.$},n.createElement(of.e,{recordingKey:y.Pt(this.props,"newPage")})))}renderHeaderRowUi3(e){let t=this.props.isReadOnly,a=t?this.togglePagesExpanded:void 0,r=(0,et.$A)(this.props.selectedView)||this.props.isDevHandoffOverview,l=t||r,i=e||(0,h.kc)().interop_pages,o=this.canAddNewPages();return n.createElement("div",{className:this.state.needsScrollLine?op.xq:op.RE,onClick:a},l?n.createElement("div",{className:op.Pz,onContextMenu:this.onContextClickNothing},n.createElement(v.D8,{className:m()(op.RM,{[op.oq]:!this.props.showTabs||r,[op._Z]:!this.props.showTabs||r}),onClick:this.props.activeTab===c.xae.ASSETS?this.forcePagesExpanded:this.togglePagesExpanded,onContextMenu:r?this.onContextClick:this.onContextClickNothing,recordingKey:y.Pt(this.props,"collapsedRow")},n.createElement("span",{className:m()(op.II,{[op.dK]:this.props.isDevHandoffOverview})},n.createElement(oM,{isExpanded:this.state.isPagesOpen})),n.createElement("span",{className:op.Im,"data-onboarding-key":"pages-panel-toggle"},this.state.isPagesOpen?(0,I.tx)("fullscreen.pages_panel.pages"):this.props.currentPageName||"")),n.createElement("div",{className:this.props.isComparingChanges?op.R:void 0},n.createElement(en._,{onClick:e=>{e.stopPropagation(),(0,M._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.showLayersPanel(),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}))):n.createElement(v.D8,{className:op.Pz,onContextMenu:this.onContextClickNothing,onClick:this.togglePagesExpanded,role:"button",tabIndex:0,recordingKey:y.Pt(this.props,"collapsedRow")},n.createElement(oM,{isExpanded:this.state.isPagesOpen}),(0,I.tx)("fullscreen.pages_panel.pages")),o&&n.createElement("div",{className:S.cx.flex.relative.mr8.justifyEnd.itemsCenter.$},i?n.createElement(og.t,{recordingKey:this.props.recordingKey}):n.createElement(of.e,{recordingKey:y.Pt(this.props,"newPage")})))}renderAssetPanelUi2(){return n.createElement(rt,{onScroll:this.onComponentScroll,initialScrollTop:this.componentScrollTop,recordingKey:"componentsSidebar",viewMode:this.state.viewMode,toggleViewMode:this.toggleViewMode,containerSizingOptions:{containerWidth:this.props.width,maxSmallThumbSize:40,maxWideColWidth:300}})}renderAssetPanelUi3(){return n.createElement(k.tH,{boundaryKey:"AssetPanelUI3",fallback:n.createElement(i8,null)},n.createElement(i4,{width:this.props.width}))}computedHeight(){return this.state.height?this.clampValidHeight(this.state.height):this.defaultHeight()}renderPagesList(e){if(!this.props.pagesList)return null;let{pages:t,showAllButton:a}=this.getPagesInfo(this.state.devHandoffShowAllPages);return n.createElement(w.V,null,n.createElement(oe.w,{size:this.computedHeight(),defaultSize:this.defaultHeight(),onResize:e=>{this.setState({height:e}),W.Uc("")},side:"bottom",className:e?op.aY:op.l$},n.createElement(x.P,{scrollBarAlways:!1,ref:this.scrollContainerRef,scrollContainerRef:this.scrollContainerInnerRef,className:op.jG,width:this.props.width,onScroll:this.setNeedsScrollLine,initialScrollTop:this.state.pagesListInitialScrollTop||void 0},n.createElement(ov.bU,{pages:t,scrollContainer:this.scrollContainerRef.current??void 0,shouldHighlightActivePage:!this.props.isDevHandoffOverview,isComparingChanges:this.props.isComparingChanges,pageToNumChanges:this.props.pageToNumChanges,isReadOnly:this.props.isReadOnly,onContextMenu:this.props.onPageContextMenu}),a&&n.createElement("div",{className:op.Gr},a),n.createElement(oy,{setUpsellHeightCallback:this.setUpsellHeight}))))}renderObjectsPanelUi2(){let e=this.props.isLoadingPage,t=this.props.openFile?.thumbnailGuid||null;return n.createElement(i9.X,{hasPending:e,isReadOnly:this.props.isReadOnly,currentPage:this.props.currentPageGuid,onScroll:this.onObjectScroll,initialScrollTop:this.objectScrollTop,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:this.state.renamingNodeGuid,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode,thumbnailGuid:t,versionHistory:this.props.versionHistory})}renderObjectsPanelUi3(){let e=this.props.selectedView,t=(0,os.P)(e),a=(0,oi.Vj)(e),r=this.props.isLoadingPage,l=this.props.openFile?.thumbnailGuid||null,i=this.state.renamingNodeGuid;if(a&&this.props.isSitesWebpagesOpen){let e=d.q.instance.get(this.state.renamingNodeGuid||"");e?.isResponsiveSet&&(i=null)}return t?null:n.createElement(n.Fragment,null,n.createElement(v.D8,{className:op.RE,onContextMenu:this.onContextClickNothing,onClick:this.toggleLayersExpanded,role:"button",tabIndex:0,recordingKey:y.Pt(this.props,"layersCollapsedRow")},n.createElement("div",{className:op.Pz},n.createElement(oM,{isExpanded:this.state.isLayersOpen}),(0,I.tx)("fullscreen.pages_panel.layers_tab"))),this.state.isLayersOpen&&n.createElement(i9.X,{hasPending:r,isReadOnly:this.props.isReadOnly,currentPage:this.props.currentPageGuid,onScroll:this.onObjectScroll,initialScrollTop:this.objectScrollTop,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,renamingGuid:i,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode,faviconGuid:this.props.faviconGuid,thumbnailGuid:l,versionHistory:this.props.versionHistory}))}renderTabsRowUi2(e,t){return n.createElement("div",{className:op.hv},this.props.showTabs&&n.createElement(n.Fragment,null,n.createElement(en._,{onClick:()=>{(0,M._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.showLayersPanel(),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),n.createElement(v.Bx,{className:e===c.xae.LAYERS?op.yR:op.Mf,onMouseDown:this.showLayersPanel,onContextMenu:this.onContextClickNothing,"data-label":(0,I.t)("fullscreen.pages_panel.layers_tab"),recordingKey:y.Pt(this.props,"tab","layers"),innerText:"Layers"},(0,I.tx)("fullscreen.pages_panel.layers_tab")),n.createElement(v.Bx,{className:op.dB,onMouseDown:this.showPublish,onContextMenu:this.onContextClickNothing,recordingKey:y.Pt(this.props,"tab","assets"),innerText:"Assets","data-onboarding-key":oa.Qr},n.createElement("div",{className:e===c.xae.ASSETS?op.yR:op.Mf,"data-label":(0,I.t)("fullscreen.pages_panel.assets_tab")},n.createElement("div",null,(0,I.tx)("fullscreen.pages_panel.assets_tab"),n.createElement(om,null))))),!this.props.showTabs&&n.createElement("div",{className:m()(op.m1,{[op.R]:this.props.isComparingChanges||this.props.isDevHandoff})},n.createElement(er.Y,{onFocus:()=>{(0,M._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),this.showLayersPanel(),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}})),n.createElement(v.D8,{className:m()(op.RM,{[op.oq]:!this.props.showTabs,[op._Z]:!this.props.showTabs}),onClick:e===c.xae.ASSETS?this.forcePagesExpanded:this.togglePagesExpanded,onContextMenu:this.onContextClick,recordingKey:y.Pt(this.props,"collapsedRow")},n.createElement("span",{className:op.Im,"data-onboarding-key":"pages-panel-toggle"},this.props.currentPageName||""),n.createElement(N.B,{className:op.ai,svg:t})))}renderTabsRowUi3(e){if(!this.props.showTabs)return null;let t=(0,et.Uq)(this.props.selectedView),a=this.props.showRedesignedAssetsPanel&&t&&(e===c.xae.ASSETS||e===c.xae.LAYERS);return n.createElement("div",{className:op.hv},this.props.showTabs&&n.createElement(oA,{selectedView:this.props.selectedView,activeTab:this.props.activeTab,showLayersPanel:this.showLayersPanel,showPublish:this.showPublish,showSitesBlocksPanel:this.showSitesBlocksPanel,showDakotaPanel:this.showDakotaPanel,recordingKey:this.props.recordingKey}),n.createElement("div",{className:op.gY},e===c.xae.LAYERS&&n.createElement(en._,{onClick:()=>{(0,M._)(this.props.dispatch,this.props.selectedView,"overview_search_clicked"),H.Y5.triggerAction("canvas-search",{source:"toolbar"})}}),a&&n.createElement(eS,{recordingKey:this.props.recordingKey,entrypoint:e===c.xae.ASSETS?e2.r6.ASSETS_PANEL_BUTTON:e2.r6.LAYERS_TAB_BUTTON,hideIfNoUpdates:e===c.xae.LAYERS})))}render(){let e=this.props.openFile?this.props.activeTab:c.xae.LAYERS,t=this.props.openFile,a=this.props.isLoadingPage,r=this.props.isUI3,l=e===c.xae.LAYERS||this.props.isReadOnly,i=(0,oi.Vj)(this.props.selectedView),o=(0,et.$A)(this.props.selectedView)||this.props.isDevHandoffOverview,s=this.state.isPagesOpen,d=!i&&l&&(!!r||s),u=this.state.isPagesOpen&&this.props.activeTab===c.xae.LAYERS?ok.A:ow.A,p=this.props.pagesList.some(e=>e.pageType!==this.props.pagesList[0].pageType),_=!s||this.props.showTabs,f=c.AWq.getChunkChangeCount();return n.createElement("div",{className:m()(op.N1,{pagesPanel:!a,[op.$U]:!this.props.isShowingSlidesCarousel&&!this.props.ignoreVerticalFlex,[op.NM]:this.props.isShowingSlidesCarousel})},this.props.isUI3?n.createElement(n.Fragment,null,n.createElement(P.$,null),_&&!o&&this.renderTabsRowUi3(e)):n.createElement(n.Fragment,null,o?n.createElement(o_,{togglePagesExpanded:this.togglePagesExpanded,onContextClick:this.onContextClick,currentPageName:this.props.currentPageName,currentPageGuid:this.props.currentPageGuid,pageTabChevron:u,isOverview:this.props.isDevHandoffOverview}):this.renderTabsRowUi2(e,u),e===c.xae.LAYERS&&n.createElement(P.$,null)),this.props.isComparingChanges&&l&&n.createElement(n.Fragment,null,this.props.versionHistory.compareId&&n.createElement(eg.ZI,{compareId:this.props.versionHistory.compareId,versions:this.props.versionHistory.versions}),f>0&&n.createElement("div",{className:op.hv},n.createElement(ef,null))),t&&n.createElement(ea.QU,{fileKey:t.key,toggleManageMemoryModal:this.props.toggleManageMemoryModal,closeManageMemoryModal:()=>{this.props.modalShown&&this.props.modalShown.type===ot.gG.type&&this.props.dispatch(D.Ce())}}),i&&l&&n.createElement(or.j8,{scrollContainerRef:this.scrollContainerRef,width:this.props.width,height:this.state.webpagesListHeight,defaultHeight:this.defaultHeight(!0),onScroll:this.onObjectScroll,onResize:e=>{this.setState({webpagesListHeight:e}),W.Uc("")},initialScrollTop:this.objectScrollTop,currentPageGuid:this.props.currentPageGuid,isComparingChanges:this.props.isComparingChanges,needsScrollLine:this.state.needsScrollLine,renamingNodeGuid:this.state.renamingNodeGuid,startRenamingNode:this.startRenamingNode,stopRenamingNode:this.stopRenamingNode}),d&&n.createElement("div",{onClick:e=>e.stopPropagation(),role:"none"},n.createElement("div",{className:op.Ed},r?this.renderHeaderRowUi3(p):this.renderHeaderRowUi2(),s&&this.renderPagesList(a))),l&&!this.props.isDevHandoff&&!this.props.isDevHandoffOverview&&n.createElement("div",{className:op.LZ},r?this.renderObjectsPanelUi3():this.renderObjectsPanelUi2()),e===c.xae.KITS_SITES&&n.createElement(or.oT,null),e===c.xae.DAKOTA&&n.createElement("div",{className:op.Ed},n.createElement(L.Wr,{width:this.props.width,height:this.state.dakotaViewHeight,defaultHeight:96,onResize:e=>{this.setState({dakotaViewHeight:e})}})),e===c.xae.ASSETS&&!this.props.isReadOnly&&n.createElement(n.Fragment,null,this.props.showRedesignedAssetsPanel?this.renderAssetPanelUi3():this.renderAssetPanelUi2()))}}function oA(e){let{activeTab:t,selectedView:a,showLayersPanel:r,showSitesBlocksPanel:l,showPublish:o,showDakotaPanel:s,recordingKey:d}=e,u=(0,oi.Vj)(a),m=(0,O.U9)()&&u,p=(0,F.ow)(),_=c.xae.LAYERS.toString(),f=c.xae.KITS_SITES.toString(),g=c.xae.ASSETS.toString(),h=c.xae.DAKOTA.toString(),[E,v]=i.tU.useManagedTabs({[_]:!0,[f]:u,[g]:!p,[h]:m},t.toString(),e=>{switch(parseInt(e)){case c.xae.LAYERS:r();break;case c.xae.KITS_SITES:l();break;case c.xae.ASSETS:o();break;case c.xae.DAKOTA:s();break;default:(t=>{throw Error("Unhandled tab behavior: "+e)})(0)}},{recordingKey:y.Pt(d,"tabs")});return n.createElement("div",{role:"presentation",className:op.Vb,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},onKeyDown:e=>{e.defaultPrevented||(0,z.f7)(e)}},n.createElement(i.tU.TabStrip,{manager:v},n.createElement(i.tU.Tab,{...E[_]},(0,I.tx)("fullscreen.pages_panel.file_tab")),n.createElement(i.tU.Tab,{...E[f],htmlAttributes:{"data-testid":"kitsSitesTab"}},(0,I.tx)("fullscreen.pages_panel.resources_tab")),n.createElement(i.tU.Tab,{...E[g],onboardingKey:oa.Qr},(0,I.tx)("fullscreen.pages_panel.assets_tab")),n.createElement(i.tU.Tab,{...E[h]},(0,I.tx)("fullscreen.pages_panel.dakota_tab"))))}function oL(e){let t=(0,l.d4)(e=>e.modalShown),a=t&&t.type===ot.gG.type,r=(0,l.wA)(),i=n.useCallback(()=>{let t=(0,Y.P3)();(0,p.sx)("toggle_manage_memory_modal",{memoryUsedPercent:t,totalLayers:c.CeL?.getFileNodeCount(),pageContentPct:t-(0,Y.Zz)()}),a?r(D.Ce()):r(D.to({type:ot.gG,data:{sidePanelWidth:e.width,markModalClosed:()=>{}}}))},[r,a,e.width]),o=(0,$.J2)(c.Ez5.uiState().isRecovery),s=(0,n.useRef)(!1);return n.useEffect(()=>{!o||a||s.current||(s.current=!0,i(),c.Ez5?.uiState().showMemoryUsage.set(!0))},[o,a,i]),n.createElement(oI,{...e,toggleManageMemoryModal:i})}function oO({width:e,isReadOnly:t,pagesList:a,activeTab:r,showTabs:i,hasTeamLibraryUpdates:o,isDevHandoff:s,isShowingSlidesCarousel:d,isDevHandoffOverview:u,onPageContextMenu:m,disableCollapsing:p,isComparingChanges:_,pageToNumChanges:f,recordingKey:g,ignoreVerticalFlex:h}){let y=(0,$.J2)((0,K.UK)().showGuids),v=(0,l.wA)(),b=(0,X._Z)(),C=(0,E.md)(ob.aN),w=(0,B.GS)(),k=(0,tG.M)()&&w,x=(0,$.J2)(c.Ez5.editorState().selectionEmpty),T=(0,Q.iZ)(),N=(0,rr.lV)(),S=(0,J.q5)(),I=(0,l.d4)(e=>e.versionHistory),A=(0,Z._6)(),L=(0,l.d4)(e=>e.fileVersion),O=(0,l.d4)(e=>e.teams),M=(0,l.d4)(e=>e.loadingState),P=(0,l.d4)(e=>e.modalShown),R=(0,ee.Fk)(e=>e.getCurrentPage()?.responsiveSetSettings?.faviconID),D=(0,q.Um)(),F=(0,j.dh)(),U=(0,j.nn)(),G=(0,ol.OT)(),V=(0,E.md)(on.h0),[z]=(0,E.fp)(ob.l7);(0,oC.U)();let[W,Y]=n.useState(!1);return n.useEffect(()=>{w&&!x&&Y(!0)},[x,w]),n.createElement(oL,{versionHistory:I,user:T,width:e,isReadOnly:t,currentPageGuid:F,currentPageName:U,pagesList:a,activeTab:r,showTabs:i,faviconGuid:R,hasTeamLibraryUpdates:o,isDevHandoff:s,isDevHandoffOverview:u,disableCollapsing:p,isComparingChanges:_,isShowingSlidesCarousel:d,pageToNumChanges:f,openFile:S,selectedView:A,fileVersion:L,teams:O,loadingState:M,modalShown:P,dropdownShown:D,recordingKey:g,shouldShowGuids:y,dispatch:v,isLoadingPage:b.isLoading,isPagesOpenOverride:C,isLayersOpenOverride:W,isUI3:w,toggleIsCollapsed:()=>H.Y5.triggerAction("toggle-sidebar",{source:"pages-panel"}),showRedesignedAssetsPanel:k,markAssetPanelLoadingStart:N,publishableCanvasId:G,isSitesWebpagesOpen:V,onPageContextMenu:m,renamingPageId:z,ignoreVerticalFlex:h})}function oM(e){return n.createElement("div",{className:op.VB},e.isExpanded?n.createElement(o.O,null):n.createElement(s.k,null))}oI.displayName="PagesPanelView"},412371:(e,t,a)=>{a.d(t,{K:()=>d,g:()=>u});var n=a(411855),r=a(188507),l=a(374626),i=a(738269),o=a(259927),s=a(187882),c=a(653671);function d(){let e=(0,r.wA)();return(0,n.useCallback)(({nodeId:t,clientX:a,clientY:n})=>{e((0,i.j7)({type:o.SA,data:{clientX:a,clientY:n,pageId:t}}))},[e])}function u({pagesList:e,shouldShowDuplicateOption:t=!0}){let a=(0,r.wA)(),[d,u]=(0,l.fp)(c.cE);return(0,n.useCallback)(({nodeId:n,clientX:r,clientY:l})=>{let c=new Set(e.map(e=>e.nodeId)),m=d.filter(e=>c.has(e));m.length>0&&!m.includes(n)&&c.has(n)&&(m.push(n),u(m));let p=(()=>{if(m.length>0){let t=(0,s.Pe)(e);return[...m].sort((e,a)=>t[e]-t[a])}return[n]})();0!==p.length&&a((0,i.j7)({type:o.d2,data:{clientX:r,clientY:l,pageIds:p,shouldShowDuplicateOption:t}}))},[d,a,e,u,t])}},173521:(e,t,a)=>{a.d(t,{U:()=>p});var n=a(411855),r=a(188507),l=a(707458),i=a(866206),o=a(939683),s=a(625651),c=a(356390),d=a(177505),u=a(335682),m=a(140871);function p(){let e=(0,u.q5)(),t=window.FigmaMobile,a=(0,d.rE)(),p=(0,m.C3)(),_=(0,r.wA)(),f=(0,o.am)(),g=p?(0,i.oA)(p.pageNodeId):void 0;(0,n.useEffect)(()=>{t&&(t._select_page=async e=>{g===e&&_(s.au({})),await l.q.instance.setCurrentPageAsync(e)})},[_,t,g]),(0,n.useEffect)(()=>{t&&(t._rename_page=(t,a)=>{(0,d.CQ)({openFile:e,pageId:t,newName:a,trackRenamePage:()=>f("page_commit_rename",{nodeId:t},{forwardToDatadog:!0})})})},[t,e,f]),(0,n.useEffect)(()=>{t&&(t._delete_page=e=>{c.Y5.triggerActionInUserEditScope("page-delete",{args:{nodeId:e}}),c.Y5.commit()})},[t]),(0,n.useEffect)(()=>{t&&(t._create_page=()=>{a(null)})},[t,a])}},477759:(e,t,a)=>{a.d(t,{J:()=>eh});var n,r=a(411855),l=a(188507),i=a(587670),o=a(629019),s=a.n(o),c=a(939683),d=a(192437),u=a(493323),m=a(939863),p=a(74505),_=a(457630);function f(e){let t=e.mirror.sceneGraph,a=e.mirror.sceneGraphSelection;if(1!==Object.keys(a).length)return null;let n=t.get(Object.keys(a)[0]);return n&&"MEDIA"===n.type?n:null}var g=a(434192),h=a(77909);function E(e,t){let a={};return a.useValue=function(n){if(t&&a[n]&&t(n,a[n])&&delete a[n],!a[n]){let t=(0,h.v)();e(n).then(e=>t.resolve(e)).catch(e=>t.reject(e)),a[n]={deferred:t,created:Date.now()}}let{deferred:r}=a[n];switch(r.status){case"pending":throw r.promise;case"rejected":throw r.error;case"resolved":return r.result}},a}var y=a(356390),v=a(15859);let b=E(C);async function C(e){let t=await (0,g.doWithRetry)(()=>w(e),10,1e3);return await new Promise((a,n)=>{let r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",a),r.addEventListener("error",t=>{n(t.type+" loading the image with hash "+e)}),r.src=t}),t}async function w(e){let t=(await (0,v.Mj)([e],await y.Y5.openFilePromise()))[e];if(!t)throw Error("Couldn't resolve image URL from server");return t}var k=a(346124),x=a(380620),T=a(941670),N=a(538649),S=a(978488),I=a(43604),A=a(511617),L=a(157663),O=a(988652),M=a(794272),P=a(374626),R=a(563706),D=a(913016),F=a(30090),B=a(46481),U=a(259927),G=a(498606),H=a(754168);let V=E(K,(n=(e,t)=>Date.now()-t.created>6e4,(e,t)=>!t.deferred.result&&n(e,t)));async function K(e){return await (0,g.doWithRetry)(()=>z(e),20,1e3)}async function z(e){let t=await W(e);if(!t)throw Error("Couldn't resolve video URL from server");return t}async function W(e){let t=await y.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");try{let a=await H.S.getVideosDownload({fileKey:t.fileKey,hexHash:e});if(200!==a.status||a.data.error)throw Error("api error while resolving video");return a.data.meta.signed_url}catch(t){throw console.warn(`Couldn't download video with hash ${e}`),t}}let j=1/15;var q=a(70337);let Y="rich_media_overlay--loadingFallback---qUKd",X="rich_media_overlay--videoControlButton--syGqZ",J="rich_media_overlay--videoButtonIcon--13t7r",Z="rich_media_overlay--videoButtonMaximizedScale--8Hkj5",Q="rich_media_overlay--croppedClipPath--BeUH-";var $=a(68710),ee=a(10448),et=a(114843),ea=a(552601);let en={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function er(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:a}=(0,D._d)(e);return`${a}:${String(t).padStart(2,"0")}`}function el(e,t){e&&(t?(e.play(),R.Ay.safari&&(e.currentTime=.1)):eo(e)?e.pause():(R.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let ei=(0,r.memo)(({mediaHash:e,isMaximized:t,setIsMaximized:a})=>{let n=V.useValue(e),l=(0,c.am)(),i=(0,r.useRef)(null),[o,d,u,m]=function(){let[e,t]=r.useState(!1),a=r.useRef(null),n=()=>t(!0),l=()=>t(!1);return r.useEffect(()=>{let e=a.current;if(e)return e.addEventListener("mousemove",n),e.addEventListener("mouseleave",l),()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseleave",l)}},[a.current]),[r.useCallback(e=>{if(null!==a.current){let e=a.current;e&&(e.removeEventListener("mousemove",n),e.removeEventListener("mouseleave",l))}if(a.current=e,null!==a.current){let e=a.current;e&&(e.addEventListener("mousemove",n),e.addEventListener("mouseleave",l))}},[]),a,e,t]}(),p=r.useRef(null),_=r.useRef(!1),f=(0,M.R)(e=>e.openFile?.key)||"",g=(0,P.md)(q.v),[h,E]=(0,r.useState)(!1);return r.useEffect(()=>{g&&l("figjam_video_started_playing",{mediaHash:e})},[l,e,g]),r.useEffect(()=>{_.current||(_.current=!0,async function(){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let t=await (0,F.Fe)();if(p.current)return;let a=d.current;null!==a&&(a.style.height="100%",a.style.width="100%",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",p.current=t.videoJs(a,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{let t=`/api/files/${f}/videos/${e}/manifest`;await (0,F.uz)(t,!0,p.current)}catch{p.current&&(L.k.warn("Reverting to fallback video source"),p.current.src({type:"video/mp4",src:n}))}}))}())},[f,e,d,n]),(0,r.useEffect)(()=>{l("figjam_video_selected",{mediaHash:e})},[l,e]),r.createElement("div",{className:"rich_media_overlay--videoContainer--oC3oc",ref:i},r.createElement("div",{className:s()("rich_media_overlay--clippedVideo--JljnC",t?"rich_media_overlay--noClipPath--ZooJK":Q)},r.createElement("video",{ref:o,crossOrigin:"anonymous",autoPlay:g&&!R.Ay.safari,className:s()("rich_media_overlay--video--O6uP2",t&&U.s4,t&&"rich_media_overlay--maximizedVideoBg--FUhbn"),onMouseUp:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},controls:R.Ay.isIpad&&t,onClick:function(){t&&el(d.current,h)}})),r.createElement(es,{videoRef:d,videoContainerRef:i,isMaximized:t,setIsMaximized:a,isVideoHovered:u,setIsVideoHovered:m,didAutoplayOnSelection:g,mediaHash:e,hasEnded:h,setHasEnded:E}))});function eo(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function es({videoRef:e,isMaximized:t,setIsMaximized:a,isVideoHovered:n,videoContainerRef:l,setIsVideoHovered:i,didAutoplayOnSelection:o,mediaHash:d,hasEnded:m,setHasEnded:p}){let[g,h]=(0,r.useState)(0),E=(0,r.useRef)(!1),y=(0,r.useRef)(o),[v,b]=(0,r.useState)(null),[C,w]=(0,r.useState)(!1),[k,x]=(0,r.useState)(!1),T=(0,c.am)(),[N,S]=(0,O.M)(),[I,L]=(0,O.M)(),D=function(){let[e,t]=(0,r.useState)(!0),a=(0,M.R)(f),n=(0,_.qc)((0,_._X)({subscribeToUpdates_expensive:!1}));return(0,r.useEffect)(()=>{let e=0,r=a?.size;r&&(e=r.x*r.y),t(e/(n.height*n.width)<j)},[a?.size,n.height,n.width]),e}(),F=function(){let[e,t]=(0,r.useState)(!0),a=(0,M.R)(f),n=(0,_._X)({subscribeToUpdates_expensive:!1}),l=a?.size;return(0,r.useEffect)(()=>{l&&t(l.x*n.zoomScale<96||l.y*n.zoomScale<96)},[l,n.zoomScale]),e}(),B=(0,r.useRef)(!1),[G,H]=(0,P.fp)(q.H),{isVideoNodeHovered:V,pointerDownOnVideo:K}=G,z=(0,r.useRef)(!1),W=t&&(n||L),X=v||e.current?.currentTime,J=e.current?.duration,Z=eo(e.current),$=(0,r.useRef)(void 0),ee=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{let e=(R.Ay.isIpad?K:V)||S||W||!Z||m||B.current;x(e),clearTimeout($?.current),e&&($.current=setTimeout(()=>{m||!Z||S||B.current||(x(!1),i(!1),H({isVideoNodeHovered:!1,pointerDownOnVideo:!1}))},3e3))},[m,W,Z,V,S,i,H,K]);let et=(0,r.useCallback)(()=>{h(e=>e+1)},[]);(0,r.useEffect)(()=>{if(!e.current||!l.current)return;function n(){et()}function r(){B.current=!1}function i(){B.current=!1,p(!1)}function o(){p(!1),et()}function s(){B.current=!0}function c(){a(!t)}function d(){C||p(!0),et()}let u=e.current,m=l.current;return u.addEventListener("playing",o),u.addEventListener("canplay",n),u.addEventListener("ended",d),u.addEventListener("timeupdate",n),u.addEventListener("seeking",s),u.addEventListener("seeked",i),u.addEventListener("stalled",r),m.addEventListener(A.R7.fullscreenChangeEventName,c),()=>{u?.removeEventListener("playing",o),u?.removeEventListener("canplay",n),u?.removeEventListener("ended",d),u?.removeEventListener("timeupdate",n),u?.removeEventListener("seeking",s),u?.removeEventListener("seeked",i),u?.removeEventListener("stalled",r),m?.removeEventListener(A.R7.fullscreenChangeEventName,c)}},[t,C,et,p,a,l,e]);let ea=(0,r.useCallback)(()=>{e.current&&(!1===y.current&&(y.current=!0,T("figjam_video_started_playing",{mediaHash:d})),el(e.current,m),et())},[m,d,et,T,e]),en=(0,r.useCallback)(()=>{e.current&&(E.current=eo(e.current)||m,e.current.pause())},[m,e]),ei=(0,r.useCallback)(()=>{e.current&&(E.current&&e.current.play(),ee.current&&(e.current.currentTime=ee.current),b(null),ee.current=void 0)},[e]),es=(0,r.useCallback)(t=>{if(e.current){if(B.current){ee.current=t;return}e.current.currentTime=t}},[e]),eu=r.createElement(ep,{togglePlay:ea,hasEnded:m,isPlaying:Z,shouldShowVideoControls:k,isMaximized:t});return(!e.current||2>(e.current?.readyState||0))&&!z.current?r.createElement("div",{className:s()(Y,Q,"rich_media_overlay--videoLoadingState--bxjOn")},r.createElement(u.kt,{size:"large"})):(z.current=!0,R.Ay.isIpad&&t)?null:D?k&&!F?eu:null:r.createElement(r.Fragment,null,v?null:eu,r.createElement("div",{className:s()(U.Uu,"rich_media_overlay--videoControls--Zyzyj",!k&&"rich_media_overlay--videoControlsHidden--BM1Cp"),ref:I},r.createElement("div",{className:"rich_media_overlay--videoTime--nsc6o"},er(X)," / ",er(J)),r.createElement(em,{currentTime:X||0,totalTime:J||0,onScrubStart:en,onScrub:b,onScrubEnd:ei,onVideoPositionUpdated:es,hasEnded:m,isScrubbing:C,setIsScrubbing:w}),r.createElement("div",{className:"rich_media_overlay--videoRightControls--N0YPD"},r.createElement(ec,{isMaximized:t,toggleFullscreen:function(){if(t||document.fullscreenElement)A.R7.exitFullscreenFunc();else if(R.Ay.isIpad){let t=e.current;t&&t.webkitEnterFullscreen&&t.webkitEnterFullscreen()}else{let e=l.current;e&&A.R7.requestFullscreenFunc.call(e)}}}),r.createElement(ed,{rerender:et,videoRef:e,volumeHoverRef:N}))))}function ec({isMaximized:e,toggleFullscreen:t}){let a=e?r.createElement(T.p,{className:J}):r.createElement(N.O,{className:J});return r.createElement("div",null,r.createElement(x.E,{onClick:t,className:X,htmlAttributes:{"data-tooltip":e?(0,m.t)("whiteboard.video.minimize_tooltip"):(0,m.t)("whiteboard.video.fullscreen_tooltip"),"data-tooltip-type":G.Ib.TEXT}},r.createElement("span",{"aria-hidden":!0},r.createElement(B.U,{svg:e?ea.A:et.A},a))))}function ed({rerender:e,videoRef:t,volumeHoverRef:a}){let[n,l]=(0,r.useState)(!1),i=(0,r.useRef)(1),[o,c]=(0,r.useState)(t.current?.volume||1),d=0===o,u=n&&!R.Ay.isIpad,p=(0,r.useCallback)(()=>{t.current&&(t.current.muted?(t.current.muted=!1,t.current.volume=i.current,c(i.current)):(t.current.volume>0&&(i.current=t.current.volume),t.current.muted=!0,c(0)),e())},[e,t]),_=d?r.createElement(S.P,{className:J}):r.createElement(I.L,{className:J});return r.createElement("div",{ref:a},r.createElement(x.E,{onClick:p,className:s()(X,"rich_media_overlay--lastVideoControl--pU-xF",u&&"rich_media_overlay--selectedVolumeControlButton--IR-FO"),htmlAttributes:{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),"data-tooltip":d?(0,m.t)("whiteboard.video.unmute_tooltip"):(0,m.t)("whiteboard.video.mute_tooltip"),"data-tooltip-type":G.Ib.TEXT}},r.createElement("span",{"aria-hidden":!0},r.createElement(B.U,{svg:d?ee.A:$.A},_))),u?r.createElement(eu,{volume:o,handleChange:e=>{let a=e.target.valueAsNumber;t.current&&(t.current.volume=a,t.current.muted=0===a),c(a)},setIsHovered:l}):null)}function eu({handleChange:e,setIsHovered:t,volume:a}){let n=100*a,l=(0,r.useRef)(null);return r.createElement("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:"rich_media_overlay--volumeContainer--Wb1Hq"},r.createElement("div",{className:"rich_media_overlay--volumeBox--qpdbu"},r.createElement("input",{className:s()("rich_media_overlay--volumeSliderInput--W1-jD",U.Dm,U.Uu),style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:a,onChange:e,onKeyDown:function(e){e?.key==="Escape"&&t(!1)},onMouseUp:function(){l.current instanceof HTMLInputElement&&l.current.blur()},ref:l})))}function em({currentTime:e,totalTime:t,hasEnded:a,onVideoPositionUpdated:n,onScrubStart:l,onScrub:i,onScrubEnd:o,isScrubbing:s,setIsScrubbing:c}){let[d,u]=(0,r.useState)(!1),m=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(s&&p.current)return document.addEventListener("pointermove",e),document.addEventListener("pointerup",a),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",a)};function e(e){if(!p.current)return;let a=e.clientX,{minX:r,maxX:l}=p.current,o=(0,k.clamp)(0,(a-r)/(l-r)*t,t);p.current.newTime=o,i(o),n(p.current.newTime)}function a(){p.current&&(n(p.current.newTime),c(!1),o(),p.current=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur())}},[s,i,o,n,c,t]);let _=Math.min(e/t*100,100),f=_>0?8:0;return R.Ay.safari&&a&&(_=100),r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberContainer--PnJdg",onPointerEnter:()=>u(!0),onPointerLeave:()=>u(!1)},r.createElement("div",{role:"progressbar",tabIndex:0,className:"rich_media_overlay--videoTimeScrubber--9PES-",onPointerDown:e=>{if(!m.current)return;e.stopPropagation(),c(!0),l();let a=m.current.getBoundingClientRect(),r=a.x,i=a.x+a.width,o=e.clientX,s=(0,k.clamp)(0,(o-r)/(i-r)*t,t);n(s),p.current={minX:r,maxX:i,originX:e.clientX,newTime:s}}},r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberBackground--6Aulh",ref:m}),r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberProgress--73GkN",style:{width:`${_}%`}}),(d||s)&&r.createElement("div",{className:"rich_media_overlay--videoTimeScrubberNub--9iFdo",style:{left:`calc(${_}% - ${f}px)`},onPointerDown:t=>{if(!m.current)return;t.stopPropagation(),c(!0),l();let a=m.current.getBoundingClientRect();p.current={minX:a.x,maxX:a.x+a.width,originX:t.clientX,newTime:e}},role:"button",tabIndex:0})))}function ep({shouldShowVideoControls:e,togglePlay:t,hasEnded:a,isPlaying:n,isMaximized:l}){let[i,o]=(0,O.M)(),c=o?en.BUTTON_BG_FILL_HOVER_OPACITY:en.BUTTON_BG_FILL_OPACITY;return r.createElement("button",{ref:i,className:s()(U.Uu,"rich_media_overlay--videoButton--WB1tD",!e&&"rich_media_overlay--videoButtonHidden--7x6yl"),onPointerDown:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),t()}},r.createElement(a?e_:n?eg:ef,{fillOpacityForBackground:c,isMaximized:l}))}function e_({fillOpacityForBackground:e,isMaximized:t}){return r.createElement("svg",{className:s()(t&&Z),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:en.BUTTON_BG_FILL,fillOpacity:e}),r.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:en.BUTTON_SHAPE_FILL}),r.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:en.BUTTON_BG_FILL,strokeOpacity:en.BUTTON_STROKE_OPACITY}))}function ef({fillOpacityForBackground:e,isMaximized:t}){return r.createElement("svg",{className:s()(t&&Z),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip0_403_4259)"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL,fillOpacity:e}),r.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:en.BUTTON_SHAPE_FILL})),r.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:en.BUTTON_BG_FILL,strokeOpacity:en.BUTTON_STROKE_OPACITY}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_403_4259"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL}))))}function eg({fillOpacityForBackground:e,isMaximized:t}){return r.createElement("svg",{className:s()(t&&Z),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{clipPath:"url(#clip0_1_16)"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL,fillOpacity:e}),r.createElement("path",{d:"M15 15H21V33H15V15Z",fill:en.BUTTON_SHAPE_FILL}),r.createElement("path",{d:"M27 15H33V33H27V15Z",fill:en.BUTTON_SHAPE_FILL})),r.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:en.BUTTON_BG_FILL,strokeOpacity:en.BUTTON_STROKE_OPACITY}),r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_1_16"},r.createElement("rect",{width:"48",height:"48",rx:"24",fill:en.BUTTON_BG_FILL}))))}let eh=r.memo(function(){let e=(0,l.d4)(f);return e&&e.richMediaInfo&&r.createElement(eE,{key:e.richMediaInfo.mediaHash,nodeGuid:e.guid,mediaHash:e.richMediaInfo.mediaHash,mediaType:e.richMediaInfo.richMediaType})}),eE=r.memo(function(e){let{nodeGuid:t,mediaHash:a,mediaType:n}=e,l=r.useRef(null),i=r.useRef(null),o=(0,_._X)({subscribeToUpdates_expensive:!0}),[c,u]=r.useState(!1);return r.useEffect(()=>{let e=(0,p.EE)("rich-media",[t],e=>{i.current=e.position,eC(l,o,i,c)});return i.current=e.currentNodePosition[t]?.position||null,eC(l,o,i,c),()=>{(0,p.lB)("rich-media")}},[t,o,c]),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,className:s()("rich_media_overlay--richMediaOverlay--G9rnR",{"rich_media_overlay--maximizedMediaPositioner--vewL5":c})},r.createElement(d.tH,{fallback:r.createElement(ev,{mediaType:n,mediaHash:a}),boundaryKey:"Video"},r.createElement(r.Suspense,{fallback:r.createElement(ey,null)},"ANIMATED_IMAGE"===n&&r.createElement(eb,{mediaHash:a}),"VIDEO"===n&&r.createElement(ei,{mediaHash:a,setIsMaximized:u,isMaximized:c})))))});function ey(){return r.createElement("div",{className:s()(Y,Q)},r.createElement(u.kt,{size:"large"}))}function ev({mediaHash:e,mediaType:t}){let a=(0,m.tx)("whiteboard.gif.failed_to_load");return"VIDEO"===t&&(a=(0,m.tx)("whiteboard.video.failed_to_load"),i.tHB.isVideoBeingUploaded(e)&&(a=(0,m.tx)("whiteboard.video.still_uploading"))),r.createElement("div",{className:s()(Y,Q)},r.createElement("div",{className:"rich_media_overlay--errorText--upGwm text--fontNeg16--JtecD text--_fontBase--QdLsd text--_negText--j9g-L"},a))}function eb({mediaHash:e}){let t=b.useValue(e),a=(0,c.am)();return r.useEffect(()=>{a("figjam_gif_started_playing")},[a]),r.createElement("img",{crossOrigin:"anonymous",style:{height:"100%",backgroundColor:"white",width:"100%"},src:t,alt:"",className:Q})}function eC(e,t,a,n){if(!e.current||!t||!a.current)return;let r=e.current;if(n)r.style.position="fixed",r.style.height="auto",r.style.width="auto",r.style.transform="none",r.style.pointerEvents="all";else{let e=a.current,n=(0,_.Yb)(t,e);r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transform=`translate(${n.x+t.x}px, ${n.y+t.y}px) rotate(${e.angle}deg)`,r.style.transformOrigin="top left"}}},135298:(e,t,a)=>{a.d(t,{j:()=>C});var n=a(411855),r=a(188507),l=a(39108),i=a(629019),o=a.n(i),s=a(153234),c=a(939863),d=a(103907),u=a(226055),m=a(728325),p=a(356390),_=a(779709),f=a(498606),g=a(279145),h=a(233890),E=a(368702),y=a(861717),v=a(334290),b=a(157147);function C(){let e=(0,u.GS)(),t=s.Pt("toolbarView",b.ec.recordingKey);return e?n.createElement(w,{recordingKey:t}):n.createElement(v.jX,{recordingKey:t})}function w({recordingKey:e}){let t=(0,n.useRef)(null),a=(0,r.d4)(e=>(0,g.Yh)(e.mirror.appModel,b.ec.action)&&!!e.openFile),i=(0,r.d4)(e=>e.mirror.appModel.currentTool===b.ec.tool),s=(0,d.n6)(),u=_.z4.getIsExtension();(0,n.useEffect)(()=>{!i&&t.current&&t.current===document.activeElement&&h.F2.focusCustomCanvasFocusElement()},[i,t]),(0,n.useEffect)(()=>{if(a&&i){let e=!0;return(0,E.W)("right",()=>{e&&p.Y5.triggerAction("set-tool-default")}),()=>{e=!1}}},[a,i]);let v=!u&&s>0;return n.createElement(y.Z,{tooltip:{type:f.Ib.LOOKUP,key:b.ec.action,ariaLabel:(0,c.t)(v?"fullscreen.accessibility.view_comments_with_unreads":"fullscreen.accessibility.view_comments")},isActive:i,onClick:function(e){if(!a)return;let n=e.nativeEvent instanceof KeyboardEvent;i?(p.Y5.triggerAction("set-tool-default"),n&&t.current?.focus()):m.VU.get(b.ec.action,"toolbar")(e)},recordingKey:e,onboardingKey:b.ec.onboardingKey,disabled:!a,dataTestId:b.ec.action,ref:t},n.createElement("div",{className:o()("figjam_comments_toolbar_item--iconContainer--4S5T1",{"figjam_comments_toolbar_item--withUnreadIndicator--JLSN4":v})},n.createElement("div",{className:"figjam_comments_toolbar_item--iconMask--a0fae"},n.createElement(l.f,null))))}},209234:(e,t,a)=>{a.d(t,{P:()=>p});var n=a(411855),r=a(629019),l=a.n(r),i=a(522739),o=a(574176),s=a(672517),c=a(516398),d=a(498606),u=a(136297);let m=(0,n.memo)(function(e){let{tooltipText:t,isActive:a,onClick:r,recordingKey:s,addLeftMargin:m,dataElementTarget:p,onboardingKey:_,disabled:f,dataTestId:g}=e,h="text"in e&&!!e.text,E=l()((0,u.M)(!f,a),{"figjam_toolbar_item_ui2--toolButtonWithText--MYCBd":h,"figjam_toolbar_item_ui2--toolButtonContainer--oJdfs":!0,"figjam_toolbar_item_ui2--toolButtonContainerWithMargin--EaCDo":m});return n.createElement(i.GG,{className:l()(E,"figjam_toolbar_item_ui2--iconButton--v3qiH toolbar_view--iconButton--1MUm6"),"data-tooltip-type":d.Ib.TEXT,"data-testid":g,"data-tooltip":t,"data-element-target":p,onKeyDown:e=>(0,c.hx)({e,onClickHandler:r}),onClick:r,recordingKey:s,tabIndex:0,"aria-label":t,"aria-pressed":a,"data-fullscreen-intercept":!0,"data-onboarding-key":_,disabled:f},"icon"in e&&n.createElement(o.B,{svg:e.icon}),h&&n.createElement("div",null,e.text),"children"in e&&n.createElement(n.Fragment,null,e.children))}),p=(0,s.tf)(m)},325621:(e,t,a)=>{a.d(t,{K:()=>p,m:()=>m});var n=a(411855),r=a(188507),l=a(126049),i=a(966712),o=a(860601),s=a(939863),c=a(279145),d=a(538411);function u({children:e}){let[t,a]=(0,n.useState)(null),r=(0,l.A)(()=>a(!0),500),i=t?o.lQ:r;return(0,n.useEffect)(i),t&&n.createElement("div",{className:d.Q,role:"status"},e)}function m(){let e=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts),t=(0,c.c1)(e,"present-as-prototype");return(0,r.d4)(e=>e.screenreader.enabled)&&(0,i.kc)().a11y_design_dom_mirror?null:n.createElement(u,null,(0,s.tx)("fullscreen.toolbar.screenreader_notice",{shortcut:t}))}function p(){let e=(0,r.d4)(e=>e.mirror.appModel.keyboardShortcuts);if((0,r.d4)(e=>e.screenreader.enabled))return null;let t=(0,c.c1)(e,"open-shortcuts").replace("?",(0,s.t)("general.question_mark")),a=(0,c.c1)(e,"toggle-menu");return n.createElement(u,null,(0,s.tx)("fullscreen.toolbar.screenreader_notice_figjam",{shortcut:t,quickActionsShortcut:a}))}},983092:(e,t,a)=>{a.d(t,{$p:()=>W,C_:()=>V,Fr:()=>z,IU:()=>H,J7:()=>q,Ty:()=>Y,hG:()=>X,iG:()=>G,oN:()=>j});var n=a(411855),r=a(188507),l=a(634832),i=a(752795),o=a(421757),s=a(587670),c=a(89865),d=a.n(c),u=a(91408),m=a(320063),p=a(153234),_=a(776621),f=a(286640),g=a(946689),h=a(659838),E=a(939863),y=a(175290),v=a(632430),b=a(877953),C=a(662531),w=a(869156),k=a(318812),x=a(173454),T=a(498606),N=a(7959),S=a(538697),I=a(761334),A=a(746806),L=a(894742),O=a(282263),M=a(564092),P=a(15270),R=a(656963),D=a(860168),F=a(315072),B=a(424148);let U=2*(0,u.jz)(D.dGl),G=304;function H({initialPosition:e,initialValue:t,resolvedType:a,onCreateVariable:r,onClose:l}){(0,I.NF)({resolvedType:a});let{onCreateVariableSubmit:i}=V({onCreateVariable:r,onClose:l});return n.createElement(K,{initialPosition:e,initialValue:t,resolvedType:a,onCreateVariableSubmit:i,onClose:l,recordingKey:"createVariableModal"})}function V({onCreateVariable:e,onClose:t}){return{onCreateVariableSubmit:function({varSetID:a,varName:n,varValue:r}){if(!s.CWU.isValidVariableName(n,a)){(0,_.x1)("variables","Attempted to submit variable name that is invalid",{varName:n,_varSetID:a});return}C.l7.user("create-variable",()=>{let t=a??s.CWU.createVariableSet((0,E.t)("variables.variable_collection"),s.G6k.AUTOMATIC_FIRST_COLLECTION),i=s.CWU.createVariable(n,t,r,s.HS4.VARIABLE_PICKER),o=s.CWU.getLocalVariableInfo(i);(0,l.assertNotNullish)(o,`variable with id ${i} not found`),e((0,x.kz)(o))}),t()}}}function K({initialPosition:e,initialValue:t,resolvedType:a,recordingKey:r,onCreateVariableSubmit:l,onClose:i}){return n.createElement(A.vx,{title:n.createElement("div",{className:F.h$},(0,E.tx)("variables.create_modal.title")),initialPosition:e,initialWidth:G,onClose:i},n.createElement(Y,{resolvedType:a,initialValue:t,recordingKey:p.Pt(r,"createVariableForm"),onSubmit:l}))}function z(e){let t=(0,w.BQ)(e.type===s.Z_n.ALIAS?e.value:void 0);return(0,i.isNotNullish)(t)&&"MIXED"!==t?t:null}function W({label:e,input:t}){return n.createElement(y.Y,{spacing:0,horizontalAlignItems:"space-between",height:"hug-contents",padding:{horizontal:U}},n.createElement(N.JU,null,e),t)}function j(e){(0,n.useEffect)(()=>{let t=e.current;if(!t)return;let a=e=>e.preventDefault();return t.addEventListener("contextmenu",a),()=>{t.removeEventListener("contextmenu",a)}},[e])}function q(e,t,a){let l=(0,r.wA)();return(0,n.useCallback)(async n=>{if(n){let e=await l((0,v.Oe)(n));a((0,M.y$)(t,e))}else e.type===s.Z_n.ALIAS&&a((0,P.WI)(t))},[l,e,t,a])}function Y({resolvedType:e,initialValue:t,recordingKey:a,onSubmit:r}){let l=(0,n.useRef)(null);j(l);let i=(0,b.C)("fpl_variables_button_migration"),[c,d]=(0,n.useState)({varName:"",varValue:t??(0,P.WI)(e),varSetID:null}),m=n.useMemo(()=>s.CWU.isValidVariableName(c.varName??"",c.varSetID??null),[c]),_=p.of(a,"submit",()=>{m&&r({varName:c.varName,varValue:c.varValue,varSetID:c.varSetID??null})});return n.createElement("form",{onSubmit:_,autoComplete:"no"},n.createElement(y.Y,{direction:"vertical",spacing:0,height:"hug-contents",ref:l},n.createElement(y.Y,{direction:"vertical",spacing:`${(0,u.jz)(D.dGl)}px`,padding:{top:U},height:"hug-contents"},n.createElement(X,{recordingKey:a??"",initialVarValue:t,resolvedType:e,setVariableFormSubmitData:d,variableFormSubmitData:c}))),n.createElement(y.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},i?n.createElement(o.$n,{type:"submit",disabled:!m,recordingKey:p.Pt(a,"createButton"),htmlAttributes:{"data-tooltip":(0,E.t)("variables.create_modal.invalid_variable_name"),"data-tooltip-type":m?void 0:T.Ib.TEXT}},(0,E.tx)("variables.create_modal.create_button")):n.createElement(g.$$,{style:{justifySelf:"right"},tabIndex:0,type:"submit",disabled:!m,recordingKey:p.Pt(a,"createButton"),"data-tooltip-type":m?void 0:T.Ib.TEXT,"data-tooltip":(0,E.t)("variables.create_modal.invalid_variable_name")},n.createElement("span",null,(0,E.tx)("variables.create_modal.create_button")))))}function X({recordingKey:e,initialVarValue:t,resolvedType:a,setVariableFormSubmitData:r,variableFormSubmitData:l}){let i=(0,w.yp)(),[o,s]=(0,f.Vc)("last-used-variable-set-bottoms-up",i.length>0?i[0].node_id:null),c=(0,n.useMemo)(()=>{let e=i.find(e=>e.node_id===o);return!e&&i.length>0?i[0]:e},[i,o]),d=(0,w.rW)(c?.node_id??null),u=(0,n.useRef)(null);function _(e,t,a){r({varName:e,varValue:t,varSetID:a})}function g(e){_(l.varName,e,l.varSetID)}(0,m.h)(()=>{u.current?.select(),_((0,P.Wc)(d,a),t??(0,P.WI)(a),c?.node_id??null)});let y=z(l.varValue),v=q(l.varValue,a,g);return n.createElement(n.Fragment,null,i.length>0&&!!c&&n.createElement(W,{label:(0,E.tx)("variables.create_modal.collection_label"),input:n.createElement("div",{className:F.hF},n.createElement(J,{selectedVariableSetID:c.node_id,variableSets:i,onChange:e=>{s(e),_(l.varName,l.varValue,e)}}))}),n.createElement(W,{label:(0,E.tx)("variables.create_modal.name_label"),input:n.createElement(h.L,{className:F._Z,name:"variableName",value:l.varName,onChange:e=>{_(e.target.value,l.varValue,l.varSetID)},ref:u,recordingKey:p.Pt(e,"variableNameInput"),delay:50,"data-1p-ignore":!0,autoFocus:!0})}),n.createElement(W,{label:(0,E.tx)("variables.create_modal.value_label"),input:n.createElement("div",{className:F.hF},n.createElement(O.Cr,{resolvedType:a,variableValue:l.varValue,onVariableValueChange:e=>g(e),onVariableSelected:v},n.createElement(R.g,{variableValue:l.varValue,contextType:L.$.FORM,onChange:e=>g(e),recordingKey:p.Pt(e,"variableValueInput")}),y&&n.createElement(N.K0,{svg:B.A,type:"button","data-tooltip-type":T.Ib.TEXT,"data-tooltip":(0,E.t)("variables.authoring_modal.table.detach_alias"),onClick:()=>g(y),recordingKey:p.Pt(e,"detachVariableButton")})))}))}function J({selectedVariableSetID:e,variableSets:t,onChange:a}){let l=(0,r.wA)(),i=(0,k.Um)(),o=(0,n.useMemo)(()=>d()(t,e=>e.node_id),[t]);return n.createElement(S.l6,{id:"variable-create-modal-variable-set-select",property:o[e],formatter:{format:e=>e?.name??""},dispatch:l,chevronClassName:F.mL,inputClassName:F.NI,dropdownShown:i,onChange:e=>a(e.node_id)},t.map(function(e){return n.createElement(S.c$,{key:e.node_id,value:e})}))}},205698:(e,t,a)=>{a.d(t,{n:()=>p});var n=a(411855),r=a(188507),l=a(939863),i=a(738269),o=a(318812),s=a(555328),c=a(498606),d=a(933464),u=a(227795),m=a(501191);function p(e){let t=(0,r.wA)(),a=(0,o.Um)(),p=a?.type===d.kt,_=n.useCallback(e=>{p?t(i.oB()):t(i.j7({type:d.kt,data:{targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,p]);return n.createElement(n.Fragment,null,n.createElement(u.K0,{svg:m.A,"data-tooltip-type":c.Ib.TEXT,"data-tooltip":e.resourceType===s.bD.WIDGET?(0,l.t)("community.plugins.create_new_widget"):(0,l.t)("community.plugins.create_new_plugin"),onClick:_}),p&&n.createElement(d.Pq,{resourceType:e.resourceType}))}},361555:(e,t,a)=>{a.d(t,{W:()=>h});var n=a(411855),r=a(188507),l=a(946689),i=a(574176),o=a(762638),s=a(939863),c=a(738269),d=a(469757);function u(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5594 4.51951C27.2967 3.55473 29.3688 3 31.5833 3C33.7979 3 35.87 3.55473 37.6073 4.51951L36.6363 6.26799C35.2024 5.47169 33.4655 5 31.5833 5C29.7012 5 27.9643 5.47169 26.5304 6.26799L25.5594 4.51951ZM40.1279 6.44958C41.6462 8.03598 42.5833 10.0811 42.5833 12.3333C42.5833 13.1443 42.4615 13.9318 42.2328 14.6823L40.3197 14.0993C40.492 13.5337 40.5833 12.9425 40.5833 12.3333C40.5833 10.6589 39.8909 9.09446 38.683 7.83249L40.1279 6.44958ZM20.5833 12.3333C20.5833 10.0811 21.5204 8.03598 23.0388 6.44958L24.4837 7.83249C23.2758 9.09446 22.5833 10.6589 22.5833 12.3333C22.5833 12.9425 22.6746 13.5337 22.847 14.0993L20.9339 14.6823C20.7052 13.9318 20.5833 13.1443 20.5833 12.3333ZM40.5429 17.7548C41.0494 17.1527 41.4763 16.4937 41.8068 15.7886L39.9959 14.9398C39.7426 15.4802 39.4111 15.9939 39.0096 16.4706C38.5701 16.9926 38.4772 17.6483 38.5592 18.1861C39.3313 18.0684 40.5364 17.8847 40.5364 17.8847C40.5289 17.8355 40.5321 17.7961 40.5377 17.7719C40.5397 17.7629 40.5417 17.7575 40.5429 17.7548ZM22.6273 17.7589C22.1192 17.1557 21.6911 16.4953 21.3598 15.7886L23.1708 14.9398C23.4241 15.4802 23.7556 15.9939 24.1571 16.4706C24.5966 16.9926 24.6894 17.6483 24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C22.6378 17.8355 22.6346 17.7961 22.629 17.7719C22.6238 17.7492 22.619 17.7491 22.6273 17.7589ZM12.7855 18.8279C13.5007 18.3073 14.3826 18 15.3333 18H18.2724V20H15.3333C14.8195 20 14.3471 20.1649 13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279ZM19.7419 18H22.6229H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C24.047 19.4991 23.4839 20 22.681 20H19.7419V18ZM40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438H43.7581V20H40.4856C39.6827 20 39.1196 19.4991 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095ZM45.3943 18H48.6667C51.0599 18 53 19.9401 53 22.3333V26.7778H51V22.3333C51 21.0447 49.9553 20 48.6667 20H45.3943V18ZM11 22.3333C11 21.3826 11.3073 20.5007 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.1649 21.3471 13 21.8195 13 22.3333V25.4391H11V22.3333ZM11 30.0977V26.9919H13V30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218C12.9842 30.0218 12.3942 31.0763 12.0162 31.752C11.5009 31.4637 11 30.9006 11 30.0977ZM18.6667 30C18.0575 30 17.4663 30.0913 16.9007 30.2637L16.3177 28.3505C17.0682 28.1218 17.8557 28 18.6667 28C20.9189 28 22.964 28.9371 24.5504 30.4555L23.1675 31.9003C21.9055 30.6924 20.3411 30 18.6667 30ZM16.0602 30.5874C15.5198 30.8407 15.0061 31.1722 14.5294 31.5737C14.0074 32.0133 13.3517 32.1061 12.8139 32.0241C12.9316 31.252 12.9976 30.8191 13.1153 30.047C13.1645 30.0545 13.2039 30.0512 13.2281 30.0457C13.2371 30.0436 13.2425 30.0416 13.2452 30.0404C13.8473 29.5339 14.5063 29.107 15.2114 28.7765L16.0602 30.5874ZM53 29V37.8889H51V29H53ZM26 39C26 37.1179 25.5283 35.381 24.732 33.9471L26.4805 32.9761C27.4453 34.7134 28 36.7854 28 39C28 41.2146 27.4453 43.2866 26.4805 45.0239L24.732 44.0529C25.5283 42.619 26 40.8821 26 39ZM53 40.1111V49H51V40.1111H53ZM12.8139 45.9759C13.3517 45.8939 14.0074 45.9867 14.5293 46.4263C15.0061 46.8278 15.5198 47.1593 16.0602 47.4126L15.2114 49.2235C14.5063 48.893 13.8473 48.466 13.2452 47.9596C13.2425 47.9584 13.2371 47.9564 13.2281 47.9543C13.2039 47.9487 13.1645 47.9455 13.1153 47.953C13.1153 47.953 12.9316 46.748 12.8139 45.9759ZM18.6667 48C20.3411 48 21.9055 47.3076 23.1675 46.0997L24.5504 47.5445C22.964 49.0629 20.9189 50 18.6667 50C17.8557 50 17.0682 49.8782 16.3177 49.6495L16.9007 47.7363C17.4663 47.9087 18.0575 48 18.6667 48ZM11 47.9023C11 47.0994 11.5009 46.5363 12.0162 46.248C12.3942 46.9237 12.9842 47.9782 12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605V51.0081H11V47.9023ZM53 51.2222V55.6667C53 58.0599 51.0599 60 48.6667 60H44.2222V58H48.6667C49.9553 58 51 56.9553 51 55.6667V51.2222H53ZM11 55.6667V52.5609H13V55.6667C13 56.1805 13.1649 56.6529 13.4449 57.0376L11.8279 58.2145C11.3073 57.4993 11 56.6174 11 55.6667ZM15.3333 60C14.3826 60 13.5007 59.6927 12.7855 59.1721L13.9624 57.5551C14.3471 57.8351 14.8195 58 15.3333 58H19.7778V60H15.3333ZM30.8889 60H22V58H30.8889V60ZM42 60H33.1111V58H42V60Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279C12.3424 19.1503 12.1474 19.3465 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.6139 20.7303 13.7189 20.6222 13.9624 20.4449Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M13 30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218L12.0162 31.752C12.2838 31.9017 12.5 31.9763 12.8139 32.0241C12.8139 32.0241 12.9976 30.8191 13.1153 30.047C13.0703 30.0441 13 30.0395 13 30.0395Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M13.1153 47.953L12.8139 45.9759C12.6557 46 12.195 46.1479 12.0162 46.248L12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605L13.1153 47.953Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C23.2962 18.3139 23.6695 18.5546 24.3353 18.9838C24.451 18.7772 24.5564 18.5211 24.6075 18.1861Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M22.6229 18H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C23.6695 18.5546 23.2962 18.3139 22.6303 17.8847C22.6274 17.9297 22.6229 18 22.6229 18Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{d:"M40.5364 17.8847C40.5364 17.8847 39.3313 18.0684 38.5592 18.1861C38.5768 18.3016 38.6904 18.7319 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438L40.5364 17.8847Z",fill:"var(--color-icon-tertiary)"}))}function m(){return n.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.4987 5.63364L31.9998 2.13477L28.501 5.63364L29.9152 7.04785L31.9998 4.96319L34.0845 7.04785L35.4987 5.63364ZM5.63785 28.4967L7.05206 29.911L4.96319 31.9998L7.05206 34.0887L5.63785 35.5029L2.13477 31.9998L5.63785 28.4967ZM28.5009 58.3659L29.9151 56.9517L31.9998 59.0365L34.0846 56.9517L35.4988 58.3659L31.9998 61.8649L28.5009 58.3659ZM58.3702 35.4946L61.8649 31.9998L58.3702 28.5051L56.9559 29.9193L59.0365 31.9998L56.9559 34.0804L58.3702 35.4946ZM37.2481 7.38307L35.8339 8.79729L39.9186 12.8819H45.6994V10.8819H40.747L37.2481 7.38307ZM48.1756 10.8819V12.8819H51.1281V15.8344H53.1281V10.8819H48.1756ZM53.1281 18.3106H51.1281V24.0914L55.2086 28.1719L56.6228 26.7577L53.1281 23.263V18.3106ZM56.6228 37.2419L55.2086 35.8277L51.1281 39.9082V45.689H53.1281V40.7367L56.6228 37.2419ZM53.1281 48.1652H51.1281V51.1175H48.1757V53.1175H53.1281V48.1652ZM45.6995 53.1175V51.1175H39.9188L35.834 55.2023L37.2483 56.6165L40.7472 53.1175H45.6995ZM26.7514 56.6165L28.1656 55.2023L24.0809 51.1175H18.3085V53.1175H23.2525L26.7514 56.6165ZM15.8365 53.1175V51.1175H12.8925V48.1735H10.8925V53.1175H15.8365ZM10.8925 45.7015H12.8925V39.9291L8.80361 35.8402L7.38939 37.2545L10.8925 40.7575V45.7015ZM7.38939 26.7452L8.80361 28.1594L12.8925 24.0705V18.298H10.8925V23.2421L7.38939 26.7452ZM10.8925 15.826H12.8925V12.8819H15.8365V10.8819H10.8925V15.826ZM18.3086 10.8819V12.8819H24.0811L28.1657 8.79729L26.7515 7.38307L23.2527 10.8819H18.3086Z",fill:"var(--color-icon-tertiary)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3956 19.5055L26.4844 29.1128H41.4723L28.9966 45.6671L27.3994 44.4634L37.4607 31.1128H22.582L31.7721 18.3375L33.3956 19.5055Z",fill:"var(--color-icon-tertiary)"}))}var p=a(318812),_=a(933464),f=a(112512),g=a(501191);function h({isWidget:e}){let t=(0,r.wA)(),a=(0,p.Um)(),h=a?.type===_.kt,E=n.useRef(null),y=n.useCallback(e=>{h?t(c.oB()):t(c.j7({type:_.kt,data:{type:"pointing",targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,h]),{href:v,onClick:b}=(0,d.y)("https://www.figma.com/widget-docs/intro/"),{href:C,onClick:w}=(0,d.y)("https://www.figma.com/plugin-docs");return n.createElement("div",{className:"empty_development_view--developmentPluginEmptyStateContainer--cTeAp"},n.createElement("span",{className:o.cx.m16.$},e?n.createElement(m,null):n.createElement(u,null)),n.createElement("span",{className:o.cx.font11.fontNormal.colorTextSecondary.mb4.$},e?(0,s.tx)("community.plugins.no_widgets_created_yet"):(0,s.tx)("community.plugins.no_plugins_created_yet")),e?n.createElement(l.N_,{href:v,onClick:b,className:o.cx.font11.fontNormal.noUnderline.inline.$,trusted:!0},(0,s.tx)("community.plugins.learn_more_about_widget_development")):n.createElement(l.N_,{href:C,onClick:w,className:o.cx.font11.fontNormal.noUnderline.inline.$,trusted:!0},(0,s.tx)("community.plugins.learn_more_about_plugin_development")),n.createElement(l.u4,{defaultClass:"empty_development_view--buttonWithBorder--zk4QX new_file_dropdown--toolBarButtonWithBorder--VtdKR new_file_dropdown--toolBarButton--i4GMj desktop_tool_bar--toolBarButton--HGPyz text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:y},n.createElement("div",{className:"empty_development_view--buttonContent--kb5Nb new_file_dropdown--button--glhuO"},n.createElement(i.B,{className:"empty_development_view--plusIcon--h23yu",svg:g.A}),n.createElement("div",{className:"empty_development_view--buttonContentDisplayText--bCttl new_file_dropdown--displayText--VPNl9"},(0,s.tx)("community.plugins.new")),n.createElement("div",{ref:E},n.createElement(i.B,{className:"empty_development_view--caretIcon--jjHPA",svg:f.A})))))}},334437:(e,t,a)=>{a.d(t,{H:()=>o});var n=a(411855),r=a(939863);function l(){return n.createElement("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.747 8.88206L29.9998 0.134888L21.2527 8.88206H8.89248V21.2422L0.134766 30L8.89248 38.7577V51.1176H21.2525L29.9998 59.865L38.7472 51.1176H51.1281V38.7368L59.8649 30L51.1281 21.2631V8.88206H38.747ZM49.1281 10.8821H37.9186L29.9998 2.96331L22.0811 10.8821H10.8925V22.0707L2.96319 30L10.8925 37.9292V49.1176H22.0809L29.9998 57.0366L37.9188 49.1176H49.1281V37.9084L57.0365 30L49.1281 22.0915V10.8821Z",fill:"var(--color-bg-disabled-secondary)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3956 17.5056L24.4844 27.1129H39.4723L26.9966 43.6672L25.3994 42.4635L35.4607 29.1129H20.582L29.7721 16.3377L31.3956 17.5056Z",fill:"var(--color-bg-disabled-secondary)"}),n.createElement("path",{d:"M40 41.5C40 40.6716 40.6716 40 41.5 40H58.5C59.3284 40 60 40.6716 60 41.5V68.4395C60 69.0684 59.2726 69.418 58.7815 69.0252L50 62L41.2185 69.0252C40.7274 69.418 40 69.0684 40 68.4395V41.5Z",fill:"var(--color-bg-disabled-secondary)"}))}function i(){return n.createElement("svg",{width:"51",height:"69",viewBox:"0 0 51 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58333 9.33333C9.58333 4.0157 14.6867 0 20.5833 0C26.48 0 31.5833 4.0157 31.5833 9.33333C31.5833 11.371 30.8158 13.2415 29.5429 14.7548C29.5409 14.7593 29.5365 14.7716 29.5338 14.7946C29.5285 14.8406 29.5344 14.9014 29.5552 14.9594C29.5611 14.9758 29.5672 14.9892 29.5728 15H37.6667C40.0599 15 42 16.9401 42 19.3333V52.6667C42 55.0599 40.0599 57 37.6667 57H4.33333C1.9401 57 0 55.0599 0 52.6667V44.9023C0 43.9176 0.731631 43.317 1.36447 43.0896C1.99657 42.8626 2.86764 42.869 3.52935 43.4263C4.72239 44.431 6.148 45 7.66667 45C11.5538 45 15 41.149 15 36C15 30.851 11.5538 27 7.66667 27C6.148 27 4.72239 27.569 3.52935 28.5737C2.86764 29.131 1.99657 29.1374 1.36447 28.9104C0.731631 28.683 0 28.0824 0 27.0977V19.3333C0 16.9401 1.9401 15 4.33333 15H11.5939C11.5995 14.9892 11.6056 14.9758 11.6115 14.9594C11.6323 14.9014 11.6382 14.8406 11.6328 14.7946C11.6302 14.7716 11.6257 14.7593 11.6237 14.7547C10.3509 13.2415 9.58333 11.371 9.58333 9.33333ZM29.544 14.7526C29.5443 14.7522 29.544 14.7526 29.544 14.7526ZM20.5833 2C15.4343 2 11.5833 5.44622 11.5833 9.33333C11.5833 10.852 12.1524 12.2776 13.1571 13.4706C13.7143 14.1324 13.7208 15.0034 13.4937 15.6355C13.2664 16.2684 12.6657 17 11.681 17H4.33333C3.04467 17 2 18.0447 2 19.3333V27.0106C2.01079 27.0162 2.02423 27.0222 2.04063 27.0281C2.09865 27.049 2.15938 27.0548 2.20535 27.0495C2.22841 27.0468 2.24068 27.0424 2.24526 27.0404C3.75846 25.7676 5.62904 25 7.66667 25C12.9843 25 17 30.1033 17 36C17 41.8967 12.9843 47 7.66667 47C5.62904 47 3.75845 46.2324 2.24526 44.9596C2.24068 44.9576 2.22842 44.9532 2.20535 44.9505C2.15938 44.9452 2.09865 44.951 2.04063 44.9719C2.02423 44.9778 2.01079 44.9838 2 44.9894V52.6667C2 53.9553 3.04467 55 4.33333 55H37.6667C38.9553 55 40 53.9553 40 52.6667V19.3333C40 18.0447 38.9553 17 37.6667 17H29.4856C28.5009 17 27.9003 16.2684 27.673 15.6355C27.4459 15.0034 27.4523 14.1324 28.0096 13.4706C29.0143 12.2776 29.5833 10.852 29.5833 9.33333C29.5833 5.44622 25.7324 2 20.5833 2ZM2.24739 27.0393C2.24784 27.0391 2.24739 27.0394 2.24739 27.0393Z",fill:"var(--color-bg-disabled-secondary)"}),n.createElement("path",{d:"M31 40.5C31 39.6716 31.6716 39 32.5 39H49.5C50.3284 39 51 39.6716 51 40.5V67.4395C51 68.0684 50.2726 68.418 49.7815 68.0252L41 61L32.2185 68.0252C31.7274 68.418 31 68.0684 31 67.4395V40.5Z",fill:"var(--color-bg-disabled-secondary)"}))}function o(e){return n.createElement("div",{className:"saved_view_empty_state--emptyStateContainer--KrviB"},e.isWidget?n.createElement(l,null):n.createElement(i,null),n.createElement("div",{className:"saved_view_empty_state--emptyStateTextContainer--xRmL3"},n.createElement("div",{className:"saved_view_empty_state--emptyStateHeader--t4hjK text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,r.tx)("universal_insert.saved_empty_state")),n.createElement("div",{className:"saved_view_empty_state--emptyStateSubheader--FndRk text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isWidget?(0,r.tx)("universal_insert.saved_for_quick_access_widgets"):(0,r.tx)("universal_insert.saved_for_quick_access_plugins"))))}},818198:(e,t,a)=>{a.d(t,{C:()=>u});var n=a(411855),r=a(188507),l=a(297666),i=a(358145),o=a(902139),s=a(728325),c=a(813648),d=a(231472);function u(e,t,a,u,m,p){let[_,f]=n.useState(e()),[g,h]=n.useState(!1),[E,y]=n.useState(!1);n.useLayoutEffect(()=>{let t=(0,l.s)(()=>{a===d.t.PINNED_AND_DOCKED_LEFT&&y(!0),f(e())},100);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e,a]);let v=(0,r.wA)(),b=n.useCallback(()=>{v(o.jy({initialX:u.x,initialY:u.y,pinned:d.t.PINNED_AND_DOCKED_LEFT})),y(!0),t(u),s.VU.get("set-tool-default","toolbar")()},[v,u,t,y]);n.useEffect(()=>{a===d.t.NOT_PINNED&&m&&p&&(v(o.jy({initialX:m.x,initialY:m.y,pinned:d.t.NOT_PINNED})),y(!0),t(m))},[v,t,a,m,p]);let C=(0,r.d4)(e=>e.mirror?.appModel.showUi),w=(0,i.ZC)(C),k=(0,c.LR)();return n.useEffect(()=>{w&&!C?k():!w&&C&&a===d.t.PINNED_AND_DOCKED_LEFT&&b()},[k,a,w,b,C]),n.useEffect(()=>{E&&y(!1)},[E]),{bounds:_,showLeftPinBound:g,setShowLeftPinBound:h,shouldSnapToPosition:E,setPinned:b}}},279532:(e,t,a)=>{let n;a.d(t,{z:()=>tV});var r=a(411855),l=a(188507),i=a(629019),o=a.n(i),s=a(126049),c=a(374626),d=a(498750),u=a(268537),m=a(723325),p=a(827586),_=a(32863),f=a(762638),g=a(939863),h=a(582064),E=a(86538),y=a(738269),v=a(672517),b=a(756085),C=a(779709),w=a(813648),k=a(318812),x=a(694687),T=a(4564),N=a(555328),S=a(498606),I=a(507956),A=a(720488),L=a(227795),O=a(538697),M=a(205698),P=a(667167),R=a(271245),D=a(632430),F=a(416095),B=a(113916),U=a(664457),G=a(225373),H=a(28630),V=a(760445);function K(e){let t=(0,l.wA)(),a=(0,l.Pj)(),n=(0,l.d4)(H.m),i=(0,l.d4)(e=>(0,B.Br)(e)),o=r.useRef(null),s=(0,V.NF)(V.gC+V.Kr+V.Ix);r.useEffect(()=>{(async()=>{if(t((0,R.zK)()),i){await F.NW;let{fileVersion:e}=a.getState();i&&e&&!(0,F.hH)(i)&&(0,D.iG)(a,i)}})()},[t,i,a]);let[c,d]=r.useState(!1);return r.createElement("div",null,e.header,r.createElement("div",{"data-not-draggable":!0},r.createElement(G.LL,{selectedItems:n?[n]:[],scrollContainerHeight:s,recordingKey:"componentInsert",toggleGridViewButton:r.createElement(G.Cc,{isSwapPicker:!1}),pickerType:P.Zl.RESOURCE_INSERT_MODAL,searchBarRef:o,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:{listItemHeight:48,leafListHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}},isSearching:c,setIsSearching:d,entrypointForLogging:null}),r.createElement(U.Q,null)))}var z=a(966712),W=a(812115),j=a(946689),q=a(493323),Y=a(574176),X=a(408552),J=a(17284),Z=a(760835);a(837324);var Q=a(269167),$=a(860178);a(239671),a(407844),a(164795);var ee=a(194490),et=a(471174);function ea({resource:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile),a=(0,$.iZ)(),n=(0,Q.ej)(e);return r.createElement("div",{className:ee.I4,"data-not-draggable":!0},r.createElement("div",{className:ee.QW},r.createElement(Y.B,{svg:et.A})),r.createElement("div",{className:ee.hI},(0,g.tx)("community.buyer.payment_for_this_resource_is_moving_over_to_figma")),r.createElement("div",{className:ee.JL},r.createElement("button",{onClick:()=>{(0,Z.mG)(e,N.aL.INSERTS,a.id,t?.id),n()}},(0,g.tx)("community.buyer.update_payment"))))}var en=a(166521);a(981952),a(988652),a(708071);var er=a(697551);a(746806),a(488578),a(63666);let el="rating_stats_data--averageStar--YdqTY";function ei({isHovered:e}){return r.createElement("span",{className:el,"aria-label":(0,g.t)("community.detail_view.full_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function eo(){return r.createElement("span",{className:el,"aria-label":(0,g.t)("community.detail_view.empty_star")},r.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let es="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var ec=a(610253),ed=a(13033);function eu({onSelect:e,existingRating:t,showDescriptions:a=!1,useBigStars:n=!0,isOptional:l=!1,disabled:i=!1,disabledTooltip:o}){let[s,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,p]=(0,r.useState)(!1),_=[(0,g.t)("community.star_ratings.i_really_dont_like_it"),(0,g.t)("community.star_ratings.i_dont_like_it"),(0,g.t)("community.star_ratings.its_okay"),(0,g.t)("community.star_ratings.i_like_it"),(0,g.t)("community.star_ratings.i_love_it")];(0,r.useEffect)(()=>{void 0===t||s||(c(t),u(t))},[t,s]);let h=n?r.createElement(Y.B,{svg:ec.A,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,g.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):r.createElement(eo,null),E=n?r.createElement(Y.B,{svg:ed.A,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,g.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):r.createElement(ei,{isHovered:m}),y=e=>{i||(c(e+1),p(!0))},v=t=>{i||(t+1===d&&l?(u(0),e(0)):(u(t+1),e(t+1)))};return r.createElement("div",{className:n?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},r.createElement("div",{className:i?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{i||d===s||c(d)},"data-tooltip-type":i?S.Ib.TEXT:void 0,"data-tooltip":i?o:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(r.createElement("span",{className:f.cx.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>y(t),onMouseLeave:()=>p(!1),onClick:()=>v(t),role:"button",tabIndex:0},t<s?E:h));return e})()),r.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},r.createElement(r.Fragment,null,a&&r.createElement("div",{className:n?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":es},_[s-1]),l&&0===s&&r.createElement("div",{className:es},i?(0,g.tx)("community.rating_review.ratings_not_available"):(0,g.tx)("community.rating_review.optional")))))}function em({userRating:e,isInsertsModal:t,disabled:a,disabledTooltip:n,openRatingModal:l}){return r.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},r.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?r.createElement("div",{onClick:()=>l(e?.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},(0,g.tx)("community.detail_view.edit_rating")):(0,g.tx)("community.detail_view.leave_a_rating")),r.createElement(eu,{onSelect:l,existingRating:e?.ratingValue,disabled:a,disabledTooltip:n}))}var ep=a(466636),e_=a(545941),ef=a(941381),eg=a(970516),eh=a(469757),eE=a(641638),ey=a(441088),ev=a(154026),eb=a(328570),eC=a(215822),ew=a(558867),ek=a(350913),ex=a(984226),eT=a(927206),eN=a(552993),eS=a(16774),eI=a(647173);function eA({onBack:e,text:t}){let a=(0,I.ks)();return r.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},r.createElement(Y.B,{"data-not-draggable":!0,svg:eI.A,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!a&&r.createElement(V.Ex,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var eL=a(632788),eO=a(76158),eM=a(228302),eP=a(76154);let eR="detail_view--ratingSelectorContainer--zbvCM";var eD=a(270951),eF=a(362679),eB=a(13556),eU=a(949554);function eG(e){let t=(0,l.wA)(),{activeTab:a}=(0,V.IT)(),n=a===eO.s.PLUGIN,i=(0,b.cW)(),o=(0,b.ZT)(),s=(n?i:o)[e.resourceId];return(r.useEffect(()=>{s&&s.community_publishers||t(ef.af({id:e.resourceId,resourceType:n?N.bD.PLUGIN:N.bD.WIDGET}))},[t,s,e.resourceId,n]),s)?r.createElement(eH,{resourceId:e.resourceId,resource:s}):r.createElement("div",{className:f.cx.flex.wFull.borderBox.justifyCenter.pt32.$},r.createElement(q.kt,{size:"medium"}))}function eH(e){let{resource:t}=e,{activeTab:a}=(0,V.IT)(),n=a===eO.s.PLUGIN,i=(0,l.wA)(),s=(0,I.ks)(),c=(0,b.JI)(),d=(0,k.Um)(),u=(0,V.NF)((0,ey.T)()?V.gC+64:V.gC),m=(0,l.d4)(e=>e.authedUsers),_=(0,Q.EO)(t),h=(0,Q.lt)(t),E=(0,Q.gn)(t),C=(0,ep.QQ)(h),w=(0,l.d4)(e=>e.authedActiveCommunityProfile),T=(0,eS.b)(),A=(0,x.sZ)(),O=(0,b.ll)(),M=(0,b.U6)(),P=Object.values((0,b.$1)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:R,onInsertableResourcePointerDown:D}=(0,eb.P)({resource:(0,eC.uF)(t),clickToInsert:!0,afterSuccessfulInsert:T,triggeredFrom:"universal-insert"}),{canRate:F=!1}={},B=r.useCallback(()=>{i(eg.Pv({url:n?(0,ek.ab)(e.resourceId):(0,ek.ox)(e.resourceId),extensionType:n?"plugin":"widget"}))},[i,e.resourceId,n]),U=n&&d?.type===eL.yW&&d.data.pluginId===e.resourceId&&d.data.targetRect,G=r.useCallback(t=>{t.stopPropagation(),n&&(U?i(y.oB()):i(y.j7({type:eL.yW,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[n,U,i,e.resourceId]),H=r.useCallback(()=>{i(y.oB())},[i]);if(!t)return null;t.community_resource_payment=h;let K=(0,eC.uF)(t),j=(0,Q.Zk)(w,m,t),q=(0,eC.og)({canAssociatedUserPurchaseThisResource:j,resource:t}),Y=!P&&(0,eE.XV)({org:A,extension:t,allowlistedExtensions:n?O:M}),Z=n?r.createElement(eP.tO,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):r.createElement(eP.GJ,{widgetId:e.resourceId});return r.createElement(v.fu,{name:"detail",properties:{resourceId:e.resourceId,resourceType:n?N.bD.PLUGIN:N.bD.WIDGET,isMonetized:(0,N.m3)(t),editorType:"figma"}},r.createElement(eV,null),r.createElement(p.P,{height:u,onScroll:H,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement("div",{className:"detail_view--contentContainer--nSBG8"},r.createElement("div",{className:(0,ey.T)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},r.createElement("div",{className:(0,ey.T)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},r.createElement("img",{className:o()([(0,ey.T)()?"detail_view--coverImageVsCode--ZtGDB":n?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",f.cx.if((0,ey.T)(),f.cx.bRadius5).$]),src:K.redirect_cover_image_url||"",alt:`${K.name}`,onPointerDown:e=>!n&&D(e),role:"presentation"}),r.createElement(ev.E,{dragState:R})),E&&r.createElement(eT.cu,null),q&&!E&&!C&&r.createElement(ea,{resource:t}),r.createElement("div",{className:(0,ey.T)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},r.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},K.name),(0,X.$3)({resource:t,height:"16",validBadges:[X.op.PURCHASED],authedActiveCommunityProfile:w})||r.createElement(J.I,{badges:t.badges,height:"16",hideTooltip:!0})),r.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(t.community_publishers?.accepted||[]).length>0&&r.createElement(r.Fragment,null,r.createElement(ew.Ro,{entity:t.community_publishers?.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,V.kB)(t)))),(!s||c)&&r.createElement("div",{className:"detail_view--actionsRow--sAwdf"},r.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},_&&!(0,z.kc)().community_hub_admin_reviewer?r.createElement(en.I,{resource:t,context:N.aL.INSERTS,payment:h}):Y?r.createElement(eM.s,{version:K,isPlugin:n}):Z),r.createElement("div",{className:f.cx.ml8.flex.itemsCenter.$},r.createElement(eN._W,{resourceId:e.resourceId,resourceType:n?N.vt.PLUGIN:N.vt.WIDGET,parentView:eN.nN.DETAIL})),s&&(0,eC.Th)(K,A,O)?r.createElement(r.Fragment,null,r.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},r.createElement(L.K0,{svg:eF.A,fallbackSvg:eB.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("universal_insert.more_options"),onClick:G,className:"detail_view--moreOptionsIcon--najos"})),U&&r.createElement(eL.Gq,{resourceId:e.resourceId,plugin:K,resourceType:n?N.vt.PLUGIN:N.vt.WIDGET})):r.createElement(L.K0,{svg:eU.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("universal_insert.copy_link"),onClick:B,className:"detail_view--copyLinkIcon--PFKiL"})),r.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),r.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},r.createElement(ex.f,{resource:t})),r.createElement("div",{className:eR},F&&(0,e_.Ul)(t)&&r.createElement("div",{className:eR},r.createElement(em,{openRatingModal:e=>{},isInsertsModal:!0}))),r.createElement(W.R,{fallback:null,errorFallback:null,value:K.description})))),r.createElement(eK,{resourceId:e.resourceId})))}function eV(){let{closeResource:e,activeTab:t}=(0,V.IT)();return r.createElement(eA,{onBack:e,text:t===eO.s.PLUGIN?(0,g.tx)("universal_insert.plugin"):(0,g.tx)("universal_insert.widget")})}function eK(e){let{activeTab:t}=(0,V.IT)(),a=t===eO.s.PLUGIN?"plugin":"widget",{href:n,onClick:l}=(0,eh.y)(`/community/${a}/${e.resourceId}`);return r.createElement(r.Fragment,null,r.createElement(j.Ph,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:n,onClick:l,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},r.createElement(Y.B,{svg:eD.A,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),(0,g.tx)("universal_insert.see_more_details_in_community")),r.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var ez=a(175290),eW=a(983405),ej=a(553015),eq=a(896474),eY=a(809840),eX=a(933464),eJ=a(908341);function eZ({isDesktop:e}){return r.createElement(eW.Y1,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},r.createElement(Y.B,{svg:eJ.A,className:f.cx.colorIconSecondary.pb24.$,autosize:!0,height:(0,ey.T)()?"64px":void 0}),r.createElement(eQ,{isDesktop:e}))}function eQ({isDesktop:e}){let t={learnMoreLink:r.createElement("a",{href:"https://www.figma.com/plugin-docs",target:"_blank",className:f.cx.cursorPointer.font11.colorTextBrand.$},(0,g.tx)("dev_handoff.inspect_panel.learn_more_plugin_development"))};return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement("div",{className:f.cx.alignCenter.$},r.createElement(eY.E,{color:"secondary"},(0,g.tx)("dev_handoff.inspect_panel.create_first_here")),r.createElement("br",null),r.createElement(eY.E,null,(0,g.tx)("dev_handoff.inspect_panel.learn_more_link",t))),r.createElement(e$,null)):r.createElement("div",{className:f.cx.alignCenter.$},r.createElement(eY.E,{color:"secondary"},(0,g.tx)("dev_handoff.inspect_panel.inspect_plugins_go_here")),r.createElement("br",null),r.createElement(eY.E,{color:"secondary"},(0,g.tx)("dev_handoff.inspect_panel.use_desktop_to_develop")),r.createElement("br",null),r.createElement(eY.E,null,(0,g.tx)("dev_handoff.inspect_panel.learn_more_link",t))))}function e$(){let e=(0,l.wA)(),t=(0,k.Um)(),a=t?.type===eX.kt,n=r.useCallback(t=>{a?e(y.oB()):e(y.j7({type:eX.kt,data:{targetRect:t.currentTarget?.getBoundingClientRect()}}))},[e,a]);return r.createElement("div",{className:f.cx.pt16.$},r.createElement(ej.$,{onClick:n},r.createElement(eW.Y1,{direction:"horizontal",verticalAlignItems:"center"},r.createElement(eq.In,{icon:"plus-32"}),r.createElement(eY.E,null,(0,g.tx)("dev_handoff.inspect_panel.new_plugin")),r.createElement(eq.In,{icon:"chevron-down-32"}))),a&&r.createElement("div",null,r.createElement(eX.Pq,{resourceType:N.bD.PLUGIN})))}var e0=a(361555);function e1(){let{activeTab:e}=(0,V.IT)(),t=(0,I.$A)((0,l.d4)(e=>e.selectedView)),a=(0,b.nl)({allowNonVsCodePluginsInVsCode:!0}),n=(0,b.yQ)(),i=e===eO.s.WIDGET,o=i?n:a,s=(0,T.M)(),c=(0,b.sp)(i);return s&&(Object.keys(o).length>0||c.length>0)?r.createElement(v.fu,{name:"Development"},Object.keys(o).map((e,t)=>r.createElement(eP.ff,{resourceId:e,key:e,type:eP.R7.DEVELOPMENT,keyboardNavigationPath:[V.B6,t]})),c.map((e,t)=>r.createElement(eP.ff,{resourceId:e.id,key:e.id,type:eP.R7.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[V.B6,Object.keys(o).length+t]}))):t?r.createElement(ez.Y,{horizontalAlignItems:"center",verticalAlignItems:(0,ey.T)()?"start":"center"},r.createElement(eZ,{isDesktop:!!s})):r.createElement(e0.W,{isWidget:i})}var e2=a(984472),e5=a(886119),e3=a(737499),e4=a(297757);function e6(){let{activeTab:e}=(0,V.IT)(),t=(0,e3.BI)(),a=(0,I.ks)(),{href:n,onClick:l}=(0,eh.y)(`/community/${e===eO.s.PLUGIN?"plugins":"widgets/figma_design"}${a?"/devmode":""}`);return t?.shouldOptimizeForIpadApp?null:r.createElement(j.Ph,{className:e4.Qu,href:n,onClick:l,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},r.createElement(Y.B,{svg:eD.A,className:e4.JX}),(0,g.tx)("universal_insert.browse_more_in_community"))}function e7({viewType:e,onBackPress:t}){let a=(0,V.NF)(V.gC);return r.createElement(r.Fragment,null,r.createElement(e8,{viewType:e,onBackPress:t}),r.createElement(p.P,{height:a,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(e9,{viewType:e}),r.createElement(e6,null)))}function e8({viewType:e,onBackPress:t}){let a;let{activeTab:n}=(0,V.IT)(),l=n===eO.s.PLUGIN;return a=e===eO.Y.ORG_PRIVATE_EXPANDED_LIST?l?(0,g.tx)("universal_insert.all_internal_plugins"):(0,g.tx)("universal_insert.all_internal_widgets"):l?(0,g.tx)("universal_insert.all_approved_plugins"):(0,g.tx)("universal_insert.all_approved_widgets"),r.createElement("div",{className:e4.cB},r.createElement("div",{className:e4.kb},r.createElement(Y.B,{svg:eI.A,className:e4.Gv,onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),r.createElement("div",{className:e4.A_},a)),r.createElement(V.Ex,{containerClassName:e4.VN}))}function e9({viewType:e}){let t;let{activeTab:a}=(0,V.IT)(),n=(0,e5.h)("plugin"),l=(0,e5.h)("widget"),i=a===eO.s.WIDGET,o=(0,b.ll)(),s=(0,e2.bT)(Object.values(o)),c=(0,b.U6)(),d=i?Object.keys(c):s.map(e=>e.plugin_id);return t=e===eO.Y.ORG_PRIVATE_EXPANDED_LIST?r.createElement(r.Fragment,null,(i?l:n).map((e,t)=>r.createElement(eP.ff,{resourceId:e.plugin_id,type:eP.R7.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[V.B6,t]}))):r.createElement(r.Fragment,null,d.map((e,t)=>r.createElement(eP.ff,{resourceId:e,type:eP.R7.COMMUNITY,key:e,keyboardNavigationPath:[V.B6,t]}))),r.createElement("div",{className:e4.QF},t)}var te=a(794272),tt=a(655215),ta=a(335682),tn=a(99506),tr=a(336599),tl=a(376485),ti=a(163119),to=a(26096);function ts(e){let t=(0,x.sZ)();return t?r.createElement(tc,{org:t,viewExpandedList:e.viewExpandedList}):r.createElement(q.kt,{className:e4.S})}function tc(e){let{org:t}=e,{activeTab:a}=(0,V.IT)(),n=a===eO.s.WIDGET,i=(0,e5.h)("plugin"),o=(0,e2.bT)(i),s=(0,e5.h)("widget"),c=n?s:o,d=c.length>0,u=n?t.widgets_whitelist_enforced:t.plugins_whitelist_enforced,m=n?tl.n_:tl.Gb,p=(0,ta.tS)(),_=(0,tr.mC)(m(t.id,p)),f=(0,b.ll)(),h=(0,e2.bT)(Object.values(f)).map(e=>e.plugin_id),E=(0,b.U6)(),y=r.useMemo(()=>Object.keys(E),[E]),C=(0,b.Be)(),w=(0,b.pR)(C),k=w.orgWidgets,x=w.orgPlugins,T=(0,l.d4)(e=>e.orgUsersByOrgId[t.id][e.user.id]?.permission===tn._D.GUEST),N=(0,te.R)(e=>T?{}:(0,eC.Qt)((0,eC.i8)(Object.values(e.publishedPlugins)),t.id)),I=r.useMemo(()=>{let e=Object.values(x).filter(e=>!N[e.plugin_id]);return t.plugins_whitelist_enforced&&(e=e.filter(e=>f[e.plugin_id])),e.sort(b.YW)},[f,t.plugins_whitelist_enforced,N,x]),A=(0,e2.Ol)(I);A=(0,e2.bT)(A);let O=r.useMemo(()=>A.map(e=>e.plugin_id),[A]),M=r.useMemo(()=>h.filter(e=>!x[e]),[h,x]),P=r.useMemo(()=>{let e=Object.values(k).filter(e=>!(0,tt.s7)(e,t.id));return t.widgets_whitelist_enforced&&(e=e.filter(e=>E[e.plugin_id])),e.sort(b.YW)},[k,t.widgets_whitelist_enforced,t.id,E]),R=(0,e2.Ol)(P),D=r.useMemo(()=>R.map(e=>e.plugin_id),[R]),F=r.useMemo(()=>y.filter(e=>!k[e]),[y,k]),B=n?F:M,U=n?D:O,G=d?r.createElement(r.Fragment,null,(u?c.slice(0,V.Xo):c).map((e,t)=>r.createElement(eP.ff,{key:e.plugin_id,resourceId:e.plugin_id,type:eP.R7.ORG_PRIVATE,keyboardNavigationPath:[V.B6,t]})),u&&c.length>V.Xo&&r.createElement(td,{viewExpandedList:()=>{e.viewExpandedList(eO.Y.ORG_PRIVATE_EXPANDED_LIST)},ctaText:n?(0,g.t)("universal_insert.all_internal_widgets"):(0,g.t)("universal_insert.all_internal_plugins")})):r.createElement("div",{className:e4.zN},n?(0,g.tx)("universal_insert.no_internal_widgets"):(0,g.tx)("universal_insert.no_internal_plugins")),{href:H,onClick:K}=(0,eh.y)(`/community/${n?"widgets":"plugins"}`),z=u&&r.createElement(r.Fragment,null,r.createElement("div",{className:e4.Uj}),r.createElement("div",{className:e4.sH},(0,g.tx)("universal_insert.approved_from_figma_community"),r.createElement(L.K0,{svg:to.A,href:H,onClick:K,target:"_blank","data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("universal_insert.go_to_community")})),_&&0===B.length?r.createElement("div",{className:e4.zN},n?(0,g.tx)("universal_insert.organization_has_no_approved_community_widgets"):(0,g.tx)("universal_insert.organization_has_no_approved_community_plugins")):r.createElement(r.Fragment,null,(d?B.slice(0,5):B).map((e,t)=>r.createElement(eP.ff,{key:e,resourceId:e,type:eP.R7.COMMUNITY,keyboardNavigationPath:[V.B6+1,t]})),d&&B.length>5&&r.createElement(td,{viewExpandedList:()=>{e.viewExpandedList(eO.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:n?(0,g.t)("universal_insert.all_approved_widgets"):(0,g.t)("universal_insert.all_approved_plugins")}))),W=U.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:e4.Wz}),r.createElement("div",{className:e4.sH},(0,g.tx)("universal_insert.saved_from_community"),r.createElement(L.K0,{svg:to.A,href:H,onClick:K,target:"_blank","data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("universal_insert.go_to_community")})),U.map((e,t)=>r.createElement(eP.ff,{key:e,resourceId:e,type:eP.R7.SAVED,keyboardNavigationPath:[V.B6+2,t]}))):r.createElement(r.Fragment,null,r.createElement("div",{className:e4.Wz}),r.createElement("div",{className:e4.sH},(0,g.tx)("universal_insert.saved_from_community"),r.createElement(L.K0,{svg:to.A,href:H,onClick:K,target:"_blank","data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("universal_insert.go_to_community")})),r.createElement("div",{className:e4.zN},n?(0,g.tx)("universal_insert.no_saved_widgets"):(0,g.tx)("universal_insert.no_saved_plugins")));return r.createElement(v.fu,{name:"Org"},G,W,z)}function td(e){return r.createElement("button",{onClick:e.viewExpandedList,className:e4.nZ},r.createElement("span",null,e.ctaText),r.createElement(Y.B,{svg:ti.A}))}var tu=a(334437),tm=a(459401),tp=a(675678),t_=a(776250),tf=a(776621),tg=a(428322),th=a(792199),tE=a(42114),ty=a(357611),tv=a(971120),tb=a(107877);function tC({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:a}){let{activeTab:n}=(0,V.IT)(),i=n===eO.s.WIDGET,o=(0,I.ks)(),s=(0,c.md)(E.RB)&&o,[d,u]=r.useState(!1),{allowListIsLoading:m,allowList:p,hasAllowList:_,hasPluginAllowList:f,hasWidgetAllowList:h,publicExtensionsDisallowed:y}=(0,b.jA)(i),C=(0,e2.bT)(Object.values(p)).map(e=>e.plugin_id),[w,k]=r.useState(null),[x,T]=r.useState(null),[N,A]=r.useState(!1),[O,M]=r.useState(!1),P=(0,l.wA)();r.useEffect(()=>{let e=d!==s;if(f||y||!e&&null!==w||N)return;A(!0);let t={sort_by:tb.eg.POPULAR};o?(t.editor_type=ty.k.Editors.DEV_MODE,s&&(t.capability_type=tE.h.CODEGEN)):t.editor_type=ty.k.Editors.FIGMA,(0,th.nC)().filter(t).browse(tv.L.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;P(ef.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),k((0,tm.shuffle)(t)),A(!1),u(s)}).catch(e=>{(0,tf.$D)(tp.FigmaTeam.COMMUNITY,e),A(!1),k([]),u(s)})},[P,w,N,o,_,f,y,s,d]),r.useEffect(()=>{h||null!==x||O||(M(!0),(0,th.nC)().filter({sort_by:tb.eg.POPULAR,editor_type:ty.k.Editors.FIGMA}).browse(tv.L.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;P(ef.Qi({publishedPlugins:t,src:"Figma inserts modal recents view"})),T((0,tm.shuffle)(t)),M(!1)}).catch(e=>{(0,tf.$D)(tp.FigmaTeam.COMMUNITY,e),M(!1),T([])}))},[P,x,O,_,h]);let R=i?x:w,D=i?O:N,{href:F,onClick:B}=(0,eh.y)(`/community/${n===eO.s.PLUGIN?"plugins":"widgets"}`);return r.useMemo(()=>{if(_?m:D)return r.createElement(q.kt,{className:e4.S});if(!(null!==R)&&!_)return null;let l=_?C:R.map(e=>e.id);return y||0===l.length?null:r.createElement(v.fu,{name:_?"Approved plugins":"From Community"},r.createElement("div",{className:a?e4.Wz:e4.Uj}),r.createElement("div",{className:e4.sH,"data-onboarding-key":"community_feed_header"},_?(0,g.tx)("universal_insert.approved_from_figma_community"):(0,g.tx)("universal_insert.from_community"),r.createElement(L.Me,{svg:to.A,href:F,onClick:B,target:"_blank","data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("universal_insert.go_to_community"),trackingEventName:"Inserts - Browse More From Community Icon Button"})),l.slice(0,_?5:10).map((e,a)=>r.createElement(eP.ff,{key:e,type:eP.R7.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,a]})),_&&l.length>5?r.createElement(td,{viewExpandedList:()=>{e(eO.Y.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:i?(0,g.t)("universal_insert.all_approved_widgets"):(0,g.t)("universal_insert.all_approved_plugins")}):r.createElement(r.Fragment,null,r.createElement(e6,null),r.createElement(tg.a,{onIntersectionChange:e=>{e.isIntersecting&&(0,t_.sx)("community_feed_bottom_reached",{location:"inserts",resourceType:n})}})))},[_,m,D,R,C,y,F,B,i,e,t,a,n])}var tw=a(886653);function tk(e){let t=(0,b.Be)(),a=t.widgets,n=Object.values(t.plugins).sort(b.YW).filter(e=>"user"===e.installed_by),l=(0,tw.xx)(()=>n),i=(0,e2.Ol)(l()),o=(i=(0,e2.bT)(i)).map(e=>e.plugin_id),s=Object.values(a).sort(b.YW).filter(e=>"user"===e.installed_by),c=(0,tw.xx)(()=>s),d=(0,e2.Ol)(c()).map(e=>e.plugin_id);return r.useMemo(()=>e?d:o,[o,d,e])}function tx(e){let t=tk(e.isWidget),[a,n]=r.useState(!1),l=r.useMemo(()=>a?t:t.slice(0,40),[t,a]);return 0===t.length?null:r.createElement(v.fu,{name:"saved"},r.createElement("div",{className:e4.VA},(0,g.tx)("universal_insert.saved")),l.map((e,t)=>r.createElement(eP.ff,{key:e,resourceId:e,type:eP.R7.SAVED,keyboardNavigationPath:[V.B6+1,t]})),t.length>40&&!a&&r.createElement("button",{className:e4.AR,onClick:()=>n(!0)},e.isWidget?(0,g.tx)("universal_insert.show_all_saved_widgets"):(0,g.tx)("universal_insert.show_all_saved_plugins")))}function tT(e){let{activeTab:t}=(0,V.IT)(),a=(0,b.op)(),n=(0,b.qr)(),l=(0,b.Be)(),i=t===eO.s.WIDGET,{filterByAllowlist:o,filterByPublicResourcesAllowed:s}=(0,b.jA)(i),c=i?n:a;c=s(c=o(c)),c=(0,e2.bT)(c);let d=r.useMemo(()=>c.length>0?r.createElement(v.fu,{name:"recents"},r.createElement("div",{className:e4.VA,"data-onboarding-key":"recents_plugin_header"},(0,g.tx)("universal_insert.recents")),c.slice(0,V.Zm).map((e,t)=>r.createElement(eP.ff,{key:e.plugin_id,type:eP.R7.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[V.B6,t]}))):r.createElement(r.Fragment,null),[c]),u=tk(i);if(!0===l.loaded&&c.length+u.length===0)return r.createElement(v.fu,{name:"Recents and saved"},r.createElement(tu.H,{isWidget:t===eO.s.WIDGET}),r.createElement(tC,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:V.B6+2}));let m=r.createElement(tx,{isWidget:t===eO.s.WIDGET}),p=c.length>0,_=u.length>0;return r.createElement(v.fu,{name:"Recents and saved"},d,_&&p&&r.createElement("div",{className:e4.Wz}),m,r.createElement(tC,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:V.B6+2}))}var tN=a(44948);function tS(){let e=r.useRef({}),t=r.useCallback((t,a)=>{e.current[t]=a},[]),a=r.useCallback(t=>e.current[t]||[],[]),n=r.useCallback(t=>t in e.current,[]),l=r.useCallback(()=>{e.current={}},[]);return r.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:a,hasQueryResultsCached:n,resetCache:l}),[t,a,n,l])}var tI=a(463592);let tA=new tI.Ef([],{...er.Pk,keys:er.Kj}),tL=new tI.Ef([],{...er.Pk,keys:[{name:"name",weight:1}]}),tO=new tI.Ef([],{...er.Pk,keys:er.Kj});function tM(e){let t;let{activeTab:a}=(0,V.IT)(),n=a===eO.s.WIDGET,l=(0,I.ks)(),i=e.query.trim(),{pluginServerSideSearch:o,pluginSearchIsLoading:s,pluginSearchHasResolved:c}=(0,b.I5)(ty.k.Editors.FIGMA),{widgetServerSideSearch:d,widgetSearchIsLoading:u,widgetSearchHasResolved:m}=(0,b.SG)(ty.k.Editors.FIGMA),{getResultsForQuery:_,setResultsForQuery:f,resetCache:h}=tS(),E=_(i),{getResultsForQuery:y,setResultsForQuery:w,resetCache:k}=tS(),T=y(i),{getResultsForQuery:N,setResultsForQuery:S,hasQueryResultsCached:A,resetCache:L}=tS(),O=tP(N(i),[E]),{getResultsForQuery:M,setResultsForQuery:P,hasQueryResultsCached:R,resetCache:D}=tS(),F=tP(M(i),[E,O]),{getResultsForQuery:B,setResultsForQuery:U,resetCache:G}=tS(),H=tP(B(i),[E,O,F]),{getResultsForQuery:K,setResultsForQuery:z,hasQueryResultsCached:W,resetCache:j}=tS(),Y=tP(K(i),[E,O,F,H]);r.useEffect(()=>{h(),k(),L(),D(),j(),G()},[n,G,j,L,k,D,h]);let X=(0,b.Tg)(),J=(0,b.qr)(),Z=(0,b.$1)(),Q=(0,b.yQ)(),$=(0,b.ll)(),ee=(0,b.U6)(),et=(0,b.cW)(),ea=(0,b.ZT)(),en=(0,tN.k9)(()=>Object.keys(n?ee:$).map(e=>(0,eC.uF)((n?ea:et)[e])),[$,ea,et,ee,n]);r.useEffect(()=>{tA.set(Object.values(n?J:X))},[X,J,n]),r.useEffect(()=>{tL.set(Object.values(n?Q:Z))},[Z,Q,n]),r.useEffect(()=>{tO.set(en)},[en]);let er=(0,x.sZ)(),{serverSideSearch:el,isLoading:ei,hasResolved:eo}=a===eO.s.PLUGIN?{serverSideSearch:o,isLoading:s,hasResolved:c}:{serverSideSearch:d,isLoading:u,hasResolved:m};r.useEffect(()=>{""!==i&&(W(i)&&R(i)&&A(i)||el(i,e=>z(i,e),e=>P(i,e),e=>S(i,e)),f(i,tA.search(i).map(e=>e.plugin_id)),w(i,tL.search(i).map(e=>e.localFileId.toString())),U(i,tO.search(i).map(e=>e.plugin_id)))},[i,W,A,R,el,U,z,S,w,P,f]);let es=C.z4.getIsExtension()?V.gC+V.Ix:l?V.gC+V.Ix+V.ff+8:V.gC+V.Ix,ec=(0,V.NF)(es),ed=l?e4.mH:e4.PP,eu=l?e4.k8:e4.DN,em=r.useCallback(t=>{let a=e.searchContainerRef.current;a&&(t>0?a.className=eu:a.className=ed)},[e.searchContainerRef,eu,ed]);r.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=ed)},[]);let ep=er&&(n?er.widgets_whitelist_enforced:er.plugins_whitelist_enforced),e_=(!ep||(0,eE.Cs)({org:er,isWidget:n}))&&Y&&Y.length>0&&eo,ef=ep&&H.length>0,eg=er&&F&&F.length>0&&eo,eh=O.length>0&&eo,ey=E.length>0,ev=T.length>0,eb=eo&&(e_||eg||ey||eh||ef);if(eo&&!(ey||ev||eb))t=r.createElement("div",{className:e4.zN},n?ep?(0,g.tx)("universal_insert.no_widgets_matching_query_for_allowlist",{orgName:er.name,query:i}):(0,g.tx)("universal_insert.no_widgets_matching_query",{query:i}):ep?(0,g.tx)("universal_insert.no_plugins_matching_query_for_allowlist",{orgName:er.name,query:i}):(0,g.tx)("universal_insert.no_plugins_matching_query",{query:i}));else{t=[];let e=V.B6;ey&&(t.push(r.createElement(tD,{sectionHeader:(0,g.tx)("universal_insert.recents"),ids:E,type:eP.R7.RECENT,sectionIdx:e,key:eP.R7.RECENT})),e+=1),ev&&(t.push(r.createElement(tD,{sectionHeader:(0,g.tx)("universal_insert.development"),ids:T,type:eP.R7.DEVELOPMENT,key:eP.R7.DEVELOPMENT,sectionIdx:e})),e+=1),ei&&!eb?t.push(r.createElement(q.kt,{className:e4.S,key:"Loading spinner"})):(eh&&(t.push(r.createElement(tD,{sectionHeader:(0,g.tx)("universal_insert.saved"),ids:O,type:eP.R7.SAVED,key:eP.R7.SAVED,sectionIdx:e})),e+=1),eg&&(t.push(r.createElement(tD,{sectionHeader:er.name,ids:F,type:eP.R7.ORG_PRIVATE,key:eP.R7.ORG_PRIVATE,sectionIdx:e})),e+=1),ef&&(t.push(r.createElement(tD,{sectionHeader:(0,g.tx)("universal_insert.approved_from_figma_community"),ids:H,type:eP.R7.COMMUNITY,key:`ALLOW_LIST_${eP.R7.COMMUNITY}`,sectionIdx:e})),e+=1),e_&&t.push(r.createElement(tD,{sectionHeader:(0,g.tx)("universal_insert.from_community"),ids:Y,type:eP.R7.COMMUNITY,key:eP.R7.COMMUNITY,sectionIdx:e})))}return r.createElement(p.P,{height:ec,onScroll:em,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},r.createElement(v.fu,{name:"search",properties:{searchQuery:i,resourceType:a}},t))}let tP=(e,t)=>{let a={};return t.forEach(e=>e.forEach(e=>a[e]=!0)),e.filter(e=>!a[e])};function tR(e){return r.createElement("div",{onClick:()=>(0,t_.sx)("search result clicked"),role:"none","data-testid":`browse-resource-tile-${e.resourceId}`},r.createElement(eP.ff,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function tD(e){return r.createElement(r.Fragment,null,e.sectionIdx>V.B6&&r.createElement("div",{className:e4.Wz}),r.createElement("div",{className:e4.bV},e.sectionHeader),e.ids.map((t,a)=>r.createElement(tR,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,a]})))}let tF=()=>({[eO.s.COMPONENT]:{label:(0,g.t)("universal_insert.components"),tab:eO.s.COMPONENT,resourceTypeLabel:(0,g.t)("universal_insert.components_resource_type")},[eO.s.PLUGIN]:{label:(0,g.t)("community.view_bar.plugins"),tab:eO.s.PLUGIN,resourceTypeLabel:(0,g.t)("community.plugins.plugin")},[eO.s.WIDGET]:{label:(0,g.t)("community.view_bar.widgets"),tab:eO.s.WIDGET,resourceTypeLabel:(0,g.t)("community.plugins.widget")}});function tB(e){let t=e4.Mf,a=e4.xR;return r.createElement("div",{className:e4.Ng},r.createElement("div",{className:e4.oB},Object.entries(tF()).map(([n,l])=>r.createElement("div",{className:e4.nN,key:n,role:"tab",onClick:()=>e.onClick(l.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},r.createElement("div",{key:n,"data-label":l.label,className:l.tab===e.selectedTab?a:t},l.label)))),r.createElement(V.Ex,{containerClassName:e4.VN}))}var tU=a(120118),tG=a(115381);let tH="BROWSE_CODEGEN_FILTER_DROPDOWN";function tV(){let e=r.useRef(null),{fdPreviewResource:t,initialFdView:a}=(0,l.d4)(e=>e.universalInsertModal),i=t?.id,{activeTab:o,currentView:s,setCurrentViewOrTab:c}=(0,V.IT)(),u=(0,I.ks)(),p=u?e4.Hd:e4.Kl,[_,f]=r.useState(a?"":n||""),[h,E]=r.useState(eO.Y.MAIN),y=r.useCallback(e=>{if(e.keyCode===d.Uz.ENTER){let t=e.target,a=t?.querySelector("button");a?.click()}},[]);r.useEffect(()=>{n=_},[_]);let b=r.useMemo(()=>r.createElement(tB,{onClick:t=>{t!==eO.s.COMPONENT&&e.current?.querySelector("input")?.focus(),c({newTab:t})},selectedTab:o}),[o,c]),C=r.useMemo(()=>{let t=u?e4.mH:e4.PP;return o===eO.s.COMPONENT?r.createElement(v.fu,{name:o},r.createElement(K,{header:b,query:_,setQuery:f})):r.createElement(v.fu,{name:o},!u&&b,r.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),role:"none"},r.createElement(m.dP,{onKeyDown:y},r.createElement("div",{className:t,ref:e},r.createElement(tK,{searchQuery:_,placeholder:o===eO.s.PLUGIN?(0,g.t)("universal_insert.search_all_plugins"):o===eO.s.WIDGET?(0,g.t)("universal_insert.search_all_widgets"):(0,g.t)("universal_insert.search_all_extensions"),setSearchQuery:f})),0===_.length&&r.createElement(tz,{viewExpandedList:E,currentView:s,setCurrentView:e=>c({newView:e})}),_.length>0&&r.createElement(tM,{query:_,searchContainerRef:e}))))},[o,y,_,u,b,s,c]),w=null;return i?w=r.createElement(eG,{resourceId:i}):(h===eO.Y.ORG_PRIVATE_EXPANDED_LIST||h===eO.Y.ORG_ALLOWLIST_EXPANDED_LIST)&&(w=r.createElement(m.dP,{onKeyDown:y},r.createElement(e7,{viewType:h,onBackPress:()=>E(eO.Y.MAIN)}))),r.createElement("div",{className:p},r.createElement("div",{className:w?e4.Ye:e4.dJ},C),w&&r.createElement("div",{className:e4.dJ},w))}function tK({searchQuery:e,setSearchQuery:t,placeholder:a}){let n=(0,l.wA)(),{setKeyboardNavigationElement:i}=(0,m.M3)({id:"search",path:[V.np,0]}),d=(0,k.Um)(),p=d?.type===tH,f=r.useRef(null),[v,b]=(0,c.fp)(E.RB),C=v&&!p,x=(0,w.LR)(),T=r.useCallback(a=>"Escape"===a.key&&(e?t(""):x(),!0),[x,e,t]),N=(0,s.A)(e=>{e.length>0?n(h.Dy({entryPoint:"figma:inserts"})):n(h.ky()),t(e)},300);r.useEffect(()=>()=>{n(h.ky())},[n]);let O=r.useCallback(()=>{p?n(y.oB()):n(y.j7({type:tH}))},[n,p]),M=[];M.push(r.createElement(u.MM,{checked:v,onClick:()=>{b(!v),O()},role:"menuitemcheckbox"},(0,g.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let P=(0,I.ks)(),R=r.createElement(_.IW,{focusOnMount:!0,selectTextOnMount:!P,className:o()(P?e4.FK:e4.ON,{[e4.lX]:""===e}),query:e,placeholder:a,clearSearch:()=>{n(h.ky()),t("")},onChange:N,isKeyDownHandled:T,hideXIcon:!e,ref:e=>i(e?.searchInput??null)});if(!P||e)return R;let D="dev-mode-codegen-filter-menu";return r.createElement("div",{className:e4.Ub},R,r.createElement("div",{className:e4.gP},r.createElement("div",{ref:f},r.createElement(L.YW,{svg:C?tG.A:tU.A,selected:p,selectedClassName:e4.rq,onClick:O,className:o()({[e4.Pt]:C}),onMouseDown:e=>p&&e.stopPropagation(),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,g.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-expanded":p,"aria-owns":D}))),p&&f.current&&r.createElement(A.Jz,{id:D,showPoint:!0,targetRect:f.current.getBoundingClientRect(),options:M,hideDropdown:O,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}))}function tz(e){let t=r.useRef(null),a=(0,I.ks)(),n=C.z4.getIsExtension()?V.Ix+V.gC+48:a?V.gC+V.Kr+V.Ix+V.ff:V.gC+V.Kr+V.Ix,{activeTab:i,currentView:s}=(0,V.IT)(),c=(0,V.NF)(n),d=r.useRef(null),u=(0,l.wA)(),m=r.useCallback(e=>{t.current&&(e>0?t.current.className=o()(e4.gD,e4.d3):t.current.className=o()(e4.q_,e4.d3),u(y.oB()))},[t,u]);r.useEffect(()=>{d.current?.scrollToTop()},[i,s]);let _=r.createElement(r.Fragment,null,r.createElement(tW,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&r.createElement(tT,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&r.createElement(e1,null),"org"===e.currentView&&r.createElement(ts,{viewExpandedList:e.viewExpandedList}));return r.createElement("div",null,r.createElement("div",{className:o()(e4.q_,e4.d3),ref:t,"data-onboarding-key":"recents_and_saved_plugin_header"},r.createElement(tj,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&r.createElement("div",{className:e4.x0},r.createElement(M.n,{resourceType:i===eO.s.WIDGET?N.bD.WIDGET:N.bD.PLUGIN}))),r.createElement(p.P,{height:c,onScroll:m,innerClassName:a?f.cx.hFull.$:"",ref:d},_))}function tW({currentView:e}){let{activeTab:t}=(0,V.IT)(),a=x.sZ()?.id,n=(0,b.f6)(),l=(0,b.wW)(),i=t===eO.s.WIDGET?l:n,o="org"===e?i.filter(e=>e.org_id&&e.org_id===a):i;return 0===o.length?null:r.createElement("div",null,o.map((e,t)=>r.createElement(eP.ff,{resourceId:e.id,key:e.id,type:eP.R7.INVITED,keyboardNavigationPath:[V.dQ,t]})),r.createElement("div",{className:e4.Wz}))}function tj(e){let t=(0,l.wA)(),a=(0,k.Um)(),n=(0,x.sZ)(),i=(0,T.M)(),o=r.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,g.t)("universal_insert.recents_and_saved");case"development":return(0,g.t)("universal_insert.development");case"org":return t?.name||(0,g.t)("universal_insert.from_your_org")}})(e,n),[n]),s=["recents_and_saved"];return(i&&s.push("development"),1!==s.length||n)?r.createElement(O.l6,{id:"fd-browse-modal-main-view-select",property:e.currentView,formatter:{format:o},onChange:e.onChange,dispatch:t,chevronClassName:e4.bq,inputClassName:e4.yl,className:e4.E3,dropdownShown:a,dropdownWidth:173},s.map(e=>r.createElement(O.c$,{value:e,key:e},o(e))),n&&r.createElement(O.sK,null),n&&r.createElement(O.c$,{value:"org"},o("org"))):r.createElement("div",{className:e4.ZE},r.createElement("div",{className:e4.yl},o(s[0])))}},228302:(e,t,a)=>{a.d(t,{s:()=>g,w:()=>f});var n=a(411855),r=a(188507),l=a(946689),i=a(762638),o=a(939863),s=a(662275),c=a(964197),d=a(641638),u=a(335682),m=a(694687),p=a(239671),_=a(928754),f=(e=>(e.FigJamPluginTile="figjam_plugin_tile",e))(f||{});function g(e){let t=(0,r.wA)(),{version:a,isPlugin:f,variant:g}=e,h=(0,u.q5)(),E=(0,m.sZ)(),y=(0,d.RW)(),v=(0,c.a)(E?.id,a.plugin_id,y.loaded?y.data?.workspaceId:void 0);if(!h||!h.parentOrgId)return null;if(v){let e="figjam_plugin_tile"===g?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.approval_pending");return n.createElement(l.nR,{disabled:!0,className:i.cx.wFull.$,dataTestId:"request-button-approval-pending"},e)}let b={extension:{pluginId:a.plugin_id,iconUrl:a.redirect_icon_url,name:a.name},isWidget:!f,orgId:h.parentOrgId,workspaceDetails:y.loaded?y.data:void 0,openedFrom:"editor",fullscreenEditorType:(0,p.wN)(h.editorType)},C="figjam_plugin_tile"===g?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.request_approval");return n.createElement(l.nR,{onClick:()=>{t((0,s.to)({type:_.S,data:b}))},className:i.cx.wFull.$,dataTestId:"request-button"},C)}},766926:(e,t,a)=>{a.d(t,{G:()=>v,y:()=>b});var n=a(411855),r=a(188507),l=a(775419),i=a(587670),o=a(877723),s=a(939863),c=a(662275),d=a(101505),u=a(226055),m=a(457025),p=a(820642),_=a(498606),f=a(209234),g=a(27928),h=a(435898),E=a(861717),y=a(663364);let v="templates_toolbar";function b(){let e=(0,u.GS)(),t=(0,r.wA)(),a=(0,r.d4)(e=>e.modalShown?.type===g.PH.type),b=!(0,o.q8)()&&(0,h.Uy)(),C=(0,s.t)("whiteboard.inserts.templates"),w={isActive:a,onClick:()=>{a?t(c.Ce()):(m.oW.trigger("action",i.KWd.CLEAR),(0,g.KF)(t,{triggeredFrom:"toolbar",templateInsertionLocation:p.RD.CURRENT_FILE}))},trackingProperties:{trackingDescriptor:d.c.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:v};return e?n.createElement(E.Z,{tooltip:{type:_.Ib.TEXT,text:C},...w},n.createElement(l.Q,null)):n.createElement(f.P,{icon:y.A,addLeftMargin:!b,tooltipText:C,...w})}},10706:(e,t,a)=>{a.d(t,{s:()=>th});var n=a(411855),r=a(188507),l=a(891093),i=a(226055),o=a(860178),s=a(902938),c=a(327017),d=a(571232),u=a(636751),m=a(629019),p=a.n(m),_=a(563706),f=a(939863),g=a(29680),h=a(866564),E=a(590695),y=a(498606),v=a(7959),b=a(735208),C=a(842439),w=a(703248);let k="voice_widget--modal--xsQ2A",x="voice_widget--show--O6ORx voice_widget--modal--xsQ2A",T="voice_widget--icon--wW-wb",N="voice_widget--iconContainer--CuKNM",S="voice_widget--muteButtonPosition--J282V",I="voice_widget--topRow--O1wj-",A="voice_widget--voiceModalPanel--KD-J1";function L(e){let{fileKey:t}=e;var{userIdsInCall:a}=(0,d.W5)(t);let r=a.size,l=(0,g.aV)(),i=(0,o.iZ)();n.useEffect(()=>{!_.XN&&i?.id&&!a.has(i.id)&&(0,h.w$)(r)},[r,i?.id,a]);let s=!l&&!_.XN;return((0,E.N)({isVisible:s}),s)?n.createElement("div",{className:p()(k,{[x]:!0})},n.createElement(v.Id,{className:A},n.createElement("div",{className:I},n.createElement("div",{className:"voice_widget--joinModalCountGroup--zxI6Q"},n.createElement(b.A.HeadphonesIcon,{className:w.QH,size:24}),a.size),n.createElement(C.K,{fileKey:e.fileKey,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.join_conversation"),isJoinWidget:!0,"data-onboarding-key":"audio-nux-key"},(0,f.tx)("collaboration.voice.join"))))):n.createElement(n.Fragment,null)}var O=a(976404),M=a(139689),P=a(182550),R=a(36381),D=a(27087),F=a(46481),B=a(738269),U=a(662275),G=a(988022),H=a(373205),V=a(338400),K=a(325538),z=a(558867),W=a(752019),j=a(498480),q=a(574176),Y=a(507877),X=a(318812),J=a(206074),Z=a(227795);let Q="captions_dialog--showGradient--ZAHRk";var $=a(727507),ee=a(554653);let et="DROPDOWN_TYPE_CAPTIONS_DIALOG_TYPE_SIZE";function ea({caption:e,user:t}){let a=e.userId+"_"+e.timestamp;return n.createElement("div",{className:"captions_dialog--captionRow--pgS-N",key:a},n.createElement("div",null,n.createElement(z.Ro,{className:"captions_dialog--avatar--ISexR",entity:{...t,id:e.userId},size:24}),n.createElement("div",{className:"captions_dialog--name--SmWv6"},t?t.name:e.userId)),e.text.map((e,t)=>n.createElement("div",{className:"captions_dialog--paragraph--SjDQd",key:a+"_"+t},e.map((e,r)=>n.createElement("div",{className:"captions_dialog--sentence--SJkHn",key:a+"_"+t+"_"+r},`${e} `)))))}let en=()=>({small:{style:"captions_dialog--smallText--aUeBx",label:(0,f.t)("collaboration.voice.small")},medium:{style:"captions_dialog--mediumText--ODxEN",label:(0,f.t)("collaboration.voice.medium")},large:{style:"captions_dialog--largeText---t1d2",label:(0,f.t)("collaboration.voice.large")},x_large:{style:"captions_dialog--xlargeText--C60DA",label:(0,f.t)("collaboration.voice.x_large")}}),er=Date.now();function el({call:e}){let t=en(),[a,l]=n.useState([]),[i,o]=n.useState(t.small.style),[s,c]=n.useState(!1),[u,m]=n.useState(!1),[p,_]=n.useState(!1),g=(0,r.d4)(e=>{if(!e.openFile)throw Error("Open file required");return e.openFile}),h=(0,r.d4)(e=>e.voice.activeCall[g.key]),E=(0,r.wA)(),[v,b]=n.useState(null),C=(0,X.Um)(),w=n.useRef(null),k=!!(C&&C.type===et),x=a.reduce((e,t)=>e.add(t.userId),new Set),T=(0,d.bF)(x,g.key).reduce((e,t)=>(e[t.userID]=t,e),{});n.useEffect(()=>{let t=e=>{e&&l(e)};return e.audioCaptionStream.subscribe(t),()=>e.audioCaptionStream.unsubscribe(t)}),n.useEffect(()=>{v&&v.scrollHeight-v.scrollTop-v.clientHeight<150&&er<Date.now()-150&&v.scrollTo({top:v.scrollHeight-v.clientHeight,behavior:"smooth"})}),n.useEffect(()=>{v&&!p&&(v.scrollTop=v.scrollHeight-v.clientHeight)},[v,p]);let N=!p&&h;return n.createElement("div",{className:["captions_dialog--captionsDialog--gOIvh",i].join(" ")},n.createElement("div",{className:["captions_dialog--topDivider--BlM0x captions_dialog--_divider--m8Skg",s?Q:""].join(" ")}),N&&n.createElement("div",{className:"captions_dialog--scrollContainer--WuVOJ",ref:e=>b(e),onScroll:e=>{v&&(m(0!=v.scrollHeight-v.scrollTop-v.clientHeight),c(0!==v.scrollTop))},onWheel:e=>{e.deltaY<0&&(er=Date.now())}},n.createElement("div",{className:"captions_dialog--scrollContainerInner--db2cV"},a.map(e=>n.createElement(ea,{key:e.timestamp,caption:e,user:T[e.userId]})))),N&&n.createElement("div",{className:["captions_dialog--bottomDivider--WBbo5 captions_dialog--_divider--m8Skg",u?Q:""].join(" ")}),N&&n.createElement("button",{onClick:()=>v.scrollTo({top:v.scrollHeight-v.clientHeight,behavior:"smooth"}),className:`captions_dialog--scrollToBottomButton--SeU-4 ${u?"captions_dialog--show--LLYog":""}`},(0,f.tx)("collaboration.voice.new_transcripts")),n.createElement("div",{className:"captions_dialog--header--SA3Wv",onClick:()=>_(!p)},n.createElement(q.B,{className:N?"captions_dialog--closedCaptionsIconMaximized--N-lwT":"captions_dialog--closedCaptionsIconMinimized--Ou0WE",svg:$.A}),n.createElement("span",{className:"captions_dialog--label---1DXk"},(0,f.tx)("collaboration.voice.closed_captions")),n.createElement(j.Ex,{text:(0,f.t)("collaboration.voice.beta"),className:"captions_dialog--betaTag--qFyxq",color:j.zE.BRAND}),n.createElement(Z.K0,{svg:ee.A,ref:w,className:"captions_dialog--typeSizeIcon--Xhxj-",onClick:e=>{e.stopPropagation(),E(Y.gR({type:et}))},"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.text_size")}),w.current&&k&&n.createElement(J.j,{dispatch:E,items:Object.keys(t).map(e=>({name:e,displayText:t[e].label,className:[t[e].style,"captions_dialog--dropdownTextOptions--ma0Ue"].join(" "),isChecked:t[e].style===i})),showPoint:!0,parentRect:w.current?.getBoundingClientRect(),onSelectItem:e=>{e.name&&o(t[e.name].style)},minWidth:96}),n.createElement("div",{style:{clear:"both"}})))}var ei=a(325655),eo=a(118786),es=a(517333),ec=a(966712),ed=a(951158),eu=a(247866);let em=[u.$E.WARNING_RECV_AUDIO_DECODE_FAILED,u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW,u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW,u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW];function ep(e){let t;if((0,ed.Im)(e.activeWarnings))return null;for(let a of em)if(e.activeWarnings[a]){t=e.activeWarnings[a];break}return t?n.createElement("div",{className:e.className,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},n.createElement(q.B,{className:T,svg:eu.A})):null}function e_(e){if((0,ec.kc)().voice_localization_june_24)switch(e){case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:return(0,f.t)("collaboration.voice.audio_input_too_low_warning");case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:return(0,f.t)("collaboration.voice.speaker_volume_too_low_warning");case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:return(0,f.t)("collaboration.voice.poor_connection_warning");default:return null}switch(e){case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:return"Mic volume low. Consider switching devices.";case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:return"Speaker or headphone volume low. Consider switching devices.";case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:return"Connection is poor. Check your internet or leave and rejoin the conversation.";default:return null}}function ef(e){let{callEvent:t,onClick:a,notificationUserId:l}=e.notification,[o,c]=n.useState(null),[d,m]=n.useState(!1),p=n.useRef(),_=n.useRef(t),[g,h]=n.useState(),E=(0,r.d4)(e=>e.multiplayer.allUsers),y=(0,r.d4)(e=>e.voice.voiceUsersById),b=(0,i.GS)(),C=n.useMemo(()=>{if(l){if(l in y)return y[l].name;let e=E.find(e=>e.userID===l);if(e)return e.name}return"User"},[l,y,E]),w=g?.href,k=n.useMemo(()=>w?"a":"div",[w]);if(n.useEffect(()=>()=>{p?.current&&clearTimeout(p.current)},[]),n.useEffect(()=>{let e=()=>{m(!1),c(null)};g?(m(!0),c(null),g.persist||c(setTimeout(()=>{e()},2e3))):e()},[g]),n.useEffect(()=>()=>{o&&clearTimeout(o)},[o]),n.useEffect(()=>{switch(_.current=t,t){case u.$E.CONNECTED:h({msg:(0,f.t)("collaboration.voice.connected"),type:u.w.SUCCESS,icon:b?n.createElement(eo.g,null):void 0});break;case u.$E.CONNECTED_WITH_MIC_DISABLED:h({msg:(0,f.t)("collaboration.voice.connected_check_your_microphone_permissions_to_start_chatting"),allowMultiLine:!0,type:u.w.SUCCESS});break;case u.$E.CONNECTING:h({msg:(0,f.t)("collaboration.voice.connecting"),type:u.w.PENDING,persist:!0});break;case u.$E.ERROR:h({msg:(0,f.t)("collaboration.voice.something_went_wrong_try_again"),type:u.w.ERROR,persist:!0});break;case u.$E.CALL_INACTIVE:h({msg:(0,f.t)("collaboration.voice.things_got_quiet_for_awhile_so_we_ended_the_conversation"),type:u.w.PENDING,persist:!1,allowMultiLine:!0});break;case u.$E.TOKEN_WILL_EXPIRE:h({msg:(0,f.t)("collaboration.voice.it_s_been_quiet_for_a_while_so_we_ll_end_the_conversation_in_20_seconds_n_click_to_stay_on"),type:u.w.MESSAGE,persist:!0,onClick:a,allowMultiLine:!0});break;case u.$E.TOKEN_EXPIRED:h({msg:(0,f.t)("collaboration.voice.audio_has_timed_out_click_to_rejoin"),type:u.w.ERROR,persist:!0,onClick:a});break;case u.$E.USER_JOINED:h({truncatedPrefix:C,msg:(0,f.t)("collaboration.voice.joined"),type:u.w.MESSAGE});break;case u.$E.USER_LEFT:h({truncatedPrefix:C,msg:(0,f.t)("collaboration.voice.left"),type:u.w.MESSAGE});break;case u.$E.ERROR_MICROPHONE_PERMISSIONS_DENIED:let e=(0,f.t)("collaboration.voice.enable_mic_access_in_your_browser_to_join");es.eD&&(e=(0,f.t)("collaboration.voice.enable_mic_access_for_the_figma_app_to_join")),h({msg:e,type:u.w.ERROR,href:s.AM.TROUBLESHOOT});break;case u.$E.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED:h({msg:(0,f.t)("collaboration.voice.want_to_unmute_click_the_mic"),type:u.w.PENDING});break;case u.$E.ERROR_ON_LEAVE:h({msg:(0,f.t)("collaboration.voice.couldn_t_leave_please_try_again"),type:u.w.ERROR});break;case u.$E.SYSTEM_INCOMPATIBLE:h({msg:(0,f.t)("collaboration.voice.figma_audio_won_t_work_on_your_device_learn_why"),type:u.w.ERROR,persist:!0,allowMultiLine:!0,href:s.AM.TROUBLESHOOT});break;case u.$E.DISCONNECTING:case u.$E.RECONNECTING:p.current=setTimeout(()=>{_.current===u.$E.RECONNECTING&&(h({msg:(0,f.t)("collaboration.voice.attempting_to_reconnect"),type:u.w.PENDING,persist:!0}),p.current=void 0)},1500);break;case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:let r=e_(t);if(!r)break;h({msg:r,type:u.w.WARNING,allowMultiLine:!0})}},[t]),void 0===t)return n.createElement(n.Fragment,null);let x=["expanded"===e.widgetState?"voice_flash_notifications--flashExpandedList--NkNnw voice_flash_notifications--flash--8i3SH":"voice_flash_notifications--flash--8i3SH",d?function(){switch(g?.type){case u.w.ERROR:return"voice_flash_notifications--flashError--6fLPW";case u.w.WARNING:return"voice_flash_notifications--flashWarning--tdCit";case u.w.MESSAGE:return"voice_flash_notifications--flashMessage--lt-k-";case u.w.SUCCESS:return"voice_flash_notifications--flashSuccess--hmpUM";case u.w.PENDING:default:return"voice_flash_notifications--flashPending--Hzt7W"}}():"voice_flash_notifications--flashHidden--uYI96"];return n.createElement(v.Id,{onClick:g?.onClick,className:x.join(" ")},n.createElement(k,{className:g?.allowMultiLine||b?"voice_flash_notifications--flashNotificationMessageWrap--eXghM voice_flash_notifications--flashNotificationMessageBase--wxFPN":"voice_flash_notifications--flashNotificationMessageEllipsis--eBEYX voice_flash_notifications--flashNotificationMessageBase--wxFPN ellipsis--ellipsis--Tjyfa",target:"_blank",rel:"noopener",href:g?.href},g?.truncatedPrefix&&n.createElement("span",{className:"voice_flash_notifications--truncatedPrefix---gMQI ellipsis--ellipsis--Tjyfa"},g?.truncatedPrefix),g?.icon,g?.msg))}var eg=a(96328),eh=a(827586),eE=a(70699),ey=a(27947),ev=a(749283);let eb="active_speakers_row--name--LtwVz ellipsis--ellipsis--Tjyfa",eC="active_speakers_row--pos1--88uza active_speakers_row--pos--D59NJ",ew="active_speakers_row--fadeOut--2tZhG",ek="active_speakers_row--willFadeIn--fFCX6",ex="active_speakers_row--activeSpeakerRowAvatar--zKOXb",eT=(e,t)=>e.userID===t.userID,eN=(e,t)=>{let a=e.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID),n=t.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID);if(a.length!==n.length)return!0;for(let e=0;e<a.length;e++)if(a[e]!==n[e])return!0;return!1},eS=(e,t)=>{let a=t.filter(t=>!e.find(e=>eT(e,t))),n=e.filter(e=>!t.find(t=>eT(e,t))),r=e.map(e=>n.indexOf(e)>-1?e:void 0),l=e.map(e=>-1===n.indexOf(e)?e:a.shift()).filter(e=>!!e);return a.length>0&&l.push(...a),t.length>1&&1===e.length&&(r[1]=e[0]),{fadeOut:r,active:l}},eI=(0,r.Ng)((e,t)=>({...t,observingSessionID:e.multiplayer.observingSessionID,presenterSessionID:e.multiplayer.presenterSessionID??null}))(function({user:e,classNames:t,observingSessionID:a,presenterSessionID:r,call:l}){let i;let o=(Array.isArray(t)?[...t,ex]:[t,ex]).join(" "),c=(0,s.eo)(),d=n.createElement(z.Ro,{entity:{...e,id:e.userID},className:"active_speakers_row--activeSpeakerRowAvatarWithoutMultiplayer--W-S0A",size:24,key:e.userID}),m=e=>{e.stopPropagation()};return"sessionID"in e&&(i=`active-speaker-row-voice-avatar-session-${e.sessionID}`,d=n.createElement(ey.vQ,{sessionID:e?.sessionID,observingSessionID:a,presenterSessionID:r??null,nominatedSessionID:null,user:e,showColorIndicators:!0,tooltipProxyId:i}),m=t=>{t.stopPropagation(),t.preventDefault(),c(e)}),n.createElement("div",{className:o},n.createElement("div",{className:"active_speakers_row--avatarObserveClickTarget--T1JH- voice_toolbar--avatarObserveClickTarget--QALFw",onClick:m,"data-tooltip-proxy-element-id":i}),d,n.createElement(ev.i,{userId:e.userID,microphoneStyle:u.bU.FULL,call:l,volumeIconMutedState:ev.S.MINI,className:"active_speakers_row--voiceIndicatorPositioning--YqGFz"}))});function eA({user:e,classNames:t}){return n.createElement("div",{className:eb+" "+(Array.isArray(t)?t.join(" "):t)},e.name)}let eL=["active_speakers_row--pos0--Dc1bB active_speakers_row--pos--D59NJ",eC,"active_speakers_row--pos2--b5pkb active_speakers_row--pos--D59NJ","active_speakers_row--pos3--EAAkN active_speakers_row--pos--D59NJ","active_speakers_row--pos4--R5-5y active_speakers_row--pos--D59NJ","active_speakers_row--pos5--FYPvT active_speakers_row--pos--D59NJ","active_speakers_row--pos6--PTsn8 active_speakers_row--pos--D59NJ","active_speakers_row--pos7--DjtPj active_speakers_row--pos--D59NJ"];class eO extends n.Component{constructor(e){super(e),this.displayString="ActiveSpeakersRow",this.node=null,this.state={active:[],fadeOut:[]}}componentWillMount(){this.setState(eS(this.state.active,this.props.users))}shouldComponentUpdate(e,t){return e===this.props||(eN(this.props.users,e.users)&&this.setState(eS(this.state.active,e.users)),!1)}render(){let e=(e,t)=>`${e.name}-${t}`,t=[],a=c.h.getInstance();if(!a)return null;if(1===this.state.fadeOut.length&&this.state.fadeOut[0]){let r=this.state.fadeOut[0];t.push(n.createElement(eI,{call:a,key:e(r,"avatar"),user:r,classNames:[eL[0],ew]}),n.createElement(eA,{key:e(r,"name"),user:r,classNames:[eC,ew,eb]}))}else if(2===this.state.fadeOut.length&&!this.state.fadeOut[0]&&this.state.fadeOut[1]){let a=this.state.fadeOut[1];t.push(n.createElement(eA,{key:e(a,"name"),user:a,classNames:[eC,ew,eb]}))}else t.push.apply(t,this.state.fadeOut.map((t,r)=>t&&n.createElement(eI,{call:a,key:e(t,"avatar"),user:t,classNames:[eL[r],ew]})));if(1===this.state.active.length){let r=this.state.active[0];t.push(n.createElement(eI,{call:a,key:e(r,"avatar"),user:r,classNames:[eL[0],ek]}),n.createElement(eA,{key:e(r,"name"),user:r,classNames:[eC,ek,eb]}))}else t.push.apply(t,this.state.active.map((t,r)=>n.createElement(eI,{call:a,key:e(t,"avatar"),user:t,classNames:[eL[r],ek]})));return t.sort((e,t)=>null===e.key||null===t.key?0:e.key>t.key?-1:1),setTimeout(()=>{this.node?.querySelectorAll("."+ek).forEach(e=>e.classList.remove(ek))},10),n.createElement("div",{ref:e=>this.node=e,className:"active_speakers_row--activeSpeakerRow--l5ylB"},t)}}function eM(e){let{call:t,usersInCall:a}=e,r=(0,o.iZ)(),l=(0,K.mt)(t),i=n.useMemo(()=>l?.filter(e=>e!==r?.id)?.slice(0,6).reduce((e,t)=>{let n=a.find(({userID:e})=>e===t);return n?e.concat([n]):e},[])||[],[l,a,r]);return n.createElement(eO,{users:i})}var eP=a(783423),eR=a(560560);function eD(e){let{children:t,headerText:a,collapsedContent:r,theme:l,onToggle:i,collapseStateOverride:o}=e,[s,c]=n.useState(!1),d=o||s;return n.createElement("span",{"data-editor-theme":l},n.createElement(v.fI,{className:d?"voice_collapsible_dropdown--isCollapsed--SwBvz":""},n.createElement("span",{className:"voice_collapsible_dropdown--dropdownSectionTitle--lpt22",onClick:t=>{t.preventDefault(),t.stopPropagation(),i&&!0!==e.hideToggleOption&&i(!d),c(!d)}},d?r:a,!e.hideToggleOption&&n.createElement(q.B,{svg:d?eP.A:eR.A,className:"voice_collapsible_dropdown--voiceDropdownChevronIcon--JgQxE"}))),!d&&t&&n.createElement(n.Fragment,null,t))}var eF=a(714786);let eB=(0,r.Ng)(e=>({showWidgetParticipantList:e.voice.showWidgetParticipantList}))(function(e){let{showWidgetParticipantList:t}=e,a=(0,o.iZ)(),i=(0,r.wA)(),{userIdsInCall:c}=(0,d.W5)(e.fileKey),m=(0,d.bF)(c,e.fileKey),p=(0,s.eo)(),{usersInCall:_,callMetadata:f}=n.useMemo(()=>({usersInCall:m.filter(e=>e.userID!==a?.id),callMetadata:{microphoneStyle:u.bU.FULL,call:e.call}}),[m,a,e.call]);return n.createElement(n.Fragment,null,n.createElement(ey.sK,null),_.length>0&&n.createElement("div",{className:eF.ev},n.createElement(eD,{headerText:`${e.currentUserInCall?"You and ":""}`+(0,eg.td)(_.length,"person","people")+" in conversation",collapseStateOverride:!t,collapsedContent:n.createElement(eM,{usersInCall:_,call:e.call}),hideToggleOption:_.length<2,onToggle:e=>i(l.yF(!e))},n.createElement(eh.P,{className:eF.YM},_.map(e=>n.createElement(eE.Q,{key:"sessionID"in e?e.sessionID:e.userID,callMetadata:f,user:e,isOverflow:!0,onUserClick:p}))))))});var eU=a(256296),eG=a(912925),eH=a(173919),eV=a(43604);function eK(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 7h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1M5 8a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2zm4.5 7a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1zm4.5-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m-3.5-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1zm2.5 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5M7.5 13a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}var ez=a(776250),eW=a(91408),ej=a(44948),eq=a(799569),eY=a(493323),eX=a(392592),eJ=a(672517),eZ=a(720488),eQ=a(538697),e$=a(860168);let e0="device_controls--pointingDropdown--hSJ1h",e1="device_controls--containerWithPadding--IlJeH",e2="device_controls--deviceControlRow--kSC19",e5="device_controls--controlLabel--Yp1lV",e3="device_controls--iconContainer--TuXUt",e4="device_controls--dropdownContainer--DfMXW",e6="device_controls--dropdownInput--w72f-",e7="device_controls--dropdownChevron--UBe58",e8="device_controls--divider--Z8rM-";var e9=a(909345);let te="MICROPHONE_CONTROL_DROPDOWN",tt="PLAYBACK_DEVICE_CONTROL_DROPDOWN",ta=(0,eW.jz)(e$.aHA);function tn(e,t,a,l,i,o,s){let c=(0,r.wA)(),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)([]),g=(0,r.d4)(e=>e.dropdownShown?.type===l),h=(0,ej.wm)(()=>m.map(e=>e.deviceId),[m]),E=(0,n.useCallback)(async()=>{try{let e=await t(),a=new Set(h);(h.length!==e.length||e.some(e=>!(e.deviceId in a)))&&p(e)}catch{s||c(eX.F.enqueue({message:(0,f.t)("collaboration.voice.error_fetching_devices"),error:!0,type:"voice-device-error"}))}},[h,c,t,s]),y=(0,n.useCallback)(async()=>{try{if(o&&!_.Ay.chrome)return;let t=await e();t.deviceId!==d?.deviceId&&u(t)}catch{}},[o,e,d]),v=(0,n.useCallback)(async e=>{e.deviceId!==d?.deviceId&&u(e);try{await a(e)}catch{c(eX.F.enqueue({message:(0,f.t)("collaboration.voice.error_selecting_device"),error:!0,type:"voice-device-error"})),await y()}},[y,a,c,d]);return(0,n.useEffect)(()=>{(i||g)&&E()},[i,g,E]),(0,n.useEffect)(()=>{y(),E()},[]),[d,m,v]}function tr(e){let[t,a,r]=tn(e.call.currentMicrophone,e.call.getMicrophones,e.call.setMicrophone,te,e.isOpen,!1,e.microphonePermissionDenied),[l,i,o]=tn(e.call.currentPlaybackDevice,e.call.getPlaybackDevices,e.call.setPlaybackDevice,te,e.isOpen,!0,e.microphonePermissionDenied),s=e.targetRef.current?.getBoundingClientRect();return e.isOpen?n.createElement(tl,{targetRect:s,currentMicrophone:t,microphoneDevices:a,setMicrophone:r,currentPlaybackDevice:l,playbackDevices:i,setPlaybackDevice:o}):null}function tl(e){let{targetRect:t,currentMicrophone:a,microphoneDevices:l,setMicrophone:o,currentPlaybackDevice:s,playbackDevices:c,setPlaybackDevice:d}=e,u=(0,r.wA)(),m=(0,i.GS)(),[p,g]=(0,n.useState)({type:""}),h=()=>{g({type:""})},E={format:e=>e?.label||"",isEqual:(e,t)=>e.deviceId===t.deviceId},y=m?n.createElement(F.U,{svg:e9.A},n.createElement(eH.P,null)):void 0,C=m?n.createElement(F.U,{svg:e9.A},n.createElement(eV.L,null)):void 0,w=n.createElement(eQ.l6,{className:e4,inputClassName:e6,chevronClassName:e7,id:te,icon:y,property:a||{deviceId:"not_found",label:(0,f.t)("collaboration.voice.microphone_not_found"),groupId:"not_found",kind:"audioinput",toJSON:()=>null},dispatch:u,dropdownShown:p,onChange:e=>{o(e)},formatter:E,neverConstrain:!0,onHideDropdownOverride:h,onShowDropdownOverride:()=>g({type:te})},l.map(e=>n.createElement(eQ.c$,{key:e.deviceId,value:e},e.label))),k=n.createElement(eQ.l6,{className:e4,inputClassName:e6,chevronClassName:e7,id:tt,property:s||{deviceId:"not_found",label:(0,f.t)("collaboration.voice.playback_device_not_found"),groupId:"not_found",kind:"audiooutput",toJSON:()=>null},icon:C,dispatch:u,dropdownShown:p,onChange:e=>{d(e)},formatter:E,neverConstrain:!0,onHideDropdownOverride:h,onShowDropdownOverride:()=>g({type:tt})},c.map(e=>n.createElement(eQ.c$,{key:e.deviceId,value:e},e.label))),x=n.createElement(n.Fragment,null,n.createElement("div",{className:e8}),!(0,V.WO)()&&n.createElement(to,null),(0,V.WO)()&&n.createElement(ti,null));return m?n.createElement(eZ.Cf,{className:e0,targetRect:t,minWidth:ta,propagateCloseClick:!0,lean:"left",leanPadding:52},n.createElement("div",{onClick:e=>e.stopPropagation()},n.createElement("div",{className:"device_controls--header---h3P-"},(0,f.t)("collaboration.voice.audio_settings"),n.createElement(eq.Jn,{onClick:()=>u(B.oB())})),n.createElement("div",{className:"device_controls--container--VR8KK"},n.createElement(v.fI,{className:e2},n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.microphone")),w),_.Ay.chrome&&n.createElement(v.fI,{className:e2},n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.speakers")),k))),(0,V.X0)()&&x):n.createElement(eZ.Cf,{showPoint:!!t,targetRect:t,className:e0,minWidth:280,propagateCloseClick:!0},n.createElement("div",{onClick:e=>e.stopPropagation()},n.createElement("div",{className:e1},n.createElement(v.fI,{className:e2},n.createElement("span",{className:e3},n.createElement(b.A.Unmuted,{size:24})),n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.microphone"))),n.createElement(v.fI,{className:e2},w)),_.Ay.chrome&&n.createElement(n.Fragment,null,n.createElement("div",{className:e8}),n.createElement("div",{className:e1},n.createElement(v.fI,{className:e2},n.createElement("span",{className:e3},n.createElement(q.B,{svg:e9.A})),n.createElement("span",{className:e5},(0,f.tx)("collaboration.voice.speakers"))),n.createElement(v.fI,{className:e2},k))),(0,V.X0)()&&x))}function ti(){let e=(0,r.d4)(e=>e.voice.captionsInstallProgress),t=(0,r.d4)(e=>e.voice.showCaptions),a=(0,r.wA)(),l=n.useId(),i=n.createElement(F.U,{className:e3,svg:$.A},n.createElement(eK,null)),o=(0,f.tx)("collaboration.voice.closed_captioning"),s=n.createElement(j.Ex,{text:(0,f.t)("collaboration.voice.beta"),className:"device_controls--betaTag---VTFI",color:j.zE.BRAND});return t&&(0,V.Mw)(e)&&(o=(0,f.tx)("collaboration.voice.setting_up_closed_captions_install_progress",{installProgress:e}),i=n.createElement(eY.kt,{className:"device_controls--captionsLoadingSpinner--ivdGQ"}),s=n.createElement(n.Fragment,null)),n.createElement(eU.J,{className:"device_controls--closedCaptionRow--OdIHt raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19",htmlFor:l},i,n.createElement("span",{className:"device_controls--captionToggleLabel--MjCYn device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV"},o,s),n.createElement(eG.v,{id:l,checked:t,onChange:(e,{event:t})=>{t.stopPropagation(),(0,ez.sx)("voice_captions_toggle",{value:e,source:"voice_widget"}),(0,V.HJ)(a,e)}}))}function to(){let e=s.AM.ACCESSIBILITY;return n.createElement(eJ.L0,{target:"_blank",rel:"noopener",href:e,trackingEventName:"Learn more about captioning"},n.createElement(v.fI,{className:"device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19"},n.createElement(q.B,{className:e3,svg:$.A}),n.createElement("span",{className:"device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV"},(0,f.tx)("collaboration.voice.learn_how_to_turn_on_closed_captioning"))))}var ts=a(654703),tc=a(776836);let td="DEVICE_CONTROL_DROPDOWN",tu=null,tm=null,tp=null;function t_(e){let{call:t,fileKey:a,user:o,callEvent:s,notificationUserId:c,callEventCallback:m}=e,_=(0,r.Pj)(),[g,h]=(0,n.useState)(null),[b,C]=(0,n.useState)(),[w,L]=(0,n.useState)(!1),[K,z]=(0,n.useState)(!1),[j,q]=(0,n.useState)(!1),[Y,X]=(0,n.useState)(!1),J=(0,r.d4)(e=>e.voice.snapWidget),[Z,Q]=(0,n.useState)(!1),[$,ee]=(0,n.useState)(!1),[et,ea]=(0,n.useState)({}),{userIdsInCall:en}=(0,d.W5)(a);(0,H.W)();let er=(0,r.d4)(e=>e.voice.showCaptions),eo=(0,r.d4)(e=>e.voice.captionsInstallProgress),es=(0,r.d4)(e=>e.dropdownShown?.type===td),ec=(0,r.d4)(e=>e.voice.activeCall[a]||!1),ed=(0,r.d4)(e=>e.voice.showWidgetParticipantList),eu=(0,n.useRef)(null),em=(0,i.GS)(),eg=(0,r.wA)(),eh={in:()=>{q(!0)},out:()=>(q(!1),new Promise(e=>setTimeout(e,300)))};n.useEffect(()=>{let e=t.getSystemCompatibility();if(h(e),!e){m(u.$E.SYSTEM_INCOMPATIBLE);return}return tu||tm||(tm=new Audio("https://static.figma.com/uploads/94721b53827c353075273e54a45ea41850ee0284"),(tu=new Audio("https://static.figma.com/uploads/d917bf9964749c47b46d367572a5dd28a559bd2f")).load(),tm.load(),[tm,tu].forEach(e=>e.volume=.5)),()=>{eg(l.Pp(!1))}},[]),n.useEffect(()=>{!ec&&g&&ev(),window.requestAnimationFrame(()=>eh.in())},[g]),n.useEffect(()=>{let e;switch(s){case u.$E.DISCONNECTED:$&&(tm?.play(),ee(!1)),eg(l.oI({fileKey:a}));break;case u.$E.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT:(function e(a){if(Date.now()>=a){m(u.$E.TOKEN_WILL_EXPIRE);return}if(t.isLocalUserSpeaking()){eC(!1);return}setTimeout(()=>{e(a)},500)})(Date.now()+1e4);break;case u.$E.CONNECTED:case u.$E.CONNECTED_WITH_MIC_DISABLED:Z&&(setTimeout(()=>tu?.play(),400),Q(!1)),eg(l.rO({fileKey:a}));break;case u.$E.CALL_INACTIVE:t.leave();break;case u.$E.TOKEN_WILL_EXPIRE:e=()=>eC(!0);break;case u.$E.TOKEN_EXPIRED:e=ev;break;case u.$E.USER_JOINED:case u.$E.USER_LEFT:if(tp)return;break;case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED:let n=e_(s);if(!n)break;ea({...et,[s]:n});break;case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:let r=function(e){switch(e){case u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:return u.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW;case u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:return u.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW;case u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:return u.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW;case u.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:return u.$E.WARNING_RECV_AUDIO_DECODE_FAILED;default:return null}}(s);if(!r)break;delete et[r],ea(et)}void 0!==s&&C({callEvent:s,onClick:e,notificationUserId:c})},[s]),n.useEffect(()=>{X(!0)},[J]),n.useEffect(()=>{Y&&X(!1)},[Y]);let[eE,ey]=(0,n.useState)(!0),ev=async()=>{if(ey(!0),!t.getSystemCompatibility()){ey(!1),m(u.$E.SYSTEM_INCOMPATIBLE);return}L(!0),Q(!0),tp=setTimeout(()=>{tp=null},5e3);try{let{data:e}=await D.Ay.post(`/api/voice/${a}/auth`),n=await (0,R.JL)(e.meta.user_encryption_key),r=await (0,R.We)(n,e.meta.call_user_id);if(r!=r)throw Error(`User ID does not match local user ID.
local: ${r}
remote: ${r}`);await t.join({appId:e.meta.app_id,callId:e.meta.call_id,token:e.meta.auth_token,callUserId:e.meta.call_user_id,userId:r,encryptionKey:e.meta.call_encryption_key,userEncryptionKey:n,setParticipantIdsCallback:eb,callEventCallback:m,store:_,fileKey:a})}catch(e){ey(!1),m(u.$E.ERROR)}L(!1),ey(!1)};function eb(e){eg(l.cb(e))}(0,E.N)({isVisible:j});let eC=async e=>{let{data:n}=await D.Ay.post(`/api/voice/${a}/auth`,{call_user_id:t.uid});await t.renewToken(n.meta.auth_token),e?m(u.$E.CONNECTED):m(u.$E.TOKEN_SILENTLY_RENEWED)},ew=async()=>{L(!0),ee(!0);try{await Promise.all([eh.out(),t.leave()]),eg(l.oI({fileKey:a})),tm?.play(),es&&eg(B.oB()),eg(l.Pp(!1))}catch{eh.in(),m(u.$E.ERROR_ON_LEAVE)}L(!1)},ek=async e=>{(0,G.ds)("voice_user_mute_toggle",a,_.getState(),{source:"voice_widget",muted:!e}),e?await t.unmute():await t.mute()},ex=b?b&&en.size>1&&ed?"expanded":"collapsed":null;er&&(0,V.nN)(eo)&&((0,G.ds)("voice_caption_download_error",a,_.getState(),{error_code:eo,source:"voice_widget"}),(0,V.HJ)(eg,!1),eg((0,U.to)({type:W.L,data:{dispatch:eg,installProgress:eo}})));let eT=n.createElement("span",{onClick:()=>{(0,G.ds)("voice_widget_minimized_toggle",a,_.getState(),{minimized:!1}),eg(l.Pp(!1))},className:["voice_widget--dismissButtonPosition--eEXoz",N].join(" "),"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.minimize")},n.createElement(F.U,{className:T,svg:ts.A,fallbackSvg:ts.A},n.createElement(M.A,null))),eN=(0,O.U1)();return n.createElement("div",{className:p()("voice_widget--hybridModalWrapper--x9-GE"),ref:eN},n.createElement("div",{className:p()(k,{[x]:j})},n.createElement(v.Id,{className:A},n.createElement("div",{className:I},n.createElement("span",{className:ec||K?"voice_widget--currentUser--L7Z6l":"voice_widget--inactiveCurrentUser--yVaZY voice_widget--currentUser--L7Z6l"},n.createElement(tf,{user:o,call:e.call})),n.createElement(ep,{className:"voice_widget--warningIcon--WJPdH",activeWarnings:et}),n.createElement(ei.Y,{userId:o.id,onMuteButtonClickCallback:ek,disabled:t.microphonePermissionDenied,className:[S,N].join(" "),disabledClassName:[S,"voice_widget--muteButtonDisabled--fJzUI"].join(" ")}),n.createElement("span",{className:["voice_widget--controlsButtonPosition--TTGIU",es?"voice_widget--controlsButtonActive--vE2c-":N].join(" "),onMouseDown:()=>{es?eg(B.oB()):((0,G.ds)("voice_widget_open_settings",a,_.getState()),eg(B.j7({type:td})))},onClick:e=>e.stopPropagation(),ref:eu,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,f.t)("collaboration.voice.settings")},n.createElement(F.U,{className:T,svg:tc.A,fallbackSvg:tc.A},n.createElement(P.I,null))),n.createElement("button",{className:ec?"voice_widget--leaveButton--UUdxH basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd":"voice_widget--joinButton--WvZPr basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:ec?ew:ev,disabled:!g||w,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1)},ec||eE?(0,f.tx)("collaboration.voice.leave"):(0,f.tx)("collaboration.voice.join")),!em&&eT),ec&&n.createElement(eB,{fileKey:a,currentUserInCall:ec,call:t}),(0,V.WO)()&&er&&n.createElement(el,{call:t})),!em&&b&&n.createElement(ef,{notification:b,widgetState:ex})),em&&b&&n.createElement(ef,{notification:b,widgetState:ex}),n.createElement(tr,{isOpen:es,call:t,targetRef:eu,microphonePermissionDenied:t.microphonePermissionDenied}))}function tf({user:e,call:t}){return n.createElement(n.Fragment,null,n.createElement(tg,{user:e,call:t}),n.createElement(z.Ro,{entity:e,size:24,className:"voice_widget--undraggableImage--muN9g"}))}function tg({user:e,call:t}){let a=(0,K.Wl)(e.id,t);return!a||a.isMuted?null:n.createElement(ev.i,{userId:e.id,microphoneStyle:u.bU.FULL,className:"voice_widget--avatarVoiceIndicator--zfWwx",volumeIconMutedState:ev.S.NONE,call:t})}function th(){let e=(0,r.d4)(e=>e.mirror.appModel.showUi),t=(0,r.d4)(e=>e.openFile?.key||null),a=(0,o.iZ)(),m=(0,r.d4)(e=>e.voice.showWidget),p=(0,r.d4)(e=>t&&t in e.voice.activeCall),_=(0,r.d4)(e=>t&&!!e.voice.activeCall[t]),{userIdsInCall:f}=(0,d.W5)(t,!0),g=(0,d.bF)(f,t).length,h=(0,s.qr)(),E=(0,r.wA)(),[y,v]=(0,n.useState)(),[b,C]=(0,n.useState)(),w=(0,i.GS)(),k=n.useCallback((e,t)=>{u.GA.has(e)&&E(l.Pp(!0)),t&&C(t),v(e)},[E]),x=(0,r.d4)(e=>e.voice.captionsInstallProgress),T=(0,r.d4)(e=>e.voice.showCaptions);return(n.useEffect(()=>{h&&(h.captionsToggleEnabled=T,h.streamAudioForCaptions(T&&100===x))},[T,x,h]),n.useEffect(()=>{m||(C(void 0),v(void 0))},[m]),n.useEffect(()=>{t&&!p&&g>0?E(l.Zq({fileKey:t})):t&&p&&!_&&0===g&&E(l.a6({fileKey:t}))},[g,t,p,_,E]),n.useEffect(()=>()=>{c.h.leave(),t&&E(l.a6({fileKey:t}))},[E,t]),e&&t&&a)?w&&p&&!m?n.createElement(L,{fileKey:t}):h&&m?n.createElement(t_,{fileKey:t,user:a,call:h,notificationUserId:b,callEvent:y,callEventCallback:k}):n.createElement(n.Fragment,null):n.createElement(n.Fragment,null)}},332366:(e,t,a)=>{a.d(t,{n:()=>d});var n=a(411855),r=a(629019),l=a.n(r),i=a(153234),o=a(574176),s=a(498606);let c="file_upload_icon_input--disabledIcon--JLhI1";function d(e){let{svg:t,svgAltText:a,isDisabled:r,acceptedFileTypes:d,inputRef:u,onFileInputChange:m,singleFile:p,recordingKey:_}=e,f=(0,i.AF)(_,"change",e=>{m(u)()});return n.createElement("label",{htmlFor:e.inputId,className:l()("file_upload_icon_input--fileUploadIconLabel--GkBse",{[c]:r}),"data-tooltip-type":s.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip":r?null:e["data-tooltip"]},n.createElement("input",{type:"file",name:e.inputId,id:e.inputId,accept:d,ref:u,onChange:f,multiple:!p,className:"file_upload_icon_input--fileInput--qwRav",disabled:r}),e.children||t&&n.createElement("div",{className:"file_upload_icon_input--svg--qwaj3"},n.createElement(o.B,{title:a,ariaLabel:a,svg:t,autosize:!0,className:l()({[c]:r})})))}},427072:(e,t,a)=>{a.d(t,{OT:()=>n,XS:()=>r,_t:()=>l});let n=function(){return""},r=function(){return null},l=function(){return null}},545956:(e,t,a)=>{a.d(t,{g2:()=>Z,M0:()=>J,Di:()=>Y});var n=a(411855),r=a(188507),l=a(587670),i=a(534611),o=a(157663),s=a(374626),c=a(646240),d=a(939863),u=a(944682),m=a(335682),p=a(222478),_=a(709731),f=a(999140),g=a(55069),h=a(92566),E=a(953289),y=a(491679),v=a(362369),b=a(595991),C=a(825871),w=a(574724),k=a(378260),x=a(106757),T=a(662531),N=a(477047),S=a(983499),I=a(341092),A=a(38329),L=a(392592),O=a(934533),M=(e=>(e.CANCELLED="CANCELLED",e.ERRORED="ERRORED",e.LOADING="LOADING",e.NOT_STARTED="NOT_STARTED",e.COMPLETE="COMPLETE",e))(M||{});let P="slides-ai-generation-started";function R(e,t,a){A.D.dispatch(L.F.dequeue({matchType:P})),A.D.dispatch(L.F.enqueue({message:e,type:a,icon:t,timeoutOverride:3e3}))}function D(){R((0,d.t)("slides.present_summary.visual_bells.canceled_indirectly"),O.zX.EXCLAMATION,"slides-ai-generation-canceled")}function F(e){R(e,O.zX.EXCLAMATION,"slides-ai-generation-error")}async function B({slidePresetModules:e,abortController:t,batchSize:a=2,dispatch:n}){let r=[],i=[];l.Zdr.createHiddenFrameForPresets();for(let s=0;s<e.length;s+=a){if(t.signal.aborted)return i;for(let t of e.slice(s,s+a))try{let e=new Promise(e=>{(0,y.Zx)({module:t,editScopeType:l.zkO.USER,editScopeLabel:"use-slides-ai-preset-selection",callback:t=>{i.push(t),e()},dispatch:n})});r.push(e)}catch(e){o.k.error("Failed to insert preset",e)}Promise.allSettled(r).then(()=>{t.signal.aborted&&K(i)}),await V(Promise.allSettled(r),t.signal)}return t.signal.aborted||l.Zdr.selectPresetsFromTemplate(),i}async function U({figjamFileKey:e,fileVersion:t,selectedGuids:a=[],pageGuids:n=[],abortController:r}){let i=await V((0,S.R)({fileKey:e,fileVersion:t,selectedGuids:a.slice(0,v.S)}),r.signal);return r.signal.aborted?[]:JSON.parse(l.Zdr.getCanvasDataJsonFromBuffer(i,n))}class G{constructor(e,t,a){this.currentItem=void 0,this.hasRenamedFile=!1,this.lastSlideGuid="",this.abortController=e,this.showPlaceholderOverlay=t,this.getNextItem=a,this.intervalId=this.start()}start(){return setInterval(()=>this.update(),100)}isActive(){return 0!==this.intervalId}update(){if(this.abortController.signal.aborted||!s.zl.get(m.ze)){this.cancel();return}if(this.currentItem||(this.currentItem=this.getNextItem(),!this.currentItem))return;let e=l.Zdr.generateSlides(this.currentItem.slideItem);if(!this.abortController.signal.aborted){if(this.showPlaceholderOverlay(l.Zdr.getPlaceholderNodeId()),e?.length>0){e.unshift(this.lastSlideGuid);for(let t=0;t<e.length-1;++t)!function(e){T.l7.user("figjam-to-slide-deck-text-opacity",()=>{e.forEach(e=>{e.opacity>0||e.setOpacityWithAnimation(1,N._E.forLinear(.5),"slides-ai-animate-slide-text")})}),e.length=0}(function(e){if(!e)return[];let t=b.z.instance.get(e);if(!t)return[];let a=[];return t.childrenNodes.forEach(e=>{(function e(t,a){t&&("TEXT"===t.type?a.push(t):t.childrenNodes.forEach(t=>e(t,a)))})(e,a)}),a}(e[t]));this.lastSlideGuid=e[e.length-1]}this.currentItem.resolve(),this.currentItem=void 0}}cancel(){this.isActive()&&(this.cleanUp(),D())}completeSuccessfully(){this.cleanUp(),R((0,d.t)("slides.present_summary.visual_bells.complete"),O.zX.CHECK,"slides-ai-generation-completed")}processError(e){this.cleanUp(),function(e){o.k.error(e);let t={content_length_limit_exceeded:(0,d.t)("slides.present_summary.visual_bells.error_content_limit_exceeded"),rate_limit_exceeded:(0,d.t)("slides.present_summary.visual_bells.error_rate_limited"),service_issue:(0,d.t)("slides.present_summary.visual_bells.error_vendor"),offline:(0,d.t)("slides.present_summary.visual_bells.error_offline"),unsafe_or_harmful_content:(0,d.t)("slides.present_summary.visual_bells.content_moderation"),unauthorized:(0,d.t)("slides.present_summary.visual_bells.error_unknown"),generic:(0,d.t)("slides.present_summary.visual_bells.error_unknown"),ai_opt_out_error:(0,d.t)("slides.present_summary.visual_bells.error_opt_out"),meter_exceeded:(0,d.t)("slides.present_summary.visual_bells.error_meter_exceeded"),create_slides_out_of_date:(0,d.t)("slides.present_summary.visual_bells.error_out_of_date")},a="generic";if(e instanceof I.G1)switch(e.type){case"content_length_limit_exceeded":case"rate_limit_exceeded":case"service_issue":case"create_slides_out_of_date":case"meter_exceeded":case"offline":case"unsafe_or_harmful_content":case"unauthorized":a=e.type;break;default:switch(e.data?.status){case 404:a="service_issue";break;case 429:a="rate_limit_exceeded";break;case 403:a="ai_opt_out_error"}}F(t[a])}(e)}cleanUp(){this.isActive()&&(clearInterval(this.intervalId),this.intervalId=0)}}async function H({canvasData:e,processTitle:t,showPlaceholderOverlay:a,abortController:n}){let r=[],l=new G(n,a,()=>r.shift());try{let a=await w.Ay.slides.createSlides({version:"1.1",data:e},{orgId:s.zl.get(k._s),teamId:s.zl.get(m.As)||null,fileKey:s.zl.get(m.ze)||null,userId:s.zl.get(x.kS)||null,trackingSessionId:(0,C.f)()});if(n.signal.aborted||!s.zl.get(m.ze)){a.cancel();return}let i=[],o=!1;for await(let e of new w.c6(a)){if(!l.isActive())return;let a=e;o||"TITLE"!==a.slideType||(o=!0,t(a.content.find(e=>"h1"===e.type)?.content||"")),i.push(new Promise(e=>{r.push({slideItem:a,resolve:e})}))}if(await V(Promise.allSettled(i),n.signal),n.signal.aborted)return;l.completeSuccessfully()}catch(e){l.processError(e)}}async function V(e,t){if(!t)return e;if(t.aborted)throw Error("Aborted");let a=new Promise((e,a)=>{let n=()=>{a(Error("Aborted"))};t.addEventListener("abort",n),t.addEventListener("abort",()=>{t.removeEventListener("abort",n)})});return await Promise.race([e,a])}function K(e){e&&T.l7.user("remove-hidden-preset-nodes",()=>{for(let t of e){let e=b.z.instance.get(t);if(e)try{e.removeSelfAndChildren()}catch(e){console.warn("Failed to remove preset",e)}}})}var z=a(629019),W=a.n(z),j=a(168039);function q(){let e="dark"===(0,j.DP)();return n.createElement("div",{className:W()("slides_ai_shimmer_overlay--shimmer--R2Ru3",e?"slides_ai_shimmer_overlay--shimmerDark--hd6lU":"slides_ai_shimmer_overlay--shimmerLight--PGzix")})}function Y(){let e=(0,s.md)(E.oQ)??void 0,t=(0,r.d4)(e=>e.fileVersion),a=(0,s.md)(E.bY),o=a.figjamEntryPointData,d=o?.figjamFileKey??e,{areSlidePresetsLoaded:u,slidePresetModules:b}=function(){let e=function(){let e=(0,s.md)(E.ux),t=(0,y.WS)(),a=t.data||[],n="loaded"===t.status&&a.length>0,r=(0,y.S7)();return e||(n?a[0].library_key:r)}(),t=(0,y.NG)(e),a="loaded"===t.status;return{areSlidePresetsLoaded:a,slidePresetModules:a?t.data:[]}}(),C=function(e){let t=(0,y.yt)(),a=(0,n.useRef)(!1);return(0,n.useCallback)(()=>{if(!s.zl.get(m.ze))return;let n=s.zl.get(h.xB);!a.current&&n?.flat()?.length===0&&e.length>0&&(a.current=!0,t(e[0],{row:0,col:0},l.zkO.USER,"figjam-board-to-deck-default-slide",y.Ji.BOARD_TO_DECK))},[t,e])}(b),{showPlaceholderOverlay:w,removeAllPlaceholderOverlays:k}=function(){let e=(0,n.useRef)(null),t=(0,n.useRef)(new Set);return{showPlaceholderOverlay:(0,n.useCallback)(a=>{if(a&&a!==i.AD&&e.current!==a){for(let e of t.current)(0,g.ks)(e);e.current=a,t.current.add(a),(0,g.Vm)(a,n.createElement(q,null))}},[]),removeAllPlaceholderOverlays:(0,n.useCallback)(()=>{for(let e of t.current)(0,g.ks)(e);t.current.clear(),e.current=null},[])}}(),x=(0,r.wA)(),T=(0,s.md)(m.ze),N=a.source??v.E.SLIDES_TEMPLATE;(0,c.Xr)(f.zF)(N);let S=(0,n.useMemo)(()=>({figjamFileKey:d,fileVersion:t,figjamEntryPointData:o,areSlidePresetsLoaded:u,slidePresetModules:b,addFirstPresetToEmptyDeck:C,showPlaceholderOverlay:w,removeAllPlaceholderOverlays:k,dispatch:x,openFileKey:T}),[d,t,o,u,b,C,w,k,x,T]),I=(0,_.RL)(p.JT.BOARD_TO_DECK,X,{figjamFileKey:d});return{startAction:(0,n.useCallback)(()=>{(0,_.B3)(p.JT.BOARD_TO_DECK),I.start(S)},[S,I]),figjamFileKey:d}}let X=async({abortController:e,params:t})=>{let{figjamFileKey:a,fileVersion:n,figjamEntryPointData:r,areSlidePresetsLoaded:i,slidePresetModules:c,addFirstPresetToEmptyDeck:f,showPlaceholderOverlay:g,removeAllPlaceholderOverlays:h,dispatch:y,openFileKey:v}=t,b=function(e){if(e)return e.pageGuids;let t=s.zl.get(E.V6);return(()=>{switch(t.type){case E.i6.ALL:return t.allPages;case E.i6.SINGLE:return[t.page];default:return[]}})().map(e=>e.guid)}(r),C=r?.selectedGuids,w=!a||!n;if(e.signal.aborted||w||!i||!v)return;c?.length||o.k.warn("No slide preset modules found...");let k=[];try{l.Ez5.uiState().leftPanelCollapsedUI3.set(!0),A.D.dispatch(L.F.enqueue({message:(0,d.t)("slides.present_summary.visual_bells.loading"),type:P,icon:O.zX.SPINNER,button:{text:(0,d.t)("slides.present_summary.visual_bells.stop"),action:()=>{A.D.dispatch(L.F.dequeue({matchType:P})),(0,_.cT)(p.JT.BOARD_TO_DECK)}},timeoutOverride:3e5})),l.Zdr.showLoadingState();let t=l.Zdr.getPlaceholderNodeId();g(t);let[r,i]=await V(Promise.allSettled([U({figjamFileKey:a,fileVersion:n,selectedGuids:C,pageGuids:b,abortController:e}),B({slidePresetModules:c,abortController:e,dispatch:y})]),e.signal);if("rejected"===i.status){o.k.error("Failed to ingest templates",i.reason),F((0,d.t)("slides.present_summary.visual_bells.error_unknown"));return}if(k=i.value,"rejected"===r.status){o.k.error("Failed to fetch canvas data from file",r.reason),F((0,d.t)("slides.present_summary.visual_bells.error_unknown"));return}await H({canvasData:r.value,processTitle:e=>{e&&y(u.Nw({file:{key:v},name:`${e} ${(0,d.t)("slides.templates.presentation")}`}))},showPlaceholderOverlay:g,abortController:e})}catch(t){if(e.signal.aborted){D();return}F((0,d.t)("slides.present_summary.visual_bells.error_unknown")),o.k.error("Failed to generate slides",t)}finally{h(),v!==s.zl.get(m.ze)||f(),l.Zdr.finishDeckGeneration(),K(k)}};function J(e){let t=(0,r.d4)(e=>e.fileVersion),a=(0,s.md)(E.bY).figjamEntryPointData,l=a?.figjamFileKey||e,i=a?.selectedGuids;return(0,n.useCallback)(()=>{if(!(!l||!t))return(0,S.R)({fileKey:l,fileVersion:t,selectedGuids:i})},[l,t,i])}function Z(){(0,n.useEffect)(()=>()=>{let{state:e}=(0,_.pP)(p.JT.BOARD_TO_DECK);e===_.qy.RUNNING&&(0,_.cT)(p.JT.BOARD_TO_DECK)},[])}},82963:(e,t,a)=>{a.d(t,{u:()=>C});var n=a(411855),r=a(109388),l=a(587670),i=a(707458),o=a(505525),s=a.n(o),c=a(395096),d=a(776250),u=a(662531),m=a(15859),p=a(74505),_=a(457630),f=a(29680),g=a(335682),h=a(100197),E=a(222478),y=a(709731),v=a(835510),b=a(170039);function C(){let e=(0,_._X)({subscribeToUpdates_expensive:!0}),t=(0,f.p8)("isReadOnly");return n.createElement(N,{viewportInfo:e,isReadOnly:t})}function w(e){return null!=e&&e.y-e.absoluteBounds.y===e.height&&e.height===e.absoluteBounds.height}function k(e){return null!=e&&e.x-e.absoluteBounds.x===e.width&&e.width===e.absoluteBounds.width}function x(e){return{...e,x:e.x-e.width,angle:0}}function T(e){return{...e,y:e.y-e.height,angle:0}}function N({viewportInfo:e,shouldRenderMobileFlapps:t,isReadOnly:a}){let o=(0,h.J2)(l.Ez5.flappData().nodeIds),[s,c]=(0,n.useState)({}),d=(0,h.J2)(l.Ez5.singleSlideView().focusedSlideId);if((0,n.useEffect)(()=>{if(!o.length)return;let{currentNodePosition:e}=(0,p.EE)("Flapps",o,e=>{(0,r.flushSync)(()=>c(t=>{let a=i.q.instance.get(e.nodeId),n=a?.findContainingSlideOrSelf();if(!a||!e.position||!n)return t;let r=e.position;return k(e.position)&&(r=x(r)),w(e.position)&&(r=T(r)),{...t,[e.nodeId]:{guid:e.nodeId,slideId:n,position:r,type:a.interactiveSlideElementType}}}))}),t=Object.entries(e).reduce((e,[t,a])=>{let n=i.q.instance.get(t),r=n?.findContainingSlideOrSelf();if(n&&a?.position&&r){let l=a?.position;k(a.position)&&(l=x(l)),w(a.position)&&(l=T(l)),e[t]={guid:t,slideId:r,position:l,type:n.interactiveSlideElementType}}return e},{});return(0,r.flushSync)(()=>c(t)),()=>(0,p.lB)("Flapps")},[o]),(0,y.wj)(E.JT.BOARD_TO_DECK).state===y.qy.RUNNING)return null;let u=l.Ez5.singleSlideView().isSingleSlideViewFocused(),m=document.getElementById("fullscreen-root");if(!m)return null;let _=m.querySelectorAll(".view.container-view");if(0===_.length)return null;let f=_[_.length-1];return n.createElement(n.Fragment,null,Object.values(s).map(l=>!u||u&&l.slideId===d?(0,r.createPortal)(n.createElement(S,{key:l.guid,element:l,viewportInfo:e,shouldRenderMobileFlapp:t,isReadOnly:a}),f):null))}function S({element:e,viewportInfo:t,shouldRenderMobileFlapp:a,isReadOnly:r}){let o=(0,h.J2)(l.Ez5.flappData().nodeThumbnailEditCount).get(e.guid)??0,[s,c]=(0,n.useState)(null);if(!e||!e.position||!t)return n.createElement(n.Fragment,null);let d=i.q.instance.get(e.guid);if(!d)return null;let u=(0,_.Yb)(t,e.position);return n.createElement("div",{title:d.name,style:{position:"fixed",width:e.position.width,height:e.position.height,top:t.y,left:t.x,transform:`translate(${u.x}px, ${u.y}px) rotate(${e.position.angle}deg) scale(${t.zoomScale})`,transformOrigin:"top left",pointerEvents:r?"none":"auto"}},n.createElement("div",{className:b.U,ref:c},n.createElement(I,{element:e,shouldRenderMobileFlapp:a,isReadOnly:r})),s&&e.type!==l.a9h.YOUTUBE&&n.createElement(A,{nodeId:e.guid,editCount:o,flappDomElement:s,isReadOnly:r}))}function I({element:e,shouldRenderMobileFlapp:t,isReadOnly:a}){if(null===e.type)return null;let{EditorFlapp:r}=t?(0,v.v)(e.type):(0,v.Z)(e.type);return n.createElement(r,{nodeId:e.guid,isReadOnly:a})}function A({nodeId:e,editCount:t,flappDomElement:a,isReadOnly:r}){let[l]=(0,c.A)(t,500),o=(0,g.tS)();return n.useEffect(()=>{if(r)return;let t=i.q.instance.get(e);if(t&&"INTERACTIVE_SLIDE_ELEMENT"===t.type){var n;n=()=>{(function(e,t,a){let n=t.interactiveSlideElementType,r=t.guid;s().toBlob(e,{bgcolor:"transparent"}).then(e=>e?.arrayBuffer()).then(e=>{if(!e||0===e.byteLength)throw Error("Cannot decode empty buffer");return(0,m.UD)(new Uint8Array(e),"image/png",`${r}thumbnail`)}).then(e=>{t.isAlive()&&u.l7.system("generate-slide-thumbnail",()=>{0===t.fillPaints.data.length?t.insertImageInFillPaint(e):t.setImageInFillPaint(e)})}).catch(e=>{(0,d.sx)("Failed to generate thumbnail in editor for slide",{error:e,nodeId:r,flappType:n,fileKey:a},{forwardToDatadog:!0})})})(a,t,o||"")},requestAnimationFrame(()=>requestAnimationFrame(n))}},[r,e,l,a,o]),n.createElement(n.Fragment,null)}},191485:(e,t,a)=>{a.d(t,{GV:()=>er,FN:()=>ei});var n=a(411855),r=a(96796),l=a(927457),i=a(587670),o=a(707458),s=a(629019),c=a.n(s),d=a(729074),u=a(646240),m=a(374626),p=a(153234),_=a(522739),f=a(192437),g=a(762638),h=a(939863),E=a(259927),y=a(662531),v=a(617453),b=a(318812),C=a(29680),w=a(575288),k=a(100197),x=a(498606),T=a(492554),N=a(92566),S=a(924430),I=a(953289),A=a(491679),L=a(675678),O=a(689980),M=a(776621);let P=e=>{try{return Array.from(e.componentControls).find(e=>e.isDragging)}catch(e){(0,M.$D)(L.FigmaTeam.SLIDES,e);return}},R=e=>{try{return e.panSession.history[0]}catch(e){(0,M.$D)(L.FigmaTeam.SLIDES,e);return}};var D=a(366501),F=a(434228);function B(e){return(0,F.O)()?n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0m1 0a4 4 0 1 1-8 0 4 4 0 0 1 8 0M7.5 8.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-2 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm2 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z",clipRule:"evenodd"})):n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-2 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1zm2 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm9.5-2.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0m1 0a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0",clipRule:"evenodd"}))}var U=a(859905),G=a(77763),H=a(255942),V=a(864089),K=a(278733),z=a(168039),W=a(792675),j=a(188507),q=a(574176),Y=a(356390),X=a(372252),J=a(525040),Z=a(464560);function Q(e){let{carouselSlide:t}=e,a=(0,m.md)(X.Z7),r=a.get(t.guid),l=(0,j.d4)(e=>e.mirror.appModel.showComments),i=(0,J.Vi)(),o=n.useCallback(()=>{l||Y.Y5.triggerAction("toggle-show-comments",{source:"comments_sidebar_setting"}),i||Y.Y5.triggerAction("set-tool-comments",{source:"comments_sidebar_setting"})},[l,i]);if(!r&&!t.isCollapsed)return null;let s=r?.commentCount||0,c=r?.hasUnread||!1;if(t.isCollapsed){let e=t.children;for(let t=0;t<e.length;t++){let n=e[t],r=a.get(n.guid);n.children&&e.concat(n.children),r&&(s+=r.commentCount,c=c||r.hasUnread)}}return s?n.createElement("div",{className:c?"carousel_comment--carouselComment--X2WAd":"carousel_comment--carouselCommentRead--ecFSn carousel_comment--carouselComment--X2WAd"},n.createElement("div",{className:"carousel_comment--commentCount--8Fpe6"},s),n.createElement(q.B,{className:"carousel_comment--carouselCommentPin--yBJwH",svg:Z.A,onClick:o})):null}var $=a(195601);let ee="carousel--addSlideButton--KLSOp",et=(0,n.forwardRef)(function({carouselSlide:e,isDraggingSlides:t,isHovered:a,isCarouselFocused:r,isSelected:l,firstOfSelection:o,lastOfSelection:s,indentAmount:u,selectedSlideCount:m,guidToDisplayForDebugging:f,onMouseDown:E,onMouseUp:y,onClickCaret:v,onScrollToSlide:b,disabled:C,recordingKey:w,dragControls:k,onDrag:T,onDragStart:N,onDragEnd:S,reorderScrollerRef:I},A){let{guid:L,number:O,isCollapsed:M,children:P}=e,R=(0,n.useRef)(null),F=(0,W.x)(I);(0,n.useEffect)(()=>{R.current&&F&&l&&b(R.current)},[l,F,b,I,m]);let G=t&&a,V=t&&l&&!a,z=l&&!G,j=l?r?"var(--color-text-design)":"var(--color-text)":"var(--color-text-secondary)",q=0;t&&l&&m>=2?q=m>=3?2:1:M&&P.length>=1&&(q=P.length>1?2:1);let Y=P.length&&!G?M?"COLLAPSED":"EXPANDED":void 0,X=i.Ez5.singleSlideView().singleSlideThumbnailNumberWidth(),J=i.Ez5.slideAnimationBindings().getSlideTransition(L),Z=J.type!==i.v$l.NONE||J.trigger.type===i.tbx.AFTER_DELAY,[$,ee]=(0,D.go)(e);return n.createElement(n.Fragment,null,G?n.createElement("div",{className:g.cx.colorBgDesign.h0.p1.bRadius3.mr8.$,style:{width:`calc(100% - 24px - ${u}px - ${X}px)`}}):null,n.createElement(d._.Item,{ref:(0,H.A)(A,R),value:L,className:g.cx.wFull.relative.$,style:K.sx.add({scrollMargin:"8px"}).$,transition:{type:"spring",duration:.25,bounce:0},dragConstraints:{left:-50,right:50},dragElastic:.1,drag:!C,"data-testid":"ssv-slide",dragControls:k,onDrag:T,onDragStart:N,onDragEnd:S,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":P.length>0&&M?(0,h.t)("slides.carousel.slide_stack_tooltip",{min:$,max:ee}):void 0},n.createElement(_.GG,{className:g.cx.eventsAuto.bgTransparent.relative.wFull.zIndex0.opacity1.if(G,g.cx.zIndex1).if(V,g.cx.opacity0).$,style:K.sx.relative.if(z,{backgroundColor:r?"var(--color-border-design)":"var(--color-bg-tertiary)"}).if(o,{borderTopLeftRadius:"5px",borderTopRightRadius:"5px"}).if(s,{borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"}).$,onMouseDown:E,onMouseUp:y,"data-fullscreen-intercept":!0,recordingKey:w},n.createElement("div",{className:g.cx.inlineFlex.bgTransparent.p8.bRadius5.wFull.borderBox.$,style:{paddingBottom:`${8+7.5*q}px`}},n.createElement("div",{className:g.cx.flex.flexColumn.itemsStart.gap16.$,style:{...K.sx.add({width:`${X}px`,marginRight:`${i.Ez5.singleSlideView().singleSlideThumbnailNumberMargin()}px`,marginLeft:`${u}px`}).$}},n.createElement("span",{className:g.cx.alignLeft.font13.if(G,g.cx.opacity0).$,style:{...K.sx.add({color:j}).if(O&&O>99,{marginLeft:"5px",width:`${X}px`,direction:"rtl"}).$}},O||"-")),n.createElement("div",{className:g.cx.eventsNone.wFull.flex.relative.$},f?n.createElement("div",{className:g.cx.absolute.top0.left0.$},f):null,n.createElement(ea,{guid:L}),n.createElement(en,{layersActive:q}),Z?n.createElement("div",{className:c()(g.cx.absolute.colorBg.b1.bRadius2.$,"carousel--transitionIndicator--JsSwP")},n.createElement("span",null,n.createElement(B,null))):null),n.createElement(Q,{carouselSlide:e}))),Y?n.createElement(_.GG,{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),v()},className:g.cx.bgTransparent.absolute.$,style:{justifySelf:"center",transition:"transform 0.25s",transform:"EXPANDED"===Y?`rotate(0deg) translateX(${O&&O>9?"2px":"0"})`:"rotate(-90deg) translateX(0)",top:"28px",left:"0"},recordingKey:p.Pt(w,"caret")},n.createElement(U.k,{style:{"--color-icon":j}})):null))});function ea({guid:e}){let t=(0,$.p)(e),a=o.q.instance.get(e),r=a?.isSkippedSlide;return n.createElement(n.Fragment,null,r?n.createElement("div",{className:c()(g.cx.wFull.hFull.flex.bRadius5.justifyCenter.itemsCenter.absolute.zIndex1.colorBg.$,"carousel--skippedSlideContainer--jww0f")},n.createElement("div",{className:"carousel--skippedSlideIcon--12vh-"},n.createElement(G.j,null))):null,n.createElement(V.oW,{src:t,alt:"",className:g.cx.wFull.hAuto.bRadius5.$,style:{background:"var(--color-fsCanvasDefaultFill)",outline:"1px solid var(--color-bordertranslucent)",aspectRatio:"16 / 9"}}))}function en({layersActive:e}){let t="dark"===(0,z.DP)(),a=["translate(0, 7px) scale(0.91, 0.83)","translate(0, 15px) scale(0.84, 0.79)"],r=1===e?["var(--elevation-100-canvas)"]:["var(--elevation-200-canvas)","var(--elevation-100-canvas)"],l=t?"#5C5C5C":"var(--color-bg, var(--fallback-color-bg))",i=[`linear-gradient(rgba(0,0,0,0) 0%, rgba(0,0,0,0.12) 89%, rgba(0,0,0,0) 98%) ${l}`,l];return n.createElement(n.Fragment,null,[2,1].map(t=>n.createElement("div",{key:"outlineui"+t,className:g.cx.bRadius3.eventsNone.absolute.zIndexMinus1.elevation100.borderBox.top0.wFull.$,style:K.sx.add({transitionProperty:"transform, opacity",transitionDuration:"0.1s, 0.001s",transitionDelay:"0s, 0.2s",aspectRatio:"16 / 9",transform:"translate(0, 0) scale(0)",transformOrigin:"center bottom",opacity:0}).if(e>=t,{transform:a[t-1],opacity:1,transitionDelay:"0s, 0s",boxShadow:r[t-1],background:i[t-1]}).$})))}let er="carousel-add-slide-button";function el({recordingKey:e}){let t=(0,k.J2)(i.Ez5.slideDeck().slideGrid),a=(0,C.p8)("isReadOnly"),[r,l]=(0,n.useState)(""),o=(0,k.J2)((0,v.UK)().showGuids),{carouselSlidesBySlideId:s,slideGuids:m,toggleCollapsed:_,expandParent:f}=(0,D.WW)(t),{selectedSlideIds:h,onMouseDownSlide:y,onMouseUpSlide:x}=(0,D.A8)(m);(0,n.useLayoutEffect)(()=>{h.forEach(e=>f(e))},[h,f]);let{scrollerRef:S,onScroll:I,dragControls:A,onDrag:L,onDragStart:M,onDragEnd:F}=function(){let e=(0,O.m)(),t=(0,n.useRef)(null),a=(0,n.useRef)(),r=(0,n.useRef)(),l=(0,n.useRef)(),i=(0,n.useRef)(),o=(0,n.useRef)(!1),s=(0,n.useCallback)(e=>{if(o.current||!i.current)return;let t=R(i.current),n=e.target;if(!t||!n||void 0===a.current||void 0===l.current)return;let r=n.scrollTop-a.current;t.y=l.current-r},[]),c=(0,n.useCallback)((e,a)=>{if(o.current)return;let n=t.current;if(!n)return;let l=n.getBoundingClientRect(),i=a.point.y,s=e.target;if(!(s instanceof Element))return;let c=s.closest("[draggable]"),d=c?.parentElement;i<l.top+50&&(c!==d?.firstElementChild||n.scrollTop>0)?n.scrollTop-=5:i>l.bottom-50&&c!==d?.lastElementChild&&n.scrollTop+n.clientHeight<(r.current??n.scrollHeight)&&(n.scrollTop+=5)},[]),d=(0,n.useCallback)(()=>{let n=t.current,s=P(e);if(!n||!s){o.current=!0;return}i.current=s,a.current=n.scrollTop,r.current=n.scrollHeight;let c=R(s);if(!c){o.current=!0;return}l.current=c.y,o.current=!1},[e]);return{scrollerRef:t,onScroll:s,dragControls:e,onDrag:c,onDragStart:d,onDragEnd:(0,n.useCallback)(()=>{a.current=void 0,r.current=void 0,l.current=void 0,i.current=void 0},[])}}(),{onMouseDown:B,onMouseMove:U,onSlideReorder:G,isDraggingSlides:H,isClickingSlides:V,detachedSlideGuids:K,indentSelectionBy:z}=(0,D.EL)(h,m,r,s,t,a),W=(0,k.J2)(i.Ez5.singleSlideView().isCarouselFocused),j=(0,b.BK)(E.U3),q=e=>{let{clientX:t,clientY:a}=e;j.show({data:{clientX:t,clientY:a}})},Y=e=>{let t=s[e]?.indent||0;return(e===r&&H?z+t:t)<=0?0:1},X=i.Ez5.singleSlideView().singleSlideThumbnailPadding(),J=(0,u.Xr)(N.uY),Z=(0,n.useCallback)((e,t)=>{e.isIntersecting?J(e=>e.includes(t)?e:[...e,t]):J(e=>e.filter(e=>e!==t))},[J]),Q=(0,T.B)(m,Z,{threshold:.5}),$=(H?K:m).filter(e=>!!s[e]&&!!Q.get(e)),[ee,ea,en]=(0,w.J)(!1),er=(0,n.useRef)(W);er.current=W;let el=(0,n.useCallback)(e=>{if(S.current){if(ee.current&&er.current)e.scrollIntoView({block:"nearest",inline:"nearest"});else{let t=e.getBoundingClientRect(),a=S.current.getBoundingClientRect();(t.top<a.top||t.bottom>a.bottom)&&(S.current.scrollTop=Math.max(e.offsetTop-1.5*t.height,0)),en(!0)}}},[ee,en,S]);return n.createElement(n.Fragment,null,a?null:n.createElement("div",{className:g.cx.wFull.flex.gap8.py8.bb1.colorBorder.bSolid.borderBox.$,style:{paddingLeft:`${X}px`,paddingRight:`${X}px`}},n.createElement(es,{recordingKey:e})),n.createElement(d._.Group,{className:c()(g.cx.overflowYScroll.flexGrow1.flex.flexColumn.justifyStart.itemsEnd.pr2.py8.borderBox.wFull.$,"carousel--hideScrollbar--Y-9SW"),style:{paddingLeft:`${X}px`,paddingRight:`${X}px`,overflowAnchor:"none",scrollBehavior:ea&&!H?"smooth":void 0},values:H?K:m,onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),q(e)},onMouseUp:e=>{e.ctrlKey&&q(e)},"data-testid":"slides-carousel",onMouseMove:U,onReorder:G,ref:S,onScroll:I,layoutScroll:!0,axis:"y"},$.map((t,c)=>s[t]&&n.createElement(et,{key:t,ref:Q.get(t),reorderScrollerRef:S,carouselSlide:s[t],isDraggingSlides:H,isHovered:t===r,isCarouselFocused:W,isSelected:h.includes(t),firstOfSelection:!h.includes($[c-1]),lastOfSelection:!h.includes($[c+1]),indentAmount:20*Y(t),selectedSlideCount:h.length,guidToDisplayForDebugging:o?t:null,onMouseDown:e=>{l(t),y(e,t),B(e)},onMouseUp:e=>x(e,H,V,t),onClickCaret:()=>{i.Ez5.singleSlideView().isCarouselFocused.set(!0),_(t)},onScrollToSlide:el,disabled:a,recordingKey:p.Pt(e,"slide",c),dragControls:A,onDrag:L,onDragStart:M,onDragEnd:F}))))}function ei({retryCount:e=0,recordingKey:t}){return n.createElement(f.tH,{boundaryKey:"SlidesSSVCarousel",fallback:e<3?n.createElement(ei,{retryCount:e+1,recordingKey:t}):n.createElement(eo,null)},n.createElement(el,{recordingKey:t}))}function eo(){return n.createElement("div",{className:g.cx.p16.$},n.createElement("div",{className:g.cx.textBodyMedium.$},(0,h.tx)("slides.carousel.error")),n.createElement("div",{className:g.cx.mt4.$},(0,h.tx)("slides.carousel.error_solution")))}let es=n.forwardRef(function({recordingKey:e},t){let{toggleTemplatePicker:a,closeTemplatePicker:i}=(0,A.uu)(),s=(0,m.md)(I.Ei),d=y.nc.user("ssv-carousel",()=>{i();let e=o.q.instance;(0,D.oY)(e,"carousel_add_slide_button")});return n.createElement("div",{"data-element-target":er,className:g.cx.wFull.h24.flex.justifyCenter.$},n.createElement(_.GG,{forwardedRef:t,className:c()(g.cx.if(s,g.cx.colorBgHover,g.cx.colorBg).flex.justifyCenter.itemsCenter.flexGrow1.borderBox.hFull.eventsAll.colorBorder.b1.pl24.$,ee),style:{borderRadius:"6px 0 0 6px",borderRightWidth:"0"},onClick:a,"data-onboarding-key":S.MB,"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,h.t)("slides.carousel.add-slide-from-template"),"data-fullscreen-intercept":!0},n.createElement("p",{className:g.cx.noWrap.$},(0,h.t)("slides.carousel.new_slide")),n.createElement(r.O,null)),n.createElement(_.GG,{className:c()(g.cx.colorBorder.b1.flex.itemsCenter.$,ee),style:{borderRadius:"0 6px 6px 0"},onClick:d,"data-testid":"addSlideButton",recordingKey:(0,p.Pt)(e,"addSlideButton"),"data-tooltip-type":x.Ib.TEXT,"data-tooltip":(0,h.t)("slides.carousel.add-blank-slide"),"data-tooltip-shortcut-key":"create-slide","data-fullscreen-intercept":!0},n.createElement(l.e,null)))})},621925:(e,t,a)=>{a.d(t,{_:()=>B,i:()=>U});var n=a(411855),r=a(188507),l=a(587670),i=a(38329),o=a(320063),s=a(966712),c=a(646240),d=a(374626),u=a(877723),m=a(498480),p=a(946689),_=a(939863),f=a(738269),g=a(931828),h=a(101505),E=a(456104),y=a(594524),v=a(723239),b=a(960884),C=a(356390),w=a(100197),k=a(984968),x=a(397065),T=a(143678),N=a(916108),S=a(324611),I=a(520607),A=a(340514),L=a(493364),O=a(463546),M=a(144119),P=a(455850),R=a(953289),D=a(342753),F=a(924430);function B(){let e=(0,c.Xr)(R.VZ),t=(0,M.jY)(),a=(0,D.A)(),{show:r,isShowing:l,complete:i}=(0,E.e)({overlay:O.Yqi,priority:x.N.DEFAULT_MODAL}),s=(0,n.useMemo)(()=>a?[U,G,H,V,K,z]:[U,G,H,V,z],[a]),{currentStep:d,next:u}=(0,y.A)({numSteps:s.length,onComplete:i}),m=n.useMemo(()=>{let r=()=>{u(),e(!0)},o=s.map((e,o)=>n.createElement(e,{onClickPrimaryCta:t||0!==o?u:r,onClickSecondaryCta:i,isShowing:l,totalSteps:a?5:4,isOnboarding:!0}));return t||o.splice(1,0,n.createElement(P.g,null)),o},[s,t,u,e,i,l,a]);return((0,o.h)(()=>{r()}),l&&m)?n.createElement(N.U,{currentStep:d,isShowing:l,children:m}):null}function U({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,isOnboarding:l}){let o=(0,c.Xr)(R.VZ),E=(0,d.md)(v.d2),y=(0,r.wA)(),C=E.data===T.qo.ORG,w=d.zl.get(b.Z),x=d.zl.get(k.Me),N=i.D.getState().openFile,S=!N||!N.canEdit,A=(0,u.lt)({currentOrg:w,currentTeam:x,isViewer:S}),L="/sub-processors/",O="/ssa/",M="ja"===(0,s.mm)()[0]?(0,_.tx)("slides.onboarding.welcome.title.jp"):(0,_.tx)("slides.onboarding.welcome.title"),P=C?A?(0,_.tx)("slides.onboarding.welcome.org.footer.no_ai",{services_agreement:n.createElement(p.CY,{href:O,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.services_agreement"))}):(0,_.tx)("slides.onboarding.welcome.org.footer.ai",{subprocessors:n.createElement(p.CY,{href:L,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.subprocessors")),services_agreement:n.createElement(p.CY,{href:O,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.services_agreement"))}):A?void 0:(0,_.tx)("slides.onboarding.welcome.starter.footer",{subprocessors:n.createElement(p.CY,{href:L,target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.subprocessors"))});(0,n.useEffect)(()=>{l&&y?.(g.b({seen_slides_onboarding:!1}))});let D=()=>{y?.(f.$T({view:"recentFiles"})),t()};return S?null:n.createElement(I._l,{isShowing:a,title:n.createElement("div",null,M,n.createElement(m.Ex,{text:"Beta",color:m.zE.BRAND,className:"onboard_slides--betaBadge--TpHbJ",subtle:!0})),description:n.createElement("span",{style:{whiteSpace:"pre-line"}},(0,_.tx)("slides.onboarding.welcome.description",{learn_more:n.createElement(p.CY,{href:"https://help.figma.com/hc/articles/4406787442711-What-Figma-features-are-in-beta",target:"_blank",trusted:!0},(0,_.tx)("slides.onboarding.learn_more"))})),primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.welcome.primary_cta"),onClick:()=>{e(),y?.(g.b({seen_slides_onboarding:!0,agreed_to_slides_ai_terms:!0})),l&&o(!0)},ctaTrackingDescriptor:h.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.welcome.secondary_cta"),onClick:D,ctaTrackingDescriptor:h.c.CLOSE},media:n.createElement("img",{src:"https://static.figma.com/uploads/b5ff672e289f44685a5e04d3de9f17f154fb2455",alt:"Figma Slides carousel",width:332}),onClose:D,clickOutsideToHide:!1,trackingContextName:"Slides Onboarding > Welcome",disclaimerFooter:P,hideCloseButton:!0})}function G({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){let i=(0,w.J2)(l.Ez5.singleSlideView().isInSingleSlideView);return n.createElement(A.rq,{isShowing:a,targetKey:F.MB,trackingContextName:"Slides Onboarding > New Slide",onClose:t,arrowPosition:L.F_.BOTTOM,title:(0,_.tx)("slides.onboarding.new_slide.title"),description:(0,_.tx)("slides.onboarding.new_slide.description"),media:n.createElement(S.y,{src:"https://static.figma.com/uploads/2811dcf7f07f10fbc8543106336765058bc83266",alt:"slides template picker",aspectRatio:240/135}),stepCounter:{stepNum:1,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i&&l.Ez5.singleSlideView().exitSingleSlideView()},ctaTrackingDescriptor:h.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:h.c.CLOSE},shouldDisableAnimation:!0})}function H({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){return n.createElement(A.rq,{isShowing:a,trackingContextName:"Slides Onboarding > Views",onClose:t,targetKey:F.b_,title:(0,_.tx)("slides.onboarding.views.title"),description:(0,_.tx)("slides.onboarding.views.description"),media:n.createElement(S.y,{src:"https://static.figma.com/uploads/8ad8b13cac28f9fb6eaaed9cad7c621684fadd6b",alt:"Grid view in Slides",aspectRatio:240/135}),stepCounter:{stepNum:2,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{C.Y5.triggerAction("enter-single-slide-view"),e()},ctaTrackingDescriptor:h.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:h.c.CLOSE},shouldDisableAnimation:!0})}function V({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){let i=(0,D.A)(),o=(0,D.E)(l.EMA.SLIDES);return n.createElement(A.rq,{isShowing:a,trackingContextName:"Slides Onboarding > Tools",onClose:t,targetKey:F.hx,shouldHideArrow:!0,shouldCenterArrow:L.EL.BEST_EFFORT,title:(0,_.tx)("slides.onboarding.nondesigner.tools.title"),description:(0,_.tx)("slides.onboarding.nondesigner.tools.description"),media:n.createElement(S.y,{src:"https://static.figma.com/uploads/aca6af2d36ffc1a4f65a12247f598a7598a530b7",alt:"Apps in Slides",aspectRatio:240/135}),stepCounter:{stepNum:3,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i&&o()},ctaTrackingDescriptor:h.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:h.c.CLOSE},shouldDisableAnimation:!0})}function K({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:a,totalSteps:r}){let i=(0,D.E)(l.EMA.DESIGN);return n.createElement(A.rq,{isShowing:a,trackingContextName:"Slides Onboarding > Design Mode",onClose:t,targetKey:F.uy,shouldHideArrow:!0,shouldCenterArrow:L.EL.BEST_EFFORT,title:(0,_.tx)("slides.onboarding.designer.tools.title"),description:(0,_.tx)("slides.onboarding.designer.tools.description"),media:n.createElement(S.y,{src:"https://static.figma.com/uploads/5064800f3f60febf8b2ad2ad8ba4efdd6167eeaa",alt:"Design tool toggle",aspectRatio:240/135}),stepCounter:{stepNum:4,totalNumSteps:r},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),i()},ctaTrackingDescriptor:h.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:h.c.CLOSE},shouldDisableAnimation:!0})}function z({onClickSecondaryCta:e,isShowing:t,totalSteps:a}){return n.createElement(A.rq,{isShowing:t,trackingContextName:"Slides Onboarding > Present",onClose:e,targetKey:F.J5,title:(0,_.tx)("slides.onboarding.share.title"),description:(0,_.tx)("slides.onboarding.share.description"),media:n.createElement(S.y,{src:"https://static.figma.com/uploads/a3ed241305c3e13d9ec5cab6e9a88db7572695c5",alt:"presenter mode in Slides",aspectRatio:240/135}),stepCounter:{stepNum:a,totalNumSteps:a},primaryCta:{type:"button",label:(0,_.tx)("slides.onboarding.callout.done"),onClick:e,ctaTrackingDescriptor:h.c.DONE},shouldDisableAnimation:!0,onTargetLost:e})}},455850:(e,t,a)=>{a.d(t,{g:()=>aH,h:()=>aG});var n,r=a(411855),l=a(188507),i=a(629019),o=a.n(i),s=a(91408),c=a(966712),d=a(374626),u=a(30637),m=a(384162),p=a(259927),_=a(672517),f=a(385326),g=a(582947),h=a(501972),E=a(617453),y=a(29680),v=a(335682),b=a(694687),C=a(555328),w=a(809073),k=a(369394),x=a(407844),T=a(187882),N=a(222478),S=a(709731),I=a(92566),A=a(144119),L=a(191485),O=a(924430),M=a(982629),P=a(676938),R=a(646240),D=a(965480),F=a(953289),B=a(827586),U=a(762638),G=a(939863),H=a(976999),V=a(491679),K=a(154483),z=a(927457),W=a(587670),j=a(593779),q=a(860601),Y=a(522739),X=a(572206),J=a(864089),Z=a(493323),Q=a(798099),$=a(988022),ee=a(128765),et=a(662531),ea=a(141123),en=a(232205),er=a(825330),el=a(555207);let ei="slides_template_ui--searchBar--jlYPZ",eo="slides_template_ui--separator--ptcuN",es="slides_template_ui--startFromOutlineIcon--6u3ms",ec="slides_template_ui--startFromScratchIcon--bKGMJ",ed="slides_template_ui--dashedBorder--a60sO",eu="slides_template_ui--footer--4g8kc",em="slides_template_ui--grid--FCSGf",ep=(0,K.fv)();function e_({module:e}){let t=(0,V.r$)(),a=(0,R.Xr)(F.VZ),n=(0,R.Xr)(F.Ei),i=(0,d.md)(I.v2),s=(0,v.tS)(),c=(0,l.wA)(),u="insert-slide-module",m=et.nc.user(u,(a,n,r)=>{(0,V.CH)({module:e,viewType:t,getGridCoord:W.Ez5.getInsertGridCoord,dispatch:c})(a,n,r)}),{onInsertableResourcePointerDown:p,dragState:_}=(0,en.j)({resource:e,isList:!1,sourceForTracking:"slides-templates-panel",clickToInsert:!0,insertAsChildOfCanvas:!0,insertModulesCallback:m,afterSuccessfulInsert:()=>{n(!1),a(!1)},selectAfterInsert:!1}),f=et.nc.user(u,p),g=r.useMemo(()=>i?new X.Mi(W.Ez5.singleSlideView().singleSlideThumbnailWidth(),W.Ez5.singleSlideView().singleSlideThumbnailHeight()):void 0,[i]);return r.createElement("div",{className:o()(U.cx.flex.alignCenter.justifyCenter.gap8.$,{"slides_template_tile--moduleCoverCardPicker--IvByg slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardPickerSize--AAEPk":t===V.Ji.PICKER,"slides_template_tile--moduleCoverCardModal--llMPw slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardModalSize--1-jSe":t===V.Ji.OVERLAY_MODAL},{"slides_template_tile--gridViewHover--dEaa-":!i})},r.createElement(ea.q,{dragState:t===V.Ji.PICKER?_:null,isList:!1,overrideDragPreviewSize:g}),r.createElement(ef,{key:e.node_id,thumbnailUrl:e.thumbnail_url,onPointerDown:f,onClick:()=>(0,$.Cu)({moduleId:e.id,moduleFileKey:ep(e),fileKey:s,name:"slide_template_tile",productType:"slides"})}))}function ef({name:e,thumbnailUrl:t,thumbnailWidth:a,thumbnailHeight:n,onPointerDown:l,onClick:i,showLoadingSpinner:s=!1,disabled:c=!1,removeBorder:d=!1}){return r.createElement(Y.D8,{className:U.cx.flex.flexColumn.itemsStart.hFull.wFull.$,onPointerDown:c?void 0:l,onClick:c?void 0:i,"data-testid":"insertableSlideTile"},r.createElement("div",{className:o()(U.cx.relative.overflowHidden.flex.justifyCenter.itemsCenter.$,{[U.cx.borderBox.b1.bRadius5.colorBorder.$]:!d}),style:{width:a??"100%",height:n??"100%"}},s&&r.createElement(Z.kt,{className:"slides_template_tile--loadingSpinner--i0gem"}),r.createElement(J.oW,{onDragStart:Q.wo,className:"slides_template_tile--tileImage--xQ9Rj",src:t,alt:e,loading:"lazy"})),e&&r.createElement("div",{className:U.cx.font11.fontInter.colorTextSecondary.$},e))}function eg({text:e,dataTestId:t,onPointerDown:a,imageContainerContent:n,additionalClassname:l,showSelectedState:i=!1}){let s=(0,V.r$)(),c=(0,d.md)(F.bY);return r.createElement("div",{"data-testid":t,className:o()(U.cx.p8.$,l)},r.createElement(er.sU,{image:r.createElement("div",{role:"presentation",onPointerDown:a},r.createElement(er.WM,{className:o()({"slides_template_tile--templateCoverCardLarge--aUi8S slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardLargeSize--lWeyZ":s===V.Ji.PICKER,"slides_template_tile--templateCoverCardMedium--D1xOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardMediumSize--dZ4FH":s===V.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardExtraLarge--9llOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardExtraLargeSize---WVL9":c.type===F.Vf.TEMPLATE_PICKER,"slides_template_tile--selectedTemplateTile---grt1":i}),removeBorder:!0,backgroundColor:"none"},n)),bottomRow:r.createElement(er.dY.MetadataContainer,{onClick:a},r.createElement(er.dY.TextMetadataLayout,{primaryText:r.createElement("div",{className:U.cx.font11.colorText.ellipsis.overflowHidden.$},e)})),bottomRowClassName:o()({"slides_template_tile--templateCoverBottomRowLarge--jYVZ6":s===V.Ji.PICKER,"slides_template_tile--templateCoverBottomRowMedium--jnOVs":s===V.Ji.OVERLAY_MODAL})}))}function eh({template:e}){return(0,d.md)(F.bY).type===F.Vf.TEMPLATE_PICKER?r.createElement(eE,{template:e}):r.createElement(ey,{template:e})}function eE({template:e}){let{name:t,imageUrl:a,libraryKey:n}=(0,ee.fG)()(e),[l,i]=(0,d.fp)(F.ux);if(!n)return null;let o=()=>i((0,j.l)(n));return r.createElement(eg,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:o,imageContainerContent:r.createElement(ef,{key:t,thumbnailUrl:a,onPointerDown:o,removeBorder:l===(0,j.l)(n)}),additionalClassname:"slides_template_tile--hoverableTemplateTile--meERX",showSelectedState:l===(0,j.l)(n)})}function ey({template:e}){let{name:t,imageUrl:a,libraryKey:n}=(0,ee.fG)()(e),l=(0,R.Xr)(F.bY),i=(0,d.md)(F.bY);if(!n)return null;let o=e=>{e.stopPropagation(),n&&((0,$.Cu)({fileKey:n,name:"template_cover_tile",productType:"slides"}),l({type:F.Vf.TEMPLATE,libraryKey:n,parentView:i}))};return r.createElement(eg,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:o,imageContainerContent:r.createElement(r.Fragment,null,r.createElement(er.Wh.Cover,null,r.createElement("div",{className:"slides_template_tile--hoverOverlay--m7upM"})),r.createElement(er.Wh.Center,null,r.createElement(el.i,{insertTemplate:q.lQ,isInsertingTemplate:!1,shouldUseOpaqueBackground:!0},(0,G.tx)("slides.templates.view_template"))),r.createElement(ef,{key:t,thumbnailUrl:a,onPointerDown:o}))})}function ev({title:e,testId:t,onPointerDown:a}){return r.createElement(eg,{text:e,dataTestId:t,onPointerDown:a,imageContainerContent:r.createElement("div",{className:o()(U.cx.flex.itemsCenter.justifyCenter.wFull.hFull.borderBox.bRadius5.$,ed)},r.createElement("span",{className:ec},r.createElement(z.e,null)))})}let eb=(0,K.fv)();function eC({modules:e}){let{onShowSeparatorScroll:t}=(0,V.gH)();if(!e.length)return null;let a=(0,c.kc)().ds_use_lib_keys?e[0].library_key:eb(e[0]);return r.createElement(B.P,{className:U.cx.px16.hFull.$,onScroll:t},r.createElement(ex,{key:a},e.map(e=>r.createElement(e_,{key:e.id,module:e}))))}function ew({children:e}){return r.createElement("div",{className:U.cx.flex.flexWrap.pb8.gap0.$},e)}function ek({title:e,children:t,onSeeAllClick:a}){let n=e||a;return r.createElement(r.Fragment,null,r.createElement("div",{className:o()({[U.cx.flex.justifyBetween.alignLeft.pt16.pb8.px8.$]:n})},e&&r.createElement("div",{className:U.cx.font13.colorText.fontSemiBold.fontInter.noWrap.overflowHidden.ellipsis.pr4.$},e),a&&r.createElement("button",{className:o()("slides_template_grid--seeAllButton--sShht",U.cx.font11.fontMedium.fontInter.flexShrink0.$),onClick:a},(0,G.tx)("slides.templates.view_type.see_all"))),r.createElement(ew,null,t))}function ex({children:e}){return r.createElement("div",{className:U.cx.flex.flexWrap.pb16.gap8.$},e)}let eT="loading_state--container--ouiBF";function eN(){let e=(0,V.r$)(),t=(0,d.md)(F.bY),a=o()({"slides_template_tile--templateCoverCardMediumSize--dZ4FH":e===V.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardLargeSize--lWeyZ":e===V.Ji.PICKER,"slides_template_tile--templateCoverCardExtraLargeSize---WVL9":t.type===F.Vf.TEMPLATE_PICKER},U.cx.m8.$);return r.createElement(H.Qp,{className:a,animationType:H.JR.LIGHT_SHIMMER})}function eS(){let e=(0,V.r$)(),t=o()({"slides_template_tile--moduleCoverCardPickerSize--AAEPk":e===V.Ji.PICKER,"slides_template_tile--moduleCoverCardModalSize--1-jSe":e===V.Ji.OVERLAY_MODAL});return r.createElement(H.Qp,{className:t,animationType:H.JR.LIGHT_SHIMMER})}function eI(){return r.createElement(H.Qp,{className:o()("loading_state--title--YIpQO",U.cx.m8.$),animationType:H.JR.LIGHT_SHIMMER})}function eA(){let e=(0,d.md)(F.bY).type===F.Vf.TEMPLATE_PICKER?3:4;return r.createElement("div",{className:"loading_state--loadingStateContainer--dcv3D"},r.createElement(eI,null),r.createElement(ew,null,Array.from({length:e}).map((e,t)=>r.createElement(eN,{key:t}))),r.createElement(eI,null),r.createElement(ew,null,Array.from({length:e}).map((e,t)=>r.createElement(eN,{key:t}))),r.createElement(eI,null),r.createElement(ew,null,Array.from({length:e}).map((e,t)=>r.createElement(eN,{key:t}))))}function eL(){return r.createElement("div",{className:eT},r.createElement(ew,null,Array.from({length:14}).map((e,t)=>r.createElement(eN,{key:t}))))}function eO(){return r.createElement("div",{className:eT},r.createElement(ex,null,Array.from({length:16}).map((e,t)=>r.createElement(eS,{key:t}))))}function eM(){return r.createElement("div",{className:o()(em,U.cx.px16.pb16.pt8.gap16.overflowHidden.hFull.$)},r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null),r.createElement(eP,null))}function eP(){return r.createElement("div",{className:U.cx.flex.flexColumn.gap4.$},r.createElement(H.Qp,{className:"loading_state--file--g4dxg",animationType:H.JR.LIGHT_SHIMMER}),r.createElement(H.Wi,{className:"loading_state--fileTitle--ATrhd",animationType:H.JR.LIGHT_SHIMMER}),r.createElement(H.Wi,{className:"loading_state--fileSubtitle--9Lkb7",animationType:H.JR.LIGHT_SHIMMER}))}function eR({children:e}){return r.createElement("div",{className:U.cx.flex.flexColumn.hFull.$},e)}var eD=a(32863),eF=a(767129),eB=a(13583);function eU({onClick:e}){return r.createElement(eF.K,{"aria-label":(0,G.t)("common.close"),onClick:e},r.createElement(eB.L,null))}function eG({searchQuery:e,setSearchQuery:t,showCloseButton:a,placeholder:n}){let{canDismiss:l,maybeUseLightTemplateOnDismiss:i}=(0,V.vN)();return r.createElement("div",{className:U.cx.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$},r.createElement(eD.IW,{className:o()(ei,U.cx.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,placeholder:n,focusOnMount:!0,withSmallXIcon:!0}),a&&l&&r.createElement(eU,{onClick:i}))}function eH({searchQuery:e,setSearchQuery:t,onBack:a,showCloseButton:n,placeholder:l}){let{canDismiss:i,maybeUseLightTemplateOnDismiss:s}=(0,V.vN)();return r.createElement("div",{className:o()(U.cx.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$)},r.createElement(eD.RE,{className:o()(ei,U.cx.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,onBack:a,placeholder:l,focusOnMount:!0,withSmallXIcon:!0}),n&&i&&r.createElement(eU,{onClick:s}))}function eV({icon:e,title:t,subtitle:a}){return r.createElement(r.Fragment,null,r.createElement("div",{className:U.cx.flex.flexRow.gap6.lh24.itemsCenter.$},e,r.createElement("h1",{className:U.cx.colorText.fontInter.font14.fontNormal.fontSemiBold.spacingCompact.$},t)),r.createElement("h2",{className:U.cx.colorTextSecondary.textBodyMedium.$},a))}function eK({closePicker:e}){let t=t=>{et.l7.user("create-new-slide-with-default-theme",()=>{W.Ez5.slideThemeLibBindings().insertDefaultLocalTheme(t)}),e()};return r.createElement(ek,{title:(0,G.t)("slides.templates.dev_environment_only")},r.createElement(ef,{key:"light",thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,G.t)("slides.templates.light"),thumbnailUrl:"https://static.figma.com/uploads/4a01804a5d4ad3a2d38ea604c0d8d63520e9b97b",onPointerDown:()=>t(W.zMY.LIGHT)}),r.createElement(ef,{key:"dark",thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,G.t)("slides.templates.dark"),thumbnailUrl:"https://static.figma.com/uploads/01a1fc814ce18d9da3ba738aef79acc82c752ab7",onPointerDown:()=>t(W.zMY.DARK)}))}var ez=a(274176),eW=a(775419),ej=a(55360),eq=a(391993);function eY({onStartFromOutline:e}){let t=(0,eq.mp)(),{canDismiss:a,maybeUseLightTemplateOnDismiss:n}=(0,V.vN)(),l=(0,R.Xr)(F.bY),i=(0,r.useMemo)(()=>{let i=[];a&&i.push({id:"start_from_scratch",onClick:n,icon:r.createElement(z.e,null),title:(0,G.t)("slides.templates.start_from.scratch.title"),subtitle:(0,G.t)("slides.templates.start_from.scratch.subtitle"),buttonStyle:ed,iconStyle:ec}),t&&i.push({id:"start_from_outline",onClick:e,icon:r.createElement(ez.m,null),title:(0,G.t)("slides.templates.start_from.outline.title"),subtitle:(0,G.t)("slides.templates.start_from.outline.subtitle"),iconStyle:es});let o=(0,c.kc)().piper_theme_creation_wizard,s=(0,c.kc)().piper_theme_generation;return o?i.push({id:"start_from_theme_creation_wizard",onClick:()=>{},icon:r.createElement(eW.Q,null),title:(0,G.t)("slides.templates.wizard.entry_point.title"),subtitle:(0,G.t)("slides.templates.wizard.entry_point.subtitle"),iconStyle:"slides_template_ui--startFromCreationWizard--o0lvO"}):s&&i.push({id:"start_from_fun_theme_generation",onClick:()=>{l({type:F.Vf.GENERATE_THEME})},icon:r.createElement(ej.P,null),title:"Generate a template style",subtitle:"Pick colors and fonts",iconStyle:es}),i},[t,a,n,e,l]);return r.createElement(eX,{startFromRowData:i})}function eX({startFromRowData:e}){let t=o()("slides_template_ui--startFromRowWrapper--4UjYr",e.length>=3?"slides_template_ui--flexButtonWidth--EFD0C":"slides_template_ui--fixedButtonWidth--K2lSD");return r.createElement("div",{className:t},e.map(e=>r.createElement(eJ,{onClick:e.onClick,title:e.title,subtitle:e.subtitle,icon:e.icon,buttonStyle:e.buttonStyle,iconStyle:e.iconStyle,key:e.id})))}function eJ({onClick:e,title:t,subtitle:a,icon:n,buttonStyle:l,iconStyle:i}){return r.createElement("button",{className:o()("slides_template_ui--startFromRowButton--v3qHJ",l),onClick:e},r.createElement("span",{className:i},n),r.createElement("div",{className:U.cx.flex.flexColumn.itemsStart.$},r.createElement("p",{className:U.cx.colorText.textBodyMediumStrong.$},t),r.createElement("p",{className:U.cx.colorTextSecondary.textBodyMedium.$},a)))}var eZ=a(930860),eQ=a(752553),e$=a(777078),e0=a(99506),e1=a(106112),e2=a(677967);function e5({currentTeam:e}){let t=(0,V.fK)(),a=(0,R.Xr)(F.bY),{templatesByTeam:n}=(0,D.li)({teamId:e.id,editorType:e0._Y.SLIDES,pageSize:t,revalidateOnMount:!1});if(!n||0===n.templates.length)return null;let l=n.templates.map(e=>({type:0,template:{type:e1.n.TeamTemplateLg,template:e}})),i=n.totalTemplatesByTeam>t;return r.createElement(e9,{title:(0,G.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:l,onSeeAllClick:i?()=>a({type:F.Vf.TEAM,teamId:e.id,displayName:e.name}):void 0})}function e3({currentOrg:e}){var t,a;let n=(0,V.fK)(),[{data:l}]=(0,eQ.IT)((0,e2.LK)(e.id)),i=(0,R.Xr)(F.bY),{previewData:o,hasOverflowTemplates:s}=(t=l??[],a=q.lQ,(0,r.useMemo)(()=>{let e=t.slice(0,n).map(e=>({type:0,template:{type:e1.n.TeamTemplate,template:e}}));return(0,c.kc)().piper_theme_creation_wizard?(e.length===n&&(e=e.slice(0,n-1)),{previewData:[...e,{type:1,startFromScratchProps:{title:(0,G.t)("slides.templates.wizard.entry_point.title"),testId:e4,onPointerDown:a}}],hasOverflowTemplates:t.length>=n}):{previewData:e,hasOverflowTemplates:t.length>=n}},[t,n,a]));if(!l||!l.length||!n)return(0,c.kc)().piper_theme_creation_wizard?r.createElement(e6,{orgName:e.name,onClick:q.lQ}):null;let d=s?()=>i({type:F.Vf.ORG}):void 0;return r.createElement(e9,{title:(0,G.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:o,onSeeAllClick:d})}let e4="orgTemplateCreation";function e6({orgName:e,onClick:t}){return r.createElement(ek,{title:(0,G.tx)("slides.templates.theme_picker.org_template_header",{orgName:e})},r.createElement(ev,{title:(0,G.t)("slides.templates.theme_picker.org_new_template_placeholder_name",{orgName:e}),testId:e4,onPointerDown:t}),r.createElement("div",{className:"browse_preview_templates_view--orgNewTemplateCtaBlock--QL8MW"},r.createElement("div",{className:"browse_preview_templates_view--iconAndCtaWrapper--cqH1E"},r.createElement(eZ.D,{className:"browse_preview_templates_view--ctaIcon--kaDRM"}),r.createElement("div",null,r.createElement("p",{className:U.cx.textBodyMediumStrong.colorText.$},(0,G.t)("slides.templates.theme_picker.org_new_template_placeholder_primary_cta")),r.createElement("p",{className:U.cx.textBodyMedium.colorTextSecondary.$},(0,G.t)("slides.templates.theme_picker.org_new_template_placeholder_secondary_cta",{orgName:e})))),r.createElement("div",{className:"browse_preview_templates_view--spacerPlaceholder--pRKlv"})))}function e7(){let[{data:e}]=(0,eQ.IT)((0,e2._4)()),t=(0,R.Xr)(F.bY),a=(0,V.fK)();return e&&0!==e.length?r.createElement(r.Fragment,null,e.map(e=>{let n=e.shelf_content.map(t=>({type:0,template:{type:e1.n.HubFile,template:t,category:e.id}})),l=n.slice(0,a);return 0===l.length?null:r.createElement(e9,{key:e.id,title:e.title,previewData:l,onSeeAllClick:n.length>a?()=>t({type:F.Vf.HUB_FILE,shelfId:e.id}):void 0})})):null}function e8(){let e=(0,eq.mp)(),t=(0,V.r$)(),a=(0,e$.eE)(w.$A.Slides),n=(0,V.fK)(),{maybeUseLightTemplateOnDismiss:l}=(0,V.vN)(),i=(0,r.useMemo)(()=>({type:1,startFromScratchProps:{title:(0,G.t)("slides.templates.start_from.scratch.title"),testId:"startFromScratchCoverTile",onPointerDown:l}}),[l]),o=(0,r.useMemo)(()=>a.map(e=>({type:0,template:e})),[a]),s=(0,r.useMemo)(()=>(e||t===V.Ji.PICKER?o:[i,...o]).slice(0,n),[e,t,o,i,n]);return o.length?r.createElement(e9,{title:(0,G.t)("slides.templates.recents"),previewData:s}):null}function e9({title:e,previewData:t,onSeeAllClick:a}){return r.createElement(ek,{title:e,onSeeAllClick:a},t.map((e,t)=>{let a=`template_tile_${t}`;return 1===e.type?r.createElement(ev,{title:e.startFromScratchProps.title,testId:e.startFromScratchProps.testId,onPointerDown:e.startFromScratchProps.onPointerDown,key:a}):r.createElement(eh,{template:e.template,key:a})}))}var te=(e=>(e[e.ANY_TEMPLATE=0]="ANY_TEMPLATE",e[e.TEMPLATE_FROM_SCRATCH=1]="TEMPLATE_FROM_SCRATCH",e))(te||{}),tt=a(428322),ta=a(574176),tn=a(236705);function tr({isSearchQueryLoading:e,trimmedSearchQuery:t,searchQueryResult:a,requestLoadMore:n}){let{onShowSeparatorScroll:l}=(0,V.gH)();return e&&0===a.length?r.createElement("div",{className:U.cx.p8.$},r.createElement(eL,null)):0===a.length?r.createElement("div",{className:U.cx.p10.flex.flex1.flexColumn.itemsCenter.alignCenter.textBodyMedium.colorTextDisabled.$},r.createElement(ta.B,{className:U.cx.h200.$,svg:tn.A,useOriginalSrcFills_DEPRECATED:!0}),r.createElement("div",null,(0,G.tx)("slides.templates.search.empty",{searchTerm:r.createElement("span",{className:U.cx.fontBold.$},t)})),r.createElement("div",null,(0,G.tx)("slides.templates.search.empty.tip"))):r.createElement(B.P,{className:U.cx.px8.hFull.$,onScroll:l},r.createElement("div",{className:U.cx.pt8.$},r.createElement(ew,null,a.map(e=>r.createElement(eh,{key:(0,ee.NH)(e),template:e}))),r.createElement(tt.a,{onIntersectionChange:({isIntersecting:e})=>{e&&n()}})))}function tl({closePicker:e}){let t=(0,eq.mp)(),a=(0,V.r$)(),n=(0,V.dy)(),{scrollPosition:l,scrollRef:i,onScroll:o,resetScrollTop:s}=(0,V.d$)(F.Vf.ALL),{onShowSeparatorScroll:u}=(0,V.gH)(),m=(0,d.md)(F.q7),p=(0,v.tS)(),_=(0,D.Gi)(),f=(0,R.Xr)(F.bY);return((0,r.useEffect)(()=>()=>s([F.Vf.ALL]),[s]),n||m&&!p)?r.createElement("div",{className:U.cx.px8.$},r.createElement(eA,null)):r.createElement(B.P,{className:U.cx.px8.hFull.$,scrollContainerRef:i,initialScrollTop:l,onScroll:(e,t)=>{o(e,t),u(e,t)}},(t||(0,c.kc)().piper_theme_generation||(0,c.kc)().piper_theme_creation_wizard)&&a===V.Ji.OVERLAY_MODAL&&r.createElement(eY,{onStartFromOutline:function(){f({type:F.Vf.FILE_PICKER,parentType:F.Vf.ALL})}}),r.createElement(e8,null),_?.type==="org"&&r.createElement(e3,{currentOrg:_.entity}),_?.type==="team"&&r.createElement(e5,{currentTeam:_.entity}),r.createElement(e7,null),(0,c.IX)()&&r.createElement(eK,{closePicker:e}))}function ti({closePicker:e,showCloseButton:t}){let{trimmedSearchQuery:a,searchQuery:n,setSearchQuery:l,isSearchQueryLoading:i,searchQueryResult:s,requestLoadMore:c}=(0,V.$N)(),{showSeparator:d}=(0,V.gH)();return r.createElement(eR,null,r.createElement("div",{className:o()({[eo]:d})},r.createElement(eG,{searchQuery:n,setSearchQuery:l,showCloseButton:!!t,placeholder:(0,G.t)("slides.templates.search_templates")})),a?r.createElement(tr,{isSearchQueryLoading:i,trimmedSearchQuery:a,searchQueryResult:s,requestLoadMore:c}):r.createElement(tl,{closePicker:e}))}var to=a(216158),ts=a(647173);function tc({title:e,onClick:t,children:a,isLoading:l,publisherName:i,showSeparator:s=!0}){return r.createElement("div",{className:o()(U.cx.borderBox.flex.flexRow.itemsCenter.p8.minH48.$,{[eo]:s})},r.createElement(Y.D8,{className:"slides_template_ui--backIcon--WFPr8","aria-label":(0,G.t)("slides.templates.back"),onClick:t},r.createElement(ta.B,{className:U.cx.colorIcon.$,svg:ts.A,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0})),r.createElement("div",{className:"slides_template_ui--titleTextContainer--cH2zw"},l?r.createElement(eI,null):r.createElement(r.Fragment,null,r.createElement(n.TemplateTitle,{title:e}),i&&r.createElement(n.MetadataPublisher,{publisherName:i})),a))}function td({shelfId:e}){let[{data:t,status:a}]=(0,to.IT)((0,e2.Qp)(e)),n=(0,R.Xr)(F.bY),{scrollPosition:l,scrollRef:i,onScroll:o}=(0,V.d$)(F.Vf.HUB_FILE),s=()=>n({type:F.Vf.ALL});return"loading"===a?r.createElement(eR,null,r.createElement(tc,{isLoading:!0,title:"",onClick:s}),r.createElement("div",{className:U.cx.px8.$},r.createElement(eA,null))):t?r.createElement(eR,null,r.createElement(tc,{title:(0,G.Yd)(t.i18n_meta.title,t.title),onClick:s}),r.createElement(B.P,{className:U.cx.px8.pt16.hFull.$,scrollContainerRef:i,initialScrollTop:l,onScroll:o},r.createElement(ew,null,t.shelf_content.map(t=>r.createElement(eh,{key:t.id,template:{type:e1.n.HubFile,category:e,template:t}}))))):null}(e=>{e.TemplateTitle=function({title:e}){return r.createElement("div",{className:"slides_template_ui--templateTitleText--lcuqy text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,G.tx)("slides.templates.templates_modal.templates_title"),r.createElement("span",{className:"slides_template_ui--headerSeparator--Q3-mT"}," / "),e)},e.MetadataPublisher=function({publisherName:e}){return r.createElement("div",{className:"slides_template_ui--publisherTitleText--9DQpU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,G.tx)("slides.templates.templates_modal.published_by",{publisherName:e}))}})(n||(n={}));var tu=a(675678),tm=a(421757),tp=a(534611),t_=a(776621),tf=a(392592),tg=a(934533),th=a(410424),tE=a(632430),ty=a(356390),tv=a(108239),tb=a(434228);function tC(e){return(0,tb.O)()?r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17 7H7a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1M7 16h1.68l-.661 2.365a.5.5 0 0 0 .962.27L9.72 16h4.562l.737 2.635a.5.5 0 0 0 .963-.27L15.32 16H17a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2m1.515-6.56-.215.86-.86.215c-.505.126-.505.844 0 .97l.86.215.215.86c.126.505.844.505.97 0l.215-.86.86-.215c.505-.126.505-.844 0-.97L9.7 10.3l-.215-.86c-.126-.505-.844-.505-.97 0M12 9.498A.5.5 0 0 1 12.502 9l3 .014a.5.5 0 1 1-.004 1l-3-.014A.5.5 0 0 1 12 9.498M12.5 12a.5.5 0 0 0 0 1H15a.5.5 0 0 0 0-1z",clipRule:"evenodd"})):r.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 8h9a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1M5 9a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-1.409l.39 1.363a.5.5 0 0 1-.962.274L13.551 16H9.45l-.468 1.637a.5.5 0 0 1-.962-.274L8.41 16H7a2 2 0 0 1-2-2zm6 1.498a.5.5 0 0 1 .502-.498l3 .014a.5.5 0 1 1-.004 1l-3-.014a.5.5 0 0 1-.498-.502m-3.1.402.115-.46c.126-.505.844-.505.97 0l.115.46.46.115c.505.126.505.844 0 .97l-.46.115-.115.46c-.126.505-.844.505-.97 0L7.9 12.1l-.46-.115c-.505-.126-.505-.844 0-.97zm3.6 1.114a.5.5 0 1 0 0 1h2a.5.5 0 0 0 0-1z",clipRule:"evenodd"}))}var tw=a(328849),tk=a(606432),tx=a(545956),tT=a(99130),tN=a(318812),tS=a(538697);function tI(){let e=(0,l.wA)(),t=(0,tN.Um)(),a=(0,d.md)(F.oQ),[n,i]=r.useState([]),[o,s]=(0,d.fp)(F.V6),c=(0,tx.M0)(a);return(r.useEffect(()=>{a&&(s({type:F.i6.NONE}),(async()=>{let e=await c();if(!e)return;let t=await W.Zdr.getPagesFromBuffer(e);if(!t.length)return;i(t.map(e=>({guid:e.guid,name:e.name})));let a=t[0];s({type:F.i6.SINGLE,page:{guid:a.guid,name:a.name}})})())},[a,s,c]),a)?o.type===F.i6.NONE?r.createElement(tA,null):r.createElement(r.Fragment,null,r.createElement(tS.l6,{id:"slides-ai-file-picker-page-select",property:o,formatter:{format:e=>{switch(e.type){case F.i6.SINGLE:return e.page.name;case F.i6.ALL:return(0,G.t)("slides.templates.file_picker.page_selector.all_pages");default:return""}},isEqual:(e,t)=>e.type===t.type&&(e.type!==F.i6.SINGLE||t.type!==F.i6.SINGLE||e.page.guid===t.page.guid&&e.page.name===t.page.name)},onChange:e=>{s(e)},dispatch:e,className:"slides_template_page_selector--pageSelector--PuTJR",inputClassName:U.cx.fontMedium.colorText.ellipsis.alignTop.maxW150.$,dropdownShown:t,dropdownWidth:208},r.createElement(tS.c$,{value:{type:F.i6.NONE},disabled:!0,ignoreCheck:!0},(0,G.t)("slides.templates.file_picker.page_selector.label")),n.map(e=>r.createElement(tS.c$,{value:{type:F.i6.SINGLE,page:e},key:e.guid},e.name)),r.createElement(tS.sK,null),r.createElement(tS.c$,{value:{type:F.i6.ALL,allPages:n},key:-1},(0,G.t)("slides.templates.file_picker.page_selector.all_pages")))):null}function tA(){return r.createElement("div",{className:"slides_template_page_selector--pageSelectorLoadingState--oaDQH"},r.createElement("div",{className:U.cx.fontMedium.overflowHidden.colorTextSecondary.$},(0,G.t)("slides.templates.file_picker.page_selector.loading")),r.createElement(Z.kt,null))}function tL({templateSelected:e}){let{startAction:t,figjamFileKey:a}=(0,tx.Di)();return r.createElement(tD,null,r.createElement(tm.$n,{iconPrefix:r.createElement(tC,null),variant:"primary",onClick:t,disabled:!a},(0,G.tx)(e?"slides.templates.template_picker.submit.button.with_template":"slides.templates.template_picker.submit.button.without_template")))}function tO({createOutline:e,useTemplate:t,disabled:a}){let n=(0,eq.mp)();return r.createElement("div",{className:o()(U.cx.flex.itemsCenter.justifyEnd.p8.gap16.$,eu)},n&&r.createElement(tm.$n,{iconPrefix:r.createElement(tw.V,null),variant:"secondary",onClick:e,disabled:a},(0,G.tx)("slides.templates.outline_with_template.button")),r.createElement(tm.$n,{variant:"primary",onClick:t,disabled:a},(0,c.kc)().piper_templates_add_all?(0,G.tx)("slides.templates.add_all_slides"):(0,G.tx)("slides.templates.use_template")))}function tM({children:e}){return r.createElement(tD,null,r.createElement("div",{className:U.cx.flex.gap8.itemsCenter.$},r.createElement(tI,null),e))}function tP(){let e=(0,d.md)(F.V6),{startAction:t,figjamFileKey:a}=(0,tx.Di)();return r.createElement(tM,null,r.createElement(tm.$n,{iconPrefix:r.createElement(tC,null),variant:"primary",onClick:t,disabled:!a||e.type===F.i6.NONE},(0,G.tx)("slides.templates.file_picker.submit_button.generate")))}function tR(){let e=(0,d.md)(F.V6),t=(0,R.Xr)(F.bY),a=(0,d.md)(F.oQ);return r.createElement(tM,null,r.createElement(tm.$n,{variant:"primary",onClick:()=>{t({type:F.Vf.TEMPLATE_PICKER})},disabled:!a||e.type===F.i6.NONE},(0,G.tx)("slides.templates.file_picker.submit_button.pick_template")))}function tD({children:e}){return r.createElement("div",{className:o()(U.cx.flex.itemsCenter.justifyBetween.pl12.pr8.py8.$,eu)},r.createElement("div",{className:U.cx.flex.itemsCenter.justifyStart.gap8.$},r.createElement(tk.W,null),r.createElement(tT.f,null)),e)}var tF=a(565831);function tB({libraryKey:e}){let t=(0,V.NG)(e),[a,n]=(0,d.fp)(F.bY),l=null===(0,v.tS)(),i=(0,V.r$)(),o=(0,V.S7)(),s=(0,R.Xr)(F.ux),c=(0,R.Xr)(F.oQ);return((0,r.useEffect)(()=>{l||["loading","loaded"].includes(t.status)||(0,t_.Lo)(tu.FigmaTeam.SLIDES,`Query result status has unexpected value: ${t.status}`)},[l,t.status]),"loading"===t.status||l)?r.createElement(eR,null,r.createElement(tc,{title:"",isLoading:!0,onClick:()=>{n(a.type===F.Vf.TEMPLATE?a.parentView:{type:F.Vf.ALL}),s(null),c(null)},showSeparator:!1}),r.createElement("div",{className:U.cx.px16.overflowHidden.$},r.createElement(eO,null)),i===V.Ji.OVERLAY_MODAL&&!o&&r.createElement(tO,{createOutline:q.lQ,useTemplate:q.lQ,disabled:!0})):r.createElement(tU,{libraryKey:e,modules:t.data||[]})}function tU({libraryKey:e,modules:t}){let a=(0,V.r$)(),[n,i]=(0,d.fp)(F.bY),o=(0,R.Xr)(F.ux),s=(0,R.Xr)(F.oQ),{showSeparator:u}=(0,V.gH)(),m=(0,l.wA)(),p=(0,V.m4)(),_=(0,V.yt)(),f=t&&t.length>0,g=(0,tF.FF)(),h=n.type===F.Vf.TEMPLATE&&n.shouldRemoveSourceLibraryKeyOnFail,E=(0,V.BX)(g);if((0,r.useEffect)(()=>{if(!f&&n.type===F.Vf.TEMPLATE){if(h){E(),i({type:F.Vf.ALL});return}e?((0,t_.x1)(tu.FigmaTeam.SLIDES,"Expected to find at least one module in slides template",{libraryKey:e},{reportAsSentryError:!0}),m(tf.F.enqueue({type:"slides-template",message:(0,G.t)("slides.templates.toast.no_longer_available"),error:!0,icon:tg.zX.EXCLAMATION}))):(0,t_.x1)(tu.FigmaTeam.SLIDES,"No library key found for slides template",{},{reportAsSentryError:!0}),i({type:F.Vf.ALL})}},[m,f,e,t,E,i,h,n.type]),!f)return null;let y=t[0],v=()=>{let e=W.Ez5.getInsertGridCoord({x:-1/0,y:-1/0});if(g&&g!==tp.AD){let t=W.Ez5.slideDeck().coordForSlide(g);e={row:t.row,col:t.col+1}}else e={row:W.Ez5.slideDeck().getLastSlideCoord().row+1,col:0};p(),m((0,tE.yy)({modules:t,canvasPosition:new X.Mi,percentageOffset:new X.Mi,insertAsChildOfCanvas:!0})).then(({modules:t,insertedItems:n})=>et.l7.user("add-all-slides",()=>{t.forEach((t,r)=>{(0,V.M)({module:t,insertedItems:n[r],viewType:a,getGridCoord:()=>({row:e.row,col:e.col+r})})}),(0,tv.fL)(n[0][0]),ty.Y5.commit()})),et.l7.user("add-all-slides",()=>{W.Ez5.slideThemeLibBindings().setDocumentTemplateLibraryKey(t[0].library_key)}),y.isHubFile&&m((0,th.k8)({hubFileId:(0,K.fv)()(y)})),(0,V.qm)(m,y)},b=y.file_name||"",C=y.publisher_name;return r.createElement(eR,null,r.createElement(tc,{title:b,publisherName:C,onClick:()=>{i(n.type===F.Vf.TEMPLATE?n.parentView:{type:F.Vf.ALL}),o(null),s(null)},showSeparator:u},(0,c.kc)().piper_templates_add_all&&a===V.Ji.PICKER?r.createElement("div",{className:U.cx.mr8.mlAuto.$},r.createElement(tm.$n,{variant:"secondary",onClick:v},(0,G.tx)("slides.templates.add_all_slides"))):null),r.createElement(eC,{modules:t}),a===V.Ji.OVERLAY_MODAL&&r.createElement(tO,{createOutline:()=>{o(y.library_key),i({type:F.Vf.FILE_PICKER,parentType:F.Vf.TEMPLATE})},useTemplate:(0,c.kc)().piper_templates_add_all?v:()=>{_(y,{row:0,col:0},W.zkO.USER,"use-slides-template",a)}}))}function tG({title:e,templates:t,onRequestMore:a,onSeeAllClick:n}){return r.createElement(ek,{title:e,onSeeAllClick:n},t.map(e=>r.createElement(eh,{key:e.id,template:{type:e1.n.TeamTemplate,template:e}})),r.createElement(tt.a,{onIntersectionChange:a}))}function tH({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:a,requestLoadMore:n,requestLoadMoreForTeam:l}=(0,D.GR)(e,e0._Y.SLIDES),i=(0,c.kc)().pro_templates_lg;i&&a.forEach(e=>{e.templates.length>6&&(e.templates=e.templates.slice(0,6))});let o=(0,R.Xr)(F.bY),s=(0,r.useRef)(null),{scrollPosition:d,scrollRef:u,onScroll:m}=(0,V.d$)(F.Vf.ORG),p=()=>o({type:F.Vf.ALL});return t?r.createElement(eR,null,r.createElement(tc,{isLoading:!0,title:"",onClick:p}),r.createElement("div",{className:U.cx.px8.$},r.createElement(eA,null))):r.createElement(eR,null,r.createElement(tc,{title:e.name,onClick:p}),r.createElement(B.P,{className:U.cx.px8.hFull.$,scrollContainerRef:u,initialScrollTop:d,onScroll:m},a.map(t=>r.createElement(tG,{key:t.team_id,title:t.team_name??e.name,templates:t.templates,onRequestMore:()=>{i||l(t.team_id)},onSeeAllClick:i&&t.total>6?()=>o({type:F.Vf.TEAM,teamId:t.team_id,displayName:t.team_name??e.name}):void 0})),(0,c.kc)().piper_theme_creation_wizard&&r.createElement(ev,{title:(0,G.t)("slides.templates.wizard.entry_point.title"),testId:e4,onPointerDown:q.lQ})),r.createElement(tt.a,{rootRef:s,onIntersectionChange:n}))}function tV({templates:e,onRequestMore:t}){return r.createElement(ek,null,e.map(e=>r.createElement(eh,{key:e.id,template:{type:e1.n.TeamTemplateLg,template:e}})),r.createElement(tt.a,{onIntersectionChange:({isIntersecting:e})=>{e&&t()}}))}function tK({teamId:e,displayName:t}){let{requestLoadMoreForTeam:a,templatesByTeam:n}=(0,D.li)({teamId:e,editorType:e0._Y.SLIDES}),l=(0,R.Xr)(F.bY),{scrollPosition:i,scrollRef:o,onScroll:s}=(0,V.d$)(F.Vf.TEAM),c=(0,b.dq)();return r.createElement(eR,null,r.createElement(tc,{title:t,onClick:()=>{c?l({type:F.Vf.ORG}):l({type:F.Vf.ALL})}}),n?r.createElement(B.P,{className:U.cx.p8.hFull.$,scrollContainerRef:o,initialScrollTop:i,onScroll:s},r.createElement(tV,{templates:n.templates,onRequestMore:a})):r.createElement("div",{className:U.cx.p8.$},r.createElement(eL,null)))}var tz=a(915440),tW=a(67833),tj=a(205054),tq=a(860178),tY=a(279453);function tX({showCloseButton:e}){let[t,a]=(0,d.fp)(F.bY),{files:n,searchQuery:l,debouncedSearchQuery:i,setSearchQuery:s,status:c}=(0,V._8)(e0._Y.WHITEBOARD),[u,m]=(0,d.fp)(F.ux),p=(0,R.Xr)(F.oQ),{showSeparator:_}=(0,V.gH)();return t.type!==F.Vf.FILE_PICKER?null:r.createElement(eR,null,r.createElement(eH,{searchQuery:l,setSearchQuery:s,onBack:function(){t.type===F.Vf.FILE_PICKER&&(u&&t.parentType===F.Vf.TEMPLATE?a({type:F.Vf.TEMPLATE,libraryKey:u,parentView:{type:F.Vf.ALL}}):(a({type:F.Vf.ALL}),m(null),p(null)))},showCloseButton:!!e,placeholder:(0,G.t)("slides.templates.file_picker.search_files")}),r.createElement("div",{className:o()(U.cx.pt16.pb24.px16.flex.flexColumn.gap2.$,{[eo]:_})},r.createElement(eV,{icon:r.createElement(tW.oS,{type:tW.y1.WHITEBOARD,size:tW.LE.SMALL}),title:(0,G.t)("slides.templates.file_picker.title"),subtitle:(0,G.t)("slides.templates.file_picker.subtitle")})),r.createElement(tJ,{status:c,debouncedSearchQuery:i,files:n}),t.parentType===F.Vf.TEMPLATE?r.createElement(tP,null):r.createElement(tR,null))}function tJ({status:e,debouncedSearchQuery:t,files:a}){let{scrollPosition:n,scrollRef:i,onScroll:s}=(0,V.d$)(F.Vf.FILE_PICKER),{onShowSeparatorScroll:c}=(0,V.gH)(),d=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===W.kul.JOINED),u=null===(0,v.tS)();return e===V.J_.LOADING||!d||u?r.createElement(eM,null):e!==V.J_.SUCCESS?r.createElement("div",{className:U.cx.flex.itemsCenter.justifyCenter.hFull.wFull.colorText.textBodyLarge.pre.$},r.createElement(tQ,{debouncedSearchQuery:t,status:e})):r.createElement(B.P,{className:o()(U.cx.px8.hFull.$),onScroll:(e,t)=>{s(e,t),c(e,t)},scrollContainerRef:i,initialScrollTop:n},r.createElement("div",{className:o()(em,U.cx.pb12.$)},a.map(e=>r.createElement(tZ,{file:e,key:e.key}))))}function tZ({file:e}){let t=(0,tq.iZ)(),[a,n]=(0,d.fp)(F.oQ),{disabled:l,tooltipText:i}=function(e){let t=(0,tz.Rs)(tY.bgg,{fileKey:e});return"loaded"!==t.status?{disabled:!0,tooltipText:void 0}:t.data.file?.viewerExportRestricted&&t.data.file?.canEdit===!1?{disabled:!0,tooltipText:(0,G.t)("slides.template.file_picker.viewer_export_restricted_disabled")}:t.data.file?.org?.k12GoogleOrg||t.data.file?.org?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,G.t)("slides.template.file_picker.ai_disabled.org")}:t.data.file?.team?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,G.t)("slides.template.file_picker.ai_disabled.team")}:{disabled:!1,tooltipText:void 0}}(e.key);return r.createElement("div",{className:o()(U.cx.pt8.px8.$,"slides_template_ui--fileTile--6wu1g")},r.createElement(tj.GQ,{onClick:t=>{t.stopPropagation(),l||n(e.key)},overrideOnClick:!0,file:e,subtitle:r.createElement(tj.lJ,{file:e}),activeFileUsers:[],currentUser:t,isSelected:!l&&a===e.key,disabled:l,tooltipText:i,disableIconOverlays:!0,titleFontSize:11}))}function tQ({debouncedSearchQuery:e,status:t}){return t===V.J_.NO_QUERY_RESULTS?(0,G.tx)("slides.templates.file_picker.no_files_match",{searchQuery:r.createElement("p",{className:U.cx.colorText.textBodyLargeStrong.$},e)}):t===V.J_.NO_RECENT_FILES?r.createElement("h1",{className:U.cx.colorText.textBodyLarge.$},(0,G.tx)("slides.templates.file_picker.no_recent_files")):null}var t$=a(135317),t0=a(568214),t1=a(138392),t2=a(38580),t5=a(768137),t3=a(799569),t4=a(659838),t6=a(809840),t7=a(428654),t8=a(775664),t9=a(774191),ae=a(940596),at=a(75540),aa=a(846848),an=a(282647),ar=a(753243),al=(e=>(e.COMPLEMENTARY="Complementary",e.TRIADIC="Triadic",e.ANALOGOUS="Analogous",e.SPLIT="Split",e.SQUARE="Square",e.MONOCHROMATIC="Monochromatic",e))(al||{});let ai=t8.z5.parse("#FF70A9"),ao="Complementary",as=(0,ae.Wh)(()=>(0,t2.eU)("Inter")),ac=(0,ae.Wh)(()=>(0,t2.eU)("Bold")),ad=(0,ae.Wh)(()=>(0,t2.eU)("Inter")),au=(0,ae.Wh)(()=>(0,t2.eU)("Regular")),am=(0,ae.Wh)(()=>(0,t2.eU)(ao)),ap=(0,ae.Wh)(()=>(0,t2.eU)(ai)),a_=(0,ae.Wh)(()=>(0,t2.eU)(aw(ao,ai))),af=(0,ae.Wh)(()=>(0,t2.eU)(t0.UE)),ag=(0,ae.Wh)(()=>(0,t2.eU)(""));function ah(){let[e,t]=r.useState(0),a=["font","color","name"],n=a[e],l=(0,d.md)(am),i=(0,d.md)(ap),o=(0,R.Xr)(a_);return r.useEffect(()=>{o(aw(l,i))},[o,l,i]),r.createElement(r.Fragment,null,r.createElement(aE,null),r.createElement("div",{className:U.cx.flex.$},r.createElement(av,null),r.createElement("div",{className:U.cx.flex.flexColumn.p16.gap24.$,style:{width:"202px"}},r.createElement(B.P,null,"font"===n&&r.createElement(ab,null),"color"===n&&r.createElement(ak,null),"name"===n&&r.createElement(ax,null),r.createElement("div",{className:U.cx.flex.justifyBetween.itemsCenter.$},r.createElement(t6.E,{color:"tertiary"},`Step ${e+1} of 3`),r.createElement("div",{className:U.cx.flex.gap8.$},e>0&&r.createElement(t5.nR,{onClick:()=>t(e-1)},"Back"),e<a.length-1&&r.createElement(t5.nR,{onClick:()=>t(e+1)},"Next"),e===a.length-1&&r.createElement(aN,null)))))))}function aE(){let e=(0,R.Xr)(F.VZ);return r.createElement("div",{className:o()(U.cx.flex.flexRow.itemsCenter.justifyBetween.pl16.$,U.cx.bb1.bSolid.colorBorder.$)},r.createElement(t6.E,{fontWeight:"semi-bold"},"Create theme \u2728"),r.createElement(t3.Jn,{className:U.cx.m8.$,onClick:()=>e(!1)}))}async function ay(){if(W.vXe.fontsAreLoading()){let e=0;await new Promise((t,a)=>{let n=setInterval(()=>{W.vXe.fontsAreLoading()||(t(),clearInterval(n)),e>10&&a(),e++},100)})}}function av(){let e=(0,d.md)(as),t=(0,d.md)(ac),a=(0,d.md)(ad),n=(0,d.md)(au),l=(0,d.md)(af),[i,o]=r.useState("");return r.useEffect(()=>{(async()=>{if(W.Ez5.slideThemeStylePreview().generateTitleSlideNode(e,t,a,n,(0,t9.oU)(l)),await ay(),W.vXe.fontIsLoaded(e,t)){let e=W.Ez5.slideThemeStylePreview().generateTitleSlidePreview();o(e?URL.createObjectURL(new Blob([e])):"")}else console.warn("Failed to generate preview due to missing font")})().catch(()=>console.warn("Failed to generate preview due to missing font"))},[e,t,a,n,l,o]),r.createElement("div",{className:U.cx.flex.flexColumn.justifyCenter.itemsCenter.gap16.$,style:{width:"420px",minHeight:"490px",background:"#F5F5F5"}},r.createElement("img",{src:i,alt:"slide preview",style:{width:"380px",height:"217px"}}))}function ab(){let[e,t]=(0,d.fp)(as),[a,n]=(0,d.fp)(ad),i=(0,R.Xr)(ac),o=(0,R.Xr)(au),s=(0,l.d4)(e=>e.fonts),c=r.useMemo(()=>(0,at.pn)(s),[s]),u=e=>{e&&(t(e),i(function(e){for(let t of["Bold","Semi Bold","Medium","Regular"])if(t in e)return t;return Object.keys(e)[0]}(c[e])))},m=e=>{e&&(n(e),o(function(e){for(let t of["Regular"])if(t in e)return t;return Object.keys(e)[0]}(c[e])))};return r.createElement(aT,{title:"\u2460  Pick your fonts"},r.createElement(t6.E,{fontWeight:"medium"},"Title"),r.createElement("div",null,r.createElement(an.ay,{id:"create-slides-theme-title-font-family",fontFamily:e,onChange:u,fonts:s,versionsForStyles:c,editingStyleGuid:void 0,fontPickerId:`${p.J6}-theme-title`})),r.createElement(t6.E,{fontWeight:"medium"},"Body"),r.createElement("div",null,r.createElement(an.ay,{id:"create-slides-theme-body-font-family",fontFamily:a,onChange:m,fonts:s,versionsForStyles:c,editingStyleGuid:void 0,fontPickerId:`${p.J6}-theme-body`})),r.createElement(t5.nR,{onClick:()=>{let e=Object.keys(s);u(e[Math.floor(Math.random()*e.length)]),m(e[Math.floor(Math.random()*e.length)])}},"Randomize"))}function aC(e,t){let a=(0,t9.oB)(e),n=360*a.h,r={...a,h:(n+t)%360/360};return(0,t9.In)(r)}function aw(e,t){switch(e){case"Complementary":return[t,aC(t,180)];case"Triadic":return[t,aC(t,120),aC(t,240)];case"Analogous":return[t,aC(t,-45),aC(t,45)];case"Split":return[t,aC(t,150),aC(t,210)];case"Square":return[t,aC(t,90),aC(t,180),aC(t,270)];case"Monochromatic":return[t,(0,t1.Hd)(t,.2),(0,t1.Hd)(t,-.2)].filter(e=>null!==e)}}function ak(){let e=(0,y.dH)(),t=(0,l.wA)(),a=(0,tN.Um)(),[n,i]=(0,d.fp)(ap),[o,s]=(0,d.fp)(am),c=(0,d.md)(a_),u=(0,R.Xr)(af),[m,p]=r.useState(1),_=r.useMemo(()=>[t0.UE,...c],[c]);return r.useEffect(()=>{u(_[m%_.length])},[_,m,u]),r.createElement(aT,{title:"\u2461  Pick your colors"},r.createElement("div",{className:U.cx.flex.wFull.radiusMedium.$},c.map((e,t)=>r.createElement("div",{key:t,className:U.cx.flexGrow1.h32.$,style:{background:t7.F.format(e)}}))),r.createElement(aa.S7,{color:n,colorFormat:W.NVY.HEX,onColorChange:i,displayType:aa.sX.SLIDES_THEME,currentTool:e,dispatch:t,dropdownShown:a,canAcceptStyles:!1,canAcceptVariables:!1,hideOpacity:!0,dropperDisabled:!0}),r.createElement("div",{className:U.cx.flex.flexWrap.gap8.$},Object.values(al).map(e=>r.createElement(tm.$n,{key:e,variant:e===o?"primary":"secondary",iconPrefix:e===o?r.createElement(t$.g,{className:U.cx.colorIcon.$}):void 0,onClick:()=>{s(e),p(0)}},e))),r.createElement(t6.E,{fontWeight:"medium"},"Background color"),r.createElement("div",{className:U.cx.flex.gap2.$},_.map((e,t)=>r.createElement(ar.qm,{key:t,backgroundString:t7.F.format(e),tooltipText:t8.z5.format(e),onClick:()=>p(t),isSelected:m%_.length===t}))),r.createElement(t5.nR,{onClick:()=>{let e=`#${Math.floor(16777215*Math.random()).toString(16)}`,t=Math.floor(600*Math.random())+100,a=(0,t1.jA)(t8.z5.parse(e),t);a&&i(a);let n=Object.values(al);s(n[Math.floor(Math.random()*n.length)]),p(Math.floor(8*Math.random()))}},"Randomize"))}function ax(){let[e,t]=(0,d.fp)(ag);return r.createElement(aT,{title:"\u2462  Name your theme"},r.createElement("div",{className:"generate_theme_view--nameInput--vnecB"},r.createElement(t4.L,{placeholder:"e.g. Pastel theme",value:e||"",onChange:e=>{t(e.target.value)},maxLength:100,height:24})))}function aT({title:e,children:t}){return r.createElement("div",{className:U.cx.flex.flexColumn.wFull.gap8.$},r.createElement(t6.E,{fontWeight:"semi-bold"},e),t)}function aN(){let e=(0,d.md)(as),t=(0,d.md)(ac),a=(0,d.md)(ad),n=(0,d.md)(au),l=(0,d.md)(af),i=(0,d.md)(a_),o=(0,d.md)(ag),s=(0,y.eY)(),{canDismiss:c,maybeUseLightTemplateOnDismiss:u}=(0,V.vN)();return r.createElement(t5.$$,{onClick:()=>{u().then(r=>{if(0===r.length)return;let c=s.get(r[0]);c&&et.l7.user("generate-theme",()=>{W.Ez5.slideThemeLibBindings().updateThemeWithProperties(c.slideThemeId,{titleFontFamily:e,titleFontStyle:t,bodyFontFamily:a,bodyFontStyle:n,bgColor:(0,t9.oU)(l),accentColors:i.filter(e=>!(0,t0.DA)(e,l)&&!(0,t0.DA)(e,t0.UE)&&!(0,t0.DA)(e,t0.Uv)).map(t9.oU)}),W.Ez5.slideThemeLibBindings().setThemeName(c.slideThemeId,o??"Theme")})})},disabled:!c},"Create theme")}function aS({showCloseButton:e}){let{searchQuery:t,setSearchQuery:a}=(0,V.$N)(),[n,i]=(0,d.fp)(F.bY),o=n.type===F.Vf.TEMPLATE_PICKER&&n.figjamEntryPointData,s=(0,l.d4)(e=>e.mirror.appModel.multiplayerSessionState===W.kul.JOINED);return r.createElement(eR,null,o?r.createElement(eG,{searchQuery:t,setSearchQuery:a,showCloseButton:!0,placeholder:(0,G.t)("slides.templates.search_templates")}):r.createElement(eH,{searchQuery:t,setSearchQuery:a,onBack:function(){i({type:F.Vf.FILE_PICKER,parentType:F.Vf.TEMPLATE_PICKER})},showCloseButton:!!e,placeholder:(0,G.t)("slides.templates.template_picker.search_templates")}),s?r.createElement(aI,null):r.createElement("div",{className:U.cx.px8.$},r.createElement(eA,null)))}function aI(){let{trimmedSearchQuery:e,isSearchQueryLoading:t,searchQueryResult:a,requestLoadMore:n}=(0,V.$N)(),l=(0,d.md)(F.ux),{showSeparator:i}=(0,V.gH)();return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(U.cx.p16.flex.flexColumn.gap2.$,{[eo]:e&&i})},r.createElement(eV,{icon:r.createElement("div",{style:{"--color-icon":"var(--color-icon-menu-onselected)"},className:U.cx.colorBgBrand.h14.w14.bRadius2.flex.alignCenter.itemsCenter.$},r.createElement(eW.Q,null)),title:(0,G.t)("slides.templates.template_picker.title"),subtitle:(0,G.t)("slides.templates.template_picker.subtitle")})),e?r.createElement(tr,{isSearchQueryLoading:t,trimmedSearchQuery:e,searchQueryResult:a,requestLoadMore:n}):r.createElement(aA,null),r.createElement(tL,{templateSelected:!!l}))}function aA(){let e=(0,b.sZ)(),[t,a]=r.useState([]),[n,l]=r.useState(null),{scrollPosition:i,scrollRef:s,onScroll:c}=(0,V.d$)(F.Vf.TEMPLATE_PICKER),{showSeparator:d,onShowSeparatorScroll:u}=(0,V.gH)(),[{data:m}]=(0,eQ.IT)((0,e2._4)()),p=(0,e$.eE)(w.$A.Slides);(0,r.useEffect)(()=>{let t=[];if(p.length>0&&t.push({id:"recents",label:(0,G.t)("slides.templates.recents"),view:r.createElement(aO,null)}),e&&t.push({id:"org",label:(0,G.t)("slides.templates.org_templates"),view:r.createElement(aP,{currentOrg:e})}),m)for(let e of m)t.push({id:`hub-${e.id}`,label:e.title,view:r.createElement(aR,{shelf:e})});a(t),t.length>0&&l(t[0].id)},[p,e,m]);let _=e=>()=>{l(e)};return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(U.cx.flex.flexRow.gap6.alignCenter.itemsCenter.px16.pb16.$,{[eo]:d})},t.map(e=>r.createElement("button",{key:e.id,className:o()(U.cx.textBodyMedium.colorText.spacingWide.alignCenter.px8.h24.$,{"slides_template_ui--tabButton--R1hl1":n===e.id,[U.cx.textBodyMediumStrong.$]:n===e.id,[U.cx.colorTextSecondary.$]:n!==e.id}),onClick:_(e.id)},e.label))),r.createElement(B.P,{className:U.cx.px8.hFull.$,scrollContainerRef:s,initialScrollTop:i,onScroll:(e,t)=>{c(e,t),u(e,t)}},r.createElement(aL,{selectedTabId:n,tabs:t})))}function aL({selectedTabId:e,tabs:t}){let a=t.find(t=>t.id===e);return a?a.view:null}function aO(){let e=(0,e$.eE)(w.$A.Slides);return 0===e.length?null:r.createElement(ew,null,e.map(e=>r.createElement(eh,{key:(0,ee.NH)(e),template:e})))}function aM({teamId:e,displayName:t,onBackClick:a}){let{requestLoadMoreForTeam:n,templatesByTeam:l}=(0,D.li)({teamId:e,editorType:e0._Y.SLIDES});return r.createElement(r.Fragment,null,r.createElement(tc,{title:t,onClick:a,showSeparator:!1}),l?r.createElement(tV,{templates:l.templates,onRequestMore:n}):r.createElement(eL,null))}function aP({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:a,requestLoadMoreForTeam:n}=(0,D.GR)(e,e0._Y.SLIDES),[l,i]=r.useState(null),o=(0,c.kc)().pro_templates_lg;return(o&&a.forEach(e=>{e.templates.length>8&&(e.templates=e.templates.slice(0,8))}),l)?r.createElement(aM,{teamId:l,displayName:e.name,onBackClick:()=>i(null)}):t?r.createElement(eA,null):r.createElement(r.Fragment,null,a.map(t=>r.createElement(tG,{key:t.team_id,title:t.team_name??e.name,templates:t.templates,onRequestMore:()=>{o||n(t.team_id)},onSeeAllClick:o&&t.total>8?()=>{i(t.team_id)}:void 0})))}function aR({shelf:e}){let[{status:t}]=(0,eQ.IT)((0,e2._4)());if("loading"===t)return r.createElement(eA,null);let a=e.id;return r.createElement(ew,null,e.shelf_content.map(e=>{let t={type:e1.n.HubFile,category:a,template:e};return r.createElement(eh,{key:e.id,template:t})}))}function aD({showCloseButton:e}){let t=(0,d.md)(F.bY),a=(0,R.Xr)(F.VZ),n=(0,R.Xr)(F.Ei),l=(0,R.Xr)(F.OR),i=(0,R.Xr)(F.xw),o=(0,D.Gi)();switch((0,r.useEffect)(()=>()=>{l(""),i()},[i,l]),t.type){case F.Vf.ALL:return r.createElement(ti,{showCloseButton:e,closePicker:()=>{n(!1),a(!1)}});case F.Vf.ORG:if(o?.type!=="org")throw Error("User is not allowed to browse org templates");return r.createElement(tH,{currentOrg:o.entity});case F.Vf.TEAM:if(o?.type!=="team")throw Error("User is not allowed to browse team templates");return r.createElement(tK,{teamId:t.teamId,displayName:t.displayName});case F.Vf.TEMPLATE:return r.createElement(tB,{libraryKey:t.libraryKey});case F.Vf.HUB_FILE:return r.createElement(td,{shelfId:t.shelfId});case F.Vf.FILE_PICKER:return r.createElement(tX,{showCloseButton:e});case F.Vf.TEMPLATE_PICKER:return r.createElement(aS,{showCloseButton:e});case F.Vf.GENERATE_THEME:return r.createElement(ah,null);default:return null}}var aF=a(488578),aB=a(860168);function aU({children:e}){let{canDismiss:t,maybeUseLightTemplateOnDismiss:a}=(0,V.vN)(),n=(0,d.md)(F.bY).type===F.Vf.GENERATE_THEME?"fitContent":(0,s.hG)(aB.uRR);return r.createElement(aF.aF,{className:"slides_template_modal--templateModal--GmDGm",size:n,onHide:a,tintedModalBackground:!0,disableClickOutsideToHide:!t,enableEscapeToClose:t,"data-testid":"slides-template-modal"},r.createElement("div",{className:U.cx.overflowHidden.$,style:{height:"600px"}},e))}function aG(){let[e,t]=(0,d.fp)(F.Ei),a=(0,E.dP)(),n=(0,x._)(),i=(0,T.Ye)(),c=(0,l.wA)(),u=(0,b.sZ)(),f=r.useRef(null);if((0,P.Y)(()=>t(!1),{closeOnEsc:!0,ignore:[f,(0,h.Tc)("slides-template-button"),(0,h.Tc)(L.GV),(0,h.Tc)(M.l)]}),(0,r.useEffect)(()=>{c(k.cd.fetchTemplatesMetadata({key:w.$A.Slides,orgId:u?.id})),c(m.sz({shelfType:C.cS.PIPER_TEMPLATE_MODAL}))},[u?.id,c]),!e)return null;let g=i?70+n:(0,s.jz)(aB.M$q)+n;return r.createElement(_.fu,{name:"Slides Template Picker"},r.createElement("div",{className:o()("slides_template_ui--pickerContainer--a3RMS",p.Dm),style:{top:g,left:i?12:a+24,width:408,height:window.innerHeight-g-72},ref:f,"data-testid":"slides-template-picker"},r.createElement(V.Jn.Provider,{value:V.Ji.PICKER},r.createElement(aD,null))))}function aH(){let e=(0,y.p8)("isReadOnly"),t=(0,A.jY)(),a=(0,d.md)(F.q7),n=(0,A.EI)(),l=(0,d.md)(f.D),i=(0,d.md)((0,g.r1)(O.Kt)).data,o=(0,d.md)(F.VZ),s=(0,d.md)(I.Ai),{state:m}=(0,S.wj)(N.JT.BOARD_TO_DECK),p=(0,v.tS)();return(0,u.Ns)()||(0,u.nl)()||(0,c.kc)().piper_create_with_data_on_load&&(a||s.fileKey&&!a)||e||!i||!n||t||l&&!o||m===S.qy.RUNNING?null:r.createElement(_.fu,{name:"Slides Template Overlay Modal",properties:{productType:"slides",fileKey:p}},r.createElement(V.Jn.Provider,{value:V.Ji.OVERLAY_MODAL},r.createElement(aU,null,r.createElement(aD,{showCloseButton:!0}))))}},982629:(e,t,a)=>{a.d(t,{R:()=>p,l:()=>m});var n=a(411855),r=a(421757),l=a(927457),i=a(374626),o=a(939863),s=a(498606),c=a(92566),d=a(924430),u=a(491679);let m="toolbar-add-slide-button";function p(){let e=(0,i.md)(c.o6),{toggleTemplatePicker:t}=(0,u.uu)();return e?null:n.createElement(r.$n,{onClick:t,iconPrefix:n.createElement(l.e,null),variant:"secondary",recordingKey:"toolbar.addSlideButton",htmlAttributes:{"data-testid":"addSlideButton","data-element-target":m,"data-onboarding-key":d.MB,"data-tooltip":(0,o.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":s.Ib.TEXT,"data-fullscreen-intercept":!0}},(0,o.tx)("slides.carousel.new_slide"))}},342753:(e,t,a)=>{a.d(t,{A:()=>k,E:()=>w});var n=a(188507),r=a(587670),l=a(966712),i=a(646240),o=a(374626),s=a(915440),c=a(30637),d=a(635897),u=a(321961),m=a(738269),p=a(293017),_=a(843495),f=a(335682),g=a(594901),h=a(99506),E=a(279453),y=a(984968),v=a(36816),b=a(509323),C=a(954049);function w(e){let t=function(){let e=(0,n.wA)(),t=(0,i.Xr)(b.Xw),a=(0,i.Xr)(C.Pk);return()=>{e(m.oB()),e(p.XE()),e(p.Uv()),t(!1),a(!1)}}(),a=k(),l=e===r.EMA.DESIGN?r.EMA.SLIDES:r.EMA.DESIGN;return()=>{(a||l!==r.EMA.DESIGN)&&(t(),function(e){let t=o.zl.get(d.Kh);e===r.EMA.DESIGN&&((0,_.NT)(r.FAf.DESIGN),t===r.NLJ.COMMENTS&&r.glU.triggerAction("set-tool-default",null))}(l),l===r.EMA.DESIGN?r.glU.triggerAction("enter-slides-design-mode",null):r.glU.triggerAction("enter-slides-mode",null))}}function k(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(f.vu),a=(0,u.q)(),r=(0,y.ol)(),i=(0,s.Rs)(E.L1I,{fileKey:t?.key??"",teamId:t?.team_id??null,repoId:t?.file_repo_id??null,projectId:t?.folder_id??null,currentOrgId:e??null}),o=(0,g.gj)(t?.folder_id??null,h._Y.DESIGN);if((0,c.PN)())return!0;if(a)return!1;if(t&&t.team_id&&!t.parent_org_id&&r?.student_team)return!0;if((0,l.kc)().redep_slides_toggle_on_folder_perms)return o.unwrapOr(!1);let d=i.data?.file?.org?.currentBaseOrgUser;if(d)return d.designPaidStatus===h.El.FULL;{let e=i.data?.file?.roles[0]?.user?.teamUser;return!!e&&e.designPaidStatus===v.Zf.FULL}}},535688:(e,t,a)=>{a.d(t,{V:()=>v});var n=a(411855),r=a(188507),l=a(293775),i=a(587670),o=a(966712),s=a(374626),c=a(646240),d=a(939863),u=a(101505),m=a(226055),p=a(498606),_=a(56207),f=a(209234),g=a(368702),h=a(861717),E=a(583765),y=a(125233);function v(){let e=(0,m.GS)(),t=(0,s.md)(E.zS),a=(0,c.Xr)(E.bJ),v=(0,c.Xr)(E.tz),b=e?"right":"left",C=(0,o.kc)().figjam_generate_handbrake,w=C?(0,d.t)("whiteboard.ai_modal.generate_handbrake"):(0,d.t)("whiteboard.ai_modal.generate"),k=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===i.lyf.LAYOUT);(0,n.useEffect)(()=>{k||v()},[k,v]);let x={isActive:t===E.Wl.TOP_BAR,onClick:()=>{t===E.Wl.TOP_BAR?v():((0,g.W)(b,v),a())},trackingProperties:{trackingDescriptor:u.c.FIGJAM_AI_TOOLBAR_ITEM},onboardingKey:_.bX,innerText:"AI Toolbar Entrypoint",disabled:C,dataTestId:"figjam-ai-toolbar-item",recordingKey:"figjam-ai-toolbar-item"};return e?n.createElement(h.Z,{tooltip:{type:p.Ib.TEXT,text:w},...x},n.createElement(l.C,null)):n.createElement(f.P,{icon:y.A,addLeftMargin:!0,tooltipText:w,...x})}},577023:(e,t,a)=>{a.d(t,{Cw:()=>C,Su:()=>v,v:()=>y});var n=a(411855),r=a(38580),l=a(374626),i=a(860601),o=a(939863),s=a(672517),c=a(456104),d=a(457630),u=a(397065),m=a(143678),p=a(147829),_=a(342720),f=a(493364),g=a(63666),h=a(463546),E=a(161735);let y=(0,r.eU)(!1),v="organize";function b({onClose:e}){let t=(0,E.Cb)(),a=(0,d.LE)({subscribeToUpdates_expensive:t});return n.useEffect(()=>{t||e()},[t,e]),n.createElement("div",{style:{opacity:a?0:1,transition:"ease-in-out 0.1s all"}},n.createElement(g.Dv,{targetType:"dom",targetKey:v,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:f.F_.BOTTOM,onTargetLost:i.lQ},n.createElement(_.mI,{bodyText:n.createElement("span",{style:{maxWidth:184}},(0,o.tx)("whiteboard.organize_menu.onboarding_text_base",{boldText:n.createElement("b",null,(0,o.tx)("whiteboard.organize_menu.onboarding_text_bold_text"))})),buttonText:(0,o.tx)("whiteboard.organize_menu.onboarding_dismiss_button_text"),onButtonClick:()=>{e()}})))}function C(){let[e,t]=(0,l.fp)(y),{show:a,isShowing:r,complete:i}=(0,c.e)({overlay:h.YiU,priority:u.N.SECONDARY_MODAL});return n.useEffect(()=>{a({canShow:()=>e})},[e,a]),n.createElement(p.M,{isShowing:r,testId:"FigJamAISummarizationEntrpointPointerOverlay"},n.createElement(s.fu,{name:m.e0.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP},n.createElement(b,{onClose:()=>{t(!1),i()}})))}},99130:(e,t,a)=>{a.d(t,{f:()=>u});var n=a(411855),r=a(946689),l=a(762638),i=a(939863),o=a(278733),s=a(896474),c=a(498606),d=a(773912);function u(){return n.createElement("div",{className:l.cx.font11.colorTextSecondary.overflowBreakWord.$},(0,i.tx)("whiteboard.ai_modal.disclaimer"),n.createElement(r.Us,{trusted:!0,href:d.nG,className:l.cx.inlineBlock.cursorDefault.$,style:o.sx.add({verticalAlign:"bottom"}).$,target:"_blank","data-tooltip-type":c.Ib.TEXT,"data-tooltip":(0,i.t)("whiteboard.ai_modal.learn_more"),innerText:"learn more"},n.createElement(s.In,{icon:"info-16",fill:"secondary"})))}},489005:(e,t,a)=>{a.d(t,{s:()=>B});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(752553),s=a(153234),c=a(939863),d=a(801161),u=a(279453),m=a(984968),p=a(498606),_=a(677859),f=a(244307),g=a(684690),h=a(374626),E=a(827586),y=a(662275),v=a(672517),b=a(428654),C=a(775664),w=a(140047),k=a(694241),x=a(143678),T=a(227795),N=a(42173),S=a(948529),I=a(225719),A=a(279290),L=a(557569);let O="color_palette_picker--header__iconButton--rFfgT";var M=a(162502),P=a(98285);function R({customColorPalettes:e,closeColorPalettePicker:t,defaultColorPaletteLength:a}){let l=(0,m.cD)(),o=(0,r.d4)(e=>(0,w._)(l,e)),[s,d]=(0,h.fp)(I.Ze),[u,p]=n.useState(!1),_=(0,g.Z9)(),f=n.useRef(null),y={uuid:k.fJ,name:(0,c.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,N.TS)("base").map(e=>C.z5.format(e))};if(!e)return n.createElement("div",null);let b=[y].concat(e).map((e,r)=>n.createElement(D,{index:r,key:e.uuid,palette:e,isSelected:_.uuid===e.uuid,containerRef:f,defaultColorPaletteLength:a,closeColorPalettePicker:t}));return n.createElement(v.fu,{name:x.e0.COLOR_PALETTE_PICKER},n.createElement("div",{className:i()({"color_palette_picker--wrapper--DVGTu":!0,"color_palette_picker--wrapper_onClose--zERit":s})},n.createElement("div",{ref:f,className:i()({"color_palette_picker--container--2HK33 modal--modalShadowFigJam--lkEJ2":!0,"color_palette_picker--container_onClose--NlCEf":s}),onAnimationEnd:()=>{s&&(d(!1),t())}},n.createElement(F,{teamName:o?.name||"",showBottomBorder:u}),n.createElement("div",{className:"color_palette_picker--paletteList--jdLIl"},n.createElement(E.P,{maxHeight:290,innerClassName:"color_palette_picker--scrollContainer__inner--GF0-Z",onScroll:e=>{e>0?p(!0):p(!1)}},b)))))}function D({palette:e,isSelected:t,index:a,containerRef:r,defaultColorPaletteLength:l,closeColorPalettePicker:o}){let s=(0,g.$v)(e.baseColors),c=(0,g.Bw)(),d=n.useRef(0===a?0:2*Math.random()*(a%2?1:-1)),u=r?.current?.offsetHeight||0,m={"--rowRotation":`rotate(${t?0:d.current}deg)`,"--translatePaletteRow":`${Math.max(u-80-32*a,0)}px`};return n.createElement("button",{className:i()({"color_palette_picker--paletteRow--9Pdbd":!0,"color_palette_picker--paletteRow_selected--um2Cd":t}),style:m,onClick:()=>{if(!t){let t=e.uuid===k.fJ?l:e.baseColors.length;c(e.uuid,t)}o(!0)},type:"button","data-tooltip-type":p.Ib.TEXT,"data-tooltip":e.name,"data-tooltip-max-width":200,"data-tooltip-show-above":!0,"data-testid":`color-palette-row-${e.uuid}`},s.map((t,a)=>n.createElement(S.cd,{key:e.uuid+b.F.format(t)+"-"+a,size:"medium",value:t,paletteType:"base",background:"light"})))}function F(e){let t=(0,r.wA)(),a=(0,g.X8)();return n.createElement("div",{className:i()({"color_palette_picker--header--m9FBq":!0,"color_palette_picker--header_bottomBorder--PRGsS":e.showBottomBorder})},e.teamName?(0,c.tx)("whiteboard.color_palettes.color_palette_picker.team_palettes",{teamName:e.teamName}):(0,c.t)("whiteboard.color_palettes.color_palette_picker.team_palettes_no_name"),a&&n.createElement("div",{className:"color_palette_picker--header__rightHand--z-7ux"},n.createElement(T.K0,{className:O,onClick:()=>{t(y.$O({type:A.dV.type}))},svg:P.A,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.dropdown.new_palette"),"data-tooltip-show-above":!0,dataTestId:"create-color-palette-button"}),n.createElement(T.K0,{className:O,onClick:()=>{t(y.$O({type:L.j.type,data:{entryPoint:"whiteboard"}}))},svg:M.A,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.dropdown.manage_palettes"),"data-tooltip-show-above":!0,dataTestId:"manage-color-palettes-button"})))}function B(e){let t=(0,m.cD)(),a=(0,r.d4)(e=>!!e.user),l=(0,g.WR)(),i=(0,g.VR)(),[s]=(0,o.IT)((0,u.iP2)({teamId:t}),{enabled:!!t}),c=l?s.data?.colorPalettesForTeam||[]:i?[i]:[],d=(0,r.d4)(e=>!!(e.openFile&&!t&&e.openFile.canManage&&e.currentUserOrgId)),p=a&&(d||l||t&&!!i),_=e.isInDltSubmenu?2:16,{closeColorPalettePicker:h,isColorPalettePickerOpen:E}=e.colorPalettePickerState;return p?n.createElement(f.A,{isOpen:E,onClose:h,positionY:(e,t)=>e.y-_-t.height,target:n.createElement(U,{shouldShowMoveToTeamTooltip:d,colorPalettePickerState:e.colorPalettePickerState,disabled:e.disabled,recordingKey:e.recordingKey,isInDltSubmenu:e.isInDltSubmenu}),renderPopoverContents:()=>n.createElement(R,{customColorPalettes:c,closeColorPalettePicker:h,defaultColorPaletteLength:e.defaultColorPaletteLength})}):null}function U({recordingKey:e,colorPalettePickerState:t,shouldShowMoveToTeamTooltip:a,disabled:l,isInDltSubmenu:o}){let u=(0,r.wA)();return n.createElement("div",{key:"caret",className:i()("color_palettes_submenu_picker--submenuPickerContainer--GTTBT",{"color_palettes_submenu_picker--submenuPickerContainerNested--wuRz-":!o,"color_palettes_submenu_picker--disabled--scEBs":l})},n.createElement(_.$n,{buttonStyle:{height:"100%",backgroundColor:"inherit"},caret:"up",animateCaret:o,isNewSubmenu:o,tabIndex:-1,active:"NONE",onClick:a?e=>{let t=e.target.closest("button");t&&u(d.eB({target:{kind:p.Ui.TEXT,text:(0,c.t)("whiteboard.color_palettes.tooltip.move_to_team")},targetRect:t.getBoundingClientRect(),position:p.Zj.ABOVE}))}:()=>{if(!t)return;let{openColorPalettePicker:e,closeColorPalettePicker:a,isColorPalettePickerOpen:n}=t;n?a(!0):e()},testId:"color-palettes-picker-caret",recordingKey:(0,s.Pt)(e,"colorPalettesPickerCaret"),tooltip:a?(0,c.t)("whiteboard.color_palettes.tooltip.move_to_team"):void 0}))}},519048:(e,t,a)=>{a.d(t,{S:()=>h,o:()=>g});var n=a(411855),r=a(587670),l=a(646240),i=a(374626),o=a(939863),s=a(450225),c=a(662531),d=a(848661),u=a(555074),m=a(4051),p=a(32067),_=a(677859),f=a(861713);function g(e){let t=(0,p.uQ)()||"",a=(0,u.kl)("embedData"),i=decodeURIComponent(d.E7(a)?.originalText||""),o=(0,s.tq)(a),_=(0,l.Xr)(m.n);return n.useCallback(()=>{i&&(o(s.yc.CONVERT_TO_TEXT),_({type:"MINIMIZE"}),(0,c.l7)(e,"convert-embed-to-text",()=>r.glU.replaceNodeWithText(t,i)))},[i,o,_,t,e])}function h(e){let t=(0,i.md)(m.n),a=(0,p.uQ)()||"",l=(0,u.kl)("embedData"),s=decodeURIComponent(d.E7(l)?.originalText||""),c=g(r.zkO.USER);return l&&a&&s&&(!t||e.inModal)?n.createElement(_.K0,{svg:f.A,active:"NONE",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:c,recordingKey:"embedConvertToTextControl"}):null}},929021:(e,t,a)=>{a.d(t,{e:()=>g,f:()=>f});var n=a(411855),r=a(188507),l=a(374626),i=a(939863),o=a(677664),s=a(450225),c=a(848661),d=a(555074),u=a(4051),m=a(677859),p=a(650602);let _=()=>{let e=(0,d.kl)("embedData");return decodeURIComponent(c.E7(e)?.url||c.E7(e)?.srcUrl||"")};function f(){let e=(0,r.wA)(),t=_(),a=(0,d.kl)("embedData"),l=(0,s.tq)(a);return n.useCallback(()=>{t&&(l(s.yc.OPEN_PREVIEW),e((0,o.RK)({rawInput:t})))},[t,e,l])}function g(e){let t=(0,l.md)(u.n),a=_(),r=f();return a&&(e.inModal||!t)?n.createElement(m.K0,{svg:p.A,active:"NONE",tooltip:(0,i.t)("whiteboard.embeds.inline_menu.open_link"),onClick:r,recordingKey:"embedOpenExternalControl"}):null}},94958:(e,t,a)=>{a.d(t,{p:()=>h});var n=a(411855),r=a(188507),l=a(153234),i=a(268537),o=a(493323),s=a(574176),c=a(939863),d=a(318812),u=a(498606),m=a(89586),p=a(677859),_=a(112512),f=a(258376),g=a(951912);function h(e){let{pasteSources:t}=e,a=(0,r.wA)(),{showing:h,toggle:E}=(0,d.BK)("live-object-control-menu"),y=(0,r.d4)(e=>e.fileVersion),[v,b]=n.useState(!1),C=l.Pt(e,"updateLiveObject"),w=l.Pt(e,"liveObjectMenu"),k=n.useCallback(async e=>{b(!0),await (0,m.ex)(a,e,y),b(!1)},[a,y]);return n.createElement(n.Fragment,null,n.createElement("button",{className:"live_object_control--liveObject--kuRDZ",onClick:e=>E()},n.createElement(s.B,{svg:g.A}),(0,c.tx)("fullscreen.live_object_panel.live_object"),n.createElement(s.B,{svg:_.A}),h&&n.createElement(i.ms,{className:"live_object_control--dropdown--2YgVs"},n.createElement(m.jW,{pasteSources:t,liveUpdate:k,recordingKey:w,isLiveUpdating:v}))),n.createElement(p.wv,null),v?n.createElement(o.kt,{className:"live_object_control--spinner--Xrtu-",altIcon:f.A}):n.createElement(p.K0,{onClick:()=>k(t),svg:f.A,"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,c.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:C}))}},978346:(e,t,a)=>{a.d(t,{nG:()=>D,tT:()=>G});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(737947),s=a(966712),c=a(374626),d=a(860601),u=a(743282),m=a(712366),p=a(498480),_=a(268537),f=a(210954),g=a(574176),h=a(762638),E=a(939863),y=a(809840),v=a(931828),b=a(672517),C=a(582947),w=a(498606),k=a(538697),x=a(468829),T=a(67048),N=a(230646),S=a(577023),I=a(161735),A=a(677859),L=a(437771),O=a(322027),M=a(420584),P=a(555282);let R=_.wv,D="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",F="used_figjam_ai_quick_actions",B=(0,C.r1)(F);function U(e){switch(e){case I.Uj.SUMMARIZE:return"summarize";case I.Uj.CLUSTER:return"sort stickies";case I.Uj.CREATE_FIGMA_SLIDES_OUTLINE:return"copy to slides";case I.Uj.CLUSTER_BY_AUTHOR:return"sort by author";case I.Uj.CLUSTER_BY_COLOR:return"sort by color";case I.Uj.CLUSTER_BY_STAMP_COUNT:return"sort by stamp count";case I.Uj.CLUSTER_BY_STAMP_TYPE:return"sort by stamp type";case I.Uj.OPEN_CLUSTER_BY_MORE_MENU:return"sort by more dropdown button";case I.Uj.TIDY_UP:return"tidy up";case I.Uj.WRAP_IN_SECTION:return"wrap in section";default:return"other organize action"}}function G(){let e=(0,I.Yh)(),t=e.filter(e=>!e?.disabled&&!e?.isInClusterSubmenu),a=e.filter(e=>e?.disabled&&!e?.isInClusterSubmenu),r=(0,u.g)(),l=(0,I.PX)(),[i,s]=(0,c.fp)(I.Y),d=(0,I.Wb)(),p=(0,I.Pn)();n.useEffect(()=>d,[d]),n.useEffect(()=>{i||p()},[i,p]);let _=(0,I.z1)(),f=function(){let e=(0,I.Yh)(),t=(0,I.QL)(),a=(0,I.E0)(),n=[...e];for(let e of(a&&(n=[...n,...t]),n))if(e&&I.IW[e.type])return!0;return!1}(),g=(0,E.t)("whiteboard.inline_menu.organize_dropdown_options_aria_label"),y=[...t,...a];return n.createElement(b.fu,{name:"organize_menu_dropdown"},n.createElement(L.Fn,{value:void 0,overrideMenuOpenState:{isOpenOverride:i,setIsOpenOverride:s},onChange:(e,t)=>{t.preventDefault(),t.stopPropagation(),l(e)},renderButton:({onClick:e,onKeyDown:t,ref:a})=>n.createElement(H,{disabled:!1,onClick:e,onKeyDown:e=>_(e,t),buttonRef:a,ariaWrapperId:r,trackingProperties:{text:"organize dropdown button"},dropdownContainsAiOption:f}),options:y,renderOption:z,OptionWrapper:function({children:e}){return n.createElement("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":g,id:r,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},e)},positionX:e=>e.x,popoverClassName:"organize_actions_control--popover--l143N",additionalContentsTop:n.createElement("div",{className:h.cx.mt4.$}),additionalContentsBottom:n.createElement("div",{className:h.cx.mt4.$}),additionalOptions:f?K:void 0,additionalOptionOnChange:()=>{(0,m.Lf)(D)||o.Ay.unsafeRedirect(D,"_blank")}}))}let H=(0,b.tf)(function({onClick:e,onKeyDown:t,buttonRef:a,ariaWrapperId:l,disabled:o,dropdownContainsAiOption:s}){let u=(0,r.wA)(),m=(0,c.md)(B).data,_=(0,N.CI)(),[f,h]=n.useState(0),y=(0,E.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label");return n.createElement(A.$n,{tooltip:o?x.w:void 0,tooltipType:o?w.Ib.SPECIAL:void 0,onClick:o?d.lQ:()=>{e(),s&&u(v.b({[F]:!0}))},disabled:o,onKeyDown:t,ariaControls:l,ref:a,recordingKey:"inline_menu_organize_dropdown_button",testId:"inline_menu_organize_dropdown_button",caret:"down",role:"combobox",onboardingKey:S.Su,ariaLabel:y,buttonStyle:{width:"auto",paddingRight:24},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},n.createElement("div",{className:i()("organize_actions_control--withBadge--2qE6m")},n.createElement("div",{className:"organize_actions_control--buttonIconContainer--7BE5y"},n.createElement(g.B,{svg:P.A,className:i()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":o})})),(0,E.tx)("whiteboard.inline_menu.organize_button_text"),!m&&_&&n.createElement(b.fu,{name:"organize_actions_onboarding_badge"},n.createElement("div",{style:{paddingLeft:8},ref:e=>{h(e?.offsetWidth||f)}},n.createElement(p.Ex,{text:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:p.zE.FIGJAM,size:p.vj.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-",dataTestId:"figjam_ai_quick_actions_onboarding_badge"})))))});function V({isFocused:e}){let t=(0,N.v1)(),a=(0,I.PX)(),r=(0,I.QL)(),l=(0,c.md)(I.u3),[i,o]=(0,c.fp)(I.UI),[s,u]=(0,c.fp)(I.kw),[m,p]=n.useState(!1);return(n.useEffect(()=>{let e=setTimeout(()=>{p(!0)},200);return()=>{clearTimeout(e)}},[p]),n.useEffect(()=>{e?u(!0):u(!1)},[e,u]),t)?n.createElement("div",{onMouseEnter:()=>{m&&o(!0)},onMouseLeave:()=>{o(!1)},"data-testid":"whiteboard_organize_sort_sub_menu_wrapper"},n.createElement(j,{key:`${I.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,id:`${I.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,type:I.Uj.OPEN_CLUSTER_BY_MORE_MENU,displayText:(0,E.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2"),svgSrc:O.A,isAiOption:!1,disabled:!1,onKeyDown:()=>{o(!i)},onClick:()=>{i||o(!i)},isFocused:e,trackingProperties:{text:U(I.Uj.OPEN_CLUSTER_BY_MORE_MENU)},isSubMenu:!0,ariaLabel:(0,E.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label")}),i&&n.createElement(b.fu,{name:"figjam_organize_sort_stickies_sub_menu"},n.createElement("div",{className:"organize_actions_control--submenuPopover--3lKOZ"},n.createElement("div",{className:"organize_actions_control--submenuContainer--TmBn7"},n.createElement(A.W1,null,n.createElement("div",{className:h.cx.flex.flexColumn.py6.w200.$,"aria-label":(0,E.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},r.map((e,t)=>z({value:e,onClick:()=>a(e),onKeyDown:d.lQ,isSelected:!1,isFocused:l===t})))))))):null}function K(e){return n.createElement(n.Fragment,null,n.createElement(R,{key:"menu-separator-token",style:{paddingTop:4,paddingBottom:8}}),n.createElement("div",{className:"organize_actions_control--dropdownFooterContainer--XB0Mw"},n.createElement("span",null,n.createElement("span",{className:"organize_actions_control--dropdownFooterDisclaimer--Z7B2y"},`${(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),n.createElement(f.N,{className:i()("organize_actions_control--dropdownFooterCta--vLKEN",{"organize_actions_control--dropdownFooterCtaIsFocused--Jspdm":e}),href:D,target:"_blank",trusted:!0},(0,E.tx)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")))))}let z=e=>{let{value:t,onClick:a,id:r,isFocused:l,onKeyDown:i}=e;if(!t)return null;let o=(0,I.Ef)(t),{type:c,disabled:d,displayText:u,svgSrc:m,disabledTooltipText:p,tooltipOverrides:_,separator:f="NONE"}=t,g=U(c);return c===I.Uj.OPEN_CLUSTER_BY_MORE_MENU?(0,s.kc)().figjam_cluster_by_more?n.createElement(V,{key:I.Uj.OPEN_CLUSTER_BY_MORE_MENU,isFocused:l}):null:n.createElement(j,{key:`${c}-menu-option`,id:r,type:c,displayText:u,svgSrc:m,disabledTooltipText:p,tooltipOverrides:_,isAiOption:o,disabled:d,onClick:a,onKeyDown:i,isFocused:l,trackingProperties:{text:g},separator:f})};function W(e){return`inline_menu_organize_option-${e}`}let j=(0,b.tf)(function({id:e,type:t,displayText:a,svgSrc:r,disabledTooltipText:l,disabled:o,onClick:s,onKeyDown:c,isFocused:u,tooltipOverrides:m,isAiOption:p,isSubMenu:_,ariaLabel:f,separator:v="NONE"}){let b=m?.tooltip||(o&&l?l:""),C=m?.tooltipType||w.Ib.TEXT;return n.createElement(n.Fragment,null,["TOP","TOP_AND_BOTTOM"].includes(v)?n.createElement(R,{style:{padding:0,paddingTop:4,paddingBottom:4}}):null,n.createElement("div",{id:e,className:i()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":o,"organize_actions_control--optionContainerIsFocused--8x27n":u}),"aria-label":f??a,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip":b,"data-tooltip-type":C,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},n.createElement(k.c$,{disabled:o,recordingKey:W(t),"data-testid":W(t),dataTestId:W(t),key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:r,style:{width:"95%",marginBottom:0},children:n.createElement("div",{className:h.cx.flex.justifyBetween.itemsCenter.gap8.$},n.createElement(y.E,{truncate:!0},a),p&&n.createElement(T.G,{location:"INLINE_TOOLBAR",overrideText:(0,E.t)("whiteboard.inline_menu.organize_quick_actions_button_beta_badge_text"),hoverStyleClassName:i()({"organize_actions_control--aiBetaBadge--F1z9L":!o})}),_&&n.createElement("span",{className:h.cx.pl4.mr0.$},n.createElement(g.B,{svg:M.A}))),additionalStylesClassName:void 0,selected:!1,onMouseUp:o?d.lQ:s,onKeyDown:o?d.lQ:c,ignoreCheck:!0})),["BOTTOM","TOP_AND_BOTTOM"].includes(v)?n.createElement(R,{style:{padding:0,paddingTop:4,paddingBottom:4}}):null)})},385754:(e,t,a)=>{a.d(t,{jk:()=>V});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(539321),s=a(126049),c=a(157663),d=a(794272),u=a(886653),m=a(860601),p=a(153234),_=a(210954),f=a(762638),g=a(259927),h=a(775664),E=a(809831),y=a(662531),v=a(113237),b=a(72274),C=a(318812),w=a(239671),k=a(498606),x=a(538697),T=a(300587),N=a(677859),S=a(840023);let I="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",A="widget_controls--img--bNdQj",L=(0,u.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(c.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function O(e){let t=(0,E.E3)(),a=e.icon?L(e.icon):null,r=void 0!==t&&t===w.nT.Design;return a?n.createElement(M,{label:e.label,propertyName:e.propertyName,href:e.href,size:r?"small":"large",tooltip:e.tooltip,icon:a,onClick:e.onClick,active:e.active?e.active:"NONE"}):n.createElement(P,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function M(e){let t=e.href?n.createElement(_.N,{href:e.href,className:f.cx.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1},n.createElement("img",{src:e.icon,className:A,alt:`${e.propertyName}`})):n.createElement("img",{src:e.icon,className:A,alt:`${e.propertyName}`});return n.createElement(N.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Pt)("widgetControl",e.propertyName)},t)}function P(e){let t=e.href?n.createElement(_.N,{href:e.href,className:i()([I,f.cx.cursorDefault.wFull.hFull.$]),target:"_blank",trusted:!1},e.label):n.createElement("span",{className:I},e.label);return n.createElement(N.$n,{className:f.cx.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Pt)("widgetControl",e.propertyName)},t)}function R({widgetInfo:e,item:t}){let a=(0,E.E3)(),r=y.nc.user("widget-select-color",a=>{let n=(0,o.colorToHex)(a.option);v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,_[n]??n)}),l=(0,s.A)(r,100),[i,d]=n.useState(!1),u=[t.selectedOption,...t.options.map(e=>e.option)],m={},_={};for(let e of u)try{let t=h.z5.parse(e);m[e]=t,_[(0,o.colorToHex)(t)]=e}catch(t){return c.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),n.createElement("div",{"data-testid":"emptyColorSelector"})}let f=a===w.nT.Design;return n.createElement(T.qW,{value:{option:m[t.selectedOption]},options:t.options.map(e=>({option:m[e.option],tooltip:e.tooltip})),onColorChange:e=>{l(e)},paletteType:"widget",buttonSize:f?"xsmall":"small",optionSize:"medium",isDesignInlineMenu:f,inlineButtonTooltip:t.tooltip,recordingKey:(0,p.Pt)("widgetControl",t.propertyName),isColorPopoverOpen:i,setIsColorPopoverOpen:d})}function D({widgetInfo:e,item:t}){return n.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:y.nc.user("widget-action",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}class F extends x.l6{}class B extends x.c${}function U({item:e,widgetInfo:t}){let a=(0,E.E3)(),l=(0,r.wA)(),i=(0,C.Um)(),o=e.options.find(t=>t.option===e.selectedOption),s=(0,p.Pt)("widgetControl",e.propertyName),c=void 0!==a&&a===w.nT.Design;return n.createElement("div",{className:c?void 0:S.kL,"data-tooltip-show-above":!0,"data-tooltip-type":k.Ib.TEXT,"data-tooltip":e.tooltip},n.createElement(F,{property:{option:e.selectedOption,tooltip:o?o.tooltip:e.selectedOption},className:c?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":S.Lt,chevronClassName:c?"widget_controls--chevron--a3ua2":S.ai,inputClassName:c?"widget_controls--input--Z6nHO":S.hF,dropdownClassName:g.Dm,id:`widgetControl.${e.propertyName}`,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},onChange:a=>{v.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,a.option)},blurOnChange:!0,recordingKey:s,dispatch:l,dropdownShown:i,targetDomNode:document.body,dropdownWidth:144,dropdownAlignment:"left"},e.options.map((t,a)=>n.createElement(B,{key:a,value:t,formattedValue:t.tooltip,recordingKey:(0,p.Pt)(s,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0}))))}function G({widgetInfo:e,item:t}){return n.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:y.nc.user("widget-toggle",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function H({widgetInfo:e,item:t}){let a;let r="https://www.figma.com/exit?url="+t.href;return null!==t.icon&&(a=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),n.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:a,onClick:m.lQ,href:r})}function V(){let e=function(){let e=(0,d.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return n.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,b.Vi)(t))return e;let a=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,b.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:a}},[e])}();return e&&e.propertyMenu.length?n.createElement(n.Fragment,null,e.propertyMenu.map((t,a)=>{switch(t.itemType){case"action":return n.createElement(D,{key:a,item:t,widgetInfo:e});case"separator":return n.createElement(N.wv,{key:a});case"color-selector":return n.createElement(R,{key:a,item:t,widgetInfo:e});case"dropdown":return n.createElement(U,{key:a,item:t,widgetInfo:e});case"toggle":return n.createElement(G,{key:a,item:t,widgetInfo:e});case"link":return n.createElement(H,{key:a,item:t,widgetInfo:e})}})):null}},405070:(e,t,a)=>{a.d(t,{x:()=>I});var n=a(411855),r=a(188507),l=a(636149),i=a.n(l),o=a(181912),s=a(794272),c=a(153234),d=a(522739),u=a(941381),m=a(963067),p=a(215822),_=a(772192),f=a(829632),g=a(555328),h=a(239671),E=a(376485),y=a(498606),v=a(978527);let b=(0,a(422237).ex)("figjam_plugin_relaunch_button_info",function(e){let{name:t,description:a}=e;return n.createElement("div",{className:"figjam_plugin_relaunch_button_info_tooltip--figjamRelaunchButtonInfo--d289K text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("span",{className:"figjam_plugin_relaunch_button_info_tooltip--handle--XUJNp"},t),a&&n.createElement("div",null,a))},e=>({name:e.getAttribute("data-tooltip-name"),description:e.getAttribute("data-tooltip-description")}));var C=a(75888),w=a(677859),k=a(437771),x=a(961803);function T(e){let{tooltipName:t,tooltipDescription:a,plugin:r,onClick:l,caret:i,recordingKey:o}=e,s=(0,C._r)(),c=null;return c=(0,E.ZQ)(r)?n.createElement(w.K0,{caret:i,svg:x.A,onClick:l,recordingKey:o}):n.createElement(w.$n,{caret:i,onClick:l,recordingKey:o},n.createElement(v.V,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:r,alt:`${t}: ${String(a)}`})),n.createElement("div",{"data-tooltip":b,"data-tooltip-type":s&&t?y.Ib.SPECIAL:void 0,"data-tooltip-show-above":!0,"data-tooltip-name":t,"data-tooltip-description":a},c)}function N({children:e}){return n.createElement("div",{className:"plugin_relaunch_content--flexColumn--3aDVl"},e)}function S(e){let{relaunchData:t}=e,a=e=>parseInt(e||"0");return n.createElement(k.Fn,{onChange:n=>{let r=t[a(n)];e.onSelect(r)},value:null,renderOption:({value:e,onClick:r})=>{let l=a(e),i=t[l],o=i.relaunchButton.name.length>34||"string"==typeof i.relaunchButton.description&&i.relaunchButton.description.length>34;return n.createElement("div",{key:`${i.pluginTypeAndID}-${e}`,"data-tooltip":b,"data-tooltip-type":i.relaunchButton.name&&o?y.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":i.relaunchButton.name,"data-tooltip-description":i.relaunchButton.description},n.createElement(d.D8,{className:"plugin_relaunch_content--menuItem--fZT86",onClick:r,role:"button",recordingKey:(0,c.Pt)("relaunchMenuSelectorOption",i.pluginTypeAndID,i.relaunchButton.command)},n.createElement("div",{className:"plugin_relaunch_content--name--VYXnN text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa"},i.relaunchButton.name),i.relaunchButton.description&&n.createElement("div",{className:"plugin_relaunch_content--description--aAoGx text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},String(i.relaunchButton.description))),l!==t.length-1?n.createElement(w.wv,null):null)},renderButton:({onClick:e,value:r})=>{let l=t[a(r)];return n.createElement(T,{caret:"down",onClick:e,plugin:l.plugin,recordingKey:(0,c.Pt)("relaunchMenuSelectorIconButton",l.pluginTypeAndID)})},options:t.map((e,t)=>`${t}`),OptionWrapper:N})}function I(){let e=(0,s.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,r.d4)(e=>e.mirror.selectionProperties.numSelected),a=(0,s.R)(e=>e.publishedPlugins),l=(0,s.R)(e=>e.localPlugins),d=(0,m.Yo)(),y=(0,r.d4)(e=>e.openFile?.key),v=(0,n.useRef)(new _.O(o.A.duration(1,"day"))),b=(0,r.wA)(),C=e=>b(u.af({id:e,resourceType:a[e]?.is_widget?g.bD.WIDGET:g.bD.PLUGIN})),k=(0,p.vA)(e,a,l,d,t||0,(e,t)=>v.current.debounceRefresh(e,()=>C(e),t),E.FW.FIGJAM),x=i()(k,e=>e.pluginTypeAndID),N=e=>{if(!y)return;let{canRun:t}=(0,p.JT)({plugin:e.plugin,editorType:h.nT.Whiteboard});t&&f.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:y||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===Object.values(x).length?null:n.createElement(n.Fragment,null,n.createElement(w.wv,null),Object.values(x).map(e=>{if(0===e.length)return;let t=e[0],a=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?n.createElement(T,{key:a,caret:"none",tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>N(t),recordingKey:(0,c.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)}):n.createElement(S,{key:a,relaunchData:e,onSelect:N})}))}},983382:(e,t,a)=>{a.d(t,{$9:()=>_,Ij:()=>f,WQ:()=>v});var n=a(411855),r=a(188507),l=a(91408),i=a(297666),o=a(726864),s=a(231472),c=a(819338),d=a(979686),u=a(860168);let m=(0,l.jz)(u.fh1),p=(0,l.jz)(u.if6);function _(e){let t=(0,o.Yk)(),a=(0,d.Op)(),n=c.C()?.bottomRightToolsNode?.getBoundingClientRect(),r=e?.getBoundingClientRect();return a&&r&&n?a.right+p>n.left?g({dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!0}):a.right+p>r.left?g({dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!1}):g({dltBottomOffset:t,collidesWithDLT:!1,collidesWithTools:!0}):0}function f(e){let[t,a]=(0,n.useState)(0),r=(0,o.Yk)(),l=(0,d.Op)();return(n.useLayoutEffect(()=>{if(!e.current)return;let t=e.current.getBoundingClientRect(),n=t.left;a(n+t.width);let r=new ResizeObserver(t=>{for(let r of t)if(e.current===r.target){let e=r.borderBoxSize?.[0];a(n+(e?e.inlineSize:r.contentRect.width))}});return r.observe(e.current),()=>r.disconnect()},[e]),l)?t+p>l.left?g({dltBottomOffset:r,collidesWithDLT:!0,collidesWithTools:!1}):g({dltBottomOffset:r,collidesWithDLT:!1,collidesWithTools:!1}):0}function g({dltBottomOffset:e,collidesWithDLT:t,collidesWithTools:a}){let n=p;return t&&(n+=e),a&&(n+=m+p),n}let h=(0,l.jz)(u.Y_2),E=(0,l.jz)(u.Hsg),y=(0,l.jz)(u.fWT);function v(){let e=(0,r.d4)(e=>e.universalInsertModal.pinned===s.t.PINNED_AND_DOCKED_LEFT),t=n.useCallback(()=>{let t=e?E:h;return window.innerWidth<t?14+y+24:14},[e]),[a,l]=n.useState(t);return n.useEffect(()=>{l(t())},[t]),n.useLayoutEffect(()=>{let e=(0,i.s)(()=>{l(t())});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[t]),a}},82301:(e,t,a)=>{a.d(t,{p:()=>c});var n=a(411855),r=a(629019),l=a.n(r),i=a(799569),o=a(574176),s=a(672517);let c=(0,n.memo)(function(e){let{leftContent:t,content:a,rightContent:r,trackingContext:l="DLT Banner",onClose:o,isFloatingBanner:c}=e;return n.createElement(s.fu,{name:l},n.createElement("div",{className:c?"dlt_banner--floatingBanner--Gv-Xd":"dlt_banner--banner--nGI-J"},n.createElement(d,{leftContent:t}),n.createElement(u,{content:a}),r,o?n.createElement(i.Jn,{className:"dlt_banner--closeButton--aDZdN",onClick:o,trackingEventName:"dlt_banner_closed",recordingKey:"dltBanner"}):null))}),d=(0,n.memo)(function(e){let{icon:t,text:a}=e.leftContent??{},r=t&&n.createElement("div",{className:"dlt_banner--icon--gtxyL"},n.createElement(o.B,{svg:t})),i=a&&n.createElement("b",null,a);return n.createElement("div",{className:l()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",a&&t?"dlt_banner--leftContentIconAndText--QjRmB":a?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN")},r,i)}),u=(0,n.memo)(function(e){let{content:t}=e;return n.createElement("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd"},t)})},50772:(e,t,a)=>{a.d(t,{X:()=>X,O:()=>et});var n=a(411855),r=a(188507),l=a(587670),i=a(629019),o=a.n(i),s=a(320063),c=a(966712),d=a(374626),u=a(860601),m=a(563706),p=a(939863),_=a(931828),f=a(456104),g=a(594524),h=a(723239),E=a(582947),y=a(356390),v=a(617453),b=a(29680),C=a(397065),w=a(916108),k=a(796823),x=a(888699),T=a(554905),N=a(794272),S=a(738269);a(251960);var I=a(373119),A=a(318812),L=a(279145),O=a(340514),M=a(746806),P=a(601538);a(15839),a(653734);var R=a(463546);function D({dismissModal:e,targetKey:t=P.oi.ZOOM}){let a=(0,r.wA)(),i=(0,N.R)(({mirror:{appModel:e}})=>e.showUi),o=(0,A.Um)(),s=(0,n.useRef)(!1),c=(0,I.q)(),d=(0,n.useCallback)(()=>{e(),a(S.oB())},[e,a]);return(0,n.useEffect)(()=>{s.current&&!(0,L.TY)(o)&&e()},[e,o]),(0,n.useEffect)(()=>{if(c&&!s.current){if((0,L.TY)(o))a(S.ho({type:L.pi,data:{selectionToUpdate:l.m7W.PREFERENCES}}));else{let e=i?42:0;a(S.j7({type:L.pi,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}s.current=!0}},[a,o,c,i]),n.createElement(O.rq,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:d,targetKey:t,emphasized:!0,title:(0,p.tx)("mouse_controls_modal.new_user.title"),description:(0,p.tx)("mouse_controls_modal.new_user.description"),arrowPosition:M.F_.LEFT_TITLE})}var F=a(82301);function B(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),n.createElement("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),n.createElement("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),n.createElement("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),n.createElement("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),n.createElement("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),n.createElement("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),n.createElement("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),n.createElement("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),n.createElement("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),n.createElement("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),n.createElement("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),n.createElement("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),n.createElement("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"}))}function U(){return n.createElement("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),n.createElement("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"}))}function G(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),n.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),n.createElement("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),n.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),n.createElement("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),n.createElement("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"}))}function H(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),n.createElement("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),n.createElement("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),n.createElement("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),n.createElement("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),n.createElement("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),n.createElement("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),n.createElement("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),n.createElement("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),n.createElement("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),n.createElement("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),n.createElement("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),n.createElement("path",{d:"M12 16H14V26H12V16Z",fill:"white"}))}let V="figjam_pan_zoom_onboarding--icon--TaGJG",K="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",z={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function W({children:e}){return n.createElement("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN"},e)}function j(e){let{onNext:t,onManualDismiss:a}=e,i=(0,r.wA)(),s=(0,n.useCallback)(()=>{i(_.b({[z.NEW_USER_ZOOM]:!0}))},[i]),c=(0,n.useCallback)(()=>{s(),a()},[s,a]),d=(0,n.useCallback)(()=>{s(),t()},[s,t]);return(0,n.useEffect)(()=>(l.glU.setUsedZoomAction(!1),y.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",d),()=>{y.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",d)}),[i,d]),n.createElement(F.p,{trackingContext:"FigJam New User Zoom Banner",content:n.createElement("div",{className:K},(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",{boldTextPinch:n.createElement(n.Fragment,null,n.createElement("span",{className:o()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",V)},n.createElement(B,null)),n.createElement(W,null,(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch"))),boldTextScroll:n.createElement(n.Fragment,null,n.createElement("span",{className:V},n.createElement(U,null)),n.createElement(W,null,(0,p.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll")))})),rightContent:n.createElement(Y,{onChangePreferences:e.onChangePreferences}),onClose:c})}function q(e){let{onManualDismiss:t}=e,[a,i]=(0,n.useState)(!1),o=(0,r.wA)();(0,s.h)(()=>{setTimeout(()=>{i(!0)},1e3)});let c=(0,n.useCallback)(()=>{o(_.b({[z.NEW_USER_PAN]:!0}))},[o]),d=(0,n.useCallback)(()=>{c(),t()},[c,t]);return((0,n.useEffect)(()=>{if(a)return l.glU.setUsedPanAction(!1),y.Y5.fromFullscreen.on("panActionMessageForOnboarding",d),()=>{y.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",d)}},[o,a,d]),a)?n.createElement(F.p,{trackingContext:"FigJam New User Pan Banner",content:n.createElement("div",{className:K},(0,p.tx)("rcs.figjam_pan.move_instructions",{boldTextSwipe:n.createElement(n.Fragment,null,n.createElement("span",{className:V},n.createElement(H,null)),n.createElement(W,null,(0,p.tx)("rcs.figjam_pan.move_instructions_bold_text_swipe"))),boldTextRightClick:n.createElement(n.Fragment,null,n.createElement("span",{className:V},n.createElement(G,null)),n.createElement(W,null,(0,p.tx)("rcs.figjam_pan.hold_right_click")))})),rightContent:n.createElement(Y,{onChangePreferences:e.onChangePreferences}),onClose:d}):null}function Y({onChangePreferences:e}){return n.createElement("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,p.tx)("rcs.figjam_pan_zoom_change_prefs"))}function X(){let e=(0,b.aV)(),t=(0,T.Td)(),a=(0,r.d4)(e=>e.isMakeSomethingV2Active);return t||e||a?null:n.createElement(ee,null)}let J=(0,E.r1)(z.NEW_USER_PAN),Z=(0,E.r1)(z.NEW_USER_ZOOM),Q=(0,E.Fu)("figjam_editor_onboarded"),$=[function(e){let{isOverlayShowing:t,next:a,complete:r,onChangePreferences:l}=e;return t?n.createElement(j,{onNext:a,onManualDismiss:r,onChangePreferences:l}):null},function(e){let{isOverlayShowing:t,complete:a,onChangePreferences:r}=e;return t?n.createElement(q,{onNext:a,onManualDismiss:a,onChangePreferences:r}):null}];function ee(){let e=(0,d.md)(J),t=(0,d.md)(Z),a=(0,d.md)(Q),r=(0,d.md)(h.Fy),l=(0,d.md)(h.g5),i=(0,d.md)(h.NT),o=(0,d.md)(x.w),[s,c]=(0,n.useState)(!1),p=(0,g.A)({numSteps:$.length,onComplete:u.lQ}),{show:_,complete:E,isShowing:y}=(0,f.e)({overlay:R.eD$,priority:C.N.DEFAULT_MODAL},[e,t,a,r,l,i]);(0,n.useEffect)(()=>{let e=[x.tX.NOT_STARTED,x.tX.COMPLETED].includes(o),t=p.currentStep===$.length-1;y||!e||t||_({canShow:(e,t,a,n,r,l)=>{let i=!m.Xb&&!m.aR,s=(0,k.d2)({emailValidatedAt:r,jobTitle:l});return![x.tX.USE_CASE_STEPS,x.tX.MODAL_SHOWING].includes(o)&&(!!a||s)&&!n&&!e&&!t&&i}})},[y,o,_,p.currentStep]);let v=(0,n.useCallback)(()=>{c(!0)},[c]),b=(0,n.useCallback)(()=>{c(!1)},[c]);return y?n.createElement(n.Fragment,null,n.createElement(w.U,{currentStep:p.currentStep,children:$.map((e,t)=>n.createElement(e,{isOverlayShowing:p.currentStep===t,next:p.next,complete:E,onChangePreferences:v})),isShowing:!0}),s?n.createElement(D,{dismissModal:b,targetKey:1===p.currentStep?P.oi.PAN:P.oi.ZOOM}):null):null}function et(){return(0,c.kc)().figjam_nav_new_user_onboarding&&(0,v.UK)().scrollWheelZoom.getCopy()&&(0,v.UK)().rightClickPan.getCopy()}},963677:(e,t,a)=>{a.d(t,{s:()=>x});var n=a(411855),r=a(188507),l=a(634832),i=a(587670),o=a(629019),s=a.n(o),c=a(709103),d=a(323434),u=a(711117),m=a(966712),p=a(153234),_=a(522739),f=a(801161),g=a(428654),h=a(356390),E=a(774191),y=a(457025),v=a(457630),b=a(202232),C=a(219001),w=a(520325),k=a(158200);let x=n.memo(function({toolType:e,color:t,isSelected:a,onTap:o,onDragEnd:x,onDragStart:T,Icon:N,IconNoRef:S,toolbarIconScale:I,canvasToSvgScale:A,isDrawingSubmenuTool:L,isDragReversing:O,stickyAnimationState:M,isHovered:P,hoverOffsetAmount:R="DEFAULT",shapeStrokeStyleType:D}){let{state:F,dispatch:B}=n.useContext(C.nS),U=(0,r.wA)(),G=F.draggedTool===e,H=F.draggedToolCanCancel,[V,K]=n.useState(!1),[z,W]=n.useState(!1),[j,q]=n.useState(0),Y=n.useRef(!1);n.useEffect(()=>{let e=e=>{"Escape"===e.key&&G&&(B({type:"end drag"}),Y.current=!0,K(!1),q(j+1))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[j,G,e,B]),n.useEffect(()=>{let e=()=>{K(!1)};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e)}},[K]),n.useEffect(()=>(G?document.body.classList.add(k.bz):document.body.classList.remove(k.bz),()=>{document.body.classList.remove(k.bz)}),[G]);let X=n.useRef(null),J=(0,v.Pl)({subscribeToUpdates_expensive:G}),Z=function(e){switch(e){case"NONE":return 0;case"STICKY":return -20;case"DRAWING":return -22;case"DRAWING_SUBMENU":case"DEFAULT":return -24}}(R),Q=n.useRef(null),$=(0,c.d)(.5),ee=(0,c.d)(.5),[et,ea]=n.useState(),en=G?H?"whileDragShouldCancel":"whileDrag":"pencil"===e&&a?"hiddenPencil":V?"whileTap":L&&a?"selectedSubmenuTool":P?"whileHovering":"initial";if("connector"===e&&!G){let e=(0,E.oB)(g.F.parse(t));e.l>.9&&(t=g.F.formatHSLA({h:e.h,s:e.s,l:.9,a:e.a}))}return n.createElement(_.D8,{recordingKey:(0,b.hx)(`${e}.animatedIcon`),className:s()(k.ke,{[k.zO]:a,[k.bj]:P}),onPointerDown:()=>{if(K(!0),!w.T.RECORD_DETAILED_EVENTS)return p.aH},onPointerUp:()=>{if(K(!1),!w.T.RECORD_DETAILED_EVENTS)return p.aH},onTouchStart:e=>{e.preventDefault()},onTouchEnd:e=>{e.preventDefault(),!z&&F.shouldFinishClick&&o(),W(!1)},onContextMenu:e=>{e.preventDefault()}},n.createElement(d.N,{key:String(j)},n.createElement(u.P.div,{"data-testid":w.T.getMotionDivId(e),"data-test-animate-state":en,style:{originX:$,originY:ee},variants:{initial:{scale:1,y:0},selectedSubmenuTool:{y:Z},whileTap:{y:Z,scale:.93},whileDragShouldCancel:{y:Z,scale:.93},whileDrag:{y:Z,scale:J*(A||1)},whileHovering:{y:Z},hiddenPencil:{y:72}},animate:en,transition:{duration:.1,ease:[.12,.23,.5,1]},transformTemplate:(e,t)=>"translate3d(0px, 0px, 0) scale(1, 1)"===t?"none":t,drag:!!x,dragConstraints:{top:0,bottom:0,right:0,left:0},ref:Q,onDragStart:(t,a)=>{B({type:"start drag",tool:e}),Y.current=!1,i.glU.triggerActionInUserEditScope("set-tool-default",{source:b.fK}),y.oW.trigger("action",i.KWd.CLEAR),U(f.jD());let n=Q.current;if(n){let e=n.getBoundingClientRect();$.set((a.point.x-e.x)/e.width),ee.set((a.point.y-e.y)/e.height)}let r=X.current;if(r){let e=r.closest("."+k.kl);(0,l.assertDev)(!!e,"Delightful tool can't find containing toolbar!"),ea(e.getBoundingClientRect()),T&&T()}},onDrag:(e,t)=>{var a;et&&((a=t.point).x>=et.x&&a.x<=et.x+et.width&&a.y>=et.y||a.y>et.y+et.height)!==H&&B({type:"toggle drag cancellable"})},onDragEnd:(e,t)=>{if(W(!0),$.set(.5),ee.set(.5),H){B({type:"cancel drag"}),K(!1);return}let a=X.current;if(a){if(Y.current)return;let t=a.getBoundingClientRect(),n=h.Y5.getViewportInfo(),r={x:t.left-n.x,y:t.top-n.y},l=(0,v.$$)(n,r),i=(0,v.$$)(n,{x:e.x-n.x,y:e.y-n.y});x&&x(l,i),B({type:"end drag"}),K(!1),q(j+1)}else(0,l.assertDev)(!1,"Delightful tool is missing the toolref!")},dragElastic:1},N?n.createElement(N,{color:t,toolbarIconScale:I,ref:X,shouldAnimate:G,isReversing:O,stickyAnimationState:M,shapeStrokeProps:{isDragging:G,styleType:(0,m.kc)().figjam_dlt_shape_border&&void 0!==D?D:i.xbm.NONE,svgToCanvasScale:A&&I?1/(A*I):1}}):S)))})},178498:(e,t,a)=>{a.d(t,{s:()=>O,i:()=>M});var n=a(411855),r=a(587670),l=a(629019),i=a.n(l),o=a(374626),s=a(456363),c=a(428654),d=a(662531),u=a(29680),m=a(498606),p=a(511080),_=a(202232),f=a(219001),g=a(751025),h=a(963677),E=a(949889),y=a(383847),v=a(525040),b=a(42173),C=a(153234),w=a(694241),k=a(684690),x=a(225719),T=a(489005),N=a(948529),S=a(976803),I=a(158200);function A({recordingKey:e,isOpen:t}){let[a,l]=(0,o.fp)(s.qL),[i,d]=n.useState(!1),{openColorPalettePicker:u,closeColorPalettePicker:m}=(0,k.$J)(d),p=c.F.format(a);n.useEffect(()=>{m()},[t,m]);let f=e=>{l(e),r.glU.triggerActionInUserEditScope("set-tool-sticky",{source:_.fK})},g=e=>{f(e),L()},h=(0,k.Z9)(),y=h.type===w.Yv.CUSTOM,v=(0,b.TS)("sticky"),I=y?h.variations.sticky:v,A=(0,o.md)(x.Qv),O=!!A;return n.createElement(n.Fragment,null,n.createElement(E.br,{paddingRight:8,paddingLeft:8},n.createElement(S.V,{loadingPaletteCircleCount:A}),!O&&I.map((t,a)=>{let r=c.F.format(t),l=y?(0,b.AF)(a,"sticky"):(0,b.V_)(t,"sticky");return n.createElement(N.cd,{key:c.F.format(t)+"-"+a,size:"medium",value:t,selectionState:r===p?"selected":"unselected",paletteType:"sticky",background:"light",onClick:()=>g(t),tooltip:l,recordingKey:C.Pt(e,l)})}),n.createElement(T.s,{colorPalettePickerState:{openColorPalettePicker:u,closeColorPalettePicker:m,isColorPalettePickerOpen:i},defaultColorPaletteLength:v.length,recordingKey:C.Pt(e||"color-palettes","sticky")||"sticky",disabled:O,isInDltSubmenu:!0})))}let L=()=>{let e={duration:800,easing:"ease-out"},t={transform:"rotate(0) translate(0, 0)"},a=[t,{transform:"translate(32px, 32px) rotate(5deg) translate(0, -8px) translate(-32px, -32px)",offset:.1},{transform:"translate(32px, 32px) rotate(5deg) translate(0, -10px) translate(-32px, -32px)",offset:.35},t,{transform:"translate(-32px, 32px) rotate(-3deg) translate(32px, -32px) "},t,{transform:"translate(32px, 32px) rotate(1deg) translate(-32px, -32px) "},t];[I.eB,I.gz,I.Sk].forEach((t,n)=>{document.getElementsByClassName(t)[0].parentElement?.animate(a,{...e,...{delay:70*n}})})},O="sticky";function M({toolbarIconScale:e}){let t=(0,v.bu)(),a=(0,v.sT)(),l=(0,o.md)(s.qL),C=(0,u.aV)(),[w,k]=(0,n.useState)(!1),[x,T]=(0,n.useState)(!1),[N,S]=(0,n.useState)(p.kk.DEFAULT),L=240/p.rX,M=(0,b.zS)(l,"sticky"),P=c.F.format(l),R=C||!M?"rgba(230, 230, 230, 1)":(0,b.MV)(M,P),{state:D,dispatch:F}=(0,n.useContext)(f.nS),B=(0,n.useCallback)(()=>{a?r.glU.triggerActionInUserEditScope("set-tool-default",{source:_.fK}):(r.glU.triggerActionInUserEditScope("set-tool-sticky",{source:_.fK}),F({type:"open submenu",submenu:"sticky"}))},[a,F]),U=a||t||"shape"===D.submenu.tool,{isHovered:G,onMouseEnter:H,onMouseMove:V,onMouseLeave:K,onTouchStart:z,onTouchEnd:W}=(0,g.W)(B,U,!1),j=(0,n.useCallback)((e,t)=>{d.l7.user("drop-sticky-on-canvas",()=>r.glU.delightfulToolbarDropItemOntoCanvas(r.NLJ.STICKY,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y))),k(!1),T(!1),S(p.kk.DEFAULT)},[]),q=(0,n.useCallback)(()=>{k(!0),N===p.kk.DEFAULT&&S(p.kk.INITIAL_DRAG_ON_DLT)},[]);(0,n.useEffect)(()=>{if("sticky"===D.draggedTool){let e=!D.draggedToolCanCancel;N===p.kk.INITIAL_DRAG_ON_DLT?e&&S(p.kk.DRAG_ON_CANVAS):N===p.kk.DRAG_ON_CANVAS?e||S(p.kk.DRAG_RETURN_TO_DLT):N===p.kk.DRAG_RETURN_TO_DLT&&e&&S(p.kk.DRAG_ON_CANVAS)}else D.draggedTool||S(p.kk.DEFAULT)},[D,w,S,N]);let Y=p.UJ,X=(0,n.useRef)(null);return n.createElement(E.XN,{alignment:"CENTER",innerRef:X},n.createElement(E.ti,{isSelected:G||a,noScaleAnimation:!0},n.createElement(y.J7,{toolType:"sticky",recordingKey:(0,_.hx)("sticky"),isSelected:a,className:I.qf,onClick:B,"data-tooltip-type":m.Ib.LOOKUP,"data-tooltip":"set-tool-sticky",tooltipOffset:{offsetY:-26,offsetX:10},onboardingKey:O,isHovered:G,onMouseEnter:H,onMouseMove:V,onMouseLeave:K,onTouchStart:z,onTouchEnd:W,hasOpenSubmenu:a},n.createElement("div",{className:i()(I.z6,I.ac)},n.createElement(h.s,{toolType:"sticky",color:R,isSelected:a,onTap:B,onDragStart:q,onDragEnd:j,Icon:Y,toolbarIconScale:e,canvasToSvgScale:L,isDragReversing:x,isHovered:G,stickyAnimationState:N,hoverOffsetAmount:"STICKY"}),n.createElement(Y,{toolOrder:2,color:R,toolbarIconScale:e,shouldAnimate:w,isReversing:x,stickyAnimationState:N}),n.createElement(Y,{toolOrder:3,color:R,toolbarIconScale:e,shouldAnimate:w,isReversing:x,stickyAnimationState:N}),n.createElement(Y,{toolOrder:4,color:R,toolbarIconScale:e,shouldAnimate:w,isReversing:x,stickyAnimationState:N})))),n.createElement(E.Qw,{isOpen:a,fadedOut:G},n.createElement(A,{isOpen:a,recordingKey:(0,_.hx)("stickySubmenu")})))}},976803:(e,t,a)=>{a.d(t,{V:()=>o});var n=a(411855),r=a(629019),l=a.n(r),i=a(358145);let o=n.memo(function({loadingPaletteCircleCount:e}){let t=(0,i.ZC)(e),a=t&&!e,r=a?t:e;return n.createElement("div",{className:l()("dlt_submenu_palette_skeleton--skeletonCircleContainer--zJP5v",{"dlt_submenu_palette_skeleton--isFadingOut--X7mcE":a})},[...Array(r)].map((e,t)=>n.createElement("div",{className:"dlt_submenu_palette_skeleton--skeletonCircleWrapper--jqySu",key:"skeleton-palette-"+t},n.createElement("div",{className:l()("dlt_submenu_palette_skeleton--skeletonCircle--S16JP",{"dlt_submenu_palette_skeleton--loading--NXGYD":!a}),style:{animationDelay:`${.1*t}s`}}))))})},278011:(e,t,a)=>{a.d(t,{w:()=>I,Z:()=>S});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(939683),s=a(966712),c=a(574176),d=a(939863),u=a(119198),m=a(672517),p=a(151166),_=a(198371),f=a(369870),g=a(102310),h=a(860178),E=a(99506),y=a(945020),v=a(60088),b=a(79132),C=a(40092),w=a(487392);let k=["meeting","brainstorm","diagram","plan"],x={meeting:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.meeting"),templateId:"1131656387097659439"},brainstorm:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.brainstorm"),templateId:"1131655445295798316"},diagram:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.diagram"),templateId:"1131655783221981229"},plan:{displayName:(0,d.tx)("whiteboard.editor_file_create_button.template.plan"),templateId:"1131656074685986862"}};var T=a(781374),N=a(635858);function S(){let e=(0,_.nF)(!0),t=!(0,p.N)()&&e.enabled,a=null===(0,h.iZ)();return(0,f.eM)()||t&&a||(0,s.kc)().figjam_ui2_overhaul?null:n.createElement(I,null)}function I(){let e=(0,w.$3)(),{Dropdown:t,toggleDropdown:a,dropdownTargetRef:l,isDropdownShown:s}=(0,v.B)("figjam-editor-create-button-dropdown"),p=(0,r.wA)(),_=(0,g.B)(),f=(0,o.U)(),h={brainstorm:(0,b.S)({templateId:x.brainstorm.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"brainstorm"}}),meeting:(0,b.S)({templateId:x.meeting.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"meeting"}}),diagram:(0,b.S)({templateId:x.diagram.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"diagram"}}),plan:(0,b.S)({templateId:x.plan.templateId,source:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"plan"}})},S=n.useCallback(()=>{s||f("CTA Clicked",{action:"editor_file_create_button_toggle_dropdown_shown"}),a()},[s,a,f]),I=n.useCallback(()=>{f("CTA Clicked",{action:"editor_file_create_button_create_blank"}),p(u.zE({state:_,from:y.f6.FIGJAM_EDITOR_FILE_CREATE_BUTTON,editorType:E._Y.WHITEBOARD,team:void 0,openNewFileIn:y.ai.NEW_TAB}))},[p,f,_]),A=k.map(e=>({displayText:function(e){switch(e){case"meeting":return(0,d.t)("whiteboard.editor_file_create_button.template.meeting");case"brainstorm":return(0,d.t)("whiteboard.editor_file_create_button.template.brainstorm");case"diagram":return(0,d.t)("whiteboard.editor_file_create_button.template.diagram");case"plan":return(0,d.t)("whiteboard.editor_file_create_button.template.plan")}}(e),icon:function(e){switch(e){case"meeting":return n.createElement(C.jn,null);case"brainstorm":return n.createElement(C.ZT,null);case"diagram":return n.createElement(C.Pd,null);case"plan":return n.createElement(C.Zs,null)}}(e),className:T.QR,optionHeight:26,callback:()=>{h[e]()}})),L=[{displayText:(0,d.t)("whiteboard.editor_file_create_button.blank_whiteboard"),callback:I,className:T.QR,icon:n.createElement(C.Gc,null),optionHeight:26},{separator:!0,displayText:""},{displayText:(0,d.t)("whiteboard.editor_file_create_button.template.title"),disabled:!0,className:T.QR,optionHeight:24},...A];return n.createElement(m.fu,{name:"Editor File Create Button"},n.createElement("div",{className:T.Ll},n.createElement("div",{className:i()(T.UD,{[T.wH]:s})},n.createElement("button",{className:i()(T.x6,{[T.FU]:!e,[T.wH]:s}),onClick:S,"aria-label":(0,d.t)("whiteboard.editor_file_create_button.create_button_aria_label")},n.createElement("div",{className:T.Xl},(0,d.tx)("sidebar.new_file")),n.createElement("div",{className:T.FH,ref:l},n.createElement(c.B,{className:i()(T.ai,{[T.BG]:s}),svg:N.A}))),n.createElement(t,{items:L,showPoint:!0,lean:"center",minLeftMargin:-4,minWidth:164}))))}},161735:(e,t,a)=>{a.d(t,{Cb:()=>H,E0:()=>B,Ef:()=>F,IW:()=>A,PX:()=>V,Pn:()=>D,QL:()=>G,UI:()=>L,Uj:()=>I,Wb:()=>R,Y:()=>P,Yh:()=>U,kw:()=>M,u3:()=>O,z1:()=>K});var n=a(411855),r=a(966712),l=a(38580),i=a(374626),o=a(646240),s=a(498750),c=a(860601),d=a(877723),u=a(939863),m=a(483990),p=a(356390),_=a(662531),f=a(227944),g=a(498606),h=a(468829),E=a(391993),y=a(632084),v=a(47750),b=a(230646),C=a(477173),w=a(425187),k=a(322027),x=a(62573),T=a(607492),N=a(939206),S=a(754556),I=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster_by_topic",e.TIDY_UP="tidy_up",e.WRAP_IN_SECTION="wrap_in_section",e.CLUSTER_BY_AUTHOR="cluster_by_author",e.CLUSTER_BY_COLOR="cluster_by_color",e.CLUSTER_BY_STAMP_COUNT="cluster_by_stamp_count",e.CLUSTER_BY_STAMP_TYPE="cluster_by_stamp_type",e.OPEN_CLUSTER_BY_MORE_MENU="open_cluster_by_more_menu",e.CREATE_FIGMA_SLIDES_OUTLINE="create_figma_slides_outline",e))(I||{});let A={summarize:!0,cluster_by_topic:!0,create_figma_slides_outline:!0,tidy_up:!1,wrap_in_section:!1,cluster_by_author:!1,cluster_by_color:!1,cluster_by_stamp_count:!1,cluster_by_stamp_type:!1,open_cluster_by_more_menu:!1},L=(0,l.eU)(!1),O=(0,l.eU)(null),M=(0,l.eU)(!1),P=(0,l.eU)(!1);function R(){let e=D(),[t,a]=(0,i.fp)(P),r=(0,o.Xr)(M);return n.useCallback(()=>{e(),a(!1),r(!1)},[e,a,r])}function D(){let[e,t]=(0,i.fp)(O),[a,r]=(0,i.fp)(L);return n.useCallback(()=>{t(null),r(!1)},[t,r])}function F(e){return!!e&&(A[e.type]||!1)}function B(){let e=(0,b.v1)();return!!(0,r.kc)().figjam_cluster_by_more&&e}function U(){let e=(0,d.q8)(),t=(0,r.kc)().figjam_synthesize_handbrake||!1,a=[],n=(0,b.V)()&&!e,l=(0,b.cF)(),i=(0,E.IR)(),o=(0,b.v1)(),s=B(),c=(0,f.Zr)("create-section-from-selection"),p=(0,f.Zr)("tidy-up"),_=(0,f.Zr)("align-top"),y=(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),v={tooltip:h.w,tooltipType:g.Ib.SPECIAL},C=!!(0,r.kc)().figjam_cluster_by_more;return s&&a.push({type:"open_cluster_by_more_menu",disabled:!1,isInClusterSubmenu:!1,displayText:"",disabledTooltipText:""}),n&&(C||a.push({type:"cluster_by_topic",disabled:!o||t,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:k.A,disabledTooltipText:y,tooltipOverrides:t?v:void 0,isInClusterSubmenu:!1}),a.push({type:"summarize",disabled:!l||t,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:x.A,disabledTooltipText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?v:void 0,isInClusterSubmenu:!1})),(0,r.kc)().figjam_inline_organize_more_tools&&(p&&_&&a.push({type:"tidy_up",disabled:!1,displayText:(0,m.A)("tidy-up"),svgSrc:S.A,tooltipOverrides:{tooltip:"tidy-up",tooltipType:g.Ib.LOOKUP}}),c&&a.push({type:"wrap_in_section",disabled:!1,displayText:(0,m.A)("create-section-from-selection"),svgSrc:N.A,tooltipOverrides:{tooltip:"create-section-from-selection",tooltipType:g.Ib.LOOKUP}})),i&&a.push({type:"create_figma_slides_outline",disabled:t,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline"),svgSrc:T.A,disabledTooltipText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?v:void 0,isInClusterSubmenu:!1,separator:"TOP"}),a}function G(){return[...function(){let e=(0,d.q8)(),t=(0,b.v1)();if(e)return[];let a=!!(0,r.kc)().figjam_synthesize_handbrake,n=[],l=(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),i={tooltip:h.w,tooltipType:g.Ib.SPECIAL};return n.push({type:"cluster_by_topic",disabled:!t||a,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_topic_2"),disabledTooltipText:l,tooltipOverrides:a?i:void 0,isInClusterSubmenu:!0}),n}(),...function(){let e=(0,b.v1)(),t=(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),a=[];return a.push({type:"cluster_by_color",disabled:!e,isInClusterSubmenu:!0,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_color_2"),disabledTooltipText:t}),a.push({type:"cluster_by_author",disabled:!e,isInClusterSubmenu:!0,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_author_2"),disabledTooltipText:t}),a.push({type:"cluster_by_stamp_count",disabled:!e,isInClusterSubmenu:!0,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_count_2"),disabledTooltipText:t}),a.push({type:"cluster_by_stamp_type",disabled:!e,isInClusterSubmenu:!0,displayText:(0,u.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_type_2"),disabledTooltipText:t}),a}()].filter(e=>e?.isInClusterSubmenu&&"open_cluster_by_more_menu"!==e.type)}function H(){let e=U();return(0,r.kc)().figjam_inline_organize_criteria_2?!!e.find(e=>e?.type==="summarize"||e?.type==="cluster_by_topic"||e?.type==="open_cluster_by_more_menu"):!(e.length<=1)||!!e.find(e=>F(e)||e?.type==="open_cluster_by_more_menu")}function V(){let e=(0,i.md)(w.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,C.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:a}=(0,v.f)(),{cluster:n}=(0,v.J)(y.Gq,!1),{cluster:r}=(0,v.J)(y.MS,!1),{cluster:l}=(0,v.J)(y.bM,!0),{cluster:o}=(0,v.J)(y.ON,!1),s=(0,E.iX)(),d=R();return e=>{let i=c.lQ,u="";if(e){switch(e.type){case"cluster_by_author":i=n,u="inline-menu-organize-cluster-by-author";break;case"cluster_by_color":i=r,u="inline-menu-organize-cluster-by-color";break;case"cluster_by_stamp_count":i=l,u="inline-menu-organize-cluster-by-stamp-count";break;case"cluster_by_stamp_type":i=o,u="inline-menu-organize-cluster-by-stamp-type";break;case"summarize":i=t,u="inline-menu-organize-summarize";break;case"create_figma_slides_outline":i=s,u="inline-menu-organize-create-figma-slides-outline";break;case"cluster_by_topic":i=a,u="inline-menu-organize-cluster";break;case"tidy_up":i=()=>p.Y5.triggerActionInUserEditScope("tidy-up"),u="inline-menu-organize-tidy-up";break;case"wrap_in_section":i=()=>p.Y5.triggerActionInUserEditScope("create-section-from-selection"),u="inline-menu-organize-wrap-in-section"}_.l7.user(u,i),"open_cluster_by_more_menu"!==e.type&&d()}}}function K(){let[e,t]=(0,i.fp)(L),[a,n]=(0,i.fp)(O),[r,l]=(0,i.fp)(M),o=G(),c=V();return(l,i)=>{if(l.shiftKey||l.altKey||l.ctrlKey){i(l);return}if(e)switch(l.keyCode){case s.Uz.ESCAPE:t(!1),n(null);break;case s.Uz.DOWN_ARROW:null===a?n(0):a+1<o.length&&n(a+1);break;case s.Uz.UP_ARROW:null===a?n(o.length-1):a-1>=0&&n(a-1);break;case s.Uz.RIGHT_ARROW:null===a&&n(0);break;case s.Uz.LEFT_ARROW:n(null),t(!1);break;case s.Uz.ENTER:null!==a&&a<o.length&&(l.preventDefault(),l.stopPropagation(),c(o[a]))}else if(r)switch(l.keyCode){case s.Uz.RIGHT_ARROW:t(!0);break;case s.Uz.LEFT_ARROW:t(!1);break;default:i(l)}else i(l)}}},649958:(e,t,a)=>{a.d(t,{XZ:()=>m,fk:()=>_,oc:()=>p,k0:()=>f});var n=a(411855),r=a(188507),l=a(346124),i=a(776621);let o=500,s="audioplayinvoked",c="audioplaysuccess";class d{constructor(e){this.play=({onSuccess:e,onNoInteractionFailure:t})=>{let a=()=>{window.removeEventListener(s,this.audioPlayInvokedHandler),window.removeEventListener(c,this.audioPlaySuccessHandler)};window.dispatchEvent(this.audioPlayInvokedEvent),this.audio.play().then(()=>{if(this.shouldBlockPlay){this.audio.pause(),this.isAttemptingToPlay=!1;return}this.lastPlayedTimestamp=Date.now(),window.dispatchEvent(this.audioPlaySuccessEvent),this.isFadingOut?this.fadeOut({}):(this.internalVolumeMultiplier=0,this.fadeIn({fadeInLength:1e3})),e&&e(),this.isAttemptingToPlay=!1,a()}).catch(e=>{if(this.isAttemptingToPlay=!1,"NotAllowedError"===e.name&&t){t();return}if(e.message.toLowerCase().includes("interrupted by a new load request")){(0,i.ED)("FigJam MusicPlayer","Benign race condition: new track was requested while the promise to play the previous track was resolving (no user impact)");return}throw Error(`Failed to play music in the FigJam timer: ${e}`)})},this.playLoadingAudio=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play loading music in the FigJam timer: ${e}`)})},this.stopLoadingAudio=()=>{this.loadingAudio.currentSrc&&(this.loadingAudio.pause(),this.setTimestamp(0,this.loadingAudio))},this.isPaused=()=>this.audio.paused||this.shouldBlockPlay,this.isPlaying=()=>!this.isPaused(),this.setTimestamp=(e,t)=>{if(t){if(t.seeking||t.readyState<=0){console.warn("Already seeking or audio isn't ready, can't set timestamp.");return}t.fastSeek?t.fastSeek(e):t.currentTime=e}},this.playAtTimestamp=({src:e,timestamp:t,onSuccess:a,onFailure:n})=>{this.isAttemptingToPlay=!1;let r=()=>{this.setTimestamp(t/1e3%this.audio.duration,this.audio),this.play({onSuccess:a,onNoInteractionFailure:n})};window.addEventListener(s,this.audioPlayInvokedHandler),window.addEventListener(c,this.audioPlaySuccessHandler),this.playLoadingAudio(),this.setSource(""),this.shouldBlockPlay=!1,this.audio.oncanplaythrough=()=>{this.audio.oncanplaythrough=null,this.handleVolumeUpdate(),r()},this.setSource(e)},this.playPreview=({src:e,timestampMs:t=0,playLengthMs:a,fadeLengthMs:n=o})=>{let r=this.hasSource();this.playAtTimestamp({src:e,timestamp:t,onSuccess:()=>{this.isPaused()||!r?this.internalVolumeMultiplier=0:this.clearFadeTimeouts(),this.fadeIn({}),this.internalFadeOutTimeoutId=window.setTimeout(()=>{this.internalFadeOutTimeoutId=0,this.fadeOut({fadeOutLength:n,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0})},a+2*n)}})},this.stopPreview=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeOutTimeoutId=0,this.stop()},this.clearFadeTimeouts=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeInTimeoutId&&clearTimeout(this.internalFadeInTimeoutId)},this.resetFades=()=>{this.clearFadeTimeouts(),this.internalVolumeMultiplier=1,this.isFadingOut=!1,this.isFadingIn=!1},this.pause=()=>{this.stopLoadingAudio(),this.audio.paused||this.shouldBlockPlay||this.isAttemptingToPlay||(this.audio.pause(),this.clearFadeTimeouts()),this.shouldBlockPlay=!0},this.stop=()=>{this.stopLoadingAudio(),this.resetFades(),this.shouldBlockPlay=!0,this.audio.pause(),this.audio.removeAttribute("src")},this.hasSource=()=>""!==this.audio.currentSrc,this.setSource=e=>{this.audio.src=e},this.setIsMuted=e=>{this.audio.muted=e,this.loadingAudio.muted=e,this.isMuted=e,this.handleVolumeUpdate()},this.getCurrentVolume=()=>this.isMuted?0:(0,l.clamp)(this.externalVolume*this.internalVolumeMultiplier,0,1),this.handleVolumeUpdate=()=>{this.audio.volume=this.getCurrentVolume()},this.setVolume=e=>{this.externalVolume=e,this.handleVolumeUpdate()},this.fadeOut=({fadeOutLength:e=5e3,shouldStopWhenFadedOut:t=!1,targetVolumeMultiplier:a=0,callbackWhenDoneFading:n,resumeFadingIfInterrupted:r=!0})=>{this.clearFadeTimeouts();let l=1/(e/50),i=()=>{!this.audio.paused&&(this.internalVolumeMultiplier>a?(this.internalVolumeMultiplier-=l,this.handleVolumeUpdate(),this.internalFadeOutTimeoutId=window.setTimeout(i,50)):(this.internalFadeOutTimeoutId=0,t&&this.stop(),this.handleVolumeUpdate(),this.isFadingOut=!1,n&&n()))};r&&(this.isFadingOut=!0),i()},this.fadeIn=({fadeInLength:e=1e3,callbackWhenDoneFading:t})=>{this.clearFadeTimeouts();let a=1/(e/50),n=()=>{!this.audio.paused&&(this.internalVolumeMultiplier<1?(this.internalVolumeMultiplier+=a,this.handleVolumeUpdate(),this.internalFadeInTimeoutId=window.setTimeout(n,50)):(this.internalFadeInTimeoutId=0,this.handleVolumeUpdate(),this.isFadingIn=!1,t&&t()))};this.isFadingIn=!0,n()},this.isAttemptingToPlay=!1,this.audio=new Audio,this.audio.src="",this.audio.loop=!0,this.loadingAudio=new Audio,e&&e.loadingPlaybackUrl&&(this.loadingAudio.src=e.loadingPlaybackUrl),this.loadingAudio.loop=!0,this.audioPlayInvokedEvent=new Event(s),this.audioPlayInvokedHandler=()=>{this.isAttemptingToPlay=!0},this.audioPlaySuccessEvent=new Event(c),this.audioPlaySuccessHandler=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.pause(),this.isAttemptingToPlay=!1},this.externalVolume=.7,this.isMuted=!1,this.isFadingOut=!1,this.isFadingIn=!1,this.shouldBlockPlay=!1,this.internalVolumeMultiplier=1,this.internalFadeOutTimeoutId=0,this.internalFadeInTimeoutId=0,this.lastPlayedTimestamp=null;let t=e?.timeUpdateListener;t&&this.audio.addEventListener("timeupdate",()=>t(this.audio))}}var u=a(318137);let m="unmute-timer-music";function p(e){let[t]=n.useState(()=>e?.previousPlayerInstance||new d(e)),a=(0,r.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.volume:t.timer.volume),l=(0,r.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.isMuted:t.timer.isMuted);return n.useEffect(()=>{t.setVolume(a/100)},[a,t]),n.useEffect(()=>{t.setIsMuted(l)},[l,t]),t}function _(){let e=(0,r.d4)(e=>e.music.music);return!e?.isPaused&&!e?.isStopped}function f(){let e=(0,r.d4)(e=>e.music.music),t=e?.selectedSongID||"",a=(0,u.N)(t),n=_(),l=a&&a.album_art;return!n||!l}},318137:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(188507),r=a(966712),l=a(411189);let i=e=>(0,n.d4)(t=>{let a=((0,r.kc)().figjam_more_tracks_listen?t.music.allSongs:t.music.activeSongs).filter(t=>e===t.song_id);return a.length?a[0]:void 0},l.eB)},669074:(e,t,a)=>{a.d(t,{m:()=>x,U:()=>w});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(574176),s=a(29680),c=a(318137);function d({useLightShadow:e}){return n.createElement("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"100%",width:"100%",filter:e?"drop-shadow(0px 0.325px 0.813px rgba(0, 0, 0, 0.15)) drop-shadow(0px 1.625px 2.6px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.081px rgba(0, 0, 0, 0.12))":"drop-shadow(0px 1.625px 4.062500476837158px rgba(0, 0, 0, 0.15)) drop-shadow(0px 8.125000953674316px 13px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.40625px rgba(0, 0, 0, 0.12))"}},n.createElement("mask",{id:"mask0_134_226",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"96",height:"96"},n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint0_radial_134_226)"}),n.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.625"})),n.createElement("g",{mask:"url(#mask0_134_226)"},n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),n.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint1_radial_134_226)"}),n.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.625"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"48.3438",stroke:"url(#paint2_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"45.0938",stroke:"url(#paint3_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"41.8438",stroke:"url(#paint4_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"38.5938",stroke:"url(#paint5_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"35.3438",stroke:"url(#paint6_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("circle",{cx:"47.9999",cy:"48",r:"32.0938",stroke:"url(#paint7_linear_134_226)",strokeWidth:"0.8125"}),n.createElement("g",{filter:"url(#filter0_f_134_226)"},n.createElement("path",{d:"M47.6379 42.7921L50.2388 118.707L-34.6776 45.6123L47.6379 42.7921Z",fill:"url(#paint8_linear_134_226)"})),n.createElement("g",{filter:"url(#filter1_f_134_226)"},n.createElement("path",{d:"M56.3805 43.3806L56.3805 -32.5788L138.744 43.3806L56.3805 43.3806Z",fill:"url(#paint9_linear_134_226)"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_f_134_226",x:"-42.8026",y:"34.6671",width:"101.166",height:"92.1648",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),n.createElement("filter",{id:"filter1_f_134_226",x:"48.2555",y:"-40.7038",width:"98.6138",height:"92.2094",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),n.createElement("radialGradient",{id:"paint0_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("radialGradient",{id:"paint1_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint2_linear_134_226",x1:"96.7498",y1:"96.75",x2:"-0.750201",y2:"-0.75003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint3_linear_134_226",x1:"93.4998",y1:"93.5",x2:"2.49981",y2:"2.49997",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint4_linear_134_226",x1:"90.2498",y1:"90.25",x2:"5.74982",y2:"5.74997",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint5_linear_134_226",x1:"86.9998",y1:"87",x2:"8.99983",y2:"8.99997",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint6_linear_134_226",x1:"83.7498",y1:"83.75",x2:"12.2498",y2:"12.25",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint7_linear_134_226",x1:"80.4998",y1:"80.5",x2:"15.4998",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),n.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),n.createElement("linearGradient",{id:"paint8_linear_134_226",x1:"11.6492",y1:"45.2351",x2:"48.238",y2:"80.972",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),n.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint9_linear_134_226",x1:"92.4318",y1:"42.1712",x2:"57.088",y2:"5.20249",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),n.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function u(){return n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{cx:"9.59963",cy:"5.33317",r:"1.06667",fill:"url(#paint0_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"5.33336",r:"1.06667",fill:"url(#paint1_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"5.33356",r:"1.06667",fill:"url(#paint2_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"5.33317",r:"1.06667",fill:"url(#paint3_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"9.6002",r:"1.06667",fill:"url(#paint4_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"5.33336",r:"1.06667",fill:"url(#paint5_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"9.6",r:"1.06667",fill:"url(#paint6_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"9.6002",r:"1.06667",fill:"url(#paint7_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"9.6002",r:"1.06667",fill:"url(#paint8_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"9.6",r:"1.06667",fill:"url(#paint9_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"9.6002",r:"1.06667",fill:"url(#paint10_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"9.6002",r:"1.06667",fill:"url(#paint11_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"9.6002",r:"1.06667",fill:"url(#paint12_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"5.33317",r:"1.06667",fill:"url(#paint13_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"13.8666",r:"1.06667",fill:"url(#paint14_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"13.8666",r:"1.06667",fill:"url(#paint15_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"13.8666",r:"1.06667",fill:"url(#paint16_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"13.8666",r:"1.06667",fill:"url(#paint17_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"13.8666",r:"1.06667",fill:"url(#paint18_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"13.8666",r:"1.06667",fill:"url(#paint19_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"13.8666",r:"1.06667",fill:"url(#paint20_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"13.8666",r:"1.06667",fill:"url(#paint21_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"18.1333",r:"1.06667",fill:"url(#paint22_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"18.1333",r:"1.06667",fill:"url(#paint23_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"18.1333",r:"1.06667",fill:"url(#paint24_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"18.1333",r:"1.06667",fill:"url(#paint25_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"18.1333",r:"1.06667",fill:"url(#paint26_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"18.1333",r:"1.06667",fill:"url(#paint27_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"18.1333",r:"1.06667",fill:"url(#paint28_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"18.1333",r:"1.06667",fill:"url(#paint29_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"22.3999",r:"1.06667",fill:"url(#paint30_linear_1808_68900)"}),n.createElement("circle",{cx:"5.334",cy:"26.6668",r:"1.06667",fill:"url(#paint31_linear_1808_68900)"}),n.createElement("circle",{cx:"1.06667",cy:"22.3999",r:"1.06667",fill:"url(#paint32_linear_1808_68900)"}),n.createElement("circle",{cx:"30.9334",cy:"22.4001",r:"1.06667",fill:"url(#paint33_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"22.4001",r:"1.06667",fill:"url(#paint34_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"22.3999",r:"1.06667",fill:"url(#paint35_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"22.3999",r:"1.06667",fill:"url(#paint36_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"22.4001",r:"1.06667",fill:"url(#paint37_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"22.4001",r:"1.06667",fill:"url(#paint38_linear_1808_68900)"}),n.createElement("circle",{cx:"26.6668",cy:"26.6668",r:"1.06667",fill:"url(#paint39_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"26.6668",r:"1.06667",fill:"url(#paint40_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"26.6668",r:"1.06667",fill:"url(#paint41_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"26.6668",r:"1.06667",fill:"url(#paint42_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"26.6668",r:"1.06667",fill:"url(#paint43_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"30.9332",r:"1.06667",fill:"url(#paint44_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"30.9334",r:"1.06667",fill:"url(#paint45_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"30.9336",r:"1.06667",fill:"url(#paint46_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"30.9332",r:"1.06667",fill:"url(#paint47_linear_1808_68900)"}),n.createElement("circle",{cx:"9.59963",cy:"1.06672",r:"1.06667",fill:"url(#paint48_linear_1808_68900)"}),n.createElement("circle",{cx:"13.8667",cy:"1.06672",r:"1.06667",fill:"url(#paint49_linear_1808_68900)"}),n.createElement("circle",{cx:"18.1333",cy:"1.06672",r:"1.06667",fill:"url(#paint50_linear_1808_68900)"}),n.createElement("circle",{cx:"22.3997",cy:"1.06672",r:"1.06667",fill:"url(#paint51_linear_1808_68900)"}),n.createElement("defs",null,n.createElement("linearGradient",{id:"paint0_linear_1808_68900",x1:"9.59963",y1:"4.2665",x2:"9.59963",y2:"6.39984",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint1_linear_1808_68900",x1:"13.8667",y1:"4.26669",x2:"13.8667",y2:"6.40003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint2_linear_1808_68900",x1:"18.1333",y1:"4.26689",x2:"18.1333",y2:"6.40023",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint3_linear_1808_68900",x1:"22.3997",y1:"4.2665",x2:"22.3997",y2:"6.39984",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint4_linear_1808_68900",x1:"5.334",y1:"8.53353",x2:"5.334",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint5_linear_1808_68900",x1:"5.334",y1:"4.26669",x2:"5.334",y2:"6.40003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint6_linear_1808_68900",x1:"1.06667",y1:"8.53333",x2:"1.06667",y2:"10.6667",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint7_linear_1808_68900",x1:"30.9334",y1:"8.53353",x2:"30.9334",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint8_linear_1808_68900",x1:"9.59963",y1:"8.53353",x2:"9.59963",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint9_linear_1808_68900",x1:"13.8667",y1:"8.53333",x2:"13.8667",y2:"10.6667",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint10_linear_1808_68900",x1:"18.1333",y1:"8.53353",x2:"18.1333",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint11_linear_1808_68900",x1:"22.3997",y1:"8.53353",x2:"22.3997",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint12_linear_1808_68900",x1:"26.6668",y1:"8.53353",x2:"26.6668",y2:"10.6669",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint13_linear_1808_68900",x1:"26.6668",y1:"4.2665",x2:"26.6668",y2:"6.39984",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint14_linear_1808_68900",x1:"5.334",y1:"12.8",x2:"5.334",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint15_linear_1808_68900",x1:"1.06667",y1:"12.8",x2:"1.06667",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint16_linear_1808_68900",x1:"30.9334",y1:"12.8",x2:"30.9334",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint17_linear_1808_68900",x1:"9.59963",y1:"12.8",x2:"9.59963",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint18_linear_1808_68900",x1:"13.8667",y1:"12.8",x2:"13.8667",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint19_linear_1808_68900",x1:"18.1333",y1:"12.8",x2:"18.1333",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint20_linear_1808_68900",x1:"22.3997",y1:"12.8",x2:"22.3997",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint21_linear_1808_68900",x1:"26.6668",y1:"12.8",x2:"26.6668",y2:"14.9333",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint22_linear_1808_68900",x1:"5.334",y1:"17.0666",x2:"5.334",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint23_linear_1808_68900",x1:"1.06667",y1:"17.0666",x2:"1.06667",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint24_linear_1808_68900",x1:"30.9334",y1:"17.0666",x2:"30.9334",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint25_linear_1808_68900",x1:"9.59963",y1:"17.0666",x2:"9.59963",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint26_linear_1808_68900",x1:"13.8667",y1:"17.0666",x2:"13.8667",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint27_linear_1808_68900",x1:"18.1333",y1:"17.0666",x2:"18.1333",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint28_linear_1808_68900",x1:"22.3997",y1:"17.0666",x2:"22.3997",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint29_linear_1808_68900",x1:"26.6668",y1:"17.0666",x2:"26.6668",y2:"19.1999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint30_linear_1808_68900",x1:"5.334",y1:"21.3333",x2:"5.334",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint31_linear_1808_68900",x1:"5.334",y1:"25.6001",x2:"5.334",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint32_linear_1808_68900",x1:"1.06667",y1:"21.3333",x2:"1.06667",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint33_linear_1808_68900",x1:"30.9334",y1:"21.3334",x2:"30.9334",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint34_linear_1808_68900",x1:"9.59963",y1:"21.3334",x2:"9.59963",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint35_linear_1808_68900",x1:"13.8667",y1:"21.3333",x2:"13.8667",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint36_linear_1808_68900",x1:"18.1333",y1:"21.3333",x2:"18.1333",y2:"23.4666",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint37_linear_1808_68900",x1:"22.3997",y1:"21.3334",x2:"22.3997",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint38_linear_1808_68900",x1:"26.6668",y1:"21.3334",x2:"26.6668",y2:"23.4668",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint39_linear_1808_68900",x1:"26.6668",y1:"25.6001",x2:"26.6668",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint40_linear_1808_68900",x1:"9.59963",y1:"25.6001",x2:"9.59963",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint41_linear_1808_68900",x1:"13.8667",y1:"25.6001",x2:"13.8667",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint42_linear_1808_68900",x1:"18.1333",y1:"25.6001",x2:"18.1333",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint43_linear_1808_68900",x1:"22.3997",y1:"25.6001",x2:"22.3997",y2:"27.7334",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint44_linear_1808_68900",x1:"9.59963",y1:"29.8665",x2:"9.59963",y2:"31.9999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint45_linear_1808_68900",x1:"13.8667",y1:"29.8667",x2:"13.8667",y2:"32.0001",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint46_linear_1808_68900",x1:"18.1333",y1:"29.8669",x2:"18.1333",y2:"32.0003",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint47_linear_1808_68900",x1:"22.3997",y1:"29.8665",x2:"22.3997",y2:"31.9999",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint48_linear_1808_68900",x1:"9.59963",y1:"5.34058e-05",x2:"9.59963",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint49_linear_1808_68900",x1:"13.8667",y1:"5.34058e-05",x2:"13.8667",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint50_linear_1808_68900",x1:"18.1333",y1:"5.34058e-05",x2:"18.1333",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint51_linear_1808_68900",x1:"22.3997",y1:"5.34058e-05",x2:"22.3997",y2:"2.13339",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}function m(){return n.createElement("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("circle",{cx:"13.5002",cy:"8",r:"1.5",fill:"url(#paint0_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"8",r:"1.5",fill:"url(#paint1_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"8",r:"1.5",fill:"url(#paint2_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"8",r:"1.5",fill:"url(#paint3_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"14",r:"1.5",fill:"url(#paint4_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"8",r:"1.5",fill:"url(#paint5_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"14",r:"1.5",fill:"url(#paint6_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"14",r:"1.5",fill:"url(#paint7_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"14",r:"1.5",fill:"url(#paint8_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"14",r:"1.5",fill:"url(#paint9_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"14.0002",r:"1.5",fill:"url(#paint10_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"14",r:"1.5",fill:"url(#paint11_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"14",r:"1.5",fill:"url(#paint12_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"8",r:"1.5",fill:"url(#paint13_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"20",r:"1.5",fill:"url(#paint14_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"20",r:"1.5",fill:"url(#paint15_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"20",r:"1.5",fill:"url(#paint16_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"20",r:"1.5",fill:"url(#paint17_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"20",r:"1.5",fill:"url(#paint18_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"20",r:"1.5",fill:"url(#paint19_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"20",r:"1.5",fill:"url(#paint20_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"20",r:"1.5",fill:"url(#paint21_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"26",r:"1.5",fill:"url(#paint22_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"26",r:"1.5",fill:"url(#paint23_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"26",r:"1.5",fill:"url(#paint24_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"26",r:"1.5",fill:"url(#paint25_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"26",r:"1.5",fill:"url(#paint26_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"25.9998",r:"1.5",fill:"url(#paint27_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"26",r:"1.5",fill:"url(#paint28_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"26",r:"1.5",fill:"url(#paint29_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"32",r:"1.5",fill:"url(#paint30_linear_1414_55682)"}),n.createElement("circle",{cx:"7.50049",cy:"38",r:"1.5",fill:"url(#paint31_linear_1414_55682)"}),n.createElement("circle",{cx:"1.5",cy:"32",r:"1.5",fill:"url(#paint32_linear_1414_55682)"}),n.createElement("circle",{cx:"43.4999",cy:"32",r:"1.5",fill:"url(#paint33_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"32",r:"1.5",fill:"url(#paint34_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"32",r:"1.5",fill:"url(#paint35_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"32",r:"1.5",fill:"url(#paint36_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"32",r:"1.5",fill:"url(#paint37_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"32",r:"1.5",fill:"url(#paint38_linear_1414_55682)"}),n.createElement("circle",{cx:"37.5002",cy:"38",r:"1.5",fill:"url(#paint39_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"38",r:"1.5",fill:"url(#paint40_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"38",r:"1.5",fill:"url(#paint41_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"38",r:"1.5",fill:"url(#paint42_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"38",r:"1.5",fill:"url(#paint43_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"44",r:"1.5",fill:"url(#paint44_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"44",r:"1.5",fill:"url(#paint45_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"44",r:"1.5",fill:"url(#paint46_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"44",r:"1.5",fill:"url(#paint47_linear_1414_55682)"}),n.createElement("circle",{cx:"13.5002",cy:"2",r:"1.5",fill:"url(#paint48_linear_1414_55682)"}),n.createElement("circle",{cx:"19.5001",cy:"2",r:"1.5",fill:"url(#paint49_linear_1414_55682)"}),n.createElement("circle",{cx:"25.4994",cy:"2",r:"1.5",fill:"url(#paint50_linear_1414_55682)"}),n.createElement("circle",{cx:"31.5001",cy:"2",r:"1.5",fill:"url(#paint51_linear_1414_55682)"}),n.createElement("defs",null,n.createElement("linearGradient",{id:"paint0_linear_1414_55682",x1:"13.5002",y1:"6.5",x2:"13.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint1_linear_1414_55682",x1:"19.5001",y1:"6.5",x2:"19.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint2_linear_1414_55682",x1:"25.4994",y1:"6.5",x2:"25.4994",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint3_linear_1414_55682",x1:"31.5001",y1:"6.5",x2:"31.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint4_linear_1414_55682",x1:"7.50049",y1:"12.5",x2:"7.50049",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint5_linear_1414_55682",x1:"7.50049",y1:"6.5",x2:"7.50049",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint6_linear_1414_55682",x1:"1.5",y1:"12.5",x2:"1.5",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint7_linear_1414_55682",x1:"43.4999",y1:"12.5",x2:"43.4999",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint8_linear_1414_55682",x1:"13.5002",y1:"12.5",x2:"13.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint9_linear_1414_55682",x1:"19.5001",y1:"12.5",x2:"19.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint10_linear_1414_55682",x1:"25.4994",y1:"12.5002",x2:"25.4994",y2:"15.5002",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint11_linear_1414_55682",x1:"31.5001",y1:"12.5",x2:"31.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint12_linear_1414_55682",x1:"37.5002",y1:"12.5",x2:"37.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint13_linear_1414_55682",x1:"37.5002",y1:"6.5",x2:"37.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint14_linear_1414_55682",x1:"7.50049",y1:"18.5",x2:"7.50049",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint15_linear_1414_55682",x1:"1.5",y1:"18.5",x2:"1.5",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint16_linear_1414_55682",x1:"43.4999",y1:"18.5",x2:"43.4999",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint17_linear_1414_55682",x1:"13.5002",y1:"18.5",x2:"13.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint18_linear_1414_55682",x1:"19.5001",y1:"18.5",x2:"19.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint19_linear_1414_55682",x1:"25.4994",y1:"18.5",x2:"25.4994",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint20_linear_1414_55682",x1:"31.5001",y1:"18.5",x2:"31.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint21_linear_1414_55682",x1:"37.5002",y1:"18.5",x2:"37.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint22_linear_1414_55682",x1:"7.50049",y1:"24.5",x2:"7.50049",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint23_linear_1414_55682",x1:"1.5",y1:"24.5",x2:"1.5",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint24_linear_1414_55682",x1:"43.4999",y1:"24.5",x2:"43.4999",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint25_linear_1414_55682",x1:"13.5002",y1:"24.5",x2:"13.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint26_linear_1414_55682",x1:"19.5001",y1:"24.5",x2:"19.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint27_linear_1414_55682",x1:"25.4994",y1:"24.4998",x2:"25.4994",y2:"27.4998",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint28_linear_1414_55682",x1:"31.5001",y1:"24.5",x2:"31.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint29_linear_1414_55682",x1:"37.5002",y1:"24.5",x2:"37.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint30_linear_1414_55682",x1:"7.50049",y1:"30.5",x2:"7.50049",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint31_linear_1414_55682",x1:"7.50049",y1:"36.5",x2:"7.50049",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint32_linear_1414_55682",x1:"1.5",y1:"30.5",x2:"1.5",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint33_linear_1414_55682",x1:"43.4999",y1:"30.5",x2:"43.4999",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint34_linear_1414_55682",x1:"13.5002",y1:"30.5",x2:"13.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint35_linear_1414_55682",x1:"19.5001",y1:"30.5",x2:"19.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint36_linear_1414_55682",x1:"25.4994",y1:"30.5",x2:"25.4994",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint37_linear_1414_55682",x1:"31.5001",y1:"30.5",x2:"31.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint38_linear_1414_55682",x1:"37.5002",y1:"30.5",x2:"37.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint39_linear_1414_55682",x1:"37.5002",y1:"36.5",x2:"37.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint40_linear_1414_55682",x1:"13.5002",y1:"36.5",x2:"13.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint41_linear_1414_55682",x1:"19.5001",y1:"36.5",x2:"19.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint42_linear_1414_55682",x1:"25.4994",y1:"36.5",x2:"25.4994",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint43_linear_1414_55682",x1:"31.5001",y1:"36.5",x2:"31.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint44_linear_1414_55682",x1:"13.5002",y1:"42.5",x2:"13.5002",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint45_linear_1414_55682",x1:"19.5001",y1:"42.5",x2:"19.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint46_linear_1414_55682",x1:"25.4994",y1:"42.5",x2:"25.4994",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint47_linear_1414_55682",x1:"31.5001",y1:"42.5",x2:"31.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint48_linear_1414_55682",x1:"13.5002",y1:"0.5",x2:"13.5002",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint49_linear_1414_55682",x1:"19.5001",y1:"0.5",x2:"19.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint50_linear_1414_55682",x1:"25.4994",y1:"0.5",x2:"25.4994",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),n.createElement("linearGradient",{id:"paint51_linear_1414_55682",x1:"31.5001",y1:"0.5",x2:"31.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#252525"}),n.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}var p=a(346124),_=a(563706),f=a(737499);let g="tonearm-svg--tonearmBottom--3JC--";function h(e){let{onTonearmHeadMouseDown:t}=e;return n.createElement("svg",{width:"27",height:"80",viewBox:"0 0 27 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5.33844",strokeLinecap:"round"}),n.createElement("g",{filter:"url(#filter0_dii_242_919)"},n.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"white",strokeWidth:"4.15212",strokeLinecap:"round"})),n.createElement("g",{filter:"url(#filter1_d_242_919)"},n.createElement("rect",{x:"14",y:"2",width:"9.49057",height:"11.8632",fill:"url(#paint0_linear_242_919)"}),n.createElement("rect",{x:"14.2966",y:"2.29658",width:"8.89741",height:"11.27",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.59316"})),n.createElement("g",{filter:"url(#filter2_d_242_919)",onMouseDown:t,className:g},n.createElement("g",{filter:"url(#filter3_iii_242_919)"},n.createElement("path",{d:"M9.30333 62.425C9.93167 61.6761 11.0481 61.5785 11.7969 62.2068L16.3554 66.0318C17.1042 66.6601 17.2019 67.7766 16.5735 68.5254L10.4596 75.8116C9.8313 76.5604 8.71489 76.6581 7.96606 76.0298L7.14087 75.3374L4.23279 72.8972L3.40761 72.2048C2.65878 71.5764 2.56111 70.46 3.18945 69.7112L9.30333 62.425Z",fill:"#E9E9E9"})),n.createElement("path",{d:"M16.546 65.8046L11.9876 61.9796C11.1132 61.246 9.80976 61.36 9.07614 62.2343L2.96225 69.5206C2.22863 70.3949 2.34267 71.6984 3.21697 72.432L4.04216 73.1244L6.95024 75.5646L7.77542 76.257C8.64972 76.9906 9.95321 76.8766 10.6868 76.0023L16.8007 68.716C17.5343 67.8417 17.4203 66.5382 16.546 65.8046Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.59316"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dii_242_919",x:"9.51017",y:"3.74674",width:"13.6427",height:"65.6232",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.18632"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.18632"}),n.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_242_919"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-1.18632"}),n.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),n.createElement("filter",{id:"filter1_d_242_919",x:"11.3451",y:"0.672526",width:"14.8005",height:"17.1732",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1.32747"}),n.createElement("feGaussianBlur",{stdDeviation:"1.32747"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),n.createElement("filter",{id:"filter2_d_242_919",x:"0.412163",y:"60.3145",width:"18.9386",height:"19.3776",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.884983"}),n.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),n.createElement("filter",{id:"filter3_iii_242_919",x:"1.29715",y:"60.3145",width:"16.8768",height:"17.3158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"2.37264"}),n.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_242_919"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.77948",dy:"1.77948"}),n.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_242_919",result:"effect2_innerShadow_242_919"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-0.884983",dy:"-0.884983"}),n.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),n.createElement("linearGradient",{id:"paint0_linear_242_919",x1:"14",y1:"7.9316",x2:"23.4906",y2:"7.9316",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CACACA"}),n.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.500704",stopColor:"white"}),n.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function E(e){let{onTonearmHeadMouseDown:t}=e;return n.createElement("svg",{width:"24",height:"72",viewBox:"0 0 24 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M16.8776 7.53516C16.8776 7.53516 16.8776 31.2514 16.8776 42.7976C16.8776 54.3438 12.6379 58.2157 12.6379 58.2157",stroke:"black",strokeOpacity:"0.2",strokeWidth:"4.76953",strokeLinecap:"round"}),n.createElement("g",{filter:"url(#filter0_dii_254_922)"},n.createElement("path",{d:"M16.8776 7.53516C16.8776 7.53516 16.8776 31.2514 16.8776 42.7976C16.8776 54.3438 12.6379 58.2157 12.6379 58.2157",stroke:"white",strokeWidth:"3.70964",strokeLinecap:"round"})),n.createElement("g",{filter:"url(#filter1_d_254_922)"},n.createElement("rect",{x:"12.675",y:"2",width:"8.47917",height:"10.599",fill:"url(#paint0_linear_254_922)"}),n.createElement("rect",{x:"12.94",y:"2.26497",width:"7.94922",height:"10.069",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.529948"})),n.createElement("g",{filter:"url(#filter2_d_254_922)",onMouseDown:t,className:g},n.createElement("g",{filter:"url(#filter3_iii_254_922)"},n.createElement("path",{d:"M8.4789 55.9858C9.04027 55.3168 10.0377 55.2295 10.7067 55.7909L14.7794 59.2082C15.4484 59.7696 15.5357 60.7671 14.9743 61.4361L9.51198 67.9459C8.9506 68.6149 7.95316 68.7021 7.28414 68.1408L6.54689 67.5221L3.94872 65.342L3.21147 64.7234C2.54245 64.162 2.45518 63.1646 3.01656 62.4955L8.4789 55.9858Z",fill:"#E9E9E9"})),n.createElement("path",{d:"M14.9497 59.0053L10.8771 55.5879C10.0959 54.9325 8.93136 55.0343 8.27591 55.8155L2.81358 62.3252C2.15814 63.1064 2.26002 64.2709 3.04115 64.9264L3.7784 65.545L6.37657 67.7251L7.11382 68.3437C7.89494 68.9992 9.05952 68.8973 9.71496 68.1162L15.1773 61.6064C15.8327 60.8253 15.7309 59.6607 14.9497 59.0053Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.529948"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dii_254_922",x:"8.66341",y:"3.56051",width:"12.1888",height:"58.6298",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.0599"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.0599"}),n.createElement("feGaussianBlur",{stdDeviation:"0.370964"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_254_922"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-1.0599"}),n.createElement("feGaussianBlur",{stdDeviation:"0.370964"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_254_922",result:"effect3_innerShadow_254_922"})),n.createElement("filter",{id:"filter1_d_254_922",x:"10.303",y:"0.813993",width:"13.2233",height:"15.343",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"1.18601"}),n.createElement("feGaussianBlur",{stdDeviation:"1.18601"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"})),n.createElement("filter",{id:"filter2_d_254_922",x:"0.535357",y:"54.1002",width:"16.9203",height:"17.3126",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.790671"}),n.createElement("feGaussianBlur",{stdDeviation:"0.790671"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"})),n.createElement("filter",{id:"filter3_iii_254_922",x:"1.32603",y:"54.1002",width:"15.0782",height:"15.4705",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"2.11979"}),n.createElement("feGaussianBlur",{stdDeviation:"0.264974"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_254_922"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"1.58984",dy:"1.58984"}),n.createElement("feGaussianBlur",{stdDeviation:"0.264974"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_254_922",result:"effect2_innerShadow_254_922"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dx:"-0.790671",dy:"-0.790671"}),n.createElement("feGaussianBlur",{stdDeviation:"0.790671"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_254_922",result:"effect3_innerShadow_254_922"})),n.createElement("linearGradient",{id:"paint0_linear_254_922",x1:"12.675",y1:"7.29948",x2:"21.1542",y2:"7.29948",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#CACACA"}),n.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.500704",stopColor:"white"}),n.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),n.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),n.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function y(e){let{onPause:t,onResume:a}=e,[l,o]=n.useState(null),s=n.useRef(0),c=n.useRef(0),d=(0,r.d4)(e=>e.music?.music?.isPaused),u=(0,f.F4)(),m=u?.shouldOptimizeForIpadApp||_.Ay.isIpad,g=n.useCallback(e=>{if(!1===d){let t=e.clientX;o(22-22*((0,p.clamp)(t-s.current,0,21)/21))}else{let t=e.clientX;o(22*((0,p.clamp)(s.current-t,0,21)/21))}},[d,22,21]),y=n.useCallback(e=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y);let n=!1===d;if(Date.now()-c.current<100)n?t():a();else if(n){let a=e.clientX;(0,p.clamp)(a-s.current,0,21)>10.5&&t()}else{let t=e.clientX;(0,p.clamp)(s.current-t,0,21)>10.5&&a()}s.current=0,o(null)},[g,d,t,a]),v=e=>{s.current=e.clientX,c.current=Date.now(),document.addEventListener("mousemove",g),document.addEventListener("mouseup",y)},b=null!=l?l:!1===d?22:0;return n.createElement("div",{className:i()({"tonearm--tonearmStandalone--UOmob":"timedjam"===e.tonearmType,"tonearm--tonearmPanel--KyeLs tonearm--tonearmStandalone--UOmob":"panel"===e.tonearmType}),style:{transform:`rotate(${b}deg)`,transition:null!=l?"transform 0.1s linear":"transform 0.3s ease-in-out"}},"panel"===e.tonearmType?n.createElement(E,{onTonearmHeadMouseDown:m?void 0:v}):n.createElement(h,{onTonearmHeadMouseDown:m?void 0:v}))}var v=a(649958);let b="turntable--gray--OY0Du";var C=a(258873);function w(e){let{handlePause:t,handleTonearmResume:a,size:r="large",grayCoverArtWhenPaused:l,withoutBorder:o}=e;return n.createElement("div",{className:i()("turntable--recordPlayerBase--WG5CH",{"turntable--recordBaseSmall--ZpHXz":"small"===r,"turntable--withoutBorder--28x4E":o})},n.createElement(k,{handlePause:t,handleTonearmResume:a,size:e.size,grayCoverArtWhenPaused:l}),n.createElement("div",{className:"turntable--speakerGrill--DXQjl"},"small"===e.size?n.createElement(u,null):n.createElement(m,null)))}function k(e){let{handlePause:t,handleTonearmResume:a,size:r,grayCoverArtWhenPaused:l}=e;return n.createElement("div",{className:i()("turntable--recordPlayer--0aMTu",{"turntable--recordPlayerSmall--tE3FI":"small"===r})},n.createElement(x,{size:r,grayCoverArtWhenPaused:l}),n.createElement(y,{onPause:t,onResume:a,tonearmType:"small"===r?"panel":"timedjam"}))}function x(e){let{size:t,maskAlbumArtWhenPaused:a,maskRef:r,useGrayMask:l,grayCoverArtWhenPaused:o,useLightShadow:s}=e,c=(0,v.k0)()&&!!a;return n.createElement("div",{className:i()("turntable--record--96NxV",{"turntable--xsmall--eqtGp":"xsmall"===t,"turntable--small--b8Qni":"small"===t,"turntable--large--oXtu6":"large"===t})},n.createElement(d,{useLightShadow:s}),n.createElement(T,{size:t,showMask:c,maskRef:r,useGrayMask:l,grayCoverArtWhenPaused:o}))}function T(e){let t=(0,r.d4)(e=>e.music.music),a=t?.selectedSongID||"",l=(0,c.N)(a),d=(0,v.fk)(),u=l&&l.album_art;return(0,s.p8)("showUi")?n.createElement("div",{className:i()("turntable--spinningAlbum--N7jwa",{"turntable--spinningAlbumXSmall--vzhVj":"xsmall"===e.size,"turntable--spinningAlbumSmall--d-AJf":"small"===e.size,"turntable--spinningAlbumLarge--SWUZ2":"large"===e.size})},u&&n.createElement("img",{className:i()("turntable--spinningAlbumImage--H-qwO",{"turntable--spinningAlbumPlaying--UDk-I":t?.isPaused===!1,[b]:e.grayCoverArtWhenPaused&&!d}),src:l.album_art,alt:"spinning album art"}),n.createElement("div",{ref:e.maskRef,className:i()("turntable--spinningAlbumImageMask--PZ7Cr turntable--spinningAlbumImage--H-qwO",{"turntable--noOpacity--ZKZnl":!e.showMask,[b]:e.useGrayMask})},n.createElement(o.B,{className:"turntable--maskIcon--mZo9b",svg:C.A}))):null}},322907:(e,t,a)=>{a.d(t,{k$:()=>w,p0:()=>k,qT:()=>C,ZP:()=>y,sD:()=>v});var n=a(411855),r=a(629019),l=a.n(r),i=a(374626),o=a(563706),s=a(913016),c=a(939863),d=a(728406),u=a(68517),m=a(802174);let p="time_display--xsmall--RksCd",_="time_display--medium--bxQbL",f="time_display--large--nQrfq",g="time_display--xlarge--HRGrX",h="time_display--clockStyleWrapper--TN05b",E="time_display--timeDiv--Y0hTB";var y=(e=>(e.XSMALL="xsmall",e.MEDIUM="medium",e.LARGE="large",e.XLARGE="xlarge",e))(y||{}),v=(e=>(e.DEFAULT="DEFAULT",e.SECONDARY="SECONDARY",e.TERTIARY="TERTIARY",e))(v||{});let b=({minutesRef:e,disabled:t})=>{n.useLayoutEffect(()=>{t||(e.current?.focus(),e.current?.select())},[t,e])};function C({timerActions:e,timerState:t,isStopped:a,withoutUnderline:r,withoutClockDisplay:l,isInUI3Toolbar:i,size:s="medium"}){let c=(0,m.M2)(e,t);return b({minutesRef:c.minutesRef,disabled:o.Ay.isMeetDevice}),n.createElement(n.Fragment,null,a?n.createElement(x,{timerState:t,timerEventHandlers:c,withoutUnderline:r,withoutClockDisplay:l,size:s}):n.createElement(w,{withoutUnderline:r,withoutClockDisplay:l,size:s,isInUI3Toolbar:i}))}function w(e){let{withoutUnderline:t,withoutClockDisplay:a,withoutTimeShadow:r,withoutFlashOnPause:l,size:o,isSelected:s,prominence:c,timeDivRef:m,isInUI3Toolbar:p}=e,_=(0,i.md)(u.jo),f=(0,i.md)(u.Ld);return n.createElement(k,{timeInSeconds:f,withoutUnderline:t,withoutClockDisplay:a,withoutTimeShadow:r,flashing:(0,d.CM)(_.time)&&!l,size:o,isSelected:s,prominence:c,timeDivRef:m,isInUI3Toolbar:p})}function k(e){let{timeInSeconds:t,withoutUnderline:a,withoutClockDisplay:r,withoutTimeShadow:i,flashing:o,size:c,isSelected:u,prominence:m,timeDivRef:y,isInUI3Toolbar:v}=e,{seconds:b,minutes:C}=(0,s._d)(t);return n.createElement("div",{className:l()({[h]:!r})},n.createElement("div",{ref:y,className:l()(E,{[p]:"xsmall"===c,[_]:"medium"===c,[f]:"large"===c,[g]:"xlarge"===c,"time_display--selected--Idl4y":u,"time_display--secondary--r44Yf":"SECONDARY"===m,"time_display--tertiary--oyx7n":"TERTIARY"===m,"time_display--inUI3Toolbar--SFjvm":v})},!r&&!i&&n.createElement(T,{size:c,withoutUnderline:a}),n.createElement("div",{className:l()("time_display--timeDisplay--MuaRS",{"time_display--flashing--1Hw1m":o,[p]:"xsmall"===c,[_]:"medium"===c,[f]:"large"===c,[g]:"xlarge"===c})},n.createElement(N,{isMinute:!0,size:c,value:(0,d.YI)(C),displayOnly:!0}),":",n.createElement(N,{size:c,value:(0,d.YI)(b),displayOnly:!0}))))}function x({timerState:e,timerEventHandlers:t,withoutUnderline:a,withoutClockDisplay:r,size:i}){let{handleMinutesChange:o,handleMinutesKeyDown:s,handleMinutesBlur:c,handleMinutesFocus:d,handleSecondsChange:u,handleSecondsKeyDown:m,handleSecondsBlur:p,handleSecondsFocus:y,secondsRef:v,minutesRef:b}=t;return n.createElement(n.Fragment,null,n.createElement("div",{className:l()({[h]:!r})},n.createElement("div",{className:l()(E,{[_]:"medium"===i,[f]:"large"===i,[g]:"xlarge"===i})},n.createElement(T,{size:i,withoutUnderline:a}),n.createElement("div",null,n.createElement(N,{ref:b,onFocus:d,onChange:o,onKeyDown:s,onBlur:c,value:e.minutes,size:i,isMinute:!0}),":",n.createElement(N,{ref:v,onChange:u,onFocus:y,onKeyDown:m,onBlur:p,value:e.seconds,size:i})))))}function T(e){return n.createElement("div",{className:l()("time_display--timeShadow--dyosl",{[p]:"xsmall"===e.size,[_]:"medium"===e.size,[f]:"large"===e.size,[g]:"xlarge"===e.size})},n.createElement(N,{isMinute:!0,size:e.size,value:88,displayOnly:!0}),":",n.createElement(N,{size:e.size,value:88,displayOnly:!0}),!e.withoutUnderline&&n.createElement("div",{className:"time_display--timeInputUnderline--4Gxkr"}))}let N=n.forwardRef((e,t)=>{let{size:a,isMinute:r,onFocus:i,onChange:o,onKeyDown:s,onBlur:d,value:u,displayOnly:m}=e,h=l()("time_display--timeInput--4Evh3",{"time_display--minute--Q8e3H":r,[p]:"xsmall"===a,[_]:"medium"===a,[f]:"large"===a,[g]:"xlarge"===a});return m?n.createElement("span",{className:h,"data-testid":"stopped-time"},u):n.createElement("input",{maxLength:2,type:"text",inputMode:"numeric",ref:t,onFocus:i,onChange:o,onKeyDown:s,onBlur:d,className:h,value:u,"aria-label":r?(0,c.t)("whiteboard.timer.minutes.aria_label"):(0,c.t)("whiteboard.timer.seconds.aria_label")})});N.displayName="TwoDigitTimeInput"},802174:(e,t,a)=>{a.d(t,{Jg:()=>U,M2:()=>D,OI:()=>T,YO:()=>G,ey:()=>H,rJ:()=>x});var n=a(411855),r=a(188507),l=a(179479),i=a(966712),o=a(374626),s=a(286640),c=a(244673),d=a(974105),u=a(857766),m=a(283942),p=a(335682),_=a(860178),f=a(960628),g=a(247014),h=a(951840),E=a(728406),y=a(68517);let v=null,b=null,C=null,w=()=>(0,r.d4)(e=>e.music.playerInstance),k=()=>1e3;function x(){let[e,t]=n.useState({}),a=(0,r.d4)(e=>e.timer);n.useEffect(()=>{if(!a||!a.time||a?.time?.isPaused)return;let e=setTimeout(()=>t({}),k());return()=>{clearTimeout(e)}},[e,a,a.time?.isPaused])}function T(){let e=(0,r.d4)(e=>e.timer),t=(0,r.d4)(e=>(0,d.d1)(e)),a=(0,r.d4)(e=>t?(0,u.L8)(t,e.repos):null),n=Math.ceil((0,E.P$)(e.time)/1e3);n>0?(0,c.rF)(t,a,n):(0,c.rF)(t,a)}let N=()=>{C&&C.pause(),v&&v.pause(),b&&b.pause(),v=new Audio(L),b=new Audio(A),C=new Audio(I)},S=(e,t,a,n,r,l)=>{if(!a.current||!e)return;let i=(0,E.P$)(a.current.time);if("add-minutes"===e.lastAction.type){if(v&&v.pause(),l.current?.resetFades(),l.current?.fadeIn({}),!a.current.time||0===a.current.time.totalTimeMs)return;let n=6e4*e.lastAction.minutes;a.current.time&&i+n<E.y0&&t(c.VV({timer:a.current.time,deltaMs:n}))}"start-timer"===e.lastAction.type&&((0,s.DN)().set("last-timer-set-time",e.lastUsedTime),t(c.Qv({totalTimeMs:1e3*e.lastUsedTime,musicStartTimeMs:a.current.musicStartTimeMs})),C&&n.current&&!r.current&&e.lastUsedTime>5&&(0,E.PF)(C,n.current)),"pause-timer"===e.lastAction.type&&t(c._1(a.current.time)),"resume-timer"===e.lastAction.type&&t(c.ne(a.current.time)),"stop-timer"===e.lastAction.type&&(N(),t(c.Vk()))},I="https://static.figma.com/uploads/304a1a341a619feb4af7d377c75dd325534e1734",A="https://static.figma.com/uploads/f45e11344ee4f618173695e2405a9a988affc910",L="https://static.figma.com/uploads/54a944bea3fce3ca45c91429993683685bec5782",O=()=>{n.useEffect(()=>{null===C&&(C=new Audio(I)),null===b&&(b=new Audio(A)),null===v&&(v=new Audio(L))},[])},M=e=>{let t=(0,l.F)(e),a=(0,r.wA)(),i=(0,r.d4)(e=>e.timer),o=(0,l.F)(i),s=(0,l.F)((0,r.d4)(e=>e.timer.volume)),c=(0,l.F)((0,r.d4)(e=>e.timer.isMuted)),d=(0,l.F)(w());n.useEffect(()=>{S(e,a,o,s,c,d)},[t,a,c,d,o,e,s])},P=()=>{let e=(0,r.wA)(),t=(0,l.F)((0,r.d4)(e=>e.timer.volume)),a=(0,l.F)((0,r.d4)(e=>e.timer.setBy)),i=(0,l.F)((0,_.iZ)()),o=(0,l.F)((0,r.d4)(e=>e.timer.isMuted)),s=(0,l.F)(w()),d=(0,r.d4)(e=>e.music.music);return{callbackToRunAtFiveSecondsLeft:n.useCallback((a,n)=>{a.current&&v?.paused&&!o.current&&(s.current&&s.current.fadeOut({fadeOutLength:5e3,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0}),(0,E.PF)(v,t.current)),n.current||e(c.lu({state:"open",userInitiated:!1}))},[e,o,s,t]),callbackToRunWhenTimerFinishes:n.useCallback((a,n)=>{v&&v.pause(),a.current&&b&&!o.current&&(0,E.PF)(b,t.current),f.d1.timerChange("timerdone"),n.current||e(c.lu({state:"open",userInitiated:!1}))},[e,o,t]),callbackToRunAfterAnimationFinishes:n.useCallback(t=>{if(d&&e(c.c$(d)),"visible"===document.visibilityState)e(c.Vk()),t({type:"reset-state"}),a.current!==i.current?.name&&e(c.lu({state:"closed",userInitiated:!1}));else{let t=()=>{e(c.lu({state:"open",userInitiated:!1})),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}N(),s.current?.resetFades()},[i,e,d,a,s])}},R=e=>{let t=(0,r.wA)(),a=(0,r.d4)(e=>e.timer.time),i=(0,l.F)((0,r.d4)(e=>e.timer.audioEnabled)),o=(0,l.F)((0,r.d4)(e=>e.timer&&"open"===e.timer.modalState)),s=(0,l.F)((0,r.d4)(e=>e.timer.volume)),c=(0,l.F)(w()),d=(0,r.d4)(e=>e.timer.isMuted),u=!a||a.isPaused,m=(0,r.d4)(e=>e.music.music?.isPaused),{callbackToRunAtFiveSecondsLeft:p,callbackToRunWhenTimerFinishes:_,callbackToRunAfterAnimationFinishes:f}=P();n.useEffect(()=>{if(u){v&&v.pause(),!1===m&&c.current?.fadeIn({fadeInLength:1e3});return}let t=(0,E.P$)(a);t<5e3&&i.current&&v?.paused&&!d&&(0,E.PF)(v,s.current),v&&(v.muted=d),t>5e3&&v&&(v.pause(),c.current?.resetFades(),c.current?.fadeIn({}));let n=[];return t>5e3&&n.push(window.setTimeout(()=>p(i,o),t-5e3)),n.push(window.setTimeout(()=>_(i,o),t)),n.push(window.setTimeout(()=>f(e),t+E.cu)),()=>{n.forEach(clearTimeout)}},[a,u,t,e,_,f,p,o,s,i,c,d,m])};function D(e,t){let{setMinutes:a,setSeconds:l,startTimer:i,setTime:o,addMinutes:s}=e,d=n.useRef(null),u=n.useRef(null),p=(0,r.wA)(),_=n.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}a(e.currentTarget.value),e.currentTarget.value.length>1&&u.current?.select()},[u,a]),f=n.useCallback(e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key)isNaN(parseInt(e.currentTarget.value))||(s(("ArrowUp"===e.key?1:-1)*(e.shiftKey?5:1)),setTimeout(()=>d.current?.select(),0),e.preventDefault());else if("ArrowRight"===e.key&&d.current){if(d.current.selectionStart===d.current.value.length&&u.current){u.current.select(),e.preventDefault();return}}else if("Enter"===e.key)i();else if("Escape"===e.key){p(c.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(":"===e.key){u.current?.select(),e.preventDefault();return}else(0,m.jr)(e)},[s,p,i]),g=n.useCallback(()=>{if(!d.current)return;let e=d.current.value;0===e.length?a("00"):e.length<2?a(`0${e}`):a(e)},[d,a]),h=n.useCallback(()=>{d.current?.select()},[d]),y=n.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}let a=parseInt(e.currentTarget.value);a>59&&"99"!==t.minutes?(a-=60,o((0,E.YI)(parseInt(t.minutes)+1),(0,E.YI)(a))):a>59?l((0,E.YI)(59)):(a<60||isNaN(a))&&l(e.currentTarget.value)},[l,o,t.minutes]);return{handleMinutesChange:_,handleMinutesKeyDown:f,handleMinutesBlur:g,handleMinutesFocus:h,handleSecondsChange:y,handleSecondsKeyDown:n.useCallback(e=>{let n;if("ArrowLeft"===e.key&&u.current){if(0===u.current.selectionEnd&&d.current){d.current.select(),e.preventDefault();return}}else if("Enter"===e.key){""!==t.minutes&&""!==t.seconds&&parseInt(t.minutes)+parseInt(t.seconds)!==0&&i();return}else if("Escape"===e.key){p(c.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(u.current?.value===""&&"Backspace"===e.key&&d.current?.value){a(d.current.value.substring(0,d.current.value.length-1)||"0"),d.current.focus(),e.preventDefault();return}if((0,m.jr)(e)||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;let r=parseInt(t.seconds);if(!isNaN(r)){if("ArrowUp"===e.key){if((r+=e.shiftKey?5:1)>59&&"99"===t.minutes)return;r>=60&&(r-=60,n=1)}else if("ArrowDown"===e.key&&(r-=e.shiftKey?5:1)<0){if(0===parseInt(t.minutes))return;n=-1,r+=60}setTimeout(()=>u.current?.select(),0),e.preventDefault(),n?o((0,E.YI)(parseInt(t.minutes)+n),(0,E.YI)(r)):l((0,E.YI)(r))}},[p,d,u,a,l,o,i,t.minutes,t.seconds]),handleSecondsBlur:n.useCallback(()=>{l((0,E.YI)(parseInt(t.seconds||"00")))},[l,t.seconds]),handleSecondsFocus:n.useCallback(()=>{u.current?.select()},[u]),secondsRef:u,minutesRef:d}}let F=(e,t)=>{n.useEffect(()=>{e.length>0&&e.forEach(e=>{e&&(e.volume=t/100)})},[e,t])},B=e=>{let t=(0,p.q5)(),a=(0,r.d4)(e=>e.multiplayer.allUsers.length),l=n.useRef(a);return l.current=a,n.useCallback(()=>{(0,i.kc)().workspace_activity_write&&t&&t.team&&t.team.workspaceId&&h.i.recordActivity({activityUnitType:g.qj.FILE_COLLABORATION,fileKey:t.key,collaborationType:g.Uz.TIMER_STARTED,numPeopleInFile:l.current}),e({type:"start-timer"})},[e,t,l])};function U(){let[e,t]=(0,o.fp)(y.$),a=(0,r.d4)(e=>e.timer.volume),i=(0,l.F)((0,r.d4)(e=>e.timer.volume)),s=(0,l.F)((0,r.d4)(e=>e.timer.isMuted)),c=n.useRef(e.lastUsedTime),d=B(t);return[e,n.useMemo(()=>({setMinutes:e=>t({type:"set-minutes",minutes:e}),setSeconds:e=>t({type:"set-seconds",seconds:e}),setTime:(e,a)=>t({type:"set-time",minutes:e,seconds:a}),addMinutes:e=>t({type:"add-minutes",minutes:e}),startTimer:d,stopTimer:()=>t({type:"stop-timer"}),pauseTimer:()=>t({type:"pause-timer"}),resumeTimer:()=>t({type:"resume-timer"}),playStartChime:()=>{C&&i.current&&!s.current&&c.current>5&&(0,E.PF)(C,a)}}),[i,s,a,t,d])]}function G(){O();let[e,t]=(0,o.fp)(y.$),a=(0,r.d4)(e=>e.timer.volume);R(t),M(e),F([v,C,b],a)}function H(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.timer);n.useEffect(()=>{!1!==a.startChimePlayed||(0,E.IQ)(a.time)||(0,E.CM)(a.time)||(0,E.G8)(a.time)||(e(),t(c.k1(!0)))},[t,e,a.startChimePlayed,a.time])}},136068:(e,t,a)=>{a.d(t,{s1:()=>w,aY:()=>k,nh:()=>b,J:()=>y});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(602126),s=a(860601),c=a(939863),d=a(244673),u=a(498606),m=a(227795),p=a(728406),_=a(304298),f=a(99351),g=a(466811),h=a(311986),E=a(10448),y=(e=>(e.DEFAULT="default",e.ON_FIGJAM="onFigjam",e.FIGJAM="figjam",e))(y||{});let v=(e,t)=>t||0===e?E.A:e<40?g.A:e<80?h.A:f.A;var b=(e=>(e.DEFAULT="default",e.LARGE="large",e))(b||{});function C(e){let{isMinimized:t,withDarkHoverBg:a,muteButtonRef:l,muteOnTouch:o,iconColor:p,blockTooltip:_,size:f}=e,g=(0,r.d4)(e=>e.music.volume),h=(0,r.d4)(e=>e.music.isMuted),E=(0,r.wA)(),y=n.useCallback(()=>{E(d.tk({isMuted:!h,userInitiated:!0}))},[E,h]),b=n.useCallback(e=>{e.preventDefault(),e.stopPropagation(),y()},[y]);return n.createElement("div",{onTouchEnd:o?b:s.lQ},n.createElement(m.K0,{onClick:y,className:i()("volume_control_button--button--6JyR-",{"volume_control_button--minimized--esj8w":t,"volume_control_button--withDarkHoverBg--p-OS1":a,"volume_control_button--defaultSpeakerColor--ZF9o2":"default"===p,"volume_control_button--figjamSpeakerColor--0W5TO":"figjam"===p,"volume_control_button--onFigjamSpeakerColor--KEcX8":"onFigjam"===p,"volume_control_button--large--BF5Mq":"large"===f}),svg:v(g,h),"data-tooltip-type":u.Ib.TEXT,tooltipForScreenReadersOnly:_,"data-tooltip":h?(0,c.t)("whiteboard.timer.timer_unmute_tooltip"):(0,c.t)("whiteboard.timer.timer_mute_tooltip"),"data-tooltip-show-above":!0,ref:l}))}var w=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALWAYS=1]="ALWAYS",e[e.NEVER=2]="NEVER",e))(w||{});function k({volumeJustification:e,sliderVisibilitySetting:t,sliderFullWidth:a,buttonGap:l,isMinimized:i,withDarkHoverBg:s,iconColor:c,blockButtonTooltip:d,muteOnTouch:u,size:m}){let f=n.useRef(-1),[g,h]=n.useState(!1),E=n.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>{h(!0)},100)},[h]),y=n.useCallback(()=>{f.current&&clearTimeout(f.current),h(!1)},[h]),v=n.useRef(null),b=n.useCallback(()=>{y()},[y]);(0,o.Xq)(v,"touchend",b);let w=n.useRef(null),k=(0,r.d4)(e=>e.timer),x=(0,p.IQ)(k.time);n.useEffect(()=>{x&&h(!1)},[x]),n.useEffect(()=>{h(!1)},[t]);let T=g;switch(t){case 1:T=!0;break;case 2:T=!1}return n.createElement("div",{ref:v,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),g?y():E()},onMouseEnter:E,onMouseLeave:y,className:"volume_control_button--volumeButtonAndSliderContainer--HyG-F",style:{gap:l}},n.createElement(C,{muteButtonRef:w,isMinimized:i,withDarkHoverBg:s,iconColor:c,blockTooltip:d,muteOnTouch:u,size:m}),T&&n.createElement(_.S,{muteButtonRef:w,volumeJustification:e,fullWidth:a,isMinimized:i}))}},304298:(e,t,a)=>{a.d(t,{Z:()=>u,S:()=>m});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(244673),s=a(893606);let c="volume_slider--incognito--1BzqQ",d="volume_slider--thick--OwB1Y";var u=(e=>(e.LEFT="LEFT",e.RIGHT="RIGHT",e.CENTER="CENTER",e.INLINE="INLINE",e))(u||{});function m({muteButtonRef:e,volumeJustification:t,fullWidth:a,isMinimized:l}){let u=(0,r.d4)(e=>e.music.isMuted),m=(0,r.d4)(e=>u?0:e.music.volume),p=(0,s.R)(),_=(0,r.wA)(),f=e=>{e.preventDefault(),e.stopPropagation();let t=Number(e.target.value);_(o.pX(t))},g=0,h=0;if("INLINE"!==t){let a=e.current?.getClientRects()[0];if(!a)return n.createElement(n.Fragment,null," ");g=a.x,"CENTER"===t?g+=(a.width-144)/2:"RIGHT"===t&&(g=g+a.width-144),h=(a.y||0)+32+5}let E=m-(m-50)/50*3.8;return n.createElement("div",{className:i()("volume_slider--volumeContainer--jqCRj",{"volume_slider--volumeContainerRelative--2bSYx":"INLINE"===t,[c]:!l,[d]:!l&&p,"volume_slider--fullWidth--jnzDi":a}),style:{left:`${g||0}px`,top:`${h}px`}},n.createElement("input",{className:i()("volume_slider--volumeSliderInput--RHbwq",{"volume_slider--isMuted--cDjt7":u,[c]:!l&&!p,[d]:!l&&p}),style:{background:`linear-gradient(to right,
            var(--active-slider-color) 0%,
            var(--active-slider-color) ${E}%,
            var(--inactive-slider-color) ${E}%,
            var(--inactive-slider-color) 100%
          )`},type:"range",min:0,max:100,step:1,value:m,onChange:f,onMouseUp:e=>{let t=Number(e.target.value);_(o.tk({isMuted:0===t,userInitiated:!0}))},onInput:f,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()}}),"INLINE"!==t&&n.createElement("div",{className:i()({"volume_slider--additionalHoverDetection--IDArn":!l,"volume_slider--shallowAdditionalHoverDetection---8pNd":l})}))}},194092:(e,t,a)=>{a.d(t,{J:()=>P});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(374626),s=a(153234),c=a(939863),d=a(226055),u=a(369870),m=a(498606),p=a(318137),_=a(669074),f=a(322907),g=a(728406),h=a(802174),E=a(136068),y=a(304298),v=a(140871),b=a(522322),C=a(900073),w=a(487392),k=a(931828),x=a(309798);let T=e=>e.multiplayer.allUsers.filter((e,t,a)=>t===a.findIndex(t=>t.userID===e.userID)).length,N="seen_figjam_meetings_panel_gleam";var S=a(358145);let I={duration:1500,fill:"none"};function A(){return n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%"}},n.createElement("g",{filter:"url(#filter0_d_3305_12330)"},n.createElement("path",{d:"M20.2469 10.6915L20.2471 10.6913C21.1037 9.81654 20.693 8.21534 19.3809 8.01578C19.3809 8.01577 19.3808 8.01576 19.3807 8.01575L14.8346 7.32381L12.7941 2.99403C12.2333 1.80375 10.5666 1.79999 10.0055 2.99476C10.0054 2.99498 10.0053 2.99521 10.0052 2.99543L7.96535 7.32381L3.41928 8.01575C3.41921 8.01576 3.41914 8.01577 3.41908 8.01578C2.107 8.21534 1.69633 9.81654 2.55291 10.6913L2.55308 10.6915L5.86693 14.0741L5.08327 18.8605C5.08326 18.8606 5.08325 18.8606 5.08324 18.8607C4.88746 20.0559 6.12574 21.1809 7.34457 20.5087L11.4 18.2756L15.4554 20.5087C15.4556 20.5088 15.4558 20.5088 15.456 20.5089C16.6746 21.1805 17.9125 20.0557 17.7168 18.8607C17.7167 18.8606 17.7167 18.8606 17.7167 18.8605L16.9331 14.0741L20.2469 10.6915Z",fill:"#FFC700",stroke:"white",strokeWidth:"1.8"}),n.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint0_linear_3305_12330)"}),n.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint1_linear_3305_12330)"}),n.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",stroke:"white",strokeWidth:"1.8"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_d_3305_12330",x:"-1.5",y:"-1",width:"27",height:"27",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"0.5"}),n.createElement("feGaussianBlur",{stdDeviation:"0.75"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_12330"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3305_12330",result:"shape"})),n.createElement("linearGradient",{id:"paint0_linear_3305_12330",x1:"13.5",y1:"12",x2:"21.9",y2:"21.6",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#F7C000"}),n.createElement("stop",{offset:"1",stopColor:"#E8B604"})),n.createElement("linearGradient",{id:"paint1_linear_3305_12330",x1:"21.9",y1:"21.6",x2:"13.5",y2:"12",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),n.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}let L="meeting_tools_toolbar--withHover--r7Sks",O="meeting_tools_toolbar--selected--Lt0iR",M="meeting_tools_toolbar--hide--t1ZI-";function P(){let e=(0,d.GS)(),t=(0,o.md)(C.Qs),a=(0,w.qU)(),l=(0,w.MR)(),_=(0,w.II)(),[A]=(0,h.Jg)(),{renderGleam:P}=function(e){let[t,a]=n.useState(!1),l=(0,r.d4)(T),i=(0,x.f)(N),o=(0,r.wA)(),s=l>1&&!i;return n.useEffect(()=>{if(!s)return;let t=window.setTimeout(()=>{a(!0),o(k.b({[N]:!0}))},e?.delay_ms||1e4);return()=>clearTimeout(t)},[s,e?.delay_ms,o]),{renderGleam:t}}({delay_ms:2e3}),F=n.useCallback(()=>{t.isOpen?a({source:w.OO.MEETINGS_TOOLBAR}):l({source:w.OO.MEETINGS_TOOLBAR})},[t,a,l]),B=function(){let e=(0,d.GS)(),t=(0,w.II)();if(0===t.length)return"ALL";let a=1===t.length&&t.includes(C.sx.TIMER);return 1===t.length&&t.includes(C.sx.VOTING)||2===t.length&&t.includes(C.sx.VOTING)&&t.includes(C.sx.TIMER)?"VOTE":e&&a?"NONE":"MUSIC"}(),U=function(){let e=(0,w.II)(),t=(0,d.GS)();return 0===e.length?t?f.sD.SECONDARY:f.sD.TERTIARY:e.includes(C.sx.TIMER)&&e.includes(C.sx.VOTING)?f.sD.SECONDARY:f.sD.DEFAULT}(),G=_.includes(C.sx.TIMER)||0===_.length,H=_.includes(C.sx.MUSIC),V=function(){let e=(0,w.II)(),t=(0,v.C3)(),a=(0,r.d4)(e=>e.music.music),n=a?.selectedSongID||"",l=(0,p.N)(n);return e.includes(C.sx.VOTING)&&t?(0,b.DG)(t):e.includes(C.sx.MUSIC)&&1===e.length?l?.title:void 0}(),K=n.useRef(null),z=n.useRef(null),W=n.useRef(null),j=n.useRef(null),q=n.useRef(null);!function(e,t,a,r,l,i,s){let[c,d]=n.useState([]);n.useLayoutEffect(()=>{let n={transform:"scale(1)",boxShadow:"0px 0px 0px 0px var(--color-border)"},i={backgroundColor:"var(--color-bg-figjam)"};s&&(i.borderColor="var(--color-bg-figjam)");let o=new KeyframeEffect(e.current,[{offset:0,...n},{offset:.2,...n},{offset:.4,transform:"scale(1.05)",boxShadow:"0px 2.5px 5px 0px var(--color-border)"},{offset:.5,...n},{offset:.6,transform:"scale(1.025)",boxShadow:"0px 1.25px 2.5px 0px var(--color-border)"},{offset:.8,...n},{offset:1,...n}],I),c=new KeyframeEffect(l.current,[{offset:.4,...i},{offset:.62,...i},{offset:.77,backgroundColor:"var(--color-bg-secondary)"}],I),u=new KeyframeEffect(t.current,[{offset:0,backgroundColor:"#959595"},{offset:.5,backgroundColor:"#959595"},{offset:1,backgroundColor:"var(--color-bg-figjam)"}],I),m=new KeyframeEffect(r.current,[{offset:0,filter:"grayscale(80%)"},{offset:.5,filter:"grayscale(80%)"},{offset:1,filter:"grayscale(0%)"}],I),p=new KeyframeEffect(a.current,s?[{offset:.4,color:"var(--color-text-onfigjam)"},{offset:.62,color:"var(--color-text-onfigjam)"}]:[{offset:.4,color:"var(--color-text-onfigjam-tertiary)"},{offset:.62,color:"var(--color-text-onfigjam-tertiary)"},{offset:.77,color:"var(--color-text-tertiary)"}],I);d([s?void 0:o,u,p,m,c].filter(e=>!!e).map(e=>new Animation(e,document.timeline)))},[e,t,a,r,l,s]),function(e,t,a){let r=(0,S.ZC)(e),l=(0,o.md)(C.Qs),i=(0,w.II)(),s=l.isOpen||i.length>0;n.useEffect(()=>{s||(e&&!r&&t(),!e&&r&&a())},[e,t,a,r,i,s])}(i,n.useCallback(()=>{c.forEach(e=>{e.playbackRate=1,e.play()})},[c]),n.useCallback(()=>{c.forEach(e=>{e.playbackRate=-1,e.play()})},[c]))}(K,W,j,q,z,P,e);let Y=function(e){let t=(0,o.md)(C.Qs),a=(0,w.II)();return!e&&!t.isOpen&&0===a.length}(P),X=(0,w.$3)(),J=(0,b.Av)(),Z=e?t.isOpen||_.length>0:t.isOpen;return n.createElement("div",{ref:K,className:i()("meeting_tools_toolbar--toolbarItemContainer--3HgdD",{"meeting_tools_toolbar--meetDeviceToolbarItemContainer--8R79s":(0,u.eM)(),"meeting_tools_toolbar--hasVolumeControl--jaTZr":H})},n.createElement("button",{ref:z,className:i()("meeting_tools_toolbar--toolbarItemButton--VBNmh",{[O]:Z,[L]:!X}),onClick:s.rf("meetingsPanelToolbar","click",F),"data-tooltip-type":m.Ib.TEXT,"data-tooltip":J?(0,c.t)("meetings_panel.toolbar_tooltip"):(0,c.t)("meetings_panel.toolbar_tooltip.no_voting"),"aria-label":J?(0,c.t)("meetings_panel.toolbar.aria_label"):(0,c.t)("meetings_panel.toolbar.aria_label.no_voting"),"aria-pressed":Z,"data-onboarding-key":"meeting-panel-button"},n.createElement(R,{icon:B,maskRef:W,starContainerRef:q,renderAsPreGleam:Y,isUI3:e}),n.createElement("div",{className:i()("meeting_tools_toolbar--textWrapper--eikYA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[O]:Z})},V),n.createElement(D,{width:V&&G?8:0}),n.createElement("div",{className:i()("meeting_tools_toolbar--minimizedTimerWrapper--adc47",{[M]:!G})},_.includes(C.sx.TIMER)?n.createElement(n.Fragment,null,n.createElement(f.k$,{isSelected:Z,prominence:U,size:f.ZP.XSMALL,withoutTimeShadow:!0,withoutFlashOnPause:!0,withoutUnderline:!0,timeDivRef:j,isInUI3Toolbar:e})):n.createElement(n.Fragment,null,n.createElement(f.p0,{isSelected:Z,prominence:U,size:f.ZP.XSMALL,withoutTimeShadow:!0,withoutUnderline:!0,timeDivRef:j,timeInSeconds:(0,g.RE)(A),isInUI3Toolbar:e})))),_.includes(C.sx.MUSIC)&&n.createElement("div",{className:i()("meeting_tools_toolbar--volumeControlContainer--gXf-m",{[O]:Z,[M]:!_.includes(C.sx.MUSIC),[L]:!X})},n.createElement(E.aY,{volumeJustification:y.Z.CENTER,isMinimized:!0,iconColor:Z?e?E.J.FIGJAM:E.J.ON_FIGJAM:E.J.DEFAULT,blockButtonTooltip:!0,sliderVisibilitySetting:t.isOpen||X?E.s1.NEVER:E.s1.DEFAULT,muteOnTouch:X,size:e?E.nh.LARGE:E.nh.DEFAULT})))}function R({icon:e,maskRef:t,starContainerRef:a,renderAsPreGleam:r,isUI3:l}){return"NONE"===e?null:n.createElement("div",{className:i()("meeting_tools_toolbar--iconContainer--n2hs5",{"meeting_tools_toolbar--single--h9cHX":"ALL"!==e})},n.createElement("div",{className:i()("meeting_tools_toolbar--recordIcon--D6vfx meeting_tools_toolbar--icon--EVBBt",{[M]:"MUSIC"!==e&&"ALL"!==e})},n.createElement(_.m,{size:"xsmall",maskAlbumArtWhenPaused:!0,maskRef:t,useGrayMask:r,useLightShadow:l})),n.createElement("div",{className:i()("meeting_tools_toolbar--starIcon--37MdY meeting_tools_toolbar--icon--EVBBt",{"meeting_tools_toolbar--leftAlign--G1Vob":"VOTE"===e,[M]:"VOTE"!==e&&"ALL"!==e})},n.createElement("div",{ref:a,className:i()("meeting_tools_toolbar--starContainer--4lbzy",{"meeting_tools_toolbar--grayedOut--deQf-":r})},n.createElement(A,null))))}function D(e){return n.createElement("div",{style:{width:e.width||0}})}var F=(e=>(e.ALL="ALL",e.MUSIC="MUSIC",e.VOTE="VOTE",e.NONE="NONE",e))(F||{})},488914:(e,t,a)=>{a.d(t,{Cx:()=>s,Tb:()=>o,UT:()=>c});var n=a(38580),r=a(368702);let l=(0,n.eU)({type:"CLOSED"}),i=(0,n.eU)(e=>e(l),(e,t,a)=>{t(l,a)}),o=(0,n.eU)(e=>e(i));(0,n.eU)(null,(e,t,a)=>{if(!a||!a.trim()){t(i,{type:"ALL"});return}t(i,{type:"SEARCH",searchQuery:a})}),(0,n.eU)(null,(e,t)=>{t(i,{type:"ALL"})});let s=(0,n.eU)(null,(e,t)=>{t(i,{type:"CLOSED"})}),c=(0,n.eU)(null,(e,t)=>{(0,r.W)("left",()=>{t(s)}),t(i,{type:"ALL"})})},655515:(e,t,a)=>{a.d(t,{Cx:()=>s,ET:()=>i,UT:()=>o});var n=a(38580),r=a(368702);let l=(0,n.eU)(!1),i=(0,n.eU)(e=>e(l)),o=(0,n.eU)(null,(e,t)=>{(0,r.W)("left",()=>{t(s)}),t(l,!0)}),s=(0,n.eU)(null,(e,t)=>{t(l,!1)})},2342:(e,t,a)=>{a.d(t,{w:()=>c});var n=a(411855),r=a(629019),l=a.n(r),i=a(799569),o=a(762638),s=a(226055);function c({showBottomBorder:e=!0,title:t,onClose:a,badge:r,backButton:c,inputField:d,closeButtonInnerText:u}){return(0,s.GS)()?function({title:e,onClose:t,badge:a,closeButtonInnerText:r}){return n.createElement("div",{className:"figjam_panel_header--headerContainer--fVdY4"},n.createElement("div",{className:"figjam_panel_header--title--n9fHo"},e),n.createElement("div",{className:o.cx.flex.itemsCenter.gap4.$},a,n.createElement(i.Jn,{onClick:t,innerText:r||"close"})))}({title:t,onClose:a,badge:r,closeButtonInnerText:u}):function({showBottomBorder:e,title:t,onClose:a,badge:r,backButton:s,inputField:c,closeButtonInnerText:d}){return n.createElement(n.Fragment,null,n.createElement("div",{className:l()("figjam_panel_header--headerContainerUI2--9ku6y",{[o.cx.pl8.$]:s,[o.cx.pl16.$]:!s,"figjam_panel_header--withBottomBorder--TYv8K":e})},n.createElement("div",{className:o.cx.flex.itemsCenter.gap4.$},s,n.createElement("div",{className:o.cx.font13.fontSemiBold.$},t)),n.createElement("div",{className:o.cx.flex.itemsCenter.gap4.$},r,n.createElement(i.Jn,{onClick:a,innerText:d||"close"}))),c&&n.createElement("div",{className:o.cx.pt12.px16.pb20.$},c))}({showBottomBorder:e,title:t,onClose:a,badge:r,backButton:c,inputField:d,closeButtonInnerText:u})}},861717:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(411855),r=a(629019),l=a.n(r),i=a(522739),o=a(672517),s=a(516398),c=a(498606);let d=(0,n.memo)((0,n.forwardRef)(function({tooltip:e,isActive:t,onClick:a,recordingKey:r,dataElementTarget:o,onboardingKey:d,disabled:u,dataTestId:m,children:p},_){let f=l()("figjam_right_panel_button--button--Ul-Xf",{"figjam_right_panel_button--active--hWdY1":t});return n.createElement(i.GG,{forwardedRef:_,className:f,"data-tooltip-type":e.type,"data-testid":m,"data-tooltip":e.type===c.Ib.TEXT?e.text:e.key,"data-element-target":o,onKeyDown:e=>(0,s.hx)({e,onClickHandler:a}),onClick:a,recordingKey:r,tabIndex:0,"aria-label":e.type===c.Ib.TEXT?e.text:e.ariaLabel,"aria-pressed":t,"data-fullscreen-intercept":!0,"data-onboarding-key":d,disabled:u},p)})),u=(0,o.tf)(d)},350730:(e,t,a)=>{a.d(t,{J:()=>l});var n=a(411855),r=a(434228);function l(e){return(0,r.O)()?n.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 2.5a.5.5 0 0 0-1 0v5h-5a.5.5 0 0 0 0 1h5v5a.5.5 0 0 0 1 0v-5h5a.5.5 0 0 0 0-1h-5z",clipRule:"evenodd"})):n.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8z",clipRule:"evenodd"}))}},293775:(e,t,a)=>{a.d(t,{C:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m4.7 4.7.315-1.26c.126-.505.844-.505.97 0L6.3 4.7l1.26.315c.505.126.505.844 0 .97L6.3 6.3l-.315 1.26c-.126.505-.844.505-.97 0L4.7 6.3l-1.26-.315c-.505-.126-.505-.844 0-.97zm4.49 4.491 1.117-3.908c.486-1.702 2.898-1.702 3.384 0L14.81 9.19l3.908 1.117c1.702.486 1.702 2.898 0 3.384L14.81 14.81l-1.117 3.908c-.486 1.702-2.898 1.702-3.384 0L9.19 14.81l-3.908-1.117c-1.702-.486-1.702-2.898 0-3.384zM10 10l1.27-4.442c.21-.735 1.25-.735 1.46 0L14 10l4.442 1.27c.735.21.735 1.25 0 1.46L14 14l-1.27 4.442c-.21.735-1.25.735-1.46 0L10 14l-4.442-1.27c-.735-.21-.735-1.25 0-1.46zm8.015 6.44L17.7 17.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0l.315-1.26 1.26-.315c.505-.126.505-.844 0-.97L19.3 17.7l-.315-1.26c-.126-.505-.844-.505-.97 0",clipRule:"evenodd"}))}},775419:(e,t,a)=>{a.d(t,{Q:()=>r});var n=a(411855);function r(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1m-1 5v6a1 1 0 0 0 1 1h3v-7zm5 7h8a1 1 0 0 0 1-1v-6h-9zM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",clipRule:"evenodd"}))}}}]);

//# debugId=4feee6e3-4cbf-5ff1-8458-6a61eb8f292f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/4e9651beda8864e8bb908773605881f6673b42f4/1288-d57587090652b23c.min.js.map